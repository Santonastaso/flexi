(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=a(l);fetch(l.href,u)}})();function qf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Tw(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var a=function i(){var l=!1;try{l=this instanceof i}catch{}return l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};a.prototype=n.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var l=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(a,i,l.get?l:{enumerable:!0,get:function(){return e[i]}})}),a}var qd={exports:{}},Qs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function Aw(){if(lv)return Qs;lv=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(i,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var f in l)f!=="key"&&(u[f]=l[f])}else u=l;return l=u.ref,{$$typeof:e,type:i,key:c,ref:l!==void 0?l:null,props:u}}return Qs.Fragment=n,Qs.jsx=a,Qs.jsxs=a,Qs}var ov;function Ow(){return ov||(ov=1,qd.exports=Aw()),qd.exports}var p=Ow(),Gd={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function Dw(){if(uv)return Ae;uv=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function T(O,q,G){this.props=O,this.context=q,this.refs=C,this.updater=G||w}T.prototype.isReactComponent={},T.prototype.setState=function(O,q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,q,"setState")},T.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function N(){}N.prototype=T.prototype;function U(O,q,G){this.props=O,this.context=q,this.refs=C,this.updater=G||w}var R=U.prototype=new N;R.constructor=U,S(R,T.prototype),R.isPureReactComponent=!0;var M=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function P(O,q,G,J,ce,Ce){return G=Ce.ref,{$$typeof:e,type:O,key:q,ref:G!==void 0?G:null,props:Ce}}function X(O,q){return P(O.type,q,void 0,void 0,void 0,O.props)}function te(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function ue(O){var q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(G){return q[G]})}var ie=/\/+/g;function ee(O,q){return typeof O=="object"&&O!==null&&O.key!=null?ue(""+O.key):q.toString(36)}function ne(){}function de(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ne,ne):(O.status="pending",O.then(function(q){O.status==="pending"&&(O.status="fulfilled",O.value=q)},function(q){O.status==="pending"&&(O.status="rejected",O.reason=q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function oe(O,q,G,J,ce){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var he=!1;if(O===null)he=!0;else switch(Ce){case"bigint":case"string":case"number":he=!0;break;case"object":switch(O.$$typeof){case e:case n:he=!0;break;case v:return he=O._init,oe(he(O._payload),q,G,J,ce)}}if(he)return ce=ce(O),he=J===""?"."+ee(O,0):J,M(ce)?(G="",he!=null&&(G=he.replace(ie,"$&/")+"/"),oe(ce,q,G,"",function(St){return St})):ce!=null&&(te(ce)&&(ce=X(ce,G+(ce.key==null||O&&O.key===ce.key?"":(""+ce.key).replace(ie,"$&/")+"/")+he)),q.push(ce)),1;he=0;var qe=J===""?".":J+":";if(M(O))for(var Le=0;Le<O.length;Le++)J=O[Le],Ce=qe+ee(J,Le),he+=oe(J,q,G,Ce,ce);else if(Le=b(O),typeof Le=="function")for(O=Le.call(O),Le=0;!(J=O.next()).done;)J=J.value,Ce=qe+ee(J,Le++),he+=oe(J,q,G,Ce,ce);else if(Ce==="object"){if(typeof O.then=="function")return oe(de(O),q,G,J,ce);throw q=String(O),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return he}function H(O,q,G){if(O==null)return O;var J=[],ce=0;return oe(O,J,"","",function(Ce){return q.call(G,Ce,ce++)}),J}function Q(O){if(O._status===-1){var q=O._result;q=q(),q.then(function(G){(O._status===0||O._status===-1)&&(O._status=1,O._result=G)},function(G){(O._status===0||O._status===-1)&&(O._status=2,O._result=G)}),O._status===-1&&(O._status=0,O._result=q)}if(O._status===1)return O._result.default;throw O._result}var se=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function pe(){}return Ae.Children={map:H,forEach:function(O,q,G){H(O,function(){q.apply(this,arguments)},G)},count:function(O){var q=0;return H(O,function(){q++}),q},toArray:function(O){return H(O,function(q){return q})||[]},only:function(O){if(!te(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ae.Component=T,Ae.Fragment=a,Ae.Profiler=l,Ae.PureComponent=U,Ae.StrictMode=i,Ae.Suspense=h,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(O){return k.H.useMemoCache(O)}},Ae.cache=function(O){return function(){return O.apply(null,arguments)}},Ae.cloneElement=function(O,q,G){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var J=S({},O.props),ce=O.key,Ce=void 0;if(q!=null)for(he in q.ref!==void 0&&(Ce=void 0),q.key!==void 0&&(ce=""+q.key),q)!V.call(q,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&q.ref===void 0||(J[he]=q[he]);var he=arguments.length-2;if(he===1)J.children=G;else if(1<he){for(var qe=Array(he),Le=0;Le<he;Le++)qe[Le]=arguments[Le+2];J.children=qe}return P(O.type,ce,void 0,void 0,Ce,J)},Ae.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ae.createElement=function(O,q,G){var J,ce={},Ce=null;if(q!=null)for(J in q.key!==void 0&&(Ce=""+q.key),q)V.call(q,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ce[J]=q[J]);var he=arguments.length-2;if(he===1)ce.children=G;else if(1<he){for(var qe=Array(he),Le=0;Le<he;Le++)qe[Le]=arguments[Le+2];ce.children=qe}if(O&&O.defaultProps)for(J in he=O.defaultProps,he)ce[J]===void 0&&(ce[J]=he[J]);return P(O,Ce,void 0,void 0,null,ce)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:f,render:O}},Ae.isValidElement=te,Ae.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:Q}},Ae.memo=function(O,q){return{$$typeof:m,type:O,compare:q===void 0?null:q}},Ae.startTransition=function(O){var q=k.T,G={};k.T=G;try{var J=O(),ce=k.S;ce!==null&&ce(G,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(pe,se)}catch(Ce){se(Ce)}finally{k.T=q}},Ae.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ae.use=function(O){return k.H.use(O)},Ae.useActionState=function(O,q,G){return k.H.useActionState(O,q,G)},Ae.useCallback=function(O,q){return k.H.useCallback(O,q)},Ae.useContext=function(O){return k.H.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O,q){return k.H.useDeferredValue(O,q)},Ae.useEffect=function(O,q,G){var J=k.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(O,q)},Ae.useId=function(){return k.H.useId()},Ae.useImperativeHandle=function(O,q,G){return k.H.useImperativeHandle(O,q,G)},Ae.useInsertionEffect=function(O,q){return k.H.useInsertionEffect(O,q)},Ae.useLayoutEffect=function(O,q){return k.H.useLayoutEffect(O,q)},Ae.useMemo=function(O,q){return k.H.useMemo(O,q)},Ae.useOptimistic=function(O,q){return k.H.useOptimistic(O,q)},Ae.useReducer=function(O,q,G){return k.H.useReducer(O,q,G)},Ae.useRef=function(O){return k.H.useRef(O)},Ae.useState=function(O){return k.H.useState(O)},Ae.useSyncExternalStore=function(O,q,G){return k.H.useSyncExternalStore(O,q,G)},Ae.useTransition=function(){return k.H.useTransition()},Ae.version="19.1.1",Ae}var cv;function Gf(){return cv||(cv=1,Gd.exports=Dw()),Gd.exports}var x=Gf();const Oe=qf(x);var Yd={exports:{}},Zs={},Kd={exports:{}},Xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function Nw(){return dv||(dv=1,(function(e){function n(H,Q){var se=H.length;H.push(Q);e:for(;0<se;){var pe=se-1>>>1,O=H[pe];if(0<l(O,Q))H[pe]=Q,H[se]=O,se=pe;else break e}}function a(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var Q=H[0],se=H.pop();if(se!==Q){H[0]=se;e:for(var pe=0,O=H.length,q=O>>>1;pe<q;){var G=2*(pe+1)-1,J=H[G],ce=G+1,Ce=H[ce];if(0>l(J,se))ce<O&&0>l(Ce,J)?(H[pe]=Ce,H[ce]=se,pe=ce):(H[pe]=J,H[G]=se,pe=G);else if(ce<O&&0>l(Ce,se))H[pe]=Ce,H[ce]=se,pe=ce;else break e}}return Q}function l(H,Q){var se=H.sortIndex-Q.sortIndex;return se!==0?se:H.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var h=[],m=[],v=1,y=null,b=3,w=!1,S=!1,C=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function M(H){for(var Q=a(m);Q!==null;){if(Q.callback===null)i(m);else if(Q.startTime<=H)i(m),Q.sortIndex=Q.expirationTime,n(h,Q);else break;Q=a(m)}}function k(H){if(C=!1,M(H),!S)if(a(h)!==null)S=!0,V||(V=!0,ee());else{var Q=a(m);Q!==null&&oe(k,Q.startTime-H)}}var V=!1,P=-1,X=5,te=-1;function ue(){return T?!0:!(e.unstable_now()-te<X)}function ie(){if(T=!1,V){var H=e.unstable_now();te=H;var Q=!0;try{e:{S=!1,C&&(C=!1,U(P),P=-1),w=!0;var se=b;try{t:{for(M(H),y=a(h);y!==null&&!(y.expirationTime>H&&ue());){var pe=y.callback;if(typeof pe=="function"){y.callback=null,b=y.priorityLevel;var O=pe(y.expirationTime<=H);if(H=e.unstable_now(),typeof O=="function"){y.callback=O,M(H),Q=!0;break t}y===a(h)&&i(h),M(H)}else i(h);y=a(h)}if(y!==null)Q=!0;else{var q=a(m);q!==null&&oe(k,q.startTime-H),Q=!1}}break e}finally{y=null,b=se,w=!1}Q=void 0}}finally{Q?ee():V=!1}}}var ee;if(typeof R=="function")ee=function(){R(ie)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,de=ne.port2;ne.port1.onmessage=ie,ee=function(){de.postMessage(null)}}else ee=function(){N(ie,0)};function oe(H,Q){P=N(function(){H(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(H){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var se=b;b=Q;try{return H()}finally{b=se}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var se=b;b=H;try{return Q()}finally{b=se}},e.unstable_scheduleCallback=function(H,Q,se){var pe=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?pe+se:pe):se=pe,H){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=se+O,H={id:v++,callback:Q,priorityLevel:H,startTime:se,expirationTime:O,sortIndex:-1},se>pe?(H.sortIndex=se,n(m,H),a(h)===null&&H===a(m)&&(C?(U(P),P=-1):C=!0,oe(k,se-pe))):(H.sortIndex=O,n(h,H),S||w||(S=!0,V||(V=!0,ee()))),H},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(H){var Q=b;return function(){var se=b;b=Q;try{return H.apply(this,arguments)}finally{b=se}}}})(Xd)),Xd}var fv;function jw(){return fv||(fv=1,Kd.exports=Nw()),Kd.exports}var Wd={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function Mw(){if(hv)return Yt;hv=1;var e=Gf();function n(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(h,m,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:h,containerInfo:m,implementation:v}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Yt.createPortal=function(h,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return u(h,m,null,v)},Yt.flushSync=function(h){var m=c.T,v=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=m,i.p=v,i.d.f()}},Yt.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},Yt.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Yt.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var v=m.as,y=f(v,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:w}):v==="script"&&i.d.X(h,{crossOrigin:y,integrity:b,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Yt.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=f(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},Yt.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,y=f(v,m.crossOrigin);i.d.L(h,v,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Yt.preloadModule=function(h,m){if(typeof h=="string")if(m){var v=f(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},Yt.requestFormReset=function(h){i.d.r(h)},Yt.unstable_batchedUpdates=function(h,m){return h(m)},Yt.useFormState=function(h,m,v){return c.H.useFormState(h,m,v)},Yt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Yt.version="19.1.1",Yt}var gv;function Py(){if(gv)return Wd.exports;gv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Wd.exports=Mw(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function kw(){if(mv)return Zs;mv=1;var e=jw(),n=Gf(),a=Py();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function f(t){if(u(t)!==t)throw Error(i(188))}function h(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(i(188));return r!==t?null:t}for(var s=t,o=r;;){var d=s.return;if(d===null)break;var g=d.alternate;if(g===null){if(o=d.return,o!==null){s=o;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===s)return f(d),t;if(g===o)return f(d),r;g=g.sibling}throw Error(i(188))}if(s.return!==o.return)s=d,o=g;else{for(var _=!1,E=d.child;E;){if(E===s){_=!0,s=d,o=g;break}if(E===o){_=!0,o=d,s=g;break}E=E.sibling}if(!_){for(E=g.child;E;){if(E===s){_=!0,s=g,o=d;break}if(E===o){_=!0,o=g,s=d;break}E=E.sibling}if(!_)throw Error(i(189))}}if(s.alternate!==o)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:r}function m(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=m(t),r!==null)return r;t=t.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),R=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function ee(t){return t===null||typeof t!="object"?null:(t=ie&&t[ie]||t["@@iterator"],typeof t=="function"?t:null)}var ne=Symbol.for("react.client.reference");function de(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ne?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case T:return"Profiler";case C:return"StrictMode";case k:return"Suspense";case V:return"SuspenseList";case te:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case R:return(t.displayName||"Context")+".Provider";case U:return(t._context.displayName||"Context")+".Consumer";case M:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return r=t.displayName||null,r!==null?r:de(t.type)||"Memo";case X:r=t._payload,t=t._init;try{return de(t(r))}catch{}}return null}var oe=Array.isArray,H=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},pe=[],O=-1;function q(t){return{current:t}}function G(t){0>O||(t.current=pe[O],pe[O]=null,O--)}function J(t,r){O++,pe[O]=t.current,t.current=r}var ce=q(null),Ce=q(null),he=q(null),qe=q(null);function Le(t,r){switch(J(he,r),J(Ce,t),J(ce,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Up(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Up(r),t=Lp(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(ce),J(ce,t)}function St(){G(ce),G(Ce),G(he)}function ut(t){t.memoizedState!==null&&J(qe,t);var r=ce.current,s=Lp(r,t.type);r!==s&&(J(Ce,t),J(ce,s))}function Vt(t){Ce.current===t&&(G(ce),G(Ce)),qe.current===t&&(G(qe),Gs._currentValue=se)}var tn=Object.prototype.hasOwnProperty,Lr=e.unstable_scheduleCallback,nn=e.unstable_cancelCallback,sr=e.unstable_shouldYield,Gn=e.unstable_requestPaint,Xt=e.unstable_now,ns=e.unstable_getCurrentPriorityLevel,lr=e.unstable_ImmediatePriority,D=e.unstable_UserBlockingPriority,$=e.unstable_NormalPriority,Y=e.unstable_LowPriority,le=e.unstable_IdlePriority,ae=e.log,re=e.unstable_setDisableYieldValue,ge=null,be=null;function Re(t){if(typeof ae=="function"&&re(t),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(ge,t)}catch{}}var ze=Math.clz32?Math.clz32:Ga,or=Math.log,Et=Math.LN2;function Ga(t){return t>>>=0,t===0?32:31-(or(t)/Et|0)|0}var Yn=256,Kn=4194304;function un(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xn(t,r,s){var o=t.pendingLanes;if(o===0)return 0;var d=0,g=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~g,o!==0?d=un(o):(_&=E,_!==0?d=un(_):s||(s=E&~t,s!==0&&(d=un(s))))):(E=o&~g,E!==0?d=un(E):_!==0?d=un(_):s||(s=o&~t,s!==0&&(d=un(s)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,s=r&-r,g>=s||g===32&&(s&4194048)!==0)?r:d}function ur(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function _a(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ll(){var t=Yn;return Yn<<=1,(Yn&4194048)===0&&(Yn=256),t}function Pl(){var t=Kn;return Kn<<=1,(Kn&62914560)===0&&(Kn=4194304),t}function rs(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function dt(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wt(t,r,s,o,d,g){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,A=t.expirationTimes,F=t.hiddenUpdates;for(s=_&~s;0<s;){var K=31-ze(s),Z=1<<K;E[K]=0,A[K]=-1;var B=F[K];if(B!==null)for(F[K]=null,K=0;K<B.length;K++){var I=B[K];I!==null&&(I.lane&=-536870913)}s&=~Z}o!==0&&Bt(t,o,0),g!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=g&~(_&~r))}function Bt(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-ze(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|s&4194090}function Mn(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var o=31-ze(s),d=1<<o;d&r|t[o]&r&&(t[o]|=r),s&=~d}}function It(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cn(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:tv(t.type))}function Pr(t,r){var s=Q.p;try{return Q.p=t,r()}finally{Q.p=s}}var Ze=Math.random().toString(36).slice(2),tt="__reactFiber$"+Ze,nt="__reactProps$"+Ze,qt="__reactContainer$"+Ze,cr="__reactEvents$"+Ze,ba="__reactListeners$"+Ze,Wn="__reactHandles$"+Ze,zr="__reactResources$"+Ze,dr="__reactMarker$"+Ze;function zu(t){delete t[tt],delete t[nt],delete t[cr],delete t[ba],delete t[Wn]}function Ya(t){var r=t[tt];if(r)return r;for(var s=t.parentNode;s;){if(r=s[qt]||s[tt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=Fp(t);t!==null;){if(s=t[tt])return s;t=Fp(t)}return r}t=s,s=t.parentNode}return null}function Ka(t){if(t=t[tt]||t[qt]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function as(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function Xa(t){var r=t[zr];return r||(r=t[zr]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ot(t){t[dr]=!0}var xh=new Set,Ch={};function wa(t,r){Wa(t,r),Wa(t+"Capture",r)}function Wa(t,r){for(Ch[t]=r,t=0;t<r.length;t++)xh.add(r[t])}var _b=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rh={},Th={};function bb(t){return tn.call(Th,t)?!0:tn.call(Rh,t)?!1:_b.test(t)?Th[t]=!0:(Rh[t]=!0,!1)}function zl(t,r,s){if(bb(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function $l(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function fr(t,r,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+o)}}var $u,Ah;function Qa(t){if($u===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);$u=r&&r[1]||"",Ah=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$u+t+Ah}var Fu=!1;function Hu(t,r){if(!t||Fu)return"";Fu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(I){var B=I}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(I){B=I}t.call(Z.prototype)}}else{try{throw Error()}catch(I){B=I}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(I){if(I&&B&&typeof I.stack=="string")return[I.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),_=g[0],E=g[1];if(_&&E){var A=_.split(`
`),F=E.split(`
`);for(d=o=0;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(o===A.length||d===F.length)for(o=A.length-1,d=F.length-1;1<=o&&0<=d&&A[o]!==F[d];)d--;for(;1<=o&&0<=d;o--,d--)if(A[o]!==F[d]){if(o!==1||d!==1)do if(o--,d--,0>d||A[o]!==F[d]){var K=`
`+A[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=d);break}}}finally{Fu=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Qa(s):""}function wb(t){switch(t.tag){case 26:case 27:case 5:return Qa(t.type);case 16:return Qa("Lazy");case 13:return Qa("Suspense");case 19:return Qa("SuspenseList");case 0:case 15:return Hu(t.type,!1);case 11:return Hu(t.type.render,!1);case 1:return Hu(t.type,!0);case 31:return Qa("Activity");default:return""}}function Oh(t){try{var r="";do r+=wb(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function bn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Dh(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Sb(t){var r=Dh(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,g=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){o=""+_,g.call(this,_)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Fl(t){t._valueTracker||(t._valueTracker=Sb(t))}function Nh(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),o="";return t&&(o=Dh(t)?t.checked?"true":"false":t.value),t=o,t!==s?(r.setValue(t),!0):!1}function Hl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Eb=/[\n"\\]/g;function wn(t){return t.replace(Eb,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Vu(t,r,s,o,d,g,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+bn(r)):t.value!==""+bn(r)&&(t.value=""+bn(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Bu(t,_,bn(r)):s!=null?Bu(t,_,bn(s)):o!=null&&t.removeAttribute("value"),d==null&&g!=null&&(t.defaultChecked=!!g),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+bn(E):t.removeAttribute("name")}function jh(t,r,s,o,d,g,_,E){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),r!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;s=s!=null?""+bn(s):"",r=r!=null?""+bn(r):s,E||r===t.value||(t.value=r),t.defaultValue=r}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Bu(t,r,s){r==="number"&&Hl(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Za(t,r,s,o){if(t=t.options,r){r={};for(var d=0;d<s.length;d++)r["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=r.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&o&&(t[s].defaultSelected=!0)}else{for(s=""+bn(s),r=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function Mh(t,r,s){if(r!=null&&(r=""+bn(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+bn(s):""}function kh(t,r,s,o){if(r==null){if(o!=null){if(s!=null)throw Error(i(92));if(oe(o)){if(1<o.length)throw Error(i(93));o=o[0]}s=o}s==null&&(s=""),r=s}s=bn(r),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o)}function Ja(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var xb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uh(t,r,s){var o=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,s):typeof s!="number"||s===0||xb.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Lh(t,r,s){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in r)o=r[d],r.hasOwnProperty(d)&&s[d]!==o&&Uh(t,d,o)}else for(var g in r)r.hasOwnProperty(g)&&Uh(t,g,r[g])}function Iu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vl(t){return Rb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var qu=null;function Gu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ei=null,ti=null;function Ph(t){var r=Ka(t);if(r&&(t=r.stateNode)){var s=t[nt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Vu(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+wn(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var o=s[r];if(o!==t&&o.form===t.form){var d=o[nt]||null;if(!d)throw Error(i(90));Vu(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<s.length;r++)o=s[r],o.form===t.form&&Nh(o)}break e;case"textarea":Mh(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Za(t,!!s.multiple,r,!1)}}}var Yu=!1;function zh(t,r,s){if(Yu)return t(r,s);Yu=!0;try{var o=t(r);return o}finally{if(Yu=!1,(ei!==null||ti!==null)&&(Ao(),ei&&(r=ei,t=ti,ti=ei=null,Ph(r),t)))for(r=0;r<t.length;r++)Ph(t[r])}}function is(t,r){var s=t.stateNode;if(s===null)return null;var o=s[nt]||null;if(o===null)return null;s=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,r,typeof s));return s}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ku=!1;if(hr)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Ku=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Ku=!1}var $r=null,Xu=null,Bl=null;function $h(){if(Bl)return Bl;var t,r=Xu,s=r.length,o,d="value"in $r?$r.value:$r.textContent,g=d.length;for(t=0;t<s&&r[t]===d[t];t++);var _=s-t;for(o=1;o<=_&&r[s-o]===d[g-o];o++);return Bl=d.slice(t,1<o?1-o:void 0)}function Il(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ql(){return!0}function Fh(){return!1}function rn(t){function r(s,o,d,g,_){this._reactName=s,this._targetInst=d,this.type=o,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ql:Fh,this.isPropagationStopped=Fh,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),r}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=rn(Sa),ls=v({},Sa,{view:0,detail:0}),Tb=rn(ls),Wu,Qu,os,Yl=v({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ju,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==os&&(os&&t.type==="mousemove"?(Wu=t.screenX-os.screenX,Qu=t.screenY-os.screenY):Qu=Wu=0,os=t),Wu)},movementY:function(t){return"movementY"in t?t.movementY:Qu}}),Hh=rn(Yl),Ab=v({},Yl,{dataTransfer:0}),Ob=rn(Ab),Db=v({},ls,{relatedTarget:0}),Zu=rn(Db),Nb=v({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),jb=rn(Nb),Mb=v({},Sa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kb=rn(Mb),Ub=v({},Sa,{data:0}),Vh=rn(Ub),Lb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $b(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=zb[t])?!!r[t]:!1}function Ju(){return $b}var Fb=v({},ls,{key:function(t){if(t.key){var r=Lb[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Il(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ju,charCode:function(t){return t.type==="keypress"?Il(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Il(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hb=rn(Fb),Vb=v({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bh=rn(Vb),Bb=v({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ju}),Ib=rn(Bb),qb=v({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gb=rn(qb),Yb=v({},Yl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kb=rn(Yb),Xb=v({},Sa,{newState:0,oldState:0}),Wb=rn(Xb),Qb=[9,13,27,32],ec=hr&&"CompositionEvent"in window,us=null;hr&&"documentMode"in document&&(us=document.documentMode);var Zb=hr&&"TextEvent"in window&&!us,Ih=hr&&(!ec||us&&8<us&&11>=us),qh=" ",Gh=!1;function Yh(t,r){switch(t){case"keyup":return Qb.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ni=!1;function Jb(t,r){switch(t){case"compositionend":return Kh(r);case"keypress":return r.which!==32?null:(Gh=!0,qh);case"textInput":return t=r.data,t===qh&&Gh?null:t;default:return null}}function e0(t,r){if(ni)return t==="compositionend"||!ec&&Yh(t,r)?(t=$h(),Bl=Xu=$r=null,ni=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ih&&r.locale!=="ko"?null:r.data;default:return null}}var t0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!t0[t.type]:r==="textarea"}function Wh(t,r,s,o){ei?ti?ti.push(o):ti=[o]:ei=o,r=ko(r,"onChange"),0<r.length&&(s=new Gl("onChange","change",null,s,o),t.push({event:s,listeners:r}))}var cs=null,ds=null;function n0(t){Dp(t,0)}function Kl(t){var r=as(t);if(Nh(r))return t}function Qh(t,r){if(t==="change")return r}var Zh=!1;if(hr){var tc;if(hr){var nc="oninput"in document;if(!nc){var Jh=document.createElement("div");Jh.setAttribute("oninput","return;"),nc=typeof Jh.oninput=="function"}tc=nc}else tc=!1;Zh=tc&&(!document.documentMode||9<document.documentMode)}function eg(){cs&&(cs.detachEvent("onpropertychange",tg),ds=cs=null)}function tg(t){if(t.propertyName==="value"&&Kl(ds)){var r=[];Wh(r,ds,t,Gu(t)),zh(n0,r)}}function r0(t,r,s){t==="focusin"?(eg(),cs=r,ds=s,cs.attachEvent("onpropertychange",tg)):t==="focusout"&&eg()}function a0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kl(ds)}function i0(t,r){if(t==="click")return Kl(r)}function s0(t,r){if(t==="input"||t==="change")return Kl(r)}function l0(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var dn=typeof Object.is=="function"?Object.is:l0;function fs(t,r){if(dn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),o=Object.keys(r);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var d=s[o];if(!tn.call(r,d)||!dn(t[d],r[d]))return!1}return!0}function ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rg(t,r){var s=ng(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=r&&o>=r)return{node:s,offset:r-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ng(s)}}function ag(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ag(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ig(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Hl(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=Hl(t.document)}return r}function rc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var o0=hr&&"documentMode"in document&&11>=document.documentMode,ri=null,ac=null,hs=null,ic=!1;function sg(t,r,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ic||ri==null||ri!==Hl(o)||(o=ri,"selectionStart"in o&&rc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),hs&&fs(hs,o)||(hs=o,o=ko(ac,"onSelect"),0<o.length&&(r=new Gl("onSelect","select",null,r,s),t.push({event:r,listeners:o}),r.target=ri)))}function Ea(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var ai={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},sc={},lg={};hr&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function xa(t){if(sc[t])return sc[t];if(!ai[t])return t;var r=ai[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in lg)return sc[t]=r[s];return t}var og=xa("animationend"),ug=xa("animationiteration"),cg=xa("animationstart"),u0=xa("transitionrun"),c0=xa("transitionstart"),d0=xa("transitioncancel"),dg=xa("transitionend"),fg=new Map,lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lc.push("scrollEnd");function kn(t,r){fg.set(t,r),wa(r,[t])}var hg=new WeakMap;function Sn(t,r){if(typeof t=="object"&&t!==null){var s=hg.get(t);return s!==void 0?s:(r={value:t,source:r,stack:Oh(r)},hg.set(t,r),r)}return{value:t,source:r,stack:Oh(r)}}var En=[],ii=0,oc=0;function Xl(){for(var t=ii,r=oc=ii=0;r<t;){var s=En[r];En[r++]=null;var o=En[r];En[r++]=null;var d=En[r];En[r++]=null;var g=En[r];if(En[r++]=null,o!==null&&d!==null){var _=o.pending;_===null?d.next=d:(d.next=_.next,_.next=d),o.pending=d}g!==0&&gg(s,d,g)}}function Wl(t,r,s,o){En[ii++]=t,En[ii++]=r,En[ii++]=s,En[ii++]=o,oc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function uc(t,r,s,o){return Wl(t,r,s,o),Ql(t)}function si(t,r){return Wl(t,null,null,r),Ql(t)}function gg(t,r,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var d=!1,g=t.return;g!==null;)g.childLanes|=s,o=g.alternate,o!==null&&(o.childLanes|=s),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(d=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,d&&r!==null&&(d=31-ze(s),t=g.hiddenUpdates,o=t[d],o===null?t[d]=[r]:o.push(r),r.lane=s|536870912),g):null}function Ql(t){if(50<zs)throw zs=0,md=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var li={};function f0(t,r,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,r,s,o){return new f0(t,r,s,o)}function cc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gr(t,r){var s=t.alternate;return s===null?(s=fn(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function mg(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Zl(t,r,s,o,d,g){var _=0;if(o=t,typeof t=="function")cc(t)&&(_=1);else if(typeof t=="string")_=gw(t,s,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case te:return t=fn(31,s,r,d),t.elementType=te,t.lanes=g,t;case S:return Ca(s.children,d,g,r);case C:_=8,d|=24;break;case T:return t=fn(12,s,r,d|2),t.elementType=T,t.lanes=g,t;case k:return t=fn(13,s,r,d),t.elementType=k,t.lanes=g,t;case V:return t=fn(19,s,r,d),t.elementType=V,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N:case R:_=10;break e;case U:_=9;break e;case M:_=11;break e;case P:_=14;break e;case X:_=16,o=null;break e}_=29,s=Error(i(130,t===null?"null":typeof t,"")),o=null}return r=fn(_,s,r,d),r.elementType=t,r.type=o,r.lanes=g,r}function Ca(t,r,s,o){return t=fn(7,t,o,r),t.lanes=s,t}function dc(t,r,s){return t=fn(6,t,null,r),t.lanes=s,t}function fc(t,r,s){return r=fn(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var oi=[],ui=0,Jl=null,eo=0,xn=[],Cn=0,Ra=null,mr=1,pr="";function Ta(t,r){oi[ui++]=eo,oi[ui++]=Jl,Jl=t,eo=r}function pg(t,r,s){xn[Cn++]=mr,xn[Cn++]=pr,xn[Cn++]=Ra,Ra=t;var o=mr;t=pr;var d=32-ze(o)-1;o&=~(1<<d),s+=1;var g=32-ze(r)+d;if(30<g){var _=d-d%5;g=(o&(1<<_)-1).toString(32),o>>=_,d-=_,mr=1<<32-ze(r)+d|s<<d|o,pr=g+t}else mr=1<<g|s<<d|o,pr=t}function hc(t){t.return!==null&&(Ta(t,1),pg(t,1,0))}function gc(t){for(;t===Jl;)Jl=oi[--ui],oi[ui]=null,eo=oi[--ui],oi[ui]=null;for(;t===Ra;)Ra=xn[--Cn],xn[Cn]=null,pr=xn[--Cn],xn[Cn]=null,mr=xn[--Cn],xn[Cn]=null}var Qt=null,ft=null,He=!1,Aa=null,Qn=!1,mc=Error(i(519));function Oa(t){var r=Error(i(418,""));throw ps(Sn(r,t)),mc}function vg(t){var r=t.stateNode,s=t.type,o=t.memoizedProps;switch(r[tt]=t,r[nt]=o,s){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(s=0;s<Fs.length;s++)ke(Fs[s],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),jh(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Fl(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),kh(r,o.value,o.defaultValue,o.children),Fl(r)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||o.suppressHydrationWarning===!0||kp(r.textContent,s)?(o.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),o.onScroll!=null&&ke("scroll",r),o.onScrollEnd!=null&&ke("scrollend",r),o.onClick!=null&&(r.onclick=Uo),r=!0):r=!1,r||Oa(t)}function yg(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Qt=Qt.return}}function gs(t){if(t!==Qt)return!1;if(!He)return yg(t),He=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Nd(t.type,t.memoizedProps)),s=!s),s&&ft&&Oa(t),yg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){ft=Ln(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}ft=null}}else r===27?(r=ft,ta(t.type)?(t=Ud,Ud=null,ft=t):ft=r):ft=Qt?Ln(t.stateNode.nextSibling):null;return!0}function ms(){ft=Qt=null,He=!1}function _g(){var t=Aa;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Aa=null),t}function ps(t){Aa===null?Aa=[t]:Aa.push(t)}var pc=q(null),Da=null,vr=null;function Fr(t,r,s){J(pc,r._currentValue),r._currentValue=s}function yr(t){t._currentValue=pc.current,G(pc)}function vc(t,r,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===s)break;t=t.return}}function yc(t,r,s,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var g=d.dependencies;if(g!==null){var _=d.child;g=g.firstContext;e:for(;g!==null;){var E=g;g=d;for(var A=0;A<r.length;A++)if(E.context===r[A]){g.lanes|=s,E=g.alternate,E!==null&&(E.lanes|=s),vc(g.return,s,t),o||(_=null);break e}g=E.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(i(341));_.lanes|=s,g=_.alternate,g!==null&&(g.lanes|=s),vc(_,s,t),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===t){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function vs(t,r,s,o){t=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var E=d.type;dn(d.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(d===qe.current){if(_=d.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Gs):t=[Gs])}d=d.return}t!==null&&yc(r,t,s,o),r.flags|=262144}function to(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Na(t){Da=t,vr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return bg(Da,t)}function no(t,r){return Da===null&&Na(t),bg(t,r)}function bg(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},vr===null){if(t===null)throw Error(i(308));vr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else vr=vr.next=r;return s}var h0=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},g0=e.unstable_scheduleCallback,m0=e.unstable_NormalPriority,xt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _c(){return{controller:new h0,data:new Map,refCount:0}}function ys(t){t.refCount--,t.refCount===0&&g0(m0,function(){t.controller.abort()})}var _s=null,bc=0,ci=0,di=null;function p0(t,r){if(_s===null){var s=_s=[];bc=0,ci=Sd(),di={status:"pending",value:void 0,then:function(o){s.push(o)}}}return bc++,r.then(wg,wg),r}function wg(){if(--bc===0&&_s!==null){di!==null&&(di.status="fulfilled");var t=_s;_s=null,ci=0,di=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function v0(t,r){var s=[],o={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var d=0;d<s.length;d++)(0,s[d])(r)},function(d){for(o.status="rejected",o.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),o}var Sg=H.S;H.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&p0(t,r),Sg!==null&&Sg(t,r)};var ja=q(null);function wc(){var t=ja.current;return t!==null?t:Je.pooledCache}function ro(t,r){r===null?J(ja,ja.current):J(ja,r.pool)}function Eg(){var t=wc();return t===null?null:{parent:xt._currentValue,pool:t}}var bs=Error(i(460)),xg=Error(i(474)),ao=Error(i(542)),Sc={then:function(){}};function Cg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function io(){}function Rg(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(io,io),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ag(t),t;default:if(typeof r.status=="string")r.then(io,io);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=o}},function(o){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ag(t),t}throw ws=r,bs}}var ws=null;function Tg(){if(ws===null)throw Error(i(459));var t=ws;return ws=null,t}function Ag(t){if(t===bs||t===ao)throw Error(i(483))}var Hr=!1;function Ec(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xc(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Br(t,r,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ve&2)!==0){var d=o.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),o.pending=r,r=Ql(t),gg(t,null,s),r}return Wl(t,o,r,s),Ql(t)}function Ss(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,Mn(t,s)}}function Cc(t,r){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var d=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?d=g=_:g=g.next=_,s=s.next}while(s!==null);g===null?d=g=r:g=g.next=r}else d=g=r;s={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Rc=!1;function Es(){if(Rc){var t=di;if(t!==null)throw t}}function xs(t,r,s,o){Rc=!1;var d=t.updateQueue;Hr=!1;var g=d.firstBaseUpdate,_=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var A=E,F=A.next;A.next=null,_===null?g=F:_.next=F,_=A;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==_&&(E===null?K.firstBaseUpdate=F:E.next=F,K.lastBaseUpdate=A))}if(g!==null){var Z=d.baseState;_=0,K=F=A=null,E=g;do{var B=E.lane&-536870913,I=B!==E.lane;if(I?(Pe&B)===B:(o&B)===B){B!==0&&B===ci&&(Rc=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Se=t,_e=E;B=r;var Ke=s;switch(_e.tag){case 1:if(Se=_e.payload,typeof Se=="function"){Z=Se.call(Ke,Z,B);break e}Z=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=_e.payload,B=typeof Se=="function"?Se.call(Ke,Z,B):Se,B==null)break e;Z=v({},Z,B);break e;case 2:Hr=!0}}B=E.callback,B!==null&&(t.flags|=64,I&&(t.flags|=8192),I=d.callbacks,I===null?d.callbacks=[B]:I.push(B))}else I={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(F=K=I,A=Z):K=K.next=I,_|=B;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;I=E,E=I.next,I.next=null,d.lastBaseUpdate=I,d.shared.pending=null}}while(!0);K===null&&(A=Z),d.baseState=A,d.firstBaseUpdate=F,d.lastBaseUpdate=K,g===null&&(d.shared.lanes=0),Qr|=_,t.lanes=_,t.memoizedState=Z}}function Og(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function Dg(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Og(s[t],r)}var fi=q(null),so=q(0);function Ng(t,r){t=Cr,J(so,t),J(fi,r),Cr=t|r.baseLanes}function Tc(){J(so,Cr),J(fi,fi.current)}function Ac(){Cr=so.current,G(fi),G(so)}var Ir=0,De=null,Ge=null,vt=null,lo=!1,hi=!1,Ma=!1,oo=0,Cs=0,gi=null,y0=0;function gt(){throw Error(i(321))}function Oc(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!dn(t[s],r[s]))return!1;return!0}function Dc(t,r,s,o,d,g){return Ir=g,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=t===null||t.memoizedState===null?gm:mm,Ma=!1,g=s(o,d),Ma=!1,hi&&(g=Mg(r,s,o,d)),jg(t),g}function jg(t){H.H=mo;var r=Ge!==null&&Ge.next!==null;if(Ir=0,vt=Ge=De=null,lo=!1,Cs=0,gi=null,r)throw Error(i(300));t===null||Dt||(t=t.dependencies,t!==null&&to(t)&&(Dt=!0))}function Mg(t,r,s,o){De=t;var d=0;do{if(hi&&(gi=null),Cs=0,hi=!1,25<=d)throw Error(i(301));if(d+=1,vt=Ge=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}H.H=C0,g=r(s,o)}while(hi);return g}function _0(){var t=H.H,r=t.useState()[0];return r=typeof r.then=="function"?Rs(r):r,t=t.useState()[0],(Ge!==null?Ge.memoizedState:null)!==t&&(De.flags|=1024),r}function Nc(){var t=oo!==0;return oo=0,t}function jc(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function Mc(t){if(lo){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}lo=!1}Ir=0,vt=Ge=De=null,hi=!1,Cs=oo=0,gi=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?De.memoizedState=vt=t:vt=vt.next=t,vt}function yt(){if(Ge===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var r=vt===null?De.memoizedState:vt.next;if(r!==null)vt=r,Ge=t;else{if(t===null)throw De.alternate===null?Error(i(467)):Error(i(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},vt===null?De.memoizedState=vt=t:vt=vt.next=t}return vt}function kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rs(t){var r=Cs;return Cs+=1,gi===null&&(gi=[]),t=Rg(gi,t,r),r=De,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?gm:mm),t}function uo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rs(t);if(t.$$typeof===R)return Gt(t)}throw Error(i(438,String(t)))}function Uc(t){var r=null,s=De.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=kc(),De.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),o=0;o<t;o++)s[o]=ue;return r.index++,s}function _r(t,r){return typeof r=="function"?r(t):r}function co(t){var r=yt();return Lc(r,Ge,t)}function Lc(t,r,s){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var d=t.baseQueue,g=o.pending;if(g!==null){if(d!==null){var _=d.next;d.next=g.next,g.next=_}r.baseQueue=d=g,o.pending=null}if(g=t.baseState,d===null)t.memoizedState=g;else{r=d.next;var E=_=null,A=null,F=r,K=!1;do{var Z=F.lane&-536870913;if(Z!==F.lane?(Pe&Z)===Z:(Ir&Z)===Z){var B=F.revertLane;if(B===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),Z===ci&&(K=!0);else if((Ir&B)===B){F=F.next,B===ci&&(K=!0);continue}else Z={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},A===null?(E=A=Z,_=g):A=A.next=Z,De.lanes|=B,Qr|=B;Z=F.action,Ma&&s(g,Z),g=F.hasEagerState?F.eagerState:s(g,Z)}else B={lane:Z,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},A===null?(E=A=B,_=g):A=A.next=B,De.lanes|=Z,Qr|=Z;F=F.next}while(F!==null&&F!==r);if(A===null?_=g:A.next=E,!dn(g,t.memoizedState)&&(Dt=!0,K&&(s=di,s!==null)))throw s;t.memoizedState=g,t.baseState=_,t.baseQueue=A,o.lastRenderedState=g}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Pc(t){var r=yt(),s=r.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var o=s.dispatch,d=s.pending,g=r.memoizedState;if(d!==null){s.pending=null;var _=d=d.next;do g=t(g,_.action),_=_.next;while(_!==d);dn(g,r.memoizedState)||(Dt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),s.lastRenderedState=g}return[g,o]}function kg(t,r,s){var o=De,d=yt(),g=He;if(g){if(s===void 0)throw Error(i(407));s=s()}else s=r();var _=!dn((Ge||d).memoizedState,s);_&&(d.memoizedState=s,Dt=!0),d=d.queue;var E=Pg.bind(null,o,d,t);if(Ts(2048,8,E,[t]),d.getSnapshot!==r||_||vt!==null&&vt.memoizedState.tag&1){if(o.flags|=2048,mi(9,fo(),Lg.bind(null,o,d,s,r),null),Je===null)throw Error(i(349));g||(Ir&124)!==0||Ug(o,r,s)}return s}function Ug(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=De.updateQueue,r===null?(r=kc(),De.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function Lg(t,r,s,o){r.value=s,r.getSnapshot=o,zg(r)&&$g(t)}function Pg(t,r,s){return s(function(){zg(r)&&$g(t)})}function zg(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!dn(t,s)}catch{return!0}}function $g(t){var r=si(t,2);r!==null&&vn(r,t,2)}function zc(t){var r=an();if(typeof t=="function"){var s=t;if(t=s(),Ma){Re(!0);try{s()}finally{Re(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:t},r}function Fg(t,r,s,o){return t.baseState=s,Lc(t,Ge,typeof o=="function"?o:_r)}function b0(t,r,s,o,d){if(go(t))throw Error(i(485));if(t=r.action,t!==null){var g={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};H.T!==null?s(!0):g.isTransition=!1,o(g),s=r.pending,s===null?(g.next=r.pending=g,Hg(r,g)):(g.next=s.next,r.pending=s.next=g)}}function Hg(t,r){var s=r.action,o=r.payload,d=t.state;if(r.isTransition){var g=H.T,_={};H.T=_;try{var E=s(d,o),A=H.S;A!==null&&A(_,E),Vg(t,r,E)}catch(F){$c(t,r,F)}finally{H.T=g}}else try{g=s(d,o),Vg(t,r,g)}catch(F){$c(t,r,F)}}function Vg(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Bg(t,r,o)},function(o){return $c(t,r,o)}):Bg(t,r,s)}function Bg(t,r,s){r.status="fulfilled",r.value=s,Ig(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,Hg(t,s)))}function $c(t,r,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=s,Ig(r),r=r.next;while(r!==o)}t.action=null}function Ig(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function qg(t,r){return r}function Gg(t,r){if(He){var s=Je.formState;if(s!==null){e:{var o=De;if(He){if(ft){t:{for(var d=ft,g=Qn;d.nodeType!==8;){if(!g){d=null;break t}if(d=Ln(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ft=Ln(d.nextSibling),o=d.data==="F!";break e}}Oa(o)}o=!1}o&&(r=s[0])}}return s=an(),s.memoizedState=s.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qg,lastRenderedState:r},s.queue=o,s=dm.bind(null,De,o),o.dispatch=s,o=zc(!1),g=Ic.bind(null,De,!1,o.queue),o=an(),d={state:r,dispatch:null,action:t,pending:null},o.queue=d,s=b0.bind(null,De,d,g,s),d.dispatch=s,o.memoizedState=t,[r,s,!1]}function Yg(t){var r=yt();return Kg(r,Ge,t)}function Kg(t,r,s){if(r=Lc(t,r,qg)[0],t=co(_r)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=Rs(r)}catch(_){throw _===bs?ao:_}else o=r;r=yt();var d=r.queue,g=d.dispatch;return s!==r.memoizedState&&(De.flags|=2048,mi(9,fo(),w0.bind(null,d,s),null)),[o,g,t]}function w0(t,r){t.action=r}function Xg(t){var r=yt(),s=Ge;if(s!==null)return Kg(r,s,t);yt(),r=r.memoizedState,s=yt();var o=s.queue.dispatch;return s.memoizedState=t,[r,o,!1]}function mi(t,r,s,o){return t={tag:t,create:s,deps:o,inst:r,next:null},r=De.updateQueue,r===null&&(r=kc(),De.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,r.lastEffect=t),t}function fo(){return{destroy:void 0,resource:void 0}}function Wg(){return yt().memoizedState}function ho(t,r,s,o){var d=an();o=o===void 0?null:o,De.flags|=t,d.memoizedState=mi(1|r,fo(),s,o)}function Ts(t,r,s,o){var d=yt();o=o===void 0?null:o;var g=d.memoizedState.inst;Ge!==null&&o!==null&&Oc(o,Ge.memoizedState.deps)?d.memoizedState=mi(r,g,s,o):(De.flags|=t,d.memoizedState=mi(1|r,g,s,o))}function Qg(t,r){ho(8390656,8,t,r)}function Zg(t,r){Ts(2048,8,t,r)}function Jg(t,r){return Ts(4,2,t,r)}function em(t,r){return Ts(4,4,t,r)}function tm(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function nm(t,r,s){s=s!=null?s.concat([t]):null,Ts(4,4,tm.bind(null,r,t),s)}function Fc(){}function rm(t,r){var s=yt();r=r===void 0?null:r;var o=s.memoizedState;return r!==null&&Oc(r,o[1])?o[0]:(s.memoizedState=[t,r],t)}function am(t,r){var s=yt();r=r===void 0?null:r;var o=s.memoizedState;if(r!==null&&Oc(r,o[1]))return o[0];if(o=t(),Ma){Re(!0);try{t()}finally{Re(!1)}}return s.memoizedState=[o,r],o}function Hc(t,r,s){return s===void 0||(Ir&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=lp(),De.lanes|=t,Qr|=t,s)}function im(t,r,s,o){return dn(s,r)?s:fi.current!==null?(t=Hc(t,s,o),dn(t,r)||(Dt=!0),t):(Ir&42)===0?(Dt=!0,t.memoizedState=s):(t=lp(),De.lanes|=t,Qr|=t,r)}function sm(t,r,s,o,d){var g=Q.p;Q.p=g!==0&&8>g?g:8;var _=H.T,E={};H.T=E,Ic(t,!1,r,s);try{var A=d(),F=H.S;if(F!==null&&F(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var K=v0(A,o);As(t,r,K,pn(t))}else As(t,r,o,pn(t))}catch(Z){As(t,r,{then:function(){},status:"rejected",reason:Z},pn())}finally{Q.p=g,H.T=_}}function S0(){}function Vc(t,r,s,o){if(t.tag!==5)throw Error(i(476));var d=lm(t).queue;sm(t,d,r,se,s===null?S0:function(){return om(t),s(o)})}function lm(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:se},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function om(t){var r=lm(t).next.queue;As(t,r,{},pn())}function Bc(){return Gt(Gs)}function um(){return yt().memoizedState}function cm(){return yt().memoizedState}function E0(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=pn();t=Vr(s);var o=Br(r,t,s);o!==null&&(vn(o,r,s),Ss(o,r,s)),r={cache:_c()},t.payload=r;return}r=r.return}}function x0(t,r,s){var o=pn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},go(t)?fm(r,s):(s=uc(t,r,s,o),s!==null&&(vn(s,t,o),hm(s,r,o)))}function dm(t,r,s){var o=pn();As(t,r,s,o)}function As(t,r,s,o){var d={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(go(t))fm(r,d);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var _=r.lastRenderedState,E=g(_,s);if(d.hasEagerState=!0,d.eagerState=E,dn(E,_))return Wl(t,r,d,0),Je===null&&Xl(),!1}catch{}finally{}if(s=uc(t,r,d,o),s!==null)return vn(s,t,o),hm(s,r,o),!0}return!1}function Ic(t,r,s,o){if(o={lane:2,revertLane:Sd(),action:o,hasEagerState:!1,eagerState:null,next:null},go(t)){if(r)throw Error(i(479))}else r=uc(t,s,o,2),r!==null&&vn(r,t,2)}function go(t){var r=t.alternate;return t===De||r!==null&&r===De}function fm(t,r){hi=lo=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function hm(t,r,s){if((s&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,Mn(t,s)}}var mo={readContext:Gt,use:uo,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},gm={readContext:Gt,use:uo,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:Gt,useEffect:Qg,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,ho(4194308,4,tm.bind(null,r,t),s)},useLayoutEffect:function(t,r){return ho(4194308,4,t,r)},useInsertionEffect:function(t,r){ho(4,2,t,r)},useMemo:function(t,r){var s=an();r=r===void 0?null:r;var o=t();if(Ma){Re(!0);try{t()}finally{Re(!1)}}return s.memoizedState=[o,r],o},useReducer:function(t,r,s){var o=an();if(s!==void 0){var d=s(r);if(Ma){Re(!0);try{s(r)}finally{Re(!1)}}}else d=r;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=x0.bind(null,De,t),[o.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=zc(t);var r=t.queue,s=dm.bind(null,De,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:Fc,useDeferredValue:function(t,r){var s=an();return Hc(s,t,r)},useTransition:function(){var t=zc(!1);return t=sm.bind(null,De,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var o=De,d=an();if(He){if(s===void 0)throw Error(i(407));s=s()}else{if(s=r(),Je===null)throw Error(i(349));(Pe&124)!==0||Ug(o,r,s)}d.memoizedState=s;var g={value:s,getSnapshot:r};return d.queue=g,Qg(Pg.bind(null,o,g,t),[t]),o.flags|=2048,mi(9,fo(),Lg.bind(null,o,g,s,r),null),s},useId:function(){var t=an(),r=Je.identifierPrefix;if(He){var s=pr,o=mr;s=(o&~(1<<32-ze(o)-1)).toString(32)+s,r=""+r+"R"+s,s=oo++,0<s&&(r+="H"+s.toString(32)),r+=""}else s=y0++,r=""+r+"r"+s.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:Bc,useFormState:Gg,useActionState:Gg,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Ic.bind(null,De,!0,s),s.dispatch=r,[t,r]},useMemoCache:Uc,useCacheRefresh:function(){return an().memoizedState=E0.bind(null,De)}},mm={readContext:Gt,use:uo,useCallback:rm,useContext:Gt,useEffect:Zg,useImperativeHandle:nm,useInsertionEffect:Jg,useLayoutEffect:em,useMemo:am,useReducer:co,useRef:Wg,useState:function(){return co(_r)},useDebugValue:Fc,useDeferredValue:function(t,r){var s=yt();return im(s,Ge.memoizedState,t,r)},useTransition:function(){var t=co(_r)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:Rs(t),r]},useSyncExternalStore:kg,useId:um,useHostTransitionStatus:Bc,useFormState:Yg,useActionState:Yg,useOptimistic:function(t,r){var s=yt();return Fg(s,Ge,t,r)},useMemoCache:Uc,useCacheRefresh:cm},C0={readContext:Gt,use:uo,useCallback:rm,useContext:Gt,useEffect:Zg,useImperativeHandle:nm,useInsertionEffect:Jg,useLayoutEffect:em,useMemo:am,useReducer:Pc,useRef:Wg,useState:function(){return Pc(_r)},useDebugValue:Fc,useDeferredValue:function(t,r){var s=yt();return Ge===null?Hc(s,t,r):im(s,Ge.memoizedState,t,r)},useTransition:function(){var t=Pc(_r)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:Rs(t),r]},useSyncExternalStore:kg,useId:um,useHostTransitionStatus:Bc,useFormState:Xg,useActionState:Xg,useOptimistic:function(t,r){var s=yt();return Ge!==null?Fg(s,Ge,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Uc,useCacheRefresh:cm},pi=null,Os=0;function po(t){var r=Os;return Os+=1,pi===null&&(pi=[]),Rg(pi,t,r)}function Ds(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function vo(t,r){throw r.$$typeof===y?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function pm(t){var r=t._init;return r(t._payload)}function vm(t){function r(L,j){if(t){var z=L.deletions;z===null?(L.deletions=[j],L.flags|=16):z.push(j)}}function s(L,j){if(!t)return null;for(;j!==null;)r(L,j),j=j.sibling;return null}function o(L){for(var j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function d(L,j){return L=gr(L,j),L.index=0,L.sibling=null,L}function g(L,j,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<j?(L.flags|=67108866,j):z):(L.flags|=67108866,j)):(L.flags|=1048576,j)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function E(L,j,z,W){return j===null||j.tag!==6?(j=dc(z,L.mode,W),j.return=L,j):(j=d(j,z),j.return=L,j)}function A(L,j,z,W){var fe=z.type;return fe===S?K(L,j,z.props.children,W,z.key):j!==null&&(j.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===X&&pm(fe)===j.type)?(j=d(j,z.props),Ds(j,z),j.return=L,j):(j=Zl(z.type,z.key,z.props,null,L.mode,W),Ds(j,z),j.return=L,j)}function F(L,j,z,W){return j===null||j.tag!==4||j.stateNode.containerInfo!==z.containerInfo||j.stateNode.implementation!==z.implementation?(j=fc(z,L.mode,W),j.return=L,j):(j=d(j,z.children||[]),j.return=L,j)}function K(L,j,z,W,fe){return j===null||j.tag!==7?(j=Ca(z,L.mode,W,fe),j.return=L,j):(j=d(j,z),j.return=L,j)}function Z(L,j,z){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=dc(""+j,L.mode,z),j.return=L,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return z=Zl(j.type,j.key,j.props,null,L.mode,z),Ds(z,j),z.return=L,z;case w:return j=fc(j,L.mode,z),j.return=L,j;case X:var W=j._init;return j=W(j._payload),Z(L,j,z)}if(oe(j)||ee(j))return j=Ca(j,L.mode,z,null),j.return=L,j;if(typeof j.then=="function")return Z(L,po(j),z);if(j.$$typeof===R)return Z(L,no(L,j),z);vo(L,j)}return null}function B(L,j,z,W){var fe=j!==null?j.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:E(L,j,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return z.key===fe?A(L,j,z,W):null;case w:return z.key===fe?F(L,j,z,W):null;case X:return fe=z._init,z=fe(z._payload),B(L,j,z,W)}if(oe(z)||ee(z))return fe!==null?null:K(L,j,z,W,null);if(typeof z.then=="function")return B(L,j,po(z),W);if(z.$$typeof===R)return B(L,j,no(L,z),W);vo(L,z)}return null}function I(L,j,z,W,fe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(z)||null,E(j,L,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return L=L.get(W.key===null?z:W.key)||null,A(j,L,W,fe);case w:return L=L.get(W.key===null?z:W.key)||null,F(j,L,W,fe);case X:var je=W._init;return W=je(W._payload),I(L,j,z,W,fe)}if(oe(W)||ee(W))return L=L.get(z)||null,K(j,L,W,fe,null);if(typeof W.then=="function")return I(L,j,z,po(W),fe);if(W.$$typeof===R)return I(L,j,z,no(j,W),fe);vo(j,W)}return null}function Se(L,j,z,W){for(var fe=null,je=null,ve=j,we=j=0,jt=null;ve!==null&&we<z.length;we++){ve.index>we?(jt=ve,ve=null):jt=ve.sibling;var $e=B(L,ve,z[we],W);if($e===null){ve===null&&(ve=jt);break}t&&ve&&$e.alternate===null&&r(L,ve),j=g($e,j,we),je===null?fe=$e:je.sibling=$e,je=$e,ve=jt}if(we===z.length)return s(L,ve),He&&Ta(L,we),fe;if(ve===null){for(;we<z.length;we++)ve=Z(L,z[we],W),ve!==null&&(j=g(ve,j,we),je===null?fe=ve:je.sibling=ve,je=ve);return He&&Ta(L,we),fe}for(ve=o(ve);we<z.length;we++)jt=I(ve,L,we,z[we],W),jt!==null&&(t&&jt.alternate!==null&&ve.delete(jt.key===null?we:jt.key),j=g(jt,j,we),je===null?fe=jt:je.sibling=jt,je=jt);return t&&ve.forEach(function(sa){return r(L,sa)}),He&&Ta(L,we),fe}function _e(L,j,z,W){if(z==null)throw Error(i(151));for(var fe=null,je=null,ve=j,we=j=0,jt=null,$e=z.next();ve!==null&&!$e.done;we++,$e=z.next()){ve.index>we?(jt=ve,ve=null):jt=ve.sibling;var sa=B(L,ve,$e.value,W);if(sa===null){ve===null&&(ve=jt);break}t&&ve&&sa.alternate===null&&r(L,ve),j=g(sa,j,we),je===null?fe=sa:je.sibling=sa,je=sa,ve=jt}if($e.done)return s(L,ve),He&&Ta(L,we),fe;if(ve===null){for(;!$e.done;we++,$e=z.next())$e=Z(L,$e.value,W),$e!==null&&(j=g($e,j,we),je===null?fe=$e:je.sibling=$e,je=$e);return He&&Ta(L,we),fe}for(ve=o(ve);!$e.done;we++,$e=z.next())$e=I(ve,L,we,$e.value,W),$e!==null&&(t&&$e.alternate!==null&&ve.delete($e.key===null?we:$e.key),j=g($e,j,we),je===null?fe=$e:je.sibling=$e,je=$e);return t&&ve.forEach(function(Rw){return r(L,Rw)}),He&&Ta(L,we),fe}function Ke(L,j,z,W){if(typeof z=="object"&&z!==null&&z.type===S&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case b:e:{for(var fe=z.key;j!==null;){if(j.key===fe){if(fe=z.type,fe===S){if(j.tag===7){s(L,j.sibling),W=d(j,z.props.children),W.return=L,L=W;break e}}else if(j.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===X&&pm(fe)===j.type){s(L,j.sibling),W=d(j,z.props),Ds(W,z),W.return=L,L=W;break e}s(L,j);break}else r(L,j);j=j.sibling}z.type===S?(W=Ca(z.props.children,L.mode,W,z.key),W.return=L,L=W):(W=Zl(z.type,z.key,z.props,null,L.mode,W),Ds(W,z),W.return=L,L=W)}return _(L);case w:e:{for(fe=z.key;j!==null;){if(j.key===fe)if(j.tag===4&&j.stateNode.containerInfo===z.containerInfo&&j.stateNode.implementation===z.implementation){s(L,j.sibling),W=d(j,z.children||[]),W.return=L,L=W;break e}else{s(L,j);break}else r(L,j);j=j.sibling}W=fc(z,L.mode,W),W.return=L,L=W}return _(L);case X:return fe=z._init,z=fe(z._payload),Ke(L,j,z,W)}if(oe(z))return Se(L,j,z,W);if(ee(z)){if(fe=ee(z),typeof fe!="function")throw Error(i(150));return z=fe.call(z),_e(L,j,z,W)}if(typeof z.then=="function")return Ke(L,j,po(z),W);if(z.$$typeof===R)return Ke(L,j,no(L,z),W);vo(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,j!==null&&j.tag===6?(s(L,j.sibling),W=d(j,z),W.return=L,L=W):(s(L,j),W=dc(z,L.mode,W),W.return=L,L=W),_(L)):s(L,j)}return function(L,j,z,W){try{Os=0;var fe=Ke(L,j,z,W);return pi=null,fe}catch(ve){if(ve===bs||ve===ao)throw ve;var je=fn(29,ve,null,L.mode);return je.lanes=W,je.return=L,je}finally{}}}var vi=vm(!0),ym=vm(!1),Rn=q(null),Zn=null;function qr(t){var r=t.alternate;J(Ct,Ct.current&1),J(Rn,t),Zn===null&&(r===null||fi.current!==null||r.memoizedState!==null)&&(Zn=t)}function _m(t){if(t.tag===22){if(J(Ct,Ct.current),J(Rn,t),Zn===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Zn=t)}}else Gr()}function Gr(){J(Ct,Ct.current),J(Rn,Rn.current)}function br(t){G(Rn),Zn===t&&(Zn=null),G(Ct)}var Ct=q(0);function yo(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||kd(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function qc(t,r,s,o){r=t.memoizedState,s=s(o,r),s=s==null?r:v({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Gc={enqueueSetState:function(t,r,s){t=t._reactInternals;var o=pn(),d=Vr(o);d.payload=r,s!=null&&(d.callback=s),r=Br(t,d,o),r!==null&&(vn(r,t,o),Ss(r,t,o))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var o=pn(),d=Vr(o);d.tag=1,d.payload=r,s!=null&&(d.callback=s),r=Br(t,d,o),r!==null&&(vn(r,t,o),Ss(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=pn(),o=Vr(s);o.tag=2,r!=null&&(o.callback=r),r=Br(t,o,s),r!==null&&(vn(r,t,s),Ss(r,t,s))}};function bm(t,r,s,o,d,g,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,g,_):r.prototype&&r.prototype.isPureReactComponent?!fs(s,o)||!fs(d,g):!0}function wm(t,r,s,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,o),r.state!==t&&Gc.enqueueReplaceState(r,r.state,null)}function ka(t,r){var s=r;if("ref"in r){s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}if(t=t.defaultProps){s===r&&(s=v({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}var _o=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Sm(t){_o(t)}function Em(t){console.error(t)}function xm(t){_o(t)}function bo(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function Cm(t,r,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Yc(t,r,s){return s=Vr(s),s.tag=3,s.payload={element:null},s.callback=function(){bo(t,r)},s}function Rm(t){return t=Vr(t),t.tag=3,t}function Tm(t,r,s,o){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var g=o.value;t.payload=function(){return d(g)},t.callback=function(){Cm(r,s,o)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Cm(r,s,o),typeof d!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function R0(t,r,s,o,d){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=s.alternate,r!==null&&vs(r,s,d,!0),s=Rn.current,s!==null){switch(s.tag){case 13:return Zn===null?vd():s.alternate===null&&ht===0&&(ht=3),s.flags&=-257,s.flags|=65536,s.lanes=d,o===Sc?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([o]):r.add(o),_d(t,o,d)),!1;case 22:return s.flags|=65536,o===Sc?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([o]):s.add(o)),_d(t,o,d)),!1}throw Error(i(435,s.tag))}return _d(t,o,d),vd(),!1}if(He)return r=Rn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,o!==mc&&(t=Error(i(422),{cause:o}),ps(Sn(t,s)))):(o!==mc&&(r=Error(i(423),{cause:o}),ps(Sn(r,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=Sn(o,s),d=Yc(t.stateNode,o,d),Cc(t,d),ht!==4&&(ht=2)),!1;var g=Error(i(520),{cause:o});if(g=Sn(g,s),Ps===null?Ps=[g]:Ps.push(g),ht!==4&&(ht=2),r===null)return!0;o=Sn(o,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=Yc(s.stateNode,o,t),Cc(s,t),!1;case 1:if(r=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Zr===null||!Zr.has(g))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Rm(d),Tm(d,t,s,o),Cc(s,d),!1}s=s.return}while(s!==null);return!1}var Am=Error(i(461)),Dt=!1;function zt(t,r,s,o){r.child=t===null?ym(r,null,s,o):vi(r,t.child,s,o)}function Om(t,r,s,o,d){s=s.render;var g=r.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return Na(r),o=Dc(t,r,s,_,g,d),E=Nc(),t!==null&&!Dt?(jc(t,r,d),wr(t,r,d)):(He&&E&&hc(r),r.flags|=1,zt(t,r,o,d),r.child)}function Dm(t,r,s,o,d){if(t===null){var g=s.type;return typeof g=="function"&&!cc(g)&&g.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=g,Nm(t,r,g,o,d)):(t=Zl(s.type,null,o,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(g=t.child,!td(t,d)){var _=g.memoizedProps;if(s=s.compare,s=s!==null?s:fs,s(_,o)&&t.ref===r.ref)return wr(t,r,d)}return r.flags|=1,t=gr(g,o),t.ref=r.ref,t.return=r,r.child=t}function Nm(t,r,s,o,d){if(t!==null){var g=t.memoizedProps;if(fs(g,o)&&t.ref===r.ref)if(Dt=!1,r.pendingProps=o=g,td(t,d))(t.flags&131072)!==0&&(Dt=!0);else return r.lanes=t.lanes,wr(t,r,d)}return Kc(t,r,s,o,d)}function jm(t,r,s){var o=r.pendingProps,d=o.children,g=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=g!==null?g.baseLanes|s:s,t!==null){for(d=r.child=t.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;r.childLanes=g&~o}else r.childLanes=0,r.child=null;return Mm(t,r,o,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&ro(r,g!==null?g.cachePool:null),g!==null?Ng(r,g):Tc(),_m(r);else return r.lanes=r.childLanes=536870912,Mm(t,r,g!==null?g.baseLanes|s:s,s)}else g!==null?(ro(r,g.cachePool),Ng(r,g),Gr(),r.memoizedState=null):(t!==null&&ro(r,null),Tc(),Gr());return zt(t,r,d,s),r.child}function Mm(t,r,s,o){var d=wc();return d=d===null?null:{parent:xt._currentValue,pool:d},r.memoizedState={baseLanes:s,cachePool:d},t!==null&&ro(r,null),Tc(),_m(r),t!==null&&vs(t,r,o,!0),null}function wo(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function Kc(t,r,s,o,d){return Na(r),s=Dc(t,r,s,o,void 0,d),o=Nc(),t!==null&&!Dt?(jc(t,r,d),wr(t,r,d)):(He&&o&&hc(r),r.flags|=1,zt(t,r,s,d),r.child)}function km(t,r,s,o,d,g){return Na(r),r.updateQueue=null,s=Mg(r,o,s,d),jg(t),o=Nc(),t!==null&&!Dt?(jc(t,r,g),wr(t,r,g)):(He&&o&&hc(r),r.flags|=1,zt(t,r,s,g),r.child)}function Um(t,r,s,o,d){if(Na(r),r.stateNode===null){var g=li,_=s.contextType;typeof _=="object"&&_!==null&&(g=Gt(_)),g=new s(o,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Gc,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=o,g.state=r.memoizedState,g.refs={},Ec(r),_=s.contextType,g.context=typeof _=="object"&&_!==null?Gt(_):li,g.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(qc(r,s,_,o),g.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&Gc.enqueueReplaceState(g,g.state,null),xs(r,o,g,d),Es(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){g=r.stateNode;var E=r.memoizedProps,A=ka(s,E);g.props=A;var F=g.context,K=s.contextType;_=li,typeof K=="object"&&K!==null&&(_=Gt(K));var Z=s.getDerivedStateFromProps;K=typeof Z=="function"||typeof g.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,K||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E||F!==_)&&wm(r,g,o,_),Hr=!1;var B=r.memoizedState;g.state=B,xs(r,o,g,d),Es(),F=r.memoizedState,E||B!==F||Hr?(typeof Z=="function"&&(qc(r,s,Z,o),F=r.memoizedState),(A=Hr||bm(r,s,A,o,B,F,_))?(K||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=F),g.props=o,g.state=F,g.context=_,o=A):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{g=r.stateNode,xc(t,r),_=r.memoizedProps,K=ka(s,_),g.props=K,Z=r.pendingProps,B=g.context,F=s.contextType,A=li,typeof F=="object"&&F!==null&&(A=Gt(F)),E=s.getDerivedStateFromProps,(F=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==Z||B!==A)&&wm(r,g,o,A),Hr=!1,B=r.memoizedState,g.state=B,xs(r,o,g,d),Es();var I=r.memoizedState;_!==Z||B!==I||Hr||t!==null&&t.dependencies!==null&&to(t.dependencies)?(typeof E=="function"&&(qc(r,s,E,o),I=r.memoizedState),(K=Hr||bm(r,s,K,o,B,I,A)||t!==null&&t.dependencies!==null&&to(t.dependencies))?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,I,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,I,A)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=I),g.props=o,g.state=I,g.context=A,o=K):(typeof g.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(r.flags|=1024),o=!1)}return g=o,wo(t,r),o=(r.flags&128)!==0,g||o?(g=r.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,t!==null&&o?(r.child=vi(r,t.child,null,d),r.child=vi(r,null,s,d)):zt(t,r,s,d),r.memoizedState=g.state,t=r.child):t=wr(t,r,d),t}function Lm(t,r,s,o){return ms(),r.flags|=256,zt(t,r,s,o),r.child}var Xc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wc(t){return{baseLanes:t,cachePool:Eg()}}function Qc(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=Tn),t}function Pm(t,r,s){var o=r.pendingProps,d=!1,g=(r.flags&128)!==0,_;if((_=g)||(_=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),_&&(d=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(He){if(d?qr(r):Gr(),He){var E=ft,A;if(A=E){e:{for(A=E,E=Qn;A.nodeType!==8;){if(!E){E=null;break e}if(A=Ln(A.nextSibling),A===null){E=null;break e}}E=A}E!==null?(r.memoizedState={dehydrated:E,treeContext:Ra!==null?{id:mr,overflow:pr}:null,retryLane:536870912,hydrationErrors:null},A=fn(18,null,null,0),A.stateNode=E,A.return=r,r.child=A,Qt=r,ft=null,A=!0):A=!1}A||Oa(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return kd(E)?r.lanes=32:r.lanes=536870912,null;br(r)}return E=o.children,o=o.fallback,d?(Gr(),d=r.mode,E=So({mode:"hidden",children:E},d),o=Ca(o,d,s,null),E.return=r,o.return=r,E.sibling=o,r.child=E,d=r.child,d.memoizedState=Wc(s),d.childLanes=Qc(t,_,s),r.memoizedState=Xc,o):(qr(r),Zc(r,E))}if(A=t.memoizedState,A!==null&&(E=A.dehydrated,E!==null)){if(g)r.flags&256?(qr(r),r.flags&=-257,r=Jc(t,r,s)):r.memoizedState!==null?(Gr(),r.child=t.child,r.flags|=128,r=null):(Gr(),d=o.fallback,E=r.mode,o=So({mode:"visible",children:o.children},E),d=Ca(d,E,s,null),d.flags|=2,o.return=r,d.return=r,o.sibling=d,r.child=o,vi(r,t.child,null,s),o=r.child,o.memoizedState=Wc(s),o.childLanes=Qc(t,_,s),r.memoizedState=Xc,r=d);else if(qr(r),kd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var F=_.dgst;_=F,o=Error(i(419)),o.stack="",o.digest=_,ps({value:o,source:null,stack:null}),r=Jc(t,r,s)}else if(Dt||vs(t,r,s,!1),_=(s&t.childLanes)!==0,Dt||_){if(_=Je,_!==null&&(o=s&-s,o=(o&42)!==0?1:It(o),o=(o&(_.suspendedLanes|s))!==0?0:o,o!==0&&o!==A.retryLane))throw A.retryLane=o,si(t,o),vn(_,t,o),Am;E.data==="$?"||vd(),r=Jc(t,r,s)}else E.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=A.treeContext,ft=Ln(E.nextSibling),Qt=r,He=!0,Aa=null,Qn=!1,t!==null&&(xn[Cn++]=mr,xn[Cn++]=pr,xn[Cn++]=Ra,mr=t.id,pr=t.overflow,Ra=r),r=Zc(r,o.children),r.flags|=4096);return r}return d?(Gr(),d=o.fallback,E=r.mode,A=t.child,F=A.sibling,o=gr(A,{mode:"hidden",children:o.children}),o.subtreeFlags=A.subtreeFlags&65011712,F!==null?d=gr(F,d):(d=Ca(d,E,s,null),d.flags|=2),d.return=r,o.return=r,o.sibling=d,r.child=o,o=d,d=r.child,E=t.child.memoizedState,E===null?E=Wc(s):(A=E.cachePool,A!==null?(F=xt._currentValue,A=A.parent!==F?{parent:F,pool:F}:A):A=Eg(),E={baseLanes:E.baseLanes|s,cachePool:A}),d.memoizedState=E,d.childLanes=Qc(t,_,s),r.memoizedState=Xc,o):(qr(r),s=t.child,t=s.sibling,s=gr(s,{mode:"visible",children:o.children}),s.return=r,s.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=s,r.memoizedState=null,s)}function Zc(t,r){return r=So({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function So(t,r){return t=fn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Jc(t,r,s){return vi(r,t.child,null,s),t=Zc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function zm(t,r,s){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),vc(t.return,r,s)}function ed(t,r,s,o,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:d}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=d)}function $m(t,r,s){var o=r.pendingProps,d=o.revealOrder,g=o.tail;if(zt(t,r,o.children,s),o=Ct.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zm(t,s,r);else if(t.tag===19)zm(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(J(Ct,o),d){case"forwards":for(s=r.child,d=null;s!==null;)t=s.alternate,t!==null&&yo(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=r.child,r.child=null):(d=s.sibling,s.sibling=null),ed(r,!1,d,s,g);break;case"backwards":for(s=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&yo(t)===null){r.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}ed(r,!0,s,null,g);break;case"together":ed(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function wr(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),Qr|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(vs(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,s=gr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=gr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function td(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&to(t)))}function T0(t,r,s){switch(r.tag){case 3:Le(r,r.stateNode.containerInfo),Fr(r,xt,t.memoizedState.cache),ms();break;case 27:case 5:ut(r);break;case 4:Le(r,r.stateNode.containerInfo);break;case 10:Fr(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(qr(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Pm(t,r,s):(qr(r),t=wr(t,r,s),t!==null?t.sibling:null);qr(r);break;case 19:var d=(t.flags&128)!==0;if(o=(s&r.childLanes)!==0,o||(vs(t,r,s,!1),o=(s&r.childLanes)!==0),d){if(o)return $m(t,r,s);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),J(Ct,Ct.current),o)break;return null;case 22:case 23:return r.lanes=0,jm(t,r,s);case 24:Fr(r,xt,t.memoizedState.cache)}return wr(t,r,s)}function Fm(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Dt=!0;else{if(!td(t,s)&&(r.flags&128)===0)return Dt=!1,T0(t,r,s);Dt=(t.flags&131072)!==0}else Dt=!1,He&&(r.flags&1048576)!==0&&pg(r,eo,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var o=r.elementType,d=o._init;if(o=d(o._payload),r.type=o,typeof o=="function")cc(o)?(t=ka(o,t),r.tag=1,r=Um(null,r,o,t,s)):(r.tag=0,r=Kc(null,r,o,t,s));else{if(o!=null){if(d=o.$$typeof,d===M){r.tag=11,r=Om(null,r,o,t,s);break e}else if(d===P){r.tag=14,r=Dm(null,r,o,t,s);break e}}throw r=de(o)||o,Error(i(306,r,""))}}return r;case 0:return Kc(t,r,r.type,r.pendingProps,s);case 1:return o=r.type,d=ka(o,r.pendingProps),Um(t,r,o,d,s);case 3:e:{if(Le(r,r.stateNode.containerInfo),t===null)throw Error(i(387));o=r.pendingProps;var g=r.memoizedState;d=g.element,xc(t,r),xs(r,o,null,s);var _=r.memoizedState;if(o=_.cache,Fr(r,xt,o),o!==g.cache&&yc(r,[xt],s,!0),Es(),o=_.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Lm(t,r,o,s);break e}else if(o!==d){d=Sn(Error(i(424)),r),ps(d),r=Lm(t,r,o,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=Ln(t.firstChild),Qt=r,He=!0,Aa=null,Qn=!0,s=ym(r,null,o,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ms(),o===d){r=wr(t,r,s);break e}zt(t,r,o,s)}r=r.child}return r;case 26:return wo(t,r),t===null?(s=Ip(r.type,null,r.pendingProps,null))?r.memoizedState=s:He||(s=r.type,t=r.pendingProps,o=Lo(he.current).createElement(s),o[tt]=r,o[nt]=t,Ft(o,s,t),Ot(o),r.stateNode=o):r.memoizedState=Ip(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ut(r),t===null&&He&&(o=r.stateNode=Hp(r.type,r.pendingProps,he.current),Qt=r,Qn=!0,d=ft,ta(r.type)?(Ud=d,ft=Ln(o.firstChild)):ft=d),zt(t,r,r.pendingProps.children,s),wo(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&He&&((d=o=ft)&&(o=tw(o,r.type,r.pendingProps,Qn),o!==null?(r.stateNode=o,Qt=r,ft=Ln(o.firstChild),Qn=!1,d=!0):d=!1),d||Oa(r)),ut(r),d=r.type,g=r.pendingProps,_=t!==null?t.memoizedProps:null,o=g.children,Nd(d,g)?o=null:_!==null&&Nd(d,_)&&(r.flags|=32),r.memoizedState!==null&&(d=Dc(t,r,_0,null,null,s),Gs._currentValue=d),wo(t,r),zt(t,r,o,s),r.child;case 6:return t===null&&He&&((t=s=ft)&&(s=nw(s,r.pendingProps,Qn),s!==null?(r.stateNode=s,Qt=r,ft=null,t=!0):t=!1),t||Oa(r)),null;case 13:return Pm(t,r,s);case 4:return Le(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=vi(r,null,o,s):zt(t,r,o,s),r.child;case 11:return Om(t,r,r.type,r.pendingProps,s);case 7:return zt(t,r,r.pendingProps,s),r.child;case 8:return zt(t,r,r.pendingProps.children,s),r.child;case 12:return zt(t,r,r.pendingProps.children,s),r.child;case 10:return o=r.pendingProps,Fr(r,r.type,o.value),zt(t,r,o.children,s),r.child;case 9:return d=r.type._context,o=r.pendingProps.children,Na(r),d=Gt(d),o=o(d),r.flags|=1,zt(t,r,o,s),r.child;case 14:return Dm(t,r,r.type,r.pendingProps,s);case 15:return Nm(t,r,r.type,r.pendingProps,s);case 19:return $m(t,r,s);case 31:return o=r.pendingProps,s=r.mode,o={mode:o.mode,children:o.children},t===null?(s=So(o,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=gr(t.child,o),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return jm(t,r,s);case 24:return Na(r),o=Gt(xt),t===null?(d=wc(),d===null&&(d=Je,g=_c(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=s),d=g),r.memoizedState={parent:o,cache:d},Ec(r),Fr(r,xt,d)):((t.lanes&s)!==0&&(xc(t,r),xs(r,null,null,s),Es()),d=t.memoizedState,g=r.memoizedState,d.parent!==o?(d={parent:o,cache:o},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Fr(r,xt,o)):(o=g.cache,Fr(r,xt,o),o!==d.cache&&yc(r,[xt],s,!0))),zt(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Sr(t){t.flags|=4}function Hm(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xp(r)){if(r=Rn.current,r!==null&&((Pe&4194048)===Pe?Zn!==null:(Pe&62914560)!==Pe&&(Pe&536870912)===0||r!==Zn))throw ws=Sc,xg;t.flags|=8192}}function Eo(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Pl():536870912,t.lanes|=r,wi|=r)}function Ns(t,r){if(!He)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ct(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(r)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=s,r}function A0(t,r,s){var o=r.pendingProps;switch(gc(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return s=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),yr(xt),St(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(gs(r)?Sr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,_g())),ct(r),null;case 26:return s=r.memoizedState,t===null?(Sr(r),s!==null?(ct(r),Hm(r,s)):(ct(r),r.flags&=-16777217)):s?s!==t.memoizedState?(Sr(r),ct(r),Hm(r,s)):(ct(r),r.flags&=-16777217):(t.memoizedProps!==o&&Sr(r),ct(r),r.flags&=-16777217),null;case 27:Vt(r),s=he.current;var d=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Sr(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return ct(r),null}t=ce.current,gs(r)?vg(r):(t=Hp(d,o,s),r.stateNode=t,Sr(r))}return ct(r),null;case 5:if(Vt(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Sr(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return ct(r),null}if(t=ce.current,gs(r))vg(r);else{switch(d=Lo(he.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?d.createElement("select",{is:o.is}):d.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?d.createElement(s,{is:o.is}):d.createElement(s)}}t[tt]=r,t[nt]=o;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=t;e:switch(Ft(t,s,o),s){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Sr(r)}}return ct(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&Sr(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(i(166));if(t=he.current,gs(r)){if(t=r.stateNode,s=r.memoizedProps,o=null,d=Qt,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[tt]=r,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||kp(t.nodeValue,s)),t||Oa(r)}else t=Lo(t).createTextNode(o),t[tt]=r,r.stateNode=t}return ct(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=gs(r),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[tt]=r}else ms(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),d=!1}else d=_g(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(br(r),r):(br(r),null)}if(br(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=o!==null,t=t!==null&&t.memoizedState!==null,s){o=r.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==d&&(o.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),Eo(r,r.updateQueue),ct(r),null;case 4:return St(),t===null&&Rd(r.stateNode.containerInfo),ct(r),null;case 10:return yr(r.type),ct(r),null;case 19:if(G(Ct),d=r.memoizedState,d===null)return ct(r),null;if(o=(r.flags&128)!==0,g=d.rendering,g===null)if(o)Ns(d,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(g=yo(t),g!==null){for(r.flags|=128,Ns(d,!1),t=g.updateQueue,r.updateQueue=t,Eo(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)mg(s,t),s=s.sibling;return J(Ct,Ct.current&1|2),r.child}t=t.sibling}d.tail!==null&&Xt()>Ro&&(r.flags|=128,o=!0,Ns(d,!1),r.lanes=4194304)}else{if(!o)if(t=yo(g),t!==null){if(r.flags|=128,o=!0,t=t.updateQueue,r.updateQueue=t,Eo(r,t),Ns(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!He)return ct(r),null}else 2*Xt()-d.renderingStartTime>Ro&&s!==536870912&&(r.flags|=128,o=!0,Ns(d,!1),r.lanes=4194304);d.isBackwards?(g.sibling=r.child,r.child=g):(t=d.last,t!==null?t.sibling=g:r.child=g,d.last=g)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Xt(),r.sibling=null,t=Ct.current,J(Ct,o?t&1|2:t&1),r):(ct(r),null);case 22:case 23:return br(r),Ac(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(s&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),s=r.updateQueue,s!==null&&Eo(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048),t!==null&&G(ja),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),yr(xt),ct(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function O0(t,r){switch(gc(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return yr(xt),St(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Vt(r),null;case 13:if(br(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ms()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return G(Ct),null;case 4:return St(),null;case 10:return yr(r.type),null;case 22:case 23:return br(r),Ac(),t!==null&&G(ja),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return yr(xt),null;case 25:return null;default:return null}}function Vm(t,r){switch(gc(r),r.tag){case 3:yr(xt),St();break;case 26:case 27:case 5:Vt(r);break;case 4:St();break;case 13:br(r);break;case 19:G(Ct);break;case 10:yr(r.type);break;case 22:case 23:br(r),Ac(),t!==null&&G(ja);break;case 24:yr(xt)}}function js(t,r){try{var s=r.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var d=o.next;s=d;do{if((s.tag&t)===t){o=void 0;var g=s.create,_=s.inst;o=g(),_.destroy=o}s=s.next}while(s!==d)}}catch(E){Xe(r,r.return,E)}}function Yr(t,r,s){try{var o=r.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var g=d.next;o=g;do{if((o.tag&t)===t){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,d=r;var A=s,F=E;try{F()}catch(K){Xe(d,A,K)}}}o=o.next}while(o!==g)}}catch(K){Xe(r,r.return,K)}}function Bm(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{Dg(r,s)}catch(o){Xe(t,t.return,o)}}}function Im(t,r,s){s.props=ka(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Xe(t,r,o)}}function Ms(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(d){Xe(t,r,d)}}function Jn(t,r){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(d){Xe(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Xe(t,r,d)}else s.current=null}function qm(t){var r=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(d){Xe(t,t.return,d)}}function nd(t,r,s){try{var o=t.stateNode;W0(o,t.type,s,r),o[nt]=r}catch(d){Xe(t,t.return,d)}}function Gm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ta(t.type)||t.tag===4}function rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ta(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ad(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Uo));else if(o!==4&&(o===27&&ta(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(ad(t,r,s),t=t.sibling;t!==null;)ad(t,r,s),t=t.sibling}function xo(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(o!==4&&(o===27&&ta(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(xo(t,r,s),t=t.sibling;t!==null;)xo(t,r,s),t=t.sibling}function Ym(t){var r=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Ft(r,o,s),r[tt]=t,r[nt]=s}catch(g){Xe(t,t.return,g)}}var Er=!1,mt=!1,id=!1,Km=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function D0(t,r){if(t=t.containerInfo,Od=Vo,t=ig(t),rc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var d=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var _=0,E=-1,A=-1,F=0,K=0,Z=t,B=null;t:for(;;){for(var I;Z!==s||d!==0&&Z.nodeType!==3||(E=_+d),Z!==g||o!==0&&Z.nodeType!==3||(A=_+o),Z.nodeType===3&&(_+=Z.nodeValue.length),(I=Z.firstChild)!==null;)B=Z,Z=I;for(;;){if(Z===t)break t;if(B===s&&++F===d&&(E=_),B===g&&++K===o&&(A=_),(I=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=I}s=E===-1||A===-1?null:{start:E,end:A}}else s=null}s=s||{start:0,end:0}}else s=null;for(Dd={focusedElem:t,selectionRange:s},Vo=!1,Nt=r;Nt!==null;)if(r=Nt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Nt=t;else for(;Nt!==null;){switch(r=Nt,g=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,s=r,d=g.memoizedProps,g=g.memoizedState,o=s.stateNode;try{var Se=ka(s.type,d,s.elementType===s.type);t=o.getSnapshotBeforeUpdate(Se,g),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(s,s.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Md(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,Nt=t;break}Nt=r.return}}function Xm(t,r,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Kr(t,s),o&4&&js(5,s);break;case 1:if(Kr(t,s),o&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(_){Xe(s,s.return,_)}else{var d=ka(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(s,s.return,_)}}o&64&&Bm(s),o&512&&Ms(s,s.return);break;case 3:if(Kr(t,s),o&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Dg(t,r)}catch(_){Xe(s,s.return,_)}}break;case 27:r===null&&o&4&&Ym(s);case 26:case 5:Kr(t,s),r===null&&o&4&&qm(s),o&512&&Ms(s,s.return);break;case 12:Kr(t,s);break;case 13:Kr(t,s),o&4&&Zm(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=$0.bind(null,s),rw(t,s))));break;case 22:if(o=s.memoizedState!==null||Er,!o){r=r!==null&&r.memoizedState!==null||mt,d=Er;var g=mt;Er=o,(mt=r)&&!g?Xr(t,s,(s.subtreeFlags&8772)!==0):Kr(t,s),Er=d,mt=g}break;case 30:break;default:Kr(t,s)}}function Wm(t){var r=t.alternate;r!==null&&(t.alternate=null,Wm(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&zu(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,sn=!1;function xr(t,r,s){for(s=s.child;s!==null;)Qm(t,r,s),s=s.sibling}function Qm(t,r,s){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(ge,s)}catch{}switch(s.tag){case 26:mt||Jn(s,r),xr(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:mt||Jn(s,r);var o=it,d=sn;ta(s.type)&&(it=s.stateNode,sn=!1),xr(t,r,s),Vs(s.stateNode),it=o,sn=d;break;case 5:mt||Jn(s,r);case 6:if(o=it,d=sn,it=null,xr(t,r,s),it=o,sn=d,it!==null)if(sn)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(s.stateNode)}catch(g){Xe(s,r,g)}else try{it.removeChild(s.stateNode)}catch(g){Xe(s,r,g)}break;case 18:it!==null&&(sn?(t=it,$p(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ws(t)):$p(it,s.stateNode));break;case 4:o=it,d=sn,it=s.stateNode.containerInfo,sn=!0,xr(t,r,s),it=o,sn=d;break;case 0:case 11:case 14:case 15:mt||Yr(2,s,r),mt||Yr(4,s,r),xr(t,r,s);break;case 1:mt||(Jn(s,r),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Im(s,r,o)),xr(t,r,s);break;case 21:xr(t,r,s);break;case 22:mt=(o=mt)||s.memoizedState!==null,xr(t,r,s),mt=o;break;default:xr(t,r,s)}}function Zm(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ws(t)}catch(s){Xe(r,r.return,s)}}function N0(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Km),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Km),r;default:throw Error(i(435,t.tag))}}function sd(t,r){var s=N0(t);r.forEach(function(o){var d=F0.bind(null,t,o);s.has(o)||(s.add(o),o.then(d,d))})}function hn(t,r){var s=r.deletions;if(s!==null)for(var o=0;o<s.length;o++){var d=s[o],g=t,_=r,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(ta(E.type)){it=E.stateNode,sn=!1;break e}break;case 5:it=E.stateNode,sn=!1;break e;case 3:case 4:it=E.stateNode.containerInfo,sn=!0;break e}E=E.return}if(it===null)throw Error(i(160));Qm(g,_,d),it=null,sn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Jm(r,t),r=r.sibling}var Un=null;function Jm(t,r){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(r,t),gn(t),o&4&&(Yr(3,t,t.return),js(3,t),Yr(5,t,t.return));break;case 1:hn(r,t),gn(t),o&512&&(mt||s===null||Jn(s,s.return)),o&64&&Er&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var d=Un;if(hn(r,t),gn(t),o&512&&(mt||s===null||Jn(s,s.return)),o&4){var g=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":g=d.getElementsByTagName("title")[0],(!g||g[dr]||g[tt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(o),d.head.insertBefore(g,d.querySelector("head > title"))),Ft(g,o,s),g[tt]=t,Ot(g),o=g;break e;case"link":var _=Yp("link","href",d).get(o+(s.href||""));if(_){for(var E=0;E<_.length;E++)if(g=_[E],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(E,1);break t}}g=d.createElement(o),Ft(g,o,s),d.head.appendChild(g);break;case"meta":if(_=Yp("meta","content",d).get(o+(s.content||""))){for(E=0;E<_.length;E++)if(g=_[E],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(E,1);break t}}g=d.createElement(o),Ft(g,o,s),d.head.appendChild(g);break;default:throw Error(i(468,o))}g[tt]=t,Ot(g),o=g}t.stateNode=o}else Kp(d,t.type,t.stateNode);else t.stateNode=Gp(d,o,t.memoizedProps);else g!==o?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,o===null?Kp(d,t.type,t.stateNode):Gp(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&nd(t,t.memoizedProps,s.memoizedProps)}break;case 27:hn(r,t),gn(t),o&512&&(mt||s===null||Jn(s,s.return)),s!==null&&o&4&&nd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(hn(r,t),gn(t),o&512&&(mt||s===null||Jn(s,s.return)),t.flags&32){d=t.stateNode;try{Ja(d,"")}catch(I){Xe(t,t.return,I)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,nd(t,d,s!==null?s.memoizedProps:d)),o&1024&&(id=!0);break;case 6:if(hn(r,t),gn(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(I){Xe(t,t.return,I)}}break;case 3:if($o=null,d=Un,Un=Po(r.containerInfo),hn(r,t),Un=d,gn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ws(r.containerInfo)}catch(I){Xe(t,t.return,I)}id&&(id=!1,ep(t));break;case 4:o=Un,Un=Po(t.stateNode.containerInfo),hn(r,t),gn(t),Un=o;break;case 12:hn(r,t),gn(t);break;case 13:hn(r,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(fd=Xt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sd(t,o)));break;case 22:d=t.memoizedState!==null;var A=s!==null&&s.memoizedState!==null,F=Er,K=mt;if(Er=F||d,mt=K||A,hn(r,t),mt=K,Er=F,gn(t),o&8192)e:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(s===null||A||Er||mt||Ua(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){A=s=r;try{if(g=A.stateNode,d)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=A.stateNode;var Z=A.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(I){Xe(A,A.return,I)}}}else if(r.tag===6){if(s===null){A=r;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(I){Xe(A,A.return,I)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,sd(t,s))));break;case 19:hn(r,t),gn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sd(t,o)));break;case 30:break;case 21:break;default:hn(r,t),gn(t)}}function gn(t){var r=t.flags;if(r&2){try{for(var s,o=t.return;o!==null;){if(Gm(o)){s=o;break}o=o.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var d=s.stateNode,g=rd(t);xo(t,g,d);break;case 5:var _=s.stateNode;s.flags&32&&(Ja(_,""),s.flags&=-33);var E=rd(t);xo(t,E,_);break;case 3:case 4:var A=s.stateNode.containerInfo,F=rd(t);ad(t,F,A);break;default:throw Error(i(161))}}catch(K){Xe(t,t.return,K)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function ep(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;ep(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Kr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Xm(t,r.alternate,r),r=r.sibling}function Ua(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Yr(4,r,r.return),Ua(r);break;case 1:Jn(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Im(r,r.return,s),Ua(r);break;case 27:Vs(r.stateNode);case 26:case 5:Jn(r,r.return),Ua(r);break;case 22:r.memoizedState===null&&Ua(r);break;case 30:Ua(r);break;default:Ua(r)}t=t.sibling}}function Xr(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,d=t,g=r,_=g.flags;switch(g.tag){case 0:case 11:case 15:Xr(d,g,s),js(4,g);break;case 1:if(Xr(d,g,s),o=g,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){Xe(o,o.return,F)}if(o=g,d=o.updateQueue,d!==null){var E=o.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Og(A[d],E)}catch(F){Xe(o,o.return,F)}}s&&_&64&&Bm(g),Ms(g,g.return);break;case 27:Ym(g);case 26:case 5:Xr(d,g,s),s&&o===null&&_&4&&qm(g),Ms(g,g.return);break;case 12:Xr(d,g,s);break;case 13:Xr(d,g,s),s&&_&4&&Zm(d,g);break;case 22:g.memoizedState===null&&Xr(d,g,s),Ms(g,g.return);break;case 30:break;default:Xr(d,g,s)}r=r.sibling}}function ld(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ys(s))}function od(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ys(t))}function er(t,r,s,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)tp(t,r,s,o),r=r.sibling}function tp(t,r,s,o){var d=r.flags;switch(r.tag){case 0:case 11:case 15:er(t,r,s,o),d&2048&&js(9,r);break;case 1:er(t,r,s,o);break;case 3:er(t,r,s,o),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ys(t)));break;case 12:if(d&2048){er(t,r,s,o),t=r.stateNode;try{var g=r.memoizedProps,_=g.id,E=g.onPostCommit;typeof E=="function"&&E(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Xe(r,r.return,A)}}else er(t,r,s,o);break;case 13:er(t,r,s,o);break;case 23:break;case 22:g=r.stateNode,_=r.alternate,r.memoizedState!==null?g._visibility&2?er(t,r,s,o):ks(t,r):g._visibility&2?er(t,r,s,o):(g._visibility|=2,yi(t,r,s,o,(r.subtreeFlags&10256)!==0)),d&2048&&ld(_,r);break;case 24:er(t,r,s,o),d&2048&&od(r.alternate,r);break;default:er(t,r,s,o)}}function yi(t,r,s,o,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=t,_=r,E=s,A=o,F=_.flags;switch(_.tag){case 0:case 11:case 15:yi(g,_,E,A,d),js(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?yi(g,_,E,A,d):ks(g,_):(K._visibility|=2,yi(g,_,E,A,d)),d&&F&2048&&ld(_.alternate,_);break;case 24:yi(g,_,E,A,d),d&&F&2048&&od(_.alternate,_);break;default:yi(g,_,E,A,d)}r=r.sibling}}function ks(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,o=r,d=o.flags;switch(o.tag){case 22:ks(s,o),d&2048&&ld(o.alternate,o);break;case 24:ks(s,o),d&2048&&od(o.alternate,o);break;default:ks(s,o)}r=r.sibling}}var Us=8192;function _i(t){if(t.subtreeFlags&Us)for(t=t.child;t!==null;)np(t),t=t.sibling}function np(t){switch(t.tag){case 26:_i(t),t.flags&Us&&t.memoizedState!==null&&pw(Un,t.memoizedState,t.memoizedProps);break;case 5:_i(t);break;case 3:case 4:var r=Un;Un=Po(t.stateNode.containerInfo),_i(t),Un=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Us,Us=16777216,_i(t),Us=r):_i(t));break;default:_i(t)}}function rp(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ls(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];Nt=o,ip(o,t)}rp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ap(t),t=t.sibling}function ap(t){switch(t.tag){case 0:case 11:case 15:Ls(t),t.flags&2048&&Yr(9,t,t.return);break;case 3:Ls(t);break;case 12:Ls(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Co(t)):Ls(t);break;default:Ls(t)}}function Co(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];Nt=o,ip(o,t)}rp(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Yr(8,r,r.return),Co(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Co(r));break;default:Co(r)}t=t.sibling}}function ip(t,r){for(;Nt!==null;){var s=Nt;switch(s.tag){case 0:case 11:case 15:Yr(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ys(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Nt=o;else e:for(s=t;Nt!==null;){o=Nt;var d=o.sibling,g=o.return;if(Wm(o),o===s){Nt=null;break e}if(d!==null){d.return=g,Nt=d;break e}Nt=g}}}var j0={getCacheForType:function(t){var r=Gt(xt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},M0=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Je=null,Me=null,Pe=0,Be=0,mn=null,Wr=!1,bi=!1,ud=!1,Cr=0,ht=0,Qr=0,La=0,cd=0,Tn=0,wi=0,Ps=null,ln=null,dd=!1,fd=0,Ro=1/0,To=null,Zr=null,$t=0,Jr=null,Si=null,Ei=0,hd=0,gd=null,sp=null,zs=0,md=null;function pn(){if((Ve&2)!==0&&Pe!==0)return Pe&-Pe;if(H.T!==null){var t=ci;return t!==0?t:Sd()}return cn()}function lp(){Tn===0&&(Tn=(Pe&536870912)===0||He?Ll():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),Tn}function vn(t,r,s){(t===Je&&(Be===2||Be===9)||t.cancelPendingCommit!==null)&&(xi(t,0),ea(t,Pe,Tn,!1)),dt(t,s),((Ve&2)===0||t!==Je)&&(t===Je&&((Ve&2)===0&&(La|=s),ht===4&&ea(t,Pe,Tn,!1)),tr(t))}function op(t,r,s){if((Ve&6)!==0)throw Error(i(327));var o=!s&&(r&124)===0&&(r&t.expiredLanes)===0||ur(t,r),d=o?L0(t,r):yd(t,r,!0),g=o;do{if(d===0){bi&&!o&&ea(t,r,0,!1);break}else{if(s=t.current.alternate,g&&!k0(s)){d=yd(t,r,!1),g=!1;continue}if(d===2){if(g=r,t.errorRecoveryDisabledLanes&g)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var E=t;d=Ps;var A=E.current.memoizedState.isDehydrated;if(A&&(xi(E,_).flags|=256),_=yd(E,_,!1),_!==2){if(ud&&!A){E.errorRecoveryDisabledLanes|=g,La|=g,d=4;break e}g=ln,ln=d,g!==null&&(ln===null?ln=g:ln.push.apply(ln,g))}d=_}if(g=!1,d!==2)continue}}if(d===1){xi(t,0),ea(t,r,0,!0);break}e:{switch(o=t,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ea(o,r,Tn,!Wr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(d=fd+300-Xt(),10<d)){if(ea(o,r,Tn,!Wr),Xn(o,0,!0)!==0)break e;o.timeoutHandle=Pp(up.bind(null,o,s,ln,To,dd,r,Tn,La,wi,Wr,g,2,-0,0),d);break e}up(o,s,ln,To,dd,r,Tn,La,wi,Wr,g,0,-0,0)}}break}while(!0);tr(t)}function up(t,r,s,o,d,g,_,E,A,F,K,Z,B,I){if(t.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(qs={stylesheets:null,count:0,unsuspend:mw},np(r),Z=vw(),Z!==null)){t.cancelPendingCommit=Z(pp.bind(null,t,r,g,s,o,d,_,E,A,K,1,B,I)),ea(t,g,_,!F);return}pp(t,r,g,s,o,d,_,E,A)}function k0(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var d=s[o],g=d.getSnapshot;d=d.value;try{if(!dn(g(),d))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ea(t,r,s,o){r&=~cd,r&=~La,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var d=r;0<d;){var g=31-ze(d),_=1<<g;o[g]=-1,d&=~_}s!==0&&Bt(t,s,r)}function Ao(){return(Ve&6)===0?($s(0),!1):!0}function pd(){if(Me!==null){if(Be===0)var t=Me.return;else t=Me,vr=Da=null,Mc(t),pi=null,Os=0,t=Me;for(;t!==null;)Vm(t.alternate,t),t=t.return;Me=null}}function xi(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Z0(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),pd(),Je=t,Me=s=gr(t.current,null),Pe=r,Be=0,mn=null,Wr=!1,bi=ur(t,r),ud=!1,wi=Tn=cd=La=Qr=ht=0,ln=Ps=null,dd=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var d=31-ze(o),g=1<<d;r|=t[d],o&=~g}return Cr=r,Xl(),s}function cp(t,r){De=null,H.H=mo,r===bs||r===ao?(r=Tg(),Be=3):r===xg?(r=Tg(),Be=4):Be=r===Am?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,mn=r,Me===null&&(ht=1,bo(t,Sn(r,t.current)))}function dp(){var t=H.H;return H.H=mo,t===null?mo:t}function fp(){var t=H.A;return H.A=j0,t}function vd(){ht=4,Wr||(Pe&4194048)!==Pe&&Rn.current!==null||(bi=!0),(Qr&134217727)===0&&(La&134217727)===0||Je===null||ea(Je,Pe,Tn,!1)}function yd(t,r,s){var o=Ve;Ve|=2;var d=dp(),g=fp();(Je!==t||Pe!==r)&&(To=null,xi(t,r)),r=!1;var _=ht;e:do try{if(Be!==0&&Me!==null){var E=Me,A=mn;switch(Be){case 8:pd(),_=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(r=!0);var F=Be;if(Be=0,mn=null,Ci(t,E,A,F),s&&bi){_=0;break e}break;default:F=Be,Be=0,mn=null,Ci(t,E,A,F)}}U0(),_=ht;break}catch(K){cp(t,K)}while(!0);return r&&t.shellSuspendCounter++,vr=Da=null,Ve=o,H.H=d,H.A=g,Me===null&&(Je=null,Pe=0,Xl()),_}function U0(){for(;Me!==null;)hp(Me)}function L0(t,r){var s=Ve;Ve|=2;var o=dp(),d=fp();Je!==t||Pe!==r?(To=null,Ro=Xt()+500,xi(t,r)):bi=ur(t,r);e:do try{if(Be!==0&&Me!==null){r=Me;var g=mn;t:switch(Be){case 1:Be=0,mn=null,Ci(t,r,g,1);break;case 2:case 9:if(Cg(g)){Be=0,mn=null,gp(r);break}r=function(){Be!==2&&Be!==9||Je!==t||(Be=7),tr(t)},g.then(r,r);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:Cg(g)?(Be=0,mn=null,gp(r)):(Be=0,mn=null,Ci(t,r,g,7));break;case 5:var _=null;switch(Me.tag){case 26:_=Me.memoizedState;case 5:case 27:var E=Me;if(!_||Xp(_)){Be=0,mn=null;var A=E.sibling;if(A!==null)Me=A;else{var F=E.return;F!==null?(Me=F,Oo(F)):Me=null}break t}}Be=0,mn=null,Ci(t,r,g,5);break;case 6:Be=0,mn=null,Ci(t,r,g,6);break;case 8:pd(),ht=6;break e;default:throw Error(i(462))}}P0();break}catch(K){cp(t,K)}while(!0);return vr=Da=null,H.H=o,H.A=d,Ve=s,Me!==null?0:(Je=null,Pe=0,Xl(),ht)}function P0(){for(;Me!==null&&!sr();)hp(Me)}function hp(t){var r=Fm(t.alternate,t,Cr);t.memoizedProps=t.pendingProps,r===null?Oo(t):Me=r}function gp(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=km(s,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=km(s,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:Mc(r);default:Vm(s,r),r=Me=mg(r,Cr),r=Fm(s,r,Cr)}t.memoizedProps=t.pendingProps,r===null?Oo(t):Me=r}function Ci(t,r,s,o){vr=Da=null,Mc(r),pi=null,Os=0;var d=r.return;try{if(R0(t,d,r,s,Pe)){ht=1,bo(t,Sn(s,t.current)),Me=null;return}}catch(g){if(d!==null)throw Me=d,g;ht=1,bo(t,Sn(s,t.current)),Me=null;return}r.flags&32768?(He||o===1?t=!0:bi||(Pe&536870912)!==0?t=!1:(Wr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),mp(r,t)):Oo(r)}function Oo(t){var r=t;do{if((r.flags&32768)!==0){mp(r,Wr);return}t=r.return;var s=A0(r.alternate,r,Cr);if(s!==null){Me=s;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=t}while(r!==null);ht===0&&(ht=5)}function mp(t,r){do{var s=O0(t.alternate,t);if(s!==null){s.flags&=32767,Me=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Me=t;return}Me=t=s}while(t!==null);ht=6,Me=null}function pp(t,r,s,o,d,g,_,E,A){t.cancelPendingCommit=null;do Do();while($t!==0);if((Ve&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=oc,Wt(t,s,g,_,E,A),t===Je&&(Me=Je=null,Pe=0),Si=r,Jr=t,Ei=s,hd=g,gd=d,sp=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,H0($,function(){return wp(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,d=Q.p,Q.p=2,_=Ve,Ve|=4;try{D0(t,r,s)}finally{Ve=_,Q.p=d,H.T=o}}$t=1,vp(),yp(),_p()}}function vp(){if($t===1){$t=0;var t=Jr,r=Si,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=Q.p;Q.p=2;var d=Ve;Ve|=4;try{Jm(r,t);var g=Dd,_=ig(t.containerInfo),E=g.focusedElem,A=g.selectionRange;if(_!==E&&E&&E.ownerDocument&&ag(E.ownerDocument.documentElement,E)){if(A!==null&&rc(E)){var F=A.start,K=A.end;if(K===void 0&&(K=F),"selectionStart"in E)E.selectionStart=F,E.selectionEnd=Math.min(K,E.value.length);else{var Z=E.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var I=B.getSelection(),Se=E.textContent.length,_e=Math.min(A.start,Se),Ke=A.end===void 0?_e:Math.min(A.end,Se);!I.extend&&_e>Ke&&(_=Ke,Ke=_e,_e=_);var L=rg(E,_e),j=rg(E,Ke);if(L&&j&&(I.rangeCount!==1||I.anchorNode!==L.node||I.anchorOffset!==L.offset||I.focusNode!==j.node||I.focusOffset!==j.offset)){var z=Z.createRange();z.setStart(L.node,L.offset),I.removeAllRanges(),_e>Ke?(I.addRange(z),I.extend(j.node,j.offset)):(z.setEnd(j.node,j.offset),I.addRange(z))}}}}for(Z=[],I=E;I=I.parentNode;)I.nodeType===1&&Z.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var W=Z[E];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Vo=!!Od,Dd=Od=null}finally{Ve=d,Q.p=o,H.T=s}}t.current=r,$t=2}}function yp(){if($t===2){$t=0;var t=Jr,r=Si,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=Q.p;Q.p=2;var d=Ve;Ve|=4;try{Xm(t,r.alternate,r)}finally{Ve=d,Q.p=o,H.T=s}}$t=3}}function _p(){if($t===4||$t===3){$t=0,Gn();var t=Jr,r=Si,s=Ei,o=sp;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$t=5:($t=0,Si=Jr=null,bp(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Zr=null),Pt(s),r=r.stateNode,be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(ge,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=H.T,d=Q.p,Q.p=2,H.T=null;try{for(var g=t.onRecoverableError,_=0;_<o.length;_++){var E=o[_];g(E.value,{componentStack:E.stack})}}finally{H.T=r,Q.p=d}}(Ei&3)!==0&&Do(),tr(t),d=t.pendingLanes,(s&4194090)!==0&&(d&42)!==0?t===md?zs++:(zs=0,md=t):zs=0,$s(0)}}function bp(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ys(r)))}function Do(t){return vp(),yp(),_p(),wp()}function wp(){if($t!==5)return!1;var t=Jr,r=hd;hd=0;var s=Pt(Ei),o=H.T,d=Q.p;try{Q.p=32>s?32:s,H.T=null,s=gd,gd=null;var g=Jr,_=Ei;if($t=0,Si=Jr=null,Ei=0,(Ve&6)!==0)throw Error(i(331));var E=Ve;if(Ve|=4,ap(g.current),tp(g,g.current,_,s),Ve=E,$s(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(ge,g)}catch{}return!0}finally{Q.p=d,H.T=o,bp(t,r)}}function Sp(t,r,s){r=Sn(s,r),r=Yc(t.stateNode,r,2),t=Br(t,r,2),t!==null&&(dt(t,2),tr(t))}function Xe(t,r,s){if(t.tag===3)Sp(t,t,s);else for(;r!==null;){if(r.tag===3){Sp(r,t,s);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Zr===null||!Zr.has(o))){t=Sn(s,t),s=Rm(2),o=Br(r,s,2),o!==null&&(Tm(s,o,r,t),dt(o,2),tr(o));break}}r=r.return}}function _d(t,r,s){var o=t.pingCache;if(o===null){o=t.pingCache=new M0;var d=new Set;o.set(r,d)}else d=o.get(r),d===void 0&&(d=new Set,o.set(r,d));d.has(s)||(ud=!0,d.add(s),t=z0.bind(null,t,r,s),r.then(t,t))}function z0(t,r,s){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Je===t&&(Pe&s)===s&&(ht===4||ht===3&&(Pe&62914560)===Pe&&300>Xt()-fd?(Ve&2)===0&&xi(t,0):cd|=s,wi===Pe&&(wi=0)),tr(t)}function Ep(t,r){r===0&&(r=Pl()),t=si(t,r),t!==null&&(dt(t,r),tr(t))}function $0(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),Ep(t,s)}function F0(t,r){var s=0;switch(t.tag){case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(r),Ep(t,s)}function H0(t,r){return Lr(t,r)}var No=null,Ri=null,bd=!1,jo=!1,wd=!1,Pa=0;function tr(t){t!==Ri&&t.next===null&&(Ri===null?No=Ri=t:Ri=Ri.next=t),jo=!0,bd||(bd=!0,B0())}function $s(t,r){if(!wd&&jo){wd=!0;do for(var s=!1,o=No;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var g=0;else{var _=o.suspendedLanes,E=o.pingedLanes;g=(1<<31-ze(42|t)+1)-1,g&=d&~(_&~E),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,Tp(o,g))}else g=Pe,g=Xn(o,o===Je?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(g&3)===0||ur(o,g)||(s=!0,Tp(o,g));o=o.next}while(s);wd=!1}}function V0(){xp()}function xp(){jo=bd=!1;var t=0;Pa!==0&&(Q0()&&(t=Pa),Pa=0);for(var r=Xt(),s=null,o=No;o!==null;){var d=o.next,g=Cp(o,r);g===0?(o.next=null,s===null?No=d:s.next=d,d===null&&(Ri=s)):(s=o,(t!==0||(g&3)!==0)&&(jo=!0)),o=d}$s(t)}function Cp(t,r){for(var s=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var _=31-ze(g),E=1<<_,A=d[_];A===-1?((E&s)===0||(E&o)!==0)&&(d[_]=_a(E,r)):A<=r&&(t.expiredLanes|=E),g&=~E}if(r=Je,s=Pe,s=Xn(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===r&&(Be===2||Be===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&nn(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ur(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(o!==null&&nn(o),Pt(s)){case 2:case 8:s=D;break;case 32:s=$;break;case 268435456:s=le;break;default:s=$}return o=Rp.bind(null,t),s=Lr(s,o),t.callbackPriority=r,t.callbackNode=s,r}return o!==null&&o!==null&&nn(o),t.callbackPriority=2,t.callbackNode=null,2}function Rp(t,r){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Do()&&t.callbackNode!==s)return null;var o=Pe;return o=Xn(t,t===Je?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(op(t,o,r),Cp(t,Xt()),t.callbackNode!=null&&t.callbackNode===s?Rp.bind(null,t):null)}function Tp(t,r){if(Do())return null;op(t,r,!0)}function B0(){J0(function(){(Ve&6)!==0?Lr(lr,V0):xp()})}function Sd(){return Pa===0&&(Pa=Ll()),Pa}function Ap(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Vl(""+t)}function Op(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function I0(t,r,s,o,d){if(r==="submit"&&s&&s.stateNode===d){var g=Ap((d[nt]||null).action),_=o.submitter;_&&(r=(r=_[nt]||null)?Ap(r.formAction):_.getAttribute("formAction"),r!==null&&(g=r,_=null));var E=new Gl("action","action",null,o,d);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Pa!==0){var A=_?Op(d,_):new FormData(d);Vc(s,{pending:!0,data:A,method:d.method,action:g},null,A)}}else typeof g=="function"&&(E.preventDefault(),A=_?Op(d,_):new FormData(d),Vc(s,{pending:!0,data:A,method:d.method,action:g},g,A))},currentTarget:d}]})}}for(var Ed=0;Ed<lc.length;Ed++){var xd=lc[Ed],q0=xd.toLowerCase(),G0=xd[0].toUpperCase()+xd.slice(1);kn(q0,"on"+G0)}kn(og,"onAnimationEnd"),kn(ug,"onAnimationIteration"),kn(cg,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(u0,"onTransitionRun"),kn(c0,"onTransitionStart"),kn(d0,"onTransitionCancel"),kn(dg,"onTransitionEnd"),Wa("onMouseEnter",["mouseout","mouseover"]),Wa("onMouseLeave",["mouseout","mouseover"]),Wa("onPointerEnter",["pointerout","pointerover"]),Wa("onPointerLeave",["pointerout","pointerover"]),wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fs));function Dp(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],d=o.event;o=o.listeners;e:{var g=void 0;if(r)for(var _=o.length-1;0<=_;_--){var E=o[_],A=E.instance,F=E.currentTarget;if(E=E.listener,A!==g&&d.isPropagationStopped())break e;g=E,d.currentTarget=F;try{g(d)}catch(K){_o(K)}d.currentTarget=null,g=A}else for(_=0;_<o.length;_++){if(E=o[_],A=E.instance,F=E.currentTarget,E=E.listener,A!==g&&d.isPropagationStopped())break e;g=E,d.currentTarget=F;try{g(d)}catch(K){_o(K)}d.currentTarget=null,g=A}}}}function ke(t,r){var s=r[cr];s===void 0&&(s=r[cr]=new Set);var o=t+"__bubble";s.has(o)||(Np(r,t,2,!1),s.add(o))}function Cd(t,r,s){var o=0;r&&(o|=4),Np(s,t,o,r)}var Mo="_reactListening"+Math.random().toString(36).slice(2);function Rd(t){if(!t[Mo]){t[Mo]=!0,xh.forEach(function(s){s!=="selectionchange"&&(Y0.has(s)||Cd(s,!1,t),Cd(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Mo]||(r[Mo]=!0,Cd("selectionchange",!1,r))}}function Np(t,r,s,o){switch(tv(r)){case 2:var d=bw;break;case 8:d=ww;break;default:d=Fd}s=d.bind(null,r,s,t),d=void 0,!Ku||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(r,s,{capture:!0,passive:d}):t.addEventListener(r,s,!0):d!==void 0?t.addEventListener(r,s,{passive:d}):t.addEventListener(r,s,!1)}function Td(t,r,s,o,d){var g=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===d)break;if(_===4)for(_=o.return;_!==null;){var A=_.tag;if((A===3||A===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;E!==null;){if(_=Ya(E),_===null)return;if(A=_.tag,A===5||A===6||A===26||A===27){o=g=_;continue e}E=E.parentNode}}o=o.return}zh(function(){var F=g,K=Gu(s),Z=[];e:{var B=fg.get(t);if(B!==void 0){var I=Gl,Se=t;switch(t){case"keypress":if(Il(s)===0)break e;case"keydown":case"keyup":I=Hb;break;case"focusin":Se="focus",I=Zu;break;case"focusout":Se="blur",I=Zu;break;case"beforeblur":case"afterblur":I=Zu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Ob;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=Ib;break;case og:case ug:case cg:I=jb;break;case dg:I=Gb;break;case"scroll":case"scrollend":I=Tb;break;case"wheel":I=Kb;break;case"copy":case"cut":case"paste":I=kb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Bh;break;case"toggle":case"beforetoggle":I=Wb}var _e=(r&4)!==0,Ke=!_e&&(t==="scroll"||t==="scrollend"),L=_e?B!==null?B+"Capture":null:B;_e=[];for(var j=F,z;j!==null;){var W=j;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||L===null||(W=is(j,L),W!=null&&_e.push(Hs(j,W,z))),Ke)break;j=j.return}0<_e.length&&(B=new I(B,Se,null,s,K),Z.push({event:B,listeners:_e}))}}if((r&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",B&&s!==qu&&(Se=s.relatedTarget||s.fromElement)&&(Ya(Se)||Se[qt]))break e;if((I||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,I?(Se=s.relatedTarget||s.toElement,I=F,Se=Se?Ya(Se):null,Se!==null&&(Ke=u(Se),_e=Se.tag,Se!==Ke||_e!==5&&_e!==27&&_e!==6)&&(Se=null)):(I=null,Se=F),I!==Se)){if(_e=Hh,W="onMouseLeave",L="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Bh,W="onPointerLeave",L="onPointerEnter",j="pointer"),Ke=I==null?B:as(I),z=Se==null?B:as(Se),B=new _e(W,j+"leave",I,s,K),B.target=Ke,B.relatedTarget=z,W=null,Ya(K)===F&&(_e=new _e(L,j+"enter",Se,s,K),_e.target=z,_e.relatedTarget=Ke,W=_e),Ke=W,I&&Se)t:{for(_e=I,L=Se,j=0,z=_e;z;z=Ti(z))j++;for(z=0,W=L;W;W=Ti(W))z++;for(;0<j-z;)_e=Ti(_e),j--;for(;0<z-j;)L=Ti(L),z--;for(;j--;){if(_e===L||L!==null&&_e===L.alternate)break t;_e=Ti(_e),L=Ti(L)}_e=null}else _e=null;I!==null&&jp(Z,B,I,_e,!1),Se!==null&&Ke!==null&&jp(Z,Ke,Se,_e,!0)}}e:{if(B=F?as(F):window,I=B.nodeName&&B.nodeName.toLowerCase(),I==="select"||I==="input"&&B.type==="file")var fe=Qh;else if(Xh(B))if(Zh)fe=s0;else{fe=a0;var je=r0}else I=B.nodeName,!I||I.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?F&&Iu(F.elementType)&&(fe=Qh):fe=i0;if(fe&&(fe=fe(t,F))){Wh(Z,fe,s,K);break e}je&&je(t,B,F),t==="focusout"&&F&&B.type==="number"&&F.memoizedProps.value!=null&&Bu(B,"number",B.value)}switch(je=F?as(F):window,t){case"focusin":(Xh(je)||je.contentEditable==="true")&&(ri=je,ac=F,hs=null);break;case"focusout":hs=ac=ri=null;break;case"mousedown":ic=!0;break;case"contextmenu":case"mouseup":case"dragend":ic=!1,sg(Z,s,K);break;case"selectionchange":if(o0)break;case"keydown":case"keyup":sg(Z,s,K)}var ve;if(ec)e:{switch(t){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ni?Yh(t,s)&&(we="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(we="onCompositionStart");we&&(Ih&&s.locale!=="ko"&&(ni||we!=="onCompositionStart"?we==="onCompositionEnd"&&ni&&(ve=$h()):($r=K,Xu="value"in $r?$r.value:$r.textContent,ni=!0)),je=ko(F,we),0<je.length&&(we=new Vh(we,t,null,s,K),Z.push({event:we,listeners:je}),ve?we.data=ve:(ve=Kh(s),ve!==null&&(we.data=ve)))),(ve=Zb?Jb(t,s):e0(t,s))&&(we=ko(F,"onBeforeInput"),0<we.length&&(je=new Vh("onBeforeInput","beforeinput",null,s,K),Z.push({event:je,listeners:we}),je.data=ve)),I0(Z,t,F,s,K)}Dp(Z,r)})}function Hs(t,r,s){return{instance:t,listener:r,currentTarget:s}}function ko(t,r){for(var s=r+"Capture",o=[];t!==null;){var d=t,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=is(t,s),d!=null&&o.unshift(Hs(t,d,g)),d=is(t,r),d!=null&&o.push(Hs(t,d,g))),t.tag===3)return o;t=t.return}return[]}function Ti(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jp(t,r,s,o,d){for(var g=r._reactName,_=[];s!==null&&s!==o;){var E=s,A=E.alternate,F=E.stateNode;if(E=E.tag,A!==null&&A===o)break;E!==5&&E!==26&&E!==27||F===null||(A=F,d?(F=is(s,g),F!=null&&_.unshift(Hs(s,F,A))):d||(F=is(s,g),F!=null&&_.push(Hs(s,F,A)))),s=s.return}_.length!==0&&t.push({event:r,listeners:_})}var K0=/\r\n?/g,X0=/\u0000|\uFFFD/g;function Mp(t){return(typeof t=="string"?t:""+t).replace(K0,`
`).replace(X0,"")}function kp(t,r){return r=Mp(r),Mp(t)===r}function Uo(){}function Ye(t,r,s,o,d,g){switch(s){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||Ja(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&Ja(t,""+o);break;case"className":$l(t,"class",o);break;case"tabIndex":$l(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":$l(t,s,o);break;case"style":Lh(t,o,g);break;case"data":if(r!=="object"){$l(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Vl(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(r!=="input"&&Ye(t,r,"name",d.name,d,null),Ye(t,r,"formEncType",d.formEncType,d,null),Ye(t,r,"formMethod",d.formMethod,d,null),Ye(t,r,"formTarget",d.formTarget,d,null)):(Ye(t,r,"encType",d.encType,d,null),Ye(t,r,"method",d.method,d,null),Ye(t,r,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Vl(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=Uo);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Vl(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":ke("beforetoggle",t),ke("toggle",t),zl(t,"popover",o);break;case"xlinkActuate":fr(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":fr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":fr(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":fr(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":fr(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":fr(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":fr(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":fr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":fr(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":zl(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Cb.get(s)||s,zl(t,s,o))}}function Ad(t,r,s,o,d,g){switch(s){case"style":Lh(t,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof o=="string"?Ja(t,o):(typeof o=="number"||typeof o=="bigint")&&Ja(t,""+o);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Uo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ch.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),r=s.slice(2,d?s.length-7:void 0),g=t[nt]||null,g=g!=null?g[s]:null,typeof g=="function"&&t.removeEventListener(r,g,d),typeof o=="function")){typeof g!="function"&&g!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,o,d);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):zl(t,s,o)}}}function Ft(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var o=!1,d=!1,g;for(g in s)if(s.hasOwnProperty(g)){var _=s[g];if(_!=null)switch(g){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ye(t,r,g,_,s,null)}}d&&Ye(t,r,"srcSet",s.srcSet,s,null),o&&Ye(t,r,"src",s.src,s,null);return;case"input":ke("invalid",t);var E=g=_=d=null,A=null,F=null;for(o in s)if(s.hasOwnProperty(o)){var K=s[o];if(K!=null)switch(o){case"name":d=K;break;case"type":_=K;break;case"checked":A=K;break;case"defaultChecked":F=K;break;case"value":g=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:Ye(t,r,o,K,s,null)}}jh(t,g,E,A,F,_,d,!1),Fl(t);return;case"select":ke("invalid",t),o=_=g=null;for(d in s)if(s.hasOwnProperty(d)&&(E=s[d],E!=null))switch(d){case"value":g=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Ye(t,r,d,E,s,null)}r=g,s=_,t.multiple=!!o,r!=null?Za(t,!!o,r,!1):s!=null&&Za(t,!!o,s,!0);return;case"textarea":ke("invalid",t),g=d=o=null;for(_ in s)if(s.hasOwnProperty(_)&&(E=s[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":d=E;break;case"children":g=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:Ye(t,r,_,E,s,null)}kh(t,o,d,g),Fl(t);return;case"option":for(A in s)if(s.hasOwnProperty(A)&&(o=s[A],o!=null))switch(A){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ye(t,r,A,o,s,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(o=0;o<Fs.length;o++)ke(Fs[o],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(o=s[F],o!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ye(t,r,F,o,s,null)}return;default:if(Iu(r)){for(K in s)s.hasOwnProperty(K)&&(o=s[K],o!==void 0&&Ad(t,r,K,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Ye(t,r,E,o,s,null))}function W0(t,r,s,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,_=null,E=null,A=null,F=null,K=null;for(I in s){var Z=s[I];if(s.hasOwnProperty(I)&&Z!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":A=Z;default:o.hasOwnProperty(I)||Ye(t,r,I,null,o,Z)}}for(var B in o){var I=o[B];if(Z=s[B],o.hasOwnProperty(B)&&(I!=null||Z!=null))switch(B){case"type":g=I;break;case"name":d=I;break;case"checked":F=I;break;case"defaultChecked":K=I;break;case"value":_=I;break;case"defaultValue":E=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,r));break;default:I!==Z&&Ye(t,r,B,I,o,Z)}}Vu(t,_,E,A,F,K,g,d);return;case"select":I=_=E=B=null;for(g in s)if(A=s[g],s.hasOwnProperty(g)&&A!=null)switch(g){case"value":break;case"multiple":I=A;default:o.hasOwnProperty(g)||Ye(t,r,g,null,o,A)}for(d in o)if(g=o[d],A=s[d],o.hasOwnProperty(d)&&(g!=null||A!=null))switch(d){case"value":B=g;break;case"defaultValue":E=g;break;case"multiple":_=g;default:g!==A&&Ye(t,r,d,g,o,A)}r=E,s=_,o=I,B!=null?Za(t,!!s,B,!1):!!o!=!!s&&(r!=null?Za(t,!!s,r,!0):Za(t,!!s,s?[]:"",!1));return;case"textarea":I=B=null;for(E in s)if(d=s[E],s.hasOwnProperty(E)&&d!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ye(t,r,E,null,o,d)}for(_ in o)if(d=o[_],g=s[_],o.hasOwnProperty(_)&&(d!=null||g!=null))switch(_){case"value":B=d;break;case"defaultValue":I=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&Ye(t,r,_,d,o,g)}Mh(t,B,I);return;case"option":for(var Se in s)if(B=s[Se],s.hasOwnProperty(Se)&&B!=null&&!o.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:Ye(t,r,Se,null,o,B)}for(A in o)if(B=o[A],I=s[A],o.hasOwnProperty(A)&&B!==I&&(B!=null||I!=null))switch(A){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ye(t,r,A,B,o,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)B=s[_e],s.hasOwnProperty(_e)&&B!=null&&!o.hasOwnProperty(_e)&&Ye(t,r,_e,null,o,B);for(F in o)if(B=o[F],I=s[F],o.hasOwnProperty(F)&&B!==I&&(B!=null||I!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,r));break;default:Ye(t,r,F,B,o,I)}return;default:if(Iu(r)){for(var Ke in s)B=s[Ke],s.hasOwnProperty(Ke)&&B!==void 0&&!o.hasOwnProperty(Ke)&&Ad(t,r,Ke,void 0,o,B);for(K in o)B=o[K],I=s[K],!o.hasOwnProperty(K)||B===I||B===void 0&&I===void 0||Ad(t,r,K,B,o,I);return}}for(var L in s)B=s[L],s.hasOwnProperty(L)&&B!=null&&!o.hasOwnProperty(L)&&Ye(t,r,L,null,o,B);for(Z in o)B=o[Z],I=s[Z],!o.hasOwnProperty(Z)||B===I||B==null&&I==null||Ye(t,r,Z,B,o,I)}var Od=null,Dd=null;function Lo(t){return t.nodeType===9?t:t.ownerDocument}function Up(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lp(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Nd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var jd=null;function Q0(){var t=window.event;return t&&t.type==="popstate"?t===jd?!1:(jd=t,!0):(jd=null,!1)}var Pp=typeof setTimeout=="function"?setTimeout:void 0,Z0=typeof clearTimeout=="function"?clearTimeout:void 0,zp=typeof Promise=="function"?Promise:void 0,J0=typeof queueMicrotask=="function"?queueMicrotask:typeof zp<"u"?function(t){return zp.resolve(null).then(t).catch(ew)}:Pp;function ew(t){setTimeout(function(){throw t})}function ta(t){return t==="head"}function $p(t,r){var s=r,o=0,d=0;do{var g=s.nextSibling;if(t.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"){if(0<o&&8>o){s=o;var _=t.ownerDocument;if(s&1&&Vs(_.documentElement),s&2&&Vs(_.body),s&4)for(s=_.head,Vs(s),_=s.firstChild;_;){var E=_.nextSibling,A=_.nodeName;_[dr]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=E}}if(d===0){t.removeChild(g),Ws(r);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:o=s.charCodeAt(0)-48;else o=0;s=g}while(s);Ws(r)}function Md(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Md(s),zu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function tw(t,r,s,o){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[dr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function nw(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ln(t.nextSibling),t===null))return null;return t}function kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function rw(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var o=function(){r(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Ln(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Ud=null;function Fp(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function Hp(t,r,s){switch(r=Lo(s),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Vs(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);zu(t)}var An=new Map,Vp=new Set;function Po(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Rr=Q.d;Q.d={f:aw,r:iw,D:sw,C:lw,L:ow,m:uw,X:dw,S:cw,M:fw};function aw(){var t=Rr.f(),r=Ao();return t||r}function iw(t){var r=Ka(t);r!==null&&r.tag===5&&r.type==="form"?om(r):Rr.r(t)}var Ai=typeof document>"u"?null:document;function Bp(t,r,s){var o=Ai;if(o&&typeof r=="string"&&r){var d=wn(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),Vp.has(d)||(Vp.add(d),t={rel:t,crossOrigin:s,href:r},o.querySelector(d)===null&&(r=o.createElement("link"),Ft(r,"link",t),Ot(r),o.head.appendChild(r)))}}function sw(t){Rr.D(t),Bp("dns-prefetch",t,null)}function lw(t,r){Rr.C(t,r),Bp("preconnect",t,r)}function ow(t,r,s){Rr.L(t,r,s);var o=Ai;if(o&&t&&r){var d='link[rel="preload"][as="'+wn(r)+'"]';r==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+wn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+wn(s.imageSizes)+'"]')):d+='[href="'+wn(t)+'"]';var g=d;switch(r){case"style":g=Oi(t);break;case"script":g=Di(t)}An.has(g)||(t=v({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),An.set(g,t),o.querySelector(d)!==null||r==="style"&&o.querySelector(Bs(g))||r==="script"&&o.querySelector(Is(g))||(r=o.createElement("link"),Ft(r,"link",t),Ot(r),o.head.appendChild(r)))}}function uw(t,r){Rr.m(t,r);var s=Ai;if(s&&t){var o=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+wn(o)+'"][href="'+wn(t)+'"]',g=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Di(t)}if(!An.has(g)&&(t=v({rel:"modulepreload",href:t},r),An.set(g,t),s.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Is(g)))return}o=s.createElement("link"),Ft(o,"link",t),Ot(o),s.head.appendChild(o)}}}function cw(t,r,s){Rr.S(t,r,s);var o=Ai;if(o&&t){var d=Xa(o).hoistableStyles,g=Oi(t);r=r||"default";var _=d.get(g);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(Bs(g)))E.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":r},s),(s=An.get(g))&&Ld(t,s);var A=_=o.createElement("link");Ot(A),Ft(A,"link",t),A._p=new Promise(function(F,K){A.onload=F,A.onerror=K}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,zo(_,r,o)}_={type:"stylesheet",instance:_,count:1,state:E},d.set(g,_)}}}function dw(t,r){Rr.X(t,r);var s=Ai;if(s&&t){var o=Xa(s).hoistableScripts,d=Di(t),g=o.get(d);g||(g=s.querySelector(Is(d)),g||(t=v({src:t,async:!0},r),(r=An.get(d))&&Pd(t,r),g=s.createElement("script"),Ot(g),Ft(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(d,g))}}function fw(t,r){Rr.M(t,r);var s=Ai;if(s&&t){var o=Xa(s).hoistableScripts,d=Di(t),g=o.get(d);g||(g=s.querySelector(Is(d)),g||(t=v({src:t,async:!0,type:"module"},r),(r=An.get(d))&&Pd(t,r),g=s.createElement("script"),Ot(g),Ft(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(d,g))}}function Ip(t,r,s,o){var d=(d=he.current)?Po(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Oi(s.href),s=Xa(d).hoistableStyles,o=s.get(r),o||(o={type:"style",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Oi(s.href);var g=Xa(d).hoistableStyles,_=g.get(t);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,_),(g=d.querySelector(Bs(t)))&&!g._p&&(_.instance=g,_.state.loading=5),An.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},An.set(t,s),g||hw(d,t,s,_.state))),r&&o===null)throw Error(i(528,""));return _}if(r&&o!==null)throw Error(i(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Di(s),s=Xa(d).hoistableScripts,o=s.get(r),o||(o={type:"script",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Oi(t){return'href="'+wn(t)+'"'}function Bs(t){return'link[rel="stylesheet"]['+t+"]"}function qp(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function hw(t,r,s,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),Ft(r,"link",s),Ot(r),t.head.appendChild(r))}function Di(t){return'[src="'+wn(t)+'"]'}function Is(t){return"script[async]"+t}function Gp(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+wn(s.href)+'"]');if(o)return r.instance=o,Ot(o),o;var d=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ot(o),Ft(o,"style",d),zo(o,s.precedence,t),r.instance=o;case"stylesheet":d=Oi(s.href);var g=t.querySelector(Bs(d));if(g)return r.state.loading|=4,r.instance=g,Ot(g),g;o=qp(s),(d=An.get(d))&&Ld(o,d),g=(t.ownerDocument||t).createElement("link"),Ot(g);var _=g;return _._p=new Promise(function(E,A){_.onload=E,_.onerror=A}),Ft(g,"link",o),r.state.loading|=4,zo(g,s.precedence,t),r.instance=g;case"script":return g=Di(s.src),(d=t.querySelector(Is(g)))?(r.instance=d,Ot(d),d):(o=s,(d=An.get(g))&&(o=v({},s),Pd(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),Ot(d),Ft(d,"link",o),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,zo(o,s.precedence,t));return r.instance}function zo(t,r,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,g=d,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===r)g=E;else if(g!==d)break}g?g.parentNode.insertBefore(t,g.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function Ld(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Pd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var $o=null;function Yp(t,r,s){if($o===null){var o=new Map,d=$o=new Map;d.set(s,o)}else d=$o,o=d.get(s),o||(o=new Map,d.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var g=s[d];if(!(g[dr]||g[tt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(r)||"";_=t+_;var E=o.get(_);E?E.push(g):o.set(_,[g])}}return o}function Kp(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function gw(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Xp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var qs=null;function mw(){}function pw(t,r,s){if(qs===null)throw Error(i(475));var o=qs;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Oi(s.href),g=t.querySelector(Bs(d));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Fo.bind(o),t.then(o,o)),r.state.loading|=4,r.instance=g,Ot(g);return}g=t.ownerDocument||t,s=qp(s),(d=An.get(d))&&Ld(s,d),g=g.createElement("link"),Ot(g);var _=g;_._p=new Promise(function(E,A){_.onload=E,_.onerror=A}),Ft(g,"link",s),r.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=Fo.bind(o),t.addEventListener("load",r),t.addEventListener("error",r))}}function vw(){if(qs===null)throw Error(i(475));var t=qs;return t.stylesheets&&t.count===0&&zd(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&zd(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Fo(){if(this.count--,this.count===0){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ho=null;function zd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ho=new Map,r.forEach(yw,t),Ho=null,Fo.call(t))}function yw(t,r){if(!(r.state.loading&4)){var s=Ho.get(t);if(s)var o=s.get(null);else{s=new Map,Ho.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var _=d[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),o=_)}o&&s.set(null,o)}d=r.instance,_=d.getAttribute("data-precedence"),g=s.get(_)||o,g===o&&s.set(null,d),s.set(_,d),this.count++,o=Fo.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),g?g.parentNode.insertBefore(d,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var Gs={$$typeof:R,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function _w(t,r,s,o,d,g,_,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rs(0),this.hiddenUpdates=rs(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Wp(t,r,s,o,d,g,_,E,A,F,K,Z){return t=new _w(t,r,s,_,E,A,F,Z),r=1,g===!0&&(r|=24),g=fn(3,null,null,r),t.current=g,g.stateNode=t,r=_c(),r.refCount++,t.pooledCache=r,r.refCount++,g.memoizedState={element:o,isDehydrated:s,cache:r},Ec(g),t}function Qp(t){return t?(t=li,t):li}function Zp(t,r,s,o,d,g){d=Qp(d),o.context===null?o.context=d:o.pendingContext=d,o=Vr(r),o.payload={element:s},g=g===void 0?null:g,g!==null&&(o.callback=g),s=Br(t,o,r),s!==null&&(vn(s,t,r),Ss(s,t,r))}function Jp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function $d(t,r){Jp(t,r),(t=t.alternate)&&Jp(t,r)}function ev(t){if(t.tag===13){var r=si(t,67108864);r!==null&&vn(r,t,67108864),$d(t,67108864)}}var Vo=!0;function bw(t,r,s,o){var d=H.T;H.T=null;var g=Q.p;try{Q.p=2,Fd(t,r,s,o)}finally{Q.p=g,H.T=d}}function ww(t,r,s,o){var d=H.T;H.T=null;var g=Q.p;try{Q.p=8,Fd(t,r,s,o)}finally{Q.p=g,H.T=d}}function Fd(t,r,s,o){if(Vo){var d=Hd(o);if(d===null)Td(t,r,o,Bo,s),nv(t,o);else if(Ew(d,t,r,s,o))o.stopPropagation();else if(nv(t,o),r&4&&-1<Sw.indexOf(t)){for(;d!==null;){var g=Ka(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=un(g.pendingLanes);if(_!==0){var E=g;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var A=1<<31-ze(_);E.entanglements[1]|=A,_&=~A}tr(g),(Ve&6)===0&&(Ro=Xt()+500,$s(0))}}break;case 13:E=si(g,2),E!==null&&vn(E,g,2),Ao(),$d(g,2)}if(g=Hd(o),g===null&&Td(t,r,o,Bo,s),g===d)break;d=g}d!==null&&o.stopPropagation()}else Td(t,r,o,null,s)}}function Hd(t){return t=Gu(t),Vd(t)}var Bo=null;function Vd(t){if(Bo=null,t=Ya(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=c(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Bo=t,null}function tv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ns()){case lr:return 2;case D:return 8;case $:case Y:return 32;case le:return 268435456;default:return 32}default:return 32}}var Bd=!1,na=null,ra=null,aa=null,Ys=new Map,Ks=new Map,ia=[],Sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nv(t,r){switch(t){case"focusin":case"focusout":na=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":Ys.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(r.pointerId)}}function Xs(t,r,s,o,d,g){return t===null||t.nativeEvent!==g?(t={blockedOn:r,domEventName:s,eventSystemFlags:o,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Ka(r),r!==null&&ev(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function Ew(t,r,s,o,d){switch(r){case"focusin":return na=Xs(na,t,r,s,o,d),!0;case"dragenter":return ra=Xs(ra,t,r,s,o,d),!0;case"mouseover":return aa=Xs(aa,t,r,s,o,d),!0;case"pointerover":var g=d.pointerId;return Ys.set(g,Xs(Ys.get(g)||null,t,r,s,o,d)),!0;case"gotpointercapture":return g=d.pointerId,Ks.set(g,Xs(Ks.get(g)||null,t,r,s,o,d)),!0}return!1}function rv(t){var r=Ya(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=c(s),r!==null){t.blockedOn=r,Pr(t.priority,function(){if(s.tag===13){var o=pn();o=It(o);var d=si(s,o);d!==null&&vn(d,s,o),$d(s,o)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Io(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=Hd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);qu=o,s.target.dispatchEvent(o),qu=null}else return r=Ka(s),r!==null&&ev(r),t.blockedOn=s,!1;r.shift()}return!0}function av(t,r,s){Io(t)&&s.delete(r)}function xw(){Bd=!1,na!==null&&Io(na)&&(na=null),ra!==null&&Io(ra)&&(ra=null),aa!==null&&Io(aa)&&(aa=null),Ys.forEach(av),Ks.forEach(av)}function qo(t,r){t.blockedOn===r&&(t.blockedOn=null,Bd||(Bd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xw)))}var Go=null;function iv(t){Go!==t&&(Go=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Go===t&&(Go=null);for(var r=0;r<t.length;r+=3){var s=t[r],o=t[r+1],d=t[r+2];if(typeof o!="function"){if(Vd(o||s)===null)continue;break}var g=Ka(s);g!==null&&(t.splice(r,3),r-=3,Vc(g,{pending:!0,data:d,method:s.method,action:o},o,d))}}))}function Ws(t){function r(A){return qo(A,t)}na!==null&&qo(na,t),ra!==null&&qo(ra,t),aa!==null&&qo(aa,t),Ys.forEach(r),Ks.forEach(r);for(var s=0;s<ia.length;s++){var o=ia[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ia.length&&(s=ia[0],s.blockedOn===null);)rv(s),s.blockedOn===null&&ia.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var d=s[o],g=s[o+1],_=d[nt]||null;if(typeof g=="function")_||iv(s);else if(_){var E=null;if(g&&g.hasAttribute("formAction")){if(d=g,_=g[nt]||null)E=_.formAction;else if(Vd(d)!==null)continue}else E=_.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),iv(s)}}}function Id(t){this._internalRoot=t}Yo.prototype.render=Id.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var s=r.current,o=pn();Zp(s,o,t,r,null,null)},Yo.prototype.unmount=Id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Zp(t.current,2,null,t,null,null),Ao(),r[qt]=null}};function Yo(t){this._internalRoot=t}Yo.prototype.unstable_scheduleHydration=function(t){if(t){var r=cn();t={blockedOn:null,target:t,priority:r};for(var s=0;s<ia.length&&r!==0&&r<ia[s].priority;s++);ia.splice(s,0,t),s===0&&rv(t)}};var sv=n.version;if(sv!=="19.1.1")throw Error(i(527,sv,"19.1.1"));Q.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=h(r),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var Cw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ko.isDisabled&&Ko.supportsFiber)try{ge=Ko.inject(Cw),be=Ko}catch{}}return Zs.createRoot=function(t,r){if(!l(t))throw Error(i(299));var s=!1,o="",d=Sm,g=Em,_=xm,E=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=Wp(t,1,!1,null,null,s,o,d,g,_,E,null),t[qt]=r.current,Rd(t),new Id(r)},Zs.hydrateRoot=function(t,r,s){if(!l(t))throw Error(i(299));var o=!1,d="",g=Sm,_=Em,E=xm,A=null,F=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks),s.formState!==void 0&&(F=s.formState)),r=Wp(t,1,!0,r,s??null,o,d,g,_,E,A,F),r.context=Qp(null),s=r.current,o=pn(),o=It(o),d=Vr(o),d.callback=null,Br(s,d,o),s=o,r.current.lanes=s,dt(r,s),tr(r),t[qt]=r.current,Rd(t),new Yo(r)},Zs.version="19.1.1",Zs}var pv;function Uw(){if(pv)return Yd.exports;pv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Yd.exports=kw(),Yd.exports}var Lw=Uw();const Pw=qf(Lw);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vv="popstate";function zw(e={}){function n(i,l){let{pathname:u,search:c,hash:f}=i.location;return Ef("",{pathname:u,search:c,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function a(i,l){return typeof l=="string"?l:bl(l)}return Fw(n,a,null,e)}function ot(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Vn(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function $w(){return Math.random().toString(36).substring(2,10)}function yv(e,n){return{usr:e.state,key:e.key,idx:n}}function Ef(e,n,a=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?Xi(n):n,state:a,key:n&&n.key||i||$w()}}function bl({pathname:e="/",search:n="",hash:a=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Xi(e){let n={};if(e){let a=e.indexOf("#");a>=0&&(n.hash=e.substring(a),e=e.substring(0,a));let i=e.indexOf("?");i>=0&&(n.search=e.substring(i),e=e.substring(0,i)),e&&(n.pathname=e)}return n}function Fw(e,n,a,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,c=l.history,f="POP",h=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function y(){f="POP";let T=v(),N=T==null?null:T-m;m=T,h&&h({action:f,location:C.location,delta:N})}function b(T,N){f="PUSH";let U=Ef(C.location,T,N);m=v()+1;let R=yv(U,m),M=C.createHref(U);try{c.pushState(R,"",M)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;l.location.assign(M)}u&&h&&h({action:f,location:C.location,delta:1})}function w(T,N){f="REPLACE";let U=Ef(C.location,T,N);m=v();let R=yv(U,m),M=C.createHref(U);c.replaceState(R,"",M),u&&h&&h({action:f,location:C.location,delta:0})}function S(T){return Hw(T)}let C={get action(){return f},get location(){return e(l,c)},listen(T){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(vv,y),h=T,()=>{l.removeEventListener(vv,y),h=null}},createHref(T){return n(l,T)},createURL:S,encodeLocation(T){let N=S(T);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:w,go(T){return c.go(T)}};return C}function Hw(e,n=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),ot(a,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:bl(e);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=a+i),new URL(i,a)}function zy(e,n,a="/"){return Vw(e,n,a,!1)}function Vw(e,n,a,i){let l=typeof n=="string"?Xi(n):n,u=Mr(l.pathname||"/",a);if(u==null)return null;let c=$y(e);Bw(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=eS(u);f=Zw(c[h],m,i)}return f}function $y(e,n=[],a=[],i="",l=!1){let u=(c,f,h=l,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&h)return;ot(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let y=jr([i,v.relativePath]),b=a.concat(v);c.children&&c.children.length>0&&(ot(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),$y(c.children,n,b,y,h)),!(c.path==null&&!c.index)&&n.push({path:y,score:Ww(y,c.index),routesMeta:b})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))u(c,f);else for(let h of Fy(c.path))u(c,f,!0,h)}),n}function Fy(e){let n=e.split("/");if(n.length===0)return[];let[a,...i]=n,l=a.endsWith("?"),u=a.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let c=Fy(i.join("/")),f=[];return f.push(...c.map(h=>h===""?u:[u,h].join("/"))),l&&f.push(...c),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function Bw(e){e.sort((n,a)=>n.score!==a.score?a.score-n.score:Qw(n.routesMeta.map(i=>i.childrenIndex),a.routesMeta.map(i=>i.childrenIndex)))}var Iw=/^:[\w-]+$/,qw=3,Gw=2,Yw=1,Kw=10,Xw=-2,_v=e=>e==="*";function Ww(e,n){let a=e.split("/"),i=a.length;return a.some(_v)&&(i+=Xw),n&&(i+=Gw),a.filter(l=>!_v(l)).reduce((l,u)=>l+(Iw.test(u)?qw:u===""?Yw:Kw),i)}function Qw(e,n){return e.length===n.length&&e.slice(0,-1).every((i,l)=>i===n[l])?e[e.length-1]-n[n.length-1]:0}function Zw(e,n,a=!1){let{routesMeta:i}=e,l={},u="/",c=[];for(let f=0;f<i.length;++f){let h=i[f],m=f===i.length-1,v=u==="/"?n:n.slice(u.length)||"/",y=cu({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),b=h.route;if(!y&&m&&a&&!i[i.length-1].route.index&&(y=cu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!y)return null;Object.assign(l,y.params),c.push({params:l,pathname:jr([u,y.pathname]),pathnameBase:aS(jr([u,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(u=jr([u,y.pathnameBase]))}return c}function cu(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,i]=Jw(e.path,e.caseSensitive,e.end),l=n.match(a);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:y},b)=>{if(v==="*"){let S=f[b]||"";c=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const w=f[b];return y&&!w?m[v]=void 0:m[v]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:e}}function Jw(e,n=!1,a=!0){Vn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),i]}function eS(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Vn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function Mr(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,i=e.charAt(a);return i&&i!=="/"?null:e.slice(a)||"/"}function tS(e,n="/"){let{pathname:a,search:i="",hash:l=""}=typeof e=="string"?Xi(e):e;return{pathname:a?a.startsWith("/")?a:nS(a,n):n,search:iS(i),hash:sS(l)}}function nS(e,n){let a=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?a.length>1&&a.pop():l!=="."&&a.push(l)}),a.length>1?a.join("/"):"/"}function Qd(e,n,a,i){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rS(e){return e.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function Yf(e){let n=rS(e);return n.map((a,i)=>i===n.length-1?a.pathname:a.pathnameBase)}function Kf(e,n,a,i=!1){let l;typeof e=="string"?l=Xi(e):(l={...e},ot(!l.pathname||!l.pathname.includes("?"),Qd("?","pathname","search",l)),ot(!l.pathname||!l.pathname.includes("#"),Qd("#","pathname","hash",l)),ot(!l.search||!l.search.includes("#"),Qd("#","search","hash",l)));let u=e===""||l.pathname==="",c=u?"/":l.pathname,f;if(c==null)f=a;else{let y=n.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;l.pathname=b.join("/")}f=y>=0?n[y]:"/"}let h=tS(l,f),m=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&a.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}var jr=e=>e.join("/").replace(/\/\/+/g,"/"),aS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Hy=["POST","PUT","PATCH","DELETE"];new Set(Hy);var oS=["GET",...Hy];new Set(oS);var Wi=x.createContext(null);Wi.displayName="DataRouter";var Cu=x.createContext(null);Cu.displayName="DataRouterState";x.createContext(!1);var Vy=x.createContext({isTransitioning:!1});Vy.displayName="ViewTransition";var uS=x.createContext(new Map);uS.displayName="Fetchers";var cS=x.createContext(null);cS.displayName="Await";var qn=x.createContext(null);qn.displayName="Navigation";var Al=x.createContext(null);Al.displayName="Location";var jn=x.createContext({outlet:null,matches:[],isDataRoute:!1});jn.displayName="Route";var Xf=x.createContext(null);Xf.displayName="RouteError";function dS(e,{relative:n}={}){ot(Qi(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:i}=x.useContext(qn),{hash:l,pathname:u,search:c}=Ol(e,{relative:n}),f=u;return a!=="/"&&(f=u==="/"?a:jr([a,u])),i.createHref({pathname:f,search:c,hash:l})}function Qi(){return x.useContext(Al)!=null}function Ur(){return ot(Qi(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Al).location}var By="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Iy(e){x.useContext(qn).static||x.useLayoutEffect(e)}function Ru(){let{isDataRoute:e}=x.useContext(jn);return e?TS():fS()}function fS(){ot(Qi(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Wi),{basename:n,navigator:a}=x.useContext(qn),{matches:i}=x.useContext(jn),{pathname:l}=Ur(),u=JSON.stringify(Yf(i)),c=x.useRef(!1);return Iy(()=>{c.current=!0}),x.useCallback((h,m={})=>{if(Vn(c.current,By),!c.current)return;if(typeof h=="number"){a.go(h);return}let v=Kf(h,JSON.parse(u),l,m.relative==="path");e==null&&n!=="/"&&(v.pathname=v.pathname==="/"?n:jr([n,v.pathname])),(m.replace?a.replace:a.push)(v,m.state,m)},[n,a,u,l,e])}var hS=x.createContext(null);function gS(e){let n=x.useContext(jn).outlet;return n&&x.createElement(hS.Provider,{value:e},n)}function mS(){let{matches:e}=x.useContext(jn),n=e[e.length-1];return n?n.params:{}}function Ol(e,{relative:n}={}){let{matches:a}=x.useContext(jn),{pathname:i}=Ur(),l=JSON.stringify(Yf(a));return x.useMemo(()=>Kf(e,JSON.parse(l),i,n==="path"),[e,l,i,n])}function pS(e,n){return qy(e,n)}function qy(e,n,a,i){ot(Qi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=x.useContext(qn),{matches:u}=x.useContext(jn),c=u[u.length-1],f=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",v=c&&c.route;{let N=v&&v.path||"";Gy(h,!v||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let y=Ur(),b;if(n){let N=typeof n=="string"?Xi(n):n;ot(m==="/"||N.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${N.pathname}" was given in the \`location\` prop.`),b=N}else b=y;let w=b.pathname||"/",S=w;if(m!=="/"){let N=m.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=zy(e,{pathname:S});Vn(v||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Vn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=wS(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:jr([m,l.encodeLocation?l.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?m:jr([m,l.encodeLocation?l.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),u,a,i);return n&&T?x.createElement(Al.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function vS(){let e=RS(),n=lS(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:u},"ErrorBoundary")," or"," ",x.createElement("code",{style:u},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},n),a?x.createElement("pre",{style:l},a):null,c)}var yS=x.createElement(vS,null),_S=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(jn.Provider,{value:this.props.routeContext},x.createElement(Xf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bS({routeContext:e,match:n,children:a}){let i=x.useContext(Wi);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(jn.Provider,{value:e},a)}function wS(e,n=[],a=null,i=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(n.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let l=e,u=a?.errors;if(u!=null){let h=l.findIndex(m=>m.route.id&&u?.[m.route.id]!==void 0);ot(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,f=-1;if(a)for(let h=0;h<l.length;h++){let m=l[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:v,errors:y}=a,b=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||b){c=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((h,m,v)=>{let y,b=!1,w=null,S=null;a&&(y=u&&m.route.id?u[m.route.id]:void 0,w=m.route.errorElement||yS,c&&(f<0&&v===0?(Gy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):f===v&&(b=!0,S=m.route.hydrateFallbackElement||null)));let C=n.concat(l.slice(0,v+1)),T=()=>{let N;return y?N=w:b?N=S:m.route.Component?N=x.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=h,x.createElement(bS,{match:m,routeContext:{outlet:h,matches:C,isDataRoute:a!=null},children:N})};return a&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?x.createElement(_S,{location:a.location,revalidation:a.revalidation,component:w,error:y,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):T()},null)}function Wf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SS(e){let n=x.useContext(Wi);return ot(n,Wf(e)),n}function ES(e){let n=x.useContext(Cu);return ot(n,Wf(e)),n}function xS(e){let n=x.useContext(jn);return ot(n,Wf(e)),n}function Qf(e){let n=xS(e),a=n.matches[n.matches.length-1];return ot(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function CS(){return Qf("useRouteId")}function RS(){let e=x.useContext(Xf),n=ES("useRouteError"),a=Qf("useRouteError");return e!==void 0?e:n.errors?.[a]}function TS(){let{router:e}=SS("useNavigate"),n=Qf("useNavigate"),a=x.useRef(!1);return Iy(()=>{a.current=!0}),x.useCallback(async(l,u={})=>{Vn(a.current,By),a.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:n,...u}))},[e,n])}var bv={};function Gy(e,n,a){!n&&!bv[e]&&(bv[e]=!0,Vn(!1,a))}x.memo(AS);function AS({routes:e,future:n,state:a}){return qy(e,void 0,a,n)}function Yy({to:e,replace:n,state:a,relative:i}){ot(Qi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=x.useContext(qn);Vn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=x.useContext(jn),{pathname:c}=Ur(),f=Ru(),h=Kf(e,Yf(u),c,i==="path"),m=JSON.stringify(h);return x.useEffect(()=>{f(JSON.parse(m),{replace:n,state:a,relative:i})},[f,m,i,n,a]),null}function Ky(e){return gS(e.context)}function yn(e){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OS({basename:e="/",children:n=null,location:a,navigationType:i="POP",navigator:l,static:u=!1}){ot(!Qi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:c,navigator:l,static:u,future:{}}),[c,l,u]);typeof a=="string"&&(a=Xi(a));let{pathname:h="/",search:m="",hash:v="",state:y=null,key:b="default"}=a,w=x.useMemo(()=>{let S=Mr(h,c);return S==null?null:{location:{pathname:S,search:m,hash:v,state:y,key:b},navigationType:i}},[c,h,m,v,y,b,i]);return Vn(w!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:x.createElement(qn.Provider,{value:f},x.createElement(Al.Provider,{children:n,value:w}))}function DS({children:e,location:n}){return pS(xf(e),n)}function xf(e,n=[]){let a=[];return x.Children.forEach(e,(i,l)=>{if(!x.isValidElement(i))return;let u=[...n,l];if(i.type===x.Fragment){a.push.apply(a,xf(i.props.children,u));return}ot(i.type===yn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=xf(i.props.children,u)),a.push(c)}),a}var su="get",lu="application/x-www-form-urlencoded";function Tu(e){return e!=null&&typeof e.tagName=="string"}function NS(e){return Tu(e)&&e.tagName.toLowerCase()==="button"}function jS(e){return Tu(e)&&e.tagName.toLowerCase()==="form"}function MS(e){return Tu(e)&&e.tagName.toLowerCase()==="input"}function kS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function US(e,n){return e.button===0&&(!n||n==="_self")&&!kS(e)}var Xo=null;function LS(){if(Xo===null)try{new FormData(document.createElement("form"),0),Xo=!1}catch{Xo=!0}return Xo}var PS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zd(e){return e!=null&&!PS.has(e)?(Vn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lu}"`),null):e}function zS(e,n){let a,i,l,u,c;if(jS(e)){let f=e.getAttribute("action");i=f?Mr(f,n):null,a=e.getAttribute("method")||su,l=Zd(e.getAttribute("enctype"))||lu,u=new FormData(e)}else if(NS(e)||MS(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(i=h?Mr(h,n):null,a=e.getAttribute("formmethod")||f.getAttribute("method")||su,l=Zd(e.getAttribute("formenctype"))||Zd(f.getAttribute("enctype"))||lu,u=new FormData(f,e),!LS()){let{name:m,type:v,value:y}=e;if(v==="image"){let b=m?`${m}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else m&&u.append(m,y)}}else{if(Tu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=su,i=null,l=lu,c=e}return u&&l==="text/plain"&&(c=u,u=void 0),{action:i,method:a.toLowerCase(),encType:l,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zf(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function $S(e,n,a){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${a}`:n&&Mr(i.pathname,n)==="/"?i.pathname=`${n.replace(/\/$/,"")}/_root.${a}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${a}`,i}async function FS(e,n){if(e.id in n)return n[e.id];try{let a=await import(e.module);return n[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HS(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function VS(e,n,a){let i=await Promise.all(e.map(async l=>{let u=n.routes[l.route.id];if(u){let c=await FS(u,a);return c.links?c.links():[]}return[]}));return GS(i.flat(1).filter(HS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function wv(e,n,a,i,l,u){let c=(h,m)=>a[m]?h.route.id!==a[m].route.id:!0,f=(h,m)=>a[m].pathname!==h.pathname||a[m].route.path?.endsWith("*")&&a[m].params["*"]!==h.params["*"];return u==="assets"?n.filter((h,m)=>c(h,m)||f(h,m)):u==="data"?n.filter((h,m)=>{let v=i.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function BS(e,n,{includeHydrateFallback:a}={}){return IS(e.map(i=>{let l=n.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),a&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function IS(e){return[...new Set(e)]}function qS(e){let n={},a=Object.keys(e).sort();for(let i of a)n[i]=e[i];return n}function GS(e,n){let a=new Set;return new Set(n),e.reduce((i,l)=>{let u=JSON.stringify(qS(l));return a.has(u)||(a.add(u),i.push({key:u,link:l})),i},[])}function Xy(){let e=x.useContext(Wi);return Zf(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function YS(){let e=x.useContext(Cu);return Zf(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Jf=x.createContext(void 0);Jf.displayName="FrameworkContext";function Wy(){let e=x.useContext(Jf);return Zf(e,"You must render this element inside a <HydratedRouter> element"),e}function KS(e,n){let a=x.useContext(Jf),[i,l]=x.useState(!1),[u,c]=x.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=n,b=x.useRef(null);x.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let C=N=>{N.forEach(U=>{c(U.isIntersecting)})},T=new IntersectionObserver(C,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[e]),x.useEffect(()=>{if(i){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[i]);let w=()=>{l(!0)},S=()=>{l(!1),c(!1)};return a?e!=="intent"?[u,b,{}]:[u,b,{onFocus:Js(f,w),onBlur:Js(h,S),onMouseEnter:Js(m,w),onMouseLeave:Js(v,S),onTouchStart:Js(y,w)}]:[!1,b,{}]}function Js(e,n){return a=>{e&&e(a),a.defaultPrevented||n(a)}}function XS({page:e,...n}){let{router:a}=Xy(),i=x.useMemo(()=>zy(a.routes,e,a.basename),[a.routes,e,a.basename]);return i?x.createElement(QS,{page:e,matches:i,...n}):null}function WS(e){let{manifest:n,routeModules:a}=Wy(),[i,l]=x.useState([]);return x.useEffect(()=>{let u=!1;return VS(e,n,a).then(c=>{u||l(c)}),()=>{u=!0}},[e,n,a]),i}function QS({page:e,matches:n,...a}){let i=Ur(),{manifest:l,routeModules:u}=Wy(),{basename:c}=Xy(),{loaderData:f,matches:h}=YS(),m=x.useMemo(()=>wv(e,n,h,l,i,"data"),[e,n,h,l,i]),v=x.useMemo(()=>wv(e,n,h,l,i,"assets"),[e,n,h,l,i]),y=x.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let S=new Set,C=!1;if(n.forEach(N=>{let U=l.routes[N.route.id];!U||!U.hasLoader||(!m.some(R=>R.route.id===N.route.id)&&N.route.id in f&&u[N.route.id]?.shouldRevalidate||U.hasClientLoader?C=!0:S.add(N.route.id))}),S.size===0)return[];let T=$S(e,c,"data");return C&&S.size>0&&T.searchParams.set("_routes",n.filter(N=>S.has(N.route.id)).map(N=>N.route.id).join(",")),[T.pathname+T.search]},[c,f,i,l,m,n,e,u]),b=x.useMemo(()=>BS(v,l),[v,l]),w=WS(v);return x.createElement(x.Fragment,null,y.map(S=>x.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...a})),b.map(S=>x.createElement("link",{key:S,rel:"modulepreload",href:S,...a})),w.map(({key:S,link:C})=>x.createElement("link",{key:S,nonce:a.nonce,...C})))}function ZS(...e){return n=>{e.forEach(a=>{typeof a=="function"?a(n):a!=null&&(a.current=n)})}}var Qy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qy&&(window.__reactRouterVersion="7.8.1")}catch{}function JS({basename:e,children:n,window:a}){let i=x.useRef();i.current==null&&(i.current=zw({window:a,v5Compat:!0}));let l=i.current,[u,c]=x.useState({action:l.action,location:l.location}),f=x.useCallback(h=>{x.startTransition(()=>c(h))},[c]);return x.useLayoutEffect(()=>l.listen(f),[l,f]),x.createElement(OS,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l})}var Zy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nn=x.forwardRef(function({onClick:n,discover:a="render",prefetch:i="none",relative:l,reloadDocument:u,replace:c,state:f,target:h,to:m,preventScrollReset:v,viewTransition:y,...b},w){let{basename:S}=x.useContext(qn),C=typeof m=="string"&&Zy.test(m),T,N=!1;if(typeof m=="string"&&C&&(T=m,Qy))try{let te=new URL(window.location.href),ue=m.startsWith("//")?new URL(te.protocol+m):new URL(m),ie=Mr(ue.pathname,S);ue.origin===te.origin&&ie!=null?m=ie+ue.search+ue.hash:N=!0}catch{Vn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=dS(m,{relative:l}),[R,M,k]=KS(i,b),V=rE(m,{replace:c,state:f,target:h,preventScrollReset:v,relative:l,viewTransition:y});function P(te){n&&n(te),te.defaultPrevented||V(te)}let X=x.createElement("a",{...b,...k,href:T||U,onClick:N||u?n:P,ref:ZS(w,M),target:h,"data-discover":!C&&a==="render"?"true":void 0});return R&&!C?x.createElement(x.Fragment,null,X,x.createElement(XS,{page:U})):X});Nn.displayName="Link";var eE=x.forwardRef(function({"aria-current":n="page",caseSensitive:a=!1,className:i="",end:l=!1,style:u,to:c,viewTransition:f,children:h,...m},v){let y=Ol(c,{relative:m.relative}),b=Ur(),w=x.useContext(Cu),{navigator:S,basename:C}=x.useContext(qn),T=w!=null&&oE(y)&&f===!0,N=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,U=b.pathname,R=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(U=U.toLowerCase(),R=R?R.toLowerCase():null,N=N.toLowerCase()),R&&C&&(R=Mr(R,C)||R);const M=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let k=U===N||!l&&U.startsWith(N)&&U.charAt(M)==="/",V=R!=null&&(R===N||!l&&R.startsWith(N)&&R.charAt(N.length)==="/"),P={isActive:k,isPending:V,isTransitioning:T},X=k?n:void 0,te;typeof i=="function"?te=i(P):te=[i,k?"active":null,V?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let ue=typeof u=="function"?u(P):u;return x.createElement(Nn,{...m,"aria-current":X,className:te,ref:v,style:ue,to:c,viewTransition:f},typeof h=="function"?h(P):h)});eE.displayName="NavLink";var tE=x.forwardRef(({discover:e="render",fetcherKey:n,navigate:a,reloadDocument:i,replace:l,state:u,method:c=su,action:f,onSubmit:h,relative:m,preventScrollReset:v,viewTransition:y,...b},w)=>{let S=sE(),C=lE(f,{relative:m}),T=c.toLowerCase()==="get"?"get":"post",N=typeof f=="string"&&Zy.test(f),U=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let M=R.nativeEvent.submitter,k=M?.getAttribute("formmethod")||c;S(M||R.currentTarget,{fetcherKey:n,method:k,navigate:a,replace:l,state:u,relative:m,preventScrollReset:v,viewTransition:y})};return x.createElement("form",{ref:w,method:T,action:C,onSubmit:i?h:U,...b,"data-discover":!N&&e==="render"?"true":void 0})});tE.displayName="Form";function nE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jy(e){let n=x.useContext(Wi);return ot(n,nE(e)),n}function rE(e,{target:n,replace:a,state:i,preventScrollReset:l,relative:u,viewTransition:c}={}){let f=Ru(),h=Ur(),m=Ol(e,{relative:u});return x.useCallback(v=>{if(US(v,n)){v.preventDefault();let y=a!==void 0?a:bl(h)===bl(m);f(e,{replace:y,state:i,preventScrollReset:l,relative:u,viewTransition:c})}},[h,f,m,a,i,n,e,l,u,c])}var aE=0,iE=()=>`__${String(++aE)}__`;function sE(){let{router:e}=Jy("useSubmit"),{basename:n}=x.useContext(qn),a=CS();return x.useCallback(async(i,l={})=>{let{action:u,method:c,encType:f,formData:h,body:m}=zS(i,n);if(l.navigate===!1){let v=l.fetcherKey||iE();await e.fetch(v,a,l.action||u,{preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||c,formEncType:l.encType||f,flushSync:l.flushSync})}else await e.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||c,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:a,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,n,a])}function lE(e,{relative:n}={}){let{basename:a}=x.useContext(qn),i=x.useContext(jn);ot(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...Ol(e||".",{relative:n})},c=Ur();if(e==null){u.search=c.search;let f=new URLSearchParams(u.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let v=f.toString();u.search=v?`?${v}`:""}}return(!e||e===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:jr([a,u.pathname])),bl(u)}function oE(e,{relative:n}={}){let a=x.useContext(Vy);ot(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Jy("useViewTransitionState"),l=Ol(e,{relative:n});if(!a.isTransitioning)return!1;let u=Mr(a.currentLocation.pathname,i)||a.currentLocation.pathname,c=Mr(a.nextLocation.pathname,i)||a.nextLocation.pathname;return cu(l.pathname,c)!=null||cu(l.pathname,u)!=null}var ul=Py();const uE="modulepreload",cE=function(e){return"/flexi/"+e},Sv={},Ia=function(n,a,i){let l=Promise.resolve();if(a&&a.length>0){let h=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");l=h(a.map(m=>{if(m=cE(m),m in Sv)return;Sv[m]=!0;const v=m.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const b=document.createElement("link");if(b.rel=v?"stylesheet":uE,v||(b.as="script"),b.crossOrigin="",b.href=m,f&&b.setAttribute("nonce",f),document.head.appendChild(b),v)return new Promise((w,S)=>{b.addEventListener("load",w),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return l.then(c=>{for(const f of c||[])f.status==="rejected"&&u(f.reason);return n().catch(u)})},dE=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...a)=>Ia(async()=>{const{default:i}=await Promise.resolve().then(()=>Zi);return{default:i}},[]).then(({default:i})=>i(...a)):n=fetch,(...a)=>n(...a)};class eh extends Error{constructor(n,a="FunctionsError",i){super(n),this.name=a,this.context=i}}class fE extends eh{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Ev extends eh{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class xv extends eh{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Cf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Cf||(Cf={}));var hE=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};class gE{constructor(n,{headers:a={},customFetch:i,region:l=Cf.Any}={}){this.url=n,this.headers=a,this.region=l,this.fetch=dE(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,a={}){var i;return hE(this,void 0,void 0,function*(){try{const{headers:l,method:u,body:c}=a;let f={},{region:h}=a;h||(h=this.region);const m=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let v;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(f["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(f["Content-Type"]="application/json",v=JSON.stringify(c)));const y=yield this.fetch(m.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:v}).catch(C=>{throw new fE(C)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new Ev(y);if(!y.ok)throw new xv(y);let w=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield y.json():w==="application/octet-stream"?S=yield y.blob():w==="text/event-stream"?S=y:w==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof xv||l instanceof Ev?l.context:void 0}}})}}var Mt={},Ni={},ji={},Mi={},ki={},Ui={},mE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Yi=mE();const pE=Yi.fetch,e_=Yi.fetch.bind(Yi),t_=Yi.Headers,vE=Yi.Request,yE=Yi.Response,Zi=Object.freeze(Object.defineProperty({__proto__:null,Headers:t_,Request:vE,Response:yE,default:e_,fetch:pE},Symbol.toStringTag,{value:"Module"})),_E=Tw(Zi);var Wo={},Cv;function n_(){if(Cv)return Wo;Cv=1,Object.defineProperty(Wo,"__esModule",{value:!0});class e extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return Wo.default=e,Wo}var Rv;function r_(){if(Rv)return Ui;Rv=1;var e=Ui&&Ui.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ui,"__esModule",{value:!0});const n=e(_E),a=e(n_());class i{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=Object.assign({},this.headers),this.headers[u]=c,this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,y,b;let w=null,S=null,C=null,T=m.status,N=m.statusText;if(m.ok){if(this.method!=="HEAD"){const k=await m.text();k===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=k:S=JSON.parse(k))}const R=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),M=(y=m.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");R&&M&&M.length>1&&(C=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,C=null,T=406,N="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const R=await m.text();try{w=JSON.parse(R),Array.isArray(w)&&m.status===404&&(S=[],w=null,T=200,N="OK")}catch{m.status===404&&R===""?(T=204,N="No Content"):w={message:R}}if(w&&this.isMaybeSingle&&(!((b=w?.details)===null||b===void 0)&&b.includes("0 rows"))&&(w=null,T=200,N="OK"),w&&this.shouldThrowOnError)throw new a.default(w)}return{error:w,data:S,count:C,status:T,statusText:N}});return this.shouldThrowOnError||(h=h.catch(m=>{var v,y,b;return{error:{message:`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,details:`${(y=m?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(b=m?.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),h.then(u,c)}returns(){return this}overrideTypes(){return this}}return Ui.default=i,Ui}var Tv;function a_(){if(Tv)return ki;Tv=1;var e=ki&&ki.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ki,"__esModule",{value:!0});const n=e(r_());class a extends n.default{select(l){let u=!1;const c=(l??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:u=!0,nullsFirst:c,foreignTable:f,referencedTable:h=f}={}){const m=h?`${h}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${l}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:c=u}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,u,{foreignTable:c,referencedTable:f=c}={}){const h=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${l}`),this.url.searchParams.set(m,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:u=!1,settings:c=!1,buffers:f=!1,wal:h=!1,format:m="text"}={}){var v;const y=[l?"analyze":null,u?"verbose":null,c?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),b=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${b}"; options=${y};`,m==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ki.default=a,ki}var Av;function th(){if(Av)return Mi;Av=1;var e=Mi&&Mi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Mi,"__esModule",{value:!0});const n=e(a_());class a extends n.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const c=Array.from(new Set(u)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${c})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:c,type:f}={}){let h="";f==="plain"?h="pl":f==="phrase"?h="ph":f==="websearch"&&(h="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(l,`${h}fts${m}.${u}`),this}match(l){return Object.entries(l).forEach(([u,c])=>{this.url.searchParams.append(u,`eq.${c}`)}),this}not(l,u,c){return this.url.searchParams.append(l,`not.${u}.${c}`),this}or(l,{foreignTable:u,referencedTable:c=u}={}){const f=c?`${c}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,u,c){return this.url.searchParams.append(l,`${u}.${c}`),this}}return Mi.default=a,Mi}var Ov;function i_(){if(Ov)return ji;Ov=1;var e=ji&&ji.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ji,"__esModule",{value:!0});const n=e(th());class a{constructor(l,{headers:u={},schema:c,fetch:f}){this.url=l,this.headers=u,this.schema=c,this.fetch=f}select(l,{head:u=!1,count:c}={}){const f=u?"HEAD":"GET";let h=!1;const m=(l??"*").split("").map(v=>/\s/.test(v)&&!h?"":(v==='"'&&(h=!h),v)).join("");return this.url.searchParams.set("select",m),c&&(this.headers.Prefer=`count=${c}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:u,defaultToNull:c=!0}={}){const f="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),u&&h.push(`count=${u}`),c||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(l)){const m=l.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(m.length>0){const v=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:u,ignoreDuplicates:c=!1,count:f,defaultToNull:h=!0}={}){const m="POST",v=[`resolution=${c?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&v.push(this.headers.Prefer),f&&v.push(`count=${f}`),h||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(l)){const y=l.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(y.length>0){const b=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:u}={}){const c="PATCH",f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),u&&f.push(`count=${u}`),this.headers.Prefer=f.join(","),new n.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const u="DELETE",c=[];return l&&c.push(`count=${l}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new n.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ji.default=a,ji}var el={},tl={},Dv;function bE(){return Dv||(Dv=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.version=void 0,tl.version="0.0.0-automated"),tl}var Nv;function wE(){if(Nv)return el;Nv=1,Object.defineProperty(el,"__esModule",{value:!0}),el.DEFAULT_HEADERS=void 0;const e=bE();return el.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},el}var jv;function SE(){if(jv)return Ni;jv=1;var e=Ni&&Ni.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ni,"__esModule",{value:!0});const n=e(i_()),a=e(th()),i=wE();class l{constructor(c,{headers:f={},schema:h,fetch:m}={}){this.url=c,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),f),this.schemaName=h,this.fetch=m}from(c){const f=new URL(`${this.url}/${c}`);return new n.default(f,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new l(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,f={},{head:h=!1,get:m=!1,count:v}={}){let y;const b=new URL(`${this.url}/rpc/${c}`);let w;h||m?(y=h?"HEAD":"GET",Object.entries(f).filter(([C,T])=>T!==void 0).map(([C,T])=>[C,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([C,T])=>{b.searchParams.append(C,T)})):(y="POST",w=f);const S=Object.assign({},this.headers);return v&&(S.Prefer=`count=${v}`),new a.default({method:y,url:b,headers:S,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return Ni.default=l,Ni}var Mv;function EE(){if(Mv)return Mt;Mv=1;var e=Mt&&Mt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.PostgrestError=Mt.PostgrestBuilder=Mt.PostgrestTransformBuilder=Mt.PostgrestFilterBuilder=Mt.PostgrestQueryBuilder=Mt.PostgrestClient=void 0;const n=e(SE());Mt.PostgrestClient=n.default;const a=e(i_());Mt.PostgrestQueryBuilder=a.default;const i=e(th());Mt.PostgrestFilterBuilder=i.default;const l=e(a_());Mt.PostgrestTransformBuilder=l.default;const u=e(r_());Mt.PostgrestBuilder=u.default;const c=e(n_());return Mt.PostgrestError=c.default,Mt.default={PostgrestClient:n.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:c.default},Mt}var xE=EE();const CE=qf(xE),{PostgrestClient:RE,PostgrestQueryBuilder:LD,PostgrestFilterBuilder:PD,PostgrestTransformBuilder:zD,PostgrestBuilder:$D,PostgrestError:FD}=CE;class TE{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const a=parseInt(process.versions.node.split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let a=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(a+=`

Suggested solution: ${n.workaround}`),new Error(a)}static createWebSocket(n,a){const i=this.getWebSocketConstructor();return new i(n,a)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const AE="2.15.1",OE=`realtime-js/${AE}`,DE="1.0.0",Rf=1e4,NE=1e3,jE=100;var dl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(dl||(dl={}));var Rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Rt||(Rt={}));var zn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(zn||(zn={}));var Tf;(function(e){e.websocket="websocket"})(Tf||(Tf={}));var Va;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Va||(Va={}));class ME{constructor(){this.HEADER_LENGTH=1}decode(n,a){return n.constructor===ArrayBuffer?a(this._binaryDecode(n)):a(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const a=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,a,i)}_decodeBroadcast(n,a,i){const l=a.getUint8(1),u=a.getUint8(2);let c=this.HEADER_LENGTH+2;const f=i.decode(n.slice(c,c+l));c=c+l;const h=i.decode(n.slice(c,c+u));c=c+u;const m=JSON.parse(i.decode(n.slice(c,n.byteLength)));return{ref:null,topic:f,event:h,payload:m}}}class s_{constructor(n,a){this.callback=n,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(et||(et={}));const kv=(e,n,a={})=>{var i;const l=(i=a.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(n).reduce((u,c)=>(u[c]=kE(c,e,n,l),u),{})},kE=(e,n,a,i)=>{const l=n.find(f=>f.name===e),u=l?.type,c=a[e];return u&&!i.includes(u)?l_(u,c):Af(c)},l_=(e,n)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return zE(n,a)}switch(e){case et.bool:return UE(n);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return LE(n);case et.json:case et.jsonb:return PE(n);case et.timestamp:return $E(n);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return Af(n);default:return Af(n)}},Af=e=>e,UE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},LE=e=>{if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},PE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},zE=(e,n)=>{if(typeof e!="string")return e;const a=e.length-1,i=e[a];if(e[0]==="{"&&i==="}"){let u;const c=e.slice(1,a);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(f=>l_(n,f))}return e},$E=e=>typeof e=="string"?e.replace(" ","T"):e,o_=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class Jd{constructor(n,a,i={},l=Rf){this.channel=n,this.event=a,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,a){var i;return this._hasReceived(n)&&a((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:a}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(a))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Uv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Uv||(Uv={}));class fl{constructor(n,a){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fl.syncState(this.state,l,u,c),this.pendingDiffs.forEach(h=>{this.state=fl.syncDiff(this.state,h,u,c)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},l=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=fl.syncDiff(this.state,l,u,c),f())}),this.onJoin((l,u,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:c})}),this.onLeave((l,u,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,a,i,l){const u=this.cloneDeep(n),c=this.transformState(a),f={},h={};return this.map(u,(m,v)=>{c[m]||(h[m]=v)}),this.map(c,(m,v)=>{const y=u[m];if(y){const b=v.map(T=>T.presence_ref),w=y.map(T=>T.presence_ref),S=v.filter(T=>w.indexOf(T.presence_ref)<0),C=y.filter(T=>b.indexOf(T.presence_ref)<0);S.length>0&&(f[m]=S),C.length>0&&(h[m]=C)}else f[m]=v}),this.syncDiff(u,{joins:f,leaves:h},i,l)}static syncDiff(n,a,i,l){const{joins:u,leaves:c}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(u,(f,h)=>{var m;const v=(m=n[f])!==null&&m!==void 0?m:[];if(n[f]=this.cloneDeep(h),v.length>0){const y=n[f].map(w=>w.presence_ref),b=v.filter(w=>y.indexOf(w.presence_ref)<0);n[f].unshift(...b)}i(f,v,h)}),this.map(c,(f,h)=>{let m=n[f];if(!m)return;const v=h.map(y=>y.presence_ref);m=m.filter(y=>v.indexOf(y.presence_ref)<0),n[f]=m,l(f,m,h),m.length===0&&delete n[f]}),n}static map(n,a){return Object.getOwnPropertyNames(n).map(i=>a(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((a,i)=>{const l=n[i];return"metas"in l?a[i]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[i]=l,a},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Lv||(Lv={}));var hl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hl||(hl={}));var Or;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Or||(Or={}));class nh{constructor(n,a={config:{}},i){this.topic=n,this.params=a,this.socket=i,this.bindings={},this.state=Rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Jd(this,zn.join,this.params,this.timeout),this.rejoinTimer=new s_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new fl(this),this.broadcastEndpointURL=o_(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,a=this.timeout){var i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Rt.closed){const{config:{broadcast:u,presence:c,private:f}}=this.params,h=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(b=>b.filter))!==null&&l!==void 0?l:[],m=!!this.bindings[hl.PRESENCE]&&this.bindings[hl.PRESENCE].length>0,v={},y={broadcast:u,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(b=>n?.(Or.CHANNEL_ERROR,b)),this._onClose(()=>n?.(Or.CLOSED)),this.updateJoinPayload(Object.assign({config:y},v)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket.setAuth(),b===void 0){n?.(Or.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,C=(w=S?.length)!==null&&w!==void 0?w:0,T=[];for(let N=0;N<C;N++){const U=S[N],{filter:{event:R,schema:M,table:k,filter:V}}=U,P=b&&b[N];if(P&&P.event===R&&P.schema===M&&P.table===k&&P.filter===V)T.push(Object.assign(Object.assign({},U),{id:P.id}));else{this.unsubscribe(),this.state=Rt.errored,n?.(Or.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,n&&n(Or.SUBSCRIBED);return}}).receive("error",b=>{this.state=Rt.errored,n?.(Or.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{n?.(Or.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,a={}){return await this.send({type:"presence",event:"track",payload:n},a.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,a,i){return this.state===Rt.joined&&n===hl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,a,i)}async send(n,a={}){var i,l;if(!this._canPush()&&n.type==="broadcast"){const{event:u,payload:c}=n,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,f,h;const m=this._push(n.type,n,a.timeout||this.timeout);n.type==="broadcast"&&!(!((h=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Rt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new Jd(this,zn.leave,{},n),i.receive("ok",()=>{a(),l("ok")}).receive("timeout",()=>{a(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Rt.closed,this.bindings={}}async _fetchWithTimeout(n,a,i){const l=new AbortController,u=setTimeout(()=>l.abort(),i),c=await this.socket.fetch(n,Object.assign(Object.assign({},a),{signal:l.signal}));return clearTimeout(u),c}_push(n,a,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Jd(this,n,a,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>jE){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(n,a,i){return a}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,a,i){var l,u;const c=n.toLocaleLowerCase(),{close:f,error:h,leave:m,join:v}=zn;if(i&&[f,h,m,v].indexOf(c)>=0&&i!==this._joinRef())return;let b=this._onMessage(c,a,i);if(a&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(w=>{var S,C,T;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((T=(C=w.filter)===null||C===void 0?void 0:C.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===c}).map(w=>w.callback(b,i)):(u=this.bindings[c])===null||u===void 0||u.filter(w=>{var S,C,T,N,U,R;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const M=w.id,k=(S=w.filter)===null||S===void 0?void 0:S.event;return M&&((C=a.ids)===null||C===void 0?void 0:C.includes(M))&&(k==="*"||k?.toLocaleLowerCase()===((T=a.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const M=(U=(N=w?.filter)===null||N===void 0?void 0:N.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return M==="*"||M===((R=a?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof b=="object"&&"ids"in b){const S=b.data,{schema:C,table:T,commit_timestamp:N,type:U,errors:R}=S;b=Object.assign(Object.assign({},{schema:C,table:T,commit_timestamp:N,eventType:U,new:{},old:{},errors:R}),this._getPayloadRecords(S))}w.callback(b,i)})}_isClosed(){return this.state===Rt.closed}_isJoined(){return this.state===Rt.joined}_isJoining(){return this.state===Rt.joining}_isLeaving(){return this.state===Rt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,a,i){const l=n.toLocaleLowerCase(),u={type:l,filter:a,callback:i};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(n,a){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&nh.isEqual(l.filter,a))})),this}static isEqual(n,a){if(Object.keys(n).length!==Object.keys(a).length)return!1;for(const i in n)if(n[i]!==a[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(zn.close,{},n)}_onError(n){this._on(zn.error,{},a=>n(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const a={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(a.new=kv(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(a.old=kv(n.columns,n.old_record)),a}}const Pv=()=>{},Qo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},FE=[1e3,2e3,5e3,1e4],HE=1e4,VE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class BE{constructor(n,a){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rf,this.transport=null,this.heartbeatIntervalMs=Qo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pv,this.ref=0,this.reconnectTimer=null,this.logger=Pv,this.conn=null,this.sendBuffer=[],this.serializer=new ME,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...c)=>Ia(async()=>{const{default:f}=await Promise.resolve().then(()=>Zi);return{default:f}},void 0).then(({default:f})=>f(...c)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...c)=>u(...c)},!(!((i=a?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${n}/${Tf.websocket}`,this.httpEndpoint=o_(n),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=TE.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const a=n.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:DE}))}disconnect(n,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},n?this.conn.close(n,a??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const a=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const n=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,a,i){this.logger(n,a,i)}connectionState(){switch(this.conn&&this.conn.readyState){case dl.connecting:return Va.Connecting;case dl.open:return Va.Open;case dl.closing:return Va.Closing;default:return Va.Closed}}isConnected(){return this.connectionState()===Va.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,a={config:{}}){const i=`realtime:${n}`,l=this.getChannels().find(u=>u.topic===i);if(l)return l;{const u=new nh(`realtime:${n}`,a,this);return this.channels.push(u),u}}push(n){const{topic:a,event:i,payload:l,ref:u}=n,c=()=>{this.encode(n,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${a} ${i} (${u})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(NE,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Qo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let a=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${n}"`),a.unsubscribe())}_remove(n){this.channels=this.channels.filter(a=>a.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,a=>{a.topic==="phoenix"&&a.event==="phx_reply"&&this.heartbeatCallback(a.payload.status==="ok"?"ok":"error"),a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:l,payload:u,ref:c}=a,f=c?`(${c})`:"",h=u.status||"";this.log("receive",`${h} ${i} ${l} ${f}`.trim(),u),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(l,u,c)),this._triggerStateCallbacks("message",a)})}_clearTimer(n){var a;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var a;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(zn.error))}_appendParams(n,a){if(Object.keys(a).length===0)return n;const i=n.match(/\?/)?"&":"?",l=new URLSearchParams(a);return`${n}${i}${l}`}_workerObjectUrl(n){let a;if(n)a=n;else{const i=new Blob([VE],{type:"application/javascript"});a=URL.createObjectURL(i)}return a}_setConnectionState(n,a=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(n=null){let a;n?a=n:this.accessToken?a=await this.accessToken():a=this.accessTokenValue,this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(i=>{const l={access_token:a,version:OE};a&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(zn.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(a=>{this.log("error",`error setting auth in ${n}`,a)})}_triggerStateCallbacks(n,a){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(a)}catch(l){this.log("error",`error in ${n} callback`,l)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new s_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var a,i,l,u,c,f,h,m;if(this.transport=(a=n?.transport)!==null&&a!==void 0?a:null,this.timeout=(i=n?.timeout)!==null&&i!==void 0?i:Rf,this.heartbeatIntervalMs=(l=n?.heartbeatIntervalMs)!==null&&l!==void 0?l:Qo.HEARTBEAT_INTERVAL,this.worker=(u=n?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=n?.accessToken)!==null&&c!==void 0?c:null,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=n?.reconnectAfterMs)!==null&&f!==void 0?f:(v=>FE[v-1]||HE),this.encode=(h=n?.encode)!==null&&h!==void 0?h:((v,y)=>y(JSON.stringify(v))),this.decode=(m=n?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class rh extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Tt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class IE extends rh{constructor(n,a,i){super(n),this.name="StorageApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Of extends rh{constructor(n,a){super(n),this.name="StorageUnknownError",this.originalError=a}}var qE=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const u_=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...a)=>Ia(async()=>{const{default:i}=await Promise.resolve().then(()=>Zi);return{default:i}},void 0).then(({default:i})=>i(...a)):n=fetch,(...a)=>n(...a)},GE=()=>qE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ia(()=>Promise.resolve().then(()=>Zi),void 0)).Response:Response}),Df=e=>{if(Array.isArray(e))return e.map(a=>Df(a));if(typeof e=="function"||e!==Object(e))return e;const n={};return Object.entries(e).forEach(([a,i])=>{const l=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[l]=Df(i)}),n},YE=e=>{if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var qa=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const ef=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KE=(e,n,a)=>qa(void 0,void 0,void 0,function*(){const i=yield GE();e instanceof i&&!a?.noResolveJson?e.json().then(l=>{const u=e.status||500,c=l?.statusCode||u+"";n(new IE(ef(l),u,c))}).catch(l=>{n(new Of(ef(l),l))}):n(new Of(ef(e),e))}),XE=(e,n,a,i)=>{const l={method:e,headers:n?.headers||{}};return e==="GET"||!i?l:(YE(i)?(l.headers=Object.assign({"Content-Type":"application/json"},n?.headers),l.body=JSON.stringify(i)):l.body=i,n?.duplex&&(l.duplex=n.duplex),Object.assign(Object.assign({},l),a))};function Dl(e,n,a,i,l,u){return qa(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(a,XE(n,i,l,u)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>KE(h,f,i))})})}function du(e,n,a,i){return qa(this,void 0,void 0,function*(){return Dl(e,"GET",n,a,i)})}function rr(e,n,a,i,l){return qa(this,void 0,void 0,function*(){return Dl(e,"POST",n,i,l,a)})}function Nf(e,n,a,i,l){return qa(this,void 0,void 0,function*(){return Dl(e,"PUT",n,i,l,a)})}function WE(e,n,a,i){return qa(this,void 0,void 0,function*(){return Dl(e,"HEAD",n,Object.assign(Object.assign({},a),{noResolveJson:!0}),i)})}function c_(e,n,a,i,l){return qa(this,void 0,void 0,function*(){return Dl(e,"DELETE",n,i,l,a)})}var Zt=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const QE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ZE{constructor(n,a={},i,l){this.url=n,this.headers=a,this.bucketId=i,this.fetch=u_(l)}uploadOrUpdate(n,a,i,l){return Zt(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},zv),l);let f=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),h&&u.append("metadata",this.encodeMetadata(h)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",c.cacheControl),h&&u.append("metadata",this.encodeMetadata(h))):(u=i,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),l?.headers&&(f=Object.assign(Object.assign({},f),l.headers));const m=this._removeEmptyFolders(a),v=this._getFinalPath(m),y=yield(n=="PUT"?Nf:rr)(this.fetch,`${this.url}/object/${v}`,u,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(u){if(Tt(u))return{data:null,error:u};throw u}})}upload(n,a,i){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,a,i)})}uploadToSignedUrl(n,a,i,l){return Zt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",a);try{let h;const m=Object.assign({upsert:zv.upsert},l),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",m.cacheControl)):(h=i,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const y=yield Nf(this.fetch,f.toString(),h,{headers:v});return{data:{path:u,fullPath:y.Key},error:null}}catch(h){if(Tt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(n,a){return Zt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const l=Object.assign({},this.headers);a?.upsert&&(l["x-upsert"]="true");const u=yield rr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),c=new URL(this.url+u.url),f=c.searchParams.get("token");if(!f)throw new rh("No token returned by API");return{data:{signedUrl:c.toString(),path:n,token:f},error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}update(n,a,i){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,a,i)})}move(n,a,i){return Zt(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:a,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(Tt(l))return{data:null,error:l};throw l}})}copy(n,a,i){return Zt(this,void 0,void 0,function*(){try{return{data:{path:(yield rr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:a,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(Tt(l))return{data:null,error:l};throw l}})}createSignedUrl(n,a,i){return Zt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n),u=yield rr(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:a},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(l){if(Tt(l))return{data:null,error:l};throw l}})}createSignedUrls(n,a,i){return Zt(this,void 0,void 0,function*(){try{const l=yield rr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:n},{headers:this.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(l){if(Tt(l))return{data:null,error:l};throw l}})}download(n,a){return Zt(this,void 0,void 0,function*(){const l=typeof a?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(a?.transform||{}),c=u?`?${u}`:"";try{const f=this._getFinalPath(n);return{data:yield(yield du(this.fetch,`${this.url}/${l}/${f}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(Tt(f))return{data:null,error:f};throw f}})}info(n){return Zt(this,void 0,void 0,function*(){const a=this._getFinalPath(n);try{const i=yield du(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Df(i),error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}exists(n){return Zt(this,void 0,void 0,function*(){const a=this._getFinalPath(n);try{return yield WE(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Tt(i)&&i instanceof Of){const l=i.originalError;if([400,404].includes(l?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,a){const i=this._getFinalPath(n),l=[],u=a?.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&l.push(u);const f=typeof a?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(a?.transform||{});h!==""&&l.push(h);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${m}`)}}}remove(n){return Zt(this,void 0,void 0,function*(){try{return{data:yield c_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}list(n,a,i){return Zt(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},QE),a),{prefix:n||""});return{data:yield rr(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(Tt(l))return{data:null,error:l};throw l}})}listV2(n,a){return Zt(this,void 0,void 0,function*(){try{const i=Object.assign({},n);return{data:yield rr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const a=[];return n.width&&a.push(`width=${n.width}`),n.height&&a.push(`height=${n.height}`),n.resize&&a.push(`resize=${n.resize}`),n.format&&a.push(`format=${n.format}`),n.quality&&a.push(`quality=${n.quality}`),a.join("&")}}const JE="2.11.0",ex={"X-Client-Info":`storage-js/${JE}`};var Li=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};class tx{constructor(n,a={},i,l){const u=new URL(n);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},ex),a),this.fetch=u_(i)}listBuckets(){return Li(this,void 0,void 0,function*(){try{return{data:yield du(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}getBucket(n){return Li(this,void 0,void 0,function*(){try{return{data:yield du(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}createBucket(n,a={public:!1}){return Li(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}updateBucket(n,a){return Li(this,void 0,void 0,function*(){try{return{data:yield Nf(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Tt(i))return{data:null,error:i};throw i}})}emptyBucket(n){return Li(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}deleteBucket(n){return Li(this,void 0,void 0,function*(){try{return{data:yield c_(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}}class nx extends tx{constructor(n,a={},i,l){super(n,a,i,l)}from(n){return new ZE(this.url,this.headers,n,this.fetch)}}const rx="2.55.0";let cl="";typeof Deno<"u"?cl="deno":typeof document<"u"?cl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cl="react-native":cl="node";const ax={"X-Client-Info":`supabase-js-${cl}/${rx}`},ix={headers:ax},sx={schema:"public"},lx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ox={};var ux=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const cx=e=>{let n;return e?n=e:typeof fetch>"u"?n=e_:n=fetch,(...a)=>n(...a)},dx=()=>typeof Headers>"u"?t_:Headers,fx=(e,n,a)=>{const i=cx(a),l=dx();return(u,c)=>ux(void 0,void 0,void 0,function*(){var f;const h=(f=yield n())!==null&&f!==void 0?f:e;let m=new l(c?.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),i(u,Object.assign(Object.assign({},c),{headers:m}))})};var hx=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};function gx(e){return e.endsWith("/")?e:e+"/"}function mx(e,n){var a,i;const{db:l,auth:u,realtime:c,global:f}=e,{db:h,auth:m,realtime:v,global:y}=n,b={db:Object.assign(Object.assign({},h),l),auth:Object.assign(Object.assign({},m),u),realtime:Object.assign(Object.assign({},v),c),storage:{},global:Object.assign(Object.assign(Object.assign({},y),f),{headers:Object.assign(Object.assign({},(a=y?.headers)!==null&&a!==void 0?a:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>hx(this,void 0,void 0,function*(){return""})};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}const d_="2.71.1",Bi=30*1e3,jf=3,tf=jf*Bi,px="http://localhost:9999",vx="supabase.auth.token",yx={"X-Client-Info":`gotrue-js/${d_}`},Mf="X-Supabase-Api-Version",f_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_x=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bx=600*1e3;class ah extends Error{constructor(n,a,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=i}}function Te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class wx extends ah{constructor(n,a,i){super(n,a,i),this.name="AuthApiError",this.status=a,this.code=i}}function Sx(e){return Te(e)&&e.name==="AuthApiError"}class h_ extends ah{constructor(n,a){super(n),this.name="AuthUnknownError",this.originalError=a}}class ya extends ah{constructor(n,a,i,l){super(n,i,l),this.name=a,this.status=i}}class fa extends ya{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ex(e){return Te(e)&&e.name==="AuthSessionMissingError"}class Zo extends ya{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jo extends ya{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class eu extends ya{constructor(n,a=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xx(e){return Te(e)&&e.name==="AuthImplicitGrantRedirectError"}class $v extends ya{constructor(n,a=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kf extends ya{constructor(n,a){super(n,"AuthRetryableFetchError",a,void 0)}}function nf(e){return Te(e)&&e.name==="AuthRetryableFetchError"}class Fv extends ya{constructor(n,a,i){super(n,"AuthWeakPasswordError",a,"weak_password"),this.reasons=i}}class Uf extends ya{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const fu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hv=` 	
\r=`.split(""),Cx=(()=>{const e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<Hv.length;n+=1)e[Hv[n].charCodeAt(0)]=-2;for(let n=0;n<fu.length;n+=1)e[fu[n].charCodeAt(0)]=n;return e})();function Vv(e,n,a){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;a(fu[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;a(fu[i]),n.queuedBits-=6}}function g_(e,n,a){const i=Cx[e];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)a(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Bv(e){const n=[],a=c=>{n.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=c=>{Ax(c,i,a)};for(let c=0;c<e.length;c+=1)g_(e.charCodeAt(c),l,u);return n.join("")}function Rx(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Tx(e,n){for(let a=0;a<e.length;a+=1){let i=e.charCodeAt(a);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(e.charCodeAt(a+1)-56320&65535|l)+65536,a+=1}Rx(i,n)}}function Ax(e,n,a){if(n.utf8seq===0){if(e<=127){a(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&a(n.codepoint)}}function Ox(e){const n=[],a={queue:0,queuedBits:0},i=l=>{n.push(l)};for(let l=0;l<e.length;l+=1)g_(e.charCodeAt(l),a,i);return new Uint8Array(n)}function Dx(e){const n=[];return Tx(e,a=>n.push(a)),new Uint8Array(n)}function Nx(e){const n=[],a={queue:0,queuedBits:0},i=l=>{n.push(l)};return e.forEach(l=>Vv(l,a,i)),Vv(null,a,i),n.join("")}function jx(e){return Math.round(Date.now()/1e3)+e}function Mx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}const Pn=()=>typeof window<"u"&&typeof document<"u",za={tested:!1,writable:!1},m_=()=>{if(!Pn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(za.tested)return za.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),za.tested=!0,za.writable=!0}catch{za.tested=!0,za.writable=!1}return za.writable};function kx(e){const n={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((l,u)=>{n[u]=l})}catch{}return a.searchParams.forEach((i,l)=>{n[l]=i}),n}const p_=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...a)=>Ia(async()=>{const{default:i}=await Promise.resolve().then(()=>Zi);return{default:i}},void 0).then(({default:i})=>i(...a)):n=fetch,(...a)=>n(...a)},Ux=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ii=async(e,n,a)=>{await e.setItem(n,JSON.stringify(a))},$a=async(e,n)=>{const a=await e.getItem(n);if(!a)return null;try{return JSON.parse(a)}catch{return a}},la=async(e,n)=>{await e.removeItem(n)};class Au{constructor(){this.promise=new Au.promiseConstructor((n,a)=>{this.resolve=n,this.reject=a})}}Au.promiseConstructor=Promise;function rf(e){const n=e.split(".");if(n.length!==3)throw new Uf("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!_x.test(n[i]))throw new Uf("JWT not in base64url format");return{header:JSON.parse(Bv(n[0])),payload:JSON.parse(Bv(n[1])),signature:Ox(n[2]),raw:{header:n[0],payload:n[1]}}}async function Lx(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}function Px(e,n){return new Promise((i,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await e(u);if(!n(u,null,c)){i(c);return}}catch(c){if(!n(u,c)){l(c);return}}})()})}function zx(e){return("0"+e.toString(16)).substr(-2)}function $x(){const n=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=a.length;let l="";for(let u=0;u<56;u++)l+=a.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(n),Array.from(n,zx).join("")}async function Fx(e){const a=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",a),l=new Uint8Array(i);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function Hx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await Fx(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pi(e,n,a=!1){const i=$x();let l=i;a&&(l+="/PASSWORD_RECOVERY"),await Ii(e,`${n}-code-verifier`,l);const u=await Hx(i);return[u,i===u?"plain":"s256"]}const Vx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bx(e){const n=e.headers.get(Mf);if(!n||!n.match(Vx))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Ix(e){if(!e)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function qx(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Gx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zi(e){if(!Gx.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function af(){const e={};return new Proxy(e,{get:(n,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Iv(e){return JSON.parse(JSON.stringify(e))}var Yx=function(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]]);return a};const Fa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Kx=[502,503,504];async function qv(e){var n;if(!Ux(e))throw new kf(Fa(e),0);if(Kx.includes(e.status))throw new kf(Fa(e),e.status);let a;try{a=await e.json()}catch(u){throw new h_(Fa(u),u)}let i;const l=Bx(e);if(l&&l.getTime()>=f_["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?i=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(i=a.error_code),i){if(i==="weak_password")throw new Fv(Fa(a),e.status,((n=a.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new fa}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Fv(Fa(a),e.status,a.weak_password.reasons);throw new wx(Fa(a),e.status||500,i)}const Xx=(e,n,a,i)=>{const l={method:e,headers:n?.headers||{}};return e==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),a))};async function Ue(e,n,a,i){var l;const u=Object.assign({},i?.headers);u[Mf]||(u[Mf]=f_["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const c=(l=i?.query)!==null&&l!==void 0?l:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await Wx(e,n,a+f,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function Wx(e,n,a,i,l,u){const c=Xx(n,i,l,u);let f;try{f=await e(a,Object.assign({},c))}catch(h){throw console.error(h),new kf(Fa(h),0)}if(f.ok||await qv(f),i?.noResolveJson)return f;try{return await f.json()}catch(h){await qv(h)}}function Ar(e){var n;let a=null;eC(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=jx(e.expires_in)));const i=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:a,user:i},error:null}}function Gv(e){const n=Ar(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0)&&(n.data.weak_password=e.weak_password),n}function ga(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function Qx(e){return{data:e,error:null}}function Zx(e){const{action_link:n,email_otp:a,hashed_token:i,redirect_to:l,verification_type:u}=e,c=Yx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:n,email_otp:a,hashed_token:i,redirect_to:l,verification_type:u},h=Object.assign({},c);return{data:{properties:f,user:h},error:null}}function Jx(e){return e}function eC(e){return e.access_token&&e.refresh_token&&e.expires_in}const sf=["global","local","others"];var tC=function(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]]);return a};class nC{constructor({url:n="",headers:a={},fetch:i}){this.url=n,this.headers=a,this.fetch=p_(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,a=sf[0]){if(sf.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sf.join(", ")}`);try{return await Ue(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Te(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,a={}){try{return await Ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:ga})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:a}=n,i=tC(n,["options"]),l=Object.assign(Object.assign({},i),a);return"newEmail"in i&&(l.new_email=i?.newEmail,delete l.newEmail),await Ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Zx,redirectTo:a?.redirectTo})}catch(a){if(Te(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(n){try{return await Ue(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ga})}catch(a){if(Te(a))return{data:{user:null},error:a};throw a}}async listUsers(n){var a,i,l,u,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},v=await Ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(a=n?.page)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:"",per_page:(u=(l=n?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Jx});if(v.error)throw v.error;const y=await v.json(),b=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(S=>{const C=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);m[`${T}Page`]=C}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Te(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){zi(n);try{return await Ue(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ga})}catch(a){if(Te(a))return{data:{user:null},error:a};throw a}}async updateUserById(n,a){zi(n);try{return await Ue(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:a,headers:this.headers,xform:ga})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,a=!1){zi(n);try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:a},xform:ga})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){zi(n.userId);try{const{data:a,error:i}=await Ue(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:a,error:i}}catch(a){if(Te(a))return{data:null,error:a};throw a}}async _deleteFactor(n){zi(n.userId),zi(n.id);try{return{data:await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(a){if(Te(a))return{data:null,error:a};throw a}}}function Yv(e={}){return{getItem:n=>e[n]||null,setItem:(n,a)=>{e[n]=a},removeItem:n=>{delete e[n]}}}function rC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const $i={debug:!!(globalThis&&m_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class v_ extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class aC extends v_{}async function iC(e,n,a){$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),$i.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,l.name);try{return await a()}finally{$i.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,l.name)}}else{if(n===0)throw $i.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new aC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($i.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}rC();const sC={url:px,storageKey:vx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Kv(e,n,a){return await a()}const Fi={};class wl{constructor(n){var a,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=wl.nextInstanceID,wl.nextInstanceID+=1,this.instanceID>0&&Pn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},sC),n);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new nC({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=p_(l.fetch),this.lock=l.lock||Kv,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Pn()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=iC:this.lock=Kv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:m_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yv(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Yv(this.memoryStorage)),Pn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var n,a;return(a=(n=Fi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(n){Fi[this.storageKey]=Object.assign(Object.assign({},Fi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,a;return(a=(n=Fi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Fi[this.storageKey]=Object.assign(Object.assign({},Fi[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${d_}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const a=kx(window.location.href);let i="none";if(this._isImplicitGrantCallback(a)?i="implicit":await this._isPKCECallback(a)&&(i="pkce"),Pn()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:u}=await this._getSessionFromURL(a,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),xx(u)){const h=(n=u.details)===null||n===void 0?void 0:n.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return Te(a)?{error:a}:{error:new h_("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var a,i,l;try{const u=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(a=n?.options)===null||a===void 0?void 0:a.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=n?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Ar}),{data:c,error:f}=u;if(f||!c)return{data:{user:null,session:null},error:f};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(u){if(Te(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(n){var a,i,l;try{let u;if("email"in n){const{email:v,password:y,options:b}=n;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await Pi(this.storage,this.storageKey)),u=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:v,password:y,data:(a=b?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:w,code_challenge_method:S},xform:Ar})}else if("phone"in n){const{phone:v,password:y,options:b}=n;u=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(i=b?.data)!==null&&i!==void 0?i:{},channel:(l=b?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Ar})}else throw new Jo("You must provide either an email or phone number and a password");const{data:c,error:f}=u;if(f||!c)return{data:{user:null,session:null},error:f};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(u){if(Te(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(n){try{let a;if("email"in n){const{email:u,password:c,options:f}=n;a=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Gv})}else if("phone"in n){const{phone:u,password:c,options:f}=n;a=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Gv})}else throw new Jo("You must provide either an email or phone number and a password");const{data:i,error:l}=a;return l?{data:{user:null,session:null},error:l}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Zo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(a){if(Te(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(n){var a,i,l,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:a}=n;if(a==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(n){var a,i,l,u,c,f,h,m,v,y,b,w;let S,C;if("message"in n)S=n.message,C=n.signature;else{const{chain:T,wallet:N,statement:U,options:R}=n;let M;if(Pn())if(typeof N=="object")M=N;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))M=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=N}const k=new URL((a=R?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in M&&M.signIn){const V=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),U?{statement:U}:null));let P;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")P=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)P=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)S=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),C=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${k.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(l=(i=R?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=R?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((c=R?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((h=R?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((m=R?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((y=(v=R?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...R.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const V=await M.signMessage(new TextEncoder().encode(S),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=V}}try{const{data:T,error:N}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Nx(C)},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ar});if(N)throw N;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Zo}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:N})}catch(T){if(Te(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(n){const a=await $a(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(a??"").split("/");try{const{data:u,error:c}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Ar});if(await la(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Zo}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:c})}catch(u){if(Te(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(n){try{const{options:a,provider:i,token:l,access_token:u,nonce:c}=n,f=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Ar}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Zo}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(a){if(Te(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(n){var a,i,l,u,c;try{if("email"in n){const{email:f,options:h}=n;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Pi(this.storage,this.storageKey));const{error:y}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(a=h?.data)!==null&&a!==void 0?a:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in n){const{phone:f,options:h}=n,{data:m,error:v}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=h?.data)!==null&&l!==void 0?l:{},create_user:(u=h?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new Jo("You must provide either an email or phone number.")}catch(f){if(Te(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(n){var a,i;try{let l,u;"options"in n&&(l=(a=n.options)===null||a===void 0?void 0:a.redirectTo,u=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:f}=await Ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Ar});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Te(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(n){var a,i,l;try{let u=null,c=null;return this.flowType==="pkce"&&([u,c]=await Pi(this.storage,this.storageKey)),await Ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(a=n.options)===null||a===void 0?void 0:a.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=n?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:Qx})}catch(u){if(Te(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)throw i;if(!a)throw new fa;const{error:l}=await Ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:l}})}catch(n){if(Te(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const a=`${this.url}/resend`;if("email"in n){const{email:i,type:l,options:u}=n,{error:c}=await Ue(this.fetch,"POST",a,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in n){const{phone:i,type:l,options:u}=n,{data:c,error:f}=await Ue(this.fetch,"POST",a,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:f}}throw new Jo("You must provide either an email or phone number and a type")}catch(a){if(Te(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(n,a){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await a()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=a();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await n(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const a=await $a(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?n=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<tf:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const c=await $a(this.userStorage,this.storageKey+"-user");c?.user?n.user=c.user:n.user=af()}if(this.storage.isServer&&n.user){let c=this.suppressGetSessionWarning;n=new Proxy(n,{get:(h,m,v)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,v))})}return{data:{session:n},error:null}}const{session:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ga}):await this._useSession(async a=>{var i,l,u;const{data:c,error:f}=a;if(f)throw f;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fa}:await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:ga})})}catch(a){if(Te(a))return Ex(a)&&(await this._removeSession(),await la(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(n,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,a))}async _updateUser(n,a={}){try{return await this._useSession(async i=>{const{data:l,error:u}=i;if(u)throw u;if(!l.session)throw new fa;const c=l.session;let f=null,h=null;this.flowType==="pkce"&&n.email!=null&&([f,h]=await Pi(this.storage,this.storageKey));const{data:m,error:v}=await Ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:f,code_challenge_method:h}),jwt:c.access_token,xform:ga});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new fa;const a=Date.now()/1e3;let i=a,l=!0,u=null;const{payload:c}=rf(n.access_token);if(c.exp&&(i=c.exp,l=i<=a),l){const{session:f,error:h}=await this._callRefreshToken(n.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:h}=await this._getUser(n.access_token);if(h)throw h;u={access_token:n.access_token,refresh_token:n.refresh_token,user:f.user,token_type:"bearer",expires_in:i-a,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(a){if(Te(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async a=>{var i;if(!n){const{data:c,error:f}=a;if(f)throw f;n=(i=c.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new fa;const{session:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(Te(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(n,a){try{if(!Pn())throw new eu("No browser detected.");if(n.error||n.error_description||n.error_code)throw new eu(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new $v("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new eu("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new $v("No code detected.");const{data:U,error:R}=await this._exchangeCodeForSession(n.code);if(R)throw R;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:u,refresh_token:c,expires_in:f,expires_at:h,token_type:m}=n;if(!u||!f||!c||!m)throw new eu("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(f);let b=v+y;h&&(b=parseInt(h));const w=b-v;w*1e3<=Bi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const S=b-y;v-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,b,v):v-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,b,v);const{data:C,error:T}=await this._getUser(u);if(T)throw T;const N={provider_token:i,provider_refresh_token:l,access_token:u,expires_in:y,expires_at:b,refresh_token:c,token_type:m,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:n.type},error:null}}catch(i){if(Te(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const a=await $a(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&a)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async a=>{var i;const{data:l,error:u}=a;if(u)return{error:u};const c=(i=l.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:f}=await this.admin.signOut(c,n);if(f&&!(Sx(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return n!=="others"&&(await this._removeSession(),await la(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const a=Mx(),i={id:a,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async a=>{var i,l;try{const{data:{session:u},error:c}=a;if(c)throw c;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,a={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await Pi(this.storage,this.storageKey,!0));try{return await Ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(Te(u))return{data:null,error:u};throw u}}async getUserIdentities(){var n;try{const{data:a,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(n=a.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(a){if(Te(a))return{data:null,error:a};throw a}}async linkIdentity(n){var a;try{const{data:i,error:l}=await this._useSession(async u=>{var c,f,h,m,v;const{data:y,error:b}=u;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(c=n.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=n.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=n.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Ue(this.fetch,"GET",w,{headers:this.headers,jwt:(v=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return Pn()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:n.provider,url:i?.url},error:null}}catch(i){if(Te(i))return{data:{provider:n.provider,url:null},error:i};throw i}}async unlinkIdentity(n){try{return await this._useSession(async a=>{var i,l;const{data:u,error:c}=a;if(c)throw c;return await Ue(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(a){if(Te(a))return{data:null,error:a};throw a}}async _refreshAccessToken(n){const a=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(a,"begin");try{const i=Date.now();return await Px(async l=>(l>0&&await Lx(200*Math.pow(2,l-1)),this._debug(a,"refreshing attempt",l),await Ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ar})),(l,u)=>{const c=200*Math.pow(2,l);return u&&nf(u)&&Date.now()+c-i<Bi})}catch(i){if(this._debug(a,"error",i),Te(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(a,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,a){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",a,"url",i),Pn()&&!a.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,a;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await $a(this.storage,this.storageKey);if(l&&this.userStorage){let c=await $a(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await Ii(this.userStorage,this.storageKey+"-user",c)),l.user=(n=c?.user)!==null&&n!==void 0?n:af()}else if(l&&!l.user&&!l.user){const c=await $a(this.storage,this.storageKey+"-user");c&&c?.user?(l.user=c.user,await la(this.storage,this.storageKey+"-user"),await Ii(this.storage,this.storageKey,l)):l.user=af()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const u=((a=l.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<tf;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${tf}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),nf(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(l.access_token);!f&&c?.user?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var a,i;if(!n)throw new fa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Au;const{data:u,error:c}=await this._refreshAccessToken(n);if(c)throw c;if(!u.session)throw new fa;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={session:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),Te(u)){const c={session:null,error:u};return nf(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(n,a,i=!0){const l=`#_notifyAllSubscribers(${n})`;this._debug(l,"begin",a,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:a});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(n,a)}catch(h){u.push(h)}});if(await Promise.all(c),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const a=Object.assign({},n),i=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&a.user&&await Ii(this.userStorage,this.storageKey+"-user",{user:a.user});const l=Object.assign({},a);delete l.user;const u=Iv(l);await Ii(this.storage,this.storageKey,u)}else{const l=Iv(a);await Ii(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await la(this.storage,this.storageKey),await la(this.storage,this.storageKey+"-code-verifier"),await la(this.storage,this.storageKey+"-user"),this.userStorage&&await la(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Pn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Bi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async a=>{const{data:{session:i}}=a;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-n)/Bi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Bi}ms, refresh threshold is ${jf} ticks`),l<=jf&&await this._callRefreshToken(i.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof v_)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const a=`#_onVisibilityChanged(${n})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,a,i){const l=[`provider=${encodeURIComponent(a)}`];if(i?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,c]=await Pi(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(f.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);l.push(u.toString())}return i?.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${l.join("&")}`}async _unenroll(n){try{return await this._useSession(async a=>{var i;const{data:l,error:u}=a;return u?{data:null,error:u}:await Ue(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(a){if(Te(a))return{data:null,error:a};throw a}}async _enroll(n){try{return await this._useSession(async a=>{var i,l;const{data:u,error:c}=a;if(c)return{data:null,error:c};const f=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:h,error:m}=await Ue(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(n.factorType==="totp"&&(!((l=h?.totp)===null||l===void 0)&&l.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(a){if(Te(a))return{data:null,error:a};throw a}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var i;const{data:l,error:u}=a;if(u)return{data:null,error:u};const{data:c,error:f}=await Ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:f})})}catch(a){if(Te(a))return{data:null,error:a};throw a}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var i;const{data:l,error:u}=a;return u?{data:null,error:u}:await Ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(a){if(Te(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(n){const{data:a,error:i}=await this._challenge({factorId:n.factorId});return i?{data:null,error:i}:await this._verify({factorId:n.factorId,challengeId:a.id,code:n.code})}async _listFactors(){const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i=n?.factors||[],l=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),u=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:l,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var a,i;const{data:{session:l},error:u}=n;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=rf(l.access_token);let f=null;c.aal&&(f=c.aal);let h=f;((i=(a=l.user.factors)===null||a===void 0?void 0:a.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const v=c.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(n,a={keys:[]}){let i=a.keys.find(f=>f.kid===n);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(f=>f.kid===n),i&&this.jwks_cached_at+bx>l)return i;const{data:u,error:c}=await Ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,i=u.keys.find(f=>f.kid===n),!i)?null:i}async getClaims(n,a={}){try{let i=n;if(!i){const{data:w,error:S}=await this.getSession();if(S||!w.session)return{data:null,error:S};i=w.session.access_token}const{header:l,payload:u,signature:c,raw:{header:f,payload:h}}=rf(i);a?.allowExpired||Ix(u.exp);const m=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!m){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:u,header:l,signature:c},error:null}}const v=qx(l.alg),y=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,c,Dx(`${f}.${h}`)))throw new Uf("Invalid JWT signature");return{data:{claims:u,header:l,signature:c},error:null}}catch(i){if(Te(i))return{data:null,error:i};throw i}}}wl.nextInstanceID=0;const lC=wl;class oC extends lC{constructor(n){super(n)}}var uC=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};class cC{constructor(n,a,i){var l,u,c;if(this.supabaseUrl=n,this.supabaseKey=a,!n)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const f=gx(n),h=new URL(f);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,v={db:sx,realtime:ox,auth:Object.assign(Object.assign({},lx),{storageKey:m}),global:ix},y=mx(i??{},v);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(b,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=fx(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new RE(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new nx(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new gE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,a={},i={}){return this.rest.rpc(n,a,i)}channel(n,a={config:{}}){return this.realtime.channel(n,a)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,a;return uC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:l,storageKey:u,flowType:c,lock:f,debug:h},m,v){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oC({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:u,autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:l,flowType:c,lock:f,debug:h,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new BE(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,i)=>{this._handleTokenChanged(a,"CLIENT",i?.access_token)})}_handleTokenChanged(n,a,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:n==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dC=(e,n,a)=>new cC(e,n,a);function fC(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}fC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const hC="https://jyrfznujcyqskpfthrsf.supabase.co",gC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp5cmZ6bnVqY3lxc2twZnRocnNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwODM1OTMsImV4cCI6MjA3MDY1OTU5M30.JOZLGHslSQO7wDeFSq7FHAV6_VNtD9DS-gMNUu4rEnM",We=dC(hC,gC,{auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}}),kt=(e,n="")=>(console.error(`Supabase error${n?` in ${n}`:""}:`,e),e.code==="23505"?"This record already exists":e.code==="23503"?"Cannot perform this operation due to related records":e.code==="PGRST116"?"No records found":e.message?.includes("JWT")?"Authentication error. Please refresh the page":e.message||"An unexpected error occurred"),wt={PRINTING:"STAMPA",PACKAGING:"CONFEZIONAMENTO"},Ne={ZANICA:"ZANICA",BUSTO_GAROLFO:"BUSTO_GAROLFO",BOTH:"BOTH"},Dn={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",MAINTENANCE:"MAINTENANCE"},qi={CREMA:"crema",LIQUIDO:"liquido",POLVERI:"polveri"},nr={T1:"T1",T2:"T2",T3:"T3"},Sl={THREE:"3",FOUR:"4"},Xv={END_DATE_BEFORE_START:"End date cannot be before start date",END_TIME_BEFORE_START:"End time must be after start time when dates are the same"},lt={MACHINE:{DEPARTMENT:wt.PRINTING,WORK_CENTER:Ne.ZANICA,MIN_WEB_WIDTH:"100",MAX_WEB_WIDTH:"1000",MIN_BAG_HEIGHT:"50",MAX_BAG_HEIGHT:"500",SETUP_TIME_STANDARD:"0.5",CHANGEOVER_COLOR:"0.25",CHANGEOVER_MATERIAL:"0.75",ACTIVE_SHIFTS:[nr.T1],STATUS:Dn.ACTIVE},PHASE:{DEPARTMENT:wt.PRINTING,NUMERO_PERSONE:1,WORK_CENTER:Ne.ZANICA,V_STAMPA:6e3,T_SETUP_STAMPA:.5,COSTO_H_STAMPA:50,V_CONF:1e3,T_SETUP_CONF:.25,COSTO_H_CONF:40},ORDER:{SEAL_SIDES:Sl.THREE,QUANTITY_COMPLETED:0},OFF_TIME:{START_TIME:"09:00",END_TIME:"17:00"}},nl={DECIMAL_PRECISION:{ONE_DECIMAL:["setup_time_standard","changeover_color","changeover_material","t_setup_stampa","t_setup_conf"],TWO_DECIMAL:["costo_h_stampa","costo_h_conf"]},FIELD_STEPS:{TIME:.1,COST:.01}},y_=x.createContext(),mC=({children:e})=>{const[n,a]=x.useState(null),[i,l]=x.useState(null),[u,c]=x.useState(!0),[f,h]=x.useState(null),[m,v]=x.useState(null);x.useEffect(()=>{(async()=>{try{const{data:{session:M},error:k}=await We.auth.getSession();k?(console.error("Error getting initial session:",k),h("Failed to initialize authentication")):(console.log("Initial session loaded:",M?"User authenticated":"No user session"),l(M),a(M?.user??null))}catch(M){console.error("Error getting initial session:",M),h("Failed to initialize authentication")}finally{c(!1)}})();const{data:{subscription:R}}=We.auth.onAuthStateChange(async(M,k)=>{switch(console.log("Auth state changed:",M,k?.user?.email||"No user"),l(k),a(k?.user??null),c(!1),h(null),M){case"SIGNED_IN":console.log("User signed in:",k?.user?.email);break;case"SIGNED_OUT":console.log("User signed out");break;case"TOKEN_REFRESHED":console.log("Token refreshed");break;case"USER_UPDATED":console.log("User updated:",k?.user?.email);break;case"INITIAL_SESSION":console.log("Initial session event:",k?"User authenticated":"No user session");break}});return()=>R.unsubscribe()},[]);const N={user:n,session:i,loading:u,error:f,selectedWorkCenter:m,setSelectedWorkCenter:v,signIn:async(U,R)=>{try{h(null),c(!0);const{data:M,error:k}=await We.auth.signInWithPassword({email:U,password:R});if(k)throw k;return console.log("Sign in successful:",M.user?.email),{success:!0,user:M.user}}catch(M){return console.error("Sign in error:",M),h(M.message),{success:!1,error:M.message}}finally{c(!1)}},signUp:async(U,R,M={})=>{try{h(null),c(!0);const{data:k,error:V}=await We.auth.signUp({email:U,password:R,options:{data:M}});if(V)throw V;return console.log("Sign up successful:",k.user?.email),{success:!0,user:k.user}}catch(k){return console.error("Sign up error:",k),h(k.message),{success:!1,error:k.message}}finally{c(!1)}},signOut:async()=>{try{h(null),c(!0);const{error:U}=await We.auth.signOut();if(U)throw U;return console.log("Sign out successful"),{success:!0}}catch(U){return console.error("Sign out error:",U),h(U.message),{success:!1,error:U.message}}finally{c(!1)}},resetPassword:async U=>{try{h(null),c(!0);const{error:R}=await We.auth.resetPasswordForEmail(U,{redirectTo:`${window.location.origin}/reset-password`});if(R)throw R;return console.log("Password reset email sent"),{success:!0}}catch(R){return console.error("Password reset error:",R),h(R.message),{success:!1,error:R.message}}finally{c(!1)}},updateProfile:async U=>{try{h(null),c(!0);const{data:R,error:M}=await We.auth.updateUser({data:U});if(M)throw M;return console.log("Profile updated successfully"),{success:!0,user:R.user}}catch(R){return console.error("Profile update error:",R),h(R.message),{success:!1,error:R.message}}finally{c(!1)}},getUserProfile:async()=>{if(!n)return null;try{const{data:U,error:R}=await We.from("profiles").select("*").eq("id",n.id).single();return R?(console.error("Error fetching user profile:",R),null):U}catch(U){return console.error("Error fetching user profile:",U),null}},isAuthenticated:!!n};return p.jsx(y_.Provider,{value:N,children:e})},Ji=()=>{const e=x.useContext(y_);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Wv=e=>{let n;const a=new Set,i=(m,v)=>{const y=typeof m=="function"?m(n):m;if(!Object.is(y,n)){const b=n;n=v??(typeof y!="object"||y===null)?y:Object.assign({},n,y),a.forEach(w=>w(n,b))}},l=()=>n,f={setState:i,getState:l,getInitialState:()=>h,subscribe:m=>(a.add(m),()=>a.delete(m))},h=n=e(i,l,f);return f},pC=(e=>e?Wv(e):Wv),vC=e=>e;function yC(e,n=vC){const a=Oe.useSyncExternalStore(e.subscribe,Oe.useCallback(()=>n(e.getState()),[e,n]),Oe.useCallback(()=>n(e.getInitialState()),[e,n]));return Oe.useDebugValue(a),a}const Qv=e=>{const n=pC(e),a=i=>yC(n,i);return Object.assign(a,n),a},_C=(e=>e?Qv(e):Qv),__=6048e5,bC=864e5,b_=6e4,ih=36e5,Zv=Symbol.for("constructDateFrom");function Bn(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&Zv in e?e[Zv](n):e instanceof Date?new e.constructor(n):new Date(n)}function at(e,n){return Bn(n||e,e)}function wC(e,n,a){const i=at(e,a?.in);return isNaN(n)?Bn(e,NaN):(n&&i.setDate(i.getDate()+n),i)}function SC(e,n,a){return Bn(e,+at(e)+n)}function EC(e,n,a){return SC(e,n*ih)}let xC={};function Ou(){return xC}function Ki(e,n){const a=Ou(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,l=at(e,n?.in),u=l.getDay(),c=(u<i?7:0)+u-i;return l.setDate(l.getDate()-c),l.setHours(0,0,0,0),l}function hu(e,n){return Ki(e,{...n,weekStartsOn:1})}function w_(e,n){const a=at(e,n?.in),i=a.getFullYear(),l=Bn(a,0);l.setFullYear(i+1,0,4),l.setHours(0,0,0,0);const u=hu(l),c=Bn(a,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const f=hu(c);return a.getTime()>=u.getTime()?i+1:a.getTime()>=f.getTime()?i:i-1}function Jv(e){const n=at(e),a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return a.setUTCFullYear(n.getFullYear()),+e-+a}function S_(e,...n){const a=Bn.bind(null,n.find(i=>typeof i=="object"));return n.map(a)}function El(e,n){const a=at(e,n?.in);return a.setHours(0,0,0,0),a}function CC(e,n,a){const[i,l]=S_(a?.in,e,n),u=El(i),c=El(l),f=+u-Jv(u),h=+c-Jv(c);return Math.round((f-h)/bC)}function RC(e,n){const a=w_(e,n),i=Bn(e,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),hu(i)}function TC(e,n,a){const[i,l]=S_(a?.in,e,n);return+El(i)==+El(l)}function AC(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function OC(e){return!(!AC(e)&&typeof e!="number"||isNaN(+at(e)))}function DC(e,n){const a=at(e,n?.in);return a.setHours(23,59,59,999),a}function NC(e,n){const a=at(e,n?.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function jC(e,n){const a=n?.weekStartsOn,i=at(e,n?.in),l=i.getDay(),u=(l<a?-7:0)+6-(l-a);return i.setDate(i.getDate()+u),i.setHours(23,59,59,999),i}const MC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kC=(e,n,a)=>{let i;const l=MC[e];return typeof l=="string"?i=l:n===1?i=l.one:i=l.other.replace("{{count}}",n.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+i:i+" ago":i};function lf(e){return(n={})=>{const a=n.width?String(n.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const UC={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},LC={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},PC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zC={date:lf({formats:UC,defaultWidth:"full"}),time:lf({formats:LC,defaultWidth:"full"}),dateTime:lf({formats:PC,defaultWidth:"full"})},$C={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},FC=(e,n,a,i)=>$C[e];function rl(e){return(n,a)=>{const i=a?.context?String(a.context):"standalone";let l;if(i==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,f=a?.width?String(a.width):c;l=e.formattingValues[f]||e.formattingValues[c]}else{const c=e.defaultWidth,f=a?.width?String(a.width):e.defaultWidth;l=e.values[f]||e.values[c]}const u=e.argumentCallback?e.argumentCallback(n):n;return l[u]}}const HC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},VC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},IC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},GC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YC=(e,n)=>{const a=Number(e),i=a%100;if(i>20||i<10)switch(i%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},KC={ordinalNumber:YC,era:rl({values:HC,defaultWidth:"wide"}),quarter:rl({values:VC,defaultWidth:"wide",argumentCallback:e=>e-1}),month:rl({values:BC,defaultWidth:"wide"}),day:rl({values:IC,defaultWidth:"wide"}),dayPeriod:rl({values:qC,defaultWidth:"wide",formattingValues:GC,defaultFormattingWidth:"wide"})};function al(e){return(n,a={})=>{const i=a.width,l=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],u=n.match(l);if(!u)return null;const c=u[0],f=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(f)?WC(f,y=>y.test(c)):XC(f,y=>y.test(c));let m;m=e.valueCallback?e.valueCallback(h):h,m=a.valueCallback?a.valueCallback(m):m;const v=n.slice(c.length);return{value:m,rest:v}}}function XC(e,n){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&n(e[a]))return a}function WC(e,n){for(let a=0;a<e.length;a++)if(n(e[a]))return a}function QC(e){return(n,a={})=>{const i=n.match(e.matchPattern);if(!i)return null;const l=i[0],u=n.match(e.parsePattern);if(!u)return null;let c=e.valueCallback?e.valueCallback(u[0]):u[0];c=a.valueCallback?a.valueCallback(c):c;const f=n.slice(l.length);return{value:c,rest:f}}}const ZC=/^(\d+)(th|st|nd|rd)?/i,JC=/\d+/i,eR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tR={any:[/^b/i,/^(a|c)/i]},nR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rR={any:[/1/i,/2/i,/3/i,/4/i]},aR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cR={ordinalNumber:QC({matchPattern:ZC,parsePattern:JC,valueCallback:e=>parseInt(e,10)}),era:al({matchPatterns:eR,defaultMatchWidth:"wide",parsePatterns:tR,defaultParseWidth:"any"}),quarter:al({matchPatterns:nR,defaultMatchWidth:"wide",parsePatterns:rR,defaultParseWidth:"any",valueCallback:e=>e+1}),month:al({matchPatterns:aR,defaultMatchWidth:"wide",parsePatterns:iR,defaultParseWidth:"any"}),day:al({matchPatterns:sR,defaultMatchWidth:"wide",parsePatterns:lR,defaultParseWidth:"any"}),dayPeriod:al({matchPatterns:oR,defaultMatchWidth:"any",parsePatterns:uR,defaultParseWidth:"any"})},dR={code:"en-US",formatDistance:kC,formatLong:zC,formatRelative:FC,localize:KC,match:cR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fR(e,n){const a=at(e,n?.in);return CC(a,NC(a))+1}function hR(e,n){const a=at(e,n?.in),i=+hu(a)-+RC(a);return Math.round(i/__)+1}function E_(e,n){const a=at(e,n?.in),i=a.getFullYear(),l=Ou(),u=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,c=Bn(n?.in||e,0);c.setFullYear(i+1,0,u),c.setHours(0,0,0,0);const f=Ki(c,n),h=Bn(n?.in||e,0);h.setFullYear(i,0,u),h.setHours(0,0,0,0);const m=Ki(h,n);return+a>=+f?i+1:+a>=+m?i:i-1}function gR(e,n){const a=Ou(),i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=E_(e,n),u=Bn(n?.in||e,0);return u.setFullYear(l,0,i),u.setHours(0,0,0,0),Ki(u,n)}function mR(e,n){const a=at(e,n?.in),i=+Ki(a,n)-+gR(a,n);return Math.round(i/__)+1}function Ie(e,n){const a=e<0?"-":"",i=Math.abs(e).toString().padStart(n,"0");return a+i}const oa={y(e,n){const a=e.getFullYear(),i=a>0?a:1-a;return Ie(n==="yy"?i%100:i,n.length)},M(e,n){const a=e.getMonth();return n==="M"?String(a+1):Ie(a+1,2)},d(e,n){return Ie(e.getDate(),n.length)},a(e,n){const a=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(e,n){return Ie(e.getHours()%12||12,n.length)},H(e,n){return Ie(e.getHours(),n.length)},m(e,n){return Ie(e.getMinutes(),n.length)},s(e,n){return Ie(e.getSeconds(),n.length)},S(e,n){const a=n.length,i=e.getMilliseconds(),l=Math.trunc(i*Math.pow(10,a-3));return Ie(l,n.length)}},Hi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ey={G:function(e,n,a){const i=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return a.era(i,{width:"abbreviated"});case"GGGGG":return a.era(i,{width:"narrow"});case"GGGG":default:return a.era(i,{width:"wide"})}},y:function(e,n,a){if(n==="yo"){const i=e.getFullYear(),l=i>0?i:1-i;return a.ordinalNumber(l,{unit:"year"})}return oa.y(e,n)},Y:function(e,n,a,i){const l=E_(e,i),u=l>0?l:1-l;if(n==="YY"){const c=u%100;return Ie(c,2)}return n==="Yo"?a.ordinalNumber(u,{unit:"year"}):Ie(u,n.length)},R:function(e,n){const a=w_(e);return Ie(a,n.length)},u:function(e,n){const a=e.getFullYear();return Ie(a,n.length)},Q:function(e,n,a){const i=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Ie(i,2);case"Qo":return a.ordinalNumber(i,{unit:"quarter"});case"QQQ":return a.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,a){const i=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Ie(i,2);case"qo":return a.ordinalNumber(i,{unit:"quarter"});case"qqq":return a.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,a){const i=e.getMonth();switch(n){case"M":case"MM":return oa.M(e,n);case"Mo":return a.ordinalNumber(i+1,{unit:"month"});case"MMM":return a.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,a){const i=e.getMonth();switch(n){case"L":return String(i+1);case"LL":return Ie(i+1,2);case"Lo":return a.ordinalNumber(i+1,{unit:"month"});case"LLL":return a.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,a,i){const l=mR(e,i);return n==="wo"?a.ordinalNumber(l,{unit:"week"}):Ie(l,n.length)},I:function(e,n,a){const i=hR(e);return n==="Io"?a.ordinalNumber(i,{unit:"week"}):Ie(i,n.length)},d:function(e,n,a){return n==="do"?a.ordinalNumber(e.getDate(),{unit:"date"}):oa.d(e,n)},D:function(e,n,a){const i=fR(e);return n==="Do"?a.ordinalNumber(i,{unit:"dayOfYear"}):Ie(i,n.length)},E:function(e,n,a){const i=e.getDay();switch(n){case"E":case"EE":case"EEE":return a.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(i,{width:"short",context:"formatting"});case"EEEE":default:return a.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,a,i){const l=e.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(u);case"ee":return Ie(u,2);case"eo":return a.ordinalNumber(u,{unit:"day"});case"eee":return a.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(l,{width:"short",context:"formatting"});case"eeee":default:return a.day(l,{width:"wide",context:"formatting"})}},c:function(e,n,a,i){const l=e.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(u);case"cc":return Ie(u,n.length);case"co":return a.ordinalNumber(u,{unit:"day"});case"ccc":return a.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(l,{width:"narrow",context:"standalone"});case"cccccc":return a.day(l,{width:"short",context:"standalone"});case"cccc":default:return a.day(l,{width:"wide",context:"standalone"})}},i:function(e,n,a){const i=e.getDay(),l=i===0?7:i;switch(n){case"i":return String(l);case"ii":return Ie(l,n.length);case"io":return a.ordinalNumber(l,{unit:"day"});case"iii":return a.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(i,{width:"short",context:"formatting"});case"iiii":default:return a.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,a){const l=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,n,a){const i=e.getHours();let l;switch(i===12?l=Hi.noon:i===0?l=Hi.midnight:l=i/12>=1?"pm":"am",n){case"b":case"bb":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,n,a){const i=e.getHours();let l;switch(i>=17?l=Hi.evening:i>=12?l=Hi.afternoon:i>=4?l=Hi.morning:l=Hi.night,n){case"B":case"BB":case"BBB":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,n,a){if(n==="ho"){let i=e.getHours()%12;return i===0&&(i=12),a.ordinalNumber(i,{unit:"hour"})}return oa.h(e,n)},H:function(e,n,a){return n==="Ho"?a.ordinalNumber(e.getHours(),{unit:"hour"}):oa.H(e,n)},K:function(e,n,a){const i=e.getHours()%12;return n==="Ko"?a.ordinalNumber(i,{unit:"hour"}):Ie(i,n.length)},k:function(e,n,a){let i=e.getHours();return i===0&&(i=24),n==="ko"?a.ordinalNumber(i,{unit:"hour"}):Ie(i,n.length)},m:function(e,n,a){return n==="mo"?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):oa.m(e,n)},s:function(e,n,a){return n==="so"?a.ordinalNumber(e.getSeconds(),{unit:"second"}):oa.s(e,n)},S:function(e,n){return oa.S(e,n)},X:function(e,n,a){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return ny(i);case"XXXX":case"XX":return Ha(i);case"XXXXX":case"XXX":default:return Ha(i,":")}},x:function(e,n,a){const i=e.getTimezoneOffset();switch(n){case"x":return ny(i);case"xxxx":case"xx":return Ha(i);case"xxxxx":case"xxx":default:return Ha(i,":")}},O:function(e,n,a){const i=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+ty(i,":");case"OOOO":default:return"GMT"+Ha(i,":")}},z:function(e,n,a){const i=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+ty(i,":");case"zzzz":default:return"GMT"+Ha(i,":")}},t:function(e,n,a){const i=Math.trunc(+e/1e3);return Ie(i,n.length)},T:function(e,n,a){return Ie(+e,n.length)}};function ty(e,n=""){const a=e>0?"-":"+",i=Math.abs(e),l=Math.trunc(i/60),u=i%60;return u===0?a+String(l):a+String(l)+n+Ie(u,2)}function ny(e,n){return e%60===0?(e>0?"-":"+")+Ie(Math.abs(e)/60,2):Ha(e,n)}function Ha(e,n=""){const a=e>0?"-":"+",i=Math.abs(e),l=Ie(Math.trunc(i/60),2),u=Ie(i%60,2);return a+l+n+u}const ry=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},x_=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},pR=(e,n)=>{const a=e.match(/(P+)(p+)?/)||[],i=a[1],l=a[2];if(!l)return ry(e,n);let u;switch(i){case"P":u=n.dateTime({width:"short"});break;case"PP":u=n.dateTime({width:"medium"});break;case"PPP":u=n.dateTime({width:"long"});break;case"PPPP":default:u=n.dateTime({width:"full"});break}return u.replace("{{date}}",ry(i,n)).replace("{{time}}",x_(l,n))},vR={p:x_,P:pR},yR=/^D+$/,_R=/^Y+$/,bR=["D","DD","YY","YYYY"];function wR(e){return yR.test(e)}function SR(e){return _R.test(e)}function ER(e,n,a){const i=xR(e,n,a);if(console.warn(i),bR.includes(e))throw new RangeError(i)}function xR(e,n,a){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${i} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const CR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TR=/^'([^]*?)'?$/,AR=/''/g,OR=/[a-zA-Z]/;function DR(e,n,a){const i=Ou(),l=i.locale??dR,u=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f=at(e,a?.in);if(!OC(f))throw new RangeError("Invalid time value");let h=n.match(RR).map(v=>{const y=v[0];if(y==="p"||y==="P"){const b=vR[y];return b(v,l.formatLong)}return v}).join("").match(CR).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:NR(v)};if(ey[y])return{isToken:!0,value:v};if(y.match(OR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});l.localize.preprocessor&&(h=l.localize.preprocessor(f,h));const m={firstWeekContainsDate:u,weekStartsOn:c,locale:l};return h.map(v=>{if(!v.isToken)return v.value;const y=v.value;(SR(y)||wR(y))&&ER(y,n,String(e));const b=ey[y[0]];return b(f,y,l.localize,m)}).join("")}function NR(e){const n=e.match(TR);return n?n[1].replace(AR,"'"):e}function jR(e,n){return+at(e)>+at(n)}function MR(e,n){return+at(e)<+at(n)}function tu(e,n){const a=()=>Bn(n?.in,NaN),l=PR(e);let u;if(l.date){const m=zR(l.date,2);u=$R(m.restDateString,m.year)}if(!u||isNaN(+u))return a();const c=+u;let f=0,h;if(l.time&&(f=FR(l.time),isNaN(f)))return a();if(l.timezone){if(h=HR(l.timezone),isNaN(h))return a()}else{const m=new Date(c+f),v=at(0,n?.in);return v.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),v.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),v}return at(c+f+h,n?.in)}const nu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},kR=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,UR=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,LR=/^([+-])(\d{2})(?::?(\d{2}))?$/;function PR(e){const n={},a=e.split(nu.dateTimeDelimiter);let i;if(a.length>2)return n;if(/:/.test(a[0])?i=a[0]:(n.date=a[0],i=a[1],nu.timeZoneDelimiter.test(n.date)&&(n.date=e.split(nu.timeZoneDelimiter)[0],i=e.substr(n.date.length,e.length))),i){const l=nu.timezone.exec(i);l?(n.time=i.replace(l[1],""),n.timezone=l[1]):n.time=i}return n}function zR(e,n){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),i=e.match(a);if(!i)return{year:NaN,restDateString:""};const l=i[1]?parseInt(i[1]):null,u=i[2]?parseInt(i[2]):null;return{year:u===null?l:u*100,restDateString:e.slice((i[1]||i[2]).length)}}function $R(e,n){if(n===null)return new Date(NaN);const a=e.match(kR);if(!a)return new Date(NaN);const i=!!a[4],l=il(a[1]),u=il(a[2])-1,c=il(a[3]),f=il(a[4]),h=il(a[5])-1;if(i)return GR(n,f,h)?VR(n,f,h):new Date(NaN);{const m=new Date(0);return!IR(n,u,c)||!qR(n,l)?new Date(NaN):(m.setUTCFullYear(n,u,Math.max(l,c)),m)}}function il(e){return e?parseInt(e):1}function FR(e){const n=e.match(UR);if(!n)return NaN;const a=of(n[1]),i=of(n[2]),l=of(n[3]);return YR(a,i,l)?a*ih+i*b_+l*1e3:NaN}function of(e){return e&&parseFloat(e.replace(",","."))||0}function HR(e){if(e==="Z")return 0;const n=e.match(LR);if(!n)return 0;const a=n[1]==="+"?-1:1,i=parseInt(n[2]),l=n[3]&&parseInt(n[3])||0;return KR(i,l)?a*(i*ih+l*b_):NaN}function VR(e,n,a){const i=new Date(0);i.setUTCFullYear(e,0,4);const l=i.getUTCDay()||7,u=(n-1)*7+a+1-l;return i.setUTCDate(i.getUTCDate()+u),i}const BR=[31,null,31,30,31,30,31,31,30,31,30,31];function C_(e){return e%400===0||e%4===0&&e%100!==0}function IR(e,n,a){return n>=0&&n<=11&&a>=1&&a<=(BR[n]||(C_(e)?29:28))}function qR(e,n){return n>=1&&n<=(C_(e)?366:365)}function GR(e,n,a){return n>=1&&n<=53&&a>=0&&a<=6}function YR(e,n,a){return e===24?n===0&&a===0:a>=0&&a<60&&n>=0&&n<60&&e>=0&&e<25}function KR(e,n){return n>=0&&n<=59}function ay(e,n,a){const i=at(e,a?.in);return i.setHours(n),i}function iy(e,n,a){const i=at(e,a?.in);return i.setMilliseconds(n),i}function sy(e,n,a){const i=at(e,a?.in);return i.setMinutes(n),i}function ly(e,n,a){const i=at(e,a?.in);return i.setSeconds(n),i}function Ht(e){return DR(e,"yyyy-MM-dd")}function XR(e,n,a){if(!e.scheduled_start_time||!e.scheduled_end_time)return!1;const i=tu(e.scheduled_start_time),l=tu(e.scheduled_end_time),u=iy(ly(sy(ay(tu(n),a),0),0),0),c=iy(ly(sy(ay(tu(n),a+1),0),0),0);return MR(i,c)&&jR(l,u)}function R_(e){return Ki(e,{weekStartsOn:0})}function T_(e){return jC(e,{weekStartsOn:0})}function HD(e){return El(e)}function VD(e){return DC(e)}function BD(e,n){return TC(e,n)}function oy(e,n){return EC(e,n)}function xl(e,n){return wC(e,n)}class WR{async init(){try{const{error:n}=await We.from("machines").select("count").limit(1);if(n)throw new Error(`API initialization failed: ${n.message}`);return console.log(" API service initialized successfully"),!0}catch(n){throw console.error(" API service initialization failed:",n),n}}async getMachines(){try{const{data:n,error:a}=await We.from("machines").select("*").order("machine_name");if(a)throw a;return n||[]}catch(n){throw new Error(`Failed to fetch machines: ${kt(n)}`)}}async addMachine(n){try{const{data:a,error:i}=await We.from("machines").insert([n]).select().single();if(i)throw i;return a}catch(a){throw new Error(`Failed to add machine: ${kt(a)}`)}}async updateMachine(n,a){try{const{data:i,error:l}=await We.from("machines").update(a).eq("id",n).select().single();if(l)throw l;return i}catch(i){throw new Error(`Failed to update machine: ${kt(i)}`)}}async removeMachine(n){try{const{error:a}=await We.from("machines").delete().eq("id",n);if(a)throw a;return!0}catch(a){throw new Error(`Failed to remove machine: ${kt(a)}`)}}async getOdpOrders(){try{const{data:n,error:a}=await We.from("odp_orders").select("*").order("created_at",{ascending:!1});if(a)throw a;return n||[]}catch(n){throw new Error(`Failed to fetch ODP orders: ${kt(n)}`)}}async addOdpOrder(n){try{const{data:a,error:i}=await We.from("odp_orders").insert([n]).select().single();if(i)throw i;return a}catch(a){throw new Error(`Failed to add ODP order: ${kt(a)}`)}}async updateOdpOrder(n,a){try{const{data:i,error:l}=await We.from("odp_orders").update(a).eq("id",n).select().single();if(l)throw l;return i}catch(i){throw new Error(`Failed to update ODP order: ${kt(i)}`)}}async removeOdpOrder(n){try{const{error:a}=await We.from("odp_orders").delete().eq("id",n);if(a)throw a;return!0}catch(a){throw new Error(`Failed to remove ODP order: ${kt(a)}`)}}async getPhases(){try{const{data:n,error:a}=await We.from("phases").select("*").order("name");if(a)throw a;return n||[]}catch(n){throw new Error(`Failed to fetch phases: ${kt(n)}`)}}async addPhase(n){try{const{data:a,error:i}=await We.from("phases").insert([n]).select().single();if(i)throw i;return a}catch(a){throw new Error(`Failed to add phase: ${kt(a)}`)}}async updatePhase(n,a){try{const{data:i,error:l}=await We.from("phases").update(a).eq("id",n).select().single();if(l)throw l;return i}catch(i){throw new Error(`Failed to update phase: ${kt(i)}`)}}async removePhase(n){try{const{error:a}=await We.from("phases").delete().eq("id",n);if(a)throw a;return!0}catch(a){throw new Error(`Failed to remove phase: ${kt(a)}`)}}async getMachineAvailabilityForDateRange(n,a,i){try{const{data:l,error:u}=await We.from("machine_availability").select("*").eq("machine_id",n).gte("date",a).lte("date",i).order("date");if(u)throw u;return l||[]}catch(l){throw new Error(`Failed to fetch machine availability for date range: ${kt(l)}`)}}async getMachineAvailabilityForDate(n,a){try{const{data:i,error:l}=await We.from("machine_availability").select("*").eq("machine_id",n).eq("date",a).maybeSingle();if(l)throw l;return i||null}catch(i){throw new Error(`Failed to fetch machine availability: ${kt(i)}`)}}async setMachineAvailability(n,a,i){try{const{data:l,error:u}=await We.from("machine_availability").upsert([{machine_id:n,date:a,unavailable_hours:i}],{onConflict:"machine_id,date"}).select().single();if(u)throw u;return l}catch(l){throw new Error(`Failed to set machine availability: ${kt(l)}`)}}async getMachineAvailabilityForDateAllMachines(n){try{const{data:a,error:i}=await We.from("machine_availability").select("*").eq("date",n);if(i)throw i;return a||[]}catch(a){throw new Error(`Failed to fetch machine availability for all machines: ${kt(a)}`)}}async getEventsByDate(n){try{const{data:a,error:i}=await We.from("machine_availability").select("*").eq("date",n);if(i)throw i;return a||[]}catch(a){throw new Error(`Failed to fetch events by date: ${kt(a)}`)}}async setUnavailableHoursForRange(n,a,i,l,u){try{const c=parseInt(l.split(":")[0]),f=parseInt(u.split(":")[0]),h=[];for(let w=c;w<f;w++)h.push(w.toString());const m=new Date(a),v=new Date(i);let y=new Date(m);const b=[];for(;y<=v;){const w=Ht(y),C=(await this.getMachineAvailabilityForDate(n,w))?.unavailable_hours||[],T=[...new Set([...C,...h])].sort((U,R)=>parseInt(U)-parseInt(R)),N=await this.setMachineAvailability(n,w,T);b.push(N),y=xl(y,1)}return b}catch(c){throw new Error(`Failed to set unavailable hours for range: ${kt(c)}`)}}}const rt=new WR;class ua extends Error{constructor(n,a="GENERIC_ERROR",i=500,l=null){super(n),this.name="AppError",this.code=a,this.statusCode=i,this.originalError=l,this.timestamp=new Date().toISOString(),this.id=this.generateErrorId()}generateErrorId(){return`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}toJSON(){return{id:this.id,message:this.message,code:this.code,statusCode:this.statusCode,timestamp:this.timestamp,stack:this.stack}}}const ca={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",NOT_FOUND_ERROR:"NOT_FOUND_ERROR",SERVER_ERROR:"SERVER_ERROR",CLIENT_ERROR:"CLIENT_ERROR"},QR=(e,n="")=>{if(console.error(`API Error in ${n}:`,e),e?.code)switch(e.code){case"23505":return new ua("This record already exists",ca.VALIDATION_ERROR,409,e);case"23503":return new ua("Cannot delete this record as it is referenced by other data",ca.VALIDATION_ERROR,400,e);case"PGRST116":return new ua("Record not found",ca.NOT_FOUND_ERROR,404,e);case"PGRST301":return new ua("Session expired. Please log in again.",ca.AUTHENTICATION_ERROR,401,e);default:return new ua(e.message||"An unexpected error occurred",ca.SERVER_ERROR,500,e)}return e.name==="NetworkError"||e.message?.includes("fetch")?new ua("Network error. Please check your connection and try again.",ca.NETWORK_ERROR,0,e):e.name==="ValidationError"?new ua(e.message,ca.VALIDATION_ERROR,400,e):new ua(e.message||"An unexpected error occurred",ca.CLIENT_ERROR,e.status||500,e)},ZR=(e,n="")=>({id:e.id||`ERR_${Date.now()}`,message:e.message,code:e.code||"UNKNOWN_ERROR",context:n,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent,stack:e.stack}),JR=e=>n=>{const a=QR(n,e);return ZR(a,e),a},eT=(e,n)=>(console.log(" Setting up realtime subscriptions..."),We.channel("table-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"odp_orders"},i=>{console.log(" ODP Orders change received:",i),tT(i,e)}).on("postgres_changes",{event:"*",schema:"public",table:"machines"},i=>{console.log(" Machines change received:",i),nT(i,e)}).on("postgres_changes",{event:"*",schema:"public",table:"phases"},i=>{console.log(" Phases change received:",i),rT(i,e)}).subscribe(i=>{console.log(" Realtime subscription status:",i)})),tT=(e,n,a)=>{const{eventType:i,newRecord:l,oldRecord:u}=e;switch(i){case"INSERT":n(c=>({odpOrders:[...c.odpOrders,l]}));break;case"UPDATE":n(c=>({odpOrders:c.odpOrders.map(f=>f.id===l.id?l:f)}));break;case"DELETE":n(c=>({odpOrders:c.odpOrders.filter(f=>f.id!==u.id)}));break}},nT=(e,n,a)=>{const{eventType:i,newRecord:l,oldRecord:u}=e;switch(i){case"INSERT":n(c=>({machines:[...c.machines,l]}));break;case"UPDATE":n(c=>({machines:c.machines.map(f=>f.id===l.id?l:f)}));break;case"DELETE":n(c=>({machines:c.machines.filter(f=>f.id!==u.id)}));break}},rT=(e,n,a)=>{const{eventType:i,newRecord:l,oldRecord:u}=e;switch(i){case"INSERT":n(c=>({phases:[...c.phases,l]}));break;case"UPDATE":n(c=>({phases:c.phases.map(f=>f.id===l.id?l:f)}));break;case"DELETE":n(c=>({phases:c.phases.filter(f=>f.id!==u.id)}));break}},uf=(e,n,a,i)=>{const l=JR(e);return{[`add${e}`]:async u=>{try{const{selectedWorkCenter:c}=i();if(c&&c!==Ne.BOTH&&u.work_center&&u.work_center!==c)throw new Error(`Cannot add ${e.toLowerCase()} with different work center. Selected: ${c}, Item: ${u.work_center}`);const f=await n.add(u);return a(h=>({[da(e)]:[...h[da(e)],f]})),i().showAlert(`${e} "${cf(u,e)}" added successfully`,"success"),f}catch(c){const f=l(c);throw i().showAlert(f.message,"error"),f}},[`update${e}`]:async(u,c)=>{try{const f=i()[da(e)].find(m=>m.id===u),h=await n.update(u,c);return a(m=>({[da(e)]:m[da(e)].map(v=>v.id===u?{...v,...h}:v)})),i().showAlert(`${e} "${cf(f,e)}" updated successfully`,"success"),h}catch(f){const h=l(f);throw i().showAlert(h.message,"error"),h}},[`remove${e}`]:async u=>{try{const c=i()[da(e)].find(f=>f.id===u);return await n.remove(u),a(f=>({[da(e)]:f[da(e)].filter(h=>h.id!==u)})),i().showAlert(`${e} "${cf(c,e)}" deleted successfully`,"success"),!0}catch(c){const f=l(c);throw i().showAlert(f.message,"error"),f}}}},da=e=>({Machine:"machines",OdpOrder:"odpOrders",Phase:"phases"})[e]||`${e.toLowerCase()}s`,cf=(e,n)=>({Machine:e?.machine_name||"Unknown",OdpOrder:e?.odp_number||"Unknown",Phase:e?.name||"Unknown"})[n]||"Unknown",ye=_C((e,n)=>({machines:[],odpOrders:[],phases:[],machineAvailability:{},isLoading:!1,isInitialized:!1,selectedWorkCenter:null,alert:{message:"",type:"info",isVisible:!1},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},getState:()=>({machines:n().machines,odpOrders:n().odpOrders,phases:n().phases,machineAvailability:n().machineAvailability,isLoading:n().isLoading,isInitialized:n().isInitialized}),init:async()=>{const{isInitialized:a}=n();if(await rt.init(),a)return;e({isLoading:!0});const[i,l,u]=await Promise.all([rt.getMachines(),rt.getOdpOrders(),rt.getPhases()]);e({machines:i||[],odpOrders:l||[],phases:u||[],isLoading:!1,isInitialized:!0}),n().initializeEmptyMachineAvailability();const c=eT(e);c&&(window.realtimeChannel=c,console.log(" Real-time subscriptions initialized"))},refreshData:async()=>{console.log(" Manually refreshing data..."),e({isLoading:!0});try{const[a,i,l]=await Promise.all([rt.getMachines(),rt.getOdpOrders(),rt.getPhases()]);e({machines:a||[],odpOrders:i||[],phases:l||[],isLoading:!1}),console.log(" Data refresh completed")}catch(a){console.error(" Data refresh failed:",a),e({isLoading:!1})}},setSelectedWorkCenter:a=>{e({selectedWorkCenter:a})},reset:()=>{window.realtimeChannel&&(console.log(" Cleaning up real-time subscriptions..."),window.realtimeChannel.unsubscribe(),window.realtimeChannel=null),e({machines:[],odpOrders:[],phases:[],machineAvailability:{},isLoading:!1,isInitialized:!1,alert:{message:"",type:"info",isVisible:!1}})},showAlert:(a,i="info")=>e({alert:{message:a,type:i,isVisible:!0}}),hideAlert:()=>e({alert:{message:"",type:"info",isVisible:!1}}),showConfirmDialog:(a,i,l,u="danger")=>e({confirmDialog:{isOpen:!0,title:a,message:i,onConfirm:l,type:u}}),hideConfirmDialog:()=>e({confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}}),...uf("Machine",{add:rt.addMachine,update:rt.updateMachine,remove:rt.removeMachine},e,n),...uf("OdpOrder",{add:rt.addOdpOrder,update:rt.updateOdpOrder,remove:rt.removeOdpOrder},e,n),...uf("Phase",{add:rt.addPhase,update:rt.updatePhase,remove:rt.removePhase},e,n),scheduleTask:async(a,i)=>{const l=n(),u=l.odpOrders.find(w=>w.id===a),c=l.machines.find(w=>w.id===i.machine);if(u&&c&&u.work_center&&c.work_center&&u.work_center!==c.work_center)return{error:`Work center mismatch: task requires '${u.work_center}' but machine is '${c.work_center}'`};const f=l.odpOrders.filter(w=>w.scheduled_machine_id===i.machine&&w.status==="SCHEDULED"&&w.id!==a),h=new Date(i.start_time),m=new Date(i.end_time);for(const w of f){const S=new Date(w.scheduled_start_time),C=w.time_remaining||w.duration||1,T=new Date(S.getTime()+C*60*60*1e3);if(h<T&&m>S)return{error:`Task overlaps with existing scheduled task: ${w.odp_number}`}}const v=Ht(h);console.log(" Checking machine availability for:",{machineId:i.machine,date:v,allKeys:Object.keys(l.machineAvailability)});const y=l.machineAvailability[v];if(y&&Array.isArray(y)){const w=y.find(S=>S.machine_id===i.machine);if(w&&w.unavailable_hours&&Array.isArray(w.unavailable_hours)){console.log(" Found machine availability:",w);const S=new Date(h.getFullYear(),h.getMonth(),h.getDate());for(const C of w.unavailable_hours){const T=new Date(S.getTime()+parseInt(C)*60*60*1e3),N=new Date(T.getTime()+3600*1e3);if(console.log(" Checking hour:",{hour:C,hourStart:T,hourEnd:N,newStart:h,newEnd:m}),h<N&&m>T)return console.log(" OVERLAP DETECTED!"),{error:`Task overlaps with unavailable slot at hour ${C}:00`}}}}const b={scheduled_machine_id:i.machine,scheduled_start_time:i.start_time,scheduled_end_time:i.end_time,production_start:i.start_time,production_end:i.end_time,color:i.color,status:"SCHEDULED"};return await n().updateOdpOrder(a,b),{success:!0}},unscheduleTask:async a=>{const i={scheduled_machine_id:null,scheduled_start_time:null,scheduled_end_time:null,production_start:null,production_end:null,color:null,status:"NOT SCHEDULED"};await n().updateOdpOrder(a,i)},loadMachineAvailabilityForDateRange:async(a,i,l)=>{const u=i instanceof Date?Ht(i):i,c=l instanceof Date?Ht(l):l,f=`${a}_${u}_${c}`,{machineAvailability:h}=n();if(h[f])return h[f];e(m=>({machineAvailability:{...m.machineAvailability,[f]:{_loading:!0}}}));try{const m=await rt.getMachineAvailabilityForDateRange(a,u,c);return e(v=>({machineAvailability:{...v.machineAvailability,[f]:m||[]}})),m}catch(m){throw console.error("Error loadMachineAvailabilityForDateRange:",m),m}},getMachineAvailabilityForDate:async(a,i)=>{try{return await rt.getMachineAvailabilityForDate(a,i)}catch(l){return console.error("Error getMachineAvailabilityForDate:",l),[]}},setMachineAvailability:async(a,i,l)=>{try{const c=n().odpOrders.filter(v=>v.scheduled_machine_id===a&&v.status==="SCHEDULED"&&v.scheduled_start_time&&v.scheduled_end_time),f=new Date(i),h=new Date(f.getFullYear(),f.getMonth(),f.getDate()),m=new Date(h.getTime()+1440*60*1e3);for(const v of c){const y=new Date(v.scheduled_start_time),b=new Date(v.scheduled_end_time);if(y<m&&b>h)for(const w of l){const S=new Date(h.getTime()+parseInt(w)*60*60*1e3),C=new Date(S.getTime()+3600*1e3);if(S<b&&C>y)throw new Error(`Cannot set machine unavailable during scheduled task: ${v.odp_number}`)}}return await rt.setMachineAvailability(a,i,l),e(v=>{const y={...v.machineAvailability};y[i]||(y[i]=[]);const b=y[i].find(w=>w.machine_id===a);return b?b.unavailable_hours=l:y[i].push({machine_id:a,date:i,unavailable_hours:l}),{machineAvailability:y}}),!0}catch(u){throw console.error("Error setMachineAvailability:",u),u}},toggleMachineHourAvailability:async(a,i,l)=>{try{console.log(`Store: Toggling hour ${l} for ${i} on machine ${a}`);const u=await n().getMachineAvailability(a,i);console.log("Store: Current unavailable hours:",u);const c=l.toString();console.log(`Store: Converting hour ${l} to string: ${c}`);let f;return u.includes(c)?(f=u.filter(h=>h!==c),console.log(`Store: Removing hour ${c}, new array:`,f)):(f=[...u,c].sort((h,m)=>parseInt(h)-parseInt(m)),console.log(`Store: Adding hour ${c}, new array:`,f)),await n().setMachineAvailability(a,i,f),console.log("Store: Successfully updated availability"),!0}catch(u){throw console.error("Error toggleMachineHourAvailability:",u),u}},loadMachineAvailabilityForDate:async a=>{const{machineAvailability:i}=n();if(!i[a]?._loading&&!(i[a]&&i[a].length>=0)){e(l=>({machineAvailability:{...l.machineAvailability,[a]:{_loading:!0}}}));try{const l=await rt.getMachineAvailabilityForDateAllMachines(a);e(u=>({machineAvailability:{...u.machineAvailability,[a]:l||[]}}))}catch(l){throw e(u=>{const c={...u.machineAvailability};return c[a]&&delete c[a]._loading,{machineAvailability:c}}),l}}},loadMachineAvailabilityForMachine:async(a,i,l)=>{const u={};try{try{await rt.getMachineAvailabilityForDate("test","2025-01-01")}catch(f){return console.warn("Machine availability table not accessible:",f.message),{}}let c=new Date(i);for(;c<=l;){const f=Ht(c);n().machineAvailability[f]||await n().loadMachineAvailabilityForDate(f);const m=n().machineAvailability[f];if(Array.isArray(m)){const v=m.find(y=>y.machine_id===a);v&&(u[f]=v.unavailable_hours||[])}c=xl(c,1)}return u}catch(c){return console.error("Error load_machine_availability_for_machine:",c),{}}},getMachineAvailability:async(a,i)=>{try{console.log(`Store: Getting availability for machine ${a} on ${i}`);const l=n().machineAvailability[i];if(console.log(`Store: Cached dateData for ${i}:`,l),l&&Array.isArray(l)){const c=l.find(f=>f.machine_id===a);if(console.log("Store: Found cached row:",c),c)return console.log("Store: Returning cached unavailable_hours:",c.unavailable_hours),console.log("Store: Cached unavailable_hours type:",typeof c.unavailable_hours),console.log("Store: Cached unavailable_hours isArray:",Array.isArray(c.unavailable_hours)),console.log("Store: Cached unavailable_hours length:",c.unavailable_hours?.length),c.unavailable_hours||[]}console.log("Store: No cached data, fetching from API...");const u=await rt.getMachineAvailabilityForDate(a,i);if(console.log("Store: API returned data:",u),u){const c=(u.unavailable_hours||[]).map(f=>f.toString());return e(f=>{const h={...f.machineAvailability};h[i]||(h[i]=[]);const m=h[i].find(v=>v.machine_id===a);return console.log("Store: Before cache update - data.unavailable_hours:",u.unavailable_hours),console.log("Store: Before cache update - type:",typeof u.unavailable_hours),console.log("Store: Before cache update - isArray:",Array.isArray(u.unavailable_hours)),m?(m.unavailable_hours=c,console.log("Store: Updated existing row - unavailable_hours:",m.unavailable_hours)):(h[i].push({machine_id:a,date:i,unavailable_hours:c}),console.log("Store: Added new row - unavailable_hours:",h[i][h[i].length-1].unavailable_hours)),console.log(`Store: Updated cache for ${i}:`,h[i]),console.log("Store: Cache row unavailable_hours type:",typeof h[i].find(v=>v.machine_id===a)?.unavailable_hours),console.log("Store: Cache row unavailable_hours isArray:",Array.isArray(h[i].find(v=>v.machine_id===a)?.unavailable_hours)),{machineAvailability:h}}),c}return[]}catch(l){return console.error("Error getting machine availability:",l),[]}},isTimeSlotUnavailable:async(a,i,l)=>(await n().getMachineAvailability(a,i)).includes(l.toString()),initializeEmptyMachineAvailability:()=>{const{machines:a,machineAvailability:i}=n(),l={...i};a.forEach(u=>{l[u.id]||(l[u.id]={})}),e({machineAvailability:l})},getEventsByDate:async a=>{try{return await rt.getEventsByDate(a)}catch(i){return console.error("Error getting events by date:",i),[]}},setMachineUnavailability:async(a,i,l,u,c)=>{try{const f=await rt.setUnavailableHoursForRange(a,i,l,u,c),h=new Date(i),m=new Date(l);return await n().loadMachineAvailabilityForDateRange(a,h,m),f}catch(f){throw console.error("Error setting machine unavailability:",f),f}},isMachineAvailabilityAccessible:async()=>{try{return await rt.getMachineAvailabilityForDateAllMachines("2025-01-01"),!0}catch(a){return console.warn("Machine availability table not accessible:",a.message),!1}},getMachineAvailabilityStatus:async()=>{try{const a=await n().isMachineAvailabilityAccessible();return{accessible:a,message:a?"Table is accessible":"Table is not accessible - check permissions or table existence"}}catch(a){return{accessible:!1,message:`Error checking table: ${a.message}`}}}})),aT="/flexi/assets/logo.svg";function iT(){const n=Ur().pathname,{user:a,signOut:i,isAuthenticated:l,selectedWorkCenter:u}=Ji(),[c,f]=x.useState("disconnected");x.useEffect(()=>{const v=()=>{window.realtimeChannel?f("connected"):f("disconnected")};v();const y=setInterval(v,5e3);return()=>clearInterval(y)},[]);const h=[{href:"/",label:"Home",icon:""},{href:"/machinery",label:"Machinery",icon:""},{href:"/phases",label:"Phases",icon:""},{href:"/backlog",label:"Backlog",icon:""},{href:"/scheduler",label:"Scheduler",icon:""}],m=async()=>{try{await i(),console.log("User signed out successfully")}catch(v){console.error("Sign out error:",v)}};return p.jsxs("div",{className:"sidebar",children:[p.jsx("div",{className:"sidebar-logo",children:p.jsx(Nn,{to:"/",children:p.jsx("img",{src:aT,alt:"Flexi"})})}),l&&a&&p.jsxs("div",{className:"sidebar-user",children:[p.jsx("div",{className:"user-avatar",children:a.user_metadata?.full_name?a.user_metadata.full_name.charAt(0).toUpperCase():a.email?.charAt(0).toUpperCase()}),p.jsxs("div",{className:"user-info",children:[p.jsx("div",{className:"user-name",children:a.user_metadata?.full_name||"User"}),p.jsx("div",{className:"user-email",children:a.email}),u&&p.jsx("div",{className:"user-work-center",children:p.jsxs("span",{className:"work-center-badge",children:[" ",u]})}),p.jsx("div",{className:"realtime-status",children:p.jsxs("span",{className:`status-indicator ${c}`,children:[c==="connected"?"":"",c==="connected"?"Live":"Offline"]})})]})]}),p.jsxs("div",{className:"sidebar-section",children:[p.jsx("div",{className:"sidebar-section-title",children:"Navigation"}),p.jsx("nav",{className:"sidebar-nav",children:p.jsx("ul",{children:h.map(v=>p.jsx("li",{children:p.jsxs(Nn,{to:v.href,className:n===v.href?"active":"",children:[p.jsx("span",{className:"nav-icon",children:v.icon}),p.jsx("span",{children:v.label})]})},v.href))})})]}),l?p.jsxs("div",{className:"sidebar-section",children:[p.jsx("div",{className:"sidebar-section-title",children:"Account"}),p.jsx("div",{className:"sidebar-actions",children:p.jsxs("button",{onClick:m,className:"sidebar-action-btn signout-btn",title:"Sign Out",children:[p.jsx("span",{className:"nav-icon",children:""}),p.jsx("span",{children:"Sign Out"})]})})]}):p.jsxs("div",{className:"sidebar-section",children:[p.jsx("div",{className:"sidebar-section-title",children:"Account"}),p.jsxs("div",{className:"sidebar-actions",children:[p.jsxs(Nn,{to:"/login",className:"sidebar-action-btn login-btn",children:[p.jsx("span",{className:"nav-icon",children:""}),p.jsx("span",{children:"Sign In"})]}),p.jsxs(Nn,{to:"/signup",className:"sidebar-action-btn signup-btn",children:[p.jsx("span",{className:"nav-icon",children:""}),p.jsx("span",{children:"Sign Up"})]})]})]})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function pa(e,n){return typeof e=="function"?e(n):e}function _n(e,n){return a=>{n.setState(i=>({...i,[e]:pa(a,i[e])}))}}function Du(e){return e instanceof Function}function sT(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function lT(e,n){const a=[],i=l=>{l.forEach(u=>{a.push(u);const c=n(u);c!=null&&c.length&&i(c)})};return i(e),a}function Ee(e,n,a){let i=[],l;return u=>{let c;a.key&&a.debug&&(c=Date.now());const f=e(u);if(!(f.length!==i.length||f.some((v,y)=>i[y]!==v)))return l;i=f;let m;if(a.key&&a.debug&&(m=Date.now()),l=n(...f),a==null||a.onChange==null||a.onChange(l),a.key&&a.debug&&a!=null&&a.debug()){const v=Math.round((Date.now()-c)*100)/100,y=Math.round((Date.now()-m)*100)/100,b=y/16,w=(S,C)=>{for(S=String(S);S.length<C;)S=" "+S;return S};console.info(`%c ${w(y,5)} /${w(v,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,a?.key)}return l}}function xe(e,n,a,i){return{debug:()=>{var l;return(l=e?.debugAll)!=null?l:e[n]},key:!1,onChange:i}}function oT(e,n,a,i){const l=()=>{var c;return(c=u.getValue())!=null?c:e.options.renderFallbackValue},u={id:`${n.id}_${a.id}`,row:n,column:a,getValue:()=>n.getValue(i),renderValue:l,getContext:Ee(()=>[e,a,n,u],(c,f,h,m)=>({table:c,column:f,row:h,cell:m,getValue:m.getValue,renderValue:m.renderValue}),xe(e.options,"debugCells"))};return e._features.forEach(c=>{c.createCell==null||c.createCell(u,a,n,e)},{}),u}function uT(e,n,a,i){var l,u;const f={...e._getDefaultColumnDef(),...n},h=f.accessorKey;let m=(l=(u=f.id)!=null?u:h?typeof String.prototype.replaceAll=="function"?h.replaceAll(".","_"):h.replace(/\./g,"_"):void 0)!=null?l:typeof f.header=="string"?f.header:void 0,v;if(f.accessorFn?v=f.accessorFn:h&&(h.includes(".")?v=b=>{let w=b;for(const C of h.split(".")){var S;w=(S=w)==null?void 0:S[C]}return w}:v=b=>b[f.accessorKey]),!m)throw new Error;let y={id:`${String(m)}`,accessorFn:v,parent:i,depth:a,columnDef:f,columns:[],getFlatColumns:Ee(()=>[!0],()=>{var b;return[y,...(b=y.columns)==null?void 0:b.flatMap(w=>w.getFlatColumns())]},xe(e.options,"debugColumns")),getLeafColumns:Ee(()=>[e._getOrderColumnsFn()],b=>{var w;if((w=y.columns)!=null&&w.length){let S=y.columns.flatMap(C=>C.getLeafColumns());return b(S)}return[y]},xe(e.options,"debugColumns"))};for(const b of e._features)b.createColumn==null||b.createColumn(y,e);return y}const Kt="debugHeaders";function uy(e,n,a){var i;let u={id:(i=a.id)!=null?i:n.id,column:n,index:a.index,isPlaceholder:!!a.isPlaceholder,placeholderId:a.placeholderId,depth:a.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const c=[],f=h=>{h.subHeaders&&h.subHeaders.length&&h.subHeaders.map(f),c.push(h)};return f(u),c},getContext:()=>({table:e,header:u,column:n})};return e._features.forEach(c=>{c.createHeader==null||c.createHeader(u,e)}),u}const cT={createTable:e=>{e.getHeaderGroups=Ee(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,a,i,l)=>{var u,c;const f=(u=i?.map(y=>a.find(b=>b.id===y)).filter(Boolean))!=null?u:[],h=(c=l?.map(y=>a.find(b=>b.id===y)).filter(Boolean))!=null?c:[],m=a.filter(y=>!(i!=null&&i.includes(y.id))&&!(l!=null&&l.includes(y.id)));return ru(n,[...f,...m,...h],e)},xe(e.options,Kt)),e.getCenterHeaderGroups=Ee(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,a,i,l)=>(a=a.filter(u=>!(i!=null&&i.includes(u.id))&&!(l!=null&&l.includes(u.id))),ru(n,a,e,"center")),xe(e.options,Kt)),e.getLeftHeaderGroups=Ee(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,a,i)=>{var l;const u=(l=i?.map(c=>a.find(f=>f.id===c)).filter(Boolean))!=null?l:[];return ru(n,u,e,"left")},xe(e.options,Kt)),e.getRightHeaderGroups=Ee(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,a,i)=>{var l;const u=(l=i?.map(c=>a.find(f=>f.id===c)).filter(Boolean))!=null?l:[];return ru(n,u,e,"right")},xe(e.options,Kt)),e.getFooterGroups=Ee(()=>[e.getHeaderGroups()],n=>[...n].reverse(),xe(e.options,Kt)),e.getLeftFooterGroups=Ee(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),xe(e.options,Kt)),e.getCenterFooterGroups=Ee(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),xe(e.options,Kt)),e.getRightFooterGroups=Ee(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),xe(e.options,Kt)),e.getFlatHeaders=Ee(()=>[e.getHeaderGroups()],n=>n.map(a=>a.headers).flat(),xe(e.options,Kt)),e.getLeftFlatHeaders=Ee(()=>[e.getLeftHeaderGroups()],n=>n.map(a=>a.headers).flat(),xe(e.options,Kt)),e.getCenterFlatHeaders=Ee(()=>[e.getCenterHeaderGroups()],n=>n.map(a=>a.headers).flat(),xe(e.options,Kt)),e.getRightFlatHeaders=Ee(()=>[e.getRightHeaderGroups()],n=>n.map(a=>a.headers).flat(),xe(e.options,Kt)),e.getCenterLeafHeaders=Ee(()=>[e.getCenterFlatHeaders()],n=>n.filter(a=>{var i;return!((i=a.subHeaders)!=null&&i.length)}),xe(e.options,Kt)),e.getLeftLeafHeaders=Ee(()=>[e.getLeftFlatHeaders()],n=>n.filter(a=>{var i;return!((i=a.subHeaders)!=null&&i.length)}),xe(e.options,Kt)),e.getRightLeafHeaders=Ee(()=>[e.getRightFlatHeaders()],n=>n.filter(a=>{var i;return!((i=a.subHeaders)!=null&&i.length)}),xe(e.options,Kt)),e.getLeafHeaders=Ee(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,a,i)=>{var l,u,c,f,h,m;return[...(l=(u=n[0])==null?void 0:u.headers)!=null?l:[],...(c=(f=a[0])==null?void 0:f.headers)!=null?c:[],...(h=(m=i[0])==null?void 0:m.headers)!=null?h:[]].map(v=>v.getLeafHeaders()).flat()},xe(e.options,Kt))}};function ru(e,n,a,i){var l,u;let c=0;const f=function(b,w){w===void 0&&(w=1),c=Math.max(c,w),b.filter(S=>S.getIsVisible()).forEach(S=>{var C;(C=S.columns)!=null&&C.length&&f(S.columns,w+1)},0)};f(e);let h=[];const m=(b,w)=>{const S={depth:w,id:[i,`${w}`].filter(Boolean).join("_"),headers:[]},C=[];b.forEach(T=>{const N=[...C].reverse()[0],U=T.column.depth===S.depth;let R,M=!1;if(U&&T.column.parent?R=T.column.parent:(R=T.column,M=!0),N&&N?.column===R)N.subHeaders.push(T);else{const k=uy(a,R,{id:[i,w,R.id,T?.id].filter(Boolean).join("_"),isPlaceholder:M,placeholderId:M?`${C.filter(V=>V.column===R).length}`:void 0,depth:w,index:C.length});k.subHeaders.push(T),C.push(k)}S.headers.push(T),T.headerGroup=S}),h.push(S),w>0&&m(C,w-1)},v=n.map((b,w)=>uy(a,b,{depth:c,index:w}));m(v,c-1),h.reverse();const y=b=>b.filter(S=>S.column.getIsVisible()).map(S=>{let C=0,T=0,N=[0];S.subHeaders&&S.subHeaders.length?(N=[],y(S.subHeaders).forEach(R=>{let{colSpan:M,rowSpan:k}=R;C+=M,N.push(k)})):C=1;const U=Math.min(...N);return T=T+U,S.colSpan=C,S.rowSpan=T,{colSpan:C,rowSpan:T}});return y((l=(u=h[0])==null?void 0:u.headers)!=null?l:[]),h}const dT=(e,n,a,i,l,u,c)=>{let f={id:n,index:i,original:a,depth:l,parentId:c,_valuesCache:{},_uniqueValuesCache:{},getValue:h=>{if(f._valuesCache.hasOwnProperty(h))return f._valuesCache[h];const m=e.getColumn(h);if(m!=null&&m.accessorFn)return f._valuesCache[h]=m.accessorFn(f.original,i),f._valuesCache[h]},getUniqueValues:h=>{if(f._uniqueValuesCache.hasOwnProperty(h))return f._uniqueValuesCache[h];const m=e.getColumn(h);if(m!=null&&m.accessorFn)return m.columnDef.getUniqueValues?(f._uniqueValuesCache[h]=m.columnDef.getUniqueValues(f.original,i),f._uniqueValuesCache[h]):(f._uniqueValuesCache[h]=[f.getValue(h)],f._uniqueValuesCache[h])},renderValue:h=>{var m;return(m=f.getValue(h))!=null?m:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>lT(f.subRows,h=>h.subRows),getParentRow:()=>f.parentId?e.getRow(f.parentId,!0):void 0,getParentRows:()=>{let h=[],m=f;for(;;){const v=m.getParentRow();if(!v)break;h.push(v),m=v}return h.reverse()},getAllCells:Ee(()=>[e.getAllLeafColumns()],h=>h.map(m=>oT(e,f,m,m.id)),xe(e.options,"debugRows")),_getAllCellsByColumnId:Ee(()=>[f.getAllCells()],h=>h.reduce((m,v)=>(m[v.column.id]=v,m),{}),xe(e.options,"debugRows"))};for(let h=0;h<e._features.length;h++){const m=e._features[h];m==null||m.createRow==null||m.createRow(f,e)}return f},fT={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},A_=(e,n,a)=>{var i,l;const u=a==null||(i=a.toString())==null?void 0:i.toLowerCase();return!!(!((l=e.getValue(n))==null||(l=l.toString())==null||(l=l.toLowerCase())==null)&&l.includes(u))};A_.autoRemove=e=>Hn(e);const O_=(e,n,a)=>{var i;return!!(!((i=e.getValue(n))==null||(i=i.toString())==null)&&i.includes(a))};O_.autoRemove=e=>Hn(e);const D_=(e,n,a)=>{var i;return((i=e.getValue(n))==null||(i=i.toString())==null?void 0:i.toLowerCase())===a?.toLowerCase()};D_.autoRemove=e=>Hn(e);const N_=(e,n,a)=>{var i;return(i=e.getValue(n))==null?void 0:i.includes(a)};N_.autoRemove=e=>Hn(e);const j_=(e,n,a)=>!a.some(i=>{var l;return!((l=e.getValue(n))!=null&&l.includes(i))});j_.autoRemove=e=>Hn(e)||!(e!=null&&e.length);const M_=(e,n,a)=>a.some(i=>{var l;return(l=e.getValue(n))==null?void 0:l.includes(i)});M_.autoRemove=e=>Hn(e)||!(e!=null&&e.length);const k_=(e,n,a)=>e.getValue(n)===a;k_.autoRemove=e=>Hn(e);const U_=(e,n,a)=>e.getValue(n)==a;U_.autoRemove=e=>Hn(e);const sh=(e,n,a)=>{let[i,l]=a;const u=e.getValue(n);return u>=i&&u<=l};sh.resolveFilterValue=e=>{let[n,a]=e,i=typeof n!="number"?parseFloat(n):n,l=typeof a!="number"?parseFloat(a):a,u=n===null||Number.isNaN(i)?-1/0:i,c=a===null||Number.isNaN(l)?1/0:l;if(u>c){const f=u;u=c,c=f}return[u,c]};sh.autoRemove=e=>Hn(e)||Hn(e[0])&&Hn(e[1]);const Dr={includesString:A_,includesStringSensitive:O_,equalsString:D_,arrIncludes:N_,arrIncludesAll:j_,arrIncludesSome:M_,equals:k_,weakEquals:U_,inNumberRange:sh};function Hn(e){return e==null||e===""}const hT={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:_n("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const a=n.getCoreRowModel().flatRows[0],i=a?.getValue(e.id);return typeof i=="string"?Dr.includesString:typeof i=="number"?Dr.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?Dr.equals:Array.isArray(i)?Dr.arrIncludes:Dr.weakEquals},e.getFilterFn=()=>{var a,i;return Du(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(a=(i=n.options.filterFns)==null?void 0:i[e.columnDef.filterFn])!=null?a:Dr[e.columnDef.filterFn]},e.getCanFilter=()=>{var a,i,l;return((a=e.columnDef.enableColumnFilter)!=null?a:!0)&&((i=n.options.enableColumnFilters)!=null?i:!0)&&((l=n.options.enableFilters)!=null?l:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var a;return(a=n.getState().columnFilters)==null||(a=a.find(i=>i.id===e.id))==null?void 0:a.value},e.getFilterIndex=()=>{var a,i;return(a=(i=n.getState().columnFilters)==null?void 0:i.findIndex(l=>l.id===e.id))!=null?a:-1},e.setFilterValue=a=>{n.setColumnFilters(i=>{const l=e.getFilterFn(),u=i?.find(v=>v.id===e.id),c=pa(a,u?u.value:void 0);if(cy(l,c,e)){var f;return(f=i?.filter(v=>v.id!==e.id))!=null?f:[]}const h={id:e.id,value:c};if(u){var m;return(m=i?.map(v=>v.id===e.id?h:v))!=null?m:[]}return i!=null&&i.length?[...i,h]:[h]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const a=e.getAllLeafColumns(),i=l=>{var u;return(u=pa(n,l))==null?void 0:u.filter(c=>{const f=a.find(h=>h.id===c.id);if(f){const h=f.getFilterFn();if(cy(h,c.value,f))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(i)},e.resetColumnFilters=n=>{var a,i;e.setColumnFilters(n?[]:(a=(i=e.initialState)==null?void 0:i.columnFilters)!=null?a:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function cy(e,n,a){return(e&&e.autoRemove?e.autoRemove(n,a):!1)||typeof n>"u"||typeof n=="string"&&!n}const gT=(e,n,a)=>a.reduce((i,l)=>{const u=l.getValue(e);return i+(typeof u=="number"?u:0)},0),mT=(e,n,a)=>{let i;return a.forEach(l=>{const u=l.getValue(e);u!=null&&(i>u||i===void 0&&u>=u)&&(i=u)}),i},pT=(e,n,a)=>{let i;return a.forEach(l=>{const u=l.getValue(e);u!=null&&(i<u||i===void 0&&u>=u)&&(i=u)}),i},vT=(e,n,a)=>{let i,l;return a.forEach(u=>{const c=u.getValue(e);c!=null&&(i===void 0?c>=c&&(i=l=c):(i>c&&(i=c),l<c&&(l=c)))}),[i,l]},yT=(e,n)=>{let a=0,i=0;if(n.forEach(l=>{let u=l.getValue(e);u!=null&&(u=+u)>=u&&(++a,i+=u)}),a)return i/a},_T=(e,n)=>{if(!n.length)return;const a=n.map(u=>u.getValue(e));if(!sT(a))return;if(a.length===1)return a[0];const i=Math.floor(a.length/2),l=a.sort((u,c)=>u-c);return a.length%2!==0?l[i]:(l[i-1]+l[i])/2},bT=(e,n)=>Array.from(new Set(n.map(a=>a.getValue(e))).values()),wT=(e,n)=>new Set(n.map(a=>a.getValue(e))).size,ST=(e,n)=>n.length,df={sum:gT,min:mT,max:pT,extent:vT,mean:yT,median:_T,unique:bT,uniqueCount:wT,count:ST},ET={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,a;return(n=(a=e.getValue())==null||a.toString==null?void 0:a.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:_n("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(a=>a!=null&&a.includes(e.id)?a.filter(i=>i!==e.id):[...a??[],e.id])},e.getCanGroup=()=>{var a,i;return((a=e.columnDef.enableGrouping)!=null?a:!0)&&((i=n.options.enableGrouping)!=null?i:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var a;return(a=n.getState().grouping)==null?void 0:a.includes(e.id)},e.getGroupedIndex=()=>{var a;return(a=n.getState().grouping)==null?void 0:a.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const a=e.getCanGroup();return()=>{a&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const a=n.getCoreRowModel().flatRows[0],i=a?.getValue(e.id);if(typeof i=="number")return df.sum;if(Object.prototype.toString.call(i)==="[object Date]")return df.extent},e.getAggregationFn=()=>{var a,i;if(!e)throw new Error;return Du(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(a=(i=n.options.aggregationFns)==null?void 0:i[e.columnDef.aggregationFn])!=null?a:df[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var a,i;e.setGrouping(n?[]:(a=(i=e.initialState)==null?void 0:i.grouping)!=null?a:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=a=>{if(e._groupingValuesCache.hasOwnProperty(a))return e._groupingValuesCache[a];const i=n.getColumn(a);return i!=null&&i.columnDef.getGroupingValue?(e._groupingValuesCache[a]=i.columnDef.getGroupingValue(e.original),e._groupingValuesCache[a]):e.getValue(a)},e._groupingValuesCache={}},createCell:(e,n,a,i)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===a.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var l;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((l=a.subRows)!=null&&l.length)}}};function xT(e,n,a){if(!(n!=null&&n.length)||!a)return e;const i=e.filter(u=>!n.includes(u.id));return a==="remove"?i:[...n.map(u=>e.find(c=>c.id===u)).filter(Boolean),...i]}const CT={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:_n("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=Ee(a=>[gl(n,a)],a=>a.findIndex(i=>i.id===e.id),xe(n.options,"debugColumns")),e.getIsFirstColumn=a=>{var i;return((i=gl(n,a)[0])==null?void 0:i.id)===e.id},e.getIsLastColumn=a=>{var i;const l=gl(n,a);return((i=l[l.length-1])==null?void 0:i.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var a;e.setColumnOrder(n?[]:(a=e.initialState.columnOrder)!=null?a:[])},e._getOrderColumnsFn=Ee(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,a,i)=>l=>{let u=[];if(!(n!=null&&n.length))u=l;else{const c=[...n],f=[...l];for(;f.length&&c.length;){const h=c.shift(),m=f.findIndex(v=>v.id===h);m>-1&&u.push(f.splice(m,1)[0])}u=[...u,...f]}return xT(u,a,i)},xe(e.options,"debugTable"))}},ff=()=>({left:[],right:[]}),RT={getInitialState:e=>({columnPinning:ff(),...e}),getDefaultOptions:e=>({onColumnPinningChange:_n("columnPinning",e)}),createColumn:(e,n)=>{e.pin=a=>{const i=e.getLeafColumns().map(l=>l.id).filter(Boolean);n.setColumnPinning(l=>{var u,c;if(a==="right"){var f,h;return{left:((f=l?.left)!=null?f:[]).filter(y=>!(i!=null&&i.includes(y))),right:[...((h=l?.right)!=null?h:[]).filter(y=>!(i!=null&&i.includes(y))),...i]}}if(a==="left"){var m,v;return{left:[...((m=l?.left)!=null?m:[]).filter(y=>!(i!=null&&i.includes(y))),...i],right:((v=l?.right)!=null?v:[]).filter(y=>!(i!=null&&i.includes(y)))}}return{left:((u=l?.left)!=null?u:[]).filter(y=>!(i!=null&&i.includes(y))),right:((c=l?.right)!=null?c:[]).filter(y=>!(i!=null&&i.includes(y)))}})},e.getCanPin=()=>e.getLeafColumns().some(i=>{var l,u,c;return((l=i.columnDef.enablePinning)!=null?l:!0)&&((u=(c=n.options.enableColumnPinning)!=null?c:n.options.enablePinning)!=null?u:!0)}),e.getIsPinned=()=>{const a=e.getLeafColumns().map(f=>f.id),{left:i,right:l}=n.getState().columnPinning,u=a.some(f=>i?.includes(f)),c=a.some(f=>l?.includes(f));return u?"left":c?"right":!1},e.getPinnedIndex=()=>{var a,i;const l=e.getIsPinned();return l?(a=(i=n.getState().columnPinning)==null||(i=i[l])==null?void 0:i.indexOf(e.id))!=null?a:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=Ee(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(a,i,l)=>{const u=[...i??[],...l??[]];return a.filter(c=>!u.includes(c.column.id))},xe(n.options,"debugRows")),e.getLeftVisibleCells=Ee(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(a,i)=>(i??[]).map(u=>a.find(c=>c.column.id===u)).filter(Boolean).map(u=>({...u,position:"left"})),xe(n.options,"debugRows")),e.getRightVisibleCells=Ee(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(a,i)=>(i??[]).map(u=>a.find(c=>c.column.id===u)).filter(Boolean).map(u=>({...u,position:"right"})),xe(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var a,i;return e.setColumnPinning(n?ff():(a=(i=e.initialState)==null?void 0:i.columnPinning)!=null?a:ff())},e.getIsSomeColumnsPinned=n=>{var a;const i=e.getState().columnPinning;if(!n){var l,u;return!!((l=i.left)!=null&&l.length||(u=i.right)!=null&&u.length)}return!!((a=i[n])!=null&&a.length)},e.getLeftLeafColumns=Ee(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,a)=>(a??[]).map(i=>n.find(l=>l.id===i)).filter(Boolean),xe(e.options,"debugColumns")),e.getRightLeafColumns=Ee(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,a)=>(a??[]).map(i=>n.find(l=>l.id===i)).filter(Boolean),xe(e.options,"debugColumns")),e.getCenterLeafColumns=Ee(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,a,i)=>{const l=[...a??[],...i??[]];return n.filter(u=>!l.includes(u.id))},xe(e.options,"debugColumns"))}};function TT(e){return e||(typeof document<"u"?document:null)}const au={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},hf=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),AT={getDefaultColumnDef:()=>au,getInitialState:e=>({columnSizing:{},columnSizingInfo:hf(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:_n("columnSizing",e),onColumnSizingInfoChange:_n("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var a,i,l;const u=n.getState().columnSizing[e.id];return Math.min(Math.max((a=e.columnDef.minSize)!=null?a:au.minSize,(i=u??e.columnDef.size)!=null?i:au.size),(l=e.columnDef.maxSize)!=null?l:au.maxSize)},e.getStart=Ee(a=>[a,gl(n,a),n.getState().columnSizing],(a,i)=>i.slice(0,e.getIndex(a)).reduce((l,u)=>l+u.getSize(),0),xe(n.options,"debugColumns")),e.getAfter=Ee(a=>[a,gl(n,a),n.getState().columnSizing],(a,i)=>i.slice(e.getIndex(a)+1).reduce((l,u)=>l+u.getSize(),0),xe(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(a=>{let{[e.id]:i,...l}=a;return l})},e.getCanResize=()=>{var a,i;return((a=e.columnDef.enableResizing)!=null?a:!0)&&((i=n.options.enableColumnResizing)!=null?i:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let a=0;const i=l=>{if(l.subHeaders.length)l.subHeaders.forEach(i);else{var u;a+=(u=l.column.getSize())!=null?u:0}};return i(e),a},e.getStart=()=>{if(e.index>0){const a=e.headerGroup.headers[e.index-1];return a.getStart()+a.getSize()}return 0},e.getResizeHandler=a=>{const i=n.getColumn(e.column.id),l=i?.getCanResize();return u=>{if(!i||!l||(u.persist==null||u.persist(),gf(u)&&u.touches&&u.touches.length>1))return;const c=e.getSize(),f=e?e.getLeafHeaders().map(N=>[N.column.id,N.column.getSize()]):[[i.id,i.getSize()]],h=gf(u)?Math.round(u.touches[0].clientX):u.clientX,m={},v=(N,U)=>{typeof U=="number"&&(n.setColumnSizingInfo(R=>{var M,k;const V=n.options.columnResizeDirection==="rtl"?-1:1,P=(U-((M=R?.startOffset)!=null?M:0))*V,X=Math.max(P/((k=R?.startSize)!=null?k:0),-.999999);return R.columnSizingStart.forEach(te=>{let[ue,ie]=te;m[ue]=Math.round(Math.max(ie+ie*X,0)*100)/100}),{...R,deltaOffset:P,deltaPercentage:X}}),(n.options.columnResizeMode==="onChange"||N==="end")&&n.setColumnSizing(R=>({...R,...m})))},y=N=>v("move",N),b=N=>{v("end",N),n.setColumnSizingInfo(U=>({...U,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},w=TT(a),S={moveHandler:N=>y(N.clientX),upHandler:N=>{w?.removeEventListener("mousemove",S.moveHandler),w?.removeEventListener("mouseup",S.upHandler),b(N.clientX)}},C={moveHandler:N=>(N.cancelable&&(N.preventDefault(),N.stopPropagation()),y(N.touches[0].clientX),!1),upHandler:N=>{var U;w?.removeEventListener("touchmove",C.moveHandler),w?.removeEventListener("touchend",C.upHandler),N.cancelable&&(N.preventDefault(),N.stopPropagation()),b((U=N.touches[0])==null?void 0:U.clientX)}},T=OT()?{passive:!1}:!1;gf(u)?(w?.addEventListener("touchmove",C.moveHandler,T),w?.addEventListener("touchend",C.upHandler,T)):(w?.addEventListener("mousemove",S.moveHandler,T),w?.addEventListener("mouseup",S.upHandler,T)),n.setColumnSizingInfo(N=>({...N,startOffset:h,startSize:c,deltaOffset:0,deltaPercentage:0,columnSizingStart:f,isResizingColumn:i.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var a;e.setColumnSizing(n?{}:(a=e.initialState.columnSizing)!=null?a:{})},e.resetHeaderSizeInfo=n=>{var a;e.setColumnSizingInfo(n?hf():(a=e.initialState.columnSizingInfo)!=null?a:hf())},e.getTotalSize=()=>{var n,a;return(n=(a=e.getHeaderGroups()[0])==null?void 0:a.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,a;return(n=(a=e.getLeftHeaderGroups()[0])==null?void 0:a.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,a;return(n=(a=e.getCenterHeaderGroups()[0])==null?void 0:a.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,a;return(n=(a=e.getRightHeaderGroups()[0])==null?void 0:a.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0}}};let iu=null;function OT(){if(typeof iu=="boolean")return iu;let e=!1;try{const n={get passive(){return e=!0,!1}},a=()=>{};window.addEventListener("test",a,n),window.removeEventListener("test",a)}catch{e=!1}return iu=e,iu}function gf(e){return e.type==="touchstart"}const DT={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:_n("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=a=>{e.getCanHide()&&n.setColumnVisibility(i=>({...i,[e.id]:a??!e.getIsVisible()}))},e.getIsVisible=()=>{var a,i;const l=e.columns;return(a=l.length?l.some(u=>u.getIsVisible()):(i=n.getState().columnVisibility)==null?void 0:i[e.id])!=null?a:!0},e.getCanHide=()=>{var a,i;return((a=e.columnDef.enableHiding)!=null?a:!0)&&((i=n.options.enableHiding)!=null?i:!0)},e.getToggleVisibilityHandler=()=>a=>{e.toggleVisibility==null||e.toggleVisibility(a.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=Ee(()=>[e.getAllCells(),n.getState().columnVisibility],a=>a.filter(i=>i.column.getIsVisible()),xe(n.options,"debugRows")),e.getVisibleCells=Ee(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(a,i,l)=>[...a,...i,...l],xe(n.options,"debugRows"))},createTable:e=>{const n=(a,i)=>Ee(()=>[i(),i().filter(l=>l.getIsVisible()).map(l=>l.id).join("_")],l=>l.filter(u=>u.getIsVisible==null?void 0:u.getIsVisible()),xe(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=a=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(a),e.resetColumnVisibility=a=>{var i;e.setColumnVisibility(a?{}:(i=e.initialState.columnVisibility)!=null?i:{})},e.toggleAllColumnsVisible=a=>{var i;a=(i=a)!=null?i:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((l,u)=>({...l,[u.id]:a||!(u.getCanHide!=null&&u.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(a=>!(a.getIsVisible!=null&&a.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(a=>a.getIsVisible==null?void 0:a.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>a=>{var i;e.toggleAllColumnsVisible((i=a.target)==null?void 0:i.checked)}}};function gl(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const NT={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},jT={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:_n("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var a;const i=(a=e.getCoreRowModel().flatRows[0])==null||(a=a._getAllCellsByColumnId()[n.id])==null?void 0:a.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var a,i,l,u;return((a=e.columnDef.enableGlobalFilter)!=null?a:!0)&&((i=n.options.enableGlobalFilter)!=null?i:!0)&&((l=n.options.enableFilters)!=null?l:!0)&&((u=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?u:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Dr.includesString,e.getGlobalFilterFn=()=>{var n,a;const{globalFilterFn:i}=e.options;return Du(i)?i:i==="auto"?e.getGlobalAutoFilterFn():(n=(a=e.options.filterFns)==null?void 0:a[i])!=null?n:Dr[i]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},MT={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:_n("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,a=!1;e._autoResetExpanded=()=>{var i,l;if(!n){e._queue(()=>{n=!0});return}if((i=(l=e.options.autoResetAll)!=null?l:e.options.autoResetExpanded)!=null?i:!e.options.manualExpanding){if(a)return;a=!0,e._queue(()=>{e.resetExpanded(),a=!1})}},e.setExpanded=i=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(i),e.toggleAllRowsExpanded=i=>{i??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=i=>{var l,u;e.setExpanded(i?{}:(l=(u=e.initialState)==null?void 0:u.expanded)!=null?l:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const i=e.getState().expanded;return i===!0||Object.values(i).some(Boolean)},e.getIsAllRowsExpanded=()=>{const i=e.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||e.getRowModel().flatRows.some(l=>!l.getIsExpanded()))},e.getExpandedDepth=()=>{let i=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(u=>{const c=u.split(".");i=Math.max(i,c.length)}),i},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=a=>{n.setExpanded(i=>{var l;const u=i===!0?!0:!!(i!=null&&i[e.id]);let c={};if(i===!0?Object.keys(n.getRowModel().rowsById).forEach(f=>{c[f]=!0}):c=i,a=(l=a)!=null?l:!u,!u&&a)return{...c,[e.id]:!0};if(u&&!a){const{[e.id]:f,...h}=c;return h}return i})},e.getIsExpanded=()=>{var a;const i=n.getState().expanded;return!!((a=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?a:i===!0||i?.[e.id])},e.getCanExpand=()=>{var a,i,l;return(a=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?a:((i=n.options.enableExpanding)!=null?i:!0)&&!!((l=e.subRows)!=null&&l.length)},e.getIsAllParentsExpanded=()=>{let a=!0,i=e;for(;a&&i.parentId;)i=n.getRow(i.parentId,!0),a=i.getIsExpanded();return a},e.getToggleExpandedHandler=()=>{const a=e.getCanExpand();return()=>{a&&e.toggleExpanded()}}}},Lf=0,Pf=10,mf=()=>({pageIndex:Lf,pageSize:Pf}),kT={getInitialState:e=>({...e,pagination:{...mf(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:_n("pagination",e)}),createTable:e=>{let n=!1,a=!1;e._autoResetPageIndex=()=>{var i,l;if(!n){e._queue(()=>{n=!0});return}if((i=(l=e.options.autoResetAll)!=null?l:e.options.autoResetPageIndex)!=null?i:!e.options.manualPagination){if(a)return;a=!0,e._queue(()=>{e.resetPageIndex(),a=!1})}},e.setPagination=i=>{const l=u=>pa(i,u);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(l)},e.resetPagination=i=>{var l;e.setPagination(i?mf():(l=e.initialState.pagination)!=null?l:mf())},e.setPageIndex=i=>{e.setPagination(l=>{let u=pa(i,l.pageIndex);const c=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return u=Math.max(0,Math.min(u,c)),{...l,pageIndex:u}})},e.resetPageIndex=i=>{var l,u;e.setPageIndex(i?Lf:(l=(u=e.initialState)==null||(u=u.pagination)==null?void 0:u.pageIndex)!=null?l:Lf)},e.resetPageSize=i=>{var l,u;e.setPageSize(i?Pf:(l=(u=e.initialState)==null||(u=u.pagination)==null?void 0:u.pageSize)!=null?l:Pf)},e.setPageSize=i=>{e.setPagination(l=>{const u=Math.max(1,pa(i,l.pageSize)),c=l.pageSize*l.pageIndex,f=Math.floor(c/u);return{...l,pageIndex:f,pageSize:u}})},e.setPageCount=i=>e.setPagination(l=>{var u;let c=pa(i,(u=e.options.pageCount)!=null?u:-1);return typeof c=="number"&&(c=Math.max(-1,c)),{...l,pageCount:c}}),e.getPageOptions=Ee(()=>[e.getPageCount()],i=>{let l=[];return i&&i>0&&(l=[...new Array(i)].fill(null).map((u,c)=>c)),l},xe(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:i}=e.getState().pagination,l=e.getPageCount();return l===-1?!0:l===0?!1:i<l-1},e.previousPage=()=>e.setPageIndex(i=>i-1),e.nextPage=()=>e.setPageIndex(i=>i+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var i;return(i=e.options.pageCount)!=null?i:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var i;return(i=e.options.rowCount)!=null?i:e.getPrePaginationRowModel().rows.length}}},pf=()=>({top:[],bottom:[]}),UT={getInitialState:e=>({rowPinning:pf(),...e}),getDefaultOptions:e=>({onRowPinningChange:_n("rowPinning",e)}),createRow:(e,n)=>{e.pin=(a,i,l)=>{const u=i?e.getLeafRows().map(h=>{let{id:m}=h;return m}):[],c=l?e.getParentRows().map(h=>{let{id:m}=h;return m}):[],f=new Set([...c,e.id,...u]);n.setRowPinning(h=>{var m,v;if(a==="bottom"){var y,b;return{top:((y=h?.top)!=null?y:[]).filter(C=>!(f!=null&&f.has(C))),bottom:[...((b=h?.bottom)!=null?b:[]).filter(C=>!(f!=null&&f.has(C))),...Array.from(f)]}}if(a==="top"){var w,S;return{top:[...((w=h?.top)!=null?w:[]).filter(C=>!(f!=null&&f.has(C))),...Array.from(f)],bottom:((S=h?.bottom)!=null?S:[]).filter(C=>!(f!=null&&f.has(C)))}}return{top:((m=h?.top)!=null?m:[]).filter(C=>!(f!=null&&f.has(C))),bottom:((v=h?.bottom)!=null?v:[]).filter(C=>!(f!=null&&f.has(C)))}})},e.getCanPin=()=>{var a;const{enableRowPinning:i,enablePinning:l}=n.options;return typeof i=="function"?i(e):(a=i??l)!=null?a:!0},e.getIsPinned=()=>{const a=[e.id],{top:i,bottom:l}=n.getState().rowPinning,u=a.some(f=>i?.includes(f)),c=a.some(f=>l?.includes(f));return u?"top":c?"bottom":!1},e.getPinnedIndex=()=>{var a,i;const l=e.getIsPinned();if(!l)return-1;const u=(a=l==="top"?n.getTopRows():n.getBottomRows())==null?void 0:a.map(c=>{let{id:f}=c;return f});return(i=u?.indexOf(e.id))!=null?i:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var a,i;return e.setRowPinning(n?pf():(a=(i=e.initialState)==null?void 0:i.rowPinning)!=null?a:pf())},e.getIsSomeRowsPinned=n=>{var a;const i=e.getState().rowPinning;if(!n){var l,u;return!!((l=i.top)!=null&&l.length||(u=i.bottom)!=null&&u.length)}return!!((a=i[n])!=null&&a.length)},e._getPinnedRows=(n,a,i)=>{var l;return((l=e.options.keepPinnedRows)==null||l?(a??[]).map(c=>{const f=e.getRow(c,!0);return f.getIsAllParentsExpanded()?f:null}):(a??[]).map(c=>n.find(f=>f.id===c))).filter(Boolean).map(c=>({...c,position:i}))},e.getTopRows=Ee(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,a)=>e._getPinnedRows(n,a,"top"),xe(e.options,"debugRows")),e.getBottomRows=Ee(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,a)=>e._getPinnedRows(n,a,"bottom"),xe(e.options,"debugRows")),e.getCenterRows=Ee(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,a,i)=>{const l=new Set([...a??[],...i??[]]);return n.filter(u=>!l.has(u.id))},xe(e.options,"debugRows"))}},LT={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:_n("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var a;return e.setRowSelection(n?{}:(a=e.initialState.rowSelection)!=null?a:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(a=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const i={...a},l=e.getPreGroupedRowModel().flatRows;return n?l.forEach(u=>{u.getCanSelect()&&(i[u.id]=!0)}):l.forEach(u=>{delete i[u.id]}),i})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(a=>{const i=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),l={...a};return e.getRowModel().rows.forEach(u=>{zf(l,u.id,i,!0,e)}),l}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Ee(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,a)=>Object.keys(n).length?vf(e,a):{rows:[],flatRows:[],rowsById:{}},xe(e.options,"debugTable")),e.getFilteredSelectedRowModel=Ee(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,a)=>Object.keys(n).length?vf(e,a):{rows:[],flatRows:[],rowsById:{}},xe(e.options,"debugTable")),e.getGroupedSelectedRowModel=Ee(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,a)=>Object.keys(n).length?vf(e,a):{rows:[],flatRows:[],rowsById:{}},xe(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:a}=e.getState();let i=!!(n.length&&Object.keys(a).length);return i&&n.some(l=>l.getCanSelect()&&!a[l.id])&&(i=!1),i},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(l=>l.getCanSelect()),{rowSelection:a}=e.getState();let i=!!n.length;return i&&n.some(l=>!a[l.id])&&(i=!1),i},e.getIsSomeRowsSelected=()=>{var n;const a=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return a>0&&a<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(a=>a.getCanSelect()).some(a=>a.getIsSelected()||a.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(a,i)=>{const l=e.getIsSelected();n.setRowSelection(u=>{var c;if(a=typeof a<"u"?a:!l,e.getCanSelect()&&l===a)return u;const f={...u};return zf(f,e.id,a,(c=i?.selectChildren)!=null?c:!0,n),f})},e.getIsSelected=()=>{const{rowSelection:a}=n.getState();return lh(e,a)},e.getIsSomeSelected=()=>{const{rowSelection:a}=n.getState();return $f(e,a)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:a}=n.getState();return $f(e,a)==="all"},e.getCanSelect=()=>{var a;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(a=n.options.enableRowSelection)!=null?a:!0},e.getCanSelectSubRows=()=>{var a;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(a=n.options.enableSubRowSelection)!=null?a:!0},e.getCanMultiSelect=()=>{var a;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(a=n.options.enableMultiRowSelection)!=null?a:!0},e.getToggleSelectedHandler=()=>{const a=e.getCanSelect();return i=>{var l;a&&e.toggleSelected((l=i.target)==null?void 0:l.checked)}}}},zf=(e,n,a,i,l)=>{var u;const c=l.getRow(n,!0);a?(c.getCanMultiSelect()||Object.keys(e).forEach(f=>delete e[f]),c.getCanSelect()&&(e[n]=!0)):delete e[n],i&&(u=c.subRows)!=null&&u.length&&c.getCanSelectSubRows()&&c.subRows.forEach(f=>zf(e,f.id,a,i,l))};function vf(e,n){const a=e.getState().rowSelection,i=[],l={},u=function(c,f){return c.map(h=>{var m;const v=lh(h,a);if(v&&(i.push(h),l[h.id]=h),(m=h.subRows)!=null&&m.length&&(h={...h,subRows:u(h.subRows)}),v)return h}).filter(Boolean)};return{rows:u(n.rows),flatRows:i,rowsById:l}}function lh(e,n){var a;return(a=n[e.id])!=null?a:!1}function $f(e,n,a){var i;if(!((i=e.subRows)!=null&&i.length))return!1;let l=!0,u=!1;return e.subRows.forEach(c=>{if(!(u&&!l)&&(c.getCanSelect()&&(lh(c,n)?u=!0:l=!1),c.subRows&&c.subRows.length)){const f=$f(c,n);f==="all"?u=!0:(f==="some"&&(u=!0),l=!1)}}),l?"all":u?"some":!1}const Ff=/([0-9]+)/gm,PT=(e,n,a)=>L_(va(e.getValue(a)).toLowerCase(),va(n.getValue(a)).toLowerCase()),zT=(e,n,a)=>L_(va(e.getValue(a)),va(n.getValue(a))),$T=(e,n,a)=>oh(va(e.getValue(a)).toLowerCase(),va(n.getValue(a)).toLowerCase()),FT=(e,n,a)=>oh(va(e.getValue(a)),va(n.getValue(a))),HT=(e,n,a)=>{const i=e.getValue(a),l=n.getValue(a);return i>l?1:i<l?-1:0},VT=(e,n,a)=>oh(e.getValue(a),n.getValue(a));function oh(e,n){return e===n?0:e>n?1:-1}function va(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function L_(e,n){const a=e.split(Ff).filter(Boolean),i=n.split(Ff).filter(Boolean);for(;a.length&&i.length;){const l=a.shift(),u=i.shift(),c=parseInt(l,10),f=parseInt(u,10),h=[c,f].sort();if(isNaN(h[0])){if(l>u)return 1;if(u>l)return-1;continue}if(isNaN(h[1]))return isNaN(c)?-1:1;if(c>f)return 1;if(f>c)return-1}return a.length-i.length}const sl={alphanumeric:PT,alphanumericCaseSensitive:zT,text:$T,textCaseSensitive:FT,datetime:HT,basic:VT},BT={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:_n("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const a=n.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const l of a){const u=l?.getValue(e.id);if(Object.prototype.toString.call(u)==="[object Date]")return sl.datetime;if(typeof u=="string"&&(i=!0,u.split(Ff).length>1))return sl.alphanumeric}return i?sl.text:sl.basic},e.getAutoSortDir=()=>{const a=n.getFilteredRowModel().flatRows[0];return typeof a?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var a,i;if(!e)throw new Error;return Du(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(a=(i=n.options.sortingFns)==null?void 0:i[e.columnDef.sortingFn])!=null?a:sl[e.columnDef.sortingFn]},e.toggleSorting=(a,i)=>{const l=e.getNextSortingOrder(),u=typeof a<"u"&&a!==null;n.setSorting(c=>{const f=c?.find(w=>w.id===e.id),h=c?.findIndex(w=>w.id===e.id);let m=[],v,y=u?a:l==="desc";if(c!=null&&c.length&&e.getCanMultiSort()&&i?f?v="toggle":v="add":c!=null&&c.length&&h!==c.length-1?v="replace":f?v="toggle":v="replace",v==="toggle"&&(u||l||(v="remove")),v==="add"){var b;m=[...c,{id:e.id,desc:y}],m.splice(0,m.length-((b=n.options.maxMultiSortColCount)!=null?b:Number.MAX_SAFE_INTEGER))}else v==="toggle"?m=c.map(w=>w.id===e.id?{...w,desc:y}:w):v==="remove"?m=c.filter(w=>w.id!==e.id):m=[{id:e.id,desc:y}];return m})},e.getFirstSortDir=()=>{var a,i;return((a=(i=e.columnDef.sortDescFirst)!=null?i:n.options.sortDescFirst)!=null?a:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=a=>{var i,l;const u=e.getFirstSortDir(),c=e.getIsSorted();return c?c!==u&&((i=n.options.enableSortingRemoval)==null||i)&&(!(a&&(l=n.options.enableMultiRemove)!=null)||l)?!1:c==="desc"?"asc":"desc":u},e.getCanSort=()=>{var a,i;return((a=e.columnDef.enableSorting)!=null?a:!0)&&((i=n.options.enableSorting)!=null?i:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var a,i;return(a=(i=e.columnDef.enableMultiSort)!=null?i:n.options.enableMultiSort)!=null?a:!!e.accessorFn},e.getIsSorted=()=>{var a;const i=(a=n.getState().sorting)==null?void 0:a.find(l=>l.id===e.id);return i?i.desc?"desc":"asc":!1},e.getSortIndex=()=>{var a,i;return(a=(i=n.getState().sorting)==null?void 0:i.findIndex(l=>l.id===e.id))!=null?a:-1},e.clearSorting=()=>{n.setSorting(a=>a!=null&&a.length?a.filter(i=>i.id!==e.id):[])},e.getToggleSortingHandler=()=>{const a=e.getCanSort();return i=>{a&&(i.persist==null||i.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(i):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var a,i;e.setSorting(n?[]:(a=(i=e.initialState)==null?void 0:i.sorting)!=null?a:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},IT=[cT,DT,CT,RT,fT,hT,NT,jT,BT,ET,MT,kT,UT,LT,AT];function qT(e){var n,a;const i=[...IT,...(n=e._features)!=null?n:[]];let l={_features:i};const u=l._features.reduce((b,w)=>Object.assign(b,w.getDefaultOptions==null?void 0:w.getDefaultOptions(l)),{}),c=b=>l.options.mergeOptions?l.options.mergeOptions(u,b):{...u,...b};let h={...{},...(a=e.initialState)!=null?a:{}};l._features.forEach(b=>{var w;h=(w=b.getInitialState==null?void 0:b.getInitialState(h))!=null?w:h});const m=[];let v=!1;const y={_features:i,options:{...u,...e},initialState:h,_queue:b=>{m.push(b),v||(v=!0,Promise.resolve().then(()=>{for(;m.length;)m.shift()();v=!1}).catch(w=>setTimeout(()=>{throw w})))},reset:()=>{l.setState(l.initialState)},setOptions:b=>{const w=pa(b,l.options);l.options=c(w)},getState:()=>l.options.state,setState:b=>{l.options.onStateChange==null||l.options.onStateChange(b)},_getRowId:(b,w,S)=>{var C;return(C=l.options.getRowId==null?void 0:l.options.getRowId(b,w,S))!=null?C:`${S?[S.id,w].join("."):w}`},getCoreRowModel:()=>(l._getCoreRowModel||(l._getCoreRowModel=l.options.getCoreRowModel(l)),l._getCoreRowModel()),getRowModel:()=>l.getPaginationRowModel(),getRow:(b,w)=>{let S=(w?l.getPrePaginationRowModel():l.getRowModel()).rowsById[b];if(!S&&(S=l.getCoreRowModel().rowsById[b],!S))throw new Error;return S},_getDefaultColumnDef:Ee(()=>[l.options.defaultColumn],b=>{var w;return b=(w=b)!=null?w:{},{header:S=>{const C=S.header.column.columnDef;return C.accessorKey?C.accessorKey:C.accessorFn?C.id:null},cell:S=>{var C,T;return(C=(T=S.renderValue())==null||T.toString==null?void 0:T.toString())!=null?C:null},...l._features.reduce((S,C)=>Object.assign(S,C.getDefaultColumnDef==null?void 0:C.getDefaultColumnDef()),{}),...b}},xe(e,"debugColumns")),_getColumnDefs:()=>l.options.columns,getAllColumns:Ee(()=>[l._getColumnDefs()],b=>{const w=function(S,C,T){return T===void 0&&(T=0),S.map(N=>{const U=uT(l,N,T,C),R=N;return U.columns=R.columns?w(R.columns,U,T+1):[],U})};return w(b)},xe(e,"debugColumns")),getAllFlatColumns:Ee(()=>[l.getAllColumns()],b=>b.flatMap(w=>w.getFlatColumns()),xe(e,"debugColumns")),_getAllFlatColumnsById:Ee(()=>[l.getAllFlatColumns()],b=>b.reduce((w,S)=>(w[S.id]=S,w),{}),xe(e,"debugColumns")),getAllLeafColumns:Ee(()=>[l.getAllColumns(),l._getOrderColumnsFn()],(b,w)=>{let S=b.flatMap(C=>C.getLeafColumns());return w(S)},xe(e,"debugColumns")),getColumn:b=>l._getAllFlatColumnsById()[b]};Object.assign(l,y);for(let b=0;b<l._features.length;b++){const w=l._features[b];w==null||w.createTable==null||w.createTable(l)}return l}function GT(){return e=>Ee(()=>[e.options.data],n=>{const a={rows:[],flatRows:[],rowsById:{}},i=function(l,u,c){u===void 0&&(u=0);const f=[];for(let m=0;m<l.length;m++){const v=dT(e,e._getRowId(l[m],m,c),l[m],m,u,void 0,c?.id);if(a.flatRows.push(v),a.rowsById[v.id]=v,f.push(v),e.options.getSubRows){var h;v.originalSubRows=e.options.getSubRows(l[m],m),(h=v.originalSubRows)!=null&&h.length&&(v.subRows=i(v.originalSubRows,u+1,v))}}return f};return a.rows=i(n),a},xe(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function YT(){return e=>Ee(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,a)=>{if(!a.rows.length||!(n!=null&&n.length))return a;const i=e.getState().sorting,l=[],u=i.filter(h=>{var m;return(m=e.getColumn(h.id))==null?void 0:m.getCanSort()}),c={};u.forEach(h=>{const m=e.getColumn(h.id);m&&(c[h.id]={sortUndefined:m.columnDef.sortUndefined,invertSorting:m.columnDef.invertSorting,sortingFn:m.getSortingFn()})});const f=h=>{const m=h.map(v=>({...v}));return m.sort((v,y)=>{for(let w=0;w<u.length;w+=1){var b;const S=u[w],C=c[S.id],T=C.sortUndefined,N=(b=S?.desc)!=null?b:!1;let U=0;if(T){const R=v.getValue(S.id),M=y.getValue(S.id),k=R===void 0,V=M===void 0;if(k||V){if(T==="first")return k?-1:1;if(T==="last")return k?1:-1;U=k&&V?0:k?T:-T}}if(U===0&&(U=C.sortingFn(v,y,S.id)),U!==0)return N&&(U*=-1),C.invertSorting&&(U*=-1),U}return v.index-y.index}),m.forEach(v=>{var y;l.push(v),(y=v.subRows)!=null&&y.length&&(v.subRows=f(v.subRows))}),m};return{rows:f(a.rows),flatRows:l,rowsById:a.rowsById}},xe(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function dy(e,n){return e?KT(e)?x.createElement(e,n):e:null}function KT(e){return XT(e)||typeof e=="function"||WT(e)}function XT(e){return typeof e=="function"&&(()=>{const n=Object.getPrototypeOf(e);return n.prototype&&n.prototype.isReactComponent})()}function WT(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function QT(e){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[a]=x.useState(()=>({current:qT(n)})),[i,l]=x.useState(()=>a.current.initialState);return a.current.setOptions(u=>({...u,...e,state:{...i,...e.state},onStateChange:c=>{l(c),e.onStateChange==null||e.onStateChange(c)}})),a.current}function uh({data:e,columns:n,onSaveRow:a,onDeleteRow:i}){const[l,u]=x.useState(null),[c,f]=x.useState({}),h=x.useMemo(()=>{const y=w=>{const S={};Object.keys(c).forEach(U=>{c[U]!==void 0&&c[U]!==""&&(S[U]=c[U])});const C={...w.original};["machines","progress","n_boxes","time_remaining"].forEach(U=>{delete C[U]});const N={...C,...S};a(N),u(null),f({})},b={id:"actions",header:"Actions",cell:({row:w})=>{const S=w.id===l;return p.jsx("div",{className:"action-buttons",children:S?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>y(w),className:"btn-save",children:"Save"}),p.jsx("button",{onClick:()=>u(null),className:"btn-cancel",children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>u(w.id),className:"btn-edit",children:"Edit"}),p.jsx("button",{onClick:()=>i(w.original),className:"btn-delete",children:"Delete"})]})})}};return[...n,b]},[n,l,c,a,i]),m=x.useMemo(()=>e,[e]),v=QT({data:m,columns:h,getCoreRowModel:GT(),getSortedRowModel:YT(),meta:{editingRowId:l,setEditedData:f}});return p.jsx("div",{className:"table-container",children:p.jsxs("table",{className:"modern-table",children:[p.jsx("thead",{children:v.getHeaderGroups().map(y=>p.jsx("tr",{children:y.headers.map(b=>p.jsxs("th",{onClick:b.column.getToggleSortingHandler(),children:[dy(b.column.columnDef.header,b.getContext()),{asc:" ",desc:" "}[b.column.getIsSorted()]??null]},b.id))},y.id))}),p.jsx("tbody",{children:v.getRowModel().rows.map(y=>p.jsx("tr",{children:y.getVisibleCells().map(b=>p.jsx("td",{children:dy(b.column.columnDef.cell,b.getContext())},b.id))},y.id))})]})})}var Nl=e=>e.type==="checkbox",Ba=e=>e instanceof Date,Jt=e=>e==null;const P_=e=>typeof e=="object";var pt=e=>!Jt(e)&&!Array.isArray(e)&&P_(e)&&!Ba(e),ZT=e=>pt(e)&&e.target?Nl(e.target)?e.target.checked:e.target.value:e,JT=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,eA=(e,n)=>e.has(JT(n)),tA=e=>{const n=e.constructor&&e.constructor.prototype;return pt(n)&&n.hasOwnProperty("isPrototypeOf")},ch=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ut(e){let n;const a=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(ch&&(e instanceof Blob||i))&&(a||pt(e)))if(n=a?[]:Object.create(Object.getPrototypeOf(e)),!a&&!tA(e))n=e;else for(const l in e)e.hasOwnProperty(l)&&(n[l]=Ut(e[l]));else return e;return n}var Nu=e=>/^\w*$/.test(e),bt=e=>e===void 0,dh=e=>Array.isArray(e)?e.filter(Boolean):[],fh=e=>dh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),me=(e,n,a)=>{if(!n||!pt(e))return a;const i=(Nu(n)?[n]:fh(n)).reduce((l,u)=>Jt(l)?l:l[u],e);return bt(i)||i===e?bt(e[n])?a:e[n]:i},ar=e=>typeof e=="boolean",st=(e,n,a)=>{let i=-1;const l=Nu(n)?[n]:fh(n),u=l.length,c=u-1;for(;++i<u;){const f=l[i];let h=a;if(i!==c){const m=e[f];h=pt(m)||Array.isArray(m)?m:isNaN(+l[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=h,e=e[f]}};const fy={BLUR:"blur",FOCUS_OUT:"focusout"},$n={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Tr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},nA=Oe.createContext(null);nA.displayName="HookFormContext";var rA=(e,n,a,i=!0)=>{const l={defaultValues:n._defaultValues};for(const u in e)Object.defineProperty(l,u,{get:()=>{const c=u;return n._proxyFormState[c]!==$n.all&&(n._proxyFormState[c]=!i||$n.all),e[c]}});return l};const aA=typeof window<"u"?Oe.useLayoutEffect:Oe.useEffect;var ir=e=>typeof e=="string",iA=(e,n,a,i,l)=>ir(e)?(i&&n.watch.add(e),me(a,e,l)):Array.isArray(e)?e.map(u=>(i&&n.watch.add(u),me(a,u))):(i&&(n.watchAll=!0),a),Hf=e=>Jt(e)||!P_(e);function ma(e,n,a=new WeakSet){if(Hf(e)||Hf(n))return e===n;if(Ba(e)&&Ba(n))return e.getTime()===n.getTime();const i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;if(a.has(e)||a.has(n))return!0;a.add(e),a.add(n);for(const u of i){const c=e[u];if(!l.includes(u))return!1;if(u!=="ref"){const f=n[u];if(Ba(c)&&Ba(f)||pt(c)&&pt(f)||Array.isArray(c)&&Array.isArray(f)?!ma(c,f,a):c!==f)return!1}}return!0}var sA=(e,n,a,i,l)=>n?{...a[e],types:{...a[e]&&a[e].types?a[e].types:{},[i]:l||!0}}:{},ml=e=>Array.isArray(e)?e:[e],hy=()=>{let e=[];return{get observers(){return e},next:l=>{for(const u of e)u.next&&u.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(u=>u!==l)}}),unsubscribe:()=>{e=[]}}},on=e=>pt(e)&&!Object.keys(e).length,hh=e=>e.type==="file",Fn=e=>typeof e=="function",gu=e=>{if(!ch)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},z_=e=>e.type==="select-multiple",gh=e=>e.type==="radio",lA=e=>gh(e)||Nl(e),yf=e=>gu(e)&&e.isConnected;function oA(e,n){const a=n.slice(0,-1).length;let i=0;for(;i<a;)e=bt(e)?i++:e[n[i++]];return e}function uA(e){for(const n in e)if(e.hasOwnProperty(n)&&!bt(e[n]))return!1;return!0}function _t(e,n){const a=Array.isArray(n)?n:Nu(n)?[n]:fh(n),i=a.length===1?e:oA(e,a),l=a.length-1,u=a[l];return i&&delete i[u],l!==0&&(pt(i)&&on(i)||Array.isArray(i)&&uA(i))&&_t(e,a.slice(0,-1)),e}var $_=e=>{for(const n in e)if(Fn(e[n]))return!0;return!1};function mu(e,n={}){const a=Array.isArray(e);if(pt(e)||a)for(const i in e)Array.isArray(e[i])||pt(e[i])&&!$_(e[i])?(n[i]=Array.isArray(e[i])?[]:{},mu(e[i],n[i])):Jt(e[i])||(n[i]=!0);return n}function F_(e,n,a){const i=Array.isArray(e);if(pt(e)||i)for(const l in e)Array.isArray(e[l])||pt(e[l])&&!$_(e[l])?bt(n)||Hf(a[l])?a[l]=Array.isArray(e[l])?mu(e[l],[]):{...mu(e[l])}:F_(e[l],Jt(n)?{}:n[l],a[l]):a[l]=!ma(e[l],n[l]);return a}var ll=(e,n)=>F_(e,n,mu(n));const gy={value:!1,isValid:!1},my={value:!0,isValid:!0};var H_=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!bt(e[0].attributes.value)?bt(e[0].value)||e[0].value===""?my:{value:e[0].value,isValid:!0}:my:gy}return gy},V_=(e,{valueAsNumber:n,valueAsDate:a,setValueAs:i})=>bt(e)?e:n?e===""?NaN:e&&+e:a&&ir(e)?new Date(e):i?i(e):e;const py={isValid:!1,value:null};var B_=e=>Array.isArray(e)?e.reduce((n,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:n,py):py;function vy(e){const n=e.ref;return hh(n)?n.files:gh(n)?B_(e.refs).value:z_(n)?[...n.selectedOptions].map(({value:a})=>a):Nl(n)?H_(e.refs).value:V_(bt(n.value)?e.ref.value:n.value,e)}var cA=(e,n,a,i)=>{const l={};for(const u of e){const c=me(n,u);c&&st(l,u,c._f)}return{criteriaMode:a,names:[...e],fields:l,shouldUseNativeValidation:i}},pu=e=>e instanceof RegExp,ol=e=>bt(e)?e:pu(e)?e.source:pt(e)?pu(e.value)?e.value.source:e.value:e,yy=e=>({isOnSubmit:!e||e===$n.onSubmit,isOnBlur:e===$n.onBlur,isOnChange:e===$n.onChange,isOnAll:e===$n.all,isOnTouch:e===$n.onTouched});const _y="AsyncFunction";var dA=e=>!!e&&!!e.validate&&!!(Fn(e.validate)&&e.validate.constructor.name===_y||pt(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===_y)),fA=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),by=(e,n,a)=>!a&&(n.watchAll||n.watch.has(e)||[...n.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const pl=(e,n,a,i)=>{for(const l of a||Object.keys(e)){const u=me(e,l);if(u){const{_f:c,...f}=u;if(c){if(c.refs&&c.refs[0]&&n(c.refs[0],l)&&!i)return!0;if(c.ref&&n(c.ref,c.name)&&!i)return!0;if(pl(f,n))break}else if(pt(f)&&pl(f,n))break}}};function wy(e,n,a){const i=me(e,a);if(i||Nu(a))return{error:i,name:a};const l=a.split(".");for(;l.length;){const u=l.join("."),c=me(n,u),f=me(e,u);if(c&&!Array.isArray(c)&&a!==u)return{name:a};if(f&&f.type)return{name:u,error:f};if(f&&f.root&&f.root.type)return{name:`${u}.root`,error:f.root};l.pop()}return{name:a}}var hA=(e,n,a,i)=>{a(e);const{name:l,...u}=e;return on(u)||Object.keys(u).length>=Object.keys(n).length||Object.keys(u).find(c=>n[c]===(!i||$n.all))},gA=(e,n,a)=>!e||!n||e===n||ml(e).some(i=>i&&(a?i===n:i.startsWith(n)||n.startsWith(i))),mA=(e,n,a,i,l)=>l.isOnAll?!1:!a&&l.isOnTouch?!(n||e):(a?i.isOnBlur:l.isOnBlur)?!e:(a?i.isOnChange:l.isOnChange)?e:!0,pA=(e,n)=>!dh(me(e,n)).length&&_t(e,n),vA=(e,n,a)=>{const i=ml(me(e,a));return st(i,"root",n[a]),st(e,a,i),e},ou=e=>ir(e);function Sy(e,n,a="validate"){if(ou(e)||Array.isArray(e)&&e.every(ou)||ar(e)&&!e)return{type:a,message:ou(e)?e:"",ref:n}}var Vi=e=>pt(e)&&!pu(e)?e:{value:e,message:""},Ey=async(e,n,a,i,l,u)=>{const{ref:c,refs:f,required:h,maxLength:m,minLength:v,min:y,max:b,pattern:w,validate:S,name:C,valueAsNumber:T,mount:N}=e._f,U=me(a,C);if(!N||n.has(C))return{};const R=f?f[0]:c,M=ee=>{l&&R.reportValidity&&(R.setCustomValidity(ar(ee)?"":ee||""),R.reportValidity())},k={},V=gh(c),P=Nl(c),X=V||P,te=(T||hh(c))&&bt(c.value)&&bt(U)||gu(c)&&c.value===""||U===""||Array.isArray(U)&&!U.length,ue=sA.bind(null,C,i,k),ie=(ee,ne,de,oe=Tr.maxLength,H=Tr.minLength)=>{const Q=ee?ne:de;k[C]={type:ee?oe:H,message:Q,ref:c,...ue(ee?oe:H,Q)}};if(u?!Array.isArray(U)||!U.length:h&&(!X&&(te||Jt(U))||ar(U)&&!U||P&&!H_(f).isValid||V&&!B_(f).isValid)){const{value:ee,message:ne}=ou(h)?{value:!!h,message:h}:Vi(h);if(ee&&(k[C]={type:Tr.required,message:ne,ref:R,...ue(Tr.required,ne)},!i))return M(ne),k}if(!te&&(!Jt(y)||!Jt(b))){let ee,ne;const de=Vi(b),oe=Vi(y);if(!Jt(U)&&!isNaN(U)){const H=c.valueAsNumber||U&&+U;Jt(de.value)||(ee=H>de.value),Jt(oe.value)||(ne=H<oe.value)}else{const H=c.valueAsDate||new Date(U),Q=O=>new Date(new Date().toDateString()+" "+O),se=c.type=="time",pe=c.type=="week";ir(de.value)&&U&&(ee=se?Q(U)>Q(de.value):pe?U>de.value:H>new Date(de.value)),ir(oe.value)&&U&&(ne=se?Q(U)<Q(oe.value):pe?U<oe.value:H<new Date(oe.value))}if((ee||ne)&&(ie(!!ee,de.message,oe.message,Tr.max,Tr.min),!i))return M(k[C].message),k}if((m||v)&&!te&&(ir(U)||u&&Array.isArray(U))){const ee=Vi(m),ne=Vi(v),de=!Jt(ee.value)&&U.length>+ee.value,oe=!Jt(ne.value)&&U.length<+ne.value;if((de||oe)&&(ie(de,ee.message,ne.message),!i))return M(k[C].message),k}if(w&&!te&&ir(U)){const{value:ee,message:ne}=Vi(w);if(pu(ee)&&!U.match(ee)&&(k[C]={type:Tr.pattern,message:ne,ref:c,...ue(Tr.pattern,ne)},!i))return M(ne),k}if(S){if(Fn(S)){const ee=await S(U,a),ne=Sy(ee,R);if(ne&&(k[C]={...ne,...ue(Tr.validate,ne.message)},!i))return M(ne.message),k}else if(pt(S)){let ee={};for(const ne in S){if(!on(ee)&&!i)break;const de=Sy(await S[ne](U,a),R,ne);de&&(ee={...de,...ue(ne,de.message)},M(de.message),i&&(k[C]=ee))}if(!on(ee)&&(k[C]={ref:R,...ee},!i))return k}}return M(!0),k};const yA={mode:$n.onSubmit,reValidateMode:$n.onChange,shouldFocusError:!0};function _A(e={}){let n={...yA,...e},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Fn(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},l=pt(n.defaultValues)||pt(n.values)?Ut(n.defaultValues||n.values)||{}:{},u=n.shouldUnregister?{}:Ut(l),c={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,m=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...v};const b={array:hy(),state:hy()},w=n.criteriaMode===$n.all,S=D=>$=>{clearTimeout(m),m=setTimeout(D,$)},C=async D=>{if(!n.disabled&&(v.isValid||y.isValid||D)){const $=n.resolver?on((await P()).errors):await te(i,!0);$!==a.isValid&&b.state.next({isValid:$})}},T=(D,$)=>{!n.disabled&&(v.isValidating||v.validatingFields||y.isValidating||y.validatingFields)&&((D||Array.from(f.mount)).forEach(Y=>{Y&&($?st(a.validatingFields,Y,$):_t(a.validatingFields,Y))}),b.state.next({validatingFields:a.validatingFields,isValidating:!on(a.validatingFields)}))},N=(D,$=[],Y,le,ae=!0,re=!0)=>{if(le&&Y&&!n.disabled){if(c.action=!0,re&&Array.isArray(me(i,D))){const ge=Y(me(i,D),le.argA,le.argB);ae&&st(i,D,ge)}if(re&&Array.isArray(me(a.errors,D))){const ge=Y(me(a.errors,D),le.argA,le.argB);ae&&st(a.errors,D,ge),pA(a.errors,D)}if((v.touchedFields||y.touchedFields)&&re&&Array.isArray(me(a.touchedFields,D))){const ge=Y(me(a.touchedFields,D),le.argA,le.argB);ae&&st(a.touchedFields,D,ge)}(v.dirtyFields||y.dirtyFields)&&(a.dirtyFields=ll(l,u)),b.state.next({name:D,isDirty:ie(D,$),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else st(u,D,$)},U=(D,$)=>{st(a.errors,D,$),b.state.next({errors:a.errors})},R=D=>{a.errors=D,b.state.next({errors:a.errors,isValid:!1})},M=(D,$,Y,le)=>{const ae=me(i,D);if(ae){const re=me(u,D,bt(Y)?me(l,D):Y);bt(re)||le&&le.defaultChecked||$?st(u,D,$?re:vy(ae._f)):de(D,re),c.mount&&C()}},k=(D,$,Y,le,ae)=>{let re=!1,ge=!1;const be={name:D};if(!n.disabled){if(!Y||le){(v.isDirty||y.isDirty)&&(ge=a.isDirty,a.isDirty=be.isDirty=ie(),re=ge!==be.isDirty);const Re=ma(me(l,D),$);ge=!!me(a.dirtyFields,D),Re?_t(a.dirtyFields,D):st(a.dirtyFields,D,!0),be.dirtyFields=a.dirtyFields,re=re||(v.dirtyFields||y.dirtyFields)&&ge!==!Re}if(Y){const Re=me(a.touchedFields,D);Re||(st(a.touchedFields,D,Y),be.touchedFields=a.touchedFields,re=re||(v.touchedFields||y.touchedFields)&&Re!==Y)}re&&ae&&b.state.next(be)}return re?be:{}},V=(D,$,Y,le)=>{const ae=me(a.errors,D),re=(v.isValid||y.isValid)&&ar($)&&a.isValid!==$;if(n.delayError&&Y?(h=S(()=>U(D,Y)),h(n.delayError)):(clearTimeout(m),h=null,Y?st(a.errors,D,Y):_t(a.errors,D)),(Y?!ma(ae,Y):ae)||!on(le)||re){const ge={...le,...re&&ar($)?{isValid:$}:{},errors:a.errors,name:D};a={...a,...ge},b.state.next(ge)}},P=async D=>{T(D,!0);const $=await n.resolver(u,n.context,cA(D||f.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return T(D),$},X=async D=>{const{errors:$}=await P(D);if(D)for(const Y of D){const le=me($,Y);le?st(a.errors,Y,le):_t(a.errors,Y)}else a.errors=$;return $},te=async(D,$,Y={valid:!0})=>{for(const le in D){const ae=D[le];if(ae){const{_f:re,...ge}=ae;if(re){const be=f.array.has(re.name),Re=ae._f&&dA(ae._f);Re&&v.validatingFields&&T([le],!0);const ze=await Ey(ae,f.disabled,u,w,n.shouldUseNativeValidation&&!$,be);if(Re&&v.validatingFields&&T([le]),ze[re.name]&&(Y.valid=!1,$))break;!$&&(me(ze,re.name)?be?vA(a.errors,ze,re.name):st(a.errors,re.name,ze[re.name]):_t(a.errors,re.name))}!on(ge)&&await te(ge,$,Y)}}return Y.valid},ue=()=>{for(const D of f.unMount){const $=me(i,D);$&&($._f.refs?$._f.refs.every(Y=>!yf(Y)):!yf($._f.ref))&&qe(D)}f.unMount=new Set},ie=(D,$)=>!n.disabled&&(D&&$&&st(u,D,$),!ma(O(),l)),ee=(D,$,Y)=>iA(D,f,{...c.mount?u:bt($)?l:ir(D)?{[D]:$}:$},Y,$),ne=D=>dh(me(c.mount?u:l,D,n.shouldUnregister?me(l,D,[]):[])),de=(D,$,Y={})=>{const le=me(i,D);let ae=$;if(le){const re=le._f;re&&(!re.disabled&&st(u,D,V_($,re)),ae=gu(re.ref)&&Jt($)?"":$,z_(re.ref)?[...re.ref.options].forEach(ge=>ge.selected=ae.includes(ge.value)):re.refs?Nl(re.ref)?re.refs.forEach(ge=>{(!ge.defaultChecked||!ge.disabled)&&(Array.isArray(ae)?ge.checked=!!ae.find(be=>be===ge.value):ge.checked=ae===ge.value||!!ae)}):re.refs.forEach(ge=>ge.checked=ge.value===ae):hh(re.ref)?re.ref.value="":(re.ref.value=ae,re.ref.type||b.state.next({name:D,values:Ut(u)})))}(Y.shouldDirty||Y.shouldTouch)&&k(D,ae,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&pe(D)},oe=(D,$,Y)=>{for(const le in $){if(!$.hasOwnProperty(le))return;const ae=$[le],re=D+"."+le,ge=me(i,re);(f.array.has(D)||pt(ae)||ge&&!ge._f)&&!Ba(ae)?oe(re,ae,Y):de(re,ae,Y)}},H=(D,$,Y={})=>{const le=me(i,D),ae=f.array.has(D),re=Ut($);st(u,D,re),ae?(b.array.next({name:D,values:Ut(u)}),(v.isDirty||v.dirtyFields||y.isDirty||y.dirtyFields)&&Y.shouldDirty&&b.state.next({name:D,dirtyFields:ll(l,u),isDirty:ie(D,re)})):le&&!le._f&&!Jt(re)?oe(D,re,Y):de(D,re,Y),by(D,f)&&b.state.next({...a,name:D}),b.state.next({name:c.mount?D:void 0,values:Ut(u)})},Q=async D=>{c.mount=!0;const $=D.target;let Y=$.name,le=!0;const ae=me(i,Y),re=Re=>{le=Number.isNaN(Re)||Ba(Re)&&isNaN(Re.getTime())||ma(Re,me(u,Y,Re))},ge=yy(n.mode),be=yy(n.reValidateMode);if(ae){let Re,ze;const or=$.type?vy(ae._f):ZT(D),Et=D.type===fy.BLUR||D.type===fy.FOCUS_OUT,Ga=!fA(ae._f)&&!n.resolver&&!me(a.errors,Y)&&!ae._f.deps||mA(Et,me(a.touchedFields,Y),a.isSubmitted,be,ge),Yn=by(Y,f,Et);st(u,Y,or),Et?(!$||!$.readOnly)&&(ae._f.onBlur&&ae._f.onBlur(D),h&&h(0)):ae._f.onChange&&ae._f.onChange(D);const Kn=k(Y,or,Et),un=!on(Kn)||Yn;if(!Et&&b.state.next({name:Y,type:D.type,values:Ut(u)}),Ga)return(v.isValid||y.isValid)&&(n.mode==="onBlur"?Et&&C():Et||C()),un&&b.state.next({name:Y,...Yn?{}:Kn});if(!Et&&Yn&&b.state.next({...a}),n.resolver){const{errors:Xn}=await P([Y]);if(re(or),le){const ur=wy(a.errors,i,Y),_a=wy(Xn,i,ur.name||Y);Re=_a.error,Y=_a.name,ze=on(Xn)}}else T([Y],!0),Re=(await Ey(ae,f.disabled,u,w,n.shouldUseNativeValidation))[Y],T([Y]),re(or),le&&(Re?ze=!1:(v.isValid||y.isValid)&&(ze=await te(i,!0)));le&&(ae._f.deps&&pe(ae._f.deps),V(Y,ze,Re,Kn))}},se=(D,$)=>{if(me(a.errors,$)&&D.focus)return D.focus(),1},pe=async(D,$={})=>{let Y,le;const ae=ml(D);if(n.resolver){const re=await X(bt(D)?D:ae);Y=on(re),le=D?!ae.some(ge=>me(re,ge)):Y}else D?(le=(await Promise.all(ae.map(async re=>{const ge=me(i,re);return await te(ge&&ge._f?{[re]:ge}:ge)}))).every(Boolean),!(!le&&!a.isValid)&&C()):le=Y=await te(i);return b.state.next({...!ir(D)||(v.isValid||y.isValid)&&Y!==a.isValid?{}:{name:D},...n.resolver||!D?{isValid:Y}:{},errors:a.errors}),$.shouldFocus&&!le&&pl(i,se,D?ae:f.mount),le},O=D=>{const $={...c.mount?u:l};return bt(D)?$:ir(D)?me($,D):D.map(Y=>me($,Y))},q=(D,$)=>({invalid:!!me(($||a).errors,D),isDirty:!!me(($||a).dirtyFields,D),error:me(($||a).errors,D),isValidating:!!me(a.validatingFields,D),isTouched:!!me(($||a).touchedFields,D)}),G=D=>{D&&ml(D).forEach($=>_t(a.errors,$)),b.state.next({errors:D?a.errors:{}})},J=(D,$,Y)=>{const le=(me(i,D,{_f:{}})._f||{}).ref,ae=me(a.errors,D)||{},{ref:re,message:ge,type:be,...Re}=ae;st(a.errors,D,{...Re,...$,ref:le}),b.state.next({name:D,errors:a.errors,isValid:!1}),Y&&Y.shouldFocus&&le&&le.focus&&le.focus()},ce=(D,$)=>Fn(D)?b.state.subscribe({next:Y=>"values"in Y&&D(ee(void 0,$),Y)}):ee(D,$,!0),Ce=D=>b.state.subscribe({next:$=>{gA(D.name,$.name,D.exact)&&hA($,D.formState||v,Xt,D.reRenderRoot)&&D.callback({values:{...u},...a,...$,defaultValues:l})}}).unsubscribe,he=D=>(c.mount=!0,y={...y,...D.formState},Ce({...D,formState:y})),qe=(D,$={})=>{for(const Y of D?ml(D):f.mount)f.mount.delete(Y),f.array.delete(Y),$.keepValue||(_t(i,Y),_t(u,Y)),!$.keepError&&_t(a.errors,Y),!$.keepDirty&&_t(a.dirtyFields,Y),!$.keepTouched&&_t(a.touchedFields,Y),!$.keepIsValidating&&_t(a.validatingFields,Y),!n.shouldUnregister&&!$.keepDefaultValue&&_t(l,Y);b.state.next({values:Ut(u)}),b.state.next({...a,...$.keepDirty?{isDirty:ie()}:{}}),!$.keepIsValid&&C()},Le=({disabled:D,name:$})=>{(ar(D)&&c.mount||D||f.disabled.has($))&&(D?f.disabled.add($):f.disabled.delete($))},St=(D,$={})=>{let Y=me(i,D);const le=ar($.disabled)||ar(n.disabled);return st(i,D,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:D}},name:D,mount:!0,...$}}),f.mount.add(D),Y?Le({disabled:ar($.disabled)?$.disabled:n.disabled,name:D}):M(D,!0,$.value),{...le?{disabled:$.disabled||n.disabled}:{},...n.progressive?{required:!!$.required,min:ol($.min),max:ol($.max),minLength:ol($.minLength),maxLength:ol($.maxLength),pattern:ol($.pattern)}:{},name:D,onChange:Q,onBlur:Q,ref:ae=>{if(ae){St(D,$),Y=me(i,D);const re=bt(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,ge=lA(re),be=Y._f.refs||[];if(ge?be.find(Re=>Re===re):re===Y._f.ref)return;st(i,D,{_f:{...Y._f,...ge?{refs:[...be.filter(yf),re,...Array.isArray(me(l,D))?[{}]:[]],ref:{type:re.type,name:D}}:{ref:re}}}),M(D,!1,void 0,re)}else Y=me(i,D,{}),Y._f&&(Y._f.mount=!1),(n.shouldUnregister||$.shouldUnregister)&&!(eA(f.array,D)&&c.action)&&f.unMount.add(D)}}},ut=()=>n.shouldFocusError&&pl(i,se,f.mount),Vt=D=>{ar(D)&&(b.state.next({disabled:D}),pl(i,($,Y)=>{const le=me(i,Y);le&&($.disabled=le._f.disabled||D,Array.isArray(le._f.refs)&&le._f.refs.forEach(ae=>{ae.disabled=le._f.disabled||D}))},0,!1))},tn=(D,$)=>async Y=>{let le;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let ae=Ut(u);if(b.state.next({isSubmitting:!0}),n.resolver){const{errors:re,values:ge}=await P();a.errors=re,ae=Ut(ge)}else await te(i);if(f.disabled.size)for(const re of f.disabled)_t(ae,re);if(_t(a.errors,"root"),on(a.errors)){b.state.next({errors:{}});try{await D(ae,Y)}catch(re){le=re}}else $&&await $({...a.errors},Y),ut(),setTimeout(ut);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:on(a.errors)&&!le,submitCount:a.submitCount+1,errors:a.errors}),le)throw le},Lr=(D,$={})=>{me(i,D)&&(bt($.defaultValue)?H(D,Ut(me(l,D))):(H(D,$.defaultValue),st(l,D,Ut($.defaultValue))),$.keepTouched||_t(a.touchedFields,D),$.keepDirty||(_t(a.dirtyFields,D),a.isDirty=$.defaultValue?ie(D,Ut(me(l,D))):ie()),$.keepError||(_t(a.errors,D),v.isValid&&C()),b.state.next({...a}))},nn=(D,$={})=>{const Y=D?Ut(D):l,le=Ut(Y),ae=on(D),re=ae?l:le;if($.keepDefaultValues||(l=Y),!$.keepValues){if($.keepDirtyValues){const ge=new Set([...f.mount,...Object.keys(ll(l,u))]);for(const be of Array.from(ge))me(a.dirtyFields,be)?st(re,be,me(u,be)):H(be,me(re,be))}else{if(ch&&bt(D))for(const ge of f.mount){const be=me(i,ge);if(be&&be._f){const Re=Array.isArray(be._f.refs)?be._f.refs[0]:be._f.ref;if(gu(Re)){const ze=Re.closest("form");if(ze){ze.reset();break}}}}if($.keepFieldsRef)for(const ge of f.mount)H(ge,me(re,ge));else i={}}u=n.shouldUnregister?$.keepDefaultValues?Ut(l):{}:Ut(re),b.array.next({values:{...re}}),b.state.next({values:{...re}})}f={mount:$.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!v.isValid||!!$.keepIsValid||!!$.keepDirtyValues,c.watch=!!n.shouldUnregister,b.state.next({submitCount:$.keepSubmitCount?a.submitCount:0,isDirty:ae?!1:$.keepDirty?a.isDirty:!!($.keepDefaultValues&&!ma(D,l)),isSubmitted:$.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:ae?{}:$.keepDirtyValues?$.keepDefaultValues&&u?ll(l,u):a.dirtyFields:$.keepDefaultValues&&D?ll(l,D):$.keepDirty?a.dirtyFields:{},touchedFields:$.keepTouched?a.touchedFields:{},errors:$.keepErrors?a.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},sr=(D,$)=>nn(Fn(D)?D(u):D,$),Gn=(D,$={})=>{const Y=me(i,D),le=Y&&Y._f;if(le){const ae=le.refs?le.refs[0]:le.ref;ae.focus&&(ae.focus(),$.shouldSelect&&Fn(ae.select)&&ae.select())}},Xt=D=>{a={...a,...D}},lr={control:{register:St,unregister:qe,getFieldState:q,handleSubmit:tn,setError:J,_subscribe:Ce,_runSchema:P,_focusError:ut,_getWatch:ee,_getDirty:ie,_setValid:C,_setFieldArray:N,_setDisabledField:Le,_setErrors:R,_getFieldArray:ne,_reset:nn,_resetDefaultValues:()=>Fn(n.defaultValues)&&n.defaultValues().then(D=>{sr(D,n.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:ue,_disableForm:Vt,_subjects:b,_proxyFormState:v,get _fields(){return i},get _formValues(){return u},get _state(){return c},set _state(D){c=D},get _defaultValues(){return l},get _names(){return f},set _names(D){f=D},get _formState(){return a},get _options(){return n},set _options(D){n={...n,...D}}},subscribe:he,trigger:pe,register:St,handleSubmit:tn,watch:ce,setValue:H,getValues:O,reset:sr,resetField:Lr,clearErrors:G,unregister:qe,setError:J,setFocus:Gn,getFieldState:q};return{...lr,formControl:lr}}function ju(e={}){const n=Oe.useRef(void 0),a=Oe.useRef(void 0),[i,l]=Oe.useState({isDirty:!1,isValidating:!1,isLoading:Fn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Fn(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:i},e.defaultValues&&!Fn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...f}=_A(e);n.current={...f,formState:i}}const u=n.current.control;return u._options=e,aA(()=>{const c=u._subscribe({formState:u._proxyFormState,callback:()=>l({...u._formState}),reRenderRoot:!0});return l(f=>({...f,isReady:!0})),u._formState.isReady=!0,c},[u]),Oe.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),Oe.useEffect(()=>{e.mode&&(u._options.mode=e.mode),e.reValidateMode&&(u._options.reValidateMode=e.reValidateMode)},[u,e.mode,e.reValidateMode]),Oe.useEffect(()=>{e.errors&&(u._setErrors(e.errors),u._focusError())},[u,e.errors]),Oe.useEffect(()=>{e.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,e.shouldUnregister]),Oe.useEffect(()=>{if(u._proxyFormState.isDirty){const c=u._getDirty();c!==i.isDirty&&u._subjects.state.next({isDirty:c})}},[u,i.isDirty]),Oe.useEffect(()=>{e.values&&!ma(e.values,a.current)?(u._reset(e.values,{keepFieldsRef:!0,...u._options.resetOptions}),a.current=e.values,l(c=>({...c}))):u._resetDefaultValues()},[u,e.values]),Oe.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),n.current.formState=rA(i,u),n.current}const I_=()=>{const e=x.useCallback((h,m,v)=>{if(!h||!m||!v)return null;try{const{department:y}=h;if(y==="STAMPA"){const b=m/(h.v_stampa||1),w=h.t_setup_stampa||0,S=b+w,C=S*(h.costo_h_stampa||0);return{totals:{duration:S,cost:C},breakdown:{print:{time:b,cost:b*(h.costo_h_stampa||0)},setup:{time:w,cost:w*(h.costo_h_stampa||0)}}}}else if(y==="CONFEZIONAMENTO"){const b=m/(h.v_conf||1),w=h.t_setup_conf||0,S=b+w,C=S*(h.costo_h_conf||0);return{totals:{duration:S,cost:C},breakdown:{package:{time:b,cost:b*(h.costo_h_conf||0)},setup:{time:w,cost:w*(h.costo_h_conf||0)}}}}return null}catch(y){return console.error("Error calculating production metrics:",y),null}},[]),n=x.useCallback(h=>h&&(h.startsWith("P05")||h.startsWith("ISP05"))?"BUSTO_GAROLFO":"ZANICA",[]),a=x.useCallback(h=>h&&h.startsWith("P0")?"CONFEZIONAMENTO":"STAMPA",[]),i=x.useCallback(h=>({STAMPA:["DIGITAL_PRINT","FLEXO_PRINT","ROTOGRAVURE"],CONFEZIONAMENTO:["DOYPACK","PLURI_PIU","MONO_PIU","CONFEZIONAMENTO_TRADIZIONALE","CONFEZIONAMENTO_POLVERI"]})[h]||[],[]),l=x.useCallback((h,m)=>{const y={DIGITAL_PRINT:"DIGI",FLEXO_PRINT:"FLEX",ROTOGRAVURE:"ROTO",DOYPACK:"DOYP",PLURI_PIU:"PLUR",MONO_PIU:"MONO",CONFEZIONAMENTO_TRADIZIONALE:"CONFTRAD",CONFEZIONAMENTO_POLVERI:"CONFPOL"}[h]||"MACH",b=m==="BUSTO_GAROLFO"?"BGF":"ZAN",w=Date.now().toString(36);return`${y}_${b}_${w}`},[]),u=x.useCallback((h,m)=>!(m<0||m>h),[]),c=x.useCallback((h,m)=>!h||h===0?0:Math.round(m*100/h),[]),f=x.useCallback((h,m)=>!h||h===0?0:!m||m===0?h:Math.round(h*(1-m/100)*100)/100,[]);return{calculateProductionMetrics:e,autoDetermineWorkCenter:n,autoDetermineDepartment:a,getValidMachineTypes:i,generateMachineId:l,validateQuantityCompleted:u,calculateCompletionRate:c,calculateTimeRemaining:f}},vu={PHASE:{STAMPA:{v_stampa:{min:0,message:"Printing speed must be greater than 0"},t_setup_stampa:{min:0,message:"Setup time cannot be negative"},costo_h_stampa:{min:0,message:"Hourly cost cannot be negative"}},CONFEZIONAMENTO:{v_conf:{min:0,message:"Packaging speed must be greater than 0"},t_setup_conf:{min:0,message:"Setup time cannot be negative"},costo_h_conf:{min:0,message:"Hourly cost cannot be negative"}}},MACHINE:{min_web_width:{min:0,message:"Minimum web width cannot be negative"},max_web_width:{min:0,message:"Maximum web width cannot be negative"},min_bag_height:{min:0,message:"Minimum bag height cannot be negative"},max_bag_height:{min:0,message:"Maximum bag height cannot be negative"},standard_speed:{min:0,message:"Standard speed cannot be negative"},setup_time_standard:{min:0,message:"Setup time cannot be negative"},changeover_color:{min:0,message:"Color changeover time cannot be negative"},changeover_material:{min:0,message:"Material changeover time cannot be negative"}},ORDER:{bag_height:{min:0,message:"Bag height must be greater than 0"},bag_width:{min:0,message:"Bag width must be greater than 0"},bag_step:{min:0,message:"Bag step must be greater than 0"},quantity:{min:0,message:"Quantity must be greater than 0"},quantity_per_box:{min:0,message:"Quantity per box cannot be negative"},quantity_completed:{min:0,message:"Quantity completed cannot be negative"}}},q_=(e,n)=>{const a={};return n.forEach(i=>{if(!ph(e[i])){const l=i.replace(/_/g," ").replace(/\b\w/g,u=>u.toUpperCase());a[i]=`${l} is required`}}),a},mh=(e,n)=>{const a={};return Object.entries(n).forEach(([i,l])=>{e[i]!==void 0&&e[i]!==null&&e[i]!==""&&(console.log(`Validating field ${i}:`,{value:e[i],type:typeof e[i],rules:l}),K_(e[i],l.min,l.max)||(console.log(`Validation failed for ${i}:`,e[i]),a[i]=l.message))}),a},G_=(e,n,a="PHASE")=>{const i=vu[a]?.[n];return i?mh(e,i):{}},Y_=(e,n)=>{const a={};return n.forEach(i=>{const{condition:l,errorField:u,message:c}=i;l(e)&&(a[u]=c)}),a},bA=(e,n)=>{const a={};return n.required&&Object.assign(a,q_(e,n.required)),n.numeric&&Object.assign(a,mh(e,n.numeric)),n.department&&e.department&&Object.assign(a,G_(e,e.department,n.departmentSchema)),n.logical&&Object.assign(a,Y_(e,n.logical)),a},wA={PHASE:{required:["name","department","work_center"],numeric:{numero_persone:{min:1,message:"Number of people must be at least 1"}},departmentSchema:"PHASE",logical:[{condition:e=>e.bag_width&&e.bag_step&&parseFloat(e.bag_width)<parseFloat(e.bag_step),errorField:"bag_width",message:"Bag width cannot be less than bag step"}]},MACHINE:{required:["machine_name","machine_type","department","work_center"],numeric:vu.MACHINE,logical:[{condition:e=>e.min_web_width&&e.max_web_width&&parseFloat(e.min_web_width)>parseFloat(e.max_web_width),errorField:"min_web_width",message:"Minimum web width cannot exceed maximum web width"},{condition:e=>e.min_bag_height&&e.max_bag_height&&parseFloat(e.min_bag_height)>parseFloat(e.max_bag_height),errorField:"min_bag_height",message:"Minimum bag height cannot exceed maximum bag height"}]},ORDER:{required:["odp_number","article_code","production_lot","bag_height","bag_width","bag_step","product_type","quantity","delivery_date"],numeric:vu.ORDER,logical:[{condition:e=>e.bag_width&&e.bag_step&&parseFloat(e.bag_width)<parseFloat(e.bag_step),errorField:"bag_width",message:"Bag width cannot be less than bag step"},{condition:e=>e.quantity&&e.quantity_completed&&parseFloat(e.quantity_completed)>parseFloat(e.quantity),errorField:"quantity_completed",message:"Quantity completed cannot exceed total quantity"},{condition:e=>e.delivery_date&&e.scheduled_start_time&&new Date(e.scheduled_start_time)>new Date(e.delivery_date),errorField:"scheduled_start_time",message:"Production start cannot be after delivery date"}]},OFF_TIME:{required:["startDate","startTime","endDate","endTime"],logical:[{condition:e=>e.startDate&&e.endDate&&new Date(e.startDate)>new Date(e.endDate),errorField:"endDate",message:"End date cannot be before start date"},{condition:e=>e.startDate&&e.endDate&&e.startDate===e.endDate&&e.startTime&&e.endTime&&e.startTime>=e.endTime,errorField:"endTime",message:"End time must be after start time when dates are the same"}]}},ph=e=>typeof e=="string"?e.trim().length>0:Array.isArray(e)?e.length>0:typeof e=="object"&&e!==null?Object.keys(e).length>0:!!e,SA=e=>!e||typeof e!="string"?!1:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),EA=e=>!e||typeof e!="string"?!1:/^[+]?[1-9][\d]{0,15}$/.test(e.replace(/\s/g,"")),xA=e=>{if(!e)return!1;const n=new Date(e);return n instanceof Date&&!isNaN(n)},K_=(e,n=null,a=null)=>{const i=typeof e=="string"?parseFloat(e):e;return!(typeof i!="number"||isNaN(i)||n!==null&&i<n||a!==null&&i>a)},CA=(e,n=null,a=null)=>{const i=typeof e=="string"?parseInt(e,10):e;return!(!Number.isInteger(i)||n!==null&&i<n||a!==null&&i>a)},RA=e=>{if(!e||typeof e!="string")return!1;try{return new URL(e),!0}catch{return!1}},X_=(e,n)=>!e||!n?!1:typeof n=="string"?new RegExp(n).test(e):n instanceof RegExp?n.test(e):!1,W_=(e,n)=>!e||typeof e!="string"?!1:e.length>=n,Q_=(e,n)=>!e||typeof e!="string"?!1:e.length<=n,Z_=(e,n,a)=>typeof e!="number"||isNaN(e)?!1:e>=n&&e<=a,TA=e=>!e||typeof e!="string"?!1:/^[a-zA-Z0-9\s\-_]{2,100}$/.test(e.trim()),AA=e=>!e||typeof e!="string"?!1:/^[a-zA-Z0-9]{3,20}$/.test(e.trim()),OA=e=>!e||typeof e!="string"?!1:/^[a-zA-Z0-9-]{3,50}$/.test(e.trim()),DA=e=>["ZANICA","BUSTO_GAROLFO"].includes(e),NA=e=>["STAMPA","CONFEZIONAMENTO"].includes(e),jA=e=>["ACTIVE","INACTIVE","MAINTENANCE"].includes(e),MA=e=>["crema","liquido","polveri"].includes(e),kA=e=>["3","4"].includes(e),UA=(e,n)=>{const a={};return Object.keys(n).forEach(i=>{const l=e[i],u=n[i];if(u.required&&!ph(l))a[i]=u.required;else if(l&&u.pattern&&!X_(l,u.pattern))a[i]=u.pattern;else if(l&&u.minLength&&!W_(l,u.minLength))a[i]=u.minLength;else if(l&&u.maxLength&&!Q_(l,u.maxLength))a[i]=u.maxLength;else if(l&&u.min!==void 0&&!Z_(l,u.min,u.max||1/0))a[i]=u.min;else if(l&&u.custom){const c=u.custom(l,e);c&&(a[i]=c)}}),a},Nr={validateRequiredFields:q_,validateNumericFields:mh,validateDepartmentFields:G_,validateLogicalRelations:Y_,validateAll:bA,VALIDATION_CONFIGS:wA,VALIDATION_SCHEMAS:vu,isNotEmpty:ph,isValidEmail:SA,isValidPhone:EA,isValidDate:xA,isValidNumber:K_,isValidInteger:CA,isValidUrl:RA,matchesPattern:X_,hasMinLength:W_,hasMaxLength:Q_,isInRange:Z_,isValidMachineName:TA,isValidOdpNumber:AA,isValidArticleCode:OA,isValidWorkCenter:DA,isValidDepartment:NA,isValidMachineStatus:jA,isValidProductType:MA,isValidSealSides:kA,validateFormData:UA},LA=()=>{const e=x.useCallback(l=>{const u=Nr.validateAll(l,Nr.VALIDATION_CONFIGS.MACHINE);return Object.values(u)},[]),n=x.useCallback((l,u)=>{const c=[];return u.some(h=>h.scheduled_machine_id===l)&&c.push("Cannot delete machine with scheduled tasks. Please unschedule all tasks first."),c},[]),a=x.useCallback(l=>({name:l?.machine_name||"Unknown Machine",type:l?.machine_type||"Unknown Type",department:l?.department||"Unknown Department",workCenter:l?.work_center||"Unknown Work Center",status:l?.status||"UNKNOWN",isActive:l?.status==="ACTIVE"}),[]),i=x.useCallback((l,u)=>{if(l.status!=="ACTIVE")return!1;const c=l.active_shifts||[];if(c.length===0)return!1;const f=u.getHours();return c.some(m=>{switch(m){case"T1":return f>=6&&f<14;case"T2":return f>=14&&f<22;case"T3":return f>=22||f<6;default:return!1}})},[]);return{validateMachine:e,validateMachineDeletion:n,getMachineDisplayInfo:a,isMachineAvailable:i}},PA=()=>{const e=x.useCallback(l=>{const u=Nr.validateAll(l,Nr.VALIDATION_CONFIGS.ORDER);return Object.values(u)},[]),n=x.useCallback((l,u)=>{const c=[];if(!l)return c.push("Please select a production phase"),c;u.department&&l.department!==u.department&&c.push(`Selected phase is for ${l.department} department, but order is for ${u.department}`),u.work_center&&l.work_center!==u.work_center&&c.push(`Selected phase is for ${l.work_center} work center, but order is for ${u.work_center}`);const f=Nr.validateDepartmentFields(l,l.department,"PHASE");return Object.values(f).forEach(h=>c.push(h)),c},[]),a=x.useCallback((l,u,c,f)=>{const h=[];return l?u?!c||!f?(h.push("Start and end times are required"),h):(u.status!=="ACTIVE"&&h.push(`Machine ${u.machine_name} is not active`),l.scheduled_machine_id&&l.scheduled_machine_id!==u.id&&h.push("Order is already scheduled on a different machine"),l.fase||h.push("Order must have a production phase selected"),(!l.quantity||l.quantity<=0)&&h.push("Order must have a valid quantity"),(!l.duration||l.duration<=0)&&h.push("Order must have calculated duration"),h):(h.push("Machine is required"),h):(h.push("Order is required"),h)},[]),i=x.useCallback(l=>{const u=[];return l?(l.quantity_completed>0&&u.push("Cannot delete order that has started production"),l.scheduled_machine_id&&u.push("Cannot delete scheduled order. Please unschedule first."),u):(u.push("Order is required"),u)},[]);return{validateOrder:e,validatePhaseSelection:n,validateOrderScheduling:a,validateOrderDeletion:i}},zA=()=>({validatePhase:a=>{const i=Nr.validateAll(a,Nr.VALIDATION_CONFIGS.PHASE);return Object.values(i)},validateForm:a=>Nr.validateAll(a,Nr.VALIDATION_CONFIGS.PHASE)});function $A(){const e=ye(w=>w.selectedWorkCenter),n={department:lt.MACHINE.DEPARTMENT,machine_type:"",machine_name:"",work_center:e===Ne.BOTH?"":e||lt.MACHINE.WORK_CENTER,min_web_width:lt.MACHINE.MIN_WEB_WIDTH,max_web_width:lt.MACHINE.MAX_WEB_WIDTH,min_bag_height:lt.MACHINE.MIN_BAG_HEIGHT,max_bag_height:lt.MACHINE.MAX_BAG_HEIGHT,standard_speed:"",setup_time_standard:lt.MACHINE.SETUP_TIME_STANDARD,changeover_color:lt.MACHINE.CHANGEOVER_COLOR,changeover_material:lt.MACHINE.CHANGEOVER_MATERIAL,active_shifts:lt.MACHINE.ACTIVE_SHIFTS,status:lt.MACHINE.STATUS},{getValidMachineTypes:a}=I_(),i=ye(w=>w.addMachine),{register:l,handleSubmit:u,formState:{errors:c,isSubmitting:f},watch:h,setValue:m,getValues:v}=ju({defaultValues:n}),y=h("department");x.useEffect(()=>{a(y).includes(v("machine_type"))||m("machine_type","")},[y,a,v,m]);const b=w=>{const{value:S,checked:C}=w.target,T=v("active_shifts")||[];C?m("active_shifts",[...T,S]):m("active_shifts",T.filter(N=>N!==S))};return p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Add Machine"}),p.jsxs("form",{onSubmit:u(i),children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Identificazione"}),p.jsxs("div",{className:"form-grid form-grid--4-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"department",children:"Department *"}),p.jsxs("select",{id:"department",...l("department"),className:c.department?"error":"",children:[p.jsx("option",{value:wt.PRINTING,children:wt.PRINTING}),p.jsx("option",{value:wt.PACKAGING,children:wt.PACKAGING})]}),c.department&&p.jsx("span",{className:"error-message",children:c.department.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"machine_type",children:"Machine Type *"}),p.jsxs("select",{id:"machine_type",...l("machine_type"),className:c.machine_type?"error":"",children:[p.jsx("option",{value:"",children:"Select machine type"}),a(y).map(w=>p.jsx("option",{value:w,children:w},w))]}),c.machine_type&&p.jsx("span",{className:"error-message",children:c.machine_type.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"machine_name",children:"Machine Name *"}),p.jsx("input",{type:"text",id:"machine_name",...l("machine_name"),placeholder:"Descriptive name",className:c.machine_name?"error":""}),c.machine_name&&p.jsx("span",{className:"error-message",children:c.machine_name.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"work_center",children:"Work Center *"}),e===Ne.BOTH?p.jsxs("select",{...l("work_center",{required:"Work center is required"}),id:"work_center",className:c.work_center?"error":"",children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Ne.ZANICA,children:Ne.ZANICA}),p.jsx("option",{value:Ne.BUSTO_GAROLFO,children:Ne.BUSTO_GAROLFO})]}):p.jsx("input",{type:"text",id:"work_center",value:e||"No work center selected",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),e===Ne.BOTH?c.work_center&&p.jsx("span",{className:"error-message",children:c.work_center.message}):p.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Work center is set based on your login selection"})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Capacit Tecniche"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"min_web_width",children:"Min Web Width (mm)"}),p.jsx("input",{type:"number",id:"min_web_width",...l("min_web_width"),min:"0",step:"1",className:c.min_web_width?"error":""}),c.min_web_width&&p.jsx("span",{className:"error-message",children:c.min_web_width.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"max_web_width",children:"Max Web Width (mm) *"}),p.jsx("input",{type:"number",id:"max_web_width",...l("max_web_width"),min:"0",step:"1",className:c.max_web_width?"error":""}),c.max_web_width&&p.jsx("span",{className:"error-message",children:c.max_web_width.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"min_bag_height",children:"Min Bag Height (mm)"}),p.jsx("input",{type:"number",id:"min_bag_height",...l("min_bag_height"),min:"0",step:"1",className:c.min_bag_height?"error":""}),c.min_bag_height&&p.jsx("span",{className:"error-message",children:c.min_bag_height.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"max_bag_height",children:"Max Bag Height (mm) *"}),p.jsx("input",{type:"number",id:"max_bag_height",...l("max_bag_height"),min:"0",step:"1",className:c.max_bag_height?"error":""}),c.max_bag_height&&p.jsx("span",{className:"error-message",children:c.max_bag_height.message})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Performance"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"standard_speed",children:"Standard Speed"}),p.jsx("input",{type:"number",id:"standard_speed",...l("standard_speed"),placeholder:"pz/h or mt/h",min:"0",step:"1",className:c.standard_speed?"error":""}),c.standard_speed&&p.jsx("span",{className:"error-message",children:c.standard_speed.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"setup_time_standard",children:"Setup Time Standard (h)"}),p.jsx("input",{type:"number",id:"setup_time_standard",...l("setup_time_standard"),min:"0",step:"0.1",className:c.setup_time_standard?"error":""}),c.setup_time_standard&&p.jsx("span",{className:"error-message",children:c.setup_time_standard.message})]}),y===wt.PRINTING&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"changeover_color",children:"Changeover Color (h)"}),p.jsx("input",{type:"number",id:"changeover_color",...l("changeover_color"),min:"0",step:"0.1",className:c.changeover_color?"error":""}),c.changeover_color&&p.jsx("span",{className:"error-message",children:c.changeover_color.message})]}),y===wt.PACKAGING&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"changeover_material",children:"Material Changeover (h)"}),p.jsx("input",{type:"number",id:"changeover_material",...l("changeover_material"),min:"0",step:"0.1",className:c.changeover_material?"error":""}),c.changeover_material&&p.jsx("span",{className:"error-message",children:c.changeover_material.message})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Disponibilit"}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Active Shifts"}),p.jsxs("div",{className:"checkbox-group",children:[p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",value:nr.T1,checked:v("active_shifts")?.includes(nr.T1),onChange:b})," ",nr.T1]}),p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",value:nr.T2,checked:v("active_shifts")?.includes(nr.T2),onChange:b})," ",nr.T2]}),p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",value:nr.T3,checked:v("active_shifts")?.includes(nr.T3),onChange:b})," ",nr.T3]})]})]})]}),p.jsx("div",{className:"form-actions",style:{marginTop:"20px"},children:p.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Adding Machine...":"Add Machine"})})]})]})}function Fe({row:e,column:n,table:a,value:i,isEditing:l,onChange:u,type:c="auto",options:f=[],parseValue:h=null,min:m=null,max:v=null,step:y=null}){const b=l??a?.options?.meta?.editingRowId===e?.id,w=i??e?.original?.[n?.id],S=c==="auto"?T(n?.id):c,C=R=>{const M=R.target.value;let k=M;h?k=h(M):S==="number"?k=parseFloat(M)||0:S==="integer"&&(k=parseInt(M)||0),a?.options?.meta?.setEditedData?a.options.meta.setEditedData(V=>({...V,[n?.id]:k})):u&&u(R)};function T(R){if(!R)return"text";if(R==="status")return"select";if(["quantity","quantity_completed","quantity_per_box","numero_persone","bag_height","bag_width","bag_step","min_web_width","max_web_width","min_bag_height","max_bag_height"].includes(R))return"integer";const k=["setup_time_standard","changeover_color","changeover_material","t_setup_stampa","t_setup_conf"],V=["costo_h_stampa","costo_h_conf"],P=["standard_speed","v_stampa","v_conf"];return k.includes(R)||V.includes(R)||P.includes(R)?"number":"text"}function N(R){return R==="status"?[{value:Dn.ACTIVE,label:Dn.ACTIVE},{value:Dn.INACTIVE,label:Dn.INACTIVE},{value:Dn.MAINTENANCE,label:Dn.MAINTENANCE}]:R==="department"?[{value:wt.PRINTING,label:wt.PRINTING},{value:wt.PACKAGING,label:wt.PACKAGING}]:R==="work_center"?[{value:Ne.ZANICA,label:Ne.ZANICA},{value:Ne.BUSTO_GAROLFO,label:Ne.BUSTO_GAROLFO}]:R==="product_type"?[{value:qi.CREMA,label:"Crema"},{value:qi.LIQUIDO,label:"Liquido"},{value:qi.POLVERI,label:"Polveri"}]:R==="seal_sides"?[{value:Sl.THREE,label:"3 sides"},{value:Sl.FOUR,label:"4 sides"}]:f}if(b)switch(S){case"select":{const R=N(n?.id);return p.jsx("select",{defaultValue:w,onChange:C,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"},children:R.map(M=>p.jsx("option",{value:M.value,children:M.label},M.value))})}case"number":{const R=nl.DECIMAL_PRECISION.TWO_DECIMAL.includes(n?.id)?nl.FIELD_STEPS.COST:(nl.DECIMAL_PRECISION.ONE_DECIMAL.includes(n?.id),nl.FIELD_STEPS.TIME);return p.jsx("input",{type:"number",defaultValue:w,onChange:C,min:m,max:v,step:y||R,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}})}case"integer":return p.jsx("input",{type:"number",defaultValue:w,onChange:C,min:m||0,max:v,step:1,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}});default:return p.jsx("input",{type:"text",defaultValue:w,onChange:C,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}})}const U=w??"";return S==="number"||S==="integer"?p.jsx("span",{children:U}):p.jsx("span",{children:U})}function FA(){const e=ye(S=>S.machines),n=ye(S=>S.selectedWorkCenter),a=ye(S=>S.isLoading),i=ye(S=>S.isInitialized),l=ye(S=>S.init),u=ye(S=>S.updateMachine),c=ye(S=>S.removeMachine),f=ye(S=>S.showAlert),h=ye(S=>S.showConfirmDialog),m=x.useMemo(()=>n?n===Ne.BOTH?e:e.filter(S=>S.work_center===n):[],[e,n]),{validateMachine:v}=LA();x.useEffect(()=>{i||l()},[l,i]);const y=x.useMemo(()=>[{header:"Machine ID",accessorKey:"id"},{header:"Machine Type",accessorKey:"machine_type"},{header:"Machine Name",accessorKey:"machine_name",cell:Fe},{header:"Work Center",accessorKey:"work_center"},{header:"Department",accessorKey:"department"},{header:"Status",accessorKey:"status",cell:Fe},{header:"Min Web (mm)",accessorKey:"min_web_width",cell:Fe},{header:"Max Web (mm)",accessorKey:"max_web_width",cell:Fe},{header:"Min Bag (mm)",accessorKey:"min_bag_height",cell:Fe},{header:"Max Bag (mm)",accessorKey:"max_bag_height",cell:Fe},{header:"Std Speed",accessorKey:"standard_speed",cell:Fe},{header:"Setup (h)",accessorKey:"setup_time_standard",cell:Fe},{header:"Color Change (h)",accessorKey:"changeover_color",cell:Fe},{header:"Material Change (h)",accessorKey:"changeover_material",cell:Fe},{header:"Active Shifts",accessorKey:"active_shifts",cell:S=>Array.isArray(S.getValue())?S.getValue().join(", "):""},{header:"Created At",accessorKey:"created_at",cell:S=>new Date(S.getValue()).toLocaleDateString()},{header:"Updated At",accessorKey:"updated_at",cell:S=>new Date(S.getValue()).toLocaleDateString()},{header:"Calendar",accessorKey:"id",cell:S=>p.jsx(Nn,{to:`/machinery/${S.getValue()}/calendar`,className:"btn btn-primary btn-sm",children:"View Calendar"})}],[]),b=async S=>{const C=v(S);if(C.length>0){f(`Validation errors:
${C.join(`
`)}`,"error");return}try{await u(S.id,S)}catch(T){console.error("Failed to update machine:",T)}},w=async S=>{h("Delete Machine",`Are you sure you want to delete "${S.machine_name}"? This action cannot be undone.`,async()=>{try{await c(S.id)}catch(C){console.error("Failed to delete machine:",C)}},"danger")};return a?p.jsx("div",{children:"Loading machinery data..."}):n?p.jsxs(p.Fragment,{children:[p.jsx($A,{}),p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Machinery Catalog"}),p.jsx(uh,{columns:y,data:m,onSaveRow:b,onDeleteRow:w})]})]}):p.jsx("div",{className:"error",children:"Please select a work center to view machinery data."})}function HA({currentDate:e,currentView:n,onDateChange:a,onViewChange:i}){const l=()=>{a(new Date)},u=()=>{let h;n==="Month"?(h=new Date(e),h.setMonth(h.getMonth()-1)):n==="Week"?h=xl(e,-7):n==="Year"&&(h=new Date(e),h.setFullYear(h.getFullYear()-1)),a(h)},c=()=>{let h;n==="Month"?(h=new Date(e),h.setMonth(h.getMonth()+1)):n==="Week"?h=xl(e,7):n==="Year"&&(h=new Date(e),h.setFullYear(h.getFullYear()+1)),a(h)},f=()=>{if(n==="Month")return e.toLocaleDateString("en-US",{month:"long",year:"numeric"});if(n==="Week"){const h=R_(e),m=T_(e);return`${h.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${m.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}else if(n==="Year")return e.getFullYear().toString();return""};return p.jsxs("div",{className:"calendar-controls-container",children:[p.jsxs("div",{className:"calendar-navigation",children:[p.jsx("button",{className:"btn btn-secondary",onClick:u,"aria-label":"Previous",children:" Previous"}),p.jsx("button",{className:"btn btn-primary",onClick:l,children:"Today"}),p.jsx("button",{className:"btn btn-secondary",onClick:c,"aria-label":"Next",children:"Next "})]}),p.jsxs("div",{className:"calendar-view-selector",children:[p.jsx("h3",{children:f()}),p.jsxs("select",{value:n,onChange:h=>i(h.target.value),className:"form-select",children:[p.jsx("option",{value:"Month",children:"Month"}),p.jsx("option",{value:"Week",children:"Week"}),p.jsx("option",{value:"Year",children:"Year"})]})]})]})}function VA({machineId:e,currentDate:n,onSuccess:a}){const[i,l]=x.useState({}),u=ye(P=>P.setMachineUnavailability),c=ye(P=>P.showAlert),f=P=>{const X={};if(P.startDate&&P.endDate){const te=new Date(P.startDate);new Date(P.endDate)<te&&(X.endDate=Xv.END_DATE_BEFORE_START),P.startDate===P.endDate&&P.startTime&&P.endTime&&P.startTime>=P.endTime&&(X.endTime=Xv.END_TIME_BEFORE_START)}return X},h=async P=>{l({}),N(["startDate","startTime","endDate","endTime"]);const X=f(P);if(Object.keys(X).length>0){l(X),Object.entries(X).forEach(([te,ue])=>{T(te,{type:"validation",message:ue})}),c("Please fix the validation errors before submitting.","warning");return}try{await u(e,P.startDate,P.endDate,P.startTime,P.endTime),c("Machine unavailability set successfully!","success"),a&&a(),C()}catch(te){throw c(`Failed to set machine unavailability: ${te.message}`,"error"),te}},{register:m,handleSubmit:v,formState:{errors:y,isSubmitting:b},setValue:w,watch:S,reset:C,setError:T,clearErrors:N}=ju({defaultValues:{startDate:"",startTime:"",endDate:"",endTime:""}}),U=S("startDate"),R=S("endDate"),M=S("startTime"),k=S("endTime");x.useEffect(()=>{const P=new Date,X=xl(P,1);w("startDate",Ht(P)),w("endDate",Ht(X)),w("startTime",lt.OFF_TIME.START_TIME),w("endTime",lt.OFF_TIME.END_TIME)},[n]),x.useEffect(()=>{U&&R&&M&&k&&(N(["startDate","startTime","endDate","endTime"]),l({}))},[U,R,M,k]);const V=P=>{const X=y[P]||i[P];return X?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:X.message||X}):null};return p.jsxs("div",{className:"off-time-section",children:[p.jsx("h3",{children:"Set Off-Time Period"}),p.jsxs("form",{onSubmit:v(h),className:"off-time-form",children:[p.jsxs("div",{className:"form-grid form-grid--4-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"startDate",children:"Start Date"}),p.jsx("input",{type:"date",id:"startDate",...m("startDate"),className:`date-input ${y.startDate||i.startDate?"error":""}`}),V("startDate")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"startTime",children:"Start Time"}),p.jsx("input",{type:"time",id:"startTime",...m("startTime"),className:`time-input ${y.startTime||i.startTime?"error":""}`}),V("startTime")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"endDate",children:"End Date"}),p.jsx("input",{type:"date",id:"endDate",...m("endDate"),className:`date-input ${y.endDate||i.endDate?"error":""}`}),V("endDate")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"endTime",children:"End Time"}),p.jsx("input",{type:"time",id:"endTime",...m("endTime"),className:`time-input ${y.endTime||i.endTime?"error":""}`}),V("endTime")]})]}),p.jsx("div",{className:"form-actions",children:p.jsx("button",{type:"submit",className:"set-off-time-btn",disabled:b,children:b?"Setting...":"Set Off-Time"})})]})]})}function BA({machineId:e,currentDate:n,currentView:a,refreshTrigger:i}){const[l,u]=x.useState({}),[c,f]=x.useState(!1),h=ye(M=>M.machines),m=ye(M=>M.odpOrders),v=ye(M=>M.getMachineAvailability),y=ye(M=>M.loadMachineAvailabilityForDateRange),b=ye(M=>M.toggleMachineHourAvailability),w=ye(M=>M.showAlert),S=h.find(M=>M.id===e);x.useEffect(()=>{(async()=>{if(e){console.log(`CalendarGrid: loadData called with currentView: ${a}, currentDate: ${n}`),f(!0);try{if(a==="Month"){const k=n.getFullYear(),V=n.getMonth(),P=new Date(k,V,1),X=new Date(k,V+1,0),te=Ht(P),ue=Ht(X);console.log(`CalendarGrid: Loading month data for ${k}-${V+1}`,{firstDay:P,lastDay:X,firstDayStr:te,lastDayStr:ue});const ie=await y(e,te,ue);if(console.log("CalendarGrid: Month data received:",ie),ie&&Array.isArray(ie)){const ee={};ie.forEach(ne=>{if(ne.date&&ne.unavailable_hours){const de=new Date(ne.date),oe=Ht(de);ee[oe]=ne.unavailable_hours,console.log(`CalendarGrid: Organized data for ${oe}:`,ne.unavailable_hours)}}),console.log("CalendarGrid: Final organized data:",ee),u(ee)}}else if(a==="Week"){const k=R_(n),V=T_(n),P=Ht(k),X=Ht(V);console.log(`CalendarGrid: Loading week data from ${P} to ${X}`);const te=await y(e,P,X);if(console.log("CalendarGrid: Week data received:",te),te&&Array.isArray(te)){const ue={};te.forEach(ie=>{if(ie.date&&ie.unavailable_hours){const ee=new Date(ie.date),ne=Ht(ee);ue[ne]=ie.unavailable_hours,console.log(`CalendarGrid: Organized week data for ${ne}:`,ie.unavailable_hours)}}),console.log("CalendarGrid: Final organized week data:",ue),u(ue)}}else{const k=Ht(n),V=await v(e,k);V&&Array.isArray(V)&&u(P=>({...P,[k]:V}))}}catch(k){console.error("Error loading availability data:",k)}finally{f(!1)}}})()},[e,n,a,i,v,y]);const C=(M,k)=>{if(!S)return!1;const V=m.filter(P=>P.status==="SCHEDULED"&&P.scheduled_machine_id===S.id);return k<3&&V.length>0&&(console.log(`CalendarGrid: Checking scheduled tasks for ${M} hour ${k}`),console.log(`CalendarGrid: Found ${V.length} scheduled tasks`),V.forEach(P=>{console.log(`CalendarGrid: Task ${P.odp_number}: ${P.scheduled_start_time} to ${P.scheduled_end_time}`)})),V.some(P=>XR(P,M,k))},T=async(M,k)=>{if(C(M,k)){w("Cannot mark time slot as unavailable - it has scheduled tasks","error");return}try{if(!S){console.error("Machine not found:",e);return}console.log(`Toggling hour ${k} for ${M} on machine ${S.id}`),await b(S.id,M,k),u(V=>{const P={...V};P[M]||(P[M]=[]);const X=[...P[M]],te=k.toString();return X.includes(te)?(P[M]=X.filter(ue=>ue!==te),console.log(`Removed hour ${te}, new array:`,P[M])):(P[M]=[...X,te].sort((ue,ie)=>parseInt(ue)-parseInt(ie)),console.log(`Added hour ${te}, new array:`,P[M])),P})}catch(V){console.error("Error toggling time slot:",V)}},N=()=>{const M=n.getFullYear(),k=n.getMonth(),V=new Date(M,k,1),P=new Date(M,k+1,0),X=new Date(V);X.setDate(X.getDate()-V.getDay());const te=[],ue=new Date(X);for(;ue<=P||te.length<42;)te.push(new Date(ue)),ue.setDate(ue.getDate()+1);const ie=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return p.jsxs("div",{className:"calendar-month-grid",children:[p.jsx("div",{className:"calendar-week-header",children:ie.map(ee=>p.jsx("div",{className:"week-day-header",children:ee},ee))}),p.jsx("div",{className:"calendar-days-grid",children:te.map((ee,ne)=>{const de=Ht(ee),oe=l[de]||[],H=ee.getMonth()===k,Q=ee.toDateString()===new Date().toDateString(),se=Array.from({length:24},(O,q)=>q).some(O=>C(de,O));let pe="calendar-day";return H||(pe+=" other-month"),Q&&(pe+=" today"),oe.length>0&&(pe+=oe.length===24?" unavailable":" partially-unavailable"),se&&(pe+=" has-scheduled-tasks"),p.jsxs("div",{className:pe,children:[p.jsx("span",{className:"day-number",children:ee.getDate()}),oe.length>0&&p.jsx("div",{className:"availability-indicator",children:oe.length===24?"All Day":`${oe.length}h`}),se&&p.jsx("div",{className:"scheduled-tasks-indicator",children:""})]},ne)})})]})},U=()=>{const M=new Date(n);M.setDate(n.getDate()-n.getDay());const k=[];for(let P=0;P<7;P++){const X=new Date(M);X.setDate(M.getDate()+P),k.push(X)}const V=Array.from({length:24},(P,X)=>X);return p.jsxs("div",{className:"calendar-week-grid",children:[p.jsxs("div",{className:"time-column-header",children:[p.jsx("div",{className:"time-header-cell",children:"Time"}),k.map(P=>p.jsx("div",{className:"day-header-cell",children:P.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},P.toISOString()))]}),V.map(P=>p.jsxs("div",{className:"time-row",children:[p.jsxs("div",{className:"time-label",children:[P.toString().padStart(2,"0"),":00"]}),k.map(X=>{const te=Ht(X),ue=l[te]||[],ie=P.toString(),ee=ue.includes(ie),ne=C(te,P);P<3&&k.indexOf(X)<3&&console.log(`CalendarGrid: Day ${X.toDateString()} -> dateStr: ${te}, hour: ${P}, hasScheduled: ${ne}`);let de="time-slot";return ee&&(de+=" unavailable"),ne&&(de+=" has-scheduled-task"),p.jsx("div",{className:de,onClick:()=>T(te,P),children:p.jsx("div",{className:"time-slot-content",children:ee?"":ne?"":""})},`${te}-${P}`)})]},P))]})},R=()=>{const M=n.getFullYear(),k=Array.from({length:12},(V,P)=>P);return p.jsx("div",{className:"calendar-year-grid",children:k.map(V=>{const X=new Date(M,V,1).toLocaleDateString("en-US",{month:"short"}),te=new Date(M,V+1,0).getDate(),ue=new Date(M,V,1).getDay(),ie=[];for(let ee=0;ee<ue;ee++)ie.push(null);for(let ee=1;ee<=te;ee++)ie.push(ee);return p.jsxs("div",{className:"month-mini-calendar",children:[p.jsx("h4",{children:X}),p.jsxs("div",{className:"mini-month-grid",children:[["S","M","T","W","T","F","S"].map(ee=>p.jsx("div",{className:"mini-day-header",children:ee},ee)),ie.map((ee,ne)=>{if(ee===null)return p.jsx("div",{className:"mini-day empty"},ne);const de=Ht(new Date(M,V,ee)),oe=l[de]||[],H=oe.length>0;return p.jsx("div",{className:`mini-day ${H?"unavailable":""}`,title:H?`${oe.length} unavailable hours`:"Available",children:ee},ne)})]})]},V)})})};return c?p.jsx("div",{className:"loading",children:"Loading calendar data..."}):p.jsxs("div",{className:"calendar-grid-container",children:[a==="Month"&&N(),a==="Week"&&U(),a==="Year"&&R()]})}function IA(){const{machineId:e}=mS(),[n,a]=x.useState(new Date),[i,l]=x.useState("Month"),[u,c]=x.useState(0),f=ye(S=>S.machines.find(C=>C.id===e)),h=ye(S=>S.isLoading),m=ye(S=>S.isInitialized),v=ye(S=>S.init);if(x.useEffect(()=>{m||v()},[v,m]),h||!m)return p.jsx("div",{className:"loading",children:"Loading machine calendar..."});if(!f)return p.jsx("div",{className:"error",children:"Machine not found"});const y=S=>{a(S)},b=S=>{l(S)},w=()=>{c(S=>S+1)};return p.jsx("div",{className:"page-container",children:p.jsxs("div",{className:"content-section",children:[p.jsxs("div",{className:"calendar-header",children:[p.jsx("h1",{children:"Machine Availability Calendar"}),p.jsx("h2",{children:f.machine_name})]}),p.jsx(HA,{currentDate:n,currentView:i,onDateChange:y,onViewChange:b}),p.jsx(VA,{machineId:f.id,currentDate:n,onSuccess:w}),p.jsx(BA,{machineId:f.id,currentDate:n,currentView:i,refreshTrigger:u})]})})}function qA(){const e=ye(y=>y.selectedWorkCenter),n={name:"",department:lt.PHASE.DEPARTMENT,numero_persone:lt.PHASE.NUMERO_PERSONE,work_center:e===Ne.BOTH?"":e||lt.PHASE.WORK_CENTER,v_stampa:lt.PHASE.V_STAMPA,t_setup_stampa:lt.PHASE.T_SETUP_STAMPA,costo_h_stampa:lt.PHASE.COSTO_H_STAMPA,v_conf:lt.PHASE.V_CONF,t_setup_conf:lt.PHASE.T_SETUP_CONF,costo_h_conf:lt.PHASE.COSTO_H_CONF,contenuto_fase:""},a=ye(y=>y.addPhase),{register:i,handleSubmit:l,formState:{errors:u,isSubmitting:c},watch:f,setValue:h}=ju({defaultValues:n}),m=f("department");x.useEffect(()=>{m===wt.PRINTING&&(h("v_conf",0),h("t_setup_conf",0),h("costo_h_conf",0))},[m,h]);const v=y=>u[y]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:u[y].message}):null;return p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Production Phases"}),p.jsxs("form",{onSubmit:l(a),children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Add New Phase"}),p.jsxs("div",{className:"form-grid form-grid--4-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"name",children:"Phase Name *"}),p.jsx("input",{type:"text",id:"name",...i("name"),placeholder:"e.g., High-Speed Printing",className:u.name?"error":""}),v("name")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"department",children:"Phase Type *"}),p.jsxs("select",{id:"department",...i("department"),className:u.department?"error":"",children:[p.jsx("option",{value:wt.PRINTING,children:wt.PRINTING}),p.jsx("option",{value:wt.PACKAGING,children:wt.PACKAGING})]}),v("department")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"numero_persone",children:"Number of People Required *"}),p.jsx("input",{type:"number",id:"numero_persone",...i("numero_persone"),min:"1",step:"1",className:u.numero_persone?"error":""}),v("numero_persone")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"work_center",children:"Work Center *"}),e===Ne.BOTH?p.jsxs("select",{...i("work_center",{required:"Work center is required"}),id:"work_center",className:u.work_center?"error":"",children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Ne.ZANICA,children:Ne.ZANICA}),p.jsx("option",{value:Ne.BUSTO_GAROLFO,children:Ne.BUSTO_GAROLFO})]}):p.jsx("input",{type:"text",id:"work_center",value:e||"No work center selected",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),e===Ne.BOTH?u.work_center&&p.jsx("span",{className:"error-message",children:u.work_center.message}):p.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Work center is set based on your login selection"})]})]})]}),m===wt.PRINTING&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Printing Parameters"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_stampa",children:"Printing Speed (mt/h) *"}),p.jsx("input",{type:"number",id:"v_stampa",...i("v_stampa"),min:"0",step:"1",className:u.v_stampa?"error":""}),v("v_stampa")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_stampa",children:"Setup Time (hours)"}),p.jsx("input",{type:"number",id:"t_setup_stampa",...i("t_setup_stampa"),min:"0",step:"0.1",className:u.t_setup_stampa?"error":""}),v("t_setup_stampa")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_stampa",children:"Hourly Cost (/h)"}),p.jsx("input",{type:"number",id:"costo_h_stampa",...i("costo_h_stampa"),min:"0",step:"0.01",className:u.costo_h_stampa?"error":""}),v("costo_h_stampa")]})]})]}),m===wt.PACKAGING&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Packaging Parameters"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_conf",children:"Packaging Speed (pz/h) *"}),p.jsx("input",{type:"number",id:"v_conf",...i("v_conf"),min:"0",step:"1",className:u.v_conf?"error":""}),v("v_conf")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_conf",children:"Setup Time (hours)"}),p.jsx("input",{type:"number",id:"t_setup_conf",...i("t_setup_conf"),min:"0",step:"0.1",className:u.t_setup_conf?"error":""}),v("t_setup_conf")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_conf",children:"Hourly Cost (/h)"}),p.jsx("input",{type:"number",id:"costo_h_conf",...i("costo_h_conf"),min:"0",step:"0.01",className:u.costo_h_conf?"error":""}),v("costo_h_conf")]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"contenuto_fase",children:"Phase Content Description"}),p.jsx("textarea",{id:"contenuto_fase",...i("contenuto_fase"),rows:"3",placeholder:"Describe the phase content and requirements..."})]})]}),p.jsx("div",{className:"form-actions",style:{marginTop:"20px"},children:p.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?"Adding Phase...":"Add Phase"})})]})]})}function GA(){const[e,n]=x.useState(null),a=ye(T=>T.phases),i=ye(T=>T.selectedWorkCenter),l=ye(T=>T.isLoading),u=ye(T=>T.isInitialized),c=ye(T=>T.init),f=ye(T=>T.updatePhase),h=ye(T=>T.removePhase),m=ye(T=>T.showAlert),v=ye(T=>T.showConfirmDialog),y=x.useMemo(()=>i?i===Ne.BOTH?a:a.filter(T=>T.work_center===i):[],[a,i]),{validatePhase:b}=zA();x.useEffect(()=>{u||c().catch(T=>{n("Failed to load phases data"),console.error("Error loading phases:",T)})},[c,u]);const w=x.useMemo(()=>[{header:"ID",accessorKey:"id"},{header:"Phase Name",accessorKey:"name",cell:Fe},{header:"Department",accessorKey:"department",cell:Fe},{header:"Work Center",accessorKey:"work_center",cell:Fe},{header:"Print Speed (mt/h)",accessorKey:"v_stampa",cell:Fe},{header:"Print Setup (h)",accessorKey:"t_setup_stampa",cell:Fe},{header:"Print Cost (/h)",accessorKey:"costo_h_stampa",cell:Fe},{header:"Package Speed (pz/h)",accessorKey:"v_conf",cell:Fe},{header:"Package Setup (h)",accessorKey:"t_setup_conf",cell:Fe},{header:"Package Cost (/h)",accessorKey:"costo_h_conf",cell:Fe},{header:"# People",accessorKey:"numero_persone",cell:Fe},{header:"Created At",accessorKey:"created_at",cell:T=>new Date(T.getValue()).toLocaleDateString()}],[]),S=async T=>{try{const N=b(T);if(N.length>0){m(`Validation errors:
${N.join(`
`)}`,"error");return}await f(T.id,T)}catch(N){console.error("Error updating phase:",N)}},C=async T=>{v("Delete Phase",`Are you sure you want to delete "${T.name}"? This action cannot be undone.`,async()=>{try{await h(T.id)}catch(N){console.error("Error deleting phase:",N)}},"danger")};return l?p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"loading",children:"Loading phases data..."})}):i?e?p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"error-message",style:{color:"red",textAlign:"center",padding:"20px"},children:e})}):p.jsxs(p.Fragment,{children:[p.jsx(qA,{}),p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Production Phases"}),p.jsx(uh,{columns:w,data:y,onSaveRow:S,onDeleteRow:C})]})]}):p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"error",children:"Please select a work center to view phases data."})})}function YA({onSuccess:e}){const n=ye(G=>G.selectedWorkCenter),a={odp_number:"",article_code:"",production_lot:"",work_center:n===Ne.BOTH?"":n||"",nome_cliente:"",description:"",delivery_date:"",bag_height:"",bag_width:"",bag_step:"",seal_sides:lt.ORDER.SEAL_SIDES,product_type:"",quantity:"",quantity_per_box:"",quantity_completed:lt.ORDER.QUANTITY_COMPLETED,internal_customer_code:"",external_customer_code:"",customer_order_ref:"",department:"",fase:""},[i,l]=x.useState(null),[u,c]=x.useState({}),[f,h]=x.useState(null),[m,v]=x.useState([]),[y,b]=x.useState(""),[w,S]=x.useState(!1),{calculateProductionMetrics:C,autoDetermineWorkCenter:T,autoDetermineDepartment:N}=I_(),U=ye(G=>G.phases),R=ye(G=>G.addOdpOrder),M=ye(G=>G.showAlert),k=async G=>{if(console.log("Form submit triggered"),console.log("Checking calculation results..."),!f){console.log("No calculation results available"),M("Please calculate production metrics before adding to the backlog.","warning");return}console.log("Submitting form with data:",{data:G,calculationResults:f});try{const J={...G,duration:f.totals.duration,cost:f.totals.cost,status:"NOT SCHEDULED"};console.log("Calling addOdpOrder with:",J),await R(J),console.log("Order added successfully"),e&&e(),Object.keys(a).forEach(ce=>ie(ce,a[ce])),b(""),l(null),c({}),h(null)}catch(J){throw console.error("Error adding order:",J),J}},{register:V,handleSubmit:P,formState:{errors:X,isSubmitting:te},watch:ue,setValue:ie,getValues:ee,reset:ne,clearErrors:de}=ju({defaultValues:a}),oe=ue("article_code"),H=ue("department"),Q=ue("work_center");x.useEffect(()=>{if(oe){const G=N(oe),J=T(oe);ie("department",G),n===Ne.BOTH&&ie("work_center",J),ie("fase",""),b(""),l(null),c({}),h(null)}},[oe,N,T,ie,n]),x.useEffect(()=>{if(H||Q){const J=U.filter(ce=>(!H||ce.department===H)&&(!Q||ce.work_center===Q)).filter(ce=>ce.name.toLowerCase().includes(y.toLowerCase()));v(J)}else v([])},[y,H,Q,U]);const se=(G,J)=>{c(ce=>({...ce,[G]:J}))},pe=G=>{ie("fase",G.id),l(G),b(G.name),S(!1),h(null),de("phase"),c({v_stampa:G.v_stampa||"",t_setup_stampa:G.t_setup_stampa||"",costo_h_stampa:G.costo_h_stampa||"",v_conf:G.v_conf||"",t_setup_conf:G.t_setup_conf||"",costo_h_conf:G.costo_h_conf||""})},O=()=>{if(console.log("Calculate button clicked"),console.log("Selected phase:",i),console.log("Form data:",ee()),!i||!ee("quantity")||!ee("bag_step")){console.log("Validation failed:",{hasPhase:!!i,quantity:!!ee("quantity"),bagStep:!!ee("bag_step")}),M("Please select a phase and enter Quantity and Bag Step to calculate.","warning");return}const G={...i,...u};console.log("Phase for calculation:",G);const J=C(G,ee("quantity"),ee("bag_step"));console.log("Calculation results:",J),h(J)},q=G=>X[G]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:X[G].message}):null;return p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Create ODP"}),p.jsxs("form",{onSubmit:P(k),children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Identificazione"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"odp_number",children:"ODP Number *"}),p.jsx("input",{type:"text",id:"odp_number",...V("odp_number"),placeholder:"ODP Number",className:X.odp_number?"error":""}),q("odp_number")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"article_code",children:"Article Code *"}),p.jsx("input",{type:"text",id:"article_code",...V("article_code"),placeholder:"Article Code",className:X.article_code?"error":""}),q("article_code")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"production_lot",children:"External Article Code *"}),p.jsx("input",{type:"text",id:"production_lot",...V("production_lot"),placeholder:"External Article Code",className:X.production_lot?"error":""}),q("production_lot")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"work_center",children:"Work Center"}),n===Ne.BOTH?p.jsxs("select",{...V("work_center",{required:"Work center is required"}),id:"work_center",className:X.work_center?"error":"",children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Ne.ZANICA,children:Ne.ZANICA}),p.jsx("option",{value:Ne.BUSTO_GAROLFO,children:Ne.BUSTO_GAROLFO})]}):p.jsx("input",{type:"text",id:"work_center",value:n||"No work center selected",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),n===Ne.BOTH?X.work_center&&p.jsx("span",{className:"error-message",children:X.work_center.message}):p.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Work center is set based on your login selection"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"nome_cliente",children:"Customer Name"}),p.jsx("input",{type:"text",id:"nome_cliente",...V("nome_cliente"),placeholder:"Customer Name"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"description",children:"Description"}),p.jsx("textarea",{id:"description",...V("description"),placeholder:"Description",rows:"2"})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Specifiche Tecniche"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"bag_height",children:"Bag Height (mm) *"}),p.jsx("input",{type:"number",id:"bag_height",...V("bag_height"),placeholder:"Bag Height",min:"0",step:"1",className:X.bag_height?"error":""}),q("bag_height")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"bag_width",children:"Bag Width (mm) *"}),p.jsx("input",{type:"number",id:"bag_width",...V("bag_width"),placeholder:"Bag Width",min:"0",step:"1",className:X.bag_width?"error":""}),q("bag_width")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"bag_step",children:"Bag Step (mm) *"}),p.jsx("input",{type:"number",id:"bag_step",...V("bag_step"),placeholder:"Bag Step",min:"0",step:"1",className:X.bag_step?"error":""}),q("bag_step")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"seal_sides",children:"Seal Sides"}),p.jsxs("select",{id:"seal_sides",...V("seal_sides"),children:[p.jsx("option",{value:Sl.THREE,children:"3 sides"}),p.jsx("option",{value:Sl.FOUR,children:"4 sides"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"product_type",children:"Product Type *"}),p.jsxs("select",{id:"product_type",...V("product_type"),className:X.product_type?"error":"",children:[p.jsx("option",{value:"",children:"Select product type"}),p.jsx("option",{value:qi.CREMA,children:"Crema"}),p.jsx("option",{value:qi.LIQUIDO,children:"Liquido"}),p.jsx("option",{value:qi.POLVERI,children:"Polveri"})]}),q("product_type")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity",children:"Quantity *"}),p.jsx("input",{type:"number",id:"quantity",...V("quantity"),placeholder:"Quantity",min:"0",step:"1",className:X.quantity?"error":""}),q("quantity")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity_per_box",children:"Qty per Box"}),p.jsx("input",{type:"number",id:"quantity_per_box",...V("quantity_per_box"),placeholder:"Qty per Box",min:"0",step:"1"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity_completed",children:"Qty Completed"}),p.jsx("input",{type:"number",id:"quantity_completed",...V("quantity_completed"),placeholder:"Qty Completed",min:"0",step:"1",className:X.quantity_completed?"error":""}),q("quantity_completed")]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Dati Commerciali"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"internal_customer_code",children:"FLEXI Lot"}),p.jsx("input",{type:"text",id:"internal_customer_code",...V("internal_customer_code"),placeholder:"FLEXI Lot"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"external_customer_code",children:"Customer Lot"}),p.jsx("input",{type:"text",id:"external_customer_code",...V("external_customer_code"),placeholder:"Customer Lot"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"customer_order_ref",children:"Customer Ref"}),p.jsx("input",{type:"text",id:"customer_order_ref",...V("customer_order_ref"),placeholder:"Customer Reference"})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Dati Lavorazione & Pianificazione"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"department",children:"Department"}),p.jsx("input",{type:"text",id:"department",...V("department"),placeholder:"Department",readOnly:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"phase_search",children:"Search Production Phase *"}),p.jsxs("div",{className:"searchable-dropdown",children:[p.jsx("input",{type:"text",id:"phase_search",value:y,onChange:G=>b(G.target.value),onFocus:()=>S(!0),onBlur:()=>setTimeout(()=>S(!1),150),placeholder:"Search Production Phase",className:X.phase?"error":""}),q("phase"),w&&m.length>0&&p.jsx("div",{className:"dropdown-options",children:m.map(G=>p.jsxs("div",{className:"dropdown-option",onMouseDown:()=>pe(G),children:[p.jsx("span",{className:"phase-name",children:G.name}),p.jsx("span",{className:"phase-description",children:G.contenuto_fase||"No description"})]},G.id))})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"delivery_date",children:"Delivery Date *"}),p.jsx("input",{type:"datetime-local",id:"delivery_date",...V("delivery_date"),className:X.delivery_date?"error":""}),q("delivery_date")]})]})]}),i&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Selected Phase Parameters"}),p.jsx("div",{className:"form-grid form-grid--3-cols",children:i.department===wt.PRINTING?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_stampa",children:"Print Speed:"}),p.jsx("input",{type:"number",id:"v_stampa",value:u.v_stampa||i.v_stampa||"",onChange:G=>se("v_stampa",G.target.value),placeholder:"Print Speed",min:"0"}),p.jsx("span",{className:"unit-label",children:"mt/h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_stampa",children:"Print Setup:"}),p.jsx("input",{type:"number",id:"t_setup_stampa",value:u.t_setup_stampa||i.t_setup_stampa||"",onChange:G=>se("t_setup_stampa",G.target.value),placeholder:"Setup Time",min:"0",step:"0.1"}),p.jsx("span",{className:"unit-label",children:"h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_stampa",children:"Print Cost:"}),p.jsx("input",{type:"number",id:"costo_h_stampa",value:u.costo_h_stampa||i.costo_h_stampa||"",onChange:G=>se("costo_h_stampa",G.target.value),placeholder:"Hourly Cost",min:"0",step:"0.01"}),p.jsx("span",{className:"unit-label",children:"/h"})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_conf",children:"Package Speed:"}),p.jsx("input",{type:"number",id:"v_conf",value:u.v_conf||i.v_conf||"",onChange:G=>se("v_conf",G.target.value),placeholder:"Package Speed",min:"0"}),p.jsx("span",{className:"unit-label",children:"pz/h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_conf",children:"Package Setup:"}),p.jsx("input",{type:"number",id:"t_setup_conf",value:u.t_setup_conf||i.t_setup_conf||"",onChange:G=>se("t_setup_conf",G.target.value),placeholder:"Setup Time",min:"0",step:"0.1"}),p.jsx("span",{className:"unit-label",children:"h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_conf",children:"Package Cost:"}),p.jsx("input",{type:"number",id:"costo_h_conf",value:u.costo_h_conf||i.costo_h_conf||"",onChange:G=>se("costo_h_conf",G.target.value),placeholder:"Hourly Cost",min:"0",step:"0.01"}),p.jsx("span",{className:"unit-label",children:"/h"})]})]})})]}),f&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Production Calculation Results"}),p.jsxs("div",{className:"form-grid form-grid--2-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Total Duration (hours):"}),p.jsx("div",{className:"result-value",children:f.totals.duration.toFixed(2)})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Total Cost ():"}),p.jsx("div",{className:"result-value",children:f.totals.cost.toFixed(2)})]})]})]}),p.jsxs("div",{className:"form-actions",style:{marginTop:"20px"},children:[p.jsx("button",{type:"button",className:"btn btn-secondary",onClick:O,disabled:!i,children:"Calculate"}),p.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!f||te,children:te?"Adding to Backlog...":"Add to Backlog"})]})]})]})}function KA(){const e=ye(R=>R.odpOrders),n=ye(R=>R.machines),a=ye(R=>R.phases),i=ye(R=>R.selectedWorkCenter),l=ye(R=>R.isLoading),u=ye(R=>R.isInitialized),c=ye(R=>R.init),f=ye(R=>R.updateOdpOrder),h=ye(R=>R.removeOdpOrder),m=ye(R=>R.showAlert),v=ye(R=>R.showConfirmDialog),y=x.useMemo(()=>i?i===Ne.BOTH?e:e.filter(R=>R.work_center===i):[],[e,i]),[b,w]=Oe.useState(0),{validateOrder:S}=PA();x.useEffect(()=>{u||c()},[c,u]);const C=()=>{w(R=>R+1)},T=x.useMemo(()=>[{header:"ID",accessorKey:"id"},{header:"ODP Number",accessorKey:"odp_number",cell:Fe},{header:"Article Code",accessorKey:"article_code",cell:Fe},{header:"External Article Code",accessorKey:"production_lot"},{header:"Work Center",accessorKey:"work_center",cell:Fe},{header:"Customer",accessorKey:"nome_cliente"},{header:"Bag H (mm)",accessorKey:"bag_height",cell:Fe},{header:"Bag W (mm)",accessorKey:"bag_width",cell:Fe},{header:"Bag Step (mm)",accessorKey:"bag_step",cell:Fe},{header:"Seals",accessorKey:"seal_sides",cell:Fe},{header:"Product",accessorKey:"product_type",cell:Fe},{header:"Qty",accessorKey:"quantity",cell:Fe},{header:"Completed",accessorKey:"quantity_completed",cell:Fe},{header:"Qty/Box",accessorKey:"quantity_per_box",cell:Fe},{header:"N Boxes",accessorKey:"n_boxes"},{header:"Prod Start",accessorKey:"scheduled_start_time",cell:R=>R.getValue()?new Date(R.getValue()).toLocaleString():"-"},{header:"Prod End",accessorKey:"scheduled_start_time",cell:R=>{const M=R.getValue();if(!M)return"-";const k=R.row.original,V=k.time_remaining||k.duration||0;if(V<=0)return"-";const P=new Date(M),X=P.getTime()+V*60*60*1e3;return P.setTime(X),P.toLocaleString()}},{header:"Delivery",accessorKey:"delivery_date",cell:R=>R.getValue()?new Date(R.getValue()).toLocaleString():"-"},{header:"FLEXI Lot",accessorKey:"internal_customer_code"},{header:"Customer Lot",accessorKey:"external_customer_code"},{header:"Customer Ref",accessorKey:"customer_order_ref"},{header:"Department",accessorKey:"department",cell:Fe},{header:"Phase",accessorKey:"fase",cell:R=>{const M=R.getValue(),k=a.find(V=>V.id===M);return k?k.name:M||"-"}},{header:"Duration (h)",accessorKey:"duration"},{header:"Cost ()",accessorKey:"cost"},{header:"Progress",accessorKey:"progress",cell:R=>`${R.getValue()||0}%`},{header:"Time Rem. (h)",accessorKey:"time_remaining"},{header:"Priority",accessorKey:"priority"},{header:"Status",accessorKey:"status"},{header:"Machine",accessorKey:"scheduled_machine_id",cell:R=>{const M=R.getValue(),k=n.find(V=>V.id===M);return k?k.machine_name:M||"-"}}],[n,a]),N=async R=>{try{const M=S(R);if(M.length>0){m(`Validation errors:
${M.join(`
`)}`,"error");return}R.scheduled_machine_id&&R.scheduled_machine_id!==R.original?.scheduled_machine_id&&console.log("Machine assignment updated:",R.scheduled_machine_id),await f(R.id,R)}catch(M){console.error("Error updating order:",M)}},U=async R=>{v("Delete Order",`Are you sure you want to delete ODP "${R.odp_number||R.id}"? This action cannot be undone.`,async()=>{try{await h(R.id)}catch(M){console.error("Error deleting order:",M)}},"danger")};return l?p.jsx("div",{children:"Loading backlog data..."}):i?p.jsxs(p.Fragment,{children:[p.jsx(YA,{onSuccess:C}),p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Production Backlog"}),p.jsx(uh,{columns:T,data:y,onSaveRow:N,onDeleteRow:U})]})]}):p.jsx("div",{className:"error",children:"Please select a work center to view backlog data."})}const Mu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function es(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function vh(e){return"nodeType"in e}function en(e){var n,a;return e?es(e)?e:vh(e)&&(n=(a=e.ownerDocument)==null?void 0:a.defaultView)!=null?n:window:window}function yh(e){const{Document:n}=en(e);return e instanceof n}function jl(e){return es(e)?!1:e instanceof en(e).HTMLElement}function J_(e){return e instanceof en(e).SVGElement}function ts(e){return e?es(e)?e.document:vh(e)?yh(e)?e:jl(e)||J_(e)?e.ownerDocument:document:document:document}const kr=Mu?x.useLayoutEffect:x.useEffect;function ku(e){const n=x.useRef(e);return kr(()=>{n.current=e}),x.useCallback(function(){for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return n.current==null?void 0:n.current(...i)},[])}function XA(){const e=x.useRef(null),n=x.useCallback((i,l)=>{e.current=setInterval(i,l)},[]),a=x.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,a]}function Cl(e,n){n===void 0&&(n=[e]);const a=x.useRef(e);return kr(()=>{a.current!==e&&(a.current=e)},n),a}function Ml(e,n){const a=x.useRef();return x.useMemo(()=>{const i=e(a.current);return a.current=i,i},[...n])}function yu(e){const n=ku(e),a=x.useRef(null),i=x.useCallback(l=>{l!==a.current&&n?.(l,a.current),a.current=l},[]);return[a,i]}function _u(e){const n=x.useRef();return x.useEffect(()=>{n.current=e},[e]),n.current}let _f={};function Uu(e,n){return x.useMemo(()=>{if(n)return n;const a=_f[e]==null?0:_f[e]+1;return _f[e]=a,e+"-"+a},[e,n])}function eb(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];return i.reduce((u,c)=>{const f=Object.entries(c);for(const[h,m]of f){const v=u[h];v!=null&&(u[h]=v+e*m)}return u},{...n})}}const Gi=eb(1),bu=eb(-1);function WA(e){return"clientX"in e&&"clientY"in e}function _h(e){if(!e)return!1;const{KeyboardEvent:n}=en(e.target);return n&&e instanceof n}function QA(e){if(!e)return!1;const{TouchEvent:n}=en(e.target);return n&&e instanceof n}function wu(e){if(QA(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:a}=e.touches[0];return{x:n,y:a}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:a}=e.changedTouches[0];return{x:n,y:a}}}return WA(e)?{x:e.clientX,y:e.clientY}:null}const Rl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:a}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(a?Math.round(a):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:a}=e;return"scaleX("+n+") scaleY("+a+")"}},Transform:{toString(e){if(e)return[Rl.Translate.toString(e),Rl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:a,easing:i}=e;return n+" "+a+"ms "+i}}}),xy="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ZA(e){return e.matches(xy)?e:e.querySelector(xy)}const JA={display:"none"};function eO(e){let{id:n,value:a}=e;return Oe.createElement("div",{id:n,style:JA},a)}function tO(e){let{id:n,announcement:a,ariaLiveType:i="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Oe.createElement("div",{id:n,style:l,role:"status","aria-live":i,"aria-atomic":!0},a)}function nO(){const[e,n]=x.useState("");return{announce:x.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const tb=x.createContext(null);function rO(e){const n=x.useContext(tb);x.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function aO(){const[e]=x.useState(()=>new Set),n=x.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[x.useCallback(i=>{let{type:l,event:u}=i;e.forEach(c=>{var f;return(f=c[l])==null?void 0:f.call(c,u)})},[e]),n]}const iO={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},sO={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:a}=e;return a?"Draggable item "+n.id+" was moved over droppable area "+a.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:a}=e;return a?"Draggable item "+n.id+" was dropped over droppable area "+a.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function lO(e){let{announcements:n=sO,container:a,hiddenTextDescribedById:i,screenReaderInstructions:l=iO}=e;const{announce:u,announcement:c}=nO(),f=Uu("DndLiveRegion"),[h,m]=x.useState(!1);if(x.useEffect(()=>{m(!0)},[]),rO(x.useMemo(()=>({onDragStart(y){let{active:b}=y;u(n.onDragStart({active:b}))},onDragMove(y){let{active:b,over:w}=y;n.onDragMove&&u(n.onDragMove({active:b,over:w}))},onDragOver(y){let{active:b,over:w}=y;u(n.onDragOver({active:b,over:w}))},onDragEnd(y){let{active:b,over:w}=y;u(n.onDragEnd({active:b,over:w}))},onDragCancel(y){let{active:b,over:w}=y;u(n.onDragCancel({active:b,over:w}))}}),[u,n])),!h)return null;const v=Oe.createElement(Oe.Fragment,null,Oe.createElement(eO,{id:i,value:l.draggable}),Oe.createElement(tO,{id:f,announcement:c}));return a?ul.createPortal(v,a):v}var At;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(At||(At={}));function Su(){}const In=Object.freeze({x:0,y:0});function oO(e,n){const a=wu(e);if(!a)return"0 0";const i={x:(a.x-n.left)/n.width*100,y:(a.y-n.top)/n.height*100};return i.x+"% "+i.y+"%"}function uO(e,n){let{data:{value:a}}=e,{data:{value:i}}=n;return i-a}function cO(e,n){if(!e||e.length===0)return null;const[a]=e;return a[n]}function dO(e,n){const a=Math.max(n.top,e.top),i=Math.max(n.left,e.left),l=Math.min(n.left+n.width,e.left+e.width),u=Math.min(n.top+n.height,e.top+e.height),c=l-i,f=u-a;if(i<l&&a<u){const h=n.width*n.height,m=e.width*e.height,v=c*f,y=v/(h+m-v);return Number(y.toFixed(4))}return 0}const fO=e=>{let{collisionRect:n,droppableRects:a,droppableContainers:i}=e;const l=[];for(const u of i){const{id:c}=u,f=a.get(c);if(f){const h=dO(f,n);h>0&&l.push({id:c,data:{droppableContainer:u,value:h}})}}return l.sort(uO)};function hO(e,n,a){return{...e,scaleX:n&&a?n.width/a.width:1,scaleY:n&&a?n.height/a.height:1}}function nb(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:In}function gO(e){return function(a){for(var i=arguments.length,l=new Array(i>1?i-1:0),u=1;u<i;u++)l[u-1]=arguments[u];return l.reduce((c,f)=>({...c,top:c.top+e*f.y,bottom:c.bottom+e*f.y,left:c.left+e*f.x,right:c.right+e*f.x}),{...a})}}const mO=gO(1);function rb(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function pO(e,n,a){const i=rb(n);if(!i)return e;const{scaleX:l,scaleY:u,x:c,y:f}=i,h=e.left-c-(1-l)*parseFloat(a),m=e.top-f-(1-u)*parseFloat(a.slice(a.indexOf(" ")+1)),v=l?e.width/l:e.width,y=u?e.height/u:e.height;return{width:v,height:y,top:m,right:h+v,bottom:m+y,left:h}}const vO={ignoreTransform:!1};function kl(e,n){n===void 0&&(n=vO);let a=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:m,transformOrigin:v}=en(e).getComputedStyle(e);m&&(a=pO(a,m,v))}const{top:i,left:l,width:u,height:c,bottom:f,right:h}=a;return{top:i,left:l,width:u,height:c,bottom:f,right:h}}function Cy(e){return kl(e,{ignoreTransform:!0})}function yO(e){const n=e.innerWidth,a=e.innerHeight;return{top:0,left:0,right:n,bottom:a,width:n,height:a}}function _O(e,n){return n===void 0&&(n=en(e).getComputedStyle(e)),n.position==="fixed"}function bO(e,n){n===void 0&&(n=en(e).getComputedStyle(e));const a=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const u=n[l];return typeof u=="string"?a.test(u):!1})}function bh(e,n){const a=[];function i(l){if(n!=null&&a.length>=n||!l)return a;if(yh(l)&&l.scrollingElement!=null&&!a.includes(l.scrollingElement))return a.push(l.scrollingElement),a;if(!jl(l)||J_(l)||a.includes(l))return a;const u=en(e).getComputedStyle(l);return l!==e&&bO(l,u)&&a.push(l),_O(l,u)?a:i(l.parentNode)}return e?i(e):a}function ab(e){const[n]=bh(e,1);return n??null}function bf(e){return!Mu||!e?null:es(e)?e:vh(e)?yh(e)||e===ts(e).scrollingElement?window:jl(e)?e:null:null}function ib(e){return es(e)?e.scrollX:e.scrollLeft}function sb(e){return es(e)?e.scrollY:e.scrollTop}function Vf(e){return{x:ib(e),y:sb(e)}}var Lt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Lt||(Lt={}));function lb(e){return!Mu||!e?!1:e===document.scrollingElement}function ob(e){const n={x:0,y:0},a=lb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-a.width,y:e.scrollHeight-a.height},l=e.scrollTop<=n.y,u=e.scrollLeft<=n.x,c=e.scrollTop>=i.y,f=e.scrollLeft>=i.x;return{isTop:l,isLeft:u,isBottom:c,isRight:f,maxScroll:i,minScroll:n}}const wO={x:.2,y:.2};function SO(e,n,a,i,l){let{top:u,left:c,right:f,bottom:h}=a;i===void 0&&(i=10),l===void 0&&(l=wO);const{isTop:m,isBottom:v,isLeft:y,isRight:b}=ob(e),w={x:0,y:0},S={x:0,y:0},C={height:n.height*l.y,width:n.width*l.x};return!m&&u<=n.top+C.height?(w.y=Lt.Backward,S.y=i*Math.abs((n.top+C.height-u)/C.height)):!v&&h>=n.bottom-C.height&&(w.y=Lt.Forward,S.y=i*Math.abs((n.bottom-C.height-h)/C.height)),!b&&f>=n.right-C.width?(w.x=Lt.Forward,S.x=i*Math.abs((n.right-C.width-f)/C.width)):!y&&c<=n.left+C.width&&(w.x=Lt.Backward,S.x=i*Math.abs((n.left+C.width-c)/C.width)),{direction:w,speed:S}}function EO(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:c}=window;return{top:0,left:0,right:u,bottom:c,width:u,height:c}}const{top:n,left:a,right:i,bottom:l}=e.getBoundingClientRect();return{top:n,left:a,right:i,bottom:l,width:e.clientWidth,height:e.clientHeight}}function ub(e){return e.reduce((n,a)=>Gi(n,Vf(a)),In)}function xO(e){return e.reduce((n,a)=>n+ib(a),0)}function CO(e){return e.reduce((n,a)=>n+sb(a),0)}function cb(e,n){if(n===void 0&&(n=kl),!e)return;const{top:a,left:i,bottom:l,right:u}=n(e);ab(e)&&(l<=0||u<=0||a>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const RO=[["x",["left","right"],xO],["y",["top","bottom"],CO]];class wh{constructor(n,a){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=bh(a),l=ub(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[u,c,f]of RO)for(const h of c)Object.defineProperty(this,h,{get:()=>{const m=f(i),v=l[u]-m;return this.rect[h]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class vl{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...a)})},this.target=n}add(n,a,i){var l;(l=this.target)==null||l.addEventListener(n,a,i),this.listeners.push([n,a,i])}}function TO(e){const{EventTarget:n}=en(e);return e instanceof n?e:ts(e)}function wf(e,n){const a=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(a**2+i**2)>n:"x"in n&&"y"in n?a>n.x&&i>n.y:"x"in n?a>n.x:"y"in n?i>n.y:!1}var On;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(On||(On={}));function Ry(e){e.preventDefault()}function AO(e){e.stopPropagation()}var Qe;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Qe||(Qe={}));const db={start:[Qe.Space,Qe.Enter],cancel:[Qe.Esc],end:[Qe.Space,Qe.Enter,Qe.Tab]},OO=(e,n)=>{let{currentCoordinates:a}=n;switch(e.code){case Qe.Right:return{...a,x:a.x+25};case Qe.Left:return{...a,x:a.x-25};case Qe.Down:return{...a,y:a.y+25};case Qe.Up:return{...a,y:a.y-25}}};class fb{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:a}}=n;this.props=n,this.listeners=new vl(ts(a)),this.windowListeners=new vl(en(a)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(On.Resize,this.handleCancel),this.windowListeners.add(On.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(On.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:a}=this.props,i=n.node.current;i&&cb(i),a(In)}handleKeyDown(n){if(_h(n)){const{active:a,context:i,options:l}=this.props,{keyboardCodes:u=db,coordinateGetter:c=OO,scrollBehavior:f="smooth"}=l,{code:h}=n;if(u.end.includes(h)){this.handleEnd(n);return}if(u.cancel.includes(h)){this.handleCancel(n);return}const{collisionRect:m}=i.current,v=m?{x:m.left,y:m.top}:In;this.referenceCoordinates||(this.referenceCoordinates=v);const y=c(n,{active:a,context:i.current,currentCoordinates:v});if(y){const b=bu(y,v),w={x:0,y:0},{scrollableAncestors:S}=i.current;for(const C of S){const T=n.code,{isTop:N,isRight:U,isLeft:R,isBottom:M,maxScroll:k,minScroll:V}=ob(C),P=EO(C),X={x:Math.min(T===Qe.Right?P.right-P.width/2:P.right,Math.max(T===Qe.Right?P.left:P.left+P.width/2,y.x)),y:Math.min(T===Qe.Down?P.bottom-P.height/2:P.bottom,Math.max(T===Qe.Down?P.top:P.top+P.height/2,y.y))},te=T===Qe.Right&&!U||T===Qe.Left&&!R,ue=T===Qe.Down&&!M||T===Qe.Up&&!N;if(te&&X.x!==y.x){const ie=C.scrollLeft+b.x,ee=T===Qe.Right&&ie<=k.x||T===Qe.Left&&ie>=V.x;if(ee&&!b.y){C.scrollTo({left:ie,behavior:f});return}ee?w.x=C.scrollLeft-ie:w.x=T===Qe.Right?C.scrollLeft-k.x:C.scrollLeft-V.x,w.x&&C.scrollBy({left:-w.x,behavior:f});break}else if(ue&&X.y!==y.y){const ie=C.scrollTop+b.y,ee=T===Qe.Down&&ie<=k.y||T===Qe.Up&&ie>=V.y;if(ee&&!b.x){C.scrollTo({top:ie,behavior:f});return}ee?w.y=C.scrollTop-ie:w.y=T===Qe.Down?C.scrollTop-k.y:C.scrollTop-V.y,w.y&&C.scrollBy({top:-w.y,behavior:f});break}}this.handleMove(n,Gi(bu(y,this.referenceCoordinates),w))}}}handleMove(n,a){const{onMove:i}=this.props;n.preventDefault(),i(a)}handleEnd(n){const{onEnd:a}=this.props;n.preventDefault(),this.detach(),a()}handleCancel(n){const{onCancel:a}=this.props;n.preventDefault(),this.detach(),a()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}fb.activators=[{eventName:"onKeyDown",handler:(e,n,a)=>{let{keyboardCodes:i=db,onActivation:l}=n,{active:u}=a;const{code:c}=e.nativeEvent;if(i.start.includes(c)){const f=u.activatorNode.current;return f&&e.target!==f?!1:(e.preventDefault(),l?.({event:e.nativeEvent}),!0)}return!1}}];function Ty(e){return!!(e&&"distance"in e)}function Ay(e){return!!(e&&"delay"in e)}class Sh{constructor(n,a,i){var l;i===void 0&&(i=TO(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=a;const{event:u}=n,{target:c}=u;this.props=n,this.events=a,this.document=ts(c),this.documentListeners=new vl(this.document),this.listeners=new vl(i),this.windowListeners=new vl(en(c)),this.initialCoordinates=(l=wu(u))!=null?l:In,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:a,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(On.Resize,this.handleCancel),this.windowListeners.add(On.DragStart,Ry),this.windowListeners.add(On.VisibilityChange,this.handleCancel),this.windowListeners.add(On.ContextMenu,Ry),this.documentListeners.add(On.Keydown,this.handleKeydown),a){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ay(a)){this.timeoutId=setTimeout(this.handleStart,a.delay),this.handlePending(a);return}if(Ty(a)){this.handlePending(a);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,a){const{active:i,onPending:l}=this.props;l(i,n,this.initialCoordinates,a)}handleStart(){const{initialCoordinates:n}=this,{onStart:a}=this.props;n&&(this.activated=!0,this.documentListeners.add(On.Click,AO,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(On.SelectionChange,this.removeTextSelection),a(n))}handleMove(n){var a;const{activated:i,initialCoordinates:l,props:u}=this,{onMove:c,options:{activationConstraint:f}}=u;if(!l)return;const h=(a=wu(n))!=null?a:In,m=bu(l,h);if(!i&&f){if(Ty(f)){if(f.tolerance!=null&&wf(m,f.tolerance))return this.handleCancel();if(wf(m,f.distance))return this.handleStart()}if(Ay(f)&&wf(m,f.tolerance))return this.handleCancel();this.handlePending(f,m);return}n.cancelable&&n.preventDefault(),c(h)}handleEnd(){const{onAbort:n,onEnd:a}=this.props;this.detach(),this.activated||n(this.props.active),a()}handleCancel(){const{onAbort:n,onCancel:a}=this.props;this.detach(),this.activated||n(this.props.active),a()}handleKeydown(n){n.code===Qe.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const DO={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class hb extends Sh{constructor(n){const{event:a}=n,i=ts(a.target);super(n,DO,i)}}hb.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;return!a.isPrimary||a.button!==0?!1:(i?.({event:a}),!0)}}];const NO={move:{name:"mousemove"},end:{name:"mouseup"}};var Bf;(function(e){e[e.RightClick=2]="RightClick"})(Bf||(Bf={}));class jO extends Sh{constructor(n){super(n,NO,ts(n.event.target))}}jO.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;return a.button===Bf.RightClick?!1:(i?.({event:a}),!0)}}];const Sf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class MO extends Sh{constructor(n){super(n,Sf)}static setup(){return window.addEventListener(Sf.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Sf.move.name,n)};function n(){}}}MO.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;const{touches:l}=a;return l.length>1?!1:(i?.({event:a}),!0)}}];var yl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(yl||(yl={}));var Eu;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Eu||(Eu={}));function kO(e){let{acceleration:n,activator:a=yl.Pointer,canScroll:i,draggingRect:l,enabled:u,interval:c=5,order:f=Eu.TreeOrder,pointerCoordinates:h,scrollableAncestors:m,scrollableAncestorRects:v,delta:y,threshold:b}=e;const w=LO({delta:y,disabled:!u}),[S,C]=XA(),T=x.useRef({x:0,y:0}),N=x.useRef({x:0,y:0}),U=x.useMemo(()=>{switch(a){case yl.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case yl.DraggableRect:return l}},[a,l,h]),R=x.useRef(null),M=x.useCallback(()=>{const V=R.current;if(!V)return;const P=T.current.x*N.current.x,X=T.current.y*N.current.y;V.scrollBy(P,X)},[]),k=x.useMemo(()=>f===Eu.TreeOrder?[...m].reverse():m,[f,m]);x.useEffect(()=>{if(!u||!m.length||!U){C();return}for(const V of k){if(i?.(V)===!1)continue;const P=m.indexOf(V),X=v[P];if(!X)continue;const{direction:te,speed:ue}=SO(V,X,U,n,b);for(const ie of["x","y"])w[ie][te[ie]]||(ue[ie]=0,te[ie]=0);if(ue.x>0||ue.y>0){C(),R.current=V,S(M,c),T.current=ue,N.current=te;return}}T.current={x:0,y:0},N.current={x:0,y:0},C()},[n,M,i,C,u,c,JSON.stringify(U),JSON.stringify(w),S,m,k,v,JSON.stringify(b)])}const UO={x:{[Lt.Backward]:!1,[Lt.Forward]:!1},y:{[Lt.Backward]:!1,[Lt.Forward]:!1}};function LO(e){let{delta:n,disabled:a}=e;const i=_u(n);return Ml(l=>{if(a||!i||!l)return UO;const u={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[Lt.Backward]:l.x[Lt.Backward]||u.x===-1,[Lt.Forward]:l.x[Lt.Forward]||u.x===1},y:{[Lt.Backward]:l.y[Lt.Backward]||u.y===-1,[Lt.Forward]:l.y[Lt.Forward]||u.y===1}}},[a,n,i])}function PO(e,n){const a=n!=null?e.get(n):void 0,i=a?a.node.current:null;return Ml(l=>{var u;return n==null?null:(u=i??l)!=null?u:null},[i,n])}function zO(e,n){return x.useMemo(()=>e.reduce((a,i)=>{const{sensor:l}=i,u=l.activators.map(c=>({eventName:c.eventName,handler:n(c.handler,i)}));return[...a,...u]},[]),[e,n])}var Tl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Tl||(Tl={}));var If;(function(e){e.Optimized="optimized"})(If||(If={}));const Oy=new Map;function $O(e,n){let{dragging:a,dependencies:i,config:l}=n;const[u,c]=x.useState(null),{frequency:f,measure:h,strategy:m}=l,v=x.useRef(e),y=T(),b=Cl(y),w=x.useCallback(function(N){N===void 0&&(N=[]),!b.current&&c(U=>U===null?N:U.concat(N.filter(R=>!U.includes(R))))},[b]),S=x.useRef(null),C=Ml(N=>{if(y&&!a)return Oy;if(!N||N===Oy||v.current!==e||u!=null){const U=new Map;for(let R of e){if(!R)continue;if(u&&u.length>0&&!u.includes(R.id)&&R.rect.current){U.set(R.id,R.rect.current);continue}const M=R.node.current,k=M?new wh(h(M),M):null;R.rect.current=k,k&&U.set(R.id,k)}return U}return N},[e,u,a,y,h]);return x.useEffect(()=>{v.current=e},[e]),x.useEffect(()=>{y||w()},[a,y]),x.useEffect(()=>{u&&u.length>0&&c(null)},[JSON.stringify(u)]),x.useEffect(()=>{y||typeof f!="number"||S.current!==null||(S.current=setTimeout(()=>{w(),S.current=null},f))},[f,y,w,...i]),{droppableRects:C,measureDroppableContainers:w,measuringScheduled:u!=null};function T(){switch(m){case Tl.Always:return!1;case Tl.BeforeDragging:return a;default:return!a}}}function Eh(e,n){return Ml(a=>e?a||(typeof n=="function"?n(e):e):null,[n,e])}function FO(e,n){return Eh(e,n)}function HO(e){let{callback:n,disabled:a}=e;const i=ku(n),l=x.useMemo(()=>{if(a||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(i)},[i,a]);return x.useEffect(()=>()=>l?.disconnect(),[l]),l}function Lu(e){let{callback:n,disabled:a}=e;const i=ku(n),l=x.useMemo(()=>{if(a||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(i)},[a]);return x.useEffect(()=>()=>l?.disconnect(),[l]),l}function VO(e){return new wh(kl(e),e)}function Dy(e,n,a){n===void 0&&(n=VO);const[i,l]=x.useState(null);function u(){l(h=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=h??a)!=null?m:null}const v=n(e);return JSON.stringify(h)===JSON.stringify(v)?h:v})}const c=HO({callback(h){if(e)for(const m of h){const{type:v,target:y}=m;if(v==="childList"&&y instanceof HTMLElement&&y.contains(e)){u();break}}}}),f=Lu({callback:u});return kr(()=>{u(),e?(f?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(f?.disconnect(),c?.disconnect())},[e]),i}function BO(e){const n=Eh(e);return nb(e,n)}const Ny=[];function IO(e){const n=x.useRef(e),a=Ml(i=>e?i&&i!==Ny&&e&&n.current&&e.parentNode===n.current.parentNode?i:bh(e):Ny,[e]);return x.useEffect(()=>{n.current=e},[e]),a}function qO(e){const[n,a]=x.useState(null),i=x.useRef(e),l=x.useCallback(u=>{const c=bf(u.target);c&&a(f=>f?(f.set(c,Vf(c)),new Map(f)):null)},[]);return x.useEffect(()=>{const u=i.current;if(e!==u){c(u);const f=e.map(h=>{const m=bf(h);return m?(m.addEventListener("scroll",l,{passive:!0}),[m,Vf(m)]):null}).filter(h=>h!=null);a(f.length?new Map(f):null),i.current=e}return()=>{c(e),c(u)};function c(f){f.forEach(h=>{const m=bf(h);m?.removeEventListener("scroll",l)})}},[l,e]),x.useMemo(()=>e.length?n?Array.from(n.values()).reduce((u,c)=>Gi(u,c),In):ub(e):In,[e,n])}function jy(e,n){n===void 0&&(n=[]);const a=x.useRef(null);return x.useEffect(()=>{a.current=null},n),x.useEffect(()=>{const i=e!==In;i&&!a.current&&(a.current=e),!i&&a.current&&(a.current=null)},[e]),a.current?bu(e,a.current):In}function GO(e){x.useEffect(()=>{if(!Mu)return;const n=e.map(a=>{let{sensor:i}=a;return i.setup==null?void 0:i.setup()});return()=>{for(const a of n)a?.()}},e.map(n=>{let{sensor:a}=n;return a}))}function YO(e,n){return x.useMemo(()=>e.reduce((a,i)=>{let{eventName:l,handler:u}=i;return a[l]=c=>{u(c,n)},a},{}),[e,n])}function gb(e){return x.useMemo(()=>e?yO(e):null,[e])}const My=[];function KO(e,n){n===void 0&&(n=kl);const[a]=e,i=gb(a?en(a):null),[l,u]=x.useState(My);function c(){u(()=>e.length?e.map(h=>lb(h)?i:new wh(n(h),h)):My)}const f=Lu({callback:c});return kr(()=>{f?.disconnect(),c(),e.forEach(h=>f?.observe(h))},[e]),l}function mb(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return jl(n)?n:e}function XO(e){let{measure:n}=e;const[a,i]=x.useState(null),l=x.useCallback(m=>{for(const{target:v}of m)if(jl(v)){i(y=>{const b=n(v);return y?{...y,width:b.width,height:b.height}:b});break}},[n]),u=Lu({callback:l}),c=x.useCallback(m=>{const v=mb(m);u?.disconnect(),v&&u?.observe(v),i(v?n(v):null)},[n,u]),[f,h]=yu(c);return x.useMemo(()=>({nodeRef:f,rect:a,setRef:h}),[a,f,h])}const WO=[{sensor:hb,options:{}},{sensor:fb,options:{}}],QO={current:{}},uu={draggable:{measure:Cy},droppable:{measure:Cy,strategy:Tl.WhileDragging,frequency:If.Optimized},dragOverlay:{measure:kl}};class _l extends Map{get(n){var a;return n!=null&&(a=super.get(n))!=null?a:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:a}=n;return!a})}getNodeFor(n){var a,i;return(a=(i=this.get(n))==null?void 0:i.node.current)!=null?a:void 0}}const ZO={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new _l,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Su},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:uu,measureDroppableContainers:Su,windowRect:null,measuringScheduled:!1},pb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Su,draggableNodes:new Map,over:null,measureDroppableContainers:Su},Ul=x.createContext(pb),vb=x.createContext(ZO);function JO(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new _l}}}function eD(e,n){switch(n.type){case At.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case At.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case At.DragEnd:case At.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case At.RegisterDroppable:{const{element:a}=n,{id:i}=a,l=new _l(e.droppable.containers);return l.set(i,a),{...e,droppable:{...e.droppable,containers:l}}}case At.SetDroppableDisabled:{const{id:a,key:i,disabled:l}=n,u=e.droppable.containers.get(a);if(!u||i!==u.key)return e;const c=new _l(e.droppable.containers);return c.set(a,{...u,disabled:l}),{...e,droppable:{...e.droppable,containers:c}}}case At.UnregisterDroppable:{const{id:a,key:i}=n,l=e.droppable.containers.get(a);if(!l||i!==l.key)return e;const u=new _l(e.droppable.containers);return u.delete(a),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function tD(e){let{disabled:n}=e;const{active:a,activatorEvent:i,draggableNodes:l}=x.useContext(Ul),u=_u(i),c=_u(a?.id);return x.useEffect(()=>{if(!n&&!i&&u&&c!=null){if(!_h(u)||document.activeElement===u.target)return;const f=l.get(c);if(!f)return;const{activatorNode:h,node:m}=f;if(!h.current&&!m.current)return;requestAnimationFrame(()=>{for(const v of[h.current,m.current]){if(!v)continue;const y=ZA(v);if(y){y.focus();break}}})}},[i,n,l,c,u]),null}function yb(e,n){let{transform:a,...i}=n;return e!=null&&e.length?e.reduce((l,u)=>u({transform:l,...i}),a):a}function nD(e){return x.useMemo(()=>({draggable:{...uu.draggable,...e?.draggable},droppable:{...uu.droppable,...e?.droppable},dragOverlay:{...uu.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function rD(e){let{activeNode:n,measure:a,initialRect:i,config:l=!0}=e;const u=x.useRef(!1),{x:c,y:f}=typeof l=="boolean"?{x:l,y:l}:l;kr(()=>{if(!c&&!f||!n){u.current=!1;return}if(u.current||!i)return;const m=n?.node.current;if(!m||m.isConnected===!1)return;const v=a(m),y=nb(v,i);if(c||(y.x=0),f||(y.y=0),u.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const b=ab(m);b&&b.scrollBy({top:y.y,left:y.x})}},[n,c,f,i,a])}const Pu=x.createContext({...In,scaleX:1,scaleY:1});var ha;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ha||(ha={}));const aD=x.memo(function(n){var a,i,l,u;let{id:c,accessibility:f,autoScroll:h=!0,children:m,sensors:v=WO,collisionDetection:y=fO,measuring:b,modifiers:w,...S}=n;const C=x.useReducer(eD,void 0,JO),[T,N]=C,[U,R]=aO(),[M,k]=x.useState(ha.Uninitialized),V=M===ha.Initialized,{draggable:{active:P,nodes:X,translate:te},droppable:{containers:ue}}=T,ie=P!=null?X.get(P):null,ee=x.useRef({initial:null,translated:null}),ne=x.useMemo(()=>{var dt;return P!=null?{id:P,data:(dt=ie?.data)!=null?dt:QO,rect:ee}:null},[P,ie]),de=x.useRef(null),[oe,H]=x.useState(null),[Q,se]=x.useState(null),pe=Cl(S,Object.values(S)),O=Uu("DndDescribedBy",c),q=x.useMemo(()=>ue.getEnabled(),[ue]),G=nD(b),{droppableRects:J,measureDroppableContainers:ce,measuringScheduled:Ce}=$O(q,{dragging:V,dependencies:[te.x,te.y],config:G.droppable}),he=PO(X,P),qe=x.useMemo(()=>Q?wu(Q):null,[Q]),Le=rs(),St=FO(he,G.draggable.measure);rD({activeNode:P!=null?X.get(P):null,config:Le.layoutShiftCompensation,initialRect:St,measure:G.draggable.measure});const ut=Dy(he,G.draggable.measure,St),Vt=Dy(he?he.parentElement:null),tn=x.useRef({activatorEvent:null,active:null,activeNode:he,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:X,draggingNode:null,draggingNodeRect:null,droppableContainers:ue,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Lr=ue.getNodeFor((a=tn.current.over)==null?void 0:a.id),nn=XO({measure:G.dragOverlay.measure}),sr=(i=nn.nodeRef.current)!=null?i:he,Gn=V?(l=nn.rect)!=null?l:ut:null,Xt=!!(nn.nodeRef.current&&nn.rect),ns=BO(Xt?null:ut),lr=gb(sr?en(sr):null),D=IO(V?Lr??he:null),$=KO(D),Y=yb(w,{transform:{x:te.x-ns.x,y:te.y-ns.y,scaleX:1,scaleY:1},activatorEvent:Q,active:ne,activeNodeRect:ut,containerNodeRect:Vt,draggingNodeRect:Gn,over:tn.current.over,overlayNodeRect:nn.rect,scrollableAncestors:D,scrollableAncestorRects:$,windowRect:lr}),le=qe?Gi(qe,te):null,ae=qO(D),re=jy(ae),ge=jy(ae,[ut]),be=Gi(Y,re),Re=Gn?mO(Gn,Y):null,ze=ne&&Re?y({active:ne,collisionRect:Re,droppableRects:J,droppableContainers:q,pointerCoordinates:le}):null,or=cO(ze,"id"),[Et,Ga]=x.useState(null),Yn=Xt?Y:Gi(Y,ge),Kn=hO(Yn,(u=Et?.rect)!=null?u:null,ut),un=x.useRef(null),Xn=x.useCallback((dt,Wt)=>{let{sensor:Bt,options:Mn}=Wt;if(de.current==null)return;const It=X.get(de.current);if(!It)return;const Pt=dt.nativeEvent,cn=new Bt({active:de.current,activeNode:It,event:Pt,options:Mn,context:tn,onAbort(Ze){if(!X.get(Ze))return;const{onDragAbort:nt}=pe.current,qt={id:Ze};nt?.(qt),U({type:"onDragAbort",event:qt})},onPending(Ze,tt,nt,qt){if(!X.get(Ze))return;const{onDragPending:ba}=pe.current,Wn={id:Ze,constraint:tt,initialCoordinates:nt,offset:qt};ba?.(Wn),U({type:"onDragPending",event:Wn})},onStart(Ze){const tt=de.current;if(tt==null)return;const nt=X.get(tt);if(!nt)return;const{onDragStart:qt}=pe.current,cr={activatorEvent:Pt,active:{id:tt,data:nt.data,rect:ee}};ul.unstable_batchedUpdates(()=>{qt?.(cr),k(ha.Initializing),N({type:At.DragStart,initialCoordinates:Ze,active:tt}),U({type:"onDragStart",event:cr}),H(un.current),se(Pt)})},onMove(Ze){N({type:At.DragMove,coordinates:Ze})},onEnd:Pr(At.DragEnd),onCancel:Pr(At.DragCancel)});un.current=cn;function Pr(Ze){return async function(){const{active:nt,collisions:qt,over:cr,scrollAdjustedTranslate:ba}=tn.current;let Wn=null;if(nt&&ba){const{cancelDrop:zr}=pe.current;Wn={activatorEvent:Pt,active:nt,collisions:qt,delta:ba,over:cr},Ze===At.DragEnd&&typeof zr=="function"&&await Promise.resolve(zr(Wn))&&(Ze=At.DragCancel)}de.current=null,ul.unstable_batchedUpdates(()=>{N({type:Ze}),k(ha.Uninitialized),Ga(null),H(null),se(null),un.current=null;const zr=Ze===At.DragEnd?"onDragEnd":"onDragCancel";if(Wn){const dr=pe.current[zr];dr?.(Wn),U({type:zr,event:Wn})}})}}},[X]),ur=x.useCallback((dt,Wt)=>(Bt,Mn)=>{const It=Bt.nativeEvent,Pt=X.get(Mn);if(de.current!==null||!Pt||It.dndKit||It.defaultPrevented)return;const cn={active:Pt};dt(Bt,Wt.options,cn)===!0&&(It.dndKit={capturedBy:Wt.sensor},de.current=Mn,Xn(Bt,Wt))},[X,Xn]),_a=zO(v,ur);GO(v),kr(()=>{ut&&M===ha.Initializing&&k(ha.Initialized)},[ut,M]),x.useEffect(()=>{const{onDragMove:dt}=pe.current,{active:Wt,activatorEvent:Bt,collisions:Mn,over:It}=tn.current;if(!Wt||!Bt)return;const Pt={active:Wt,activatorEvent:Bt,collisions:Mn,delta:{x:be.x,y:be.y},over:It};ul.unstable_batchedUpdates(()=>{dt?.(Pt),U({type:"onDragMove",event:Pt})})},[be.x,be.y]),x.useEffect(()=>{const{active:dt,activatorEvent:Wt,collisions:Bt,droppableContainers:Mn,scrollAdjustedTranslate:It}=tn.current;if(!dt||de.current==null||!Wt||!It)return;const{onDragOver:Pt}=pe.current,cn=Mn.get(or),Pr=cn&&cn.rect.current?{id:cn.id,rect:cn.rect.current,data:cn.data,disabled:cn.disabled}:null,Ze={active:dt,activatorEvent:Wt,collisions:Bt,delta:{x:It.x,y:It.y},over:Pr};ul.unstable_batchedUpdates(()=>{Ga(Pr),Pt?.(Ze),U({type:"onDragOver",event:Ze})})},[or]),kr(()=>{tn.current={activatorEvent:Q,active:ne,activeNode:he,collisionRect:Re,collisions:ze,droppableRects:J,draggableNodes:X,draggingNode:sr,draggingNodeRect:Gn,droppableContainers:ue,over:Et,scrollableAncestors:D,scrollAdjustedTranslate:be},ee.current={initial:Gn,translated:Re}},[ne,he,ze,Re,X,sr,Gn,J,ue,Et,D,be]),kO({...Le,delta:te,draggingRect:Re,pointerCoordinates:le,scrollableAncestors:D,scrollableAncestorRects:$});const Ll=x.useMemo(()=>({active:ne,activeNode:he,activeNodeRect:ut,activatorEvent:Q,collisions:ze,containerNodeRect:Vt,dragOverlay:nn,draggableNodes:X,droppableContainers:ue,droppableRects:J,over:Et,measureDroppableContainers:ce,scrollableAncestors:D,scrollableAncestorRects:$,measuringConfiguration:G,measuringScheduled:Ce,windowRect:lr}),[ne,he,ut,Q,ze,Vt,nn,X,ue,J,Et,ce,D,$,G,Ce,lr]),Pl=x.useMemo(()=>({activatorEvent:Q,activators:_a,active:ne,activeNodeRect:ut,ariaDescribedById:{draggable:O},dispatch:N,draggableNodes:X,over:Et,measureDroppableContainers:ce}),[Q,_a,ne,ut,N,O,X,Et,ce]);return Oe.createElement(tb.Provider,{value:R},Oe.createElement(Ul.Provider,{value:Pl},Oe.createElement(vb.Provider,{value:Ll},Oe.createElement(Pu.Provider,{value:Kn},m)),Oe.createElement(tD,{disabled:f?.restoreFocus===!1})),Oe.createElement(lO,{...f,hiddenTextDescribedById:O}));function rs(){const dt=oe?.autoScrollEnabled===!1,Wt=typeof h=="object"?h.enabled===!1:h===!1,Bt=V&&!dt&&!Wt;return typeof h=="object"?{...h,enabled:Bt}:{enabled:Bt}}}),iD=x.createContext(null),ky="button",sD="Draggable";function ID(e){let{id:n,data:a,disabled:i=!1,attributes:l}=e;const u=Uu(sD),{activators:c,activatorEvent:f,active:h,activeNodeRect:m,ariaDescribedById:v,draggableNodes:y,over:b}=x.useContext(Ul),{role:w=ky,roleDescription:S="draggable",tabIndex:C=0}=l??{},T=h?.id===n,N=x.useContext(T?Pu:iD),[U,R]=yu(),[M,k]=yu(),V=YO(c,n),P=Cl(a);kr(()=>(y.set(n,{id:n,key:u,node:U,activatorNode:M,data:P}),()=>{const te=y.get(n);te&&te.key===u&&y.delete(n)}),[y,n]);const X=x.useMemo(()=>({role:w,tabIndex:C,"aria-disabled":i,"aria-pressed":T&&w===ky?!0:void 0,"aria-roledescription":S,"aria-describedby":v.draggable}),[i,w,C,T,S,v.draggable]);return{active:h,activatorEvent:f,activeNodeRect:m,attributes:X,isDragging:T,listeners:i?void 0:V,node:U,over:b,setNodeRef:R,setActivatorNodeRef:k,transform:N}}function lD(){return x.useContext(vb)}const oD="Droppable",uD={timeout:25};function qD(e){let{data:n,disabled:a=!1,id:i,resizeObserverConfig:l}=e;const u=Uu(oD),{active:c,dispatch:f,over:h,measureDroppableContainers:m}=x.useContext(Ul),v=x.useRef({disabled:a}),y=x.useRef(!1),b=x.useRef(null),w=x.useRef(null),{disabled:S,updateMeasurementsFor:C,timeout:T}={...uD,...l},N=Cl(C??i),U=x.useCallback(()=>{if(!y.current){y.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{m(Array.isArray(N.current)?N.current:[N.current]),w.current=null},T)},[T]),R=Lu({callback:U,disabled:S||!c}),M=x.useCallback((X,te)=>{R&&(te&&(R.unobserve(te),y.current=!1),X&&R.observe(X))},[R]),[k,V]=yu(M),P=Cl(n);return x.useEffect(()=>{!R||!k.current||(R.disconnect(),y.current=!1,R.observe(k.current))},[k,R]),x.useEffect(()=>(f({type:At.RegisterDroppable,element:{id:i,key:u,disabled:a,node:k,rect:b,data:P}}),()=>f({type:At.UnregisterDroppable,key:u,id:i})),[i]),x.useEffect(()=>{a!==v.current.disabled&&(f({type:At.SetDroppableDisabled,id:i,key:u,disabled:a}),v.current.disabled=a)},[i,u,a,f]),{active:c,rect:b,isOver:h?.id===i,node:k,over:h,setNodeRef:V}}function cD(e){let{animation:n,children:a}=e;const[i,l]=x.useState(null),[u,c]=x.useState(null),f=_u(a);return!a&&!i&&f&&l(f),kr(()=>{if(!u)return;const h=i?.key,m=i?.props.id;if(h==null||m==null){l(null);return}Promise.resolve(n(m,u)).then(()=>{l(null)})},[n,i,u]),Oe.createElement(Oe.Fragment,null,a,i?x.cloneElement(i,{ref:c}):null)}const dD={x:0,y:0,scaleX:1,scaleY:1};function fD(e){let{children:n}=e;return Oe.createElement(Ul.Provider,{value:pb},Oe.createElement(Pu.Provider,{value:dD},n))}const hD={position:"fixed",touchAction:"none"},gD=e=>_h(e)?"transform 250ms ease":void 0,mD=x.forwardRef((e,n)=>{let{as:a,activatorEvent:i,adjustScale:l,children:u,className:c,rect:f,style:h,transform:m,transition:v=gD}=e;if(!f)return null;const y=l?m:{...m,scaleX:1,scaleY:1},b={...hD,width:f.width,height:f.height,top:f.top,left:f.left,transform:Rl.Transform.toString(y),transformOrigin:l&&i?oO(i,f):void 0,transition:typeof v=="function"?v(i):v,...h};return Oe.createElement(a,{className:c,style:b,ref:n},u)}),pD=e=>n=>{let{active:a,dragOverlay:i}=n;const l={},{styles:u,className:c}=e;if(u!=null&&u.active)for(const[f,h]of Object.entries(u.active))h!==void 0&&(l[f]=a.node.style.getPropertyValue(f),a.node.style.setProperty(f,h));if(u!=null&&u.dragOverlay)for(const[f,h]of Object.entries(u.dragOverlay))h!==void 0&&i.node.style.setProperty(f,h);return c!=null&&c.active&&a.node.classList.add(c.active),c!=null&&c.dragOverlay&&i.node.classList.add(c.dragOverlay),function(){for(const[h,m]of Object.entries(l))a.node.style.setProperty(h,m);c!=null&&c.active&&a.node.classList.remove(c.active)}},vD=e=>{let{transform:{initial:n,final:a}}=e;return[{transform:Rl.Transform.toString(n)},{transform:Rl.Transform.toString(a)}]},yD={duration:250,easing:"ease",keyframes:vD,sideEffects:pD({styles:{active:{opacity:"0"}}})};function _D(e){let{config:n,draggableNodes:a,droppableContainers:i,measuringConfiguration:l}=e;return ku((u,c)=>{if(n===null)return;const f=a.get(u);if(!f)return;const h=f.node.current;if(!h)return;const m=mb(c);if(!m)return;const{transform:v}=en(c).getComputedStyle(c),y=rb(v);if(!y)return;const b=typeof n=="function"?n:bD(n);return cb(h,l.draggable.measure),b({active:{id:u,data:f.data,node:h,rect:l.draggable.measure(h)},draggableNodes:a,dragOverlay:{node:c,rect:l.dragOverlay.measure(m)},droppableContainers:i,measuringConfiguration:l,transform:y})})}function bD(e){const{duration:n,easing:a,sideEffects:i,keyframes:l}={...yD,...e};return u=>{let{active:c,dragOverlay:f,transform:h,...m}=u;if(!n)return;const v={x:f.rect.left-c.rect.left,y:f.rect.top-c.rect.top},y={scaleX:h.scaleX!==1?c.rect.width*h.scaleX/f.rect.width:1,scaleY:h.scaleY!==1?c.rect.height*h.scaleY/f.rect.height:1},b={x:h.x-v.x,y:h.y-v.y,...y},w=l({...m,active:c,dragOverlay:f,transform:{initial:h,final:b}}),[S]=w,C=w[w.length-1];if(JSON.stringify(S)===JSON.stringify(C))return;const T=i?.({active:c,dragOverlay:f,...m}),N=f.node.animate(w,{duration:n,easing:a,fill:"forwards"});return new Promise(U=>{N.onfinish=()=>{T?.(),U()}})}}let Uy=0;function wD(e){return x.useMemo(()=>{if(e!=null)return Uy++,Uy},[e])}const SD=Oe.memo(e=>{let{adjustScale:n=!1,children:a,dropAnimation:i,style:l,transition:u,modifiers:c,wrapperElement:f="div",className:h,zIndex:m=999}=e;const{activatorEvent:v,active:y,activeNodeRect:b,containerNodeRect:w,draggableNodes:S,droppableContainers:C,dragOverlay:T,over:N,measuringConfiguration:U,scrollableAncestors:R,scrollableAncestorRects:M,windowRect:k}=lD(),V=x.useContext(Pu),P=wD(y?.id),X=yb(c,{activatorEvent:v,active:y,activeNodeRect:b,containerNodeRect:w,draggingNodeRect:T.rect,over:N,overlayNodeRect:T.rect,scrollableAncestors:R,scrollableAncestorRects:M,transform:V,windowRect:k}),te=Eh(b),ue=_D({config:i,draggableNodes:S,droppableContainers:C,measuringConfiguration:U}),ie=te?T.setRef:void 0;return Oe.createElement(fD,null,Oe.createElement(cD,{animation:ue},y&&P?Oe.createElement(mD,{key:P,id:y.id,ref:ie,as:f,activatorEvent:v,adjustScale:n,className:h,transition:u,rect:te,style:{zIndex:m,...l},transform:X},a):null))}),ED=x.lazy(()=>Ia(()=>import("./TaskPool-DHwJLfiR.js"),[])),xD=x.lazy(()=>Ia(()=>import("./GanttChart-DDoMaiHo.js"),[])),Ly=()=>p.jsx("div",{className:"loading-fallback",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",fontSize:"16px",color:"#666"},children:"Loading scheduler components..."});function CD(){const{odpOrders:e,machines:n,selectedWorkCenter:a,isLoading:i,isInitialized:l,init:u,scheduleTask:c,unscheduleTask:f,showAlert:h}=ye(),[m,v]=x.useState(new Date),[y,b]=x.useState(null),[w,S]=x.useState(""),[C,T]=x.useState(""),N=x.useRef({workCenterFilter:w,departmentFilter:C});N.current={workCenterFilter:w,departmentFilter:C};const[U,R]=x.useState(!0);x.useEffect(()=>{if(l)R(!1);else{const ne=performance.now();u().finally(()=>{const de=performance.now();console.log(` Store initialization took: ${(de-ne).toFixed(2)}ms`),R(!1)})}},[u,l]);const M=x.useMemo(()=>{const ne=performance.now();if(!n||n.length===0)return{activeMachines:[],workCenters:[],departments:[]};let de=n;a&&a!==Ne.BOTH&&(de=n.filter(q=>q.work_center===a));const oe=de.filter(q=>q.status===Dn.ACTIVE);if(oe.length===0)return{activeMachines:[],workCenters:[],departments:[]};const H=new Set,Q=new Set;for(const q of oe)q.work_center&&H.add(q.work_center),q.department&&Q.add(q.department);const se=Array.from(H).sort(),pe=Array.from(Q).sort(),O=performance.now();return O-ne>5&&console.log(` Machine data computation took: ${(O-ne).toFixed(2)}ms`),{activeMachines:oe,workCenters:se,departments:pe}},[n,a]),k=x.useMemo(()=>{const{activeMachines:ne}=M,{workCenterFilter:de,departmentFilter:oe}=N.current;let H=ne;return de&&de!==a&&(H=H.filter(Q=>Q.work_center===de)),oe&&(H=H.filter(Q=>Q.department===oe)),H},[M,a]),V=x.useCallback(ne=>{v(de=>{const oe=new Date(de);return ne==="today"?new Date:ne==="prev"?(oe.setDate(oe.getDate()-1),oe):ne==="next"?(oe.setDate(oe.getDate()+1),oe):de})},[]),P=x.useCallback(()=>{const ne=new Date;return m.toDateString()===ne.toDateString()?"Today":m.toLocaleDateString("en-US",{month:"long",day:"numeric"})},[m]),X=x.useCallback(()=>{S(""),T("")},[]),te=x.useRef(null),ue=x.useRef(!1),ie=x.useCallback(ne=>{const de=performance.now(),oe=ne.active.data.current;oe.type==="task"?b(oe.task):oe.type==="event"&&b(oe.event),console.log(` Drag start took: ${(performance.now()-de).toFixed(2)}ms`)},[]),ee=x.useCallback(async ne=>{const de=performance.now();if(te.current&&clearTimeout(te.current),ue.current){console.log(" Drag operation already in progress, ignoring");return}b(null);const{over:oe,active:H}=ne;if(!oe){console.log(` Drag cancelled - no drop zone (took ${(performance.now()-de).toFixed(2)}ms)`);return}const Q=H.data.current,se=oe.data.current;if(!Q||!se){console.log(" Invalid drag data");return}ue.current=!0;try{await new Promise(pe=>{requestAnimationFrame(async()=>{const O=performance.now();if(Q.type==="task"&&se.type==="slot"){const q=Q.task,{machine:G,hour:J,minute:ce,isUnavailable:Ce,hasScheduledTask:he}=se;if(Ce)return h("Cannot schedule task on unavailable time slot","error"),pe();if(he)return h("Cannot schedule task on occupied time slot","error"),pe();const qe=new Date(m);qe.setHours(J,ce,0,0);const Le=q.time_remaining||q.duration||1,St=oy(qe,Le),ut={machine:G.id,start_time:qe.toISOString(),end_time:St.toISOString()},Vt=await c(q.id,ut);Vt?.error&&h(Vt.error,"error"),console.log(` Task scheduling took: ${(performance.now()-O).toFixed(2)}ms`)}else if(Q.type==="event"&&se.type==="slot"){const q=Q.event,{machine:G,hour:J,minute:ce,isUnavailable:Ce,hasScheduledTask:he}=se;if(Ce)return h("Cannot reschedule task to unavailable time slot","error"),pe();if(he)return h("Cannot reschedule task to occupied time slot","error"),pe();const qe=new Date(m);qe.setHours(J,ce,0,0);const Le=q.time_remaining||q.duration||1,St=oy(qe,Le),ut={machine:G.id,start_time:qe.toISOString(),end_time:St.toISOString()},Vt=await c(q.id,ut);Vt?.error&&h(Vt.error,"error"),console.log(` Event rescheduling took: ${(performance.now()-O).toFixed(2)}ms`)}else if(Q.type==="event"&&se.type==="pool"){const q=Q.event;f(q.id),console.log(` Task unscheduling took: ${(performance.now()-O).toFixed(2)}ms`)}pe()})})}catch(pe){console.error(" Drag operation failed:",pe),h("An error occurred during the drag operation","error")}finally{ue.current=!1,console.log(` Total drag operation took: ${(performance.now()-de).toFixed(2)}ms`)}},[m,c,f,h]);return i||U?p.jsx("div",{className:"scheduler-loading",children:p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("h3",{children:"Loading Production Scheduler..."}),p.jsx("p",{children:"Initializing components and data"})]})}):a?p.jsxs(aD,{onDragStart:ie,onDragEnd:ee,children:[p.jsxs("div",{className:"scheduler-container",children:[p.jsx(x.Suspense,{fallback:p.jsx(Ly,{}),children:p.jsx(ED,{tasks:e,currentDate:m})}),p.jsxs("div",{className:"calendar-header",children:[p.jsx("h2",{className:"calendar-title",children:"Production Schedule"}),p.jsxs("div",{className:"calendar-controls",children:[p.jsxs("div",{className:"machine-filter",children:[p.jsx("label",{htmlFor:"work_center_filter",children:"Work Center:"}),p.jsxs("select",{id:"work_center_filter",value:w,onChange:ne=>S(ne.target.value),children:[p.jsx("option",{value:"",children:"All Work Centers"}),M.workCenters.map(ne=>p.jsx("option",{value:ne,children:ne},ne))]}),p.jsx("label",{htmlFor:"department_filter",children:"Department:"}),p.jsxs("select",{id:"department_filter",value:C,onChange:ne=>T(ne.target.value),children:[p.jsx("option",{value:"",children:"All Departments"}),M.departments.map(ne=>p.jsx("option",{value:ne,children:ne},ne))]}),p.jsx("button",{className:"btn btn-secondary",onClick:X,title:"Clear all filters",children:"Clear Filters"})]}),p.jsxs("div",{className:"calendar-navigation",children:[p.jsx("button",{className:"nav-btn today",onClick:()=>V("today"),children:"Today"}),p.jsx("button",{className:"nav-btn",onClick:()=>V("prev"),children:"<"}),p.jsx("span",{className:"current-date",children:P()}),p.jsx("button",{className:"nav-btn",onClick:()=>V("next"),children:">"})]})]})]}),p.jsx(x.Suspense,{fallback:p.jsx(Ly,{}),children:p.jsx(xD,{machines:k,tasks:e,currentDate:m})})]}),p.jsx(SD,{children:y?p.jsxs("div",{className:"task-item drag-overlay",style:{boxShadow:"0 8px 25px rgba(0,0,0,0.3)",transform:"rotate(3deg) scale(1.05)",opacity:.9,zIndex:1002,pointerEvents:"none"},children:[p.jsx("span",{children:y.odp_number}),p.jsxs("span",{className:"task-duration",children:[y.duration||1,"h"]})]}):null})]}):p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"error",children:"Please select a work center to view scheduler data."})})}function RD(){const{machines:e,odpOrders:n,isLoading:a,isInitialized:i,init:l}=ye();x.useEffect(()=>{i||l()},[l,i]);const u=x.useMemo(()=>{if(a)return{};const c=e.reduce((w,S)=>{const C=S.work_center||"Unknown";return w[C]||(w[C]={[Dn.ACTIVE]:0,[Dn.INACTIVE]:0,[Dn.MAINTENANCE]:0}),w[C][S.status]=(w[C][S.status]||0)+1,w},{}),f=new Date,h=new Date(f);h.setDate(f.getDate()-f.getDay()),h.setHours(0,0,0,0);const m=n.filter(w=>w.completion_date?new Date(w.completion_date)>=h:!1).length,v=n.filter(w=>w.status==="IN PROGRESS"||w.status==="SCHEDULED").length,y=n.filter(w=>w.due_date?new Date(w.due_date)<f&&w.quantity_completed<w.quantity:!1).length,b=e.filter(w=>w.status===Dn.ACTIVE).length;return{machinesByWorkCenter:c,completedThisWeek:m,tasksInWip:v,delayedTasks:y,activeMachines:b,totalMachines:e.length,totalOrders:n.length}},[e,n,a]);return a?p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"loading",children:"Loading dashboard..."})}):p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Production Dashboard"}),p.jsxs("div",{className:"metrics-grid",children:[p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Total Machines"}),p.jsx("div",{className:"metric-value",children:u.totalMachines}),p.jsxs("div",{className:"metric-subtitle",children:["Active: ",u.activeMachines]})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Total Orders"}),p.jsx("div",{className:"metric-value",children:u.totalOrders})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Completed This Week"}),p.jsx("div",{className:"metric-value",children:u.completedThisWeek})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Tasks in WIP"}),p.jsx("div",{className:"metric-value",children:u.tasksInWip})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Delayed Tasks"}),p.jsx("div",{className:"metric-value delayed",children:u.delayedTasks})]})]}),p.jsxs("div",{className:"charts-container",children:[p.jsxs("div",{className:"chart-section",children:[p.jsx("h3",{children:"Machines by Work Center"}),p.jsx("div",{className:"work-center-chart",children:Object.entries(u.machinesByWorkCenter||{}).map(([c,f])=>p.jsxs("div",{className:"work-center-group",children:[p.jsx("h4",{children:c}),p.jsx("div",{className:"status-bars",children:Object.entries(f).map(([h,m])=>p.jsxs("div",{className:"status-bar",children:[p.jsx("span",{className:"status-label",children:h}),p.jsx("div",{className:"status-bar-fill",style:{width:`${m/Math.max(...Object.values(f))*100}%`},children:m})]},h))})]},c))})]}),p.jsxs("div",{className:"chart-section",children:[p.jsx("h3",{children:"Weekly Task Completion"}),p.jsxs("div",{className:"simple-chart",children:[p.jsx("div",{className:"chart-bar",style:{height:`${u.completedThisWeek/Math.max(u.totalOrders,1)*200}px`},children:p.jsx("span",{className:"chart-label",children:u.completedThisWeek})}),p.jsx("div",{className:"chart-x-axis",children:"This Week"})]})]})]})]})}function TD(){const[e,n]=x.useState({email:"",password:"",workCenter:""}),[a,i]=x.useState(!1),[l,u]=x.useState({}),{signIn:c,error:f,setSelectedWorkCenter:h}=Ji(),m=Ru(),v=S=>{const{name:C,value:T}=S.target;n(N=>({...N,[C]:T})),l[C]&&u(N=>({...N,[C]:""}))},y=()=>{const S={};return e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(S.email="Please enter a valid email address"):S.email="Email is required",e.password?e.password.length<6&&(S.password="Password must be at least 6 characters"):S.password="Password is required",e.workCenter||(S.workCenter="Work center is required"),u(S),Object.keys(S).length===0},b=async S=>{if(S.preventDefault(),!!y()){i(!0);try{const C=await c(e.email,e.password);C.success?(h(e.workCenter),console.log("Login successful, work center set to:",e.workCenter),m("/",{replace:!0})):console.log("Login failed:",C.error)}catch(C){console.error("Login error:",C)}finally{i(!1)}}},w=S=>l[S]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:l[S]}):null;return p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Welcome Back"}),p.jsx("p",{children:"Sign in to your account to continue"})]}),p.jsxs("form",{onSubmit:b,className:"auth-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:v,placeholder:"Enter your email",className:l.email?"error":"",disabled:a,autoComplete:"email"}),w("email")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Password"}),p.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:v,placeholder:"Enter your password",className:l.password?"error":"",disabled:a,autoComplete:"current-password"}),w("password")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"workCenter",children:"Work Center *"}),p.jsxs("select",{id:"workCenter",name:"workCenter",value:e.workCenter,onChange:v,className:l.workCenter?"error":"",disabled:a,children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Ne.ZANICA,children:Ne.ZANICA}),p.jsx("option",{value:Ne.BUSTO_GAROLFO,children:Ne.BUSTO_GAROLFO}),p.jsx("option",{value:Ne.BOTH,children:Ne.BOTH})]}),w("workCenter")]}),f&&p.jsxs("div",{className:"auth-error",children:[p.jsx("span",{className:"error-icon",children:""}),f]}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:a,children:a?"Signing In...":"Sign In"})]}),p.jsxs("div",{className:"auth-links",children:[p.jsx(Nn,{to:"/forgot-password",className:"auth-link",children:"Forgot your password?"}),p.jsx("div",{className:"auth-divider",children:p.jsx("span",{children:"Don't have an account?"})}),p.jsx(Nn,{to:"/signup",className:"btn btn-secondary",children:"Create Account"})]}),!1]})})}function AD(){const[e,n]=x.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[a,i]=x.useState(!1),[l,u]=x.useState({}),{signUp:c,error:f}=Ji(),h=Ru(),m=w=>{const{name:S,value:C}=w.target;n(T=>({...T,[S]:C})),l[S]&&u(T=>({...T,[S]:""}))},v=()=>{const w={};return e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(w.email="Please enter a valid email address"):w.email="Email is required",e.password?e.password.length<6&&(w.password="Password must be at least 6 characters"):w.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(w.confirmPassword="Passwords do not match"):w.confirmPassword="Please confirm your password",e.firstName.trim()||(w.firstName="First name is required"),e.lastName.trim()||(w.lastName="Last name is required"),u(w),Object.keys(w).length===0},y=async w=>{if(w.preventDefault(),!!v()){i(!0);try{const S={first_name:e.firstName,last_name:e.lastName,full_name:`${e.firstName} ${e.lastName}`},C=await c(e.email,e.password,S);C.success?(console.log("Signup successful, redirecting to home"),h("/",{replace:!0})):console.log("Signup failed:",C.error)}catch(S){console.error("Signup error:",S)}finally{i(!1)}}},b=w=>l[w]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:l[w]}):null;return p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Create Account"}),p.jsx("p",{children:"Sign up to get started with your account"})]}),p.jsxs("form",{onSubmit:y,className:"auth-form",children:[p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"firstName",children:"First Name"}),p.jsx("input",{type:"text",id:"firstName",name:"firstName",value:e.firstName,onChange:m,placeholder:"Enter your first name",className:l.firstName?"error":"",disabled:a,autoComplete:"given-name"}),b("firstName")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"lastName",children:"Last Name"}),p.jsx("input",{type:"text",id:"lastName",name:"lastName",value:e.lastName,onChange:m,placeholder:"Enter your last name",className:l.lastName?"error":"",disabled:a,autoComplete:"family-name"}),b("lastName")]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:m,placeholder:"Enter your email",className:l.email?"error":"",disabled:a,autoComplete:"email"}),b("email")]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Password"}),p.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:m,placeholder:"Create a password",className:l.password?"error":"",disabled:a,autoComplete:"new-password"}),b("password")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),p.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:m,placeholder:"Confirm your password",className:l.confirmPassword?"error":"",disabled:a,autoComplete:"new-password"}),b("confirmPassword")]})]}),f&&p.jsxs("div",{className:"auth-error",children:[p.jsx("span",{className:"error-icon",children:""}),f]}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:a,children:a?"Creating Account...":"Create Account"})]}),p.jsxs("div",{className:"auth-links",children:[p.jsx("div",{className:"auth-divider",children:p.jsx("span",{children:"Already have an account?"})}),p.jsx(Nn,{to:"/login",className:"btn btn-secondary",children:"Sign In"})]})]})})}function OD(){const[e,n]=x.useState(""),[a,i]=x.useState(!1),[l,u]=x.useState(!1),[c,f]=x.useState(""),{resetPassword:h}=Ji(),m=async v=>{if(v.preventDefault(),!e.trim()){f("Please enter your email address");return}if(!/\S+@\S+\.\S+/.test(e)){f("Please enter a valid email address");return}i(!0),f("");try{const y=await h(e);y.success?u(!0):f(y.error||"Failed to send reset email")}catch(y){console.error("Password reset error:",y),f("An unexpected error occurred")}finally{i(!1)}};return l?p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Check Your Email"}),p.jsxs("p",{children:["We've sent a password reset link to ",e]})]}),p.jsxs("div",{className:"auth-success",children:[p.jsx("div",{className:"success-icon",children:""}),p.jsx("p",{children:"If you don't see the email, check your spam folder."})]}),p.jsx("div",{className:"auth-links",children:p.jsx(Nn,{to:"/login",className:"btn btn-primary",children:"Back to Sign In"})})]})}):p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Reset Password"}),p.jsx("p",{children:"Enter your email to receive a password reset link"})]}),p.jsxs("form",{onSubmit:m,className:"auth-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:e,onChange:v=>n(v.target.value),placeholder:"Enter your email",disabled:a,autoComplete:"email"})]}),c&&p.jsxs("div",{className:"auth-error",children:[p.jsx("span",{className:"error-icon",children:""}),c]}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:a,children:a?"Sending...":"Send Reset Link"})]}),p.jsx("div",{className:"auth-links",children:p.jsx(Nn,{to:"/login",className:"auth-link",children:"Back to Sign In"})})]})})}class xu extends Oe.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static generateErrorId(){return`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorId:xu.generateErrorId()}}componentDidCatch(n,a){console.error(" Error Boundary caught an error:",n,a),this.setState({errorInfo:a,errorId:this.state.errorId||xu.generateErrorId()}),this.logErrorToService(n,a)}logErrorToService(n,a){console.group(" Production Error Report"),console.log("Error ID:",this.state.errorId),console.log("Error:",n),console.log("Error Info:",a),console.log("User Agent:",navigator.userAgent),console.log("URL:",window.location.href),console.log("Timestamp:",new Date().toISOString()),console.groupEnd()}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null}),window.location.reload()};handleGoHome=()=>{window.location.href="/"};handleReportIssue=()=>{const n=encodeURIComponent(`App Error Report - ${this.state.errorId}`),a=encodeURIComponent(`
Error Report Details:
- Error ID: ${this.state.errorId}
- Error: ${this.state.error?.message||"Unknown error"}
- URL: ${window.location.href}
- User Agent: ${navigator.userAgent}
- Timestamp: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:
    `);window.open(`mailto:support@company.com?subject=${n}&body=${a}`)};render(){return this.state.hasError?p.jsx("div",{className:"error-boundary",children:p.jsxs("div",{className:"error-boundary__container",children:[p.jsx("div",{className:"error-boundary__icon",children:""}),p.jsx("h1",{className:"error-boundary__title",children:"Oops! Something went wrong"}),p.jsx("p",{className:"error-boundary__message",children:"We're sorry, but something unexpected happened. Our team has been notified and is working to fix this issue."}),!1,p.jsxs("div",{className:"error-boundary__actions",children:[p.jsx("button",{onClick:this.handleRetry,className:"error-boundary__button error-boundary__button--primary",children:" Try Again"}),p.jsx("button",{onClick:this.handleGoHome,className:"error-boundary__button error-boundary__button--secondary",children:" Go to Home"}),p.jsx("button",{onClick:this.handleReportIssue,className:"error-boundary__button error-boundary__button--secondary",children:" Report Issue"})]}),p.jsxs("div",{className:"error-boundary__footer",children:[p.jsxs("p",{className:"error-boundary__error-id",children:["Error ID: ",p.jsx("code",{children:this.state.errorId})]}),p.jsx("p",{className:"error-boundary__help",children:"If this problem persists, please contact support with the Error ID above."})]})]})}):this.props.children}}const DD=()=>{const{user:e,loading:n}=Ji();return n?p.jsx("div",{className:"auth-loading",children:p.jsxs("div",{className:"auth-loading__container",children:[p.jsx("div",{className:"auth-loading__spinner"}),p.jsx("p",{children:"Checking authentication..."})]})}):e?p.jsx(Ky,{}):(console.log("User not authenticated, redirecting to login"),p.jsx(Yy,{to:"/login",replace:!0}))},ND=({message:e,type:n="info",isVisible:a,onClose:i,autoClose:l=!0,duration:u=5e3})=>{if(x.useEffect(()=>{if(l&&a){const h=setTimeout(()=>{i()},u);return()=>clearTimeout(h)}},[a,l,u,i]),!a)return null;const c="alert",f={success:"alert--success",error:"alert--error",warning:"alert--warning",info:"alert--info"};return p.jsx("div",{className:`${c} ${f[n]||f.info}`,children:p.jsxs("div",{className:"alert__content",children:[p.jsx("span",{className:"alert__message",children:e}),p.jsx("button",{onClick:i,className:"alert__close","aria-label":"Close",children:""})]})})},jD=({isOpen:e,title:n,message:a,onConfirm:i,onCancel:l,confirmText:u="Delete",cancelText:c="Cancel",type:f="danger"})=>{if(!e)return null;const h="confirm-dialog",m={danger:"confirm-dialog--danger",warning:"confirm-dialog--warning",info:"confirm-dialog--info"};return p.jsxs("div",{className:`${h} ${m[f]||m.danger}`,children:[p.jsx("div",{className:"confirm-dialog__overlay",onClick:l}),p.jsxs("div",{className:"confirm-dialog__content",children:[p.jsx("div",{className:"confirm-dialog__header",children:p.jsx("h3",{className:"confirm-dialog__title",children:n})}),p.jsx("div",{className:"confirm-dialog__body",children:p.jsx("p",{className:"confirm-dialog__message",children:a})}),p.jsxs("div",{className:"confirm-dialog__footer",children:[p.jsx("button",{onClick:l,className:"confirm-dialog__button confirm-dialog__button--secondary",children:c}),p.jsx("button",{onClick:i,className:"confirm-dialog__button confirm-dialog__button--primary",children:u})]})]})]})},MD=()=>{const{alert:e,hideAlert:n,confirmDialog:a,hideConfirmDialog:i}=ye(),{selectedWorkCenter:l,setSelectedWorkCenter:u}=Ji(),c=ye(f=>f.setSelectedWorkCenter);return x.useEffect(()=>{l&&c(l)},[l,c]),p.jsxs("div",{className:"main-content",children:[p.jsx(iT,{}),p.jsx("div",{className:"page-container",children:p.jsx("main",{children:p.jsx(Ky,{})})}),p.jsx(ND,{message:e.message,type:e.type,isVisible:e.isVisible,onClose:n}),p.jsx(jD,{isOpen:a.isOpen,title:a.title,message:a.message,onConfirm:()=>{a.onConfirm?.(),i()},onCancel:i,type:a.type})]})};function kD(){return p.jsx(xu,{children:p.jsxs(DS,{children:[p.jsx(yn,{path:"/login",element:p.jsx(TD,{})}),p.jsx(yn,{path:"/signup",element:p.jsx(AD,{})}),p.jsx(yn,{path:"/forgot-password",element:p.jsx(OD,{})}),p.jsx(yn,{path:"/",element:p.jsx(DD,{}),children:p.jsxs(yn,{element:p.jsx(MD,{}),children:[p.jsx(yn,{index:!0,element:p.jsx(RD,{})}),p.jsx(yn,{path:"machinery",element:p.jsx(FA,{})}),p.jsx(yn,{path:"machinery/:machineId/calendar",element:p.jsx(IA,{})}),p.jsx(yn,{path:"phases",element:p.jsx(GA,{})}),p.jsx(yn,{path:"backlog",element:p.jsx(KA,{})}),p.jsx(yn,{path:"scheduler",element:p.jsx(CD,{})})]})}),p.jsx(yn,{path:"*",element:p.jsx(Yy,{to:"/",replace:!0})})]})})}const UD="/flexi/";Pw.createRoot(document.getElementById("root")).render(p.jsx(Oe.StrictMode,{children:p.jsx(JS,{basename:UD,children:p.jsx(mC,{children:p.jsx(kD,{})})})}));export{Oe as R,qD as a,ID as b,VD as c,HD as g,BD as i,p as j,x as r,Ht as t,ye as u};
