(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=r(l);fetch(l.href,o)}})();function ah(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Iw(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var r=function i(){var l=!1;try{l=this instanceof i}catch{}return l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var l=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,l.get?l:{enumerable:!0,get:function(){return e[i]}})}),r}var af={exports:{}},sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function $w(){if(bv)return sl;bv=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,l,o){var c=null;if(o!==void 0&&(c=""+o),l.key!==void 0&&(c=""+l.key),"key"in l){o={};for(var f in l)f!=="key"&&(o[f]=l[f])}else o=l;return l=o.ref,{$$typeof:e,type:i,key:c,ref:l!==void 0?l:null,props:o}}return sl.Fragment=n,sl.jsx=r,sl.jsxs=r,sl}var wv;function Bw(){return wv||(wv=1,af.exports=$w()),af.exports}var p=Bw(),rf={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function Vw(){if(Sv)return De;Sv=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function _(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,R={};function C(O,G,Q){this.props=O,this.context=G,this.refs=R,this.updater=Q||w}C.prototype.isReactComponent={},C.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function T(){}T.prototype=C.prototype;function D(O,G,Q){this.props=O,this.context=G,this.refs=R,this.updater=Q||w}var A=D.prototype=new T;A.constructor=D,S(A,C.prototype),A.isPureReactComponent=!0;var $=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function J(O,G,Q,B,oe,Se){return Q=Se.ref,{$$typeof:e,type:O,key:G,ref:Q!==void 0?Q:null,props:Se}}function X(O,G){return J(O.type,G,void 0,void 0,void 0,O.props)}function ne(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function ee(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Q){return G[Q]})}var te=/\/+/g;function ie(O,G){return typeof O=="object"&&O!==null&&O.key!=null?ee(""+O.key):G.toString(36)}function de(){}function fe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(de,de):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function we(O,G,Q,B,oe){var Se=typeof O;(Se==="undefined"||Se==="boolean")&&(O=null);var ce=!1;if(O===null)ce=!0;else switch(Se){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(O.$$typeof){case e:case n:ce=!0;break;case v:return ce=O._init,we(ce(O._payload),G,Q,B,oe)}}if(ce)return oe=oe(O),ce=B===""?"."+ie(O,0):B,$(oe)?(Q="",ce!=null&&(Q=ce.replace(te,"$&/")+"/"),we(oe,G,Q,"",function(mt){return mt})):oe!=null&&(ne(oe)&&(oe=X(oe,Q+(oe.key==null||O&&O.key===oe.key?"":(""+oe.key).replace(te,"$&/")+"/")+ce)),G.push(oe)),1;ce=0;var Fe=B===""?".":B+":";if($(O))for(var ye=0;ye<O.length;ye++)B=O[ye],Se=Fe+ie(B,ye),ce+=we(B,G,Q,Se,oe);else if(ye=_(O),typeof ye=="function")for(O=ye.call(O),ye=0;!(B=O.next()).done;)B=B.value,Se=Fe+ie(B,ye++),ce+=we(B,G,Q,Se,oe);else if(Se==="object"){if(typeof O.then=="function")return we(fe(O),G,Q,B,oe);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ce}function L(O,G,Q){if(O==null)return O;var B=[],oe=0;return we(O,B,"","",function(Se){return G.call(Q,Se,oe++)}),B}function W(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(Q){(O._status===0||O._status===-1)&&(O._status=1,O._result=Q)},function(Q){(O._status===0||O._status===-1)&&(O._status=2,O._result=Q)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var ae=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function se(){}return De.Children={map:L,forEach:function(O,G,Q){L(O,function(){G.apply(this,arguments)},Q)},count:function(O){var G=0;return L(O,function(){G++}),G},toArray:function(O){return L(O,function(G){return G})||[]},only:function(O){if(!ne(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},De.Component=C,De.Fragment=r,De.Profiler=l,De.PureComponent=D,De.StrictMode=i,De.Suspense=h,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,De.__COMPILER_RUNTIME={__proto__:null,c:function(O){return U.H.useMemoCache(O)}},De.cache=function(O){return function(){return O.apply(null,arguments)}},De.cloneElement=function(O,G,Q){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var B=S({},O.props),oe=O.key,Se=void 0;if(G!=null)for(ce in G.ref!==void 0&&(Se=void 0),G.key!==void 0&&(oe=""+G.key),G)!Z.call(G,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&G.ref===void 0||(B[ce]=G[ce]);var ce=arguments.length-2;if(ce===1)B.children=Q;else if(1<ce){for(var Fe=Array(ce),ye=0;ye<ce;ye++)Fe[ye]=arguments[ye+2];B.children=Fe}return J(O.type,oe,void 0,void 0,Se,B)},De.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},De.createElement=function(O,G,Q){var B,oe={},Se=null;if(G!=null)for(B in G.key!==void 0&&(Se=""+G.key),G)Z.call(G,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(oe[B]=G[B]);var ce=arguments.length-2;if(ce===1)oe.children=Q;else if(1<ce){for(var Fe=Array(ce),ye=0;ye<ce;ye++)Fe[ye]=arguments[ye+2];oe.children=Fe}if(O&&O.defaultProps)for(B in ce=O.defaultProps,ce)oe[B]===void 0&&(oe[B]=ce[B]);return J(O,Se,void 0,void 0,null,oe)},De.createRef=function(){return{current:null}},De.forwardRef=function(O){return{$$typeof:f,render:O}},De.isValidElement=ne,De.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:W}},De.memo=function(O,G){return{$$typeof:m,type:O,compare:G===void 0?null:G}},De.startTransition=function(O){var G=U.T,Q={};U.T=Q;try{var B=O(),oe=U.S;oe!==null&&oe(Q,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(se,ae)}catch(Se){ae(Se)}finally{U.T=G}},De.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},De.use=function(O){return U.H.use(O)},De.useActionState=function(O,G,Q){return U.H.useActionState(O,G,Q)},De.useCallback=function(O,G){return U.H.useCallback(O,G)},De.useContext=function(O){return U.H.useContext(O)},De.useDebugValue=function(){},De.useDeferredValue=function(O,G){return U.H.useDeferredValue(O,G)},De.useEffect=function(O,G,Q){var B=U.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return B.useEffect(O,G)},De.useId=function(){return U.H.useId()},De.useImperativeHandle=function(O,G,Q){return U.H.useImperativeHandle(O,G,Q)},De.useInsertionEffect=function(O,G){return U.H.useInsertionEffect(O,G)},De.useLayoutEffect=function(O,G){return U.H.useLayoutEffect(O,G)},De.useMemo=function(O,G){return U.H.useMemo(O,G)},De.useOptimistic=function(O,G){return U.H.useOptimistic(O,G)},De.useReducer=function(O,G,Q){return U.H.useReducer(O,G,Q)},De.useRef=function(O){return U.H.useRef(O)},De.useState=function(O){return U.H.useState(O)},De.useSyncExternalStore=function(O,G,Q){return U.H.useSyncExternalStore(O,G,Q)},De.useTransition=function(){return U.H.useTransition()},De.version="19.1.1",De}var Ev;function rh(){return Ev||(Ev=1,rf.exports=Vw()),rf.exports}var x=rh();const Ne=ah(x);var sf={exports:{}},ll={},lf={exports:{}},of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function qw(){return xv||(xv=1,(function(e){function n(L,W){var ae=L.length;L.push(W);e:for(;0<ae;){var se=ae-1>>>1,O=L[se];if(0<l(O,W))L[se]=W,L[ae]=O,ae=se;else break e}}function r(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var W=L[0],ae=L.pop();if(ae!==W){L[0]=ae;e:for(var se=0,O=L.length,G=O>>>1;se<G;){var Q=2*(se+1)-1,B=L[Q],oe=Q+1,Se=L[oe];if(0>l(B,ae))oe<O&&0>l(Se,B)?(L[se]=Se,L[oe]=ae,se=oe):(L[se]=B,L[Q]=ae,se=Q);else if(oe<O&&0>l(Se,ae))L[se]=Se,L[oe]=ae,se=oe;else break e}}return W}function l(L,W){var ae=L.sortIndex-W.sortIndex;return ae!==0?ae:L.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var h=[],m=[],v=1,y=null,_=3,w=!1,S=!1,R=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function $(L){for(var W=r(m);W!==null;){if(W.callback===null)i(m);else if(W.startTime<=L)i(m),W.sortIndex=W.expirationTime,n(h,W);else break;W=r(m)}}function U(L){if(R=!1,$(L),!S)if(r(h)!==null)S=!0,Z||(Z=!0,ie());else{var W=r(m);W!==null&&we(U,W.startTime-L)}}var Z=!1,J=-1,X=5,ne=-1;function ee(){return C?!0:!(e.unstable_now()-ne<X)}function te(){if(C=!1,Z){var L=e.unstable_now();ne=L;var W=!0;try{e:{S=!1,R&&(R=!1,D(J),J=-1),w=!0;var ae=_;try{t:{for($(L),y=r(h);y!==null&&!(y.expirationTime>L&&ee());){var se=y.callback;if(typeof se=="function"){y.callback=null,_=y.priorityLevel;var O=se(y.expirationTime<=L);if(L=e.unstable_now(),typeof O=="function"){y.callback=O,$(L),W=!0;break t}y===r(h)&&i(h),$(L)}else i(h);y=r(h)}if(y!==null)W=!0;else{var G=r(m);G!==null&&we(U,G.startTime-L),W=!1}}break e}finally{y=null,_=ae,w=!1}W=void 0}}finally{W?ie():Z=!1}}}var ie;if(typeof A=="function")ie=function(){A(te)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,fe=de.port2;de.port1.onmessage=te,ie=function(){fe.postMessage(null)}}else ie=function(){T(te,0)};function we(L,W){J=T(function(){L(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(L){switch(_){case 1:case 2:case 3:var W=3;break;default:W=_}var ae=_;_=W;try{return L()}finally{_=ae}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ae=_;_=L;try{return W()}finally{_=ae}},e.unstable_scheduleCallback=function(L,W,ae){var se=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?se+ae:se):ae=se,L){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ae+O,L={id:v++,callback:W,priorityLevel:L,startTime:ae,expirationTime:O,sortIndex:-1},ae>se?(L.sortIndex=ae,n(m,L),r(h)===null&&L===r(m)&&(R?(D(J),J=-1):R=!0,we(U,ae-se))):(L.sortIndex=O,n(h,L),S||w||(S=!0,Z||(Z=!0,ie()))),L},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(L){var W=_;return function(){var ae=_;_=W;try{return L.apply(this,arguments)}finally{_=ae}}}})(of)),of}var Rv;function Gw(){return Rv||(Rv=1,lf.exports=qw()),lf.exports}var uf={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function Yw(){if(Cv)return Xt;Cv=1;var e=rh();function n(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(h,m,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:h,containerInfo:m,implementation:v}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xt.createPortal=function(h,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return o(h,m,null,v)},Xt.flushSync=function(h){var m=c.T,v=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=m,i.p=v,i.d.f()}},Xt.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},Xt.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Xt.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var v=m.as,y=f(v,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:w}):v==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Xt.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=f(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},Xt.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,y=f(v,m.crossOrigin);i.d.L(h,v,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Xt.preloadModule=function(h,m){if(typeof h=="string")if(m){var v=f(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},Xt.requestFormReset=function(h){i.d.r(h)},Xt.unstable_batchedUpdates=function(h,m){return h(m)},Xt.useFormState=function(h,m,v){return c.H.useFormState(h,m,v)},Xt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Xt.version="19.1.1",Xt}var Tv;function Qy(){if(Tv)return uf.exports;Tv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),uf.exports=Yw(),uf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function Kw(){if(Av)return ll;Av=1;var e=Gw(),n=rh(),r=Qy();function i(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function c(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function f(t){if(o(t)!==t)throw Error(i(188))}function h(t){var a=t.alternate;if(!a){if(a=o(t),a===null)throw Error(i(188));return a!==t?null:t}for(var s=t,u=a;;){var d=s.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){s=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===s)return f(d),t;if(g===u)return f(d),a;g=g.sibling}throw Error(i(188))}if(s.return!==u.return)s=d,u=g;else{for(var b=!1,E=d.child;E;){if(E===s){b=!0,s=d,u=g;break}if(E===u){b=!0,u=d,s=g;break}E=E.sibling}if(!b){for(E=g.child;E;){if(E===s){b=!0,s=g,u=d;break}if(E===u){b=!0,u=g,s=d;break}E=E.sibling}if(!b)throw Error(i(189))}}if(s.alternate!==u)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:a}function m(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=m(t),a!==null)return a;t=t.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),A=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function ie(t){return t===null||typeof t!="object"?null:(t=te&&t[te]||t["@@iterator"],typeof t=="function"?t:null)}var de=Symbol.for("react.client.reference");function fe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===de?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case C:return"Profiler";case R:return"StrictMode";case U:return"Suspense";case Z:return"SuspenseList";case ne:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case A:return(t.displayName||"Context")+".Provider";case D:return(t._context.displayName||"Context")+".Consumer";case $:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return a=t.displayName||null,a!==null?a:fe(t.type)||"Memo";case X:a=t._payload,t=t._init;try{return fe(t(a))}catch{}}return null}var we=Array.isArray,L=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},se=[],O=-1;function G(t){return{current:t}}function Q(t){0>O||(t.current=se[O],se[O]=null,O--)}function B(t,a){O++,se[O]=t.current,t.current=a}var oe=G(null),Se=G(null),ce=G(null),Fe=G(null);function ye(t,a){switch(B(ce,a),B(Se,t),B(oe,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?Kp(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=Kp(a),t=Xp(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(oe),B(oe,t)}function mt(){Q(oe),Q(Se),Q(ce)}function at(t){t.memoizedState!==null&&B(Fe,t);var a=oe.current,s=Xp(a,t.type);a!==s&&(B(Se,t),B(oe,s))}function sn(t){Se.current===t&&(Q(oe),Q(Se)),Fe.current===t&&(Q(Fe),tl._currentValue=ae)}var _t=Object.prototype.hasOwnProperty,Va=e.unstable_scheduleCallback,ln=e.unstable_cancelCallback,ha=e.unstable_shouldYield,Jn=e.unstable_requestPaint,Jt=e.unstable_now,ds=e.unstable_getCurrentPriorityLevel,ga=e.unstable_ImmediatePriority,j=e.unstable_UserBlockingPriority,H=e.unstable_NormalPriority,V=e.unstable_LowPriority,ue=e.unstable_IdlePriority,le=e.log,re=e.unstable_setDisableYieldValue,ge=null,_e=null;function Ae(t){if(typeof le=="function"&&re(t),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(ge,t)}catch{}}var ze=Math.clz32?Math.clz32:Jr,ma=Math.log,Rt=Math.LN2;function Jr(t){return t>>>=0,t===0?32:31-(ma(t)/Rt|0)|0}var ea=256,ta=4194304;function hn(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function na(t,a,s){var u=t.pendingLanes;if(u===0)return 0;var d=0,g=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var E=u&134217727;return E!==0?(u=E&~g,u!==0?d=hn(u):(b&=E,b!==0?d=hn(b):s||(s=E&~t,s!==0&&(d=hn(s))))):(E=u&~g,E!==0?d=hn(E):b!==0?d=hn(b):s||(s=u&~t,s!==0&&(d=hn(s)))),d===0?0:a!==0&&a!==d&&(a&g)===0&&(g=d&-d,s=a&-a,g>=s||g===32&&(s&4194048)!==0)?a:d}function pa(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Rr(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kl(){var t=ea;return ea<<=1,(ea&4194048)===0&&(ea=256),t}function Xl(){var t=ta;return ta<<=1,(ta&62914560)===0&&(ta=4194304),t}function fs(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function ft(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function en(t,a,s,u,d,g){var b=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,F=t.hiddenUpdates;for(s=b&~s;0<s;){var q=31-ze(s),K=1<<q;E[q]=0,N[q]=-1;var z=F[q];if(z!==null)for(F[q]=null,q=0;q<z.length;q++){var I=z[q];I!==null&&(I.lane&=-536870913)}s&=~K}u!==0&&qt(t,u,0),g!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=g&~(b&~a))}function qt(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var u=31-ze(a);t.entangledLanes|=a,t.entanglements[u]=t.entanglements[u]|1073741824|s&4194090}function Hn(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var u=31-ze(s),d=1<<u;d&a|t[u]&a&&(t[u]|=a),s&=~d}}function Gt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gn(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:gv(t.type))}function qa(t,a){var s=W.p;try{return W.p=t,a()}finally{W.p=s}}var et=Math.random().toString(36).slice(2),rt="__reactFiber$"+et,it="__reactProps$"+et,Yt="__reactContainer$"+et,va="__reactEvents$"+et,Cr="__reactListeners$"+et,aa="__reactHandles$"+et,Ga="__reactResources$"+et,ya="__reactMarker$"+et;function Wu(t){delete t[rt],delete t[it],delete t[va],delete t[Cr],delete t[aa]}function ei(t){var a=t[rt];if(a)return a;for(var s=t.parentNode;s;){if(a=s[Yt]||s[rt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=Jp(t);t!==null;){if(s=t[rt])return s;t=Jp(t)}return a}t=s,s=t.parentNode}return null}function ti(t){if(t=t[rt]||t[Yt]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function hs(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(i(33))}function ni(t){var a=t[Ga];return a||(a=t[Ga]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function jt(t){t[ya]=!0}var Ph=new Set,Hh={};function Tr(t,a){ai(t,a),ai(t+"Capture",a)}function ai(t,a){for(Hh[t]=a,t=0;t<a.length;t++)Ph.add(a[t])}var Mb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fh={},zh={};function kb(t){return _t.call(zh,t)?!0:_t.call(Fh,t)?!1:Mb.test(t)?zh[t]=!0:(Fh[t]=!0,!1)}function Wl(t,a,s){if(kb(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function Ql(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function _a(t,a,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+u)}}var Qu,Ih;function ri(t){if(Qu===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Qu=a&&a[1]||"",Ih=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qu+t+Ih}var Zu=!1;function Ju(t,a){if(!t||Zu)return"";Zu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(I){var z=I}Reflect.construct(t,[],K)}else{try{K.call()}catch(I){z=I}t.call(K.prototype)}}else{try{throw Error()}catch(I){z=I}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(I){if(I&&z&&typeof I.stack=="string")return[I.stack,z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],E=g[1];if(b&&E){var N=b.split(`
`),F=E.split(`
`);for(d=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(u===N.length||d===F.length)for(u=N.length-1,d=F.length-1;1<=u&&0<=d&&N[u]!==F[d];)d--;for(;1<=u&&0<=d;u--,d--)if(N[u]!==F[d]){if(u!==1||d!==1)do if(u--,d--,0>d||N[u]!==F[d]){var q=`
`+N[u].replace(" at new "," at ");return t.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",t.displayName)),q}while(1<=u&&0<=d);break}}}finally{Zu=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ri(s):""}function Ub(t){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return Ju(t.type,!1);case 11:return Ju(t.type.render,!1);case 1:return Ju(t.type,!0);case 31:return ri("Activity");default:return""}}function $h(t){try{var a="";do a+=Ub(t),t=t.return;while(t);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bh(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Lb(t){var a=Bh(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),u=""+t[a];if(!t.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,g=s.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return d.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(t,a,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Zl(t){t._valueTracker||(t._valueTracker=Lb(t))}function Vh(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),u="";return t&&(u=Bh(t)?t.checked?"true":"false":t.value),t=u,t!==s?(a.setValue(t),!0):!1}function Jl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Pb=/[\n"\\]/g;function Tn(t){return t.replace(Pb,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ec(t,a,s,u,d,g,b,E){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),a!=null?b==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Cn(a)):t.value!==""+Cn(a)&&(t.value=""+Cn(a)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),a!=null?tc(t,b,Cn(a)):s!=null?tc(t,b,Cn(s)):u!=null&&t.removeAttribute("value"),d==null&&g!=null&&(t.defaultChecked=!!g),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Cn(E):t.removeAttribute("name")}function qh(t,a,s,u,d,g,b,E){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),a!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;s=s!=null?""+Cn(s):"",a=a!=null?""+Cn(a):s,E||a===t.value||(t.value=a),t.defaultValue=a}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=E?t.checked:!!u,t.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function tc(t,a,s){a==="number"&&Jl(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ii(t,a,s,u){if(t=t.options,a){a={};for(var d=0;d<s.length;d++)a["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=a.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&u&&(t[s].defaultSelected=!0)}else{for(s=""+Cn(s),a=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}a!==null||t[d].disabled||(a=t[d])}a!==null&&(a.selected=!0)}}function Gh(t,a,s){if(a!=null&&(a=""+Cn(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+Cn(s):""}function Yh(t,a,s,u){if(a==null){if(u!=null){if(s!=null)throw Error(i(92));if(we(u)){if(1<u.length)throw Error(i(93));u=u[0]}s=u}s==null&&(s=""),a=s}s=Cn(a),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u)}function si(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var Hb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kh(t,a,s){var u=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":u?t.setProperty(a,s):typeof s!="number"||s===0||Hb.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function Xh(t,a,s){if(a!=null&&typeof a!="object")throw Error(i(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var d in a)u=a[d],a.hasOwnProperty(d)&&s[d]!==u&&Kh(t,d,u)}else for(var g in a)a.hasOwnProperty(g)&&Kh(t,g,a[g])}function nc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(t){return zb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ac=null;function rc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var li=null,oi=null;function Wh(t){var a=ti(t);if(a&&(t=a.stateNode)){var s=t[it]||null;e:switch(t=a.stateNode,a.type){case"input":if(ec(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Tn(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var u=s[a];if(u!==t&&u.form===t.form){var d=u[it]||null;if(!d)throw Error(i(90));ec(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<s.length;a++)u=s[a],u.form===t.form&&Vh(u)}break e;case"textarea":Gh(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&ii(t,!!s.multiple,a,!1)}}}var ic=!1;function Qh(t,a,s){if(ic)return t(a,s);ic=!0;try{var u=t(a);return u}finally{if(ic=!1,(li!==null||oi!==null)&&(zo(),li&&(a=li,t=oi,oi=li=null,Wh(a),t)))for(a=0;a<t.length;a++)Wh(t[a])}}function gs(t,a){var s=t.stateNode;if(s===null)return null;var u=s[it]||null;if(u===null)return null;s=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,a,typeof s));return s}var ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sc=!1;if(ba)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){sc=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{sc=!1}var Ya=null,lc=null,to=null;function Zh(){if(to)return to;var t,a=lc,s=a.length,u,d="value"in Ya?Ya.value:Ya.textContent,g=d.length;for(t=0;t<s&&a[t]===d[t];t++);var b=s-t;for(u=1;u<=b&&a[s-u]===d[g-u];u++);return to=d.slice(t,1<u?1-u:void 0)}function no(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function ao(){return!0}function Jh(){return!1}function on(t){function a(s,u,d,g,b){this._reactName=s,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ao:Jh,this.isPropagationStopped=Jh,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ao)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ao)},persist:function(){},isPersistent:ao}),a}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=on(Ar),ps=v({},Ar,{view:0,detail:0}),Ib=on(ps),oc,uc,vs,io=v({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vs&&(vs&&t.type==="mousemove"?(oc=t.screenX-vs.screenX,uc=t.screenY-vs.screenY):uc=oc=0,vs=t),oc)},movementY:function(t){return"movementY"in t?t.movementY:uc}}),eg=on(io),$b=v({},io,{dataTransfer:0}),Bb=on($b),Vb=v({},ps,{relatedTarget:0}),cc=on(Vb),qb=v({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Gb=on(qb),Yb=v({},Ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Kb=on(Yb),Xb=v({},Ar,{data:0}),tg=on(Xb),Wb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jb(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Zb[t])?!!a[t]:!1}function dc(){return Jb}var e0=v({},ps,{key:function(t){if(t.key){var a=Wb[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=no(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dc,charCode:function(t){return t.type==="keypress"?no(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?no(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),t0=on(e0),n0=v({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ng=on(n0),a0=v({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dc}),r0=on(a0),i0=v({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),s0=on(i0),l0=v({},io,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),o0=on(l0),u0=v({},Ar,{newState:0,oldState:0}),c0=on(u0),d0=[9,13,27,32],fc=ba&&"CompositionEvent"in window,ys=null;ba&&"documentMode"in document&&(ys=document.documentMode);var f0=ba&&"TextEvent"in window&&!ys,ag=ba&&(!fc||ys&&8<ys&&11>=ys),rg=" ",ig=!1;function sg(t,a){switch(t){case"keyup":return d0.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ui=!1;function h0(t,a){switch(t){case"compositionend":return lg(a);case"keypress":return a.which!==32?null:(ig=!0,rg);case"textInput":return t=a.data,t===rg&&ig?null:t;default:return null}}function g0(t,a){if(ui)return t==="compositionend"||!fc&&sg(t,a)?(t=Zh(),to=lc=Ya=null,ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ag&&a.locale!=="ko"?null:a.data;default:return null}}var m0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function og(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!m0[t.type]:a==="textarea"}function ug(t,a,s,u){li?oi?oi.push(u):oi=[u]:li=u,a=Go(a,"onChange"),0<a.length&&(s=new ro("onChange","change",null,s,u),t.push({event:s,listeners:a}))}var _s=null,bs=null;function p0(t){Bp(t,0)}function so(t){var a=hs(t);if(Vh(a))return t}function cg(t,a){if(t==="change")return a}var dg=!1;if(ba){var hc;if(ba){var gc="oninput"in document;if(!gc){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),gc=typeof fg.oninput=="function"}hc=gc}else hc=!1;dg=hc&&(!document.documentMode||9<document.documentMode)}function hg(){_s&&(_s.detachEvent("onpropertychange",gg),bs=_s=null)}function gg(t){if(t.propertyName==="value"&&so(bs)){var a=[];ug(a,bs,t,rc(t)),Qh(p0,a)}}function v0(t,a,s){t==="focusin"?(hg(),_s=a,bs=s,_s.attachEvent("onpropertychange",gg)):t==="focusout"&&hg()}function y0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return so(bs)}function _0(t,a){if(t==="click")return so(a)}function b0(t,a){if(t==="input"||t==="change")return so(a)}function w0(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var mn=typeof Object.is=="function"?Object.is:w0;function ws(t,a){if(mn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),u=Object.keys(a);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var d=s[u];if(!_t.call(a,d)||!mn(t[d],a[d]))return!1}return!0}function mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pg(t,a){var s=mg(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=a&&u>=a)return{node:s,offset:a-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=mg(s)}}function vg(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?vg(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function yg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Jl(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=Jl(t.document)}return a}function mc(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var S0=ba&&"documentMode"in document&&11>=document.documentMode,ci=null,pc=null,Ss=null,vc=!1;function _g(t,a,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;vc||ci==null||ci!==Jl(u)||(u=ci,"selectionStart"in u&&mc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ss&&ws(Ss,u)||(Ss=u,u=Go(pc,"onSelect"),0<u.length&&(a=new ro("onSelect","select",null,a,s),t.push({event:a,listeners:u}),a.target=ci)))}function Or(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var di={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},yc={},bg={};ba&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function Dr(t){if(yc[t])return yc[t];if(!di[t])return t;var a=di[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in bg)return yc[t]=a[s];return t}var wg=Dr("animationend"),Sg=Dr("animationiteration"),Eg=Dr("animationstart"),E0=Dr("transitionrun"),x0=Dr("transitionstart"),R0=Dr("transitioncancel"),xg=Dr("transitionend"),Rg=new Map,_c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_c.push("scrollEnd");function Fn(t,a){Rg.set(t,a),Tr(a,[t])}var Cg=new WeakMap;function An(t,a){if(typeof t=="object"&&t!==null){var s=Cg.get(t);return s!==void 0?s:(a={value:t,source:a,stack:$h(a)},Cg.set(t,a),a)}return{value:t,source:a,stack:$h(a)}}var On=[],fi=0,bc=0;function lo(){for(var t=fi,a=bc=fi=0;a<t;){var s=On[a];On[a++]=null;var u=On[a];On[a++]=null;var d=On[a];On[a++]=null;var g=On[a];if(On[a++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}g!==0&&Tg(s,d,g)}}function oo(t,a,s,u){On[fi++]=t,On[fi++]=a,On[fi++]=s,On[fi++]=u,bc|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function wc(t,a,s,u){return oo(t,a,s,u),uo(t)}function hi(t,a){return oo(t,null,null,a),uo(t)}function Tg(t,a,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var d=!1,g=t.return;g!==null;)g.childLanes|=s,u=g.alternate,u!==null&&(u.childLanes|=s),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(d=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,d&&a!==null&&(d=31-ze(s),t=g.hiddenUpdates,u=t[d],u===null?t[d]=[a]:u.push(a),a.lane=s|536870912),g):null}function uo(t){if(50<Ys)throw Ys=0,Td=null,Error(i(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var gi={};function C0(t,a,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,a,s,u){return new C0(t,a,s,u)}function Sc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wa(t,a){var s=t.alternate;return s===null?(s=pn(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ag(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function co(t,a,s,u,d,g){var b=0;if(u=t,typeof t=="function")Sc(t)&&(b=1);else if(typeof t=="string")b=Aw(t,s,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ne:return t=pn(31,s,a,d),t.elementType=ne,t.lanes=g,t;case S:return Nr(s.children,d,g,a);case R:b=8,d|=24;break;case C:return t=pn(12,s,a,d|2),t.elementType=C,t.lanes=g,t;case U:return t=pn(13,s,a,d),t.elementType=U,t.lanes=g,t;case Z:return t=pn(19,s,a,d),t.elementType=Z,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T:case A:b=10;break e;case D:b=9;break e;case $:b=11;break e;case J:b=14;break e;case X:b=16,u=null;break e}b=29,s=Error(i(130,t===null?"null":typeof t,"")),u=null}return a=pn(b,s,a,d),a.elementType=t,a.type=u,a.lanes=g,a}function Nr(t,a,s,u){return t=pn(7,t,u,a),t.lanes=s,t}function Ec(t,a,s){return t=pn(6,t,null,a),t.lanes=s,t}function xc(t,a,s){return a=pn(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var mi=[],pi=0,fo=null,ho=0,Dn=[],Nn=0,jr=null,Sa=1,Ea="";function Mr(t,a){mi[pi++]=ho,mi[pi++]=fo,fo=t,ho=a}function Og(t,a,s){Dn[Nn++]=Sa,Dn[Nn++]=Ea,Dn[Nn++]=jr,jr=t;var u=Sa;t=Ea;var d=32-ze(u)-1;u&=~(1<<d),s+=1;var g=32-ze(a)+d;if(30<g){var b=d-d%5;g=(u&(1<<b)-1).toString(32),u>>=b,d-=b,Sa=1<<32-ze(a)+d|s<<d|u,Ea=g+t}else Sa=1<<g|s<<d|u,Ea=t}function Rc(t){t.return!==null&&(Mr(t,1),Og(t,1,0))}function Cc(t){for(;t===fo;)fo=mi[--pi],mi[pi]=null,ho=mi[--pi],mi[pi]=null;for(;t===jr;)jr=Dn[--Nn],Dn[Nn]=null,Ea=Dn[--Nn],Dn[Nn]=null,Sa=Dn[--Nn],Dn[Nn]=null}var tn=null,ht=null,Be=!1,kr=null,ra=!1,Tc=Error(i(519));function Ur(t){var a=Error(i(418,""));throw Rs(An(a,t)),Tc}function Dg(t){var a=t.stateNode,s=t.type,u=t.memoizedProps;switch(a[rt]=t,a[it]=u,s){case"dialog":Ue("cancel",a),Ue("close",a);break;case"iframe":case"object":case"embed":Ue("load",a);break;case"video":case"audio":for(s=0;s<Xs.length;s++)Ue(Xs[s],a);break;case"source":Ue("error",a);break;case"img":case"image":case"link":Ue("error",a),Ue("load",a);break;case"details":Ue("toggle",a);break;case"input":Ue("invalid",a),qh(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Zl(a);break;case"select":Ue("invalid",a);break;case"textarea":Ue("invalid",a),Yh(a,u.value,u.defaultValue,u.children),Zl(a)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||u.suppressHydrationWarning===!0||Yp(a.textContent,s)?(u.popover!=null&&(Ue("beforetoggle",a),Ue("toggle",a)),u.onScroll!=null&&Ue("scroll",a),u.onScrollEnd!=null&&Ue("scrollend",a),u.onClick!=null&&(a.onclick=Yo),a=!0):a=!1,a||Ur(t)}function Ng(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:ra=!1;return;case 27:case 3:ra=!0;return;default:tn=tn.return}}function Es(t){if(t!==tn)return!1;if(!Be)return Ng(t),Be=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Bd(t.type,t.memoizedProps)),s=!s),s&&ht&&Ur(t),Ng(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(a===0){ht=In(t.nextSibling);break e}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;t=t.nextSibling}ht=null}}else a===27?(a=ht,ur(t.type)?(t=Yd,Yd=null,ht=t):ht=a):ht=tn?In(t.stateNode.nextSibling):null;return!0}function xs(){ht=tn=null,Be=!1}function jg(){var t=kr;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),kr=null),t}function Rs(t){kr===null?kr=[t]:kr.push(t)}var Ac=G(null),Lr=null,xa=null;function Ka(t,a,s){B(Ac,a._currentValue),a._currentValue=s}function Ra(t){t._currentValue=Ac.current,Q(Ac)}function Oc(t,a,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),t===s)break;t=t.return}}function Dc(t,a,s,u){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;e:for(;g!==null;){var E=g;g=d;for(var N=0;N<a.length;N++)if(E.context===a[N]){g.lanes|=s,E=g.alternate,E!==null&&(E.lanes|=s),Oc(g.return,s,t),u||(b=null);break e}g=E.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=s,g=b.alternate,g!==null&&(g.lanes|=s),Oc(b,s,t),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===t){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Cs(t,a,s,u){t=null;for(var d=a,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var E=d.type;mn(d.pendingProps.value,b.value)||(t!==null?t.push(E):t=[E])}}else if(d===Fe.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(tl):t=[tl])}d=d.return}t!==null&&Dc(a,t,s,u),a.flags|=262144}function go(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pr(t){Lr=t,xa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Mg(Lr,t)}function mo(t,a){return Lr===null&&Pr(t),Mg(t,a)}function Mg(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},xa===null){if(t===null)throw Error(i(308));xa=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else xa=xa.next=a;return s}var T0=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},A0=e.unstable_scheduleCallback,O0=e.unstable_NormalPriority,Ct={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nc(){return{controller:new T0,data:new Map,refCount:0}}function Ts(t){t.refCount--,t.refCount===0&&A0(O0,function(){t.controller.abort()})}var As=null,jc=0,vi=0,yi=null;function D0(t,a){if(As===null){var s=As=[];jc=0,vi=kd(),yi={status:"pending",value:void 0,then:function(u){s.push(u)}}}return jc++,a.then(kg,kg),a}function kg(){if(--jc===0&&As!==null){yi!==null&&(yi.status="fulfilled");var t=As;As=null,vi=0,yi=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function N0(t,a){var s=[],u={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){u.status="fulfilled",u.value=a;for(var d=0;d<s.length;d++)(0,s[d])(a)},function(d){for(u.status="rejected",u.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),u}var Ug=L.S;L.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&D0(t,a),Ug!==null&&Ug(t,a)};var Hr=G(null);function Mc(){var t=Hr.current;return t!==null?t:tt.pooledCache}function po(t,a){a===null?B(Hr,Hr.current):B(Hr,a.pool)}function Lg(){var t=Mc();return t===null?null:{parent:Ct._currentValue,pool:t}}var Os=Error(i(460)),Pg=Error(i(474)),vo=Error(i(542)),kc={then:function(){}};function Hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yo(){}function Fg(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(yo,yo),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Ig(t),t;default:if(typeof a.status=="string")a.then(yo,yo);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=a,t.status="pending",t.then(function(u){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=u}},function(u){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Ig(t),t}throw Ds=a,Os}}var Ds=null;function zg(){if(Ds===null)throw Error(i(459));var t=Ds;return Ds=null,t}function Ig(t){if(t===Os||t===vo)throw Error(i(483))}var Xa=!1;function Uc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lc(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qa(t,a,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ve&2)!==0){var d=u.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a,a=uo(t),Tg(t,null,s),a}return oo(t,u,a,s),uo(t)}function Ns(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var u=a.lanes;u&=t.pendingLanes,s|=u,a.lanes=s,Hn(t,s)}}function Pc(t,a){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var d=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,s=s.next}while(s!==null);g===null?d=g=a:g=g.next=a}else d=g=a;s={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var Hc=!1;function js(){if(Hc){var t=yi;if(t!==null)throw t}}function Ms(t,a,s,u){Hc=!1;var d=t.updateQueue;Xa=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var N=E,F=N.next;N.next=null,b===null?g=F:b.next=F,b=N;var q=t.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==b&&(E===null?q.firstBaseUpdate=F:E.next=F,q.lastBaseUpdate=N))}if(g!==null){var K=d.baseState;b=0,q=F=N=null,E=g;do{var z=E.lane&-536870913,I=z!==E.lane;if(I?(He&z)===z:(u&z)===z){z!==0&&z===vi&&(Hc=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ee=t,ve=E;z=a;var Xe=s;switch(ve.tag){case 1:if(Ee=ve.payload,typeof Ee=="function"){K=Ee.call(Xe,K,z);break e}K=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ve.payload,z=typeof Ee=="function"?Ee.call(Xe,K,z):Ee,z==null)break e;K=v({},K,z);break e;case 2:Xa=!0}}z=E.callback,z!==null&&(t.flags|=64,I&&(t.flags|=8192),I=d.callbacks,I===null?d.callbacks=[z]:I.push(z))}else I={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(F=q=I,N=K):q=q.next=I,b|=z;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;I=E,E=I.next,I.next=null,d.lastBaseUpdate=I,d.shared.pending=null}}while(!0);q===null&&(N=K),d.baseState=N,d.firstBaseUpdate=F,d.lastBaseUpdate=q,g===null&&(d.shared.lanes=0),ir|=b,t.lanes=b,t.memoizedState=K}}function $g(t,a){if(typeof t!="function")throw Error(i(191,t));t.call(a)}function Bg(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)$g(s[t],a)}var _i=G(null),_o=G(0);function Vg(t,a){t=ja,B(_o,t),B(_i,a),ja=t|a.baseLanes}function Fc(){B(_o,ja),B(_i,_i.current)}function zc(){ja=_o.current,Q(_i),Q(_o)}var Za=0,je=null,Ye=null,bt=null,bo=!1,bi=!1,Fr=!1,wo=0,ks=0,wi=null,j0=0;function pt(){throw Error(i(321))}function Ic(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!mn(t[s],a[s]))return!1;return!0}function $c(t,a,s,u,d,g){return Za=g,je=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,L.H=t===null||t.memoizedState===null?Tm:Am,Fr=!1,g=s(u,d),Fr=!1,bi&&(g=Gg(a,s,u,d)),qg(t),g}function qg(t){L.H=To;var a=Ye!==null&&Ye.next!==null;if(Za=0,bt=Ye=je=null,bo=!1,ks=0,wi=null,a)throw Error(i(300));t===null||Mt||(t=t.dependencies,t!==null&&go(t)&&(Mt=!0))}function Gg(t,a,s,u){je=t;var d=0;do{if(bi&&(wi=null),ks=0,bi=!1,25<=d)throw Error(i(301));if(d+=1,bt=Ye=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}L.H=F0,g=a(s,u)}while(bi);return g}function M0(){var t=L.H,a=t.useState()[0];return a=typeof a.then=="function"?Us(a):a,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(je.flags|=1024),a}function Bc(){var t=wo!==0;return wo=0,t}function Vc(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function qc(t){if(bo){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}bo=!1}Za=0,bt=Ye=je=null,bi=!1,ks=wo=0,wi=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?je.memoizedState=bt=t:bt=bt.next=t,bt}function wt(){if(Ye===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var a=bt===null?je.memoizedState:bt.next;if(a!==null)bt=a,Ye=t;else{if(t===null)throw je.alternate===null?Error(i(467)):Error(i(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},bt===null?je.memoizedState=bt=t:bt=bt.next=t}return bt}function Gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Us(t){var a=ks;return ks+=1,wi===null&&(wi=[]),t=Fg(wi,t,a),a=je,(bt===null?a.memoizedState:bt.next)===null&&(a=a.alternate,L.H=a===null||a.memoizedState===null?Tm:Am),t}function So(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Us(t);if(t.$$typeof===A)return Kt(t)}throw Error(i(438,String(t)))}function Yc(t){var a=null,s=je.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var u=je.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Gc(),je.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),u=0;u<t;u++)s[u]=ee;return a.index++,s}function Ca(t,a){return typeof a=="function"?a(t):a}function Eo(t){var a=wt();return Kc(a,Ye,t)}function Kc(t,a,s){var u=t.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var d=t.baseQueue,g=u.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}a.baseQueue=d=g,u.pending=null}if(g=t.baseState,d===null)t.memoizedState=g;else{a=d.next;var E=b=null,N=null,F=a,q=!1;do{var K=F.lane&-536870913;if(K!==F.lane?(He&K)===K:(Za&K)===K){var z=F.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),K===vi&&(q=!0);else if((Za&z)===z){F=F.next,z===vi&&(q=!0);continue}else K={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(E=N=K,b=g):N=N.next=K,je.lanes|=z,ir|=z;K=F.action,Fr&&s(g,K),g=F.hasEagerState?F.eagerState:s(g,K)}else z={lane:K,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(E=N=z,b=g):N=N.next=z,je.lanes|=K,ir|=K;F=F.next}while(F!==null&&F!==a);if(N===null?b=g:N.next=E,!mn(g,t.memoizedState)&&(Mt=!0,q&&(s=yi,s!==null)))throw s;t.memoizedState=g,t.baseState=b,t.baseQueue=N,u.lastRenderedState=g}return d===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Xc(t){var a=wt(),s=a.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var u=s.dispatch,d=s.pending,g=a.memoizedState;if(d!==null){s.pending=null;var b=d=d.next;do g=t(g,b.action),b=b.next;while(b!==d);mn(g,a.memoizedState)||(Mt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),s.lastRenderedState=g}return[g,u]}function Yg(t,a,s){var u=je,d=wt(),g=Be;if(g){if(s===void 0)throw Error(i(407));s=s()}else s=a();var b=!mn((Ye||d).memoizedState,s);b&&(d.memoizedState=s,Mt=!0),d=d.queue;var E=Wg.bind(null,u,d,t);if(Ls(2048,8,E,[t]),d.getSnapshot!==a||b||bt!==null&&bt.memoizedState.tag&1){if(u.flags|=2048,Si(9,xo(),Xg.bind(null,u,d,s,a),null),tt===null)throw Error(i(349));g||(Za&124)!==0||Kg(u,a,s)}return s}function Kg(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=je.updateQueue,a===null?(a=Gc(),je.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function Xg(t,a,s,u){a.value=s,a.getSnapshot=u,Qg(a)&&Zg(t)}function Wg(t,a,s){return s(function(){Qg(a)&&Zg(t)})}function Qg(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!mn(t,s)}catch{return!0}}function Zg(t){var a=hi(t,2);a!==null&&wn(a,t,2)}function Wc(t){var a=un();if(typeof t=="function"){var s=t;if(t=s(),Fr){Ae(!0);try{s()}finally{Ae(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},a}function Jg(t,a,s,u){return t.baseState=s,Kc(t,Ye,typeof u=="function"?u:Ca)}function k0(t,a,s,u,d){if(Co(t))throw Error(i(485));if(t=a.action,t!==null){var g={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};L.T!==null?s(!0):g.isTransition=!1,u(g),s=a.pending,s===null?(g.next=a.pending=g,em(a,g)):(g.next=s.next,a.pending=s.next=g)}}function em(t,a){var s=a.action,u=a.payload,d=t.state;if(a.isTransition){var g=L.T,b={};L.T=b;try{var E=s(d,u),N=L.S;N!==null&&N(b,E),tm(t,a,E)}catch(F){Qc(t,a,F)}finally{L.T=g}}else try{g=s(d,u),tm(t,a,g)}catch(F){Qc(t,a,F)}}function tm(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){nm(t,a,u)},function(u){return Qc(t,a,u)}):nm(t,a,s)}function nm(t,a,s){a.status="fulfilled",a.value=s,am(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,em(t,s)))}function Qc(t,a,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=s,am(a),a=a.next;while(a!==u)}t.action=null}function am(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function rm(t,a){return a}function im(t,a){if(Be){var s=tt.formState;if(s!==null){e:{var u=je;if(Be){if(ht){t:{for(var d=ht,g=ra;d.nodeType!==8;){if(!g){d=null;break t}if(d=In(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ht=In(d.nextSibling),u=d.data==="F!";break e}}Ur(u)}u=!1}u&&(a=s[0])}}return s=un(),s.memoizedState=s.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rm,lastRenderedState:a},s.queue=u,s=xm.bind(null,je,u),u.dispatch=s,u=Wc(!1),g=nd.bind(null,je,!1,u.queue),u=un(),d={state:a,dispatch:null,action:t,pending:null},u.queue=d,s=k0.bind(null,je,d,g,s),d.dispatch=s,u.memoizedState=t,[a,s,!1]}function sm(t){var a=wt();return lm(a,Ye,t)}function lm(t,a,s){if(a=Kc(t,a,rm)[0],t=Eo(Ca)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Us(a)}catch(b){throw b===Os?vo:b}else u=a;a=wt();var d=a.queue,g=d.dispatch;return s!==a.memoizedState&&(je.flags|=2048,Si(9,xo(),U0.bind(null,d,s),null)),[u,g,t]}function U0(t,a){t.action=a}function om(t){var a=wt(),s=Ye;if(s!==null)return lm(a,s,t);wt(),a=a.memoizedState,s=wt();var u=s.queue.dispatch;return s.memoizedState=t,[a,u,!1]}function Si(t,a,s,u){return t={tag:t,create:s,deps:u,inst:a,next:null},a=je.updateQueue,a===null&&(a=Gc(),je.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,a.lastEffect=t),t}function xo(){return{destroy:void 0,resource:void 0}}function um(){return wt().memoizedState}function Ro(t,a,s,u){var d=un();u=u===void 0?null:u,je.flags|=t,d.memoizedState=Si(1|a,xo(),s,u)}function Ls(t,a,s,u){var d=wt();u=u===void 0?null:u;var g=d.memoizedState.inst;Ye!==null&&u!==null&&Ic(u,Ye.memoizedState.deps)?d.memoizedState=Si(a,g,s,u):(je.flags|=t,d.memoizedState=Si(1|a,g,s,u))}function cm(t,a){Ro(8390656,8,t,a)}function dm(t,a){Ls(2048,8,t,a)}function fm(t,a){return Ls(4,2,t,a)}function hm(t,a){return Ls(4,4,t,a)}function gm(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function mm(t,a,s){s=s!=null?s.concat([t]):null,Ls(4,4,gm.bind(null,a,t),s)}function Zc(){}function pm(t,a){var s=wt();a=a===void 0?null:a;var u=s.memoizedState;return a!==null&&Ic(a,u[1])?u[0]:(s.memoizedState=[t,a],t)}function vm(t,a){var s=wt();a=a===void 0?null:a;var u=s.memoizedState;if(a!==null&&Ic(a,u[1]))return u[0];if(u=t(),Fr){Ae(!0);try{t()}finally{Ae(!1)}}return s.memoizedState=[u,a],u}function Jc(t,a,s){return s===void 0||(Za&1073741824)!==0?t.memoizedState=a:(t.memoizedState=s,t=bp(),je.lanes|=t,ir|=t,s)}function ym(t,a,s,u){return mn(s,a)?s:_i.current!==null?(t=Jc(t,s,u),mn(t,a)||(Mt=!0),t):(Za&42)===0?(Mt=!0,t.memoizedState=s):(t=bp(),je.lanes|=t,ir|=t,a)}function _m(t,a,s,u,d){var g=W.p;W.p=g!==0&&8>g?g:8;var b=L.T,E={};L.T=E,nd(t,!1,a,s);try{var N=d(),F=L.S;if(F!==null&&F(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var q=N0(N,u);Ps(t,a,q,bn(t))}else Ps(t,a,u,bn(t))}catch(K){Ps(t,a,{then:function(){},status:"rejected",reason:K},bn())}finally{W.p=g,L.T=b}}function L0(){}function ed(t,a,s,u){if(t.tag!==5)throw Error(i(476));var d=bm(t).queue;_m(t,d,a,ae,s===null?L0:function(){return wm(t),s(u)})}function bm(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:ae},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function wm(t){var a=bm(t).next.queue;Ps(t,a,{},bn())}function td(){return Kt(tl)}function Sm(){return wt().memoizedState}function Em(){return wt().memoizedState}function P0(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=bn();t=Wa(s);var u=Qa(a,t,s);u!==null&&(wn(u,a,s),Ns(u,a,s)),a={cache:Nc()},t.payload=a;return}a=a.return}}function H0(t,a,s){var u=bn();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Co(t)?Rm(a,s):(s=wc(t,a,s,u),s!==null&&(wn(s,t,u),Cm(s,a,u)))}function xm(t,a,s){var u=bn();Ps(t,a,s,u)}function Ps(t,a,s,u){var d={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Co(t))Rm(a,d);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var b=a.lastRenderedState,E=g(b,s);if(d.hasEagerState=!0,d.eagerState=E,mn(E,b))return oo(t,a,d,0),tt===null&&lo(),!1}catch{}finally{}if(s=wc(t,a,d,u),s!==null)return wn(s,t,u),Cm(s,a,u),!0}return!1}function nd(t,a,s,u){if(u={lane:2,revertLane:kd(),action:u,hasEagerState:!1,eagerState:null,next:null},Co(t)){if(a)throw Error(i(479))}else a=wc(t,s,u,2),a!==null&&wn(a,t,2)}function Co(t){var a=t.alternate;return t===je||a!==null&&a===je}function Rm(t,a){bi=bo=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function Cm(t,a,s){if((s&4194048)!==0){var u=a.lanes;u&=t.pendingLanes,s|=u,a.lanes=s,Hn(t,s)}}var To={readContext:Kt,use:So,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},Tm={readContext:Kt,use:So,useCallback:function(t,a){return un().memoizedState=[t,a===void 0?null:a],t},useContext:Kt,useEffect:cm,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,Ro(4194308,4,gm.bind(null,a,t),s)},useLayoutEffect:function(t,a){return Ro(4194308,4,t,a)},useInsertionEffect:function(t,a){Ro(4,2,t,a)},useMemo:function(t,a){var s=un();a=a===void 0?null:a;var u=t();if(Fr){Ae(!0);try{t()}finally{Ae(!1)}}return s.memoizedState=[u,a],u},useReducer:function(t,a,s){var u=un();if(s!==void 0){var d=s(a);if(Fr){Ae(!0);try{s(a)}finally{Ae(!1)}}}else d=a;return u.memoizedState=u.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},u.queue=t,t=t.dispatch=H0.bind(null,je,t),[u.memoizedState,t]},useRef:function(t){var a=un();return t={current:t},a.memoizedState=t},useState:function(t){t=Wc(t);var a=t.queue,s=xm.bind(null,je,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:Zc,useDeferredValue:function(t,a){var s=un();return Jc(s,t,a)},useTransition:function(){var t=Wc(!1);return t=_m.bind(null,je,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var u=je,d=un();if(Be){if(s===void 0)throw Error(i(407));s=s()}else{if(s=a(),tt===null)throw Error(i(349));(He&124)!==0||Kg(u,a,s)}d.memoizedState=s;var g={value:s,getSnapshot:a};return d.queue=g,cm(Wg.bind(null,u,g,t),[t]),u.flags|=2048,Si(9,xo(),Xg.bind(null,u,g,s,a),null),s},useId:function(){var t=un(),a=tt.identifierPrefix;if(Be){var s=Ea,u=Sa;s=(u&~(1<<32-ze(u)-1)).toString(32)+s,a=""+a+"R"+s,s=wo++,0<s&&(a+="H"+s.toString(32)),a+=""}else s=j0++,a=""+a+"r"+s.toString(32)+"";return t.memoizedState=a},useHostTransitionStatus:td,useFormState:im,useActionState:im,useOptimistic:function(t){var a=un();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=nd.bind(null,je,!0,s),s.dispatch=a,[t,a]},useMemoCache:Yc,useCacheRefresh:function(){return un().memoizedState=P0.bind(null,je)}},Am={readContext:Kt,use:So,useCallback:pm,useContext:Kt,useEffect:dm,useImperativeHandle:mm,useInsertionEffect:fm,useLayoutEffect:hm,useMemo:vm,useReducer:Eo,useRef:um,useState:function(){return Eo(Ca)},useDebugValue:Zc,useDeferredValue:function(t,a){var s=wt();return ym(s,Ye.memoizedState,t,a)},useTransition:function(){var t=Eo(Ca)[0],a=wt().memoizedState;return[typeof t=="boolean"?t:Us(t),a]},useSyncExternalStore:Yg,useId:Sm,useHostTransitionStatus:td,useFormState:sm,useActionState:sm,useOptimistic:function(t,a){var s=wt();return Jg(s,Ye,t,a)},useMemoCache:Yc,useCacheRefresh:Em},F0={readContext:Kt,use:So,useCallback:pm,useContext:Kt,useEffect:dm,useImperativeHandle:mm,useInsertionEffect:fm,useLayoutEffect:hm,useMemo:vm,useReducer:Xc,useRef:um,useState:function(){return Xc(Ca)},useDebugValue:Zc,useDeferredValue:function(t,a){var s=wt();return Ye===null?Jc(s,t,a):ym(s,Ye.memoizedState,t,a)},useTransition:function(){var t=Xc(Ca)[0],a=wt().memoizedState;return[typeof t=="boolean"?t:Us(t),a]},useSyncExternalStore:Yg,useId:Sm,useHostTransitionStatus:td,useFormState:om,useActionState:om,useOptimistic:function(t,a){var s=wt();return Ye!==null?Jg(s,Ye,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Yc,useCacheRefresh:Em},Ei=null,Hs=0;function Ao(t){var a=Hs;return Hs+=1,Ei===null&&(Ei=[]),Fg(Ei,t,a)}function Fs(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Oo(t,a){throw a.$$typeof===y?Error(i(525)):(t=Object.prototype.toString.call(a),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Om(t){var a=t._init;return a(t._payload)}function Dm(t){function a(k,M){if(t){var P=k.deletions;P===null?(k.deletions=[M],k.flags|=16):P.push(M)}}function s(k,M){if(!t)return null;for(;M!==null;)a(k,M),M=M.sibling;return null}function u(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function d(k,M){return k=wa(k,M),k.index=0,k.sibling=null,k}function g(k,M,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<M?(k.flags|=67108866,M):P):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function b(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,M,P,Y){return M===null||M.tag!==6?(M=Ec(P,k.mode,Y),M.return=k,M):(M=d(M,P),M.return=k,M)}function N(k,M,P,Y){var he=P.type;return he===S?q(k,M,P.props.children,Y,P.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===X&&Om(he)===M.type)?(M=d(M,P.props),Fs(M,P),M.return=k,M):(M=co(P.type,P.key,P.props,null,k.mode,Y),Fs(M,P),M.return=k,M)}function F(k,M,P,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=xc(P,k.mode,Y),M.return=k,M):(M=d(M,P.children||[]),M.return=k,M)}function q(k,M,P,Y,he){return M===null||M.tag!==7?(M=Nr(P,k.mode,Y,he),M.return=k,M):(M=d(M,P),M.return=k,M)}function K(k,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ec(""+M,k.mode,P),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case _:return P=co(M.type,M.key,M.props,null,k.mode,P),Fs(P,M),P.return=k,P;case w:return M=xc(M,k.mode,P),M.return=k,M;case X:var Y=M._init;return M=Y(M._payload),K(k,M,P)}if(we(M)||ie(M))return M=Nr(M,k.mode,P,null),M.return=k,M;if(typeof M.then=="function")return K(k,Ao(M),P);if(M.$$typeof===A)return K(k,mo(k,M),P);Oo(k,M)}return null}function z(k,M,P,Y){var he=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return he!==null?null:E(k,M,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case _:return P.key===he?N(k,M,P,Y):null;case w:return P.key===he?F(k,M,P,Y):null;case X:return he=P._init,P=he(P._payload),z(k,M,P,Y)}if(we(P)||ie(P))return he!==null?null:q(k,M,P,Y,null);if(typeof P.then=="function")return z(k,M,Ao(P),Y);if(P.$$typeof===A)return z(k,M,mo(k,P),Y);Oo(k,P)}return null}function I(k,M,P,Y,he){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,E(M,k,""+Y,he);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return k=k.get(Y.key===null?P:Y.key)||null,N(M,k,Y,he);case w:return k=k.get(Y.key===null?P:Y.key)||null,F(M,k,Y,he);case X:var Me=Y._init;return Y=Me(Y._payload),I(k,M,P,Y,he)}if(we(Y)||ie(Y))return k=k.get(P)||null,q(M,k,Y,he,null);if(typeof Y.then=="function")return I(k,M,P,Ao(Y),he);if(Y.$$typeof===A)return I(k,M,P,mo(M,Y),he);Oo(M,Y)}return null}function Ee(k,M,P,Y){for(var he=null,Me=null,pe=M,be=M=0,Ut=null;pe!==null&&be<P.length;be++){pe.index>be?(Ut=pe,pe=null):Ut=pe.sibling;var Ie=z(k,pe,P[be],Y);if(Ie===null){pe===null&&(pe=Ut);break}t&&pe&&Ie.alternate===null&&a(k,pe),M=g(Ie,M,be),Me===null?he=Ie:Me.sibling=Ie,Me=Ie,pe=Ut}if(be===P.length)return s(k,pe),Be&&Mr(k,be),he;if(pe===null){for(;be<P.length;be++)pe=K(k,P[be],Y),pe!==null&&(M=g(pe,M,be),Me===null?he=pe:Me.sibling=pe,Me=pe);return Be&&Mr(k,be),he}for(pe=u(pe);be<P.length;be++)Ut=I(pe,k,be,P[be],Y),Ut!==null&&(t&&Ut.alternate!==null&&pe.delete(Ut.key===null?be:Ut.key),M=g(Ut,M,be),Me===null?he=Ut:Me.sibling=Ut,Me=Ut);return t&&pe.forEach(function(gr){return a(k,gr)}),Be&&Mr(k,be),he}function ve(k,M,P,Y){if(P==null)throw Error(i(151));for(var he=null,Me=null,pe=M,be=M=0,Ut=null,Ie=P.next();pe!==null&&!Ie.done;be++,Ie=P.next()){pe.index>be?(Ut=pe,pe=null):Ut=pe.sibling;var gr=z(k,pe,Ie.value,Y);if(gr===null){pe===null&&(pe=Ut);break}t&&pe&&gr.alternate===null&&a(k,pe),M=g(gr,M,be),Me===null?he=gr:Me.sibling=gr,Me=gr,pe=Ut}if(Ie.done)return s(k,pe),Be&&Mr(k,be),he;if(pe===null){for(;!Ie.done;be++,Ie=P.next())Ie=K(k,Ie.value,Y),Ie!==null&&(M=g(Ie,M,be),Me===null?he=Ie:Me.sibling=Ie,Me=Ie);return Be&&Mr(k,be),he}for(pe=u(pe);!Ie.done;be++,Ie=P.next())Ie=I(pe,k,be,Ie.value,Y),Ie!==null&&(t&&Ie.alternate!==null&&pe.delete(Ie.key===null?be:Ie.key),M=g(Ie,M,be),Me===null?he=Ie:Me.sibling=Ie,Me=Ie);return t&&pe.forEach(function(zw){return a(k,zw)}),Be&&Mr(k,be),he}function Xe(k,M,P,Y){if(typeof P=="object"&&P!==null&&P.type===S&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case _:e:{for(var he=P.key;M!==null;){if(M.key===he){if(he=P.type,he===S){if(M.tag===7){s(k,M.sibling),Y=d(M,P.props.children),Y.return=k,k=Y;break e}}else if(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===X&&Om(he)===M.type){s(k,M.sibling),Y=d(M,P.props),Fs(Y,P),Y.return=k,k=Y;break e}s(k,M);break}else a(k,M);M=M.sibling}P.type===S?(Y=Nr(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=co(P.type,P.key,P.props,null,k.mode,Y),Fs(Y,P),Y.return=k,k=Y)}return b(k);case w:e:{for(he=P.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){s(k,M.sibling),Y=d(M,P.children||[]),Y.return=k,k=Y;break e}else{s(k,M);break}else a(k,M);M=M.sibling}Y=xc(P,k.mode,Y),Y.return=k,k=Y}return b(k);case X:return he=P._init,P=he(P._payload),Xe(k,M,P,Y)}if(we(P))return Ee(k,M,P,Y);if(ie(P)){if(he=ie(P),typeof he!="function")throw Error(i(150));return P=he.call(P),ve(k,M,P,Y)}if(typeof P.then=="function")return Xe(k,M,Ao(P),Y);if(P.$$typeof===A)return Xe(k,M,mo(k,P),Y);Oo(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(s(k,M.sibling),Y=d(M,P),Y.return=k,k=Y):(s(k,M),Y=Ec(P,k.mode,Y),Y.return=k,k=Y),b(k)):s(k,M)}return function(k,M,P,Y){try{Hs=0;var he=Xe(k,M,P,Y);return Ei=null,he}catch(pe){if(pe===Os||pe===vo)throw pe;var Me=pn(29,pe,null,k.mode);return Me.lanes=Y,Me.return=k,Me}finally{}}}var xi=Dm(!0),Nm=Dm(!1),jn=G(null),ia=null;function Ja(t){var a=t.alternate;B(Tt,Tt.current&1),B(jn,t),ia===null&&(a===null||_i.current!==null||a.memoizedState!==null)&&(ia=t)}function jm(t){if(t.tag===22){if(B(Tt,Tt.current),B(jn,t),ia===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(ia=t)}}else er()}function er(){B(Tt,Tt.current),B(jn,jn.current)}function Ta(t){Q(jn),ia===t&&(ia=null),Q(Tt)}var Tt=G(0);function Do(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Gd(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function ad(t,a,s,u){a=t.memoizedState,s=s(u,a),s=s==null?a:v({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var rd={enqueueSetState:function(t,a,s){t=t._reactInternals;var u=bn(),d=Wa(u);d.payload=a,s!=null&&(d.callback=s),a=Qa(t,d,u),a!==null&&(wn(a,t,u),Ns(a,t,u))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var u=bn(),d=Wa(u);d.tag=1,d.payload=a,s!=null&&(d.callback=s),a=Qa(t,d,u),a!==null&&(wn(a,t,u),Ns(a,t,u))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=bn(),u=Wa(s);u.tag=2,a!=null&&(u.callback=a),a=Qa(t,u,s),a!==null&&(wn(a,t,s),Ns(a,t,s))}};function Mm(t,a,s,u,d,g,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,g,b):a.prototype&&a.prototype.isPureReactComponent?!ws(s,u)||!ws(d,g):!0}function km(t,a,s,u){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,u),a.state!==t&&rd.enqueueReplaceState(a,a.state,null)}function zr(t,a){var s=a;if("ref"in a){s={};for(var u in a)u!=="ref"&&(s[u]=a[u])}if(t=t.defaultProps){s===a&&(s=v({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}var No=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Um(t){No(t)}function Lm(t){console.error(t)}function Pm(t){No(t)}function jo(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Hm(t,a,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function id(t,a,s){return s=Wa(s),s.tag=3,s.payload={element:null},s.callback=function(){jo(t,a)},s}function Fm(t){return t=Wa(t),t.tag=3,t}function zm(t,a,s,u){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;t.payload=function(){return d(g)},t.callback=function(){Hm(a,s,u)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Hm(a,s,u),typeof d!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function z0(t,a,s,u,d){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=s.alternate,a!==null&&Cs(a,s,d,!0),s=jn.current,s!==null){switch(s.tag){case 13:return ia===null?Od():s.alternate===null&&gt===0&&(gt=3),s.flags&=-257,s.flags|=65536,s.lanes=d,u===kc?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([u]):a.add(u),Nd(t,u,d)),!1;case 22:return s.flags|=65536,u===kc?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([u]):s.add(u)),Nd(t,u,d)),!1}throw Error(i(435,s.tag))}return Nd(t,u,d),Od(),!1}if(Be)return a=jn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,u!==Tc&&(t=Error(i(422),{cause:u}),Rs(An(t,s)))):(u!==Tc&&(a=Error(i(423),{cause:u}),Rs(An(a,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,u=An(u,s),d=id(t.stateNode,u,d),Pc(t,d),gt!==4&&(gt=2)),!1;var g=Error(i(520),{cause:u});if(g=An(g,s),Gs===null?Gs=[g]:Gs.push(g),gt!==4&&(gt=2),a===null)return!0;u=An(u,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=id(s.stateNode,u,t),Pc(s,t),!1;case 1:if(a=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(sr===null||!sr.has(g))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Fm(d),zm(d,t,s,u),Pc(s,d),!1}s=s.return}while(s!==null);return!1}var Im=Error(i(461)),Mt=!1;function It(t,a,s,u){a.child=t===null?Nm(a,null,s,u):xi(a,t.child,s,u)}function $m(t,a,s,u,d){s=s.render;var g=a.ref;if("ref"in u){var b={};for(var E in u)E!=="ref"&&(b[E]=u[E])}else b=u;return Pr(a),u=$c(t,a,s,b,g,d),E=Bc(),t!==null&&!Mt?(Vc(t,a,d),Aa(t,a,d)):(Be&&E&&Rc(a),a.flags|=1,It(t,a,u,d),a.child)}function Bm(t,a,s,u,d){if(t===null){var g=s.type;return typeof g=="function"&&!Sc(g)&&g.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=g,Vm(t,a,g,u,d)):(t=co(s.type,null,u,a,a.mode,d),t.ref=a.ref,t.return=a,a.child=t)}if(g=t.child,!hd(t,d)){var b=g.memoizedProps;if(s=s.compare,s=s!==null?s:ws,s(b,u)&&t.ref===a.ref)return Aa(t,a,d)}return a.flags|=1,t=wa(g,u),t.ref=a.ref,t.return=a,a.child=t}function Vm(t,a,s,u,d){if(t!==null){var g=t.memoizedProps;if(ws(g,u)&&t.ref===a.ref)if(Mt=!1,a.pendingProps=u=g,hd(t,d))(t.flags&131072)!==0&&(Mt=!0);else return a.lanes=t.lanes,Aa(t,a,d)}return sd(t,a,s,u,d)}function qm(t,a,s){var u=a.pendingProps,d=u.children,g=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=g!==null?g.baseLanes|s:s,t!==null){for(d=a.child=t.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;a.childLanes=g&~u}else a.childLanes=0,a.child=null;return Gm(t,a,u,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&po(a,g!==null?g.cachePool:null),g!==null?Vg(a,g):Fc(),jm(a);else return a.lanes=a.childLanes=536870912,Gm(t,a,g!==null?g.baseLanes|s:s,s)}else g!==null?(po(a,g.cachePool),Vg(a,g),er(),a.memoizedState=null):(t!==null&&po(a,null),Fc(),er());return It(t,a,d,s),a.child}function Gm(t,a,s,u){var d=Mc();return d=d===null?null:{parent:Ct._currentValue,pool:d},a.memoizedState={baseLanes:s,cachePool:d},t!==null&&po(a,null),Fc(),jm(a),t!==null&&Cs(t,a,u,!0),null}function Mo(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function sd(t,a,s,u,d){return Pr(a),s=$c(t,a,s,u,void 0,d),u=Bc(),t!==null&&!Mt?(Vc(t,a,d),Aa(t,a,d)):(Be&&u&&Rc(a),a.flags|=1,It(t,a,s,d),a.child)}function Ym(t,a,s,u,d,g){return Pr(a),a.updateQueue=null,s=Gg(a,u,s,d),qg(t),u=Bc(),t!==null&&!Mt?(Vc(t,a,g),Aa(t,a,g)):(Be&&u&&Rc(a),a.flags|=1,It(t,a,s,g),a.child)}function Km(t,a,s,u,d){if(Pr(a),a.stateNode===null){var g=gi,b=s.contextType;typeof b=="object"&&b!==null&&(g=Kt(b)),g=new s(u,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=rd,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=u,g.state=a.memoizedState,g.refs={},Uc(a),b=s.contextType,g.context=typeof b=="object"&&b!==null?Kt(b):gi,g.state=a.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(ad(a,s,b,u),g.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&rd.enqueueReplaceState(g,g.state,null),Ms(a,u,g,d),js(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(t===null){g=a.stateNode;var E=a.memoizedProps,N=zr(s,E);g.props=N;var F=g.context,q=s.contextType;b=gi,typeof q=="object"&&q!==null&&(b=Kt(q));var K=s.getDerivedStateFromProps;q=typeof K=="function"||typeof g.getSnapshotBeforeUpdate=="function",E=a.pendingProps!==E,q||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E||F!==b)&&km(a,g,u,b),Xa=!1;var z=a.memoizedState;g.state=z,Ms(a,u,g,d),js(),F=a.memoizedState,E||z!==F||Xa?(typeof K=="function"&&(ad(a,s,K,u),F=a.memoizedState),(N=Xa||Mm(a,s,N,u,z,F,b))?(q||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=F),g.props=u,g.state=F,g.context=b,u=N):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{g=a.stateNode,Lc(t,a),b=a.memoizedProps,q=zr(s,b),g.props=q,K=a.pendingProps,z=g.context,F=s.contextType,N=gi,typeof F=="object"&&F!==null&&(N=Kt(F)),E=s.getDerivedStateFromProps,(F=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==K||z!==N)&&km(a,g,u,N),Xa=!1,z=a.memoizedState,g.state=z,Ms(a,u,g,d),js();var I=a.memoizedState;b!==K||z!==I||Xa||t!==null&&t.dependencies!==null&&go(t.dependencies)?(typeof E=="function"&&(ad(a,s,E,u),I=a.memoizedState),(q=Xa||Mm(a,s,q,u,z,I,N)||t!==null&&t.dependencies!==null&&go(t.dependencies))?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,I,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,I,N)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===t.memoizedProps&&z===t.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&z===t.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=I),g.props=u,g.state=I,g.context=N,u=q):(typeof g.componentDidUpdate!="function"||b===t.memoizedProps&&z===t.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&z===t.memoizedState||(a.flags|=1024),u=!1)}return g=u,Mo(t,a),u=(a.flags&128)!==0,g||u?(g=a.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,t!==null&&u?(a.child=xi(a,t.child,null,d),a.child=xi(a,null,s,d)):It(t,a,s,d),a.memoizedState=g.state,t=a.child):t=Aa(t,a,d),t}function Xm(t,a,s,u){return xs(),a.flags|=256,It(t,a,s,u),a.child}var ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function od(t){return{baseLanes:t,cachePool:Lg()}}function ud(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=Mn),t}function Wm(t,a,s){var u=a.pendingProps,d=!1,g=(a.flags&128)!==0,b;if((b=g)||(b=t!==null&&t.memoizedState===null?!1:(Tt.current&2)!==0),b&&(d=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,t===null){if(Be){if(d?Ja(a):er(),Be){var E=ht,N;if(N=E){e:{for(N=E,E=ra;N.nodeType!==8;){if(!E){E=null;break e}if(N=In(N.nextSibling),N===null){E=null;break e}}E=N}E!==null?(a.memoizedState={dehydrated:E,treeContext:jr!==null?{id:Sa,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},N=pn(18,null,null,0),N.stateNode=E,N.return=a,a.child=N,tn=a,ht=null,N=!0):N=!1}N||Ur(a)}if(E=a.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Gd(E)?a.lanes=32:a.lanes=536870912,null;Ta(a)}return E=u.children,u=u.fallback,d?(er(),d=a.mode,E=ko({mode:"hidden",children:E},d),u=Nr(u,d,s,null),E.return=a,u.return=a,E.sibling=u,a.child=E,d=a.child,d.memoizedState=od(s),d.childLanes=ud(t,b,s),a.memoizedState=ld,u):(Ja(a),cd(a,E))}if(N=t.memoizedState,N!==null&&(E=N.dehydrated,E!==null)){if(g)a.flags&256?(Ja(a),a.flags&=-257,a=dd(t,a,s)):a.memoizedState!==null?(er(),a.child=t.child,a.flags|=128,a=null):(er(),d=u.fallback,E=a.mode,u=ko({mode:"visible",children:u.children},E),d=Nr(d,E,s,null),d.flags|=2,u.return=a,d.return=a,u.sibling=d,a.child=u,xi(a,t.child,null,s),u=a.child,u.memoizedState=od(s),u.childLanes=ud(t,b,s),a.memoizedState=ld,a=d);else if(Ja(a),Gd(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var F=b.dgst;b=F,u=Error(i(419)),u.stack="",u.digest=b,Rs({value:u,source:null,stack:null}),a=dd(t,a,s)}else if(Mt||Cs(t,a,s,!1),b=(s&t.childLanes)!==0,Mt||b){if(b=tt,b!==null&&(u=s&-s,u=(u&42)!==0?1:Gt(u),u=(u&(b.suspendedLanes|s))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,hi(t,u),wn(b,t,u),Im;E.data==="$?"||Od(),a=dd(t,a,s)}else E.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=N.treeContext,ht=In(E.nextSibling),tn=a,Be=!0,kr=null,ra=!1,t!==null&&(Dn[Nn++]=Sa,Dn[Nn++]=Ea,Dn[Nn++]=jr,Sa=t.id,Ea=t.overflow,jr=a),a=cd(a,u.children),a.flags|=4096);return a}return d?(er(),d=u.fallback,E=a.mode,N=t.child,F=N.sibling,u=wa(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,F!==null?d=wa(F,d):(d=Nr(d,E,s,null),d.flags|=2),d.return=a,u.return=a,u.sibling=d,a.child=u,u=d,d=a.child,E=t.child.memoizedState,E===null?E=od(s):(N=E.cachePool,N!==null?(F=Ct._currentValue,N=N.parent!==F?{parent:F,pool:F}:N):N=Lg(),E={baseLanes:E.baseLanes|s,cachePool:N}),d.memoizedState=E,d.childLanes=ud(t,b,s),a.memoizedState=ld,u):(Ja(a),s=t.child,t=s.sibling,s=wa(s,{mode:"visible",children:u.children}),s.return=a,s.sibling=null,t!==null&&(b=a.deletions,b===null?(a.deletions=[t],a.flags|=16):b.push(t)),a.child=s,a.memoizedState=null,s)}function cd(t,a){return a=ko({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function ko(t,a){return t=pn(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function dd(t,a,s){return xi(a,t.child,null,s),t=cd(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Qm(t,a,s){t.lanes|=a;var u=t.alternate;u!==null&&(u.lanes|=a),Oc(t.return,a,s)}function fd(t,a,s,u,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:d}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=s,g.tailMode=d)}function Zm(t,a,s){var u=a.pendingProps,d=u.revealOrder,g=u.tail;if(It(t,a,u.children,s),u=Tt.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qm(t,s,a);else if(t.tag===19)Qm(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(B(Tt,u),d){case"forwards":for(s=a.child,d=null;s!==null;)t=s.alternate,t!==null&&Do(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=a.child,a.child=null):(d=s.sibling,s.sibling=null),fd(a,!1,d,s,g);break;case"backwards":for(s=null,d=a.child,a.child=null;d!==null;){if(t=d.alternate,t!==null&&Do(t)===null){a.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}fd(a,!0,s,null,g);break;case"together":fd(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Aa(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),ir|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(Cs(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(i(153));if(a.child!==null){for(t=a.child,s=wa(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=wa(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function hd(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&go(t)))}function I0(t,a,s){switch(a.tag){case 3:ye(a,a.stateNode.containerInfo),Ka(a,Ct,t.memoizedState.cache),xs();break;case 27:case 5:at(a);break;case 4:ye(a,a.stateNode.containerInfo);break;case 10:Ka(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Ja(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Wm(t,a,s):(Ja(a),t=Aa(t,a,s),t!==null?t.sibling:null);Ja(a);break;case 19:var d=(t.flags&128)!==0;if(u=(s&a.childLanes)!==0,u||(Cs(t,a,s,!1),u=(s&a.childLanes)!==0),d){if(u)return Zm(t,a,s);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),B(Tt,Tt.current),u)break;return null;case 22:case 23:return a.lanes=0,qm(t,a,s);case 24:Ka(a,Ct,t.memoizedState.cache)}return Aa(t,a,s)}function Jm(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)Mt=!0;else{if(!hd(t,s)&&(a.flags&128)===0)return Mt=!1,I0(t,a,s);Mt=(t.flags&131072)!==0}else Mt=!1,Be&&(a.flags&1048576)!==0&&Og(a,ho,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var u=a.elementType,d=u._init;if(u=d(u._payload),a.type=u,typeof u=="function")Sc(u)?(t=zr(u,t),a.tag=1,a=Km(null,a,u,t,s)):(a.tag=0,a=sd(null,a,u,t,s));else{if(u!=null){if(d=u.$$typeof,d===$){a.tag=11,a=$m(null,a,u,t,s);break e}else if(d===J){a.tag=14,a=Bm(null,a,u,t,s);break e}}throw a=fe(u)||u,Error(i(306,a,""))}}return a;case 0:return sd(t,a,a.type,a.pendingProps,s);case 1:return u=a.type,d=zr(u,a.pendingProps),Km(t,a,u,d,s);case 3:e:{if(ye(a,a.stateNode.containerInfo),t===null)throw Error(i(387));u=a.pendingProps;var g=a.memoizedState;d=g.element,Lc(t,a),Ms(a,u,null,s);var b=a.memoizedState;if(u=b.cache,Ka(a,Ct,u),u!==g.cache&&Dc(a,[Ct],s,!0),js(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=Xm(t,a,u,s);break e}else if(u!==d){d=An(Error(i(424)),a),Rs(d),a=Xm(t,a,u,s);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=In(t.firstChild),tn=a,Be=!0,kr=null,ra=!0,s=Nm(a,null,u,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(xs(),u===d){a=Aa(t,a,s);break e}It(t,a,u,s)}a=a.child}return a;case 26:return Mo(t,a),t===null?(s=av(a.type,null,a.pendingProps,null))?a.memoizedState=s:Be||(s=a.type,t=a.pendingProps,u=Ko(ce.current).createElement(s),u[rt]=a,u[it]=t,Bt(u,s,t),jt(u),a.stateNode=u):a.memoizedState=av(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return at(a),t===null&&Be&&(u=a.stateNode=ev(a.type,a.pendingProps,ce.current),tn=a,ra=!0,d=ht,ur(a.type)?(Yd=d,ht=In(u.firstChild)):ht=d),It(t,a,a.pendingProps.children,s),Mo(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Be&&((d=u=ht)&&(u=mw(u,a.type,a.pendingProps,ra),u!==null?(a.stateNode=u,tn=a,ht=In(u.firstChild),ra=!1,d=!0):d=!1),d||Ur(a)),at(a),d=a.type,g=a.pendingProps,b=t!==null?t.memoizedProps:null,u=g.children,Bd(d,g)?u=null:b!==null&&Bd(d,b)&&(a.flags|=32),a.memoizedState!==null&&(d=$c(t,a,M0,null,null,s),tl._currentValue=d),Mo(t,a),It(t,a,u,s),a.child;case 6:return t===null&&Be&&((t=s=ht)&&(s=pw(s,a.pendingProps,ra),s!==null?(a.stateNode=s,tn=a,ht=null,t=!0):t=!1),t||Ur(a)),null;case 13:return Wm(t,a,s);case 4:return ye(a,a.stateNode.containerInfo),u=a.pendingProps,t===null?a.child=xi(a,null,u,s):It(t,a,u,s),a.child;case 11:return $m(t,a,a.type,a.pendingProps,s);case 7:return It(t,a,a.pendingProps,s),a.child;case 8:return It(t,a,a.pendingProps.children,s),a.child;case 12:return It(t,a,a.pendingProps.children,s),a.child;case 10:return u=a.pendingProps,Ka(a,a.type,u.value),It(t,a,u.children,s),a.child;case 9:return d=a.type._context,u=a.pendingProps.children,Pr(a),d=Kt(d),u=u(d),a.flags|=1,It(t,a,u,s),a.child;case 14:return Bm(t,a,a.type,a.pendingProps,s);case 15:return Vm(t,a,a.type,a.pendingProps,s);case 19:return Zm(t,a,s);case 31:return u=a.pendingProps,s=a.mode,u={mode:u.mode,children:u.children},t===null?(s=ko(u,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=wa(t.child,u),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return qm(t,a,s);case 24:return Pr(a),u=Kt(Ct),t===null?(d=Mc(),d===null&&(d=tt,g=Nc(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=s),d=g),a.memoizedState={parent:u,cache:d},Uc(a),Ka(a,Ct,d)):((t.lanes&s)!==0&&(Lc(t,a),Ms(a,null,null,s),js()),d=t.memoizedState,g=a.memoizedState,d.parent!==u?(d={parent:u,cache:u},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),Ka(a,Ct,u)):(u=g.cache,Ka(a,Ct,u),u!==d.cache&&Dc(a,[Ct],s,!0))),It(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Oa(t){t.flags|=4}function ep(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ov(a)){if(a=jn.current,a!==null&&((He&4194048)===He?ia!==null:(He&62914560)!==He&&(He&536870912)===0||a!==ia))throw Ds=kc,Pg;t.flags|=8192}}function Uo(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Xl():536870912,t.lanes|=a,Ai|=a)}function zs(t,a){if(!Be)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function dt(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(a)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=s,a}function $0(t,a,s){var u=a.pendingProps;switch(Cc(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(a),null;case 1:return dt(a),null;case 3:return s=a.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ra(Ct),mt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Es(a)?Oa(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,jg())),dt(a),null;case 26:return s=a.memoizedState,t===null?(Oa(a),s!==null?(dt(a),ep(a,s)):(dt(a),a.flags&=-16777217)):s?s!==t.memoizedState?(Oa(a),dt(a),ep(a,s)):(dt(a),a.flags&=-16777217):(t.memoizedProps!==u&&Oa(a),dt(a),a.flags&=-16777217),null;case 27:sn(a),s=ce.current;var d=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==u&&Oa(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return dt(a),null}t=oe.current,Es(a)?Dg(a):(t=ev(d,u,s),a.stateNode=t,Oa(a))}return dt(a),null;case 5:if(sn(a),s=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==u&&Oa(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return dt(a),null}if(t=oe.current,Es(a))Dg(a);else{switch(d=Ko(ce.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?d.createElement(s,{is:u.is}):d.createElement(s)}}t[rt]=a,t[it]=u;e:for(d=a.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a.stateNode=t;e:switch(Bt(t,s,u),s){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Oa(a)}}return dt(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==u&&Oa(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(t=ce.current,Es(a)){if(t=a.stateNode,s=a.memoizedProps,u=null,d=tn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}t[rt]=a,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||Yp(t.nodeValue,s)),t||Ur(a)}else t=Ko(t).createTextNode(u),t[rt]=a,a.stateNode=t}return dt(a),null;case 13:if(u=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Es(a),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[rt]=a}else xs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dt(a),d=!1}else d=jg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(Ta(a),a):(Ta(a),null)}if(Ta(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=u!==null,t=t!==null&&t.memoizedState!==null,s){u=a.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return s!==t&&s&&(a.child.flags|=8192),Uo(a,a.updateQueue),dt(a),null;case 4:return mt(),t===null&&Hd(a.stateNode.containerInfo),dt(a),null;case 10:return Ra(a.type),dt(a),null;case 19:if(Q(Tt),d=a.memoizedState,d===null)return dt(a),null;if(u=(a.flags&128)!==0,g=d.rendering,g===null)if(u)zs(d,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(g=Do(t),g!==null){for(a.flags|=128,zs(d,!1),t=g.updateQueue,a.updateQueue=t,Uo(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)Ag(s,t),s=s.sibling;return B(Tt,Tt.current&1|2),a.child}t=t.sibling}d.tail!==null&&Jt()>Ho&&(a.flags|=128,u=!0,zs(d,!1),a.lanes=4194304)}else{if(!u)if(t=Do(g),t!==null){if(a.flags|=128,u=!0,t=t.updateQueue,a.updateQueue=t,Uo(a,t),zs(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Be)return dt(a),null}else 2*Jt()-d.renderingStartTime>Ho&&s!==536870912&&(a.flags|=128,u=!0,zs(d,!1),a.lanes=4194304);d.isBackwards?(g.sibling=a.child,a.child=g):(t=d.last,t!==null?t.sibling=g:a.child=g,d.last=g)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=Jt(),a.sibling=null,t=Tt.current,B(Tt,u?t&1|2:t&1),a):(dt(a),null);case 22:case 23:return Ta(a),zc(),u=a.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(s&536870912)!==0&&(a.flags&128)===0&&(dt(a),a.subtreeFlags&6&&(a.flags|=8192)):dt(a),s=a.updateQueue,s!==null&&Uo(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==s&&(a.flags|=2048),t!==null&&Q(Hr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Ra(Ct),dt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function B0(t,a){switch(Cc(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Ra(Ct),mt(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return sn(a),null;case 13:if(Ta(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(i(340));xs()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return Q(Tt),null;case 4:return mt(),null;case 10:return Ra(a.type),null;case 22:case 23:return Ta(a),zc(),t!==null&&Q(Hr),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Ra(Ct),null;case 25:return null;default:return null}}function tp(t,a){switch(Cc(a),a.tag){case 3:Ra(Ct),mt();break;case 26:case 27:case 5:sn(a);break;case 4:mt();break;case 13:Ta(a);break;case 19:Q(Tt);break;case 10:Ra(a.type);break;case 22:case 23:Ta(a),zc(),t!==null&&Q(Hr);break;case 24:Ra(Ct)}}function Is(t,a){try{var s=a.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var d=u.next;s=d;do{if((s.tag&t)===t){u=void 0;var g=s.create,b=s.inst;u=g(),b.destroy=u}s=s.next}while(s!==d)}}catch(E){Qe(a,a.return,E)}}function tr(t,a,s){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&t)===t){var b=u.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,d=a;var N=s,F=E;try{F()}catch(q){Qe(d,N,q)}}}u=u.next}while(u!==g)}}catch(q){Qe(a,a.return,q)}}function np(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{Bg(a,s)}catch(u){Qe(t,t.return,u)}}}function ap(t,a,s){s.props=zr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){Qe(t,a,u)}}function $s(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(d){Qe(t,a,d)}}function sa(t,a){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(d){Qe(t,a,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Qe(t,a,d)}else s.current=null}function rp(t){var a=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(d){Qe(t,t.return,d)}}function gd(t,a,s){try{var u=t.stateNode;cw(u,t.type,s,a),u[it]=a}catch(d){Qe(t,t.return,d)}}function ip(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ur(t.type)||t.tag===4}function md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ip(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pd(t,a,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Yo));else if(u!==4&&(u===27&&ur(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(pd(t,a,s),t=t.sibling;t!==null;)pd(t,a,s),t=t.sibling}function Lo(t,a,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(u!==4&&(u===27&&ur(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Lo(t,a,s),t=t.sibling;t!==null;)Lo(t,a,s),t=t.sibling}function sp(t){var a=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);Bt(a,u,s),a[rt]=t,a[it]=s}catch(g){Qe(t,t.return,g)}}var Da=!1,vt=!1,vd=!1,lp=typeof WeakSet=="function"?WeakSet:Set,kt=null;function V0(t,a){if(t=t.containerInfo,Id=eu,t=yg(t),mc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var b=0,E=-1,N=-1,F=0,q=0,K=t,z=null;t:for(;;){for(var I;K!==s||d!==0&&K.nodeType!==3||(E=b+d),K!==g||u!==0&&K.nodeType!==3||(N=b+u),K.nodeType===3&&(b+=K.nodeValue.length),(I=K.firstChild)!==null;)z=K,K=I;for(;;){if(K===t)break t;if(z===s&&++F===d&&(E=b),z===g&&++q===u&&(N=b),(I=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=I}s=E===-1||N===-1?null:{start:E,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for($d={focusedElem:t,selectionRange:s},eu=!1,kt=a;kt!==null;)if(a=kt,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,kt=t;else for(;kt!==null;){switch(a=kt,g=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,s=a,d=g.memoizedProps,g=g.memoizedState,u=s.stateNode;try{var Ee=zr(s.type,d,s.elementType===s.type);t=u.getSnapshotBeforeUpdate(Ee,g),u.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Qe(s,s.return,ve)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)qd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=a.sibling,t!==null){t.return=a.return,kt=t;break}kt=a.return}}function op(t,a,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:nr(t,s),u&4&&Is(5,s);break;case 1:if(nr(t,s),u&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(b){Qe(s,s.return,b)}else{var d=zr(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(d,a,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Qe(s,s.return,b)}}u&64&&np(s),u&512&&$s(s,s.return);break;case 3:if(nr(t,s),u&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Bg(t,a)}catch(b){Qe(s,s.return,b)}}break;case 27:a===null&&u&4&&sp(s);case 26:case 5:nr(t,s),a===null&&u&4&&rp(s),u&512&&$s(s,s.return);break;case 12:nr(t,s);break;case 13:nr(t,s),u&4&&dp(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=J0.bind(null,s),vw(t,s))));break;case 22:if(u=s.memoizedState!==null||Da,!u){a=a!==null&&a.memoizedState!==null||vt,d=Da;var g=vt;Da=u,(vt=a)&&!g?ar(t,s,(s.subtreeFlags&8772)!==0):nr(t,s),Da=d,vt=g}break;case 30:break;default:nr(t,s)}}function up(t){var a=t.alternate;a!==null&&(t.alternate=null,up(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Wu(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,cn=!1;function Na(t,a,s){for(s=s.child;s!==null;)cp(t,a,s),s=s.sibling}function cp(t,a,s){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(ge,s)}catch{}switch(s.tag){case 26:vt||sa(s,a),Na(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:vt||sa(s,a);var u=lt,d=cn;ur(s.type)&&(lt=s.stateNode,cn=!1),Na(t,a,s),Qs(s.stateNode),lt=u,cn=d;break;case 5:vt||sa(s,a);case 6:if(u=lt,d=cn,lt=null,Na(t,a,s),lt=u,cn=d,lt!==null)if(cn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(s.stateNode)}catch(g){Qe(s,a,g)}else try{lt.removeChild(s.stateNode)}catch(g){Qe(s,a,g)}break;case 18:lt!==null&&(cn?(t=lt,Zp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),il(t)):Zp(lt,s.stateNode));break;case 4:u=lt,d=cn,lt=s.stateNode.containerInfo,cn=!0,Na(t,a,s),lt=u,cn=d;break;case 0:case 11:case 14:case 15:vt||tr(2,s,a),vt||tr(4,s,a),Na(t,a,s);break;case 1:vt||(sa(s,a),u=s.stateNode,typeof u.componentWillUnmount=="function"&&ap(s,a,u)),Na(t,a,s);break;case 21:Na(t,a,s);break;case 22:vt=(u=vt)||s.memoizedState!==null,Na(t,a,s),vt=u;break;default:Na(t,a,s)}}function dp(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{il(t)}catch(s){Qe(a,a.return,s)}}function q0(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new lp),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new lp),a;default:throw Error(i(435,t.tag))}}function yd(t,a){var s=q0(t);a.forEach(function(u){var d=ew.bind(null,t,u);s.has(u)||(s.add(u),u.then(d,d))})}function vn(t,a){var s=a.deletions;if(s!==null)for(var u=0;u<s.length;u++){var d=s[u],g=t,b=a,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(ur(E.type)){lt=E.stateNode,cn=!1;break e}break;case 5:lt=E.stateNode,cn=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,cn=!0;break e}E=E.return}if(lt===null)throw Error(i(160));cp(g,b,d),lt=null,cn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)fp(a,t),a=a.sibling}var zn=null;function fp(t,a){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(a,t),yn(t),u&4&&(tr(3,t,t.return),Is(3,t),tr(5,t,t.return));break;case 1:vn(a,t),yn(t),u&512&&(vt||s===null||sa(s,s.return)),u&64&&Da&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var d=zn;if(vn(a,t),yn(t),u&512&&(vt||s===null||sa(s,s.return)),u&4){var g=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[ya]||g[rt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Bt(g,u,s),g[rt]=t,jt(g),u=g;break e;case"link":var b=sv("link","href",d).get(u+(s.href||""));if(b){for(var E=0;E<b.length;E++)if(g=b[E],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(E,1);break t}}g=d.createElement(u),Bt(g,u,s),d.head.appendChild(g);break;case"meta":if(b=sv("meta","content",d).get(u+(s.content||""))){for(E=0;E<b.length;E++)if(g=b[E],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(E,1);break t}}g=d.createElement(u),Bt(g,u,s),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[rt]=t,jt(g),u=g}t.stateNode=u}else lv(d,t.type,t.stateNode);else t.stateNode=iv(d,u,t.memoizedProps);else g!==u?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,u===null?lv(d,t.type,t.stateNode):iv(d,u,t.memoizedProps)):u===null&&t.stateNode!==null&&gd(t,t.memoizedProps,s.memoizedProps)}break;case 27:vn(a,t),yn(t),u&512&&(vt||s===null||sa(s,s.return)),s!==null&&u&4&&gd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(vn(a,t),yn(t),u&512&&(vt||s===null||sa(s,s.return)),t.flags&32){d=t.stateNode;try{si(d,"")}catch(I){Qe(t,t.return,I)}}u&4&&t.stateNode!=null&&(d=t.memoizedProps,gd(t,d,s!==null?s.memoizedProps:d)),u&1024&&(vd=!0);break;case 6:if(vn(a,t),yn(t),u&4){if(t.stateNode===null)throw Error(i(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(I){Qe(t,t.return,I)}}break;case 3:if(Qo=null,d=zn,zn=Xo(a.containerInfo),vn(a,t),zn=d,yn(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{il(a.containerInfo)}catch(I){Qe(t,t.return,I)}vd&&(vd=!1,hp(t));break;case 4:u=zn,zn=Xo(t.stateNode.containerInfo),vn(a,t),yn(t),zn=u;break;case 12:vn(a,t),yn(t);break;case 13:vn(a,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(xd=Jt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,yd(t,u)));break;case 22:d=t.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,F=Da,q=vt;if(Da=F||d,vt=q||N,vn(a,t),vt=q,Da=F,yn(t),u&8192)e:for(a=t.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(s===null||N||Da||vt||Ir(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){N=s=a;try{if(g=N.stateNode,d)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=N.stateNode;var K=N.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(I){Qe(N,N.return,I)}}}else if(a.tag===6){if(s===null){N=a;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(I){Qe(N,N.return,I)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,yd(t,s))));break;case 19:vn(a,t),yn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,yd(t,u)));break;case 30:break;case 21:break;default:vn(a,t),yn(t)}}function yn(t){var a=t.flags;if(a&2){try{for(var s,u=t.return;u!==null;){if(ip(u)){s=u;break}u=u.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var d=s.stateNode,g=md(t);Lo(t,g,d);break;case 5:var b=s.stateNode;s.flags&32&&(si(b,""),s.flags&=-33);var E=md(t);Lo(t,E,b);break;case 3:case 4:var N=s.stateNode.containerInfo,F=md(t);pd(t,F,N);break;default:throw Error(i(161))}}catch(q){Qe(t,t.return,q)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function hp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;hp(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function nr(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)op(t,a.alternate,a),a=a.sibling}function Ir(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:tr(4,a,a.return),Ir(a);break;case 1:sa(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&ap(a,a.return,s),Ir(a);break;case 27:Qs(a.stateNode);case 26:case 5:sa(a,a.return),Ir(a);break;case 22:a.memoizedState===null&&Ir(a);break;case 30:Ir(a);break;default:Ir(a)}t=t.sibling}}function ar(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,d=t,g=a,b=g.flags;switch(g.tag){case 0:case 11:case 15:ar(d,g,s),Is(4,g);break;case 1:if(ar(d,g,s),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){Qe(u,u.return,F)}if(u=g,d=u.updateQueue,d!==null){var E=u.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)$g(N[d],E)}catch(F){Qe(u,u.return,F)}}s&&b&64&&np(g),$s(g,g.return);break;case 27:sp(g);case 26:case 5:ar(d,g,s),s&&u===null&&b&4&&rp(g),$s(g,g.return);break;case 12:ar(d,g,s);break;case 13:ar(d,g,s),s&&b&4&&dp(d,g);break;case 22:g.memoizedState===null&&ar(d,g,s),$s(g,g.return);break;case 30:break;default:ar(d,g,s)}a=a.sibling}}function _d(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ts(s))}function bd(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Ts(t))}function la(t,a,s,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)gp(t,a,s,u),a=a.sibling}function gp(t,a,s,u){var d=a.flags;switch(a.tag){case 0:case 11:case 15:la(t,a,s,u),d&2048&&Is(9,a);break;case 1:la(t,a,s,u);break;case 3:la(t,a,s,u),d&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Ts(t)));break;case 12:if(d&2048){la(t,a,s,u),t=a.stateNode;try{var g=a.memoizedProps,b=g.id,E=g.onPostCommit;typeof E=="function"&&E(b,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Qe(a,a.return,N)}}else la(t,a,s,u);break;case 13:la(t,a,s,u);break;case 23:break;case 22:g=a.stateNode,b=a.alternate,a.memoizedState!==null?g._visibility&2?la(t,a,s,u):Bs(t,a):g._visibility&2?la(t,a,s,u):(g._visibility|=2,Ri(t,a,s,u,(a.subtreeFlags&10256)!==0)),d&2048&&_d(b,a);break;case 24:la(t,a,s,u),d&2048&&bd(a.alternate,a);break;default:la(t,a,s,u)}}function Ri(t,a,s,u,d){for(d=d&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=t,b=a,E=s,N=u,F=b.flags;switch(b.tag){case 0:case 11:case 15:Ri(g,b,E,N,d),Is(8,b);break;case 23:break;case 22:var q=b.stateNode;b.memoizedState!==null?q._visibility&2?Ri(g,b,E,N,d):Bs(g,b):(q._visibility|=2,Ri(g,b,E,N,d)),d&&F&2048&&_d(b.alternate,b);break;case 24:Ri(g,b,E,N,d),d&&F&2048&&bd(b.alternate,b);break;default:Ri(g,b,E,N,d)}a=a.sibling}}function Bs(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,u=a,d=u.flags;switch(u.tag){case 22:Bs(s,u),d&2048&&_d(u.alternate,u);break;case 24:Bs(s,u),d&2048&&bd(u.alternate,u);break;default:Bs(s,u)}a=a.sibling}}var Vs=8192;function Ci(t){if(t.subtreeFlags&Vs)for(t=t.child;t!==null;)mp(t),t=t.sibling}function mp(t){switch(t.tag){case 26:Ci(t),t.flags&Vs&&t.memoizedState!==null&&Dw(zn,t.memoizedState,t.memoizedProps);break;case 5:Ci(t);break;case 3:case 4:var a=zn;zn=Xo(t.stateNode.containerInfo),Ci(t),zn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Vs,Vs=16777216,Ci(t),Vs=a):Ci(t));break;default:Ci(t)}}function pp(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function qs(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var u=a[s];kt=u,yp(u,t)}pp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vp(t),t=t.sibling}function vp(t){switch(t.tag){case 0:case 11:case 15:qs(t),t.flags&2048&&tr(9,t,t.return);break;case 3:qs(t);break;case 12:qs(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Po(t)):qs(t);break;default:qs(t)}}function Po(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var u=a[s];kt=u,yp(u,t)}pp(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:tr(8,a,a.return),Po(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,Po(a));break;default:Po(a)}t=t.sibling}}function yp(t,a){for(;kt!==null;){var s=kt;switch(s.tag){case 0:case 11:case 15:tr(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ts(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,kt=u;else e:for(s=t;kt!==null;){u=kt;var d=u.sibling,g=u.return;if(up(u),u===s){kt=null;break e}if(d!==null){d.return=g,kt=d;break e}kt=g}}}var G0={getCacheForType:function(t){var a=Kt(Ct),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s}},Y0=typeof WeakMap=="function"?WeakMap:Map,Ve=0,tt=null,ke=null,He=0,qe=0,_n=null,rr=!1,Ti=!1,wd=!1,ja=0,gt=0,ir=0,$r=0,Sd=0,Mn=0,Ai=0,Gs=null,dn=null,Ed=!1,xd=0,Ho=1/0,Fo=null,sr=null,$t=0,lr=null,Oi=null,Di=0,Rd=0,Cd=null,_p=null,Ys=0,Td=null;function bn(){if((Ve&2)!==0&&He!==0)return He&-He;if(L.T!==null){var t=vi;return t!==0?t:kd()}return gn()}function bp(){Mn===0&&(Mn=(He&536870912)===0||Be?Kl():536870912);var t=jn.current;return t!==null&&(t.flags|=32),Mn}function wn(t,a,s){(t===tt&&(qe===2||qe===9)||t.cancelPendingCommit!==null)&&(Ni(t,0),or(t,He,Mn,!1)),ft(t,s),((Ve&2)===0||t!==tt)&&(t===tt&&((Ve&2)===0&&($r|=s),gt===4&&or(t,He,Mn,!1)),oa(t))}function wp(t,a,s){if((Ve&6)!==0)throw Error(i(327));var u=!s&&(a&124)===0&&(a&t.expiredLanes)===0||pa(t,a),d=u?W0(t,a):Dd(t,a,!0),g=u;do{if(d===0){Ti&&!u&&or(t,a,0,!1);break}else{if(s=t.current.alternate,g&&!K0(s)){d=Dd(t,a,!1),g=!1;continue}if(d===2){if(g=a,t.errorRecoveryDisabledLanes&g)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var E=t;d=Gs;var N=E.current.memoizedState.isDehydrated;if(N&&(Ni(E,b).flags|=256),b=Dd(E,b,!1),b!==2){if(wd&&!N){E.errorRecoveryDisabledLanes|=g,$r|=g,d=4;break e}g=dn,dn=d,g!==null&&(dn===null?dn=g:dn.push.apply(dn,g))}d=b}if(g=!1,d!==2)continue}}if(d===1){Ni(t,0),or(t,a,0,!0);break}e:{switch(u=t,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:or(u,a,Mn,!rr);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(d=xd+300-Jt(),10<d)){if(or(u,a,Mn,!rr),na(u,0,!0)!==0)break e;u.timeoutHandle=Wp(Sp.bind(null,u,s,dn,Fo,Ed,a,Mn,$r,Ai,rr,g,2,-0,0),d);break e}Sp(u,s,dn,Fo,Ed,a,Mn,$r,Ai,rr,g,0,-0,0)}}break}while(!0);oa(t)}function Sp(t,a,s,u,d,g,b,E,N,F,q,K,z,I){if(t.timeoutHandle=-1,K=a.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(el={stylesheets:null,count:0,unsuspend:Ow},mp(a),K=Nw(),K!==null)){t.cancelPendingCommit=K(Op.bind(null,t,a,g,s,u,d,b,E,N,q,1,z,I)),or(t,g,b,!F);return}Op(t,a,g,s,u,d,b,E,N)}function K0(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var d=s[u],g=d.getSnapshot;d=d.value;try{if(!mn(g(),d))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function or(t,a,s,u){a&=~Sd,a&=~$r,t.suspendedLanes|=a,t.pingedLanes&=~a,u&&(t.warmLanes|=a),u=t.expirationTimes;for(var d=a;0<d;){var g=31-ze(d),b=1<<g;u[g]=-1,d&=~b}s!==0&&qt(t,s,a)}function zo(){return(Ve&6)===0?(Ks(0),!1):!0}function Ad(){if(ke!==null){if(qe===0)var t=ke.return;else t=ke,xa=Lr=null,qc(t),Ei=null,Hs=0,t=ke;for(;t!==null;)tp(t.alternate,t),t=t.return;ke=null}}function Ni(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,fw(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ad(),tt=t,ke=s=wa(t.current,null),He=a,qe=0,_n=null,rr=!1,Ti=pa(t,a),wd=!1,Ai=Mn=Sd=$r=ir=gt=0,dn=Gs=null,Ed=!1,(a&8)!==0&&(a|=a&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=a;0<u;){var d=31-ze(u),g=1<<d;a|=t[d],u&=~g}return ja=a,lo(),s}function Ep(t,a){je=null,L.H=To,a===Os||a===vo?(a=zg(),qe=3):a===Pg?(a=zg(),qe=4):qe=a===Im?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,_n=a,ke===null&&(gt=1,jo(t,An(a,t.current)))}function xp(){var t=L.H;return L.H=To,t===null?To:t}function Rp(){var t=L.A;return L.A=G0,t}function Od(){gt=4,rr||(He&4194048)!==He&&jn.current!==null||(Ti=!0),(ir&134217727)===0&&($r&134217727)===0||tt===null||or(tt,He,Mn,!1)}function Dd(t,a,s){var u=Ve;Ve|=2;var d=xp(),g=Rp();(tt!==t||He!==a)&&(Fo=null,Ni(t,a)),a=!1;var b=gt;e:do try{if(qe!==0&&ke!==null){var E=ke,N=_n;switch(qe){case 8:Ad(),b=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(a=!0);var F=qe;if(qe=0,_n=null,ji(t,E,N,F),s&&Ti){b=0;break e}break;default:F=qe,qe=0,_n=null,ji(t,E,N,F)}}X0(),b=gt;break}catch(q){Ep(t,q)}while(!0);return a&&t.shellSuspendCounter++,xa=Lr=null,Ve=u,L.H=d,L.A=g,ke===null&&(tt=null,He=0,lo()),b}function X0(){for(;ke!==null;)Cp(ke)}function W0(t,a){var s=Ve;Ve|=2;var u=xp(),d=Rp();tt!==t||He!==a?(Fo=null,Ho=Jt()+500,Ni(t,a)):Ti=pa(t,a);e:do try{if(qe!==0&&ke!==null){a=ke;var g=_n;t:switch(qe){case 1:qe=0,_n=null,ji(t,a,g,1);break;case 2:case 9:if(Hg(g)){qe=0,_n=null,Tp(a);break}a=function(){qe!==2&&qe!==9||tt!==t||(qe=7),oa(t)},g.then(a,a);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:Hg(g)?(qe=0,_n=null,Tp(a)):(qe=0,_n=null,ji(t,a,g,7));break;case 5:var b=null;switch(ke.tag){case 26:b=ke.memoizedState;case 5:case 27:var E=ke;if(!b||ov(b)){qe=0,_n=null;var N=E.sibling;if(N!==null)ke=N;else{var F=E.return;F!==null?(ke=F,Io(F)):ke=null}break t}}qe=0,_n=null,ji(t,a,g,5);break;case 6:qe=0,_n=null,ji(t,a,g,6);break;case 8:Ad(),gt=6;break e;default:throw Error(i(462))}}Q0();break}catch(q){Ep(t,q)}while(!0);return xa=Lr=null,L.H=u,L.A=d,Ve=s,ke!==null?0:(tt=null,He=0,lo(),gt)}function Q0(){for(;ke!==null&&!ha();)Cp(ke)}function Cp(t){var a=Jm(t.alternate,t,ja);t.memoizedProps=t.pendingProps,a===null?Io(t):ke=a}function Tp(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=Ym(s,a,a.pendingProps,a.type,void 0,He);break;case 11:a=Ym(s,a,a.pendingProps,a.type.render,a.ref,He);break;case 5:qc(a);default:tp(s,a),a=ke=Ag(a,ja),a=Jm(s,a,ja)}t.memoizedProps=t.pendingProps,a===null?Io(t):ke=a}function ji(t,a,s,u){xa=Lr=null,qc(a),Ei=null,Hs=0;var d=a.return;try{if(z0(t,d,a,s,He)){gt=1,jo(t,An(s,t.current)),ke=null;return}}catch(g){if(d!==null)throw ke=d,g;gt=1,jo(t,An(s,t.current)),ke=null;return}a.flags&32768?(Be||u===1?t=!0:Ti||(He&536870912)!==0?t=!1:(rr=t=!0,(u===2||u===9||u===3||u===6)&&(u=jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ap(a,t)):Io(a)}function Io(t){var a=t;do{if((a.flags&32768)!==0){Ap(a,rr);return}t=a.return;var s=$0(a.alternate,a,ja);if(s!==null){ke=s;return}if(a=a.sibling,a!==null){ke=a;return}ke=a=t}while(a!==null);gt===0&&(gt=5)}function Ap(t,a){do{var s=B0(t.alternate,t);if(s!==null){s.flags&=32767,ke=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){ke=t;return}ke=t=s}while(t!==null);gt=6,ke=null}function Op(t,a,s,u,d,g,b,E,N){t.cancelPendingCommit=null;do $o();while($t!==0);if((Ve&6)!==0)throw Error(i(327));if(a!==null){if(a===t.current)throw Error(i(177));if(g=a.lanes|a.childLanes,g|=bc,en(t,s,g,b,E,N),t===tt&&(ke=tt=null,He=0),Oi=a,lr=t,Di=s,Rd=g,Cd=d,_p=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tw(H,function(){return kp(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,d=W.p,W.p=2,b=Ve,Ve|=4;try{V0(t,a,s)}finally{Ve=b,W.p=d,L.T=u}}$t=1,Dp(),Np(),jp()}}function Dp(){if($t===1){$t=0;var t=lr,a=Oi,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=L.T,L.T=null;var u=W.p;W.p=2;var d=Ve;Ve|=4;try{fp(a,t);var g=$d,b=yg(t.containerInfo),E=g.focusedElem,N=g.selectionRange;if(b!==E&&E&&E.ownerDocument&&vg(E.ownerDocument.documentElement,E)){if(N!==null&&mc(E)){var F=N.start,q=N.end;if(q===void 0&&(q=F),"selectionStart"in E)E.selectionStart=F,E.selectionEnd=Math.min(q,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var I=z.getSelection(),Ee=E.textContent.length,ve=Math.min(N.start,Ee),Xe=N.end===void 0?ve:Math.min(N.end,Ee);!I.extend&&ve>Xe&&(b=Xe,Xe=ve,ve=b);var k=pg(E,ve),M=pg(E,Xe);if(k&&M&&(I.rangeCount!==1||I.anchorNode!==k.node||I.anchorOffset!==k.offset||I.focusNode!==M.node||I.focusOffset!==M.offset)){var P=K.createRange();P.setStart(k.node,k.offset),I.removeAllRanges(),ve>Xe?(I.addRange(P),I.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),I.addRange(P))}}}}for(K=[],I=E;I=I.parentNode;)I.nodeType===1&&K.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Y=K[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}eu=!!Id,$d=Id=null}finally{Ve=d,W.p=u,L.T=s}}t.current=a,$t=2}}function Np(){if($t===2){$t=0;var t=lr,a=Oi,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=L.T,L.T=null;var u=W.p;W.p=2;var d=Ve;Ve|=4;try{op(t,a.alternate,a)}finally{Ve=d,W.p=u,L.T=s}}$t=3}}function jp(){if($t===4||$t===3){$t=0,Jn();var t=lr,a=Oi,s=Di,u=_p;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?$t=5:($t=0,Oi=lr=null,Mp(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(sr=null),zt(s),a=a.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(ge,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=L.T,d=W.p,W.p=2,L.T=null;try{for(var g=t.onRecoverableError,b=0;b<u.length;b++){var E=u[b];g(E.value,{componentStack:E.stack})}}finally{L.T=a,W.p=d}}(Di&3)!==0&&$o(),oa(t),d=t.pendingLanes,(s&4194090)!==0&&(d&42)!==0?t===Td?Ys++:(Ys=0,Td=t):Ys=0,Ks(0)}}function Mp(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,Ts(a)))}function $o(t){return Dp(),Np(),jp(),kp()}function kp(){if($t!==5)return!1;var t=lr,a=Rd;Rd=0;var s=zt(Di),u=L.T,d=W.p;try{W.p=32>s?32:s,L.T=null,s=Cd,Cd=null;var g=lr,b=Di;if($t=0,Oi=lr=null,Di=0,(Ve&6)!==0)throw Error(i(331));var E=Ve;if(Ve|=4,vp(g.current),gp(g,g.current,b,s),Ve=E,Ks(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(ge,g)}catch{}return!0}finally{W.p=d,L.T=u,Mp(t,a)}}function Up(t,a,s){a=An(s,a),a=id(t.stateNode,a,2),t=Qa(t,a,2),t!==null&&(ft(t,2),oa(t))}function Qe(t,a,s){if(t.tag===3)Up(t,t,s);else for(;a!==null;){if(a.tag===3){Up(a,t,s);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(sr===null||!sr.has(u))){t=An(s,t),s=Fm(2),u=Qa(a,s,2),u!==null&&(zm(s,u,a,t),ft(u,2),oa(u));break}}a=a.return}}function Nd(t,a,s){var u=t.pingCache;if(u===null){u=t.pingCache=new Y0;var d=new Set;u.set(a,d)}else d=u.get(a),d===void 0&&(d=new Set,u.set(a,d));d.has(s)||(wd=!0,d.add(s),t=Z0.bind(null,t,a,s),a.then(t,t))}function Z0(t,a,s){var u=t.pingCache;u!==null&&u.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,tt===t&&(He&s)===s&&(gt===4||gt===3&&(He&62914560)===He&&300>Jt()-xd?(Ve&2)===0&&Ni(t,0):Sd|=s,Ai===He&&(Ai=0)),oa(t)}function Lp(t,a){a===0&&(a=Xl()),t=hi(t,a),t!==null&&(ft(t,a),oa(t))}function J0(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),Lp(t,s)}function ew(t,a){var s=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),Lp(t,s)}function tw(t,a){return Va(t,a)}var Bo=null,Mi=null,jd=!1,Vo=!1,Md=!1,Br=0;function oa(t){t!==Mi&&t.next===null&&(Mi===null?Bo=Mi=t:Mi=Mi.next=t),Vo=!0,jd||(jd=!0,aw())}function Ks(t,a){if(!Md&&Vo){Md=!0;do for(var s=!1,u=Bo;u!==null;){if(t!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var b=u.suspendedLanes,E=u.pingedLanes;g=(1<<31-ze(42|t)+1)-1,g&=d&~(b&~E),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,zp(u,g))}else g=He,g=na(u,u===tt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||pa(u,g)||(s=!0,zp(u,g));u=u.next}while(s);Md=!1}}function nw(){Pp()}function Pp(){Vo=jd=!1;var t=0;Br!==0&&(dw()&&(t=Br),Br=0);for(var a=Jt(),s=null,u=Bo;u!==null;){var d=u.next,g=Hp(u,a);g===0?(u.next=null,s===null?Bo=d:s.next=d,d===null&&(Mi=s)):(s=u,(t!==0||(g&3)!==0)&&(Vo=!0)),u=d}Ks(t)}function Hp(t,a){for(var s=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var b=31-ze(g),E=1<<b,N=d[b];N===-1?((E&s)===0||(E&u)!==0)&&(d[b]=Rr(E,a)):N<=a&&(t.expiredLanes|=E),g&=~E}if(a=tt,s=He,s=na(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===a&&(qe===2||qe===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&ln(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||pa(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(u!==null&&ln(u),zt(s)){case 2:case 8:s=j;break;case 32:s=H;break;case 268435456:s=ue;break;default:s=H}return u=Fp.bind(null,t),s=Va(s,u),t.callbackPriority=a,t.callbackNode=s,a}return u!==null&&u!==null&&ln(u),t.callbackPriority=2,t.callbackNode=null,2}function Fp(t,a){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if($o()&&t.callbackNode!==s)return null;var u=He;return u=na(t,t===tt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(wp(t,u,a),Hp(t,Jt()),t.callbackNode!=null&&t.callbackNode===s?Fp.bind(null,t):null)}function zp(t,a){if($o())return null;wp(t,a,!0)}function aw(){hw(function(){(Ve&6)!==0?Va(ga,nw):Pp()})}function kd(){return Br===0&&(Br=Kl()),Br}function Ip(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:eo(""+t)}function $p(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function rw(t,a,s,u,d){if(a==="submit"&&s&&s.stateNode===d){var g=Ip((d[it]||null).action),b=u.submitter;b&&(a=(a=b[it]||null)?Ip(a.formAction):b.getAttribute("formAction"),a!==null&&(g=a,b=null));var E=new ro("action","action",null,u,d);t.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Br!==0){var N=b?$p(d,b):new FormData(d);ed(s,{pending:!0,data:N,method:d.method,action:g},null,N)}}else typeof g=="function"&&(E.preventDefault(),N=b?$p(d,b):new FormData(d),ed(s,{pending:!0,data:N,method:d.method,action:g},g,N))},currentTarget:d}]})}}for(var Ud=0;Ud<_c.length;Ud++){var Ld=_c[Ud],iw=Ld.toLowerCase(),sw=Ld[0].toUpperCase()+Ld.slice(1);Fn(iw,"on"+sw)}Fn(wg,"onAnimationEnd"),Fn(Sg,"onAnimationIteration"),Fn(Eg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(E0,"onTransitionRun"),Fn(x0,"onTransitionStart"),Fn(R0,"onTransitionCancel"),Fn(xg,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xs));function Bp(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],d=u.event;u=u.listeners;e:{var g=void 0;if(a)for(var b=u.length-1;0<=b;b--){var E=u[b],N=E.instance,F=E.currentTarget;if(E=E.listener,N!==g&&d.isPropagationStopped())break e;g=E,d.currentTarget=F;try{g(d)}catch(q){No(q)}d.currentTarget=null,g=N}else for(b=0;b<u.length;b++){if(E=u[b],N=E.instance,F=E.currentTarget,E=E.listener,N!==g&&d.isPropagationStopped())break e;g=E,d.currentTarget=F;try{g(d)}catch(q){No(q)}d.currentTarget=null,g=N}}}}function Ue(t,a){var s=a[va];s===void 0&&(s=a[va]=new Set);var u=t+"__bubble";s.has(u)||(Vp(a,t,2,!1),s.add(u))}function Pd(t,a,s){var u=0;a&&(u|=4),Vp(s,t,u,a)}var qo="_reactListening"+Math.random().toString(36).slice(2);function Hd(t){if(!t[qo]){t[qo]=!0,Ph.forEach(function(s){s!=="selectionchange"&&(lw.has(s)||Pd(s,!1,t),Pd(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[qo]||(a[qo]=!0,Pd("selectionchange",!1,a))}}function Vp(t,a,s,u){switch(gv(a)){case 2:var d=kw;break;case 8:d=Uw;break;default:d=Zd}s=d.bind(null,a,s,t),d=void 0,!sc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(a,s,{capture:!0,passive:d}):t.addEventListener(a,s,!0):d!==void 0?t.addEventListener(a,s,{passive:d}):t.addEventListener(a,s,!1)}function Fd(t,a,s,u,d){var g=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var E=u.stateNode.containerInfo;if(E===d)break;if(b===4)for(b=u.return;b!==null;){var N=b.tag;if((N===3||N===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;E!==null;){if(b=ei(E),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){u=g=b;continue e}E=E.parentNode}}u=u.return}Qh(function(){var F=g,q=rc(s),K=[];e:{var z=Rg.get(t);if(z!==void 0){var I=ro,Ee=t;switch(t){case"keypress":if(no(s)===0)break e;case"keydown":case"keyup":I=t0;break;case"focusin":Ee="focus",I=cc;break;case"focusout":Ee="blur",I=cc;break;case"beforeblur":case"afterblur":I=cc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Bb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=r0;break;case wg:case Sg:case Eg:I=Gb;break;case xg:I=s0;break;case"scroll":case"scrollend":I=Ib;break;case"wheel":I=o0;break;case"copy":case"cut":case"paste":I=Kb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=ng;break;case"toggle":case"beforetoggle":I=c0}var ve=(a&4)!==0,Xe=!ve&&(t==="scroll"||t==="scrollend"),k=ve?z!==null?z+"Capture":null:z;ve=[];for(var M=F,P;M!==null;){var Y=M;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=gs(M,k),Y!=null&&ve.push(Ws(M,Y,P))),Xe)break;M=M.return}0<ve.length&&(z=new I(z,Ee,null,s,q),K.push({event:z,listeners:ve}))}}if((a&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",z&&s!==ac&&(Ee=s.relatedTarget||s.fromElement)&&(ei(Ee)||Ee[Yt]))break e;if((I||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,I?(Ee=s.relatedTarget||s.toElement,I=F,Ee=Ee?ei(Ee):null,Ee!==null&&(Xe=o(Ee),ve=Ee.tag,Ee!==Xe||ve!==5&&ve!==27&&ve!==6)&&(Ee=null)):(I=null,Ee=F),I!==Ee)){if(ve=eg,Y="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=ng,Y="onPointerLeave",k="onPointerEnter",M="pointer"),Xe=I==null?z:hs(I),P=Ee==null?z:hs(Ee),z=new ve(Y,M+"leave",I,s,q),z.target=Xe,z.relatedTarget=P,Y=null,ei(q)===F&&(ve=new ve(k,M+"enter",Ee,s,q),ve.target=P,ve.relatedTarget=Xe,Y=ve),Xe=Y,I&&Ee)t:{for(ve=I,k=Ee,M=0,P=ve;P;P=ki(P))M++;for(P=0,Y=k;Y;Y=ki(Y))P++;for(;0<M-P;)ve=ki(ve),M--;for(;0<P-M;)k=ki(k),P--;for(;M--;){if(ve===k||k!==null&&ve===k.alternate)break t;ve=ki(ve),k=ki(k)}ve=null}else ve=null;I!==null&&qp(K,z,I,ve,!1),Ee!==null&&Xe!==null&&qp(K,Xe,Ee,ve,!0)}}e:{if(z=F?hs(F):window,I=z.nodeName&&z.nodeName.toLowerCase(),I==="select"||I==="input"&&z.type==="file")var he=cg;else if(og(z))if(dg)he=b0;else{he=y0;var Me=v0}else I=z.nodeName,!I||I.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?F&&nc(F.elementType)&&(he=cg):he=_0;if(he&&(he=he(t,F))){ug(K,he,s,q);break e}Me&&Me(t,z,F),t==="focusout"&&F&&z.type==="number"&&F.memoizedProps.value!=null&&tc(z,"number",z.value)}switch(Me=F?hs(F):window,t){case"focusin":(og(Me)||Me.contentEditable==="true")&&(ci=Me,pc=F,Ss=null);break;case"focusout":Ss=pc=ci=null;break;case"mousedown":vc=!0;break;case"contextmenu":case"mouseup":case"dragend":vc=!1,_g(K,s,q);break;case"selectionchange":if(S0)break;case"keydown":case"keyup":_g(K,s,q)}var pe;if(fc)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else ui?sg(t,s)&&(be="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(be="onCompositionStart");be&&(ag&&s.locale!=="ko"&&(ui||be!=="onCompositionStart"?be==="onCompositionEnd"&&ui&&(pe=Zh()):(Ya=q,lc="value"in Ya?Ya.value:Ya.textContent,ui=!0)),Me=Go(F,be),0<Me.length&&(be=new tg(be,t,null,s,q),K.push({event:be,listeners:Me}),pe?be.data=pe:(pe=lg(s),pe!==null&&(be.data=pe)))),(pe=f0?h0(t,s):g0(t,s))&&(be=Go(F,"onBeforeInput"),0<be.length&&(Me=new tg("onBeforeInput","beforeinput",null,s,q),K.push({event:Me,listeners:be}),Me.data=pe)),rw(K,t,F,s,q)}Bp(K,a)})}function Ws(t,a,s){return{instance:t,listener:a,currentTarget:s}}function Go(t,a){for(var s=a+"Capture",u=[];t!==null;){var d=t,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=gs(t,s),d!=null&&u.unshift(Ws(t,d,g)),d=gs(t,a),d!=null&&u.push(Ws(t,d,g))),t.tag===3)return u;t=t.return}return[]}function ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qp(t,a,s,u,d){for(var g=a._reactName,b=[];s!==null&&s!==u;){var E=s,N=E.alternate,F=E.stateNode;if(E=E.tag,N!==null&&N===u)break;E!==5&&E!==26&&E!==27||F===null||(N=F,d?(F=gs(s,g),F!=null&&b.unshift(Ws(s,F,N))):d||(F=gs(s,g),F!=null&&b.push(Ws(s,F,N)))),s=s.return}b.length!==0&&t.push({event:a,listeners:b})}var ow=/\r\n?/g,uw=/\u0000|\uFFFD/g;function Gp(t){return(typeof t=="string"?t:""+t).replace(ow,`
`).replace(uw,"")}function Yp(t,a){return a=Gp(a),Gp(t)===a}function Yo(){}function Ke(t,a,s,u,d,g){switch(s){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||si(t,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&si(t,""+u);break;case"className":Ql(t,"class",u);break;case"tabIndex":Ql(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ql(t,s,u);break;case"style":Xh(t,u,g);break;case"data":if(a!=="object"){Ql(t,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=eo(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(a!=="input"&&Ke(t,a,"name",d.name,d,null),Ke(t,a,"formEncType",d.formEncType,d,null),Ke(t,a,"formMethod",d.formMethod,d,null),Ke(t,a,"formTarget",d.formTarget,d,null)):(Ke(t,a,"encType",d.encType,d,null),Ke(t,a,"method",d.method,d,null),Ke(t,a,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=eo(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=Yo);break;case"onScroll":u!=null&&Ue("scroll",t);break;case"onScrollEnd":u!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(s=u.__html,s!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=eo(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Wl(t,"popover",u);break;case"xlinkActuate":_a(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":_a(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":_a(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":_a(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":_a(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":_a(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":_a(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":_a(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":_a(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wl(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Fb.get(s)||s,Wl(t,s,u))}}function zd(t,a,s,u,d,g){switch(s){case"style":Xh(t,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(s=u.__html,s!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof u=="string"?si(t,u):(typeof u=="number"||typeof u=="bigint")&&si(t,""+u);break;case"onScroll":u!=null&&Ue("scroll",t);break;case"onScrollEnd":u!=null&&Ue("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Yo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hh.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),a=s.slice(2,d?s.length-7:void 0),g=t[it]||null,g=g!=null?g[s]:null,typeof g=="function"&&t.removeEventListener(a,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,u,d);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):Wl(t,s,u)}}}function Bt(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var u=!1,d=!1,g;for(g in s)if(s.hasOwnProperty(g)){var b=s[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ke(t,a,g,b,s,null)}}d&&Ke(t,a,"srcSet",s.srcSet,s,null),u&&Ke(t,a,"src",s.src,s,null);return;case"input":Ue("invalid",t);var E=g=b=d=null,N=null,F=null;for(u in s)if(s.hasOwnProperty(u)){var q=s[u];if(q!=null)switch(u){case"name":d=q;break;case"type":b=q;break;case"checked":N=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,a));break;default:Ke(t,a,u,q,s,null)}}qh(t,g,E,N,F,b,d,!1),Zl(t);return;case"select":Ue("invalid",t),u=b=g=null;for(d in s)if(s.hasOwnProperty(d)&&(E=s[d],E!=null))switch(d){case"value":g=E;break;case"defaultValue":b=E;break;case"multiple":u=E;default:Ke(t,a,d,E,s,null)}a=g,s=b,t.multiple=!!u,a!=null?ii(t,!!u,a,!1):s!=null&&ii(t,!!u,s,!0);return;case"textarea":Ue("invalid",t),g=d=u=null;for(b in s)if(s.hasOwnProperty(b)&&(E=s[b],E!=null))switch(b){case"value":u=E;break;case"defaultValue":d=E;break;case"children":g=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:Ke(t,a,b,E,s,null)}Yh(t,u,d,g),Zl(t);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(u=s[N],u!=null))switch(N){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ke(t,a,N,u,s,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(u=0;u<Xs.length;u++)Ue(Xs[u],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(u=s[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ke(t,a,F,u,s,null)}return;default:if(nc(a)){for(q in s)s.hasOwnProperty(q)&&(u=s[q],u!==void 0&&zd(t,a,q,u,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(u=s[E],u!=null&&Ke(t,a,E,u,s,null))}function cw(t,a,s,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,E=null,N=null,F=null,q=null;for(I in s){var K=s[I];if(s.hasOwnProperty(I)&&K!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":N=K;default:u.hasOwnProperty(I)||Ke(t,a,I,null,u,K)}}for(var z in u){var I=u[z];if(K=s[z],u.hasOwnProperty(z)&&(I!=null||K!=null))switch(z){case"type":g=I;break;case"name":d=I;break;case"checked":F=I;break;case"defaultChecked":q=I;break;case"value":b=I;break;case"defaultValue":E=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,a));break;default:I!==K&&Ke(t,a,z,I,u,K)}}ec(t,b,E,N,F,q,g,d);return;case"select":I=b=E=z=null;for(g in s)if(N=s[g],s.hasOwnProperty(g)&&N!=null)switch(g){case"value":break;case"multiple":I=N;default:u.hasOwnProperty(g)||Ke(t,a,g,null,u,N)}for(d in u)if(g=u[d],N=s[d],u.hasOwnProperty(d)&&(g!=null||N!=null))switch(d){case"value":z=g;break;case"defaultValue":E=g;break;case"multiple":b=g;default:g!==N&&Ke(t,a,d,g,u,N)}a=E,s=b,u=I,z!=null?ii(t,!!s,z,!1):!!u!=!!s&&(a!=null?ii(t,!!s,a,!0):ii(t,!!s,s?[]:"",!1));return;case"textarea":I=z=null;for(E in s)if(d=s[E],s.hasOwnProperty(E)&&d!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ke(t,a,E,null,u,d)}for(b in u)if(d=u[b],g=s[b],u.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":z=d;break;case"defaultValue":I=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&Ke(t,a,b,d,u,g)}Gh(t,z,I);return;case"option":for(var Ee in s)if(z=s[Ee],s.hasOwnProperty(Ee)&&z!=null&&!u.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:Ke(t,a,Ee,null,u,z)}for(N in u)if(z=u[N],I=s[N],u.hasOwnProperty(N)&&z!==I&&(z!=null||I!=null))switch(N){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Ke(t,a,N,z,u,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in s)z=s[ve],s.hasOwnProperty(ve)&&z!=null&&!u.hasOwnProperty(ve)&&Ke(t,a,ve,null,u,z);for(F in u)if(z=u[F],I=s[F],u.hasOwnProperty(F)&&z!==I&&(z!=null||I!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,a));break;default:Ke(t,a,F,z,u,I)}return;default:if(nc(a)){for(var Xe in s)z=s[Xe],s.hasOwnProperty(Xe)&&z!==void 0&&!u.hasOwnProperty(Xe)&&zd(t,a,Xe,void 0,u,z);for(q in u)z=u[q],I=s[q],!u.hasOwnProperty(q)||z===I||z===void 0&&I===void 0||zd(t,a,q,z,u,I);return}}for(var k in s)z=s[k],s.hasOwnProperty(k)&&z!=null&&!u.hasOwnProperty(k)&&Ke(t,a,k,null,u,z);for(K in u)z=u[K],I=s[K],!u.hasOwnProperty(K)||z===I||z==null&&I==null||Ke(t,a,K,z,u,I)}var Id=null,$d=null;function Ko(t){return t.nodeType===9?t:t.ownerDocument}function Kp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xp(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Bd(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Vd=null;function dw(){var t=window.event;return t&&t.type==="popstate"?t===Vd?!1:(Vd=t,!0):(Vd=null,!1)}var Wp=typeof setTimeout=="function"?setTimeout:void 0,fw=typeof clearTimeout=="function"?clearTimeout:void 0,Qp=typeof Promise=="function"?Promise:void 0,hw=typeof queueMicrotask=="function"?queueMicrotask:typeof Qp<"u"?function(t){return Qp.resolve(null).then(t).catch(gw)}:Wp;function gw(t){setTimeout(function(){throw t})}function ur(t){return t==="head"}function Zp(t,a){var s=a,u=0,d=0;do{var g=s.nextSibling;if(t.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"){if(0<u&&8>u){s=u;var b=t.ownerDocument;if(s&1&&Qs(b.documentElement),s&2&&Qs(b.body),s&4)for(s=b.head,Qs(s),b=s.firstChild;b;){var E=b.nextSibling,N=b.nodeName;b[ya]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&b.rel.toLowerCase()==="stylesheet"||s.removeChild(b),b=E}}if(d===0){t.removeChild(g),il(a);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:u=s.charCodeAt(0)-48;else u=0;s=g}while(s);il(a)}function qd(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":qd(s),Wu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function mw(t,a,s,u){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[ya])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function pw(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=In(t.nextSibling),t===null))return null;return t}function Gd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function vw(t,a){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")a();else{var u=function(){a(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function In(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var Yd=null;function Jp(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return t;a--}else s==="/$"&&a++}t=t.previousSibling}return null}function ev(t,a,s){switch(a=Ko(s),t){case"html":if(t=a.documentElement,!t)throw Error(i(452));return t;case"head":if(t=a.head,!t)throw Error(i(453));return t;case"body":if(t=a.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Qs(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Wu(t)}var kn=new Map,tv=new Set;function Xo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ma=W.d;W.d={f:yw,r:_w,D:bw,C:ww,L:Sw,m:Ew,X:Rw,S:xw,M:Cw};function yw(){var t=Ma.f(),a=zo();return t||a}function _w(t){var a=ti(t);a!==null&&a.tag===5&&a.type==="form"?wm(a):Ma.r(t)}var Ui=typeof document>"u"?null:document;function nv(t,a,s){var u=Ui;if(u&&typeof a=="string"&&a){var d=Tn(a);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),tv.has(d)||(tv.add(d),t={rel:t,crossOrigin:s,href:a},u.querySelector(d)===null&&(a=u.createElement("link"),Bt(a,"link",t),jt(a),u.head.appendChild(a)))}}function bw(t){Ma.D(t),nv("dns-prefetch",t,null)}function ww(t,a){Ma.C(t,a),nv("preconnect",t,a)}function Sw(t,a,s){Ma.L(t,a,s);var u=Ui;if(u&&t&&a){var d='link[rel="preload"][as="'+Tn(a)+'"]';a==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Tn(s.imageSizes)+'"]')):d+='[href="'+Tn(t)+'"]';var g=d;switch(a){case"style":g=Li(t);break;case"script":g=Pi(t)}kn.has(g)||(t=v({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),kn.set(g,t),u.querySelector(d)!==null||a==="style"&&u.querySelector(Zs(g))||a==="script"&&u.querySelector(Js(g))||(a=u.createElement("link"),Bt(a,"link",t),jt(a),u.head.appendChild(a)))}}function Ew(t,a){Ma.m(t,a);var s=Ui;if(s&&t){var u=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+Tn(u)+'"][href="'+Tn(t)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Pi(t)}if(!kn.has(g)&&(t=v({rel:"modulepreload",href:t},a),kn.set(g,t),s.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Js(g)))return}u=s.createElement("link"),Bt(u,"link",t),jt(u),s.head.appendChild(u)}}}function xw(t,a,s){Ma.S(t,a,s);var u=Ui;if(u&&t){var d=ni(u).hoistableStyles,g=Li(t);a=a||"default";var b=d.get(g);if(!b){var E={loading:0,preload:null};if(b=u.querySelector(Zs(g)))E.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":a},s),(s=kn.get(g))&&Kd(t,s);var N=b=u.createElement("link");jt(N),Bt(N,"link",t),N._p=new Promise(function(F,q){N.onload=F,N.onerror=q}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Wo(b,a,u)}b={type:"stylesheet",instance:b,count:1,state:E},d.set(g,b)}}}function Rw(t,a){Ma.X(t,a);var s=Ui;if(s&&t){var u=ni(s).hoistableScripts,d=Pi(t),g=u.get(d);g||(g=s.querySelector(Js(d)),g||(t=v({src:t,async:!0},a),(a=kn.get(d))&&Xd(t,a),g=s.createElement("script"),jt(g),Bt(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function Cw(t,a){Ma.M(t,a);var s=Ui;if(s&&t){var u=ni(s).hoistableScripts,d=Pi(t),g=u.get(d);g||(g=s.querySelector(Js(d)),g||(t=v({src:t,async:!0,type:"module"},a),(a=kn.get(d))&&Xd(t,a),g=s.createElement("script"),jt(g),Bt(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function av(t,a,s,u){var d=(d=ce.current)?Xo(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=Li(s.href),s=ni(d).hoistableStyles,u=s.get(a),u||(u={type:"style",instance:null,count:0,state:null},s.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Li(s.href);var g=ni(d).hoistableStyles,b=g.get(t);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,b),(g=d.querySelector(Zs(t)))&&!g._p&&(b.instance=g,b.state.loading=5),kn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(t,s),g||Tw(d,t,s,b.state))),a&&u===null)throw Error(i(528,""));return b}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Pi(s),s=ni(d).hoistableScripts,u=s.get(a),u||(u={type:"script",instance:null,count:0,state:null},s.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Li(t){return'href="'+Tn(t)+'"'}function Zs(t){return'link[rel="stylesheet"]['+t+"]"}function rv(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Tw(t,a,s,u){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=t.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Bt(a,"link",s),jt(a),t.head.appendChild(a))}function Pi(t){return'[src="'+Tn(t)+'"]'}function Js(t){return"script[async]"+t}function iv(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var u=t.querySelector('style[data-href~="'+Tn(s.href)+'"]');if(u)return a.instance=u,jt(u),u;var d=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),jt(u),Bt(u,"style",d),Wo(u,s.precedence,t),a.instance=u;case"stylesheet":d=Li(s.href);var g=t.querySelector(Zs(d));if(g)return a.state.loading|=4,a.instance=g,jt(g),g;u=rv(s),(d=kn.get(d))&&Kd(u,d),g=(t.ownerDocument||t).createElement("link"),jt(g);var b=g;return b._p=new Promise(function(E,N){b.onload=E,b.onerror=N}),Bt(g,"link",u),a.state.loading|=4,Wo(g,s.precedence,t),a.instance=g;case"script":return g=Pi(s.src),(d=t.querySelector(Js(g)))?(a.instance=d,jt(d),d):(u=s,(d=kn.get(g))&&(u=v({},s),Xd(u,d)),t=t.ownerDocument||t,d=t.createElement("script"),jt(d),Bt(d,"link",u),t.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Wo(u,s.precedence,t));return a.instance}function Wo(t,a,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,b=0;b<u.length;b++){var E=u[b];if(E.dataset.precedence===a)g=E;else if(g!==d)break}g?g.parentNode.insertBefore(t,g.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function Kd(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Xd(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Qo=null;function sv(t,a,s){if(Qo===null){var u=new Map,d=Qo=new Map;d.set(s,u)}else d=Qo,u=d.get(s),u||(u=new Map,d.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var g=s[d];if(!(g[ya]||g[rt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(a)||"";b=t+b;var E=u.get(b);E?E.push(g):u.set(b,[g])}}return u}function lv(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function Aw(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function ov(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var el=null;function Ow(){}function Dw(t,a,s){if(el===null)throw Error(i(475));var u=el;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Li(s.href),g=t.querySelector(Zs(d));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=Zo.bind(u),t.then(u,u)),a.state.loading|=4,a.instance=g,jt(g);return}g=t.ownerDocument||t,s=rv(s),(d=kn.get(d))&&Kd(s,d),g=g.createElement("link"),jt(g);var b=g;b._p=new Promise(function(E,N){b.onload=E,b.onerror=N}),Bt(g,"link",s),a.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Zo.bind(u),t.addEventListener("load",a),t.addEventListener("error",a))}}function Nw(){if(el===null)throw Error(i(475));var t=el;return t.stylesheets&&t.count===0&&Wd(t,t.stylesheets),0<t.count?function(a){var s=setTimeout(function(){if(t.stylesheets&&Wd(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Zo(){if(this.count--,this.count===0){if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Jo=null;function Wd(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Jo=new Map,a.forEach(jw,t),Jo=null,Zo.call(t))}function jw(t,a){if(!(a.state.loading&4)){var s=Jo.get(t);if(s)var u=s.get(null);else{s=new Map,Jo.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),u=b)}u&&s.set(null,u)}d=a.instance,b=d.getAttribute("data-precedence"),g=s.get(b)||u,g===u&&s.set(null,d),s.set(b,d),this.count++,u=Zo.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),a.state.loading|=4}}var tl={$$typeof:A,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Mw(t,a,s,u,d,g,b,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.hiddenUpdates=fs(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function uv(t,a,s,u,d,g,b,E,N,F,q,K){return t=new Mw(t,a,s,b,E,N,F,K),a=1,g===!0&&(a|=24),g=pn(3,null,null,a),t.current=g,g.stateNode=t,a=Nc(),a.refCount++,t.pooledCache=a,a.refCount++,g.memoizedState={element:u,isDehydrated:s,cache:a},Uc(g),t}function cv(t){return t?(t=gi,t):gi}function dv(t,a,s,u,d,g){d=cv(d),u.context===null?u.context=d:u.pendingContext=d,u=Wa(a),u.payload={element:s},g=g===void 0?null:g,g!==null&&(u.callback=g),s=Qa(t,u,a),s!==null&&(wn(s,t,a),Ns(s,t,a))}function fv(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function Qd(t,a){fv(t,a),(t=t.alternate)&&fv(t,a)}function hv(t){if(t.tag===13){var a=hi(t,67108864);a!==null&&wn(a,t,67108864),Qd(t,67108864)}}var eu=!0;function kw(t,a,s,u){var d=L.T;L.T=null;var g=W.p;try{W.p=2,Zd(t,a,s,u)}finally{W.p=g,L.T=d}}function Uw(t,a,s,u){var d=L.T;L.T=null;var g=W.p;try{W.p=8,Zd(t,a,s,u)}finally{W.p=g,L.T=d}}function Zd(t,a,s,u){if(eu){var d=Jd(u);if(d===null)Fd(t,a,u,tu,s),mv(t,u);else if(Pw(d,t,a,s,u))u.stopPropagation();else if(mv(t,u),a&4&&-1<Lw.indexOf(t)){for(;d!==null;){var g=ti(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=hn(g.pendingLanes);if(b!==0){var E=g;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var N=1<<31-ze(b);E.entanglements[1]|=N,b&=~N}oa(g),(Ve&6)===0&&(Ho=Jt()+500,Ks(0))}}break;case 13:E=hi(g,2),E!==null&&wn(E,g,2),zo(),Qd(g,2)}if(g=Jd(u),g===null&&Fd(t,a,u,tu,s),g===d)break;d=g}d!==null&&u.stopPropagation()}else Fd(t,a,u,null,s)}}function Jd(t){return t=rc(t),ef(t)}var tu=null;function ef(t){if(tu=null,t=ei(t),t!==null){var a=o(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=c(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return tu=t,null}function gv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ds()){case ga:return 2;case j:return 8;case H:case V:return 32;case ue:return 268435456;default:return 32}default:return 32}}var tf=!1,cr=null,dr=null,fr=null,nl=new Map,al=new Map,hr=[],Lw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mv(t,a){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":nl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(a.pointerId)}}function rl(t,a,s,u,d,g){return t===null||t.nativeEvent!==g?(t={blockedOn:a,domEventName:s,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},a!==null&&(a=ti(a),a!==null&&hv(a)),t):(t.eventSystemFlags|=u,a=t.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),t)}function Pw(t,a,s,u,d){switch(a){case"focusin":return cr=rl(cr,t,a,s,u,d),!0;case"dragenter":return dr=rl(dr,t,a,s,u,d),!0;case"mouseover":return fr=rl(fr,t,a,s,u,d),!0;case"pointerover":var g=d.pointerId;return nl.set(g,rl(nl.get(g)||null,t,a,s,u,d)),!0;case"gotpointercapture":return g=d.pointerId,al.set(g,rl(al.get(g)||null,t,a,s,u,d)),!0}return!1}function pv(t){var a=ei(t.target);if(a!==null){var s=o(a);if(s!==null){if(a=s.tag,a===13){if(a=c(s),a!==null){t.blockedOn=a,qa(t.priority,function(){if(s.tag===13){var u=bn();u=Gt(u);var d=hi(s,u);d!==null&&wn(d,s,u),Qd(s,u)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nu(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=Jd(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);ac=u,s.target.dispatchEvent(u),ac=null}else return a=ti(s),a!==null&&hv(a),t.blockedOn=s,!1;a.shift()}return!0}function vv(t,a,s){nu(t)&&s.delete(a)}function Hw(){tf=!1,cr!==null&&nu(cr)&&(cr=null),dr!==null&&nu(dr)&&(dr=null),fr!==null&&nu(fr)&&(fr=null),nl.forEach(vv),al.forEach(vv)}function au(t,a){t.blockedOn===a&&(t.blockedOn=null,tf||(tf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hw)))}var ru=null;function yv(t){ru!==t&&(ru=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ru===t&&(ru=null);for(var a=0;a<t.length;a+=3){var s=t[a],u=t[a+1],d=t[a+2];if(typeof u!="function"){if(ef(u||s)===null)continue;break}var g=ti(s);g!==null&&(t.splice(a,3),a-=3,ed(g,{pending:!0,data:d,method:s.method,action:u},u,d))}}))}function il(t){function a(N){return au(N,t)}cr!==null&&au(cr,t),dr!==null&&au(dr,t),fr!==null&&au(fr,t),nl.forEach(a),al.forEach(a);for(var s=0;s<hr.length;s++){var u=hr[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<hr.length&&(s=hr[0],s.blockedOn===null);)pv(s),s.blockedOn===null&&hr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var d=s[u],g=s[u+1],b=d[it]||null;if(typeof g=="function")b||yv(s);else if(b){var E=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[it]||null)E=b.formAction;else if(ef(d)!==null)continue}else E=b.action;typeof E=="function"?s[u+1]=E:(s.splice(u,3),u-=3),yv(s)}}}function nf(t){this._internalRoot=t}iu.prototype.render=nf.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(i(409));var s=a.current,u=bn();dv(s,u,t,a,null,null)},iu.prototype.unmount=nf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;dv(t.current,2,null,t,null,null),zo(),a[Yt]=null}};function iu(t){this._internalRoot=t}iu.prototype.unstable_scheduleHydration=function(t){if(t){var a=gn();t={blockedOn:null,target:t,priority:a};for(var s=0;s<hr.length&&a!==0&&a<hr[s].priority;s++);hr.splice(s,0,t),s===0&&pv(t)}};var _v=n.version;if(_v!=="19.1.1")throw Error(i(527,_v,"19.1.1"));W.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=h(a),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var Fw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{ge=su.inject(Fw),_e=su}catch{}}return ll.createRoot=function(t,a){if(!l(t))throw Error(i(299));var s=!1,u="",d=Um,g=Lm,b=Pm,E=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks)),a=uv(t,1,!1,null,null,s,u,d,g,b,E,null),t[Yt]=a.current,Hd(t),new nf(a)},ll.hydrateRoot=function(t,a,s){if(!l(t))throw Error(i(299));var u=!1,d="",g=Um,b=Lm,E=Pm,N=null,F=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks),s.formState!==void 0&&(F=s.formState)),a=uv(t,1,!0,a,s??null,u,d,g,b,E,N,F),a.context=cv(null),s=a.current,u=bn(),u=Gt(u),d=Wa(u),d.callback=null,Qa(s,d,u),s=u,a.current.lanes=s,ft(a,s),oa(a),t[Yt]=a.current,Hd(t),new iu(a)},ll.version="19.1.1",ll}var Ov;function Xw(){if(Ov)return sf.exports;Ov=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),sf.exports=Kw(),sf.exports}var Ww=Xw();const Qw=ah(Ww);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dv="popstate";function Zw(e={}){function n(i,l){let{pathname:o,search:c,hash:f}=i.location;return Mf("",{pathname:o,search:c,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(i,l){return typeof l=="string"?l:Dl(l)}return eS(n,r,null,e)}function ct(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Xn(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Jw(){return Math.random().toString(36).substring(2,10)}function Nv(e,n){return{usr:e.state,key:e.key,idx:n}}function Mf(e,n,r=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?as(n):n,state:r,key:n&&n.key||i||Jw()}}function Dl({pathname:e="/",search:n="",hash:r=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function as(e){let n={};if(e){let r=e.indexOf("#");r>=0&&(n.hash=e.substring(r),e=e.substring(0,r));let i=e.indexOf("?");i>=0&&(n.search=e.substring(i),e=e.substring(0,i)),e&&(n.pathname=e)}return n}function eS(e,n,r,i={}){let{window:l=document.defaultView,v5Compat:o=!1}=i,c=l.history,f="POP",h=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function y(){f="POP";let C=v(),T=C==null?null:C-m;m=C,h&&h({action:f,location:R.location,delta:T})}function _(C,T){f="PUSH";let D=Mf(R.location,C,T);m=v()+1;let A=Nv(D,m),$=R.createHref(D);try{c.pushState(A,"",$)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;l.location.assign($)}o&&h&&h({action:f,location:R.location,delta:1})}function w(C,T){f="REPLACE";let D=Mf(R.location,C,T);m=v();let A=Nv(D,m),$=R.createHref(D);c.replaceState(A,"",$),o&&h&&h({action:f,location:R.location,delta:0})}function S(C){return tS(C)}let R={get action(){return f},get location(){return e(l,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(Dv,y),h=C,()=>{l.removeEventListener(Dv,y),h=null}},createHref(C){return n(l,C)},createURL:S,encodeLocation(C){let T=S(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:_,replace:w,go(C){return c.go(C)}};return R}function tS(e,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ct(r,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Dl(e);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function Zy(e,n,r="/"){return nS(e,n,r,!1)}function nS(e,n,r,i){let l=typeof n=="string"?as(n):n,o=za(l.pathname||"/",r);if(o==null)return null;let c=Jy(e);aS(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=gS(o);f=fS(c[h],m,i)}return f}function Jy(e,n=[],r=[],i="",l=!1){let o=(c,f,h=l,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&h)return;ct(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let y=Fa([i,v.relativePath]),_=r.concat(v);c.children&&c.children.length>0&&(ct(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Jy(c.children,n,_,y,h)),!(c.path==null&&!c.index)&&n.push({path:y,score:cS(y,c.index),routesMeta:_})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))o(c,f);else for(let h of e_(c.path))o(c,f,!0,h)}),n}function e_(e){let n=e.split("/");if(n.length===0)return[];let[r,...i]=n,l=r.endsWith("?"),o=r.replace(/\?$/,"");if(i.length===0)return l?[o,""]:[o];let c=e_(i.join("/")),f=[];return f.push(...c.map(h=>h===""?o:[o,h].join("/"))),l&&f.push(...c),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function aS(e){e.sort((n,r)=>n.score!==r.score?r.score-n.score:dS(n.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var rS=/^:[\w-]+$/,iS=3,sS=2,lS=1,oS=10,uS=-2,jv=e=>e==="*";function cS(e,n){let r=e.split("/"),i=r.length;return r.some(jv)&&(i+=uS),n&&(i+=sS),r.filter(l=>!jv(l)).reduce((l,o)=>l+(rS.test(o)?iS:o===""?lS:oS),i)}function dS(e,n){return e.length===n.length&&e.slice(0,-1).every((i,l)=>i===n[l])?e[e.length-1]-n[n.length-1]:0}function fS(e,n,r=!1){let{routesMeta:i}=e,l={},o="/",c=[];for(let f=0;f<i.length;++f){let h=i[f],m=f===i.length-1,v=o==="/"?n:n.slice(o.length)||"/",y=Eu({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),_=h.route;if(!y&&m&&r&&!i[i.length-1].route.index&&(y=Eu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!y)return null;Object.assign(l,y.params),c.push({params:l,pathname:Fa([o,y.pathname]),pathnameBase:yS(Fa([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=Fa([o,y.pathnameBase]))}return c}function Eu(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=hS(e.path,e.caseSensitive,e.end),l=n.match(r);if(!l)return null;let o=l[0],c=o.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:y},_)=>{if(v==="*"){let S=f[_]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=f[_];return y&&!w?m[v]=void 0:m[v]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:e}}function hS(e,n=!1,r=!0){Xn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),i]}function gS(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Xn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function za(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function mS(e,n="/"){let{pathname:r,search:i="",hash:l=""}=typeof e=="string"?as(e):e;return{pathname:r?r.startsWith("/")?r:pS(r,n):n,search:_S(i),hash:bS(l)}}function pS(e,n){let r=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function cf(e,n,r,i){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vS(e){return e.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function ih(e){let n=vS(e);return n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase)}function sh(e,n,r,i=!1){let l;typeof e=="string"?l=as(e):(l={...e},ct(!l.pathname||!l.pathname.includes("?"),cf("?","pathname","search",l)),ct(!l.pathname||!l.pathname.includes("#"),cf("#","pathname","hash",l)),ct(!l.search||!l.search.includes("#"),cf("#","search","hash",l)));let o=e===""||l.pathname==="",c=o?"/":l.pathname,f;if(c==null)f=r;else{let y=n.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;l.pathname=_.join("/")}f=y>=0?n[y]:"/"}let h=mS(l,f),m=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}var Fa=e=>e.join("/").replace(/\/\/+/g,"/"),yS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_S=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var t_=["POST","PUT","PATCH","DELETE"];new Set(t_);var SS=["GET",...t_];new Set(SS);var rs=x.createContext(null);rs.displayName="DataRouter";var Hu=x.createContext(null);Hu.displayName="DataRouterState";x.createContext(!1);var n_=x.createContext({isTransitioning:!1});n_.displayName="ViewTransition";var ES=x.createContext(new Map);ES.displayName="Fetchers";var xS=x.createContext(null);xS.displayName="Await";var Zn=x.createContext(null);Zn.displayName="Navigation";var Hl=x.createContext(null);Hl.displayName="Location";var Pn=x.createContext({outlet:null,matches:[],isDataRoute:!1});Pn.displayName="Route";var lh=x.createContext(null);lh.displayName="RouteError";function RS(e,{relative:n}={}){ct(is(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=x.useContext(Zn),{hash:l,pathname:o,search:c}=zl(e,{relative:n}),f=o;return r!=="/"&&(f=o==="/"?r:Fa([r,o])),i.createHref({pathname:f,search:c,hash:l})}function is(){return x.useContext(Hl)!=null}function $a(){return ct(is(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Hl).location}var a_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function r_(e){x.useContext(Zn).static||x.useLayoutEffect(e)}function Fl(){let{isDataRoute:e}=x.useContext(Pn);return e?IS():CS()}function CS(){ct(is(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(rs),{basename:n,navigator:r}=x.useContext(Zn),{matches:i}=x.useContext(Pn),{pathname:l}=$a(),o=JSON.stringify(ih(i)),c=x.useRef(!1);return r_(()=>{c.current=!0}),x.useCallback((h,m={})=>{if(Xn(c.current,a_),!c.current)return;if(typeof h=="number"){r.go(h);return}let v=sh(h,JSON.parse(o),l,m.relative==="path");e==null&&n!=="/"&&(v.pathname=v.pathname==="/"?n:Fa([n,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[n,r,o,l,e])}var TS=x.createContext(null);function AS(e){let n=x.useContext(Pn).outlet;return n&&x.createElement(TS.Provider,{value:e},n)}function OS(){let{matches:e}=x.useContext(Pn),n=e[e.length-1];return n?n.params:{}}function zl(e,{relative:n}={}){let{matches:r}=x.useContext(Pn),{pathname:i}=$a(),l=JSON.stringify(ih(r));return x.useMemo(()=>sh(e,JSON.parse(l),i,n==="path"),[e,l,i,n])}function DS(e,n){return i_(e,n)}function i_(e,n,r,i){ct(is(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=x.useContext(Zn),{matches:o}=x.useContext(Pn),c=o[o.length-1],f=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",v=c&&c.route;{let T=v&&v.path||"";s_(h,!v||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let y=$a(),_;if(n){let T=typeof n=="string"?as(n):n;ct(m==="/"||T.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${T.pathname}" was given in the \`location\` prop.`),_=T}else _=y;let w=_.pathname||"/",S=w;if(m!=="/"){let T=m.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(T.length).join("/")}let R=Zy(e,{pathname:S});Xn(v||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Xn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=US(R&&R.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:Fa([m,l.encodeLocation?l.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:Fa([m,l.encodeLocation?l.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,r,i);return n&&C?x.createElement(Hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},C):C}function NS(){let e=zS(),n=wS(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},n),r?x.createElement("pre",{style:l},r):null,c)}var jS=x.createElement(NS,null),MS=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(Pn.Provider,{value:this.props.routeContext},x.createElement(lh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kS({routeContext:e,match:n,children:r}){let i=x.useContext(rs);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Pn.Provider,{value:e},r)}function US(e,n=[],r=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=r?.errors;if(o!=null){let h=l.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,f=-1;if(r)for(let h=0;h<l.length;h++){let m=l[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:v,errors:y}=r,_=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||_){c=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((h,m,v)=>{let y,_=!1,w=null,S=null;r&&(y=o&&m.route.id?o[m.route.id]:void 0,w=m.route.errorElement||jS,c&&(f<0&&v===0?(s_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):f===v&&(_=!0,S=m.route.hydrateFallbackElement||null)));let R=n.concat(l.slice(0,v+1)),C=()=>{let T;return y?T=w:_?T=S:m.route.Component?T=x.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=h,x.createElement(kS,{match:m,routeContext:{outlet:h,matches:R,isDataRoute:r!=null},children:T})};return r&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?x.createElement(MS,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:C(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):C()},null)}function oh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LS(e){let n=x.useContext(rs);return ct(n,oh(e)),n}function PS(e){let n=x.useContext(Hu);return ct(n,oh(e)),n}function HS(e){let n=x.useContext(Pn);return ct(n,oh(e)),n}function uh(e){let n=HS(e),r=n.matches[n.matches.length-1];return ct(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function FS(){return uh("useRouteId")}function zS(){let e=x.useContext(lh),n=PS("useRouteError"),r=uh("useRouteError");return e!==void 0?e:n.errors?.[r]}function IS(){let{router:e}=LS("useNavigate"),n=uh("useNavigate"),r=x.useRef(!1);return r_(()=>{r.current=!0}),x.useCallback(async(l,o={})=>{Xn(r.current,a_),r.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:n,...o}))},[e,n])}var Mv={};function s_(e,n,r){!n&&!Mv[e]&&(Mv[e]=!0,Xn(!1,r))}x.memo($S);function $S({routes:e,future:n,state:r}){return i_(e,void 0,r,n)}function l_({to:e,replace:n,state:r,relative:i}){ct(is(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=x.useContext(Zn);Xn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(Pn),{pathname:c}=$a(),f=Fl(),h=sh(e,ih(o),c,i==="path"),m=JSON.stringify(h);return x.useEffect(()=>{f(JSON.parse(m),{replace:n,state:r,relative:i})},[f,m,i,n,r]),null}function o_(e){return AS(e.context)}function Sn(e){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BS({basename:e="/",children:n=null,location:r,navigationType:i="POP",navigator:l,static:o=!1}){ct(!is(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:c,navigator:l,static:o,future:{}}),[c,l,o]);typeof r=="string"&&(r=as(r));let{pathname:h="/",search:m="",hash:v="",state:y=null,key:_="default"}=r,w=x.useMemo(()=>{let S=za(h,c);return S==null?null:{location:{pathname:S,search:m,hash:v,state:y,key:_},navigationType:i}},[c,h,m,v,y,_,i]);return Xn(w!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:x.createElement(Zn.Provider,{value:f},x.createElement(Hl.Provider,{children:n,value:w}))}function VS({children:e,location:n}){return DS(kf(e),n)}function kf(e,n=[]){let r=[];return x.Children.forEach(e,(i,l)=>{if(!x.isValidElement(i))return;let o=[...n,l];if(i.type===x.Fragment){r.push.apply(r,kf(i.props.children,o));return}ct(i.type===Sn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=kf(i.props.children,o)),r.push(c)}),r}var _u="get",bu="application/x-www-form-urlencoded";function Fu(e){return e!=null&&typeof e.tagName=="string"}function qS(e){return Fu(e)&&e.tagName.toLowerCase()==="button"}function GS(e){return Fu(e)&&e.tagName.toLowerCase()==="form"}function YS(e){return Fu(e)&&e.tagName.toLowerCase()==="input"}function KS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XS(e,n){return e.button===0&&(!n||n==="_self")&&!KS(e)}var lu=null;function WS(){if(lu===null)try{new FormData(document.createElement("form"),0),lu=!1}catch{lu=!0}return lu}var QS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function df(e){return e!=null&&!QS.has(e)?(Xn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bu}"`),null):e}function ZS(e,n){let r,i,l,o,c;if(GS(e)){let f=e.getAttribute("action");i=f?za(f,n):null,r=e.getAttribute("method")||_u,l=df(e.getAttribute("enctype"))||bu,o=new FormData(e)}else if(qS(e)||YS(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(i=h?za(h,n):null,r=e.getAttribute("formmethod")||f.getAttribute("method")||_u,l=df(e.getAttribute("formenctype"))||df(f.getAttribute("enctype"))||bu,o=new FormData(f,e),!WS()){let{name:m,type:v,value:y}=e;if(v==="image"){let _=m?`${m}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else m&&o.append(m,y)}}else{if(Fu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=_u,i=null,l=bu,c=e}return o&&l==="text/plain"&&(c=o,o=void 0),{action:i,method:r.toLowerCase(),encType:l,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ch(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function JS(e,n,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${r}`:n&&za(i.pathname,n)==="/"?i.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function eE(e,n){if(e.id in n)return n[e.id];try{let r=await import(e.module);return n[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tE(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function nE(e,n,r){let i=await Promise.all(e.map(async l=>{let o=n.routes[l.route.id];if(o){let c=await eE(o,r);return c.links?c.links():[]}return[]}));return sE(i.flat(1).filter(tE).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function kv(e,n,r,i,l,o){let c=(h,m)=>r[m]?h.route.id!==r[m].route.id:!0,f=(h,m)=>r[m].pathname!==h.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==h.params["*"];return o==="assets"?n.filter((h,m)=>c(h,m)||f(h,m)):o==="data"?n.filter((h,m)=>{let v=i.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function aE(e,n,{includeHydrateFallback:r}={}){return rE(e.map(i=>{let l=n.routes[i.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function rE(e){return[...new Set(e)]}function iE(e){let n={},r=Object.keys(e).sort();for(let i of r)n[i]=e[i];return n}function sE(e,n){let r=new Set;return new Set(n),e.reduce((i,l)=>{let o=JSON.stringify(iE(l));return r.has(o)||(r.add(o),i.push({key:o,link:l})),i},[])}function u_(){let e=x.useContext(rs);return ch(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function lE(){let e=x.useContext(Hu);return ch(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var dh=x.createContext(void 0);dh.displayName="FrameworkContext";function c_(){let e=x.useContext(dh);return ch(e,"You must render this element inside a <HydratedRouter> element"),e}function oE(e,n){let r=x.useContext(dh),[i,l]=x.useState(!1),[o,c]=x.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=n,_=x.useRef(null);x.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let R=T=>{T.forEach(D=>{c(D.isIntersecting)})},C=new IntersectionObserver(R,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[e]),x.useEffect(()=>{if(i){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[i]);let w=()=>{l(!0)},S=()=>{l(!1),c(!1)};return r?e!=="intent"?[o,_,{}]:[o,_,{onFocus:ol(f,w),onBlur:ol(h,S),onMouseEnter:ol(m,w),onMouseLeave:ol(v,S),onTouchStart:ol(y,w)}]:[!1,_,{}]}function ol(e,n){return r=>{e&&e(r),r.defaultPrevented||n(r)}}function uE({page:e,...n}){let{router:r}=u_(),i=x.useMemo(()=>Zy(r.routes,e,r.basename),[r.routes,e,r.basename]);return i?x.createElement(dE,{page:e,matches:i,...n}):null}function cE(e){let{manifest:n,routeModules:r}=c_(),[i,l]=x.useState([]);return x.useEffect(()=>{let o=!1;return nE(e,n,r).then(c=>{o||l(c)}),()=>{o=!0}},[e,n,r]),i}function dE({page:e,matches:n,...r}){let i=$a(),{manifest:l,routeModules:o}=c_(),{basename:c}=u_(),{loaderData:f,matches:h}=lE(),m=x.useMemo(()=>kv(e,n,h,l,i,"data"),[e,n,h,l,i]),v=x.useMemo(()=>kv(e,n,h,l,i,"assets"),[e,n,h,l,i]),y=x.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let S=new Set,R=!1;if(n.forEach(T=>{let D=l.routes[T.route.id];!D||!D.hasLoader||(!m.some(A=>A.route.id===T.route.id)&&T.route.id in f&&o[T.route.id]?.shouldRevalidate||D.hasClientLoader?R=!0:S.add(T.route.id))}),S.size===0)return[];let C=JS(e,c,"data");return R&&S.size>0&&C.searchParams.set("_routes",n.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[C.pathname+C.search]},[c,f,i,l,m,n,e,o]),_=x.useMemo(()=>aE(v,l),[v,l]),w=cE(v);return x.createElement(x.Fragment,null,y.map(S=>x.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),_.map(S=>x.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),w.map(({key:S,link:R})=>x.createElement("link",{key:S,nonce:r.nonce,...R})))}function fE(...e){return n=>{e.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var d_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d_&&(window.__reactRouterVersion="7.8.1")}catch{}function hE({basename:e,children:n,window:r}){let i=x.useRef();i.current==null&&(i.current=Zw({window:r,v5Compat:!0}));let l=i.current,[o,c]=x.useState({action:l.action,location:l.location}),f=x.useCallback(h=>{x.startTransition(()=>c(h))},[c]);return x.useLayoutEffect(()=>l.listen(f),[l,f]),x.createElement(BS,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:l})}var f_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xn=x.forwardRef(function({onClick:n,discover:r="render",prefetch:i="none",relative:l,reloadDocument:o,replace:c,state:f,target:h,to:m,preventScrollReset:v,viewTransition:y,..._},w){let{basename:S}=x.useContext(Zn),R=typeof m=="string"&&f_.test(m),C,T=!1;if(typeof m=="string"&&R&&(C=m,d_))try{let ne=new URL(window.location.href),ee=m.startsWith("//")?new URL(ne.protocol+m):new URL(m),te=za(ee.pathname,S);ee.origin===ne.origin&&te!=null?m=te+ee.search+ee.hash:T=!0}catch{Xn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=RS(m,{relative:l}),[A,$,U]=oE(i,_),Z=vE(m,{replace:c,state:f,target:h,preventScrollReset:v,relative:l,viewTransition:y});function J(ne){n&&n(ne),ne.defaultPrevented||Z(ne)}let X=x.createElement("a",{..._,...U,href:C||D,onClick:T||o?n:J,ref:fE(w,$),target:h,"data-discover":!R&&r==="render"?"true":void 0});return A&&!R?x.createElement(x.Fragment,null,X,x.createElement(uE,{page:D})):X});xn.displayName="Link";var gE=x.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:i="",end:l=!1,style:o,to:c,viewTransition:f,children:h,...m},v){let y=zl(c,{relative:m.relative}),_=$a(),w=x.useContext(Hu),{navigator:S,basename:R}=x.useContext(Zn),C=w!=null&&SE(y)&&f===!0,T=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,D=_.pathname,A=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(D=D.toLowerCase(),A=A?A.toLowerCase():null,T=T.toLowerCase()),A&&R&&(A=za(A,R)||A);const $=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let U=D===T||!l&&D.startsWith(T)&&D.charAt($)==="/",Z=A!=null&&(A===T||!l&&A.startsWith(T)&&A.charAt(T.length)==="/"),J={isActive:U,isPending:Z,isTransitioning:C},X=U?n:void 0,ne;typeof i=="function"?ne=i(J):ne=[i,U?"active":null,Z?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ee=typeof o=="function"?o(J):o;return x.createElement(xn,{...m,"aria-current":X,className:ne,ref:v,style:ee,to:c,viewTransition:f},typeof h=="function"?h(J):h)});gE.displayName="NavLink";var mE=x.forwardRef(({discover:e="render",fetcherKey:n,navigate:r,reloadDocument:i,replace:l,state:o,method:c=_u,action:f,onSubmit:h,relative:m,preventScrollReset:v,viewTransition:y,..._},w)=>{let S=bE(),R=wE(f,{relative:m}),C=c.toLowerCase()==="get"?"get":"post",T=typeof f=="string"&&f_.test(f),D=A=>{if(h&&h(A),A.defaultPrevented)return;A.preventDefault();let $=A.nativeEvent.submitter,U=$?.getAttribute("formmethod")||c;S($||A.currentTarget,{fetcherKey:n,method:U,navigate:r,replace:l,state:o,relative:m,preventScrollReset:v,viewTransition:y})};return x.createElement("form",{ref:w,method:C,action:R,onSubmit:i?h:D,..._,"data-discover":!T&&e==="render"?"true":void 0})});mE.displayName="Form";function pE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h_(e){let n=x.useContext(rs);return ct(n,pE(e)),n}function vE(e,{target:n,replace:r,state:i,preventScrollReset:l,relative:o,viewTransition:c}={}){let f=Fl(),h=$a(),m=zl(e,{relative:o});return x.useCallback(v=>{if(XS(v,n)){v.preventDefault();let y=r!==void 0?r:Dl(h)===Dl(m);f(e,{replace:y,state:i,preventScrollReset:l,relative:o,viewTransition:c})}},[h,f,m,r,i,n,e,l,o,c])}var yE=0,_E=()=>`__${String(++yE)}__`;function bE(){let{router:e}=h_("useSubmit"),{basename:n}=x.useContext(Zn),r=FS();return x.useCallback(async(i,l={})=>{let{action:o,method:c,encType:f,formData:h,body:m}=ZS(i,n);if(l.navigate===!1){let v=l.fetcherKey||_E();await e.fetch(v,r,l.action||o,{preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||c,formEncType:l.encType||f,flushSync:l.flushSync})}else await e.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||c,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,n,r])}function wE(e,{relative:n}={}){let{basename:r}=x.useContext(Zn),i=x.useContext(Pn);ct(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),o={...zl(e||".",{relative:n})},c=$a();if(e==null){o.search=c.search;let f=new URLSearchParams(o.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let v=f.toString();o.search=v?`?${v}`:""}}return(!e||e===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Fa([r,o.pathname])),Dl(o)}function SE(e,{relative:n}={}){let r=x.useContext(n_);ct(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=h_("useViewTransitionState"),l=zl(e,{relative:n});if(!r.isTransitioning)return!1;let o=za(r.currentLocation.pathname,i)||r.currentLocation.pathname,c=za(r.nextLocation.pathname,i)||r.nextLocation.pathname;return Eu(l.pathname,c)!=null||Eu(l.pathname,o)!=null}var yl=Qy();const EE="modulepreload",xE=function(e){return"/flexi/"+e},Uv={},Wr=function(n,r,i){let l=Promise.resolve();if(r&&r.length>0){let h=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");l=h(r.map(m=>{if(m=xE(m),m in Uv)return;Uv[m]=!0;const v=m.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":EE,v||(_.as="script"),_.crossOrigin="",_.href=m,f&&_.setAttribute("nonce",f),document.head.appendChild(_),v)return new Promise((w,S)=>{_.addEventListener("load",w),_.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return l.then(c=>{for(const f of c||[])f.status==="rejected"&&o(f.reason);return n().catch(o)})},RE=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...r)=>Wr(async()=>{const{default:i}=await Promise.resolve().then(()=>ss);return{default:i}},[]).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)};class fh extends Error{constructor(n,r="FunctionsError",i){super(n),this.name=r,this.context=i}}class CE extends fh{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Lv extends fh{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Pv extends fh{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Uf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Uf||(Uf={}));var TE=function(e,n,r,i){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};class AE{constructor(n,{headers:r={},customFetch:i,region:l=Uf.Any}={}){this.url=n,this.headers=r,this.region=l,this.fetch=RE(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,r={}){var i;return TE(this,void 0,void 0,function*(){try{const{headers:l,method:o,body:c}=r;let f={},{region:h}=r;h||(h=this.region);const m=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let v;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(f["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(f["Content-Type"]="application/json",v=JSON.stringify(c)));const y=yield this.fetch(m.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:v}).catch(R=>{throw new CE(R)}),_=y.headers.get("x-relay-error");if(_&&_==="true")throw new Lv(y);if(!y.ok)throw new Pv(y);let w=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield y.json():w==="application/octet-stream"?S=yield y.blob():w==="text/event-stream"?S=y:w==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof Pv||l instanceof Lv?l.context:void 0}}})}}var Lt={},Hi={},Fi={},zi={},Ii={},$i={},OE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ts=OE();const DE=ts.fetch,g_=ts.fetch.bind(ts),m_=ts.Headers,NE=ts.Request,jE=ts.Response,ss=Object.freeze(Object.defineProperty({__proto__:null,Headers:m_,Request:NE,Response:jE,default:g_,fetch:DE},Symbol.toStringTag,{value:"Module"})),ME=Iw(ss);var ou={},Hv;function p_(){if(Hv)return ou;Hv=1,Object.defineProperty(ou,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ou.default=e,ou}var Fv;function v_(){if(Fv)return $i;Fv=1;var e=$i&&$i.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty($i,"__esModule",{value:!0});const n=e(ME),r=e(p_());class i{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,c){return this.headers=Object.assign({},this.headers),this.headers[o]=c,this}then(o,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,y,_;let w=null,S=null,R=null,C=m.status,T=m.statusText;if(m.ok){if(this.method!=="HEAD"){const U=await m.text();U===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=U:S=JSON.parse(U))}const A=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),$=(y=m.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");A&&$&&$.length>1&&(R=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,R=null,C=406,T="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const A=await m.text();try{w=JSON.parse(A),Array.isArray(w)&&m.status===404&&(S=[],w=null,C=200,T="OK")}catch{m.status===404&&A===""?(C=204,T="No Content"):w={message:A}}if(w&&this.isMaybeSingle&&(!((_=w?.details)===null||_===void 0)&&_.includes("0 rows"))&&(w=null,C=200,T="OK"),w&&this.shouldThrowOnError)throw new r.default(w)}return{error:w,data:S,count:R,status:C,statusText:T}});return this.shouldThrowOnError||(h=h.catch(m=>{var v,y,_;return{error:{message:`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,details:`${(y=m?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(_=m?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,c)}returns(){return this}overrideTypes(){return this}}return $i.default=i,$i}var zv;function y_(){if(zv)return Ii;zv=1;var e=Ii&&Ii.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ii,"__esModule",{value:!0});const n=e(v_());class r extends n.default{select(l){let o=!1;const c=(l??"*").split("").map(f=>/\s/.test(f)&&!o?"":(f==='"'&&(o=!o),f)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:o=!0,nullsFirst:c,foreignTable:f,referencedTable:h=f}={}){const m=h?`${h}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${l}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:o,referencedTable:c=o}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,o,{foreignTable:c,referencedTable:f=c}={}){const h=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${l}`),this.url.searchParams.set(m,`${o-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:o=!1,settings:c=!1,buffers:f=!1,wal:h=!1,format:m="text"}={}){var v;const y=[l?"analyze":null,o?"verbose":null,c?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),_=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${_}"; options=${y};`,m==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Ii.default=r,Ii}var Iv;function hh(){if(Iv)return zi;Iv=1;var e=zi&&zi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(zi,"__esModule",{value:!0});const n=e(y_());class r extends n.default{eq(l,o){return this.url.searchParams.append(l,`eq.${o}`),this}neq(l,o){return this.url.searchParams.append(l,`neq.${o}`),this}gt(l,o){return this.url.searchParams.append(l,`gt.${o}`),this}gte(l,o){return this.url.searchParams.append(l,`gte.${o}`),this}lt(l,o){return this.url.searchParams.append(l,`lt.${o}`),this}lte(l,o){return this.url.searchParams.append(l,`lte.${o}`),this}like(l,o){return this.url.searchParams.append(l,`like.${o}`),this}likeAllOf(l,o){return this.url.searchParams.append(l,`like(all).{${o.join(",")}}`),this}likeAnyOf(l,o){return this.url.searchParams.append(l,`like(any).{${o.join(",")}}`),this}ilike(l,o){return this.url.searchParams.append(l,`ilike.${o}`),this}ilikeAllOf(l,o){return this.url.searchParams.append(l,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(l,o){return this.url.searchParams.append(l,`ilike(any).{${o.join(",")}}`),this}is(l,o){return this.url.searchParams.append(l,`is.${o}`),this}in(l,o){const c=Array.from(new Set(o)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${c})`),this}contains(l,o){return typeof o=="string"?this.url.searchParams.append(l,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(l,`cs.{${o.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(o)}`),this}containedBy(l,o){return typeof o=="string"?this.url.searchParams.append(l,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(l,`cd.{${o.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(o)}`),this}rangeGt(l,o){return this.url.searchParams.append(l,`sr.${o}`),this}rangeGte(l,o){return this.url.searchParams.append(l,`nxl.${o}`),this}rangeLt(l,o){return this.url.searchParams.append(l,`sl.${o}`),this}rangeLte(l,o){return this.url.searchParams.append(l,`nxr.${o}`),this}rangeAdjacent(l,o){return this.url.searchParams.append(l,`adj.${o}`),this}overlaps(l,o){return typeof o=="string"?this.url.searchParams.append(l,`ov.${o}`):this.url.searchParams.append(l,`ov.{${o.join(",")}}`),this}textSearch(l,o,{config:c,type:f}={}){let h="";f==="plain"?h="pl":f==="phrase"?h="ph":f==="websearch"&&(h="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(l,`${h}fts${m}.${o}`),this}match(l){return Object.entries(l).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(l,o,c){return this.url.searchParams.append(l,`not.${o}.${c}`),this}or(l,{foreignTable:o,referencedTable:c=o}={}){const f=c?`${c}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,o,c){return this.url.searchParams.append(l,`${o}.${c}`),this}}return zi.default=r,zi}var $v;function __(){if($v)return Fi;$v=1;var e=Fi&&Fi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Fi,"__esModule",{value:!0});const n=e(hh());class r{constructor(l,{headers:o={},schema:c,fetch:f}){this.url=l,this.headers=o,this.schema=c,this.fetch=f}select(l,{head:o=!1,count:c}={}){const f=o?"HEAD":"GET";let h=!1;const m=(l??"*").split("").map(v=>/\s/.test(v)&&!h?"":(v==='"'&&(h=!h),v)).join("");return this.url.searchParams.set("select",m),c&&(this.headers.Prefer=`count=${c}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:o,defaultToNull:c=!0}={}){const f="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),o&&h.push(`count=${o}`),c||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(l)){const m=l.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(m.length>0){const v=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:o,ignoreDuplicates:c=!1,count:f,defaultToNull:h=!0}={}){const m="POST",v=[`resolution=${c?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&v.push(this.headers.Prefer),f&&v.push(`count=${f}`),h||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(l)){const y=l.reduce((_,w)=>_.concat(Object.keys(w)),[]);if(y.length>0){const _=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",_.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:o}={}){const c="PATCH",f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),o&&f.push(`count=${o}`),this.headers.Prefer=f.join(","),new n.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const o="DELETE",c=[];return l&&c.push(`count=${l}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new n.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Fi.default=r,Fi}var ul={},cl={},Bv;function kE(){return Bv||(Bv=1,Object.defineProperty(cl,"__esModule",{value:!0}),cl.version=void 0,cl.version="0.0.0-automated"),cl}var Vv;function UE(){if(Vv)return ul;Vv=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.DEFAULT_HEADERS=void 0;const e=kE();return ul.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},ul}var qv;function LE(){if(qv)return Hi;qv=1;var e=Hi&&Hi.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Hi,"__esModule",{value:!0});const n=e(__()),r=e(hh()),i=UE();class l{constructor(c,{headers:f={},schema:h,fetch:m}={}){this.url=c,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),f),this.schemaName=h,this.fetch=m}from(c){const f=new URL(`${this.url}/${c}`);return new n.default(f,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new l(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,f={},{head:h=!1,get:m=!1,count:v}={}){let y;const _=new URL(`${this.url}/rpc/${c}`);let w;h||m?(y=h?"HEAD":"GET",Object.entries(f).filter(([R,C])=>C!==void 0).map(([R,C])=>[R,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([R,C])=>{_.searchParams.append(R,C)})):(y="POST",w=f);const S=Object.assign({},this.headers);return v&&(S.Prefer=`count=${v}`),new r.default({method:y,url:_,headers:S,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return Hi.default=l,Hi}var Gv;function PE(){if(Gv)return Lt;Gv=1;var e=Lt&&Lt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.PostgrestError=Lt.PostgrestBuilder=Lt.PostgrestTransformBuilder=Lt.PostgrestFilterBuilder=Lt.PostgrestQueryBuilder=Lt.PostgrestClient=void 0;const n=e(LE());Lt.PostgrestClient=n.default;const r=e(__());Lt.PostgrestQueryBuilder=r.default;const i=e(hh());Lt.PostgrestFilterBuilder=i.default;const l=e(y_());Lt.PostgrestTransformBuilder=l.default;const o=e(v_());Lt.PostgrestBuilder=o.default;const c=e(p_());return Lt.PostgrestError=c.default,Lt.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:o.default,PostgrestError:c.default},Lt}var HE=PE();const FE=ah(HE),{PostgrestClient:zE,PostgrestQueryBuilder:ZD,PostgrestFilterBuilder:JD,PostgrestTransformBuilder:e1,PostgrestBuilder:t1,PostgrestError:n1}=FE;class IE{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const i=this.getWebSocketConstructor();return new i(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const $E="2.15.1",BE=`realtime-js/${$E}`,VE="1.0.0",Lf=1e4,qE=1e3,GE=100;var bl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bl||(bl={}));var At;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(At||(At={}));var Bn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Bn||(Bn={}));var Pf;(function(e){e.websocket="websocket"})(Pf||(Pf={}));var Kr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Kr||(Kr={}));class YE{constructor(){this.HEADER_LENGTH=1}decode(n,r){return n.constructor===ArrayBuffer?r(this._binaryDecode(n)):r(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const r=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,r,i)}_decodeBroadcast(n,r,i){const l=r.getUint8(1),o=r.getUint8(2);let c=this.HEADER_LENGTH+2;const f=i.decode(n.slice(c,c+l));c=c+l;const h=i.decode(n.slice(c,c+o));c=c+o;const m=JSON.parse(i.decode(n.slice(c,n.byteLength)));return{ref:null,topic:f,event:h,payload:m}}}class b_{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(nt||(nt={}));const Yv=(e,n,r={})=>{var i;const l=(i=r.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(n).reduce((o,c)=>(o[c]=KE(c,e,n,l),o),{})},KE=(e,n,r,i)=>{const l=n.find(f=>f.name===e),o=l?.type,c=r[e];return o&&!i.includes(o)?w_(o,c):Hf(c)},w_=(e,n)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ZE(n,r)}switch(e){case nt.bool:return XE(n);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return WE(n);case nt.json:case nt.jsonb:return QE(n);case nt.timestamp:return JE(n);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Hf(n);default:return Hf(n)}},Hf=e=>e,XE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},WE=e=>{if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},QE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},ZE=(e,n)=>{if(typeof e!="string")return e;const r=e.length-1,i=e[r];if(e[0]==="{"&&i==="}"){let o;const c=e.slice(1,r);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(f=>w_(n,f))}return e},JE=e=>typeof e=="string"?e.replace(" ","T"):e,S_=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class ff{constructor(n,r,i={},l=Lf){this.channel=n,this.event=r,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var i;return this._hasReceived(n)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Kv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Kv||(Kv={}));class wl{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:o,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wl.syncState(this.state,l,o,c),this.pendingDiffs.forEach(h=>{this.state=wl.syncDiff(this.state,h,o,c)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},l=>{const{onJoin:o,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=wl.syncDiff(this.state,l,o,c),f())}),this.onJoin((l,o,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:o,newPresences:c})}),this.onLeave((l,o,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,i,l){const o=this.cloneDeep(n),c=this.transformState(r),f={},h={};return this.map(o,(m,v)=>{c[m]||(h[m]=v)}),this.map(c,(m,v)=>{const y=o[m];if(y){const _=v.map(C=>C.presence_ref),w=y.map(C=>C.presence_ref),S=v.filter(C=>w.indexOf(C.presence_ref)<0),R=y.filter(C=>_.indexOf(C.presence_ref)<0);S.length>0&&(f[m]=S),R.length>0&&(h[m]=R)}else f[m]=v}),this.syncDiff(o,{joins:f,leaves:h},i,l)}static syncDiff(n,r,i,l){const{joins:o,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(o,(f,h)=>{var m;const v=(m=n[f])!==null&&m!==void 0?m:[];if(n[f]=this.cloneDeep(h),v.length>0){const y=n[f].map(w=>w.presence_ref),_=v.filter(w=>y.indexOf(w.presence_ref)<0);n[f].unshift(..._)}i(f,v,h)}),this.map(c,(f,h)=>{let m=n[f];if(!m)return;const v=h.map(y=>y.presence_ref);m=m.filter(y=>v.indexOf(y.presence_ref)<0),n[f]=m,l(f,m,h),m.length===0&&delete n[f]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(i=>r(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,i)=>{const l=n[i];return"metas"in l?r[i]=l.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[i]=l,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Xv||(Xv={}));var Sl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Sl||(Sl={}));var La;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(La||(La={}));class gh{constructor(n,r={config:{}},i){this.topic=n,this.params=r,this.socket=i,this.bindings={},this.state=At.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ff(this,Bn.join,this.params,this.timeout),this.rejoinTimer=new b_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=At.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=At.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bn.reply,{},(l,o)=>{this._trigger(this._replyEventName(o),l)}),this.presence=new wl(this),this.broadcastEndpointURL=S_(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,r=this.timeout){var i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==At.closed){const{config:{broadcast:o,presence:c,private:f}}=this.params,h=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&l!==void 0?l:[],m=!!this.bindings[Sl.PRESENCE]&&this.bindings[Sl.PRESENCE].length>0,v={},y={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>n?.(La.CHANNEL_ERROR,_)),this._onClose(()=>n?.(La.CLOSED)),this.updateJoinPayload(Object.assign({config:y},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:_})=>{var w;if(this.socket.setAuth(),_===void 0){n?.(La.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,R=(w=S?.length)!==null&&w!==void 0?w:0,C=[];for(let T=0;T<R;T++){const D=S[T],{filter:{event:A,schema:$,table:U,filter:Z}}=D,J=_&&_[T];if(J&&J.event===A&&J.schema===$&&J.table===U&&J.filter===Z)C.push(Object.assign(Object.assign({},D),{id:J.id}));else{this.unsubscribe(),this.state=At.errored,n?.(La.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,n&&n(La.SUBSCRIBED);return}}).receive("error",_=>{this.state=At.errored,n?.(La.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{n?.(La.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,i){return this.state===At.joined&&n===Sl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,r,i)}async send(n,r={}){var i,l;if(!this._canPush()&&n.type==="broadcast"){const{event:o,payload:c}=n,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,f,h;const m=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((h=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=At.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new ff(this,Bn.leave,{},n),i.receive("ok",()=>{r(),l("ok")}).receive("timeout",()=>{r(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=At.closed,this.bindings={}}async _fetchWithTimeout(n,r,i){const l=new AbortController,o=setTimeout(()=>l.abort(),i),c=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:l.signal}));return clearTimeout(o),c}_push(n,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new ff(this,n,r,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>GE){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,i){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,i){var l,o;const c=n.toLocaleLowerCase(),{close:f,error:h,leave:m,join:v}=Bn;if(i&&[f,h,m,v].indexOf(c)>=0&&i!==this._joinRef())return;let _=this._onMessage(c,r,i);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(w=>{var S,R,C;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((C=(R=w.filter)===null||R===void 0?void 0:R.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(w=>w.callback(_,i)):(o=this.bindings[c])===null||o===void 0||o.filter(w=>{var S,R,C,T,D,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const $=w.id,U=(S=w.filter)===null||S===void 0?void 0:S.event;return $&&((R=r.ids)===null||R===void 0?void 0:R.includes($))&&(U==="*"||U?.toLocaleLowerCase()===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const $=(D=(T=w?.filter)===null||T===void 0?void 0:T.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return $==="*"||$===((A=r?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof _=="object"&&"ids"in _){const S=_.data,{schema:R,table:C,commit_timestamp:T,type:D,errors:A}=S;_=Object.assign(Object.assign({},{schema:R,table:C,commit_timestamp:T,eventType:D,new:{},old:{},errors:A}),this._getPayloadRecords(S))}w.callback(_,i)})}_isClosed(){return this.state===At.closed}_isJoined(){return this.state===At.joined}_isJoining(){return this.state===At.joining}_isLeaving(){return this.state===At.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,i){const l=n.toLocaleLowerCase(),o={type:l,filter:r,callback:i};return this.bindings[l]?this.bindings[l].push(o):this.bindings[l]=[o],this}_off(n,r){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var o;return!(((o=l.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&gh.isEqual(l.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const i in n)if(n[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Bn.close,{},n)}_onError(n){this._on(Bn.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=At.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=Yv(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=Yv(n.columns,n.old_record)),r}}const Wv=()=>{},uu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ex=[1e3,2e3,5e3,1e4],tx=1e4,nx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ax{constructor(n,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lf,this.transport=null,this.heartbeatIntervalMs=uu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wv,this.ref=0,this.reconnectTimer=null,this.logger=Wv,this.conn=null,this.sendBuffer=[],this.serializer=new YE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let o;return l?o=l:typeof fetch>"u"?o=(...c)=>Wr(async()=>{const{default:f}=await Promise.resolve().then(()=>ss);return{default:f}},void 0).then(({default:f})=>f(...c)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...c)=>o(...c)},!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Pf.websocket}`,this.httpEndpoint=S_(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=IE.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VE}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},n?this.conn.close(n,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,i){this.logger(n,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case bl.connecting:return Kr.Connecting;case bl.open:return Kr.Open;case bl.closing:return Kr.Closing;default:return Kr.Closed}}isConnected(){return this.connectionState()===Kr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const i=`realtime:${n}`,l=this.getChannels().find(o=>o.topic===i);if(l)return l;{const o=new gh(`realtime:${n}`,r,this);return this.channels.push(o),o}}push(n){const{topic:r,event:i,payload:l,ref:o}=n,c=()=>{this.encode(n,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${r} ${i} (${o})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(qE,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},uu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:l,payload:o,ref:c}=r,f=c?`(${c})`:"",h=o.status||"";this.log("receive",`${h} ${i} ${l} ${f}`.trim(),o),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(l,o,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Bn.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const i=n.match(/\?/)?"&":"?",l=new URLSearchParams(r);return`${n}${i}${l}`}_workerObjectUrl(n){let r;if(n)r=n;else{const i=new Blob([nx],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r;n?r=n:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const l={access_token:r,version:BE};r&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(Bn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(r)}catch(l){this.log("error",`error in ${n} callback`,l)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new b_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},uu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,i,l,o,c,f,h,m;if(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=n?.timeout)!==null&&i!==void 0?i:Lf,this.heartbeatIntervalMs=(l=n?.heartbeatIntervalMs)!==null&&l!==void 0?l:uu.HEARTBEAT_INTERVAL,this.worker=(o=n?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=n?.accessToken)!==null&&c!==void 0?c:null,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=n?.reconnectAfterMs)!==null&&f!==void 0?f:(v=>ex[v-1]||tx),this.encode=(h=n?.encode)!==null&&h!==void 0?h:((v,y)=>y(JSON.stringify(v))),this.decode=(m=n?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class mh extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Ot(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rx extends mh{constructor(n,r,i){super(n),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ff extends mh{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}}var ix=function(e,n,r,i){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const E_=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...r)=>Wr(async()=>{const{default:i}=await Promise.resolve().then(()=>ss);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)},sx=()=>ix(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wr(()=>Promise.resolve().then(()=>ss),void 0)).Response:Response}),zf=e=>{if(Array.isArray(e))return e.map(r=>zf(r));if(typeof e=="function"||e!==Object(e))return e;const n={};return Object.entries(e).forEach(([r,i])=>{const l=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[l]=zf(i)}),n},lx=e=>{if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Qr=function(e,n,r,i){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const hf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ox=(e,n,r)=>Qr(void 0,void 0,void 0,function*(){const i=yield sx();e instanceof i&&!r?.noResolveJson?e.json().then(l=>{const o=e.status||500,c=l?.statusCode||o+"";n(new rx(hf(l),o,c))}).catch(l=>{n(new Ff(hf(l),l))}):n(new Ff(hf(e),e))}),ux=(e,n,r,i)=>{const l={method:e,headers:n?.headers||{}};return e==="GET"||!i?l:(lx(i)?(l.headers=Object.assign({"Content-Type":"application/json"},n?.headers),l.body=JSON.stringify(i)):l.body=i,n?.duplex&&(l.duplex=n.duplex),Object.assign(Object.assign({},l),r))};function Il(e,n,r,i,l,o){return Qr(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(r,ux(n,i,l,o)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>ox(h,f,i))})})}function xu(e,n,r,i){return Qr(this,void 0,void 0,function*(){return Il(e,"GET",n,r,i)})}function ca(e,n,r,i,l){return Qr(this,void 0,void 0,function*(){return Il(e,"POST",n,i,l,r)})}function If(e,n,r,i,l){return Qr(this,void 0,void 0,function*(){return Il(e,"PUT",n,i,l,r)})}function cx(e,n,r,i){return Qr(this,void 0,void 0,function*(){return Il(e,"HEAD",n,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function x_(e,n,r,i,l){return Qr(this,void 0,void 0,function*(){return Il(e,"DELETE",n,i,l,r)})}var nn=function(e,n,r,i){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const dx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fx{constructor(n,r={},i,l){this.url=n,this.headers=r,this.bucketId=i,this.fetch=E_(l)}uploadOrUpdate(n,r,i,l){return nn(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},Qv),l);let f=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",this.encodeMetadata(h))):(o=i,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),l?.headers&&(f=Object.assign(Object.assign({},f),l.headers));const m=this._removeEmptyFolders(r),v=this._getFinalPath(m),y=yield(n=="PUT"?If:ca)(this.fetch,`${this.url}/object/${v}`,o,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(o){if(Ot(o))return{data:null,error:o};throw o}})}upload(n,r,i){return nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,r,i)})}uploadToSignedUrl(n,r,i,l){return nn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(n),c=this._getFinalPath(o),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:Qv.upsert},l),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",m.cacheControl)):(h=i,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const y=yield If(this.fetch,f.toString(),h,{headers:v});return{data:{path:o,fullPath:y.Key},error:null}}catch(h){if(Ot(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(n,r){return nn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const l=Object.assign({},this.headers);r?.upsert&&(l["x-upsert"]="true");const o=yield ca(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),c=new URL(this.url+o.url),f=c.searchParams.get("token");if(!f)throw new mh("No token returned by API");return{data:{signedUrl:c.toString(),path:n,token:f},error:null}}catch(i){if(Ot(i))return{data:null,error:i};throw i}})}update(n,r,i){return nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,r,i)})}move(n,r,i){return nn(this,void 0,void 0,function*(){try{return{data:yield ca(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(Ot(l))return{data:null,error:l};throw l}})}copy(n,r,i){return nn(this,void 0,void 0,function*(){try{return{data:{path:(yield ca(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(Ot(l))return{data:null,error:l};throw l}})}createSignedUrl(n,r,i){return nn(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n),o=yield ca(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:r},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(l){if(Ot(l))return{data:null,error:l};throw l}})}createSignedUrls(n,r,i){return nn(this,void 0,void 0,function*(){try{const l=yield ca(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:n},{headers:this.headers}),o=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(l){if(Ot(l))return{data:null,error:l};throw l}})}download(n,r){return nn(this,void 0,void 0,function*(){const l=typeof r?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(r?.transform||{}),c=o?`?${o}`:"";try{const f=this._getFinalPath(n);return{data:yield(yield xu(this.fetch,`${this.url}/${l}/${f}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(Ot(f))return{data:null,error:f};throw f}})}info(n){return nn(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{const i=yield xu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:zf(i),error:null}}catch(i){if(Ot(i))return{data:null,error:i};throw i}})}exists(n){return nn(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{return yield cx(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Ot(i)&&i instanceof Ff){const l=i.originalError;if([400,404].includes(l?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,r){const i=this._getFinalPath(n),l=[],o=r?.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&l.push(o);const f=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&l.push(h);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${m}`)}}}remove(n){return nn(this,void 0,void 0,function*(){try{return{data:yield x_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}list(n,r,i){return nn(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},dx),r),{prefix:n||""});return{data:yield ca(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(Ot(l))return{data:null,error:l};throw l}})}listV2(n,r){return nn(this,void 0,void 0,function*(){try{const i=Object.assign({},n);return{data:yield ca(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ot(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}}const hx="2.11.0",gx={"X-Client-Info":`storage-js/${hx}`};var Bi=function(e,n,r,i){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};class mx{constructor(n,r={},i,l){const o=new URL(n);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},gx),r),this.fetch=E_(i)}listBuckets(){return Bi(this,void 0,void 0,function*(){try{return{data:yield xu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}})}getBucket(n){return Bi(this,void 0,void 0,function*(){try{return{data:yield xu(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}createBucket(n,r={public:!1}){return Bi(this,void 0,void 0,function*(){try{return{data:yield ca(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ot(i))return{data:null,error:i};throw i}})}updateBucket(n,r){return Bi(this,void 0,void 0,function*(){try{return{data:yield If(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ot(i))return{data:null,error:i};throw i}})}emptyBucket(n){return Bi(this,void 0,void 0,function*(){try{return{data:yield ca(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}deleteBucket(n){return Bi(this,void 0,void 0,function*(){try{return{data:yield x_(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(Ot(r))return{data:null,error:r};throw r}})}}class px extends mx{constructor(n,r={},i,l){super(n,r,i,l)}from(n){return new fx(this.url,this.headers,n,this.fetch)}}const vx="2.55.0";let _l="";typeof Deno<"u"?_l="deno":typeof document<"u"?_l="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_l="react-native":_l="node";const yx={"X-Client-Info":`supabase-js-${_l}/${vx}`},_x={headers:yx},bx={schema:"public"},wx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sx={};var Ex=function(e,n,r,i){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const xx=e=>{let n;return e?n=e:typeof fetch>"u"?n=g_:n=fetch,(...r)=>n(...r)},Rx=()=>typeof Headers>"u"?m_:Headers,Cx=(e,n,r)=>{const i=xx(r),l=Rx();return(o,c)=>Ex(void 0,void 0,void 0,function*(){var f;const h=(f=yield n())!==null&&f!==void 0?f:e;let m=new l(c?.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),i(o,Object.assign(Object.assign({},c),{headers:m}))})};var Tx=function(e,n,r,i){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};function Ax(e){return e.endsWith("/")?e:e+"/"}function Ox(e,n){var r,i;const{db:l,auth:o,realtime:c,global:f}=e,{db:h,auth:m,realtime:v,global:y}=n,_={db:Object.assign(Object.assign({},h),l),auth:Object.assign(Object.assign({},m),o),realtime:Object.assign(Object.assign({},v),c),storage:{},global:Object.assign(Object.assign(Object.assign({},y),f),{headers:Object.assign(Object.assign({},(r=y?.headers)!==null&&r!==void 0?r:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>Tx(this,void 0,void 0,function*(){return""})};return e.accessToken?_.accessToken=e.accessToken:delete _.accessToken,_}const R_="2.71.1",Wi=30*1e3,$f=3,gf=$f*Wi,Dx="http://localhost:9999",Nx="supabase.auth.token",jx={"X-Client-Info":`gotrue-js/${R_}`},Bf="X-Supabase-Api-Version",C_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Mx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kx=600*1e3;class ph extends Error{constructor(n,r,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function Oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ux extends ph{constructor(n,r,i){super(n,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function Lx(e){return Oe(e)&&e.name==="AuthApiError"}class T_ extends ph{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class xr extends ph{constructor(n,r,i,l){super(n,i,l),this.name=r,this.status=i}}class vr extends xr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Px(e){return Oe(e)&&e.name==="AuthSessionMissingError"}class cu extends xr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class du extends xr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class fu extends xr{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Hx(e){return Oe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Zv extends xr{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vf extends xr{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function mf(e){return Oe(e)&&e.name==="AuthRetryableFetchError"}class Jv extends xr{constructor(n,r,i){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class qf extends xr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ru="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ey=` 	
\r=`.split(""),Fx=(()=>{const e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<ey.length;n+=1)e[ey[n].charCodeAt(0)]=-2;for(let n=0;n<Ru.length;n+=1)e[Ru[n].charCodeAt(0)]=n;return e})();function ty(e,n,r){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(Ru[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(Ru[i]),n.queuedBits-=6}}function A_(e,n,r){const i=Fx[e];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ny(e){const n=[],r=c=>{n.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},o=c=>{$x(c,i,r)};for(let c=0;c<e.length;c+=1)A_(e.charCodeAt(c),l,o);return n.join("")}function zx(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ix(e,n){for(let r=0;r<e.length;r+=1){let i=e.charCodeAt(r);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(e.charCodeAt(r+1)-56320&65535|l)+65536,r+=1}zx(i,n)}}function $x(e,n,r){if(n.utf8seq===0){if(e<=127){r(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function Bx(e){const n=[],r={queue:0,queuedBits:0},i=l=>{n.push(l)};for(let l=0;l<e.length;l+=1)A_(e.charCodeAt(l),r,i);return new Uint8Array(n)}function Vx(e){const n=[];return Ix(e,r=>n.push(r)),new Uint8Array(n)}function qx(e){const n=[],r={queue:0,queuedBits:0},i=l=>{n.push(l)};return e.forEach(l=>ty(l,r,i)),ty(null,r,i),n.join("")}function Gx(e){return Math.round(Date.now()/1e3)+e}function Yx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}const $n=()=>typeof window<"u"&&typeof document<"u",Vr={tested:!1,writable:!1},O_=()=>{if(!$n())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vr.tested)return Vr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Vr.tested=!0,Vr.writable=!0}catch{Vr.tested=!0,Vr.writable=!1}return Vr.writable};function Kx(e){const n={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((l,o)=>{n[o]=l})}catch{}return r.searchParams.forEach((i,l)=>{n[l]=i}),n}const D_=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...r)=>Wr(async()=>{const{default:i}=await Promise.resolve().then(()=>ss);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)},Xx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qi=async(e,n,r)=>{await e.setItem(n,JSON.stringify(r))},qr=async(e,n)=>{const r=await e.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},mr=async(e,n)=>{await e.removeItem(n)};class zu{constructor(){this.promise=new zu.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}zu.promiseConstructor=Promise;function pf(e){const n=e.split(".");if(n.length!==3)throw new qf("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!Mx.test(n[i]))throw new qf("JWT not in base64url format");return{header:JSON.parse(ny(n[0])),payload:JSON.parse(ny(n[1])),signature:Bx(n[2]),raw:{header:n[0],payload:n[1]}}}async function Wx(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}function Qx(e,n){return new Promise((i,l)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await e(o);if(!n(o,null,c)){i(c);return}}catch(c){if(!n(o,c)){l(c);return}}})()})}function Zx(e){return("0"+e.toString(16)).substr(-2)}function Jx(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let l="";for(let o=0;o<56;o++)l+=r.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(n),Array.from(n,Zx).join("")}async function eR(e){const r=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",r),l=new Uint8Array(i);return Array.from(l).map(o=>String.fromCharCode(o)).join("")}async function tR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await eR(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vi(e,n,r=!1){const i=Jx();let l=i;r&&(l+="/PASSWORD_RECOVERY"),await Qi(e,`${n}-code-verifier`,l);const o=await tR(i);return[o,i===o?"plain":"s256"]}const nR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aR(e){const n=e.headers.get(Bf);if(!n||!n.match(nR))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function rR(e){if(!e)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function iR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qi(e){if(!sR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vf(){const e={};return new Proxy(e,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ay(e){return JSON.parse(JSON.stringify(e))}var lR=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(r[i[l]]=e[i[l]]);return r};const Gr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oR=[502,503,504];async function ry(e){var n;if(!Xx(e))throw new Vf(Gr(e),0);if(oR.includes(e.status))throw new Vf(Gr(e),e.status);let r;try{r=await e.json()}catch(o){throw new T_(Gr(o),o)}let i;const l=aR(e);if(l&&l.getTime()>=C_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Jv(Gr(r),e.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new vr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new Jv(Gr(r),e.status,r.weak_password.reasons);throw new Ux(Gr(r),e.status||500,i)}const uR=(e,n,r,i)=>{const l={method:e,headers:n?.headers||{}};return e==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),r))};async function Le(e,n,r,i){var l;const o=Object.assign({},i?.headers);o[Bf]||(o[Bf]=C_["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const c=(l=i?.query)!==null&&l!==void 0?l:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await cR(e,n,r+f,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function cR(e,n,r,i,l,o){const c=uR(n,i,l,o);let f;try{f=await e(r,Object.assign({},c))}catch(h){throw console.error(h),new Vf(Gr(h),0)}if(f.ok||await ry(f),i?.noResolveJson)return f;try{return await f.json()}catch(h){await ry(h)}}function Ua(e){var n;let r=null;gR(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Gx(e.expires_in)));const i=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:r,user:i},error:null}}function iy(e){const n=Ua(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(n.data.weak_password=e.weak_password),n}function _r(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function dR(e){return{data:e,error:null}}function fR(e){const{action_link:n,email_otp:r,hashed_token:i,redirect_to:l,verification_type:o}=e,c=lR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:n,email_otp:r,hashed_token:i,redirect_to:l,verification_type:o},h=Object.assign({},c);return{data:{properties:f,user:h},error:null}}function hR(e){return e}function gR(e){return e.access_token&&e.refresh_token&&e.expires_in}const yf=["global","local","others"];var mR=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(r[i[l]]=e[i[l]]);return r};class pR{constructor({url:n="",headers:r={},fetch:i}){this.url=n,this.headers=r,this.fetch=D_(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,r=yf[0]){if(yf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yf.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Oe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,r={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_r})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:r}=n,i=mR(n,["options"]),l=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(l.new_email=i?.newEmail,delete l.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:fR,redirectTo:r?.redirectTo})}catch(r){if(Oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:_r})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,i,l,o,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},v=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(o=(l=n?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:hR});if(v.error)throw v.error;const y=await v.json(),_=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(S=>{const R=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(S.split(";")[1].split("=")[1]);m[`${C}Page`]=R}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Oe(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){qi(n);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:_r})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){qi(n);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:_r})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,r=!1){qi(n);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:_r})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){qi(n.userId);try{const{data:r,error:i}=await Le(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:r,error:i}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _deleteFactor(n){qi(n.userId),qi(n.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}}function sy(e={}){return{getItem:n=>e[n]||null,setItem:(n,r)=>{e[n]=r},removeItem:n=>{delete e[n]}}}function vR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gi={debug:!!(globalThis&&O_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class N_ extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class yR extends N_{}async function _R(e,n,r){Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,l.name);try{return await r()}finally{Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,l.name)}}else{if(n===0)throw Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}vR();const bR={url:Dx,storageKey:Nx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ly(e,n,r){return await r()}const Yi={};class Nl{constructor(n){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Nl.nextInstanceID,Nl.nextInstanceID+=1,this.instanceID>0&&$n()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},bR),n);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new pR({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=D_(l.fetch),this.lock=l.lock||ly,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:$n()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=_R:this.lock=ly,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:O_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sy(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=sy(this.memoryStorage)),$n()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var n,r;return(r=(n=Yi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Yi[this.storageKey]=Object.assign(Object.assign({},Yi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Yi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Yi[this.storageKey]=Object.assign(Object.assign({},Yi[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${R_}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const r=Kx(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),$n()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:o}=await this._getSessionFromURL(r,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Hx(o)){const h=(n=o.details)===null||n===void 0?void 0:n.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Oe(r)?{error:r}:{error:new T_("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,l;try{const o=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=n?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Ua}),{data:c,error:f}=o;if(f||!c)return{data:{user:null,session:null},error:f};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(Oe(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(n){var r,i,l;try{let o;if("email"in n){const{email:v,password:y,options:_}=n;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await Vi(this.storage,this.storageKey)),o=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:v,password:y,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:w,code_challenge_method:S},xform:Ua})}else if("phone"in n){const{phone:v,password:y,options:_}=n;o=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(i=_?.data)!==null&&i!==void 0?i:{},channel:(l=_?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Ua})}else throw new du("You must provide either an email or phone number and a password");const{data:c,error:f}=o;if(f||!c)return{data:{user:null,session:null},error:f};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(Oe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(n){try{let r;if("email"in n){const{email:o,password:c,options:f}=n;r=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:iy})}else if("phone"in n){const{phone:o,password:c,options:f}=n;r=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:iy})}else throw new du("You must provide either an email or phone number and a password");const{data:i,error:l}=r;return l?{data:{user:null,session:null},error:l}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new cu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,i,l,o;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(o=n.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;if(r==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(n){var r,i,l,o,c,f,h,m,v,y,_,w;let S,R;if("message"in n)S=n.message,R=n.signature;else{const{chain:C,wallet:T,statement:D,options:A}=n;let $;if($n())if(typeof T=="object")$=T;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))$=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=T}const U=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in $&&$.signIn){const Z=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),D?{statement:D}:null));let J;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")J=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)J=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)S=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),R=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${U.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(l=(i=A?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((o=A?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((h=A?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((m=A?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((y=(v=A?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...A.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const Z=await $.signMessage(new TextEncoder().encode(S),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=Z}}try{const{data:C,error:T}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:qx(R)},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ua});if(T)throw T;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new cu}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:T})}catch(C){if(Oe(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(n){const r=await qr(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(r??"").split("/");try{const{data:o,error:c}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Ua});if(await mr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new cu}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:l??null}),error:c})}catch(o){if(Oe(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(n){try{const{options:r,provider:i,token:l,access_token:o,nonce:c}=n,f=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ua}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new cu}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,i,l,o,c;try{if("email"in n){const{email:f,options:h}=n;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Vi(this.storage,this.storageKey));const{error:y}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in n){const{phone:f,options:h}=n,{data:m,error:v}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=h?.data)!==null&&l!==void 0?l:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new du("You must provide either an email or phone number.")}catch(f){if(Oe(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(n){var r,i;try{let l,o;"options"in n&&(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo,o=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:f}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:o}}),redirectTo:l,xform:Ua});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Oe(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(n){var r,i,l;try{let o=null,c=null;return this.flowType==="pkce"&&([o,c]=await Vi(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=n?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:dR})}catch(o){if(Oe(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new vr;const{error:l}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:l}})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:i,type:l,options:o}=n,{error:c}=await Le(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in n){const{phone:i,type:l,options:o}=n,{data:c,error:f}=await Le(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:f}}throw new du("You must provide either an email or phone number and a type")}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await qr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<gf:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const c=await qr(this.userStorage,this.storageKey+"-user");c?.user?n.user=c.user:n.user=vf()}if(this.storage.isServer&&n.user){let c=this.suppressGetSessionWarning;n=new Proxy(n,{get:(h,m,v)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,v))})}return{data:{session:n},error:null}}const{session:l,error:o}=await this._callRefreshToken(n.refresh_token);return o?{data:{session:null},error:o}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:_r}):await this._useSession(async r=>{var i,l,o;const{data:c,error:f}=r;if(f)throw f;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vr}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0,xform:_r})})}catch(r){if(Oe(r))return Px(r)&&(await this._removeSession(),await mr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{const{data:l,error:o}=i;if(o)throw o;if(!l.session)throw new vr;const c=l.session;let f=null,h=null;this.flowType==="pkce"&&n.email!=null&&([f,h]=await Vi(this.storage,this.storageKey));const{data:m,error:v}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:f,code_challenge_method:h}),jwt:c.access_token,xform:_r});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new vr;const r=Date.now()/1e3;let i=r,l=!0,o=null;const{payload:c}=pf(n.access_token);if(c.exp&&(i=c.exp,l=i<=r),l){const{session:f,error:h}=await this._callRefreshToken(n.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!f)return{data:{user:null,session:null},error:null};o=f}else{const{data:f,error:h}=await this._getUser(n.access_token);if(h)throw h;o={access_token:n.access_token,refresh_token:n.refresh_token,user:f.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Oe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){const{data:c,error:f}=r;if(f)throw f;n=(i=c.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new vr;const{session:l,error:o}=await this._callRefreshToken(n.refresh_token);return o?{data:{user:null,session:null},error:o}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n,r){try{if(!$n())throw new fu("No browser detected.");if(n.error||n.error_description||n.error_code)throw new fu(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Zv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Zv("No code detected.");const{data:D,error:A}=await this._exchangeCodeForSession(n.code);if(A)throw A;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:o,refresh_token:c,expires_in:f,expires_at:h,token_type:m}=n;if(!o||!f||!c||!m)throw new fu("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(f);let _=v+y;h&&(_=parseInt(h));const w=_-v;w*1e3<=Wi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const S=_-y;v-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,_,v):v-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,_,v);const{data:R,error:C}=await this._getUser(o);if(C)throw C;const T={provider_token:i,provider_refresh_token:l,access_token:o,expires_in:y,expires_at:_,refresh_token:c,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:n.type},error:null}}catch(i){if(Oe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await qr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:l,error:o}=r;if(o)return{error:o};const c=(i=l.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:f}=await this.admin.signOut(c,n);if(f&&!(Lx(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return n!=="others"&&(await this._removeSession(),await mr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const r=Yx(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,l;try{const{data:{session:o},error:c}=r;if(c)throw c;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",n,"session",o)}catch(o){await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",o),console.error(o)}})}async resetPasswordForEmail(n,r={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await Vi(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Oe(o))return{data:null,error:o};throw o}}async getUserIdentities(){var n;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async linkIdentity(n){var r;try{const{data:i,error:l}=await this._useSession(async o=>{var c,f,h,m,v;const{data:y,error:_}=o;if(_)throw _;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(c=n.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=n.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=n.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",w,{headers:this.headers,jwt:(v=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return $n()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:n.provider,url:i?.url},error:null}}catch(i){if(Oe(i))return{data:{provider:n.provider,url:null},error:i};throw i}}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,l;const{data:o,error:c}=r;if(c)throw c;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(l=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await Qx(async l=>(l>0&&await Wx(200*Math.pow(2,l-1)),this._debug(r,"refreshing attempt",l),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ua})),(l,o)=>{const c=200*Math.pow(2,l);return o&&mf(o)&&Date.now()+c-i<Wi})}catch(i){if(this._debug(r,"error",i),Oe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),$n()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await qr(this.storage,this.storageKey);if(l&&this.userStorage){let c=await qr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await Qi(this.userStorage,this.storageKey+"-user",c)),l.user=(n=c?.user)!==null&&n!==void 0?n:vf()}else if(l&&!l.user&&!l.user){const c=await qr(this.storage,this.storageKey+"-user");c&&c?.user?(l.user=c.user,await mr(this.storage,this.storageKey+"-user"),await Qi(this.storage,this.storageKey,l)):l.user=vf()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const o=((r=l.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<gf;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${gf}s`),o){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),mf(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(l.access_token);!f&&c?.user?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new vr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new zu;const{data:o,error:c}=await this._refreshAccessToken(n);if(c)throw c;if(!o.session)throw new vr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const f={session:o.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(o){if(this._debug(l,"error",o),Oe(o)){const c={session:null,error:o};return mf(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(n,r,i=!0){const l=`#_notifyAllSubscribers(${n})`;this._debug(l,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(n,r)}catch(h){o.push(h)}});if(await Promise.all(c),o.length>0){for(let f=0;f<o.length;f+=1)console.error(o[f]);throw o[0]}}finally{this._debug(l,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Qi(this.userStorage,this.storageKey+"-user",{user:r.user});const l=Object.assign({},r);delete l.user;const o=ay(l);await Qi(this.storage,this.storageKey,o)}else{const l=ay(r);await Qi(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await mr(this.storage,this.storageKey),await mr(this.storage,this.storageKey+"-code-verifier"),await mr(this.storage,this.storageKey+"-user"),this.userStorage&&await mr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&$n()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Wi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-n)/Wi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Wi}ms, refresh threshold is ${$f} ticks`),l<=$f&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof N_)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$n()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){const l=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,c]=await Vi(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(f.toString())}if(i?.queryParams){const o=new URLSearchParams(i.queryParams);l.push(o.toString())}return i?.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${l.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;const{data:l,error:o}=r;return o?{data:null,error:o}:await Le(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,l;const{data:o,error:c}=r;if(c)return{data:null,error:c};const f=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:h,error:m}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(n.factorType==="totp"&&(!((l=h?.totp)===null||l===void 0)&&l.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:l,error:o}=r;if(o)return{data:null,error:o};const{data:c,error:f}=await Le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:f})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:l,error:o}=r;return o?{data:null,error:o}:await Le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){const{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?{data:null,error:i}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i=n?.factors||[],l=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),o=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:l,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var r,i;const{data:{session:l},error:o}=n;if(o)return{data:null,error:o};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=pf(l.access_token);let f=null;c.aal&&(f=c.aal);let h=f;((i=(r=l.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const v=c.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(f=>f.kid===n);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(f=>f.kid===n),i&&this.jwks_cached_at+kx>l)return i;const{data:o,error:c}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=l,i=o.keys.find(f=>f.kid===n),!i)?null:i}async getClaims(n,r={}){try{let i=n;if(!i){const{data:w,error:S}=await this.getSession();if(S||!w.session)return{data:null,error:S};i=w.session.access_token}const{header:l,payload:o,signature:c,raw:{header:f,payload:h}}=pf(i);r?.allowExpired||rR(o.exp);const m=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:o,header:l,signature:c},error:null}}const v=iR(l.alg),y=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,c,Vx(`${f}.${h}`)))throw new qf("Invalid JWT signature");return{data:{claims:o,header:l,signature:c},error:null}}catch(i){if(Oe(i))return{data:null,error:i};throw i}}}Nl.nextInstanceID=0;const wR=Nl;class SR extends wR{constructor(n){super(n)}}var ER=function(e,n,r,i){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};class xR{constructor(n,r,i){var l,o,c;if(this.supabaseUrl=n,this.supabaseKey=r,!n)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const f=Ax(n),h=new URL(f);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,v={db:bx,realtime:Sx,auth:Object.assign(Object.assign({},wx),{storageKey:m}),global:_x},y=Ox(i??{},v);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=y.global.headers)!==null&&o!==void 0?o:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=Cx(r,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new zE(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new px(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new AE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},i={}){return this.rest.rpc(n,r,i)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,r;return ER(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:l,storageKey:o,flowType:c,lock:f,debug:h},m,v){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SR({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:o,autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:l,flowType:c,lock:f,debug:h,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new ax(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i?.access_token)})}_handleTokenChanged(n,r,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const RR=(e,n,r)=>new xR(e,n,r);function CR(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}CR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const TR="https://jyrfznujcyqskpfthrsf.supabase.co",AR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp5cmZ6bnVqY3lxc2twZnRocnNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwODM1OTMsImV4cCI6MjA3MDY1OTU5M30.JOZLGHslSQO7wDeFSq7FHAV6_VNtD9DS-gMNUu4rEnM",Ze=RR(TR,AR,{auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}}),Vt=(e,n="")=>e.code==="23505"?"This record already exists":e.code==="23503"?"Cannot perform this operation due to related records":e.code==="PGRST116"?"No records found":e.message?.includes("JWT")?"Authentication error. Please refresh the page":e.message||"An unexpected error occurred",xt={PRINTING:"STAMPA",PACKAGING:"CONFEZIONAMENTO"},Ce={ZANICA:"ZANICA",BUSTO_GAROLFO:"BUSTO_GAROLFO",BOTH:"BOTH"},Ln={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",MAINTENANCE:"MAINTENANCE"},Zi={CREMA:"crema",LIQUIDO:"liquido",POLVERI:"polveri"},ua={T1:"T1",T2:"T2",T3:"T3"},jl={THREE:"3",FOUR:"4"},oy={END_DATE_BEFORE_START:"End date cannot be before start date",END_TIME_BEFORE_START:"End time must be after start time when dates are the same"},ut={MACHINE:{DEPARTMENT:xt.PRINTING,WORK_CENTER:Ce.ZANICA,MIN_WEB_WIDTH:"100",MAX_WEB_WIDTH:"1000",MIN_BAG_HEIGHT:"50",MAX_BAG_HEIGHT:"500",SETUP_TIME_STANDARD:"0.5",CHANGEOVER_COLOR:"0.25",CHANGEOVER_MATERIAL:"0.75",ACTIVE_SHIFTS:[ua.T1],STATUS:Ln.ACTIVE},PHASE:{DEPARTMENT:xt.PRINTING,NUMERO_PERSONE:1,WORK_CENTER:Ce.ZANICA,V_STAMPA:6e3,T_SETUP_STAMPA:.5,COSTO_H_STAMPA:50,V_CONF:1e3,T_SETUP_CONF:.25,COSTO_H_CONF:40},ORDER:{SEAL_SIDES:jl.THREE,QUANTITY_COMPLETED:0},OFF_TIME:{START_TIME:"09:00",END_TIME:"17:00"}},dl={DECIMAL_PRECISION:{ONE_DECIMAL:["setup_time_standard","changeover_color","changeover_material","t_setup_stampa","t_setup_conf"],TWO_DECIMAL:["costo_h_stampa","costo_h_conf"]},FIELD_STEPS:{TIME:.1,COST:.01}},j_=x.createContext(),OR=({children:e})=>{const[n,r]=x.useState(null),[i,l]=x.useState(null),[o,c]=x.useState(!0),[f,h]=x.useState(null);x.useEffect(()=>{(async()=>{try{const{data:{session:D},error:A}=await Ze.auth.getSession();A?h("Failed to initialize authentication"):(l(D),r(D?.user??null))}catch{h("Failed to initialize authentication")}finally{c(!1)}})();const{data:{subscription:T}}=Ze.auth.onAuthStateChange(async(D,A)=>{l(A),r(A?.user??null),c(!1),h(null)});return()=>T.unsubscribe()},[]);const R={user:n,session:i,loading:o,error:f,signIn:async(C,T)=>{try{h(null),c(!0);const{data:D,error:A}=await Ze.auth.signInWithPassword({email:C,password:T});if(A)throw A;return{success:!0,user:D.user}}catch(D){return h(D.message),{success:!1,error:D.message}}finally{c(!1)}},signUp:async(C,T,D={})=>{try{h(null),c(!0);const{data:A,error:$}=await Ze.auth.signUp({email:C,password:T,options:{data:D}});if($)throw $;return{success:!0,user:A.user}}catch(A){return h(A.message),{success:!1,error:A.message}}finally{c(!1)}},signOut:async()=>{try{h(null),c(!0);const{error:C}=await Ze.auth.signOut();if(C)throw C;return{success:!0}}catch(C){return h(C.message),{success:!1,error:C.message}}finally{c(!1)}},resetPassword:async C=>{try{h(null),c(!0);const{error:T}=await Ze.auth.resetPasswordForEmail(C,{redirectTo:`${window.location.origin}/reset-password`});if(T)throw T;return{success:!0}}catch(T){return h(T.message),{success:!1,error:T.message}}finally{c(!1)}},updateProfile:async C=>{try{h(null),c(!0);const{data:T,error:D}=await Ze.auth.updateUser({data:C});if(D)throw D;return{success:!0,user:T.user}}catch(T){return h(T.message),{success:!1,error:T.message}}finally{c(!1)}},getUserProfile:async()=>{if(!n)return null;try{const{data:C,error:T}=await Ze.from("profiles").select("*").eq("id",n.id).single();return T?null:C}catch{return null}},isAuthenticated:!!n};return p.jsx(j_.Provider,{value:R,children:e})},$l=()=>{const e=x.useContext(j_);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},uy=e=>{let n;const r=new Set,i=(m,v)=>{const y=typeof m=="function"?m(n):m;if(!Object.is(y,n)){const _=n;n=v??(typeof y!="object"||y===null)?y:Object.assign({},n,y),r.forEach(w=>w(n,_))}},l=()=>n,f={setState:i,getState:l,getInitialState:()=>h,subscribe:m=>(r.add(m),()=>r.delete(m))},h=n=e(i,l,f);return f},DR=(e=>e?uy(e):uy),NR=e=>e;function jR(e,n=NR){const r=Ne.useSyncExternalStore(e.subscribe,Ne.useCallback(()=>n(e.getState()),[e,n]),Ne.useCallback(()=>n(e.getInitialState()),[e,n]));return Ne.useDebugValue(r),r}const cy=e=>{const n=DR(e),r=i=>jR(n,i);return Object.assign(r,n),r},ls=(e=>e?cy(e):cy);class Qt extends Error{constructor(n,r="GENERIC_ERROR",i=500,l=null,o=""){super(n),this.name="AppError",this.code=r,this.statusCode=i,this.originalError=l,this.context=o,this.timestamp=new Date().toISOString(),this.id=this.generateErrorId(),this.userMessage=this.getUserFriendlyMessage()}generateErrorId(){return`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getUserFriendlyMessage(){return MR(this)}toJSON(){return{id:this.id,message:this.message,code:this.code,statusCode:this.statusCode,context:this.context,timestamp:this.timestamp,userMessage:this.userMessage,stack:this.stack}}}const Pe={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",NOT_FOUND_ERROR:"NOT_FOUND_ERROR",SERVER_ERROR:"SERVER_ERROR",CLIENT_ERROR:"CLIENT_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",TIMEOUT_ERROR:"TIMEOUT_ERROR",RATE_LIMIT_ERROR:"RATE_LIMIT_ERROR"},wr={LOW:"low",MEDIUM:"medium",HIGH:"high",CRITICAL:"critical"},En=(e,n="")=>{if(e instanceof Qt)return e;if(e?.code)switch(e.code){case"23505":return new Qt("This record already exists",Pe.VALIDATION_ERROR,409,e,n);case"23503":return new Qt("Cannot delete this record as it is referenced by other data",Pe.VALIDATION_ERROR,400,e,n);case"PGRST116":return new Qt("Record not found",Pe.NOT_FOUND_ERROR,404,e,n);case"PGRST301":return new Qt("Session expired. Please log in again.",Pe.AUTHENTICATION_ERROR,401,e,n);case"PGRST302":return new Qt("Invalid session. Please log in again.",Pe.AUTHENTICATION_ERROR,401,e,n);case"PGRST303":return new Qt("Authentication required. Please log in.",Pe.AUTHENTICATION_ERROR,401,e,n);default:return new Qt(e.message||"An unexpected error occurred",Pe.SERVER_ERROR,500,e,n)}return e.name==="NetworkError"||e.message?.includes("fetch")||e.message?.includes("network")?new Qt("Network error. Please check your connection and try again.",Pe.NETWORK_ERROR,0,e,n):e.name==="TimeoutError"||e.message?.includes("timeout")?new Qt("Request timed out. Please try again.",Pe.TIMEOUT_ERROR,408,e,n):e.status===429||e.message?.includes("rate limit")?new Qt("Too many requests. Please wait a moment and try again.",Pe.RATE_LIMIT_ERROR,429,e,n):e.name==="ValidationError"||e.message?.includes("validation")?new Qt(e.message,Pe.VALIDATION_ERROR,400,e,n):e.message?.includes("Cannot add")||e.message?.includes("work center")?new Qt(e.message,Pe.BUSINESS_LOGIC_ERROR,400,e,n):new Qt(e.message||"An unexpected error occurred",Pe.CLIENT_ERROR,e.status||500,e,n)},Vn=(e,n="")=>({id:e.id||`ERR_${Date.now()}`,message:e.message,code:e.code||"UNKNOWN_ERROR",context:n,timestamp:new Date().toISOString(),url:typeof window<"u"?window.location.href:"server",userAgent:typeof navigator<"u"?navigator.userAgent:"server",stack:e.stack,severity:M_(e)}),M_=e=>e.code===Pe.AUTHENTICATION_ERROR||e.code===Pe.AUTHORIZATION_ERROR?wr.HIGH:e.code===Pe.NETWORK_ERROR||e.code===Pe.SERVER_ERROR?wr.MEDIUM:e.code===Pe.VALIDATION_ERROR||e.code===Pe.BUSINESS_LOGIC_ERROR?wr.LOW:wr.MEDIUM,vh=e=>n=>{const r=En(n,e);return Vn(r,e),r},MR=e=>{switch(e.code){case Pe.NETWORK_ERROR:return"Please check your internet connection and try again.";case Pe.AUTHENTICATION_ERROR:return"Please log in to continue.";case Pe.AUTHORIZATION_ERROR:return"You don't have permission to perform this action.";case Pe.NOT_FOUND_ERROR:return"The requested item was not found.";case Pe.VALIDATION_ERROR:return"Please check your input and try again.";case Pe.BUSINESS_LOGIC_ERROR:return e.message||"This operation cannot be completed.";case Pe.TIMEOUT_ERROR:return"The request took too long. Please try again.";case Pe.RATE_LIMIT_ERROR:return"Too many requests. Please wait a moment and try again.";default:return"Something went wrong. Please try again or contact support if the problem persists."}},dy=async(e,n=3,r=1e3)=>{let i;for(let l=1;l<=n;l++)try{return await e()}catch(o){if(i=o,o.code===Pe.VALIDATION_ERROR||o.code===Pe.AUTHORIZATION_ERROR||o.code===Pe.BUSINESS_LOGIC_ERROR)throw o;l<n&&(await new Promise(c=>setTimeout(c,r)),r*=2)}throw i},Gf=(e,n="")=>async(...r)=>{try{return await e(...r)}catch(i){const l=En(i,n);throw Vn(l,n),l}},k_=6048e5,kR=864e5,U_=6e4,yh=36e5,fy=Symbol.for("constructDateFrom");function Wn(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&fy in e?e[fy](n):e instanceof Date?new e.constructor(n):new Date(n)}function st(e,n){return Wn(n||e,e)}function UR(e,n,r){const i=st(e,r?.in);return isNaN(n)?Wn(e,NaN):(n&&i.setDate(i.getDate()+n),i)}function LR(e,n,r){return Wn(e,+st(e)+n)}function PR(e,n,r){return LR(e,n*yh)}let HR={};function Iu(){return HR}function ns(e,n){const r=Iu(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=st(e,n?.in),o=l.getDay(),c=(o<i?7:0)+o-i;return l.setDate(l.getDate()-c),l.setHours(0,0,0,0),l}function Cu(e,n){return ns(e,{...n,weekStartsOn:1})}function L_(e,n){const r=st(e,n?.in),i=r.getFullYear(),l=Wn(r,0);l.setFullYear(i+1,0,4),l.setHours(0,0,0,0);const o=Cu(l),c=Wn(r,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const f=Cu(c);return r.getTime()>=o.getTime()?i+1:r.getTime()>=f.getTime()?i:i-1}function hy(e){const n=st(e),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+e-+r}function P_(e,...n){const r=Wn.bind(null,n.find(i=>typeof i=="object"));return n.map(r)}function Ml(e,n){const r=st(e,n?.in);return r.setHours(0,0,0,0),r}function FR(e,n,r){const[i,l]=P_(r?.in,e,n),o=Ml(i),c=Ml(l),f=+o-hy(o),h=+c-hy(c);return Math.round((f-h)/kR)}function zR(e,n){const r=L_(e,n),i=Wn(e,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),Cu(i)}function IR(e,n,r){const[i,l]=P_(r?.in,e,n);return+Ml(i)==+Ml(l)}function $R(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function BR(e){return!(!$R(e)&&typeof e!="number"||isNaN(+st(e)))}function VR(e,n){const r=st(e,n?.in);return r.setHours(23,59,59,999),r}function qR(e,n){const r=st(e,n?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function GR(e,n){const r=n?.weekStartsOn,i=st(e,n?.in),l=i.getDay(),o=(l<r?-7:0)+6-(l-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const YR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},KR=(e,n,r)=>{let i;const l=YR[e];return typeof l=="string"?i=l:n===1?i=l.one:i=l.other.replace("{{count}}",n.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function _f(e){return(n={})=>{const r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const XR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},WR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ZR={date:_f({formats:XR,defaultWidth:"full"}),time:_f({formats:WR,defaultWidth:"full"}),dateTime:_f({formats:QR,defaultWidth:"full"})},JR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eC=(e,n,r,i)=>JR[e];function fl(e){return(n,r)=>{const i=r?.context?String(r.context):"standalone";let l;if(i==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,f=r?.width?String(r.width):c;l=e.formattingValues[f]||e.formattingValues[c]}else{const c=e.defaultWidth,f=r?.width?String(r.width):e.defaultWidth;l=e.values[f]||e.values[c]}const o=e.argumentCallback?e.argumentCallback(n):n;return l[o]}}const tC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lC=(e,n)=>{const r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},oC={ordinalNumber:lC,era:fl({values:tC,defaultWidth:"wide"}),quarter:fl({values:nC,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fl({values:aC,defaultWidth:"wide"}),day:fl({values:rC,defaultWidth:"wide"}),dayPeriod:fl({values:iC,defaultWidth:"wide",formattingValues:sC,defaultFormattingWidth:"wide"})};function hl(e){return(n,r={})=>{const i=r.width,l=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],o=n.match(l);if(!o)return null;const c=o[0],f=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(f)?cC(f,y=>y.test(c)):uC(f,y=>y.test(c));let m;m=e.valueCallback?e.valueCallback(h):h,m=r.valueCallback?r.valueCallback(m):m;const v=n.slice(c.length);return{value:m,rest:v}}}function uC(e,n){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n(e[r]))return r}function cC(e,n){for(let r=0;r<e.length;r++)if(n(e[r]))return r}function dC(e){return(n,r={})=>{const i=n.match(e.matchPattern);if(!i)return null;const l=i[0],o=n.match(e.parsePattern);if(!o)return null;let c=e.valueCallback?e.valueCallback(o[0]):o[0];c=r.valueCallback?r.valueCallback(c):c;const f=n.slice(l.length);return{value:c,rest:f}}}const fC=/^(\d+)(th|st|nd|rd)?/i,hC=/\d+/i,gC={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mC={any:[/^b/i,/^(a|c)/i]},pC={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vC={any:[/1/i,/2/i,/3/i,/4/i]},yC={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_C={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bC={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},EC={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xC={ordinalNumber:dC({matchPattern:fC,parsePattern:hC,valueCallback:e=>parseInt(e,10)}),era:hl({matchPatterns:gC,defaultMatchWidth:"wide",parsePatterns:mC,defaultParseWidth:"any"}),quarter:hl({matchPatterns:pC,defaultMatchWidth:"wide",parsePatterns:vC,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hl({matchPatterns:yC,defaultMatchWidth:"wide",parsePatterns:_C,defaultParseWidth:"any"}),day:hl({matchPatterns:bC,defaultMatchWidth:"wide",parsePatterns:wC,defaultParseWidth:"any"}),dayPeriod:hl({matchPatterns:SC,defaultMatchWidth:"any",parsePatterns:EC,defaultParseWidth:"any"})},RC={code:"en-US",formatDistance:KR,formatLong:ZR,formatRelative:eC,localize:oC,match:xC,options:{weekStartsOn:0,firstWeekContainsDate:1}};function CC(e,n){const r=st(e,n?.in);return FR(r,qR(r))+1}function TC(e,n){const r=st(e,n?.in),i=+Cu(r)-+zR(r);return Math.round(i/k_)+1}function H_(e,n){const r=st(e,n?.in),i=r.getFullYear(),l=Iu(),o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,c=Wn(n?.in||e,0);c.setFullYear(i+1,0,o),c.setHours(0,0,0,0);const f=ns(c,n),h=Wn(n?.in||e,0);h.setFullYear(i,0,o),h.setHours(0,0,0,0);const m=ns(h,n);return+r>=+f?i+1:+r>=+m?i:i-1}function AC(e,n){const r=Iu(),i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=H_(e,n),o=Wn(n?.in||e,0);return o.setFullYear(l,0,i),o.setHours(0,0,0,0),ns(o,n)}function OC(e,n){const r=st(e,n?.in),i=+ns(r,n)-+AC(r,n);return Math.round(i/k_)+1}function Ge(e,n){const r=e<0?"-":"",i=Math.abs(e).toString().padStart(n,"0");return r+i}const pr={y(e,n){const r=e.getFullYear(),i=r>0?r:1-r;return Ge(n==="yy"?i%100:i,n.length)},M(e,n){const r=e.getMonth();return n==="M"?String(r+1):Ge(r+1,2)},d(e,n){return Ge(e.getDate(),n.length)},a(e,n){const r=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,n){return Ge(e.getHours()%12||12,n.length)},H(e,n){return Ge(e.getHours(),n.length)},m(e,n){return Ge(e.getMinutes(),n.length)},s(e,n){return Ge(e.getSeconds(),n.length)},S(e,n){const r=n.length,i=e.getMilliseconds(),l=Math.trunc(i*Math.pow(10,r-3));return Ge(l,n.length)}},Ki={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gy={G:function(e,n,r){const i=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){const i=e.getFullYear(),l=i>0?i:1-i;return r.ordinalNumber(l,{unit:"year"})}return pr.y(e,n)},Y:function(e,n,r,i){const l=H_(e,i),o=l>0?l:1-l;if(n==="YY"){const c=o%100;return Ge(c,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ge(o,n.length)},R:function(e,n){const r=L_(e);return Ge(r,n.length)},u:function(e,n){const r=e.getFullYear();return Ge(r,n.length)},Q:function(e,n,r){const i=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Ge(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){const i=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Ge(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){const i=e.getMonth();switch(n){case"M":case"MM":return pr.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){const i=e.getMonth();switch(n){case"L":return String(i+1);case"LL":return Ge(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){const l=OC(e,i);return n==="wo"?r.ordinalNumber(l,{unit:"week"}):Ge(l,n.length)},I:function(e,n,r){const i=TC(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Ge(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):pr.d(e,n)},D:function(e,n,r){const i=CC(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Ge(i,n.length)},E:function(e,n,r){const i=e.getDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){const l=e.getDay(),o=(l-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Ge(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(l,{width:"short",context:"formatting"});case"eeee":default:return r.day(l,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){const l=e.getDay(),o=(l-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Ge(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(l,{width:"narrow",context:"standalone"});case"cccccc":return r.day(l,{width:"short",context:"standalone"});case"cccc":default:return r.day(l,{width:"wide",context:"standalone"})}},i:function(e,n,r){const i=e.getDay(),l=i===0?7:i;switch(n){case"i":return String(l);case"ii":return Ge(l,n.length);case"io":return r.ordinalNumber(l,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){const l=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,n,r){const i=e.getHours();let l;switch(i===12?l=Ki.noon:i===0?l=Ki.midnight:l=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,n,r){const i=e.getHours();let l;switch(i>=17?l=Ki.evening:i>=12?l=Ki.afternoon:i>=4?l=Ki.morning:l=Ki.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){let i=e.getHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return pr.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):pr.H(e,n)},K:function(e,n,r){const i=e.getHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Ge(i,n.length)},k:function(e,n,r){let i=e.getHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Ge(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):pr.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):pr.s(e,n)},S:function(e,n){return pr.S(e,n)},X:function(e,n,r){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return py(i);case"XXXX":case"XX":return Yr(i);case"XXXXX":case"XXX":default:return Yr(i,":")}},x:function(e,n,r){const i=e.getTimezoneOffset();switch(n){case"x":return py(i);case"xxxx":case"xx":return Yr(i);case"xxxxx":case"xxx":default:return Yr(i,":")}},O:function(e,n,r){const i=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+my(i,":");case"OOOO":default:return"GMT"+Yr(i,":")}},z:function(e,n,r){const i=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+my(i,":");case"zzzz":default:return"GMT"+Yr(i,":")}},t:function(e,n,r){const i=Math.trunc(+e/1e3);return Ge(i,n.length)},T:function(e,n,r){return Ge(+e,n.length)}};function my(e,n=""){const r=e>0?"-":"+",i=Math.abs(e),l=Math.trunc(i/60),o=i%60;return o===0?r+String(l):r+String(l)+n+Ge(o,2)}function py(e,n){return e%60===0?(e>0?"-":"+")+Ge(Math.abs(e)/60,2):Yr(e,n)}function Yr(e,n=""){const r=e>0?"-":"+",i=Math.abs(e),l=Ge(Math.trunc(i/60),2),o=Ge(i%60,2);return r+l+n+o}const vy=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},F_=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},DC=(e,n)=>{const r=e.match(/(P+)(p+)?/)||[],i=r[1],l=r[2];if(!l)return vy(e,n);let o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",vy(i,n)).replace("{{time}}",F_(l,n))},NC={p:F_,P:DC},jC=/^D+$/,MC=/^Y+$/,kC=["D","DD","YY","YYYY"];function UC(e){return jC.test(e)}function LC(e){return MC.test(e)}function PC(e,n,r){const i=HC(e,n,r);if(console.warn(i),kC.includes(e))throw new RangeError(i)}function HC(e,n,r){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${i} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const FC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,IC=/^'([^]*?)'?$/,$C=/''/g,BC=/[a-zA-Z]/;function VC(e,n,r){const i=Iu(),l=i.locale??RC,o=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f=st(e,r?.in);if(!BR(f))throw new RangeError("Invalid time value");let h=n.match(zC).map(v=>{const y=v[0];if(y==="p"||y==="P"){const _=NC[y];return _(v,l.formatLong)}return v}).join("").match(FC).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:qC(v)};if(gy[y])return{isToken:!0,value:v};if(y.match(BC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});l.localize.preprocessor&&(h=l.localize.preprocessor(f,h));const m={firstWeekContainsDate:o,weekStartsOn:c,locale:l};return h.map(v=>{if(!v.isToken)return v.value;const y=v.value;(LC(y)||UC(y))&&PC(y,n,String(e));const _=gy[y[0]];return _(f,y,l.localize,m)}).join("")}function qC(e){const n=e.match(IC);return n?n[1].replace($C,"'"):e}function GC(e,n){return+st(e)>+st(n)}function YC(e,n){return+st(e)<+st(n)}function hu(e,n){const r=()=>Wn(n?.in,NaN),l=QC(e);let o;if(l.date){const m=ZC(l.date,2);o=JC(m.restDateString,m.year)}if(!o||isNaN(+o))return r();const c=+o;let f=0,h;if(l.time&&(f=eT(l.time),isNaN(f)))return r();if(l.timezone){if(h=tT(l.timezone),isNaN(h))return r()}else{const m=new Date(c+f),v=st(0,n?.in);return v.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),v.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),v}return st(c+f+h,n?.in)}const gu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},KC=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,XC=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,WC=/^([+-])(\d{2})(?::?(\d{2}))?$/;function QC(e){const n={},r=e.split(gu.dateTimeDelimiter);let i;if(r.length>2)return n;if(/:/.test(r[0])?i=r[0]:(n.date=r[0],i=r[1],gu.timeZoneDelimiter.test(n.date)&&(n.date=e.split(gu.timeZoneDelimiter)[0],i=e.substr(n.date.length,e.length))),i){const l=gu.timezone.exec(i);l?(n.time=i.replace(l[1],""),n.timezone=l[1]):n.time=i}return n}function ZC(e,n){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),i=e.match(r);if(!i)return{year:NaN,restDateString:""};const l=i[1]?parseInt(i[1]):null,o=i[2]?parseInt(i[2]):null;return{year:o===null?l:o*100,restDateString:e.slice((i[1]||i[2]).length)}}function JC(e,n){if(n===null)return new Date(NaN);const r=e.match(KC);if(!r)return new Date(NaN);const i=!!r[4],l=gl(r[1]),o=gl(r[2])-1,c=gl(r[3]),f=gl(r[4]),h=gl(r[5])-1;if(i)return sT(n,f,h)?nT(n,f,h):new Date(NaN);{const m=new Date(0);return!rT(n,o,c)||!iT(n,l)?new Date(NaN):(m.setUTCFullYear(n,o,Math.max(l,c)),m)}}function gl(e){return e?parseInt(e):1}function eT(e){const n=e.match(XC);if(!n)return NaN;const r=bf(n[1]),i=bf(n[2]),l=bf(n[3]);return lT(r,i,l)?r*yh+i*U_+l*1e3:NaN}function bf(e){return e&&parseFloat(e.replace(",","."))||0}function tT(e){if(e==="Z")return 0;const n=e.match(WC);if(!n)return 0;const r=n[1]==="+"?-1:1,i=parseInt(n[2]),l=n[3]&&parseInt(n[3])||0;return oT(i,l)?r*(i*yh+l*U_):NaN}function nT(e,n,r){const i=new Date(0);i.setUTCFullYear(e,0,4);const l=i.getUTCDay()||7,o=(n-1)*7+r+1-l;return i.setUTCDate(i.getUTCDate()+o),i}const aT=[31,null,31,30,31,30,31,31,30,31,30,31];function z_(e){return e%400===0||e%4===0&&e%100!==0}function rT(e,n,r){return n>=0&&n<=11&&r>=1&&r<=(aT[n]||(z_(e)?29:28))}function iT(e,n){return n>=1&&n<=(z_(e)?366:365)}function sT(e,n,r){return n>=1&&n<=53&&r>=0&&r<=6}function lT(e,n,r){return e===24?n===0&&r===0:r>=0&&r<60&&n>=0&&n<60&&e>=0&&e<25}function oT(e,n){return n>=0&&n<=59}function yy(e,n,r){const i=st(e,r?.in);return i.setHours(n),i}function _y(e,n,r){const i=st(e,r?.in);return i.setMilliseconds(n),i}function by(e,n,r){const i=st(e,r?.in);return i.setMinutes(n),i}function wy(e,n,r){const i=st(e,r?.in);return i.setSeconds(n),i}function Zt(e){return VC(e,"yyyy-MM-dd")}function uT(e,n,r){if(!e.scheduled_start_time||!e.scheduled_end_time)return!1;const i=hu(e.scheduled_start_time),l=hu(e.scheduled_end_time),o=_y(wy(by(yy(hu(n),r),0),0),0),c=_y(wy(by(yy(hu(n),r+1),0),0),0);return YC(i,c)&&GC(l,o)}function I_(e){return ns(e,{weekStartsOn:0})}function cT(e){return GR(e,{weekStartsOn:0})}function a1(e){return Ml(e)}function r1(e){return VR(e)}function i1(e,n){return IR(e,n)}function Sy(e,n){return PR(e,n)}function kl(e,n){return UR(e,n)}class dT{async init(){try{const{error:n}=await Ze.from("machines").select("count").limit(1);if(n)throw new Error(`API initialization failed: ${n.message}`);return!0}catch(n){throw n}}async getMachines(){return Gf(async()=>{const{data:n,error:r}=await Ze.from("machines").select("*").order("machine_name");if(r)throw r;return n||[]},"getMachines")()}async addMachine(n){try{const{data:r,error:i}=await Ze.from("machines").insert([n]).select().single();if(i)throw i;return r}catch(r){throw new Error(`Failed to add machine: ${Vt(r)}`)}}async updateMachine(n,r){try{const{data:i,error:l}=await Ze.from("machines").update(r).eq("id",n).select().single();if(l)throw l;return i}catch(i){throw new Error(`Failed to update machine: ${Vt(i)}`)}}async removeMachine(n){try{const{error:r}=await Ze.from("machines").delete().eq("id",n);if(r)throw r;return!0}catch(r){throw new Error(`Failed to remove machine: ${Vt(r)}`)}}async getOdpOrders(){try{const{data:n,error:r}=await Ze.from("odp_orders").select("*").order("created_at",{ascending:!1});if(r)throw r;return n||[]}catch(n){throw new Error(`Failed to fetch ODP orders: ${Vt(n)}`)}}async addOdpOrder(n){try{const{data:r,error:i}=await Ze.from("odp_orders").insert([n]).select().single();if(i)throw i;return r}catch(r){throw new Error(`Failed to add ODP order: ${Vt(r)}`)}}async updateOdpOrder(n,r){try{const{data:i,error:l}=await Ze.from("odp_orders").update(r).eq("id",n).select().single();if(l)throw l;return i}catch(i){throw new Error(`Failed to update ODP order: ${Vt(i)}`)}}async removeOdpOrder(n){try{const{error:r}=await Ze.from("odp_orders").delete().eq("id",n);if(r)throw r;return!0}catch(r){throw new Error(`Failed to remove ODP order: ${Vt(r)}`)}}async getPhases(){try{const{data:n,error:r}=await Ze.from("phases").select("*").order("name");if(r)throw r;return n||[]}catch(n){throw new Error(`Failed to fetch phases: ${Vt(n)}`)}}async addPhase(n){try{const{data:r,error:i}=await Ze.from("phases").insert([n]).select().single();if(i)throw i;return r}catch(r){throw new Error(`Failed to add phase: ${Vt(r)}`)}}async updatePhase(n,r){try{const{data:i,error:l}=await Ze.from("phases").update(r).eq("id",n).select().single();if(l)throw l;return i}catch(i){throw new Error(`Failed to update phase: ${Vt(i)}`)}}async removePhase(n){try{const{error:r}=await Ze.from("phases").delete().eq("id",n);if(r)throw r;return!0}catch(r){throw new Error(`Failed to remove phase: ${Vt(r)}`)}}async getMachineAvailabilityForDateRange(n,r,i){try{const{data:l,error:o}=await Ze.from("machine_availability").select("*").eq("machine_id",n).gte("date",r).lte("date",i).order("date");if(o)throw o;return l||[]}catch(l){throw new Error(`Failed to fetch machine availability for date range: ${Vt(l)}`)}}async getMachineAvailabilityForDate(n,r){try{const{data:i,error:l}=await Ze.from("machine_availability").select("*").eq("machine_id",n).eq("date",r).maybeSingle();if(l)throw l;return i||null}catch(i){throw new Error(`Failed to fetch machine availability: ${Vt(i)}`)}}async getMachineAvailability(n,r){try{return(await this.getMachineAvailabilityForDate(n,r))?.unavailable_hours||[]}catch{return[]}}async setMachineAvailability(n,r,i){try{const{data:l,error:o}=await Ze.from("machine_availability").upsert([{machine_id:n,date:r,unavailable_hours:i}],{onConflict:"machine_id,date"}).select().single();if(o)throw o;return l}catch(l){throw new Error(`Failed to set machine availability: ${Vt(l)}`)}}async getMachineAvailabilityForDateAllMachines(n){try{const{data:r,error:i}=await Ze.from("machine_availability").select("*").eq("date",n);if(i)throw i;return r||[]}catch(r){throw new Error(`Failed to fetch machine availability for all machines: ${Vt(r)}`)}}async getEventsByDate(n){try{const{data:r,error:i}=await Ze.from("machine_availability").select("*").eq("date",n);if(i)throw i;return r||[]}catch(r){throw new Error(`Failed to fetch events by date: ${Vt(r)}`)}}async setUnavailableHoursForRange(n,r,i,l,o){try{const c=parseInt(l.split(":")[0]),f=parseInt(o.split(":")[0]),h=[];for(let w=c;w<f;w++)h.push(w.toString());const m=new Date(r),v=new Date(i);let y=new Date(m);const _=[];for(;y<=v;){const w=Zt(y),R=(await this.getMachineAvailabilityForDate(n,w))?.unavailable_hours||[],C=[...new Set([...R,...h])].sort((D,A)=>parseInt(D)-parseInt(A)),T=await this.setMachineAvailability(n,w,C);_.push(T),y=kl(y,1)}return _}catch(c){throw new Error(`Failed to set unavailable hours for range: ${Vt(c)}`)}}setupRealtimeSubscriptions(n,r,i){return Ze.channel("table-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"odp_orders"},n).on("postgres_changes",{event:"*",schema:"public",table:"machines"},r).on("postgres_changes",{event:"*",schema:"public",table:"phases"},i).subscribe(o=>{})}cleanupRealtimeSubscriptions(n){if(n)try{n.unsubscribe()}catch{}}}const We=new dT,Te=ls((e,n)=>({isLoading:!1,isInitialized:!1,selectedWorkCenter:Ce.BOTH,alert:{message:"",type:"info",isVisible:!1},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},getLoadingState:()=>n().isLoading,getInitializationState:()=>n().isInitialized,getSelectedWorkCenter:()=>n().selectedWorkCenter,getAlert:()=>n().alert,getConfirmDialog:()=>n().confirmDialog,setLoading:r=>e({isLoading:r}),setInitialized:r=>e({isInitialized:r}),setSelectedWorkCenter:r=>e({selectedWorkCenter:r}),showAlert:(r,i="info")=>e({alert:{message:r,type:i,isVisible:!0}}),hideAlert:()=>e({alert:{message:"",type:"info",isVisible:!1}}),showConfirmDialog:(r,i,l,o="danger")=>e({confirmDialog:{isOpen:!0,title:r,message:i,onConfirm:l,type:o}}),hideConfirmDialog:()=>e({confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}}),reset:()=>e({isLoading:!1,isInitialized:!1,selectedWorkCenter:Ce.BOTH,alert:{message:"",type:"info",isVisible:!1},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}})})),fT=(e,n)=>{const r=vh("Machine");return{addMachine:async i=>{try{const{selectedWorkCenter:l}=Te.getState();if(l&&l!==Ce.BOTH&&i.work_center&&i.work_center!==l)throw new Error(`Cannot add Machine with different work center. Selected: ${l}, Item: ${i.work_center}`);const o=await We.addMachine(i);return e(c=>({machines:[...c.machines,o]})),Te.getState().showAlert(`Machine "${i?.machine_name||"Unknown"}" added successfully`,"success"),o}catch(l){const o=r(l);throw Te.getState().showAlert(o.message,"error"),o}},updateMachine:async(i,l)=>{try{const o=n().machines.find(f=>f.id===i),c=await We.updateMachine(i,l);return e(f=>({machines:f.machines.map(h=>h.id===i?{...h,...c}:h)})),Te.getState().showAlert(`Machine "${o?.machine_name||"Unknown"}" updated successfully`,"success"),c}catch(o){const c=r(o);throw Te.getState().showAlert(c.message,"error"),c}},removeMachine:async i=>{try{const l=n().machines.find(o=>o.id===i);return await We.removeMachine(i),e(o=>({machines:o.machines.filter(c=>c.id!==i)})),Te.getState().showAlert(`Machine "${l?.machine_name||"Unknown"}" deleted successfully`,"success"),!0}catch(l){const o=r(l);throw Te.getState().showAlert(o.message,"error"),o}}}},Ft=ls((e,n)=>({machines:[],getMachines:()=>n().machines,getMachineById:r=>n().machines.find(i=>i.id===r),getMachinesByWorkCenter:r=>r===Ce.BOTH?n().machines:n().machines.filter(i=>i.work_center===r),setMachines:r=>e({machines:r||[]}),...fT(e,n),cleanupDuplicateMachines:()=>{const r=n(),i=[],l=new Set;r.machines.forEach(o=>{l.has(o.id)||(l.add(o.id),i.push(o))}),e({machines:i})},reset:()=>e({machines:[]})})),hT=(e,n)=>{const r=vh("OdpOrder");return{addOdpOrder:async i=>{try{const{selectedWorkCenter:l}=Te.getState();if(l&&l!==Ce.BOTH&&i.work_center&&i.work_center!==l)throw new Error(`Cannot add ODP Order with different work center. Selected: ${l}, Item: ${i.work_center}`);const o=await We.addOdpOrder(i);return e(c=>({odpOrders:[...c.odpOrders,o]})),Te.getState().showAlert(`ODP Order "${i?.odp_number||"Unknown"}" added successfully`,"success"),o}catch(l){const o=r(l);throw Te.getState().showAlert(o.message,"error"),o}},updateOdpOrder:async(i,l)=>{try{const o=n().odpOrders.find(f=>f.id===i),c=await We.updateOdpOrder(i,l);return e(f=>({odpOrders:f.odpOrders.map(h=>h.id===i?{...h,...c}:h)})),Te.getState().showAlert(`ODP Order "${o?.odp_number||"Unknown"}" updated successfully`,"success"),c}catch(o){const c=r(o);throw Te.getState().showAlert(c.message,"error"),c}},removeOdpOrder:async i=>{try{const l=n().odpOrders.find(o=>o.id===i);return await We.removeOdpOrder(i),e(o=>({odpOrders:o.odpOrders.filter(c=>c.id!==i)})),Te.getState().showAlert(`ODP Order "${l?.odp_number||"Unknown"}" deleted successfully`,"success"),!0}catch(l){const o=r(l);throw Te.getState().showAlert(o.message,"error"),o}}}},Dt=ls((e,n)=>({odpOrders:[],getOdpOrders:()=>n().odpOrders,getOdpOrderById:r=>n().odpOrders.find(i=>i.id===r),getOdpOrdersByWorkCenter:r=>r===Ce.BOTH?n().odpOrders:n().odpOrders.filter(i=>i.work_center===r),getScheduledOrders:()=>n().odpOrders.filter(r=>r.status==="SCHEDULED"),getUnscheduledOrders:()=>n().odpOrders.filter(r=>r.status==="NOT SCHEDULED"),setOdpOrders:r=>e({odpOrders:r||[]}),...hT(e,n),cleanupDuplicateOrders:()=>{const r=n(),i=[],l=new Set;r.odpOrders.forEach(o=>{l.has(o.id)||(l.add(o.id),i.push(o))}),e({odpOrders:i})},reset:()=>e({odpOrders:[]})})),gT=(e,n)=>{const r=vh("Phase");return{addPhase:async i=>{try{const{selectedWorkCenter:l}=Te.getState();if(l&&l!==Ce.BOTH&&i.work_center&&i.work_center!==l)throw new Error(`Cannot add Phase with different work center. Selected: ${l}, Item: ${i.work_center}`);const o=await We.addPhase(i);return e(c=>({phases:[...c.phases,o]})),Te.getState().showAlert(`Phase "${i?.name||"Unknown"}" added successfully`,"success"),o}catch(l){const o=r(l);throw Te.getState().showAlert(o.message,"error"),o}},updatePhase:async(i,l)=>{try{const o=n().phases.find(f=>f.id===i),c=await We.updatePhase(i,l);return e(f=>({phases:f.phases.map(h=>h.id===i?{...h,...c}:h)})),Te.getState().showAlert(`Phase "${o?.name||"Unknown"}" updated successfully`,"success"),c}catch(o){const c=r(o);throw Te.getState().showAlert(c.message,"error"),c}},removePhase:async i=>{try{const l=n().phases.find(o=>o.id===i);return await We.removePhase(i),e(o=>({phases:o.phases.filter(c=>c.id!==i)})),Te.getState().showAlert(`Phase "${l?.name||"Unknown"}" deleted successfully`,"success"),!0}catch(l){const o=r(l);throw Te.getState().showAlert(o.message,"error"),o}}}},qn=ls((e,n)=>({phases:[],getPhases:()=>n().phases,getPhaseById:r=>n().phases.find(i=>i.id===r),getPhasesByWorkCenter:r=>r===Ce.BOTH?n().phases:n().phases.filter(i=>i.work_center===r),setPhases:r=>e({phases:r||[]}),...gT(e,n),cleanupDuplicatePhases:()=>{const r=n(),i=[],l=new Set;r.phases.forEach(o=>{l.has(o.id)||(l.add(o.id),i.push(o))}),e({phases:i})},reset:()=>e({phases:[]})})),Ji=ls((e,n)=>({machineAvailability:{},getMachineAvailability:()=>n().machineAvailability,setMachineAvailability:r=>e({machineAvailability:r}),scheduleTaskFromSlot:async(r,i,l,o,c)=>{try{const{getOdpOrderById:f}=Dt.getState(),{getMachineById:h}=Ft.getState(),m=f(r),v=h(i.id);if(!m||!v)return{error:"Task or machine not found"};const y=new Date(l);y.setHours(o,c,0,0);const _=m.time_remaining||m.duration||1,w=Sy(y,_),S={machine:i.id,start_time:y.toISOString(),end_time:w.toISOString()};return await n().scheduleTask(r,S)}catch{return{error:"An error occurred during scheduling"}}},rescheduleTaskToSlot:async(r,i,l,o,c)=>{try{const{getOdpOrderById:f}=Dt.getState(),{getMachineById:h}=Ft.getState(),m=f(r),v=h(i.id);if(!m||!v)return{error:"Event or machine not found"};const y=new Date(l);y.setHours(o,c,0,0);const _=m.time_remaining||m.duration||1,w=Sy(y,_),S={machine:i.id,start_time:y.toISOString(),end_time:w.toISOString()};return await n().scheduleTask(r,S)}catch{return{error:"An error occurred during rescheduling"}}},validateSlotAvailability:async(r,i,l,o)=>{try{const c=Zt(i);if(await n().isTimeSlotUnavailable(r.id,c,l))return{error:"Cannot schedule task on unavailable time slot"};const{getOdpOrders:h}=Dt.getState(),m=new Date(i);m.setHours(l,o,0,0);const v=new Date(m.getTime()+3600*1e3),y=h().filter(_=>_.scheduled_machine_id===r.id&&_.status==="SCHEDULED"&&_.scheduled_start_time);for(const _ of y){const w=new Date(_.scheduled_start_time),S=_.time_remaining||_.duration||1,R=new Date(w.getTime()+S*60*60*1e3);if(m<R&&v>w)return{error:"Cannot schedule task on occupied time slot"}}return{success:!0}}catch{return{error:"Error validating slot availability"}}},scheduleTask:async(r,i)=>{const{getOdpOrderById:l}=Dt.getState(),{getMachineById:o}=Ft.getState(),c=l(r),f=o(i.machine);if(c&&f&&c.work_center&&f.work_center&&c.work_center!==f.work_center)return{error:`Work center mismatch: task requires '${c.work_center}' but machine is '${f.work_center}'`};const{getOdpOrders:h}=Dt.getState(),m=h().filter(C=>C.scheduled_machine_id===i.machine&&C.status==="SCHEDULED"&&C.id!==r),v=new Date(i.start_time),y=new Date(i.end_time);for(const C of m){const T=new Date(C.scheduled_start_time),D=C.time_remaining||C.duration||1,A=new Date(T.getTime()+D*60*60*1e3);if(v<A&&y>T)return{error:`Task overlaps with existing scheduled task: ${C.odp_number}`}}const _=Zt(v),w=n().machineAvailability[_];if(w&&Array.isArray(w)){const C=w.find(T=>T.machine_id===i.machine);if(C&&C.unavailable_hours&&Array.isArray(C.unavailable_hours)){const T=new Date(v.getFullYear(),v.getMonth(),v.getDate());for(const D of C.unavailable_hours){const A=new Date(T.getTime()+parseInt(D)*60*60*1e3),$=new Date(A.getTime()+3600*1e3);if(v<$&&y>A)return{error:`Task overlaps with unavailable slot at hour ${D}:00`}}}}const S={scheduled_machine_id:i.machine,scheduled_start_time:i.start_time,scheduled_end_time:i.end_time,production_start:i.start_time,production_end:i.end_time,color:i.color,status:"SCHEDULED"},{updateOdpOrder:R}=Dt.getState();return await R(r,S),{success:!0}},unscheduleTask:async r=>{const i={scheduled_machine_id:null,scheduled_start_time:null,scheduled_end_time:null,production_start:null,production_end:null,color:null,status:"NOT SCHEDULED"},{updateOdpOrder:l}=Dt.getState();await l(r,i)},loadMachineAvailabilityForDateRange:async(r,i,l)=>{const o=i instanceof Date?Zt(i):i,c=l instanceof Date?Zt(l):l;try{const f=await We.getMachineAvailabilityForDateRange(r,o,c);return e(h=>{const m={...h.machineAvailability};return Array.isArray(f)&&f.forEach(v=>{if(v.date&&v.unavailable_hours){const y=v.date;m[y]||(m[y]=[]);const _=m[y].find(w=>w.machine_id===r);_?_.unavailable_hours=v.unavailable_hours:m[y].push({machine_id:r,date:y,unavailable_hours:v.unavailable_hours})}}),{machineAvailability:m}}),f}catch(f){throw f}},getMachineAvailabilityForDate:async(r,i)=>{try{return await We.getMachineAvailabilityForDate(r,i)}catch{return[]}},setMachineAvailability:async(r,i,l)=>{try{const{getOdpOrders:o}=Dt.getState(),c=o().filter(v=>v.scheduled_machine_id===r&&v.status==="SCHEDULED"&&v.scheduled_start_time&&v.scheduled_end_time),f=new Date(i),h=new Date(f.getFullYear(),f.getMonth(),f.getDate()),m=new Date(h.getTime()+1440*60*1e3);for(const v of c){const y=new Date(v.scheduled_start_time),_=new Date(v.scheduled_end_time);if(y<m&&_>h)for(const w of l){const S=new Date(h.getTime()+parseInt(w)*60*60*1e3),R=new Date(S.getTime()+3600*1e3);if(S<_&&R>y)throw new Error(`Cannot set machine unavailable during scheduled task: ${v.odp_number}`)}}return await We.setMachineAvailability(r,i,l),e(v=>{const y={...v.machineAvailability};y[i]||(y[i]=[]);const _=y[i].find(w=>w.machine_id===r);return _?_.unavailable_hours=l:y[i].push({machine_id:r,date:i,unavailable_hours:l}),{machineAvailability:y}}),Te.getState().showAlert(`Machine availability updated successfully for ${i}`,"success"),!0}catch(o){const c=En(o,"Machine Availability");throw Te.getState().showAlert(c.message,"error"),c}},toggleMachineHourAvailability:async(r,i,l)=>{try{const o=await n().getMachineAvailability(r,i),c=l.toString();let f;return o.includes(c)?f=o.filter(h=>h!==c):f=[...o,c].sort((h,m)=>parseInt(h)-parseInt(m)),await We.setMachineAvailability(r,i,f),e(h=>{const m={...h.machineAvailability};m[i]||(m[i]=[]);const v=m[i].find(y=>y.machine_id===r);return v?v.unavailable_hours=f:m[i].push({machine_id:r,date:i,unavailable_hours:f}),{machineAvailability:m}}),Te.getState().showAlert(`Time slot ${c}:00 updated successfully`,"success"),!0}catch(o){const c=En(o,"Machine Availability");throw Te.getState().showAlert(c.message,"error"),c}},loadMachineAvailabilityForDate:async r=>{const{machineAvailability:i}=n();if(!i[r]?._loading&&!(i[r]&&i[r].length>=0)){e(l=>({machineAvailability:{...l.machineAvailability,[r]:{_loading:!0}}}));try{const l=await We.getMachineAvailabilityForDateAllMachines(r);e(o=>({machineAvailability:{...o.machineAvailability,[r]:l||[]}}))}catch(l){throw e(o=>{const c={...o.machineAvailability};return c[r]&&delete c[r]._loading,{machineAvailability:c}}),l}}},loadMachineAvailabilityForMachine:async(r,i,l)=>{const o={};try{try{await We.getMachineAvailabilityForDate("test","2025-01-01")}catch{return{}}let c=new Date(i);for(;c<=l;){const f=Zt(c);n().machineAvailability[f]||await n().loadMachineAvailabilityForDate(f);const m=n().machineAvailability[f];if(Array.isArray(m)){const v=m.find(y=>y.machine_id===r);v&&(o[f]=v.unavailable_hours||[])}c=kl(c,1)}return o}catch{return{}}},getMachineAvailability:async(r,i)=>{try{const l=n().machineAvailability[i];if(l&&Array.isArray(l)){const c=l.find(f=>f.machine_id===r);if(c)return c.unavailable_hours||[]}const o=await We.getMachineAvailabilityForDate(r,i);if(o){const c=(o.unavailable_hours||[]).map(f=>f.toString());return e(f=>{const h={...f.machineAvailability};h[i]||(h[i]=[]);const m=h[i].find(v=>v.machine_id===r);return m?m.unavailable_hours=c:h[i].push({machine_id:r,date:i,unavailable_hours:c}),{machineAvailability:h}}),c}return[]}catch{return[]}},isTimeSlotUnavailable:async(r,i,l)=>(await n().getMachineAvailability(r,i)).includes(l.toString()),initializeEmptyMachineAvailability:()=>{const{machines:r}=Ft.getState(),{machineAvailability:i}=n(),l={...i};r.forEach(o=>{l[o.id]||(l[o.id]={})}),e({machineAvailability:l})},getEventsByDate:async r=>{try{return await We.getEventsByDate(r)}catch{return[]}},setMachineUnavailability:async(r,i,l,o,c)=>{try{const f=await We.setUnavailableHoursForRange(r,i,l,o,c),h=new Date(i),m=new Date(l),v=await n().loadMachineAvailabilityForDateRange(r,h,m);return v&&Array.isArray(v)&&e(y=>{const _={...y.machineAvailability};return v.forEach(w=>{if(w.date&&w.unavailable_hours){const S=Zt(new Date(w.date));_[S]||(_[S]=[]);const R=_[S].find(C=>C.machine_id===r);R?R.unavailable_hours=w.unavailable_hours:_[S].push({machine_id:r,date:S,unavailable_hours:w.unavailable_hours})}}),{machineAvailability:_}}),f}catch(f){throw f}},isMachineAvailabilityAccessible:async()=>{try{return await We.getMachineAvailabilityForDateAllMachines("2025-01-01"),!0}catch{return!1}},getMachineAvailabilityStatus:async()=>{try{const r=await n().isMachineAvailabilityAccessible();return{accessible:r,message:r?"Table is accessible":"Table is not accessible - check permissions or table existence"}}catch(r){return{accessible:!1,message:`Error checking table: ${r.message}`}}},reset:()=>e({machineAvailability:{}})})),mT=(e,n)=>{const r=o=>{vT(o)},i=o=>{yT(o)},l=o=>{_T(o)};return We.setupRealtimeSubscriptions(r,i,l)},Yf=()=>{window.realtimeChannel&&(We.cleanupRealtimeSubscriptions(window.realtimeChannel),window.realtimeChannel=null)};let El=null;typeof window<"u"&&(El=()=>{Yf()},window.addEventListener("beforeunload",El));const pT=()=>{typeof window<"u"&&El&&(window.removeEventListener("beforeunload",El),El=null)},vT=(e,n,r)=>{const{eventType:i,newRecord:l,oldRecord:o}=e,{setOdpOrders:c,getOdpOrders:f}=Dt.getState();switch(i){case"INSERT":c([...f(),l]);break;case"UPDATE":c(f().map(h=>h.id===l.id?l:h));break;case"DELETE":c(f().filter(h=>h.id!==o.id));break}},yT=(e,n,r)=>{const{eventType:i,newRecord:l,oldRecord:o}=e,{setMachines:c,getMachines:f}=Ft.getState();switch(i){case"INSERT":c([...f(),l]);break;case"UPDATE":c(f().map(h=>h.id===l.id?l:h));break;case"DELETE":c(f().filter(h=>h.id!==o.id));break}},_T=(e,n,r)=>{const{eventType:i,newRecord:l,oldRecord:o}=e,{setPhases:c,getPhases:f}=qn.getState();switch(i){case"INSERT":c([...f(),l]);break;case"UPDATE":c(f().map(h=>h.id===l.id?l:h));break;case"DELETE":c(f().filter(h=>h.id!==o.id));break}},Zr=ls((e,n)=>({init:async()=>{const{getInitializationState:r,setLoading:i,setInitialized:l,showAlert:o}=Te.getState(),{setMachines:c}=Ft.getState(),{setOdpOrders:f}=Dt.getState(),{setPhases:h}=qn.getState(),{initializeEmptyMachineAvailability:m}=Ji.getState();if(!r()){i(!0);try{let v=!1,y=0;const _=3;for(;!v&&y<_;)try{await We.init(),v=!0}catch(C){y++;const T=En(C,"API Service Initialization");if(y>=_)throw Vn(T,"API Service Initialization - Final Attempt Failed"),i(!1),l(!1),o("Unable to connect to the server. Please check your internet connection and refresh the page.","error"),new Qt("API service initialization failed after multiple attempts","CRITICAL_INIT_ERROR",503,T,"Store Initialization");const D=Math.min(1e3*Math.pow(2,y-1),1e4);await new Promise(A=>setTimeout(A,D)),o(`Connection attempt ${y} failed. Retrying...`,"warning")}let w=[],S=[],R=[];try{w=await We.getMachines()}catch(C){const T=En(C,"Machines Data Fetch");Vn(T,"Machines Data Fetch Failed"),o("Warning: Unable to load machine data. Some features may be limited.","warning")}try{S=await We.getOdpOrders()}catch(C){const T=En(C,"Orders Data Fetch");Vn(T,"Orders Data Fetch Failed"),o("Warning: Unable to load order data. Some features may be limited.","warning")}try{R=await We.getPhases()}catch(C){const T=En(C,"Phases Data Fetch");Vn(T,"Phases Data Fetch Failed"),o("Warning: Unable to load phase data. Some features may be limited.","warning")}try{const C=[],T=new Set;if(w&&w.length>0&&w.forEach(A=>{T.has(A.id)||(T.add(A.id),C.push(A))}),c(C),f(S||[]),h(R||[]),m(),!window.realtimeChannel)try{const A=mT(e,n);A&&(window.realtimeChannel=A)}catch(A){const $=En(A,"Real-time Subscriptions Setup");Vn($,"Real-time Subscriptions Setup Failed"),o("Warning: Real-time updates are not available. Data may not update automatically.","warning")}i(!1),l(!0);const D=C.length+(S?.length||0)+(R?.length||0);D>0?o(`Application initialized successfully. Loaded ${D} data items.`,"success"):o("Application initialized with limited functionality due to data loading issues.","warning")}catch(C){const T=En(C,"Data Processing");throw Vn(T,"Data Processing Failed"),i(!1),l(!1),o("Failed to process application data. Please refresh the page.","error"),T}}catch(v){const y=v instanceof Qt?v:En(v,"Store Initialization");throw Vn(y,"Store Initialization - Unexpected Error"),i(!1),l(!1),y.code==="CRITICAL_INIT_ERROR"?o("Critical initialization error. Please contact support if the problem persists.","error"):o("Application initialization failed. Please refresh the page or contact support.","error"),y}}},refreshData:async()=>{const{setLoading:r}=Te.getState(),{setMachines:i}=Ft.getState(),{setOdpOrders:l}=Dt.getState(),{setPhases:o}=qn.getState();r(!0);try{const[c,f,h]=await Promise.all([We.getMachines(),We.getOdpOrders(),We.getPhases()]);i(c||[]),l(f||[]),o(h||[]),r(!1)}catch{r(!1)}},debugData:()=>{const{getMachines:r}=Ft.getState(),{getOdpOrders:i}=Dt.getState(),{getPhases:l}=qn.getState(),o=r().map(h=>h.id);o.filter((h,m)=>o.indexOf(h)!==m);const c=i().map(h=>h.id);c.filter((h,m)=>c.indexOf(h)!==m);const f=l().map(h=>h.id);f.filter((h,m)=>f.indexOf(h)!==m)},cleanupDuplicates:()=>{const{cleanupDuplicateMachines:r}=Ft.getState(),{cleanupDuplicateOrders:i}=Dt.getState(),{cleanupDuplicatePhases:l}=qn.getState();r(),i(),l()},reset:()=>{Yf();const{reset:r}=Ft.getState(),{reset:i}=Dt.getState(),{reset:l}=qn.getState(),{reset:o}=Ji.getState(),{reset:c}=Te.getState();r(),i(),l(),o(),c()},cleanup:()=>{Yf(),pT()},getState:()=>{const{getMachines:r}=Ft.getState(),{getOdpOrders:i}=Dt.getState(),{getPhases:l}=qn.getState(),{getMachineAvailability:o}=Ji.getState(),{getLoadingState:c,getInitializationState:f}=Te.getState();return{machines:r(),odpOrders:i(),phases:l(),machineAvailability:o(),isLoading:c(),isInitialized:f()}}}));function bT(){const{user:e,signOut:n}=$l(),{selectedWorkCenter:r}=Te(),i=$a(),l=Fl(),o=[{href:"/",label:"Home"},{href:"/machinery",label:"Machinery"},{href:"/phases",label:"Phases"},{href:"/backlog",label:"Backlog"},{href:"/scheduler",label:"Scheduler"}],c=async()=>{try{await n(),l("/login")}catch(f){console.error("Sign out error:",f)}};return e?p.jsxs("nav",{className:"sidebar",children:[p.jsx("div",{className:"sidebar-logo",children:p.jsxs(xn,{to:"/",children:[p.jsx("span",{className:"logo-flex",children:"flex"}),p.jsx("span",{className:"logo-i",children:"i"})]})}),p.jsxs("div",{className:"sidebar-links",children:[p.jsx("h3",{className:"sidebar-section-title",children:"NAVIGATION"}),o.map(f=>p.jsx(xn,{to:f.href,className:`sidebar-link ${i.pathname===f.href?"active":""}`,children:p.jsx("span",{children:f.label})},f.href))]}),p.jsxs("div",{className:"sidebar-user",children:[p.jsx("div",{className:"user-avatar",children:e.email?e.email.charAt(0).toUpperCase():"U"}),p.jsxs("div",{className:"user-info",children:[p.jsx("div",{className:"user-email",children:e.email}),r&&p.jsxs("div",{className:"work-center-badge",children:["WC: ",r]}),p.jsx("div",{className:"realtime-status",children:p.jsx("span",{className:"status-indicator offline",children:"OFFLINE"})})]})]}),p.jsxs("div",{className:"sidebar-actions",children:[p.jsx("h3",{className:"sidebar-section-title",children:"ACCOUNT"}),p.jsx("button",{onClick:c,className:"sidebar-action-btn signout-btn",children:p.jsx("span",{children:"Sign Out"})})]})]}):p.jsxs("nav",{className:"sidebar",children:[p.jsx("div",{className:"sidebar-logo",children:p.jsxs(xn,{to:"/login",children:[p.jsx("span",{className:"logo-flex",children:"flex"}),p.jsx("span",{className:"logo-i",children:"i"})]})}),p.jsxs("div",{className:"sidebar-links",children:[p.jsx("h3",{className:"sidebar-section-title",children:"NAVIGATION"}),p.jsx(xn,{to:"/login",className:"sidebar-link",children:p.jsx("span",{children:"Login"})}),p.jsx(xn,{to:"/signup",className:"sidebar-link",children:p.jsx("span",{children:"Sign Up"})})]})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Sr(e,n){return typeof e=="function"?e(n):e}function Rn(e,n){return r=>{n.setState(i=>({...i,[e]:Sr(r,i[e])}))}}function $u(e){return e instanceof Function}function wT(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function ST(e,n){const r=[],i=l=>{l.forEach(o=>{r.push(o);const c=n(o);c!=null&&c.length&&i(c)})};return i(e),r}function xe(e,n,r){let i=[],l;return o=>{let c;r.key&&r.debug&&(c=Date.now());const f=e(o);if(!(f.length!==i.length||f.some((v,y)=>i[y]!==v)))return l;i=f;let m;if(r.key&&r.debug&&(m=Date.now()),l=n(...f),r==null||r.onChange==null||r.onChange(l),r.key&&r.debug&&r!=null&&r.debug()){const v=Math.round((Date.now()-c)*100)/100,y=Math.round((Date.now()-m)*100)/100,_=y/16,w=(S,R)=>{for(S=String(S);S.length<R;)S=" "+S;return S};console.info(`%c ${w(y,5)} /${w(v,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*_,120))}deg 100% 31%);`,r?.key)}return l}}function Re(e,n,r,i){return{debug:()=>{var l;return(l=e?.debugAll)!=null?l:e[n]},key:!1,onChange:i}}function ET(e,n,r,i){const l=()=>{var c;return(c=o.getValue())!=null?c:e.options.renderFallbackValue},o={id:`${n.id}_${r.id}`,row:n,column:r,getValue:()=>n.getValue(i),renderValue:l,getContext:xe(()=>[e,r,n,o],(c,f,h,m)=>({table:c,column:f,row:h,cell:m,getValue:m.getValue,renderValue:m.renderValue}),Re(e.options,"debugCells"))};return e._features.forEach(c=>{c.createCell==null||c.createCell(o,r,n,e)},{}),o}function xT(e,n,r,i){var l,o;const f={...e._getDefaultColumnDef(),...n},h=f.accessorKey;let m=(l=(o=f.id)!=null?o:h?typeof String.prototype.replaceAll=="function"?h.replaceAll(".","_"):h.replace(/\./g,"_"):void 0)!=null?l:typeof f.header=="string"?f.header:void 0,v;if(f.accessorFn?v=f.accessorFn:h&&(h.includes(".")?v=_=>{let w=_;for(const R of h.split(".")){var S;w=(S=w)==null?void 0:S[R]}return w}:v=_=>_[f.accessorKey]),!m)throw new Error;let y={id:`${String(m)}`,accessorFn:v,parent:i,depth:r,columnDef:f,columns:[],getFlatColumns:xe(()=>[!0],()=>{var _;return[y,...(_=y.columns)==null?void 0:_.flatMap(w=>w.getFlatColumns())]},Re(e.options,"debugColumns")),getLeafColumns:xe(()=>[e._getOrderColumnsFn()],_=>{var w;if((w=y.columns)!=null&&w.length){let S=y.columns.flatMap(R=>R.getLeafColumns());return _(S)}return[y]},Re(e.options,"debugColumns"))};for(const _ of e._features)_.createColumn==null||_.createColumn(y,e);return y}const Wt="debugHeaders";function Ey(e,n,r){var i;let o={id:(i=r.id)!=null?i:n.id,column:n,index:r.index,isPlaceholder:!!r.isPlaceholder,placeholderId:r.placeholderId,depth:r.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const c=[],f=h=>{h.subHeaders&&h.subHeaders.length&&h.subHeaders.map(f),c.push(h)};return f(o),c},getContext:()=>({table:e,header:o,column:n})};return e._features.forEach(c=>{c.createHeader==null||c.createHeader(o,e)}),o}const RT={createTable:e=>{e.getHeaderGroups=xe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i,l)=>{var o,c;const f=(o=i?.map(y=>r.find(_=>_.id===y)).filter(Boolean))!=null?o:[],h=(c=l?.map(y=>r.find(_=>_.id===y)).filter(Boolean))!=null?c:[],m=r.filter(y=>!(i!=null&&i.includes(y.id))&&!(l!=null&&l.includes(y.id)));return mu(n,[...f,...m,...h],e)},Re(e.options,Wt)),e.getCenterHeaderGroups=xe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i,l)=>(r=r.filter(o=>!(i!=null&&i.includes(o.id))&&!(l!=null&&l.includes(o.id))),mu(n,r,e,"center")),Re(e.options,Wt)),e.getLeftHeaderGroups=xe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,r,i)=>{var l;const o=(l=i?.map(c=>r.find(f=>f.id===c)).filter(Boolean))!=null?l:[];return mu(n,o,e,"left")},Re(e.options,Wt)),e.getRightHeaderGroups=xe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,r,i)=>{var l;const o=(l=i?.map(c=>r.find(f=>f.id===c)).filter(Boolean))!=null?l:[];return mu(n,o,e,"right")},Re(e.options,Wt)),e.getFooterGroups=xe(()=>[e.getHeaderGroups()],n=>[...n].reverse(),Re(e.options,Wt)),e.getLeftFooterGroups=xe(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),Re(e.options,Wt)),e.getCenterFooterGroups=xe(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),Re(e.options,Wt)),e.getRightFooterGroups=xe(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),Re(e.options,Wt)),e.getFlatHeaders=xe(()=>[e.getHeaderGroups()],n=>n.map(r=>r.headers).flat(),Re(e.options,Wt)),e.getLeftFlatHeaders=xe(()=>[e.getLeftHeaderGroups()],n=>n.map(r=>r.headers).flat(),Re(e.options,Wt)),e.getCenterFlatHeaders=xe(()=>[e.getCenterHeaderGroups()],n=>n.map(r=>r.headers).flat(),Re(e.options,Wt)),e.getRightFlatHeaders=xe(()=>[e.getRightHeaderGroups()],n=>n.map(r=>r.headers).flat(),Re(e.options,Wt)),e.getCenterLeafHeaders=xe(()=>[e.getCenterFlatHeaders()],n=>n.filter(r=>{var i;return!((i=r.subHeaders)!=null&&i.length)}),Re(e.options,Wt)),e.getLeftLeafHeaders=xe(()=>[e.getLeftFlatHeaders()],n=>n.filter(r=>{var i;return!((i=r.subHeaders)!=null&&i.length)}),Re(e.options,Wt)),e.getRightLeafHeaders=xe(()=>[e.getRightFlatHeaders()],n=>n.filter(r=>{var i;return!((i=r.subHeaders)!=null&&i.length)}),Re(e.options,Wt)),e.getLeafHeaders=xe(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,r,i)=>{var l,o,c,f,h,m;return[...(l=(o=n[0])==null?void 0:o.headers)!=null?l:[],...(c=(f=r[0])==null?void 0:f.headers)!=null?c:[],...(h=(m=i[0])==null?void 0:m.headers)!=null?h:[]].map(v=>v.getLeafHeaders()).flat()},Re(e.options,Wt))}};function mu(e,n,r,i){var l,o;let c=0;const f=function(_,w){w===void 0&&(w=1),c=Math.max(c,w),_.filter(S=>S.getIsVisible()).forEach(S=>{var R;(R=S.columns)!=null&&R.length&&f(S.columns,w+1)},0)};f(e);let h=[];const m=(_,w)=>{const S={depth:w,id:[i,`${w}`].filter(Boolean).join("_"),headers:[]},R=[];_.forEach(C=>{const T=[...R].reverse()[0],D=C.column.depth===S.depth;let A,$=!1;if(D&&C.column.parent?A=C.column.parent:(A=C.column,$=!0),T&&T?.column===A)T.subHeaders.push(C);else{const U=Ey(r,A,{id:[i,w,A.id,C?.id].filter(Boolean).join("_"),isPlaceholder:$,placeholderId:$?`${R.filter(Z=>Z.column===A).length}`:void 0,depth:w,index:R.length});U.subHeaders.push(C),R.push(U)}S.headers.push(C),C.headerGroup=S}),h.push(S),w>0&&m(R,w-1)},v=n.map((_,w)=>Ey(r,_,{depth:c,index:w}));m(v,c-1),h.reverse();const y=_=>_.filter(S=>S.column.getIsVisible()).map(S=>{let R=0,C=0,T=[0];S.subHeaders&&S.subHeaders.length?(T=[],y(S.subHeaders).forEach(A=>{let{colSpan:$,rowSpan:U}=A;R+=$,T.push(U)})):R=1;const D=Math.min(...T);return C=C+D,S.colSpan=R,S.rowSpan=C,{colSpan:R,rowSpan:C}});return y((l=(o=h[0])==null?void 0:o.headers)!=null?l:[]),h}const CT=(e,n,r,i,l,o,c)=>{let f={id:n,index:i,original:r,depth:l,parentId:c,_valuesCache:{},_uniqueValuesCache:{},getValue:h=>{if(f._valuesCache.hasOwnProperty(h))return f._valuesCache[h];const m=e.getColumn(h);if(m!=null&&m.accessorFn)return f._valuesCache[h]=m.accessorFn(f.original,i),f._valuesCache[h]},getUniqueValues:h=>{if(f._uniqueValuesCache.hasOwnProperty(h))return f._uniqueValuesCache[h];const m=e.getColumn(h);if(m!=null&&m.accessorFn)return m.columnDef.getUniqueValues?(f._uniqueValuesCache[h]=m.columnDef.getUniqueValues(f.original,i),f._uniqueValuesCache[h]):(f._uniqueValuesCache[h]=[f.getValue(h)],f._uniqueValuesCache[h])},renderValue:h=>{var m;return(m=f.getValue(h))!=null?m:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>ST(f.subRows,h=>h.subRows),getParentRow:()=>f.parentId?e.getRow(f.parentId,!0):void 0,getParentRows:()=>{let h=[],m=f;for(;;){const v=m.getParentRow();if(!v)break;h.push(v),m=v}return h.reverse()},getAllCells:xe(()=>[e.getAllLeafColumns()],h=>h.map(m=>ET(e,f,m,m.id)),Re(e.options,"debugRows")),_getAllCellsByColumnId:xe(()=>[f.getAllCells()],h=>h.reduce((m,v)=>(m[v.column.id]=v,m),{}),Re(e.options,"debugRows"))};for(let h=0;h<e._features.length;h++){const m=e._features[h];m==null||m.createRow==null||m.createRow(f,e)}return f},TT={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},$_=(e,n,r)=>{var i,l;const o=r==null||(i=r.toString())==null?void 0:i.toLowerCase();return!!(!((l=e.getValue(n))==null||(l=l.toString())==null||(l=l.toLowerCase())==null)&&l.includes(o))};$_.autoRemove=e=>Kn(e);const B_=(e,n,r)=>{var i;return!!(!((i=e.getValue(n))==null||(i=i.toString())==null)&&i.includes(r))};B_.autoRemove=e=>Kn(e);const V_=(e,n,r)=>{var i;return((i=e.getValue(n))==null||(i=i.toString())==null?void 0:i.toLowerCase())===r?.toLowerCase()};V_.autoRemove=e=>Kn(e);const q_=(e,n,r)=>{var i;return(i=e.getValue(n))==null?void 0:i.includes(r)};q_.autoRemove=e=>Kn(e);const G_=(e,n,r)=>!r.some(i=>{var l;return!((l=e.getValue(n))!=null&&l.includes(i))});G_.autoRemove=e=>Kn(e)||!(e!=null&&e.length);const Y_=(e,n,r)=>r.some(i=>{var l;return(l=e.getValue(n))==null?void 0:l.includes(i)});Y_.autoRemove=e=>Kn(e)||!(e!=null&&e.length);const K_=(e,n,r)=>e.getValue(n)===r;K_.autoRemove=e=>Kn(e);const X_=(e,n,r)=>e.getValue(n)==r;X_.autoRemove=e=>Kn(e);const _h=(e,n,r)=>{let[i,l]=r;const o=e.getValue(n);return o>=i&&o<=l};_h.resolveFilterValue=e=>{let[n,r]=e,i=typeof n!="number"?parseFloat(n):n,l=typeof r!="number"?parseFloat(r):r,o=n===null||Number.isNaN(i)?-1/0:i,c=r===null||Number.isNaN(l)?1/0:l;if(o>c){const f=o;o=c,c=f}return[o,c]};_h.autoRemove=e=>Kn(e)||Kn(e[0])&&Kn(e[1]);const Pa={includesString:$_,includesStringSensitive:B_,equalsString:V_,arrIncludes:q_,arrIncludesAll:G_,arrIncludesSome:Y_,equals:K_,weakEquals:X_,inNumberRange:_h};function Kn(e){return e==null||e===""}const AT={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Rn("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const r=n.getCoreRowModel().flatRows[0],i=r?.getValue(e.id);return typeof i=="string"?Pa.includesString:typeof i=="number"?Pa.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?Pa.equals:Array.isArray(i)?Pa.arrIncludes:Pa.weakEquals},e.getFilterFn=()=>{var r,i;return $u(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(r=(i=n.options.filterFns)==null?void 0:i[e.columnDef.filterFn])!=null?r:Pa[e.columnDef.filterFn]},e.getCanFilter=()=>{var r,i,l;return((r=e.columnDef.enableColumnFilter)!=null?r:!0)&&((i=n.options.enableColumnFilters)!=null?i:!0)&&((l=n.options.enableFilters)!=null?l:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var r;return(r=n.getState().columnFilters)==null||(r=r.find(i=>i.id===e.id))==null?void 0:r.value},e.getFilterIndex=()=>{var r,i;return(r=(i=n.getState().columnFilters)==null?void 0:i.findIndex(l=>l.id===e.id))!=null?r:-1},e.setFilterValue=r=>{n.setColumnFilters(i=>{const l=e.getFilterFn(),o=i?.find(v=>v.id===e.id),c=Sr(r,o?o.value:void 0);if(xy(l,c,e)){var f;return(f=i?.filter(v=>v.id!==e.id))!=null?f:[]}const h={id:e.id,value:c};if(o){var m;return(m=i?.map(v=>v.id===e.id?h:v))!=null?m:[]}return i!=null&&i.length?[...i,h]:[h]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const r=e.getAllLeafColumns(),i=l=>{var o;return(o=Sr(n,l))==null?void 0:o.filter(c=>{const f=r.find(h=>h.id===c.id);if(f){const h=f.getFilterFn();if(xy(h,c.value,f))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(i)},e.resetColumnFilters=n=>{var r,i;e.setColumnFilters(n?[]:(r=(i=e.initialState)==null?void 0:i.columnFilters)!=null?r:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function xy(e,n,r){return(e&&e.autoRemove?e.autoRemove(n,r):!1)||typeof n>"u"||typeof n=="string"&&!n}const OT=(e,n,r)=>r.reduce((i,l)=>{const o=l.getValue(e);return i+(typeof o=="number"?o:0)},0),DT=(e,n,r)=>{let i;return r.forEach(l=>{const o=l.getValue(e);o!=null&&(i>o||i===void 0&&o>=o)&&(i=o)}),i},NT=(e,n,r)=>{let i;return r.forEach(l=>{const o=l.getValue(e);o!=null&&(i<o||i===void 0&&o>=o)&&(i=o)}),i},jT=(e,n,r)=>{let i,l;return r.forEach(o=>{const c=o.getValue(e);c!=null&&(i===void 0?c>=c&&(i=l=c):(i>c&&(i=c),l<c&&(l=c)))}),[i,l]},MT=(e,n)=>{let r=0,i=0;if(n.forEach(l=>{let o=l.getValue(e);o!=null&&(o=+o)>=o&&(++r,i+=o)}),r)return i/r},kT=(e,n)=>{if(!n.length)return;const r=n.map(o=>o.getValue(e));if(!wT(r))return;if(r.length===1)return r[0];const i=Math.floor(r.length/2),l=r.sort((o,c)=>o-c);return r.length%2!==0?l[i]:(l[i-1]+l[i])/2},UT=(e,n)=>Array.from(new Set(n.map(r=>r.getValue(e))).values()),LT=(e,n)=>new Set(n.map(r=>r.getValue(e))).size,PT=(e,n)=>n.length,wf={sum:OT,min:DT,max:NT,extent:jT,mean:MT,median:kT,unique:UT,uniqueCount:LT,count:PT},HT={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,r;return(n=(r=e.getValue())==null||r.toString==null?void 0:r.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Rn("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(r=>r!=null&&r.includes(e.id)?r.filter(i=>i!==e.id):[...r??[],e.id])},e.getCanGroup=()=>{var r,i;return((r=e.columnDef.enableGrouping)!=null?r:!0)&&((i=n.options.enableGrouping)!=null?i:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var r;return(r=n.getState().grouping)==null?void 0:r.includes(e.id)},e.getGroupedIndex=()=>{var r;return(r=n.getState().grouping)==null?void 0:r.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const r=e.getCanGroup();return()=>{r&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const r=n.getCoreRowModel().flatRows[0],i=r?.getValue(e.id);if(typeof i=="number")return wf.sum;if(Object.prototype.toString.call(i)==="[object Date]")return wf.extent},e.getAggregationFn=()=>{var r,i;if(!e)throw new Error;return $u(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(r=(i=n.options.aggregationFns)==null?void 0:i[e.columnDef.aggregationFn])!=null?r:wf[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var r,i;e.setGrouping(n?[]:(r=(i=e.initialState)==null?void 0:i.grouping)!=null?r:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=r=>{if(e._groupingValuesCache.hasOwnProperty(r))return e._groupingValuesCache[r];const i=n.getColumn(r);return i!=null&&i.columnDef.getGroupingValue?(e._groupingValuesCache[r]=i.columnDef.getGroupingValue(e.original),e._groupingValuesCache[r]):e.getValue(r)},e._groupingValuesCache={}},createCell:(e,n,r,i)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===r.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var l;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((l=r.subRows)!=null&&l.length)}}};function FT(e,n,r){if(!(n!=null&&n.length)||!r)return e;const i=e.filter(o=>!n.includes(o.id));return r==="remove"?i:[...n.map(o=>e.find(c=>c.id===o)).filter(Boolean),...i]}const zT={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Rn("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=xe(r=>[xl(n,r)],r=>r.findIndex(i=>i.id===e.id),Re(n.options,"debugColumns")),e.getIsFirstColumn=r=>{var i;return((i=xl(n,r)[0])==null?void 0:i.id)===e.id},e.getIsLastColumn=r=>{var i;const l=xl(n,r);return((i=l[l.length-1])==null?void 0:i.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var r;e.setColumnOrder(n?[]:(r=e.initialState.columnOrder)!=null?r:[])},e._getOrderColumnsFn=xe(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,r,i)=>l=>{let o=[];if(!(n!=null&&n.length))o=l;else{const c=[...n],f=[...l];for(;f.length&&c.length;){const h=c.shift(),m=f.findIndex(v=>v.id===h);m>-1&&o.push(f.splice(m,1)[0])}o=[...o,...f]}return FT(o,r,i)},Re(e.options,"debugTable"))}},Sf=()=>({left:[],right:[]}),IT={getInitialState:e=>({columnPinning:Sf(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Rn("columnPinning",e)}),createColumn:(e,n)=>{e.pin=r=>{const i=e.getLeafColumns().map(l=>l.id).filter(Boolean);n.setColumnPinning(l=>{var o,c;if(r==="right"){var f,h;return{left:((f=l?.left)!=null?f:[]).filter(y=>!(i!=null&&i.includes(y))),right:[...((h=l?.right)!=null?h:[]).filter(y=>!(i!=null&&i.includes(y))),...i]}}if(r==="left"){var m,v;return{left:[...((m=l?.left)!=null?m:[]).filter(y=>!(i!=null&&i.includes(y))),...i],right:((v=l?.right)!=null?v:[]).filter(y=>!(i!=null&&i.includes(y)))}}return{left:((o=l?.left)!=null?o:[]).filter(y=>!(i!=null&&i.includes(y))),right:((c=l?.right)!=null?c:[]).filter(y=>!(i!=null&&i.includes(y)))}})},e.getCanPin=()=>e.getLeafColumns().some(i=>{var l,o,c;return((l=i.columnDef.enablePinning)!=null?l:!0)&&((o=(c=n.options.enableColumnPinning)!=null?c:n.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const r=e.getLeafColumns().map(f=>f.id),{left:i,right:l}=n.getState().columnPinning,o=r.some(f=>i?.includes(f)),c=r.some(f=>l?.includes(f));return o?"left":c?"right":!1},e.getPinnedIndex=()=>{var r,i;const l=e.getIsPinned();return l?(r=(i=n.getState().columnPinning)==null||(i=i[l])==null?void 0:i.indexOf(e.id))!=null?r:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=xe(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(r,i,l)=>{const o=[...i??[],...l??[]];return r.filter(c=>!o.includes(c.column.id))},Re(n.options,"debugRows")),e.getLeftVisibleCells=xe(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(r,i)=>(i??[]).map(o=>r.find(c=>c.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),Re(n.options,"debugRows")),e.getRightVisibleCells=xe(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(r,i)=>(i??[]).map(o=>r.find(c=>c.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),Re(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var r,i;return e.setColumnPinning(n?Sf():(r=(i=e.initialState)==null?void 0:i.columnPinning)!=null?r:Sf())},e.getIsSomeColumnsPinned=n=>{var r;const i=e.getState().columnPinning;if(!n){var l,o;return!!((l=i.left)!=null&&l.length||(o=i.right)!=null&&o.length)}return!!((r=i[n])!=null&&r.length)},e.getLeftLeafColumns=xe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(l=>l.id===i)).filter(Boolean),Re(e.options,"debugColumns")),e.getRightLeafColumns=xe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(l=>l.id===i)).filter(Boolean),Re(e.options,"debugColumns")),e.getCenterLeafColumns=xe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i)=>{const l=[...r??[],...i??[]];return n.filter(o=>!l.includes(o.id))},Re(e.options,"debugColumns"))}};function $T(e){return e||(typeof document<"u"?document:null)}const pu={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Ef=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),BT={getDefaultColumnDef:()=>pu,getInitialState:e=>({columnSizing:{},columnSizingInfo:Ef(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Rn("columnSizing",e),onColumnSizingInfoChange:Rn("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var r,i,l;const o=n.getState().columnSizing[e.id];return Math.min(Math.max((r=e.columnDef.minSize)!=null?r:pu.minSize,(i=o??e.columnDef.size)!=null?i:pu.size),(l=e.columnDef.maxSize)!=null?l:pu.maxSize)},e.getStart=xe(r=>[r,xl(n,r),n.getState().columnSizing],(r,i)=>i.slice(0,e.getIndex(r)).reduce((l,o)=>l+o.getSize(),0),Re(n.options,"debugColumns")),e.getAfter=xe(r=>[r,xl(n,r),n.getState().columnSizing],(r,i)=>i.slice(e.getIndex(r)+1).reduce((l,o)=>l+o.getSize(),0),Re(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(r=>{let{[e.id]:i,...l}=r;return l})},e.getCanResize=()=>{var r,i;return((r=e.columnDef.enableResizing)!=null?r:!0)&&((i=n.options.enableColumnResizing)!=null?i:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let r=0;const i=l=>{if(l.subHeaders.length)l.subHeaders.forEach(i);else{var o;r+=(o=l.column.getSize())!=null?o:0}};return i(e),r},e.getStart=()=>{if(e.index>0){const r=e.headerGroup.headers[e.index-1];return r.getStart()+r.getSize()}return 0},e.getResizeHandler=r=>{const i=n.getColumn(e.column.id),l=i?.getCanResize();return o=>{if(!i||!l||(o.persist==null||o.persist(),xf(o)&&o.touches&&o.touches.length>1))return;const c=e.getSize(),f=e?e.getLeafHeaders().map(T=>[T.column.id,T.column.getSize()]):[[i.id,i.getSize()]],h=xf(o)?Math.round(o.touches[0].clientX):o.clientX,m={},v=(T,D)=>{typeof D=="number"&&(n.setColumnSizingInfo(A=>{var $,U;const Z=n.options.columnResizeDirection==="rtl"?-1:1,J=(D-(($=A?.startOffset)!=null?$:0))*Z,X=Math.max(J/((U=A?.startSize)!=null?U:0),-.999999);return A.columnSizingStart.forEach(ne=>{let[ee,te]=ne;m[ee]=Math.round(Math.max(te+te*X,0)*100)/100}),{...A,deltaOffset:J,deltaPercentage:X}}),(n.options.columnResizeMode==="onChange"||T==="end")&&n.setColumnSizing(A=>({...A,...m})))},y=T=>v("move",T),_=T=>{v("end",T),n.setColumnSizingInfo(D=>({...D,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},w=$T(r),S={moveHandler:T=>y(T.clientX),upHandler:T=>{w?.removeEventListener("mousemove",S.moveHandler),w?.removeEventListener("mouseup",S.upHandler),_(T.clientX)}},R={moveHandler:T=>(T.cancelable&&(T.preventDefault(),T.stopPropagation()),y(T.touches[0].clientX),!1),upHandler:T=>{var D;w?.removeEventListener("touchmove",R.moveHandler),w?.removeEventListener("touchend",R.upHandler),T.cancelable&&(T.preventDefault(),T.stopPropagation()),_((D=T.touches[0])==null?void 0:D.clientX)}},C=VT()?{passive:!1}:!1;xf(o)?(w?.addEventListener("touchmove",R.moveHandler,C),w?.addEventListener("touchend",R.upHandler,C)):(w?.addEventListener("mousemove",S.moveHandler,C),w?.addEventListener("mouseup",S.upHandler,C)),n.setColumnSizingInfo(T=>({...T,startOffset:h,startSize:c,deltaOffset:0,deltaPercentage:0,columnSizingStart:f,isResizingColumn:i.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var r;e.setColumnSizing(n?{}:(r=e.initialState.columnSizing)!=null?r:{})},e.resetHeaderSizeInfo=n=>{var r;e.setColumnSizingInfo(n?Ef():(r=e.initialState.columnSizingInfo)!=null?r:Ef())},e.getTotalSize=()=>{var n,r;return(n=(r=e.getHeaderGroups()[0])==null?void 0:r.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,r;return(n=(r=e.getLeftHeaderGroups()[0])==null?void 0:r.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,r;return(n=(r=e.getCenterHeaderGroups()[0])==null?void 0:r.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,r;return(n=(r=e.getRightHeaderGroups()[0])==null?void 0:r.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0}}};let vu=null;function VT(){if(typeof vu=="boolean")return vu;let e=!1;try{const n={get passive(){return e=!0,!1}},r=()=>{};window.addEventListener("test",r,n),window.removeEventListener("test",r)}catch{e=!1}return vu=e,vu}function xf(e){return e.type==="touchstart"}const qT={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Rn("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=r=>{e.getCanHide()&&n.setColumnVisibility(i=>({...i,[e.id]:r??!e.getIsVisible()}))},e.getIsVisible=()=>{var r,i;const l=e.columns;return(r=l.length?l.some(o=>o.getIsVisible()):(i=n.getState().columnVisibility)==null?void 0:i[e.id])!=null?r:!0},e.getCanHide=()=>{var r,i;return((r=e.columnDef.enableHiding)!=null?r:!0)&&((i=n.options.enableHiding)!=null?i:!0)},e.getToggleVisibilityHandler=()=>r=>{e.toggleVisibility==null||e.toggleVisibility(r.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=xe(()=>[e.getAllCells(),n.getState().columnVisibility],r=>r.filter(i=>i.column.getIsVisible()),Re(n.options,"debugRows")),e.getVisibleCells=xe(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(r,i,l)=>[...r,...i,...l],Re(n.options,"debugRows"))},createTable:e=>{const n=(r,i)=>xe(()=>[i(),i().filter(l=>l.getIsVisible()).map(l=>l.id).join("_")],l=>l.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),Re(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=r=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(r),e.resetColumnVisibility=r=>{var i;e.setColumnVisibility(r?{}:(i=e.initialState.columnVisibility)!=null?i:{})},e.toggleAllColumnsVisible=r=>{var i;r=(i=r)!=null?i:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((l,o)=>({...l,[o.id]:r||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(r=>!(r.getIsVisible!=null&&r.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(r=>r.getIsVisible==null?void 0:r.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>r=>{var i;e.toggleAllColumnsVisible((i=r.target)==null?void 0:i.checked)}}};function xl(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const GT={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},YT={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Rn("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var r;const i=(r=e.getCoreRowModel().flatRows[0])==null||(r=r._getAllCellsByColumnId()[n.id])==null?void 0:r.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var r,i,l,o;return((r=e.columnDef.enableGlobalFilter)!=null?r:!0)&&((i=n.options.enableGlobalFilter)!=null?i:!0)&&((l=n.options.enableFilters)!=null?l:!0)&&((o=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Pa.includesString,e.getGlobalFilterFn=()=>{var n,r;const{globalFilterFn:i}=e.options;return $u(i)?i:i==="auto"?e.getGlobalAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[i])!=null?n:Pa[i]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},KT={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Rn("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,r=!1;e._autoResetExpanded=()=>{var i,l;if(!n){e._queue(()=>{n=!0});return}if((i=(l=e.options.autoResetAll)!=null?l:e.options.autoResetExpanded)!=null?i:!e.options.manualExpanding){if(r)return;r=!0,e._queue(()=>{e.resetExpanded(),r=!1})}},e.setExpanded=i=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(i),e.toggleAllRowsExpanded=i=>{i??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=i=>{var l,o;e.setExpanded(i?{}:(l=(o=e.initialState)==null?void 0:o.expanded)!=null?l:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const i=e.getState().expanded;return i===!0||Object.values(i).some(Boolean)},e.getIsAllRowsExpanded=()=>{const i=e.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||e.getRowModel().flatRows.some(l=>!l.getIsExpanded()))},e.getExpandedDepth=()=>{let i=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const c=o.split(".");i=Math.max(i,c.length)}),i},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=r=>{n.setExpanded(i=>{var l;const o=i===!0?!0:!!(i!=null&&i[e.id]);let c={};if(i===!0?Object.keys(n.getRowModel().rowsById).forEach(f=>{c[f]=!0}):c=i,r=(l=r)!=null?l:!o,!o&&r)return{...c,[e.id]:!0};if(o&&!r){const{[e.id]:f,...h}=c;return h}return i})},e.getIsExpanded=()=>{var r;const i=n.getState().expanded;return!!((r=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?r:i===!0||i?.[e.id])},e.getCanExpand=()=>{var r,i,l;return(r=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?r:((i=n.options.enableExpanding)!=null?i:!0)&&!!((l=e.subRows)!=null&&l.length)},e.getIsAllParentsExpanded=()=>{let r=!0,i=e;for(;r&&i.parentId;)i=n.getRow(i.parentId,!0),r=i.getIsExpanded();return r},e.getToggleExpandedHandler=()=>{const r=e.getCanExpand();return()=>{r&&e.toggleExpanded()}}}},Kf=0,Xf=10,Rf=()=>({pageIndex:Kf,pageSize:Xf}),XT={getInitialState:e=>({...e,pagination:{...Rf(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:Rn("pagination",e)}),createTable:e=>{let n=!1,r=!1;e._autoResetPageIndex=()=>{var i,l;if(!n){e._queue(()=>{n=!0});return}if((i=(l=e.options.autoResetAll)!=null?l:e.options.autoResetPageIndex)!=null?i:!e.options.manualPagination){if(r)return;r=!0,e._queue(()=>{e.resetPageIndex(),r=!1})}},e.setPagination=i=>{const l=o=>Sr(i,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(l)},e.resetPagination=i=>{var l;e.setPagination(i?Rf():(l=e.initialState.pagination)!=null?l:Rf())},e.setPageIndex=i=>{e.setPagination(l=>{let o=Sr(i,l.pageIndex);const c=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,c)),{...l,pageIndex:o}})},e.resetPageIndex=i=>{var l,o;e.setPageIndex(i?Kf:(l=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?l:Kf)},e.resetPageSize=i=>{var l,o;e.setPageSize(i?Xf:(l=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?l:Xf)},e.setPageSize=i=>{e.setPagination(l=>{const o=Math.max(1,Sr(i,l.pageSize)),c=l.pageSize*l.pageIndex,f=Math.floor(c/o);return{...l,pageIndex:f,pageSize:o}})},e.setPageCount=i=>e.setPagination(l=>{var o;let c=Sr(i,(o=e.options.pageCount)!=null?o:-1);return typeof c=="number"&&(c=Math.max(-1,c)),{...l,pageCount:c}}),e.getPageOptions=xe(()=>[e.getPageCount()],i=>{let l=[];return i&&i>0&&(l=[...new Array(i)].fill(null).map((o,c)=>c)),l},Re(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:i}=e.getState().pagination,l=e.getPageCount();return l===-1?!0:l===0?!1:i<l-1},e.previousPage=()=>e.setPageIndex(i=>i-1),e.nextPage=()=>e.setPageIndex(i=>i+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var i;return(i=e.options.pageCount)!=null?i:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var i;return(i=e.options.rowCount)!=null?i:e.getPrePaginationRowModel().rows.length}}},Cf=()=>({top:[],bottom:[]}),WT={getInitialState:e=>({rowPinning:Cf(),...e}),getDefaultOptions:e=>({onRowPinningChange:Rn("rowPinning",e)}),createRow:(e,n)=>{e.pin=(r,i,l)=>{const o=i?e.getLeafRows().map(h=>{let{id:m}=h;return m}):[],c=l?e.getParentRows().map(h=>{let{id:m}=h;return m}):[],f=new Set([...c,e.id,...o]);n.setRowPinning(h=>{var m,v;if(r==="bottom"){var y,_;return{top:((y=h?.top)!=null?y:[]).filter(R=>!(f!=null&&f.has(R))),bottom:[...((_=h?.bottom)!=null?_:[]).filter(R=>!(f!=null&&f.has(R))),...Array.from(f)]}}if(r==="top"){var w,S;return{top:[...((w=h?.top)!=null?w:[]).filter(R=>!(f!=null&&f.has(R))),...Array.from(f)],bottom:((S=h?.bottom)!=null?S:[]).filter(R=>!(f!=null&&f.has(R)))}}return{top:((m=h?.top)!=null?m:[]).filter(R=>!(f!=null&&f.has(R))),bottom:((v=h?.bottom)!=null?v:[]).filter(R=>!(f!=null&&f.has(R)))}})},e.getCanPin=()=>{var r;const{enableRowPinning:i,enablePinning:l}=n.options;return typeof i=="function"?i(e):(r=i??l)!=null?r:!0},e.getIsPinned=()=>{const r=[e.id],{top:i,bottom:l}=n.getState().rowPinning,o=r.some(f=>i?.includes(f)),c=r.some(f=>l?.includes(f));return o?"top":c?"bottom":!1},e.getPinnedIndex=()=>{var r,i;const l=e.getIsPinned();if(!l)return-1;const o=(r=l==="top"?n.getTopRows():n.getBottomRows())==null?void 0:r.map(c=>{let{id:f}=c;return f});return(i=o?.indexOf(e.id))!=null?i:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var r,i;return e.setRowPinning(n?Cf():(r=(i=e.initialState)==null?void 0:i.rowPinning)!=null?r:Cf())},e.getIsSomeRowsPinned=n=>{var r;const i=e.getState().rowPinning;if(!n){var l,o;return!!((l=i.top)!=null&&l.length||(o=i.bottom)!=null&&o.length)}return!!((r=i[n])!=null&&r.length)},e._getPinnedRows=(n,r,i)=>{var l;return((l=e.options.keepPinnedRows)==null||l?(r??[]).map(c=>{const f=e.getRow(c,!0);return f.getIsAllParentsExpanded()?f:null}):(r??[]).map(c=>n.find(f=>f.id===c))).filter(Boolean).map(c=>({...c,position:i}))},e.getTopRows=xe(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,r)=>e._getPinnedRows(n,r,"top"),Re(e.options,"debugRows")),e.getBottomRows=xe(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,r)=>e._getPinnedRows(n,r,"bottom"),Re(e.options,"debugRows")),e.getCenterRows=xe(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,r,i)=>{const l=new Set([...r??[],...i??[]]);return n.filter(o=>!l.has(o.id))},Re(e.options,"debugRows"))}},QT={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Rn("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var r;return e.setRowSelection(n?{}:(r=e.initialState.rowSelection)!=null?r:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(r=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const i={...r},l=e.getPreGroupedRowModel().flatRows;return n?l.forEach(o=>{o.getCanSelect()&&(i[o.id]=!0)}):l.forEach(o=>{delete i[o.id]}),i})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(r=>{const i=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),l={...r};return e.getRowModel().rows.forEach(o=>{Wf(l,o.id,i,!0,e)}),l}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=xe(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,r)=>Object.keys(n).length?Tf(e,r):{rows:[],flatRows:[],rowsById:{}},Re(e.options,"debugTable")),e.getFilteredSelectedRowModel=xe(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,r)=>Object.keys(n).length?Tf(e,r):{rows:[],flatRows:[],rowsById:{}},Re(e.options,"debugTable")),e.getGroupedSelectedRowModel=xe(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,r)=>Object.keys(n).length?Tf(e,r):{rows:[],flatRows:[],rowsById:{}},Re(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:r}=e.getState();let i=!!(n.length&&Object.keys(r).length);return i&&n.some(l=>l.getCanSelect()&&!r[l.id])&&(i=!1),i},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(l=>l.getCanSelect()),{rowSelection:r}=e.getState();let i=!!n.length;return i&&n.some(l=>!r[l.id])&&(i=!1),i},e.getIsSomeRowsSelected=()=>{var n;const r=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return r>0&&r<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(r=>r.getCanSelect()).some(r=>r.getIsSelected()||r.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(r,i)=>{const l=e.getIsSelected();n.setRowSelection(o=>{var c;if(r=typeof r<"u"?r:!l,e.getCanSelect()&&l===r)return o;const f={...o};return Wf(f,e.id,r,(c=i?.selectChildren)!=null?c:!0,n),f})},e.getIsSelected=()=>{const{rowSelection:r}=n.getState();return bh(e,r)},e.getIsSomeSelected=()=>{const{rowSelection:r}=n.getState();return Qf(e,r)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:r}=n.getState();return Qf(e,r)==="all"},e.getCanSelect=()=>{var r;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(r=n.options.enableRowSelection)!=null?r:!0},e.getCanSelectSubRows=()=>{var r;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(r=n.options.enableSubRowSelection)!=null?r:!0},e.getCanMultiSelect=()=>{var r;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(r=n.options.enableMultiRowSelection)!=null?r:!0},e.getToggleSelectedHandler=()=>{const r=e.getCanSelect();return i=>{var l;r&&e.toggleSelected((l=i.target)==null?void 0:l.checked)}}}},Wf=(e,n,r,i,l)=>{var o;const c=l.getRow(n,!0);r?(c.getCanMultiSelect()||Object.keys(e).forEach(f=>delete e[f]),c.getCanSelect()&&(e[n]=!0)):delete e[n],i&&(o=c.subRows)!=null&&o.length&&c.getCanSelectSubRows()&&c.subRows.forEach(f=>Wf(e,f.id,r,i,l))};function Tf(e,n){const r=e.getState().rowSelection,i=[],l={},o=function(c,f){return c.map(h=>{var m;const v=bh(h,r);if(v&&(i.push(h),l[h.id]=h),(m=h.subRows)!=null&&m.length&&(h={...h,subRows:o(h.subRows)}),v)return h}).filter(Boolean)};return{rows:o(n.rows),flatRows:i,rowsById:l}}function bh(e,n){var r;return(r=n[e.id])!=null?r:!1}function Qf(e,n,r){var i;if(!((i=e.subRows)!=null&&i.length))return!1;let l=!0,o=!1;return e.subRows.forEach(c=>{if(!(o&&!l)&&(c.getCanSelect()&&(bh(c,n)?o=!0:l=!1),c.subRows&&c.subRows.length)){const f=Qf(c,n);f==="all"?o=!0:(f==="some"&&(o=!0),l=!1)}}),l?"all":o?"some":!1}const Zf=/([0-9]+)/gm,ZT=(e,n,r)=>W_(Er(e.getValue(r)).toLowerCase(),Er(n.getValue(r)).toLowerCase()),JT=(e,n,r)=>W_(Er(e.getValue(r)),Er(n.getValue(r))),eA=(e,n,r)=>wh(Er(e.getValue(r)).toLowerCase(),Er(n.getValue(r)).toLowerCase()),tA=(e,n,r)=>wh(Er(e.getValue(r)),Er(n.getValue(r))),nA=(e,n,r)=>{const i=e.getValue(r),l=n.getValue(r);return i>l?1:i<l?-1:0},aA=(e,n,r)=>wh(e.getValue(r),n.getValue(r));function wh(e,n){return e===n?0:e>n?1:-1}function Er(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function W_(e,n){const r=e.split(Zf).filter(Boolean),i=n.split(Zf).filter(Boolean);for(;r.length&&i.length;){const l=r.shift(),o=i.shift(),c=parseInt(l,10),f=parseInt(o,10),h=[c,f].sort();if(isNaN(h[0])){if(l>o)return 1;if(o>l)return-1;continue}if(isNaN(h[1]))return isNaN(c)?-1:1;if(c>f)return 1;if(f>c)return-1}return r.length-i.length}const ml={alphanumeric:ZT,alphanumericCaseSensitive:JT,text:eA,textCaseSensitive:tA,datetime:nA,basic:aA},rA={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Rn("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const r=n.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const l of r){const o=l?.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return ml.datetime;if(typeof o=="string"&&(i=!0,o.split(Zf).length>1))return ml.alphanumeric}return i?ml.text:ml.basic},e.getAutoSortDir=()=>{const r=n.getFilteredRowModel().flatRows[0];return typeof r?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var r,i;if(!e)throw new Error;return $u(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(r=(i=n.options.sortingFns)==null?void 0:i[e.columnDef.sortingFn])!=null?r:ml[e.columnDef.sortingFn]},e.toggleSorting=(r,i)=>{const l=e.getNextSortingOrder(),o=typeof r<"u"&&r!==null;n.setSorting(c=>{const f=c?.find(w=>w.id===e.id),h=c?.findIndex(w=>w.id===e.id);let m=[],v,y=o?r:l==="desc";if(c!=null&&c.length&&e.getCanMultiSort()&&i?f?v="toggle":v="add":c!=null&&c.length&&h!==c.length-1?v="replace":f?v="toggle":v="replace",v==="toggle"&&(o||l||(v="remove")),v==="add"){var _;m=[...c,{id:e.id,desc:y}],m.splice(0,m.length-((_=n.options.maxMultiSortColCount)!=null?_:Number.MAX_SAFE_INTEGER))}else v==="toggle"?m=c.map(w=>w.id===e.id?{...w,desc:y}:w):v==="remove"?m=c.filter(w=>w.id!==e.id):m=[{id:e.id,desc:y}];return m})},e.getFirstSortDir=()=>{var r,i;return((r=(i=e.columnDef.sortDescFirst)!=null?i:n.options.sortDescFirst)!=null?r:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=r=>{var i,l;const o=e.getFirstSortDir(),c=e.getIsSorted();return c?c!==o&&((i=n.options.enableSortingRemoval)==null||i)&&(!(r&&(l=n.options.enableMultiRemove)!=null)||l)?!1:c==="desc"?"asc":"desc":o},e.getCanSort=()=>{var r,i;return((r=e.columnDef.enableSorting)!=null?r:!0)&&((i=n.options.enableSorting)!=null?i:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var r,i;return(r=(i=e.columnDef.enableMultiSort)!=null?i:n.options.enableMultiSort)!=null?r:!!e.accessorFn},e.getIsSorted=()=>{var r;const i=(r=n.getState().sorting)==null?void 0:r.find(l=>l.id===e.id);return i?i.desc?"desc":"asc":!1},e.getSortIndex=()=>{var r,i;return(r=(i=n.getState().sorting)==null?void 0:i.findIndex(l=>l.id===e.id))!=null?r:-1},e.clearSorting=()=>{n.setSorting(r=>r!=null&&r.length?r.filter(i=>i.id!==e.id):[])},e.getToggleSortingHandler=()=>{const r=e.getCanSort();return i=>{r&&(i.persist==null||i.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(i):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var r,i;e.setSorting(n?[]:(r=(i=e.initialState)==null?void 0:i.sorting)!=null?r:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},iA=[RT,qT,zT,IT,TT,AT,GT,YT,rA,HT,KT,XT,WT,QT,BT];function sA(e){var n,r;const i=[...iA,...(n=e._features)!=null?n:[]];let l={_features:i};const o=l._features.reduce((_,w)=>Object.assign(_,w.getDefaultOptions==null?void 0:w.getDefaultOptions(l)),{}),c=_=>l.options.mergeOptions?l.options.mergeOptions(o,_):{...o,..._};let h={...{},...(r=e.initialState)!=null?r:{}};l._features.forEach(_=>{var w;h=(w=_.getInitialState==null?void 0:_.getInitialState(h))!=null?w:h});const m=[];let v=!1;const y={_features:i,options:{...o,...e},initialState:h,_queue:_=>{m.push(_),v||(v=!0,Promise.resolve().then(()=>{for(;m.length;)m.shift()();v=!1}).catch(w=>setTimeout(()=>{throw w})))},reset:()=>{l.setState(l.initialState)},setOptions:_=>{const w=Sr(_,l.options);l.options=c(w)},getState:()=>l.options.state,setState:_=>{l.options.onStateChange==null||l.options.onStateChange(_)},_getRowId:(_,w,S)=>{var R;return(R=l.options.getRowId==null?void 0:l.options.getRowId(_,w,S))!=null?R:`${S?[S.id,w].join("."):w}`},getCoreRowModel:()=>(l._getCoreRowModel||(l._getCoreRowModel=l.options.getCoreRowModel(l)),l._getCoreRowModel()),getRowModel:()=>l.getPaginationRowModel(),getRow:(_,w)=>{let S=(w?l.getPrePaginationRowModel():l.getRowModel()).rowsById[_];if(!S&&(S=l.getCoreRowModel().rowsById[_],!S))throw new Error;return S},_getDefaultColumnDef:xe(()=>[l.options.defaultColumn],_=>{var w;return _=(w=_)!=null?w:{},{header:S=>{const R=S.header.column.columnDef;return R.accessorKey?R.accessorKey:R.accessorFn?R.id:null},cell:S=>{var R,C;return(R=(C=S.renderValue())==null||C.toString==null?void 0:C.toString())!=null?R:null},...l._features.reduce((S,R)=>Object.assign(S,R.getDefaultColumnDef==null?void 0:R.getDefaultColumnDef()),{}),..._}},Re(e,"debugColumns")),_getColumnDefs:()=>l.options.columns,getAllColumns:xe(()=>[l._getColumnDefs()],_=>{const w=function(S,R,C){return C===void 0&&(C=0),S.map(T=>{const D=xT(l,T,C,R),A=T;return D.columns=A.columns?w(A.columns,D,C+1):[],D})};return w(_)},Re(e,"debugColumns")),getAllFlatColumns:xe(()=>[l.getAllColumns()],_=>_.flatMap(w=>w.getFlatColumns()),Re(e,"debugColumns")),_getAllFlatColumnsById:xe(()=>[l.getAllFlatColumns()],_=>_.reduce((w,S)=>(w[S.id]=S,w),{}),Re(e,"debugColumns")),getAllLeafColumns:xe(()=>[l.getAllColumns(),l._getOrderColumnsFn()],(_,w)=>{let S=_.flatMap(R=>R.getLeafColumns());return w(S)},Re(e,"debugColumns")),getColumn:_=>l._getAllFlatColumnsById()[_]};Object.assign(l,y);for(let _=0;_<l._features.length;_++){const w=l._features[_];w==null||w.createTable==null||w.createTable(l)}return l}function lA(){return e=>xe(()=>[e.options.data],n=>{const r={rows:[],flatRows:[],rowsById:{}},i=function(l,o,c){o===void 0&&(o=0);const f=[];for(let m=0;m<l.length;m++){const v=CT(e,e._getRowId(l[m],m,c),l[m],m,o,void 0,c?.id);if(r.flatRows.push(v),r.rowsById[v.id]=v,f.push(v),e.options.getSubRows){var h;v.originalSubRows=e.options.getSubRows(l[m],m),(h=v.originalSubRows)!=null&&h.length&&(v.subRows=i(v.originalSubRows,o+1,v))}}return f};return r.rows=i(n),r},Re(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function oA(){return e=>xe(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,r)=>{if(!r.rows.length||!(n!=null&&n.length))return r;const i=e.getState().sorting,l=[],o=i.filter(h=>{var m;return(m=e.getColumn(h.id))==null?void 0:m.getCanSort()}),c={};o.forEach(h=>{const m=e.getColumn(h.id);m&&(c[h.id]={sortUndefined:m.columnDef.sortUndefined,invertSorting:m.columnDef.invertSorting,sortingFn:m.getSortingFn()})});const f=h=>{const m=h.map(v=>({...v}));return m.sort((v,y)=>{for(let w=0;w<o.length;w+=1){var _;const S=o[w],R=c[S.id],C=R.sortUndefined,T=(_=S?.desc)!=null?_:!1;let D=0;if(C){const A=v.getValue(S.id),$=y.getValue(S.id),U=A===void 0,Z=$===void 0;if(U||Z){if(C==="first")return U?-1:1;if(C==="last")return U?1:-1;D=U&&Z?0:U?C:-C}}if(D===0&&(D=R.sortingFn(v,y,S.id)),D!==0)return T&&(D*=-1),R.invertSorting&&(D*=-1),D}return v.index-y.index}),m.forEach(v=>{var y;l.push(v),(y=v.subRows)!=null&&y.length&&(v.subRows=f(v.subRows))}),m};return{rows:f(r.rows),flatRows:l,rowsById:r.rowsById}},Re(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ry(e,n){return e?uA(e)?x.createElement(e,n):e:null}function uA(e){return cA(e)||typeof e=="function"||dA(e)}function cA(e){return typeof e=="function"&&(()=>{const n=Object.getPrototypeOf(e);return n.prototype&&n.prototype.isReactComponent})()}function dA(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function fA(e){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[r]=x.useState(()=>({current:sA(n)})),[i,l]=x.useState(()=>r.current.initialState);return r.current.setOptions(o=>({...o,...e,state:{...i,...e.state},onStateChange:c=>{l(c),e.onStateChange==null||e.onStateChange(c)}})),r.current}function Sh({data:e,columns:n,onSaveRow:r,onDeleteRow:i}){const[l,o]=x.useState(null),[c,f]=x.useState({}),h=x.useMemo(()=>{const y=w=>{const S={};Object.keys(c).forEach(D=>{c[D]!==void 0&&c[D]!==""&&(S[D]=c[D])});const R={...w.original};["machines","progress","n_boxes","time_remaining"].forEach(D=>{delete R[D]});const T={...R,...S};r(T),o(null),f({})},_={id:"actions",header:"Actions",cell:({row:w})=>{const S=w.id===l;return p.jsx("div",{className:"action-buttons",children:S?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>y(w),className:"nav-btn today",children:"Save"}),p.jsx("button",{onClick:()=>o(null),className:"nav-btn today",children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>o(w.id),className:"nav-btn today",children:"Edit"}),p.jsx("button",{onClick:()=>i(w.original),className:"nav-btn today",children:"Delete"})]})})}};return[...n,_]},[n,l,c,r,i]),m=x.useMemo(()=>{if(e&&e.length>0){const y=e.map(R=>R.id);y.filter((R,C)=>y.indexOf(R)!==C).length>0;const w=new Set,S=[];e.forEach((R,C)=>{w.has(R.id)?S.push({id:R.id,index:C,item:R}):w.add(R.id)})}return e},[e]),v=fA({data:m,columns:h,getCoreRowModel:lA(),getSortedRowModel:oA(),meta:{editingRowId:l,setEditedData:f}});return p.jsx("div",{className:"table-container",children:p.jsxs("table",{className:"modern-table",children:[p.jsx("thead",{children:v.getHeaderGroups().map(y=>p.jsx("tr",{children:y.headers.map((_,w)=>{const S=`${y.id}_${_.id}_${w}`;return p.jsxs("th",{onClick:_.column.getToggleSortingHandler(),children:[Ry(_.column.columnDef.header,_.getContext()),{asc:" ",desc:" "}[_.column.getIsSorted()]??null]},S)})},y.id))}),p.jsx("tbody",{children:v.getRowModel().rows.map(y=>{const _=y.original.id||y.id;return p.jsx("tr",{children:y.getVisibleCells().map((w,S)=>{const R=`${_}_${w.column.id}_${S}`;return p.jsx("td",{children:Ry(w.column.columnDef.cell,w.getContext())},R)})},_)})})]})})}var Bl=e=>e.type==="checkbox",Xr=e=>e instanceof Date,an=e=>e==null;const Q_=e=>typeof e=="object";var yt=e=>!an(e)&&!Array.isArray(e)&&Q_(e)&&!Xr(e),hA=e=>yt(e)&&e.target?Bl(e.target)?e.target.checked:e.target.value:e,gA=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,mA=(e,n)=>e.has(gA(n)),pA=e=>{const n=e.constructor&&e.constructor.prototype;return yt(n)&&n.hasOwnProperty("isPrototypeOf")},Eh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pt(e){let n;const r=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(Eh&&(e instanceof Blob||i))&&(r||yt(e)))if(n=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!pA(e))n=e;else for(const l in e)e.hasOwnProperty(l)&&(n[l]=Pt(e[l]));else return e;return n}var Bu=e=>/^\w*$/.test(e),Et=e=>e===void 0,xh=e=>Array.isArray(e)?e.filter(Boolean):[],Rh=e=>xh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),me=(e,n,r)=>{if(!n||!yt(e))return r;const i=(Bu(n)?[n]:Rh(n)).reduce((l,o)=>an(l)?l:l[o],e);return Et(i)||i===e?Et(e[n])?r:e[n]:i},da=e=>typeof e=="boolean",ot=(e,n,r)=>{let i=-1;const l=Bu(n)?[n]:Rh(n),o=l.length,c=o-1;for(;++i<o;){const f=l[i];let h=r;if(i!==c){const m=e[f];h=yt(m)||Array.isArray(m)?m:isNaN(+l[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=h,e=e[f]}};const Cy={BLUR:"blur",FOCUS_OUT:"focusout"},Gn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ka={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vA=Ne.createContext(null);vA.displayName="HookFormContext";var yA=(e,n,r,i=!0)=>{const l={defaultValues:n._defaultValues};for(const o in e)Object.defineProperty(l,o,{get:()=>{const c=o;return n._proxyFormState[c]!==Gn.all&&(n._proxyFormState[c]=!i||Gn.all),e[c]}});return l};const _A=typeof window<"u"?Ne.useLayoutEffect:Ne.useEffect;var fa=e=>typeof e=="string",bA=(e,n,r,i,l)=>fa(e)?(i&&n.watch.add(e),me(r,e,l)):Array.isArray(e)?e.map(o=>(i&&n.watch.add(o),me(r,o))):(i&&(n.watchAll=!0),r),Jf=e=>an(e)||!Q_(e);function br(e,n,r=new WeakSet){if(Jf(e)||Jf(n))return e===n;if(Xr(e)&&Xr(n))return e.getTime()===n.getTime();const i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;if(r.has(e)||r.has(n))return!0;r.add(e),r.add(n);for(const o of i){const c=e[o];if(!l.includes(o))return!1;if(o!=="ref"){const f=n[o];if(Xr(c)&&Xr(f)||yt(c)&&yt(f)||Array.isArray(c)&&Array.isArray(f)?!br(c,f,r):c!==f)return!1}}return!0}var wA=(e,n,r,i,l)=>n?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:l||!0}}:{},Rl=e=>Array.isArray(e)?e:[e],Ty=()=>{let e=[];return{get observers(){return e},next:l=>{for(const o of e)o.next&&o.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(o=>o!==l)}}),unsubscribe:()=>{e=[]}}},fn=e=>yt(e)&&!Object.keys(e).length,Ch=e=>e.type==="file",Yn=e=>typeof e=="function",Tu=e=>{if(!Eh)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},Z_=e=>e.type==="select-multiple",Th=e=>e.type==="radio",SA=e=>Th(e)||Bl(e),Af=e=>Tu(e)&&e.isConnected;function EA(e,n){const r=n.slice(0,-1).length;let i=0;for(;i<r;)e=Et(e)?i++:e[n[i++]];return e}function xA(e){for(const n in e)if(e.hasOwnProperty(n)&&!Et(e[n]))return!1;return!0}function St(e,n){const r=Array.isArray(n)?n:Bu(n)?[n]:Rh(n),i=r.length===1?e:EA(e,r),l=r.length-1,o=r[l];return i&&delete i[o],l!==0&&(yt(i)&&fn(i)||Array.isArray(i)&&xA(i))&&St(e,r.slice(0,-1)),e}var J_=e=>{for(const n in e)if(Yn(e[n]))return!0;return!1};function Au(e,n={}){const r=Array.isArray(e);if(yt(e)||r)for(const i in e)Array.isArray(e[i])||yt(e[i])&&!J_(e[i])?(n[i]=Array.isArray(e[i])?[]:{},Au(e[i],n[i])):an(e[i])||(n[i]=!0);return n}function eb(e,n,r){const i=Array.isArray(e);if(yt(e)||i)for(const l in e)Array.isArray(e[l])||yt(e[l])&&!J_(e[l])?Et(n)||Jf(r[l])?r[l]=Array.isArray(e[l])?Au(e[l],[]):{...Au(e[l])}:eb(e[l],an(n)?{}:n[l],r[l]):r[l]=!br(e[l],n[l]);return r}var pl=(e,n)=>eb(e,n,Au(n));const Ay={value:!1,isValid:!1},Oy={value:!0,isValid:!0};var tb=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Et(e[0].attributes.value)?Et(e[0].value)||e[0].value===""?Oy:{value:e[0].value,isValid:!0}:Oy:Ay}return Ay},nb=(e,{valueAsNumber:n,valueAsDate:r,setValueAs:i})=>Et(e)?e:n?e===""?NaN:e&&+e:r&&fa(e)?new Date(e):i?i(e):e;const Dy={isValid:!1,value:null};var ab=e=>Array.isArray(e)?e.reduce((n,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:n,Dy):Dy;function Ny(e){const n=e.ref;return Ch(n)?n.files:Th(n)?ab(e.refs).value:Z_(n)?[...n.selectedOptions].map(({value:r})=>r):Bl(n)?tb(e.refs).value:nb(Et(n.value)?e.ref.value:n.value,e)}var RA=(e,n,r,i)=>{const l={};for(const o of e){const c=me(n,o);c&&ot(l,o,c._f)}return{criteriaMode:r,names:[...e],fields:l,shouldUseNativeValidation:i}},Ou=e=>e instanceof RegExp,vl=e=>Et(e)?e:Ou(e)?e.source:yt(e)?Ou(e.value)?e.value.source:e.value:e,jy=e=>({isOnSubmit:!e||e===Gn.onSubmit,isOnBlur:e===Gn.onBlur,isOnChange:e===Gn.onChange,isOnAll:e===Gn.all,isOnTouch:e===Gn.onTouched});const My="AsyncFunction";var CA=e=>!!e&&!!e.validate&&!!(Yn(e.validate)&&e.validate.constructor.name===My||yt(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===My)),TA=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ky=(e,n,r)=>!r&&(n.watchAll||n.watch.has(e)||[...n.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Cl=(e,n,r,i)=>{for(const l of r||Object.keys(e)){const o=me(e,l);if(o){const{_f:c,...f}=o;if(c){if(c.refs&&c.refs[0]&&n(c.refs[0],l)&&!i)return!0;if(c.ref&&n(c.ref,c.name)&&!i)return!0;if(Cl(f,n))break}else if(yt(f)&&Cl(f,n))break}}};function Uy(e,n,r){const i=me(e,r);if(i||Bu(r))return{error:i,name:r};const l=r.split(".");for(;l.length;){const o=l.join("."),c=me(n,o),f=me(e,o);if(c&&!Array.isArray(c)&&r!==o)return{name:r};if(f&&f.type)return{name:o,error:f};if(f&&f.root&&f.root.type)return{name:`${o}.root`,error:f.root};l.pop()}return{name:r}}var AA=(e,n,r,i)=>{r(e);const{name:l,...o}=e;return fn(o)||Object.keys(o).length>=Object.keys(n).length||Object.keys(o).find(c=>n[c]===(!i||Gn.all))},OA=(e,n,r)=>!e||!n||e===n||Rl(e).some(i=>i&&(r?i===n:i.startsWith(n)||n.startsWith(i))),DA=(e,n,r,i,l)=>l.isOnAll?!1:!r&&l.isOnTouch?!(n||e):(r?i.isOnBlur:l.isOnBlur)?!e:(r?i.isOnChange:l.isOnChange)?e:!0,NA=(e,n)=>!xh(me(e,n)).length&&St(e,n),jA=(e,n,r)=>{const i=Rl(me(e,r));return ot(i,"root",n[r]),ot(e,r,i),e},wu=e=>fa(e);function Ly(e,n,r="validate"){if(wu(e)||Array.isArray(e)&&e.every(wu)||da(e)&&!e)return{type:r,message:wu(e)?e:"",ref:n}}var Xi=e=>yt(e)&&!Ou(e)?e:{value:e,message:""},Py=async(e,n,r,i,l,o)=>{const{ref:c,refs:f,required:h,maxLength:m,minLength:v,min:y,max:_,pattern:w,validate:S,name:R,valueAsNumber:C,mount:T}=e._f,D=me(r,R);if(!T||n.has(R))return{};const A=f?f[0]:c,$=ie=>{l&&A.reportValidity&&(A.setCustomValidity(da(ie)?"":ie||""),A.reportValidity())},U={},Z=Th(c),J=Bl(c),X=Z||J,ne=(C||Ch(c))&&Et(c.value)&&Et(D)||Tu(c)&&c.value===""||D===""||Array.isArray(D)&&!D.length,ee=wA.bind(null,R,i,U),te=(ie,de,fe,we=ka.maxLength,L=ka.minLength)=>{const W=ie?de:fe;U[R]={type:ie?we:L,message:W,ref:c,...ee(ie?we:L,W)}};if(o?!Array.isArray(D)||!D.length:h&&(!X&&(ne||an(D))||da(D)&&!D||J&&!tb(f).isValid||Z&&!ab(f).isValid)){const{value:ie,message:de}=wu(h)?{value:!!h,message:h}:Xi(h);if(ie&&(U[R]={type:ka.required,message:de,ref:A,...ee(ka.required,de)},!i))return $(de),U}if(!ne&&(!an(y)||!an(_))){let ie,de;const fe=Xi(_),we=Xi(y);if(!an(D)&&!isNaN(D)){const L=c.valueAsNumber||D&&+D;an(fe.value)||(ie=L>fe.value),an(we.value)||(de=L<we.value)}else{const L=c.valueAsDate||new Date(D),W=O=>new Date(new Date().toDateString()+" "+O),ae=c.type=="time",se=c.type=="week";fa(fe.value)&&D&&(ie=ae?W(D)>W(fe.value):se?D>fe.value:L>new Date(fe.value)),fa(we.value)&&D&&(de=ae?W(D)<W(we.value):se?D<we.value:L<new Date(we.value))}if((ie||de)&&(te(!!ie,fe.message,we.message,ka.max,ka.min),!i))return $(U[R].message),U}if((m||v)&&!ne&&(fa(D)||o&&Array.isArray(D))){const ie=Xi(m),de=Xi(v),fe=!an(ie.value)&&D.length>+ie.value,we=!an(de.value)&&D.length<+de.value;if((fe||we)&&(te(fe,ie.message,de.message),!i))return $(U[R].message),U}if(w&&!ne&&fa(D)){const{value:ie,message:de}=Xi(w);if(Ou(ie)&&!D.match(ie)&&(U[R]={type:ka.pattern,message:de,ref:c,...ee(ka.pattern,de)},!i))return $(de),U}if(S){if(Yn(S)){const ie=await S(D,r),de=Ly(ie,A);if(de&&(U[R]={...de,...ee(ka.validate,de.message)},!i))return $(de.message),U}else if(yt(S)){let ie={};for(const de in S){if(!fn(ie)&&!i)break;const fe=Ly(await S[de](D,r),A,de);fe&&(ie={...fe,...ee(de,fe.message)},$(fe.message),i&&(U[R]=ie))}if(!fn(ie)&&(U[R]={ref:A,...ie},!i))return U}}return $(!0),U};const MA={mode:Gn.onSubmit,reValidateMode:Gn.onChange,shouldFocusError:!0};function kA(e={}){let n={...MA,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Yn(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},l=yt(n.defaultValues)||yt(n.values)?Pt(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Pt(l),c={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,m=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...v};const _={array:Ty(),state:Ty()},w=n.criteriaMode===Gn.all,S=j=>H=>{clearTimeout(m),m=setTimeout(j,H)},R=async j=>{if(!n.disabled&&(v.isValid||y.isValid||j)){const H=n.resolver?fn((await J()).errors):await ne(i,!0);H!==r.isValid&&_.state.next({isValid:H})}},C=(j,H)=>{!n.disabled&&(v.isValidating||v.validatingFields||y.isValidating||y.validatingFields)&&((j||Array.from(f.mount)).forEach(V=>{V&&(H?ot(r.validatingFields,V,H):St(r.validatingFields,V))}),_.state.next({validatingFields:r.validatingFields,isValidating:!fn(r.validatingFields)}))},T=(j,H=[],V,ue,le=!0,re=!0)=>{if(ue&&V&&!n.disabled){if(c.action=!0,re&&Array.isArray(me(i,j))){const ge=V(me(i,j),ue.argA,ue.argB);le&&ot(i,j,ge)}if(re&&Array.isArray(me(r.errors,j))){const ge=V(me(r.errors,j),ue.argA,ue.argB);le&&ot(r.errors,j,ge),NA(r.errors,j)}if((v.touchedFields||y.touchedFields)&&re&&Array.isArray(me(r.touchedFields,j))){const ge=V(me(r.touchedFields,j),ue.argA,ue.argB);le&&ot(r.touchedFields,j,ge)}(v.dirtyFields||y.dirtyFields)&&(r.dirtyFields=pl(l,o)),_.state.next({name:j,isDirty:te(j,H),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ot(o,j,H)},D=(j,H)=>{ot(r.errors,j,H),_.state.next({errors:r.errors})},A=j=>{r.errors=j,_.state.next({errors:r.errors,isValid:!1})},$=(j,H,V,ue)=>{const le=me(i,j);if(le){const re=me(o,j,Et(V)?me(l,j):V);Et(re)||ue&&ue.defaultChecked||H?ot(o,j,H?re:Ny(le._f)):fe(j,re),c.mount&&R()}},U=(j,H,V,ue,le)=>{let re=!1,ge=!1;const _e={name:j};if(!n.disabled){if(!V||ue){(v.isDirty||y.isDirty)&&(ge=r.isDirty,r.isDirty=_e.isDirty=te(),re=ge!==_e.isDirty);const Ae=br(me(l,j),H);ge=!!me(r.dirtyFields,j),Ae?St(r.dirtyFields,j):ot(r.dirtyFields,j,!0),_e.dirtyFields=r.dirtyFields,re=re||(v.dirtyFields||y.dirtyFields)&&ge!==!Ae}if(V){const Ae=me(r.touchedFields,j);Ae||(ot(r.touchedFields,j,V),_e.touchedFields=r.touchedFields,re=re||(v.touchedFields||y.touchedFields)&&Ae!==V)}re&&le&&_.state.next(_e)}return re?_e:{}},Z=(j,H,V,ue)=>{const le=me(r.errors,j),re=(v.isValid||y.isValid)&&da(H)&&r.isValid!==H;if(n.delayError&&V?(h=S(()=>D(j,V)),h(n.delayError)):(clearTimeout(m),h=null,V?ot(r.errors,j,V):St(r.errors,j)),(V?!br(le,V):le)||!fn(ue)||re){const ge={...ue,...re&&da(H)?{isValid:H}:{},errors:r.errors,name:j};r={...r,...ge},_.state.next(ge)}},J=async j=>{C(j,!0);const H=await n.resolver(o,n.context,RA(j||f.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return C(j),H},X=async j=>{const{errors:H}=await J(j);if(j)for(const V of j){const ue=me(H,V);ue?ot(r.errors,V,ue):St(r.errors,V)}else r.errors=H;return H},ne=async(j,H,V={valid:!0})=>{for(const ue in j){const le=j[ue];if(le){const{_f:re,...ge}=le;if(re){const _e=f.array.has(re.name),Ae=le._f&&CA(le._f);Ae&&v.validatingFields&&C([ue],!0);const ze=await Py(le,f.disabled,o,w,n.shouldUseNativeValidation&&!H,_e);if(Ae&&v.validatingFields&&C([ue]),ze[re.name]&&(V.valid=!1,H))break;!H&&(me(ze,re.name)?_e?jA(r.errors,ze,re.name):ot(r.errors,re.name,ze[re.name]):St(r.errors,re.name))}!fn(ge)&&await ne(ge,H,V)}}return V.valid},ee=()=>{for(const j of f.unMount){const H=me(i,j);H&&(H._f.refs?H._f.refs.every(V=>!Af(V)):!Af(H._f.ref))&&Fe(j)}f.unMount=new Set},te=(j,H)=>!n.disabled&&(j&&H&&ot(o,j,H),!br(O(),l)),ie=(j,H,V)=>bA(j,f,{...c.mount?o:Et(H)?l:fa(j)?{[j]:H}:H},V,H),de=j=>xh(me(c.mount?o:l,j,n.shouldUnregister?me(l,j,[]):[])),fe=(j,H,V={})=>{const ue=me(i,j);let le=H;if(ue){const re=ue._f;re&&(!re.disabled&&ot(o,j,nb(H,re)),le=Tu(re.ref)&&an(H)?"":H,Z_(re.ref)?[...re.ref.options].forEach(ge=>ge.selected=le.includes(ge.value)):re.refs?Bl(re.ref)?re.refs.forEach(ge=>{(!ge.defaultChecked||!ge.disabled)&&(Array.isArray(le)?ge.checked=!!le.find(_e=>_e===ge.value):ge.checked=le===ge.value||!!le)}):re.refs.forEach(ge=>ge.checked=ge.value===le):Ch(re.ref)?re.ref.value="":(re.ref.value=le,re.ref.type||_.state.next({name:j,values:Pt(o)})))}(V.shouldDirty||V.shouldTouch)&&U(j,le,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&se(j)},we=(j,H,V)=>{for(const ue in H){if(!H.hasOwnProperty(ue))return;const le=H[ue],re=j+"."+ue,ge=me(i,re);(f.array.has(j)||yt(le)||ge&&!ge._f)&&!Xr(le)?we(re,le,V):fe(re,le,V)}},L=(j,H,V={})=>{const ue=me(i,j),le=f.array.has(j),re=Pt(H);ot(o,j,re),le?(_.array.next({name:j,values:Pt(o)}),(v.isDirty||v.dirtyFields||y.isDirty||y.dirtyFields)&&V.shouldDirty&&_.state.next({name:j,dirtyFields:pl(l,o),isDirty:te(j,re)})):ue&&!ue._f&&!an(re)?we(j,re,V):fe(j,re,V),ky(j,f)&&_.state.next({...r,name:j}),_.state.next({name:c.mount?j:void 0,values:Pt(o)})},W=async j=>{c.mount=!0;const H=j.target;let V=H.name,ue=!0;const le=me(i,V),re=Ae=>{ue=Number.isNaN(Ae)||Xr(Ae)&&isNaN(Ae.getTime())||br(Ae,me(o,V,Ae))},ge=jy(n.mode),_e=jy(n.reValidateMode);if(le){let Ae,ze;const ma=H.type?Ny(le._f):hA(j),Rt=j.type===Cy.BLUR||j.type===Cy.FOCUS_OUT,Jr=!TA(le._f)&&!n.resolver&&!me(r.errors,V)&&!le._f.deps||DA(Rt,me(r.touchedFields,V),r.isSubmitted,_e,ge),ea=ky(V,f,Rt);ot(o,V,ma),Rt?(!H||!H.readOnly)&&(le._f.onBlur&&le._f.onBlur(j),h&&h(0)):le._f.onChange&&le._f.onChange(j);const ta=U(V,ma,Rt),hn=!fn(ta)||ea;if(!Rt&&_.state.next({name:V,type:j.type,values:Pt(o)}),Jr)return(v.isValid||y.isValid)&&(n.mode==="onBlur"?Rt&&R():Rt||R()),hn&&_.state.next({name:V,...ea?{}:ta});if(!Rt&&ea&&_.state.next({...r}),n.resolver){const{errors:na}=await J([V]);if(re(ma),ue){const pa=Uy(r.errors,i,V),Rr=Uy(na,i,pa.name||V);Ae=Rr.error,V=Rr.name,ze=fn(na)}}else C([V],!0),Ae=(await Py(le,f.disabled,o,w,n.shouldUseNativeValidation))[V],C([V]),re(ma),ue&&(Ae?ze=!1:(v.isValid||y.isValid)&&(ze=await ne(i,!0)));ue&&(le._f.deps&&se(le._f.deps),Z(V,ze,Ae,ta))}},ae=(j,H)=>{if(me(r.errors,H)&&j.focus)return j.focus(),1},se=async(j,H={})=>{let V,ue;const le=Rl(j);if(n.resolver){const re=await X(Et(j)?j:le);V=fn(re),ue=j?!le.some(ge=>me(re,ge)):V}else j?(ue=(await Promise.all(le.map(async re=>{const ge=me(i,re);return await ne(ge&&ge._f?{[re]:ge}:ge)}))).every(Boolean),!(!ue&&!r.isValid)&&R()):ue=V=await ne(i);return _.state.next({...!fa(j)||(v.isValid||y.isValid)&&V!==r.isValid?{}:{name:j},...n.resolver||!j?{isValid:V}:{},errors:r.errors}),H.shouldFocus&&!ue&&Cl(i,ae,j?le:f.mount),ue},O=j=>{const H={...c.mount?o:l};return Et(j)?H:fa(j)?me(H,j):j.map(V=>me(H,V))},G=(j,H)=>({invalid:!!me((H||r).errors,j),isDirty:!!me((H||r).dirtyFields,j),error:me((H||r).errors,j),isValidating:!!me(r.validatingFields,j),isTouched:!!me((H||r).touchedFields,j)}),Q=j=>{j&&Rl(j).forEach(H=>St(r.errors,H)),_.state.next({errors:j?r.errors:{}})},B=(j,H,V)=>{const ue=(me(i,j,{_f:{}})._f||{}).ref,le=me(r.errors,j)||{},{ref:re,message:ge,type:_e,...Ae}=le;ot(r.errors,j,{...Ae,...H,ref:ue}),_.state.next({name:j,errors:r.errors,isValid:!1}),V&&V.shouldFocus&&ue&&ue.focus&&ue.focus()},oe=(j,H)=>Yn(j)?_.state.subscribe({next:V=>"values"in V&&j(ie(void 0,H),V)}):ie(j,H,!0),Se=j=>_.state.subscribe({next:H=>{OA(j.name,H.name,j.exact)&&AA(H,j.formState||v,Jt,j.reRenderRoot)&&j.callback({values:{...o},...r,...H,defaultValues:l})}}).unsubscribe,ce=j=>(c.mount=!0,y={...y,...j.formState},Se({...j,formState:y})),Fe=(j,H={})=>{for(const V of j?Rl(j):f.mount)f.mount.delete(V),f.array.delete(V),H.keepValue||(St(i,V),St(o,V)),!H.keepError&&St(r.errors,V),!H.keepDirty&&St(r.dirtyFields,V),!H.keepTouched&&St(r.touchedFields,V),!H.keepIsValidating&&St(r.validatingFields,V),!n.shouldUnregister&&!H.keepDefaultValue&&St(l,V);_.state.next({values:Pt(o)}),_.state.next({...r,...H.keepDirty?{isDirty:te()}:{}}),!H.keepIsValid&&R()},ye=({disabled:j,name:H})=>{(da(j)&&c.mount||j||f.disabled.has(H))&&(j?f.disabled.add(H):f.disabled.delete(H))},mt=(j,H={})=>{let V=me(i,j);const ue=da(H.disabled)||da(n.disabled);return ot(i,j,{...V||{},_f:{...V&&V._f?V._f:{ref:{name:j}},name:j,mount:!0,...H}}),f.mount.add(j),V?ye({disabled:da(H.disabled)?H.disabled:n.disabled,name:j}):$(j,!0,H.value),{...ue?{disabled:H.disabled||n.disabled}:{},...n.progressive?{required:!!H.required,min:vl(H.min),max:vl(H.max),minLength:vl(H.minLength),maxLength:vl(H.maxLength),pattern:vl(H.pattern)}:{},name:j,onChange:W,onBlur:W,ref:le=>{if(le){mt(j,H),V=me(i,j);const re=Et(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,ge=SA(re),_e=V._f.refs||[];if(ge?_e.find(Ae=>Ae===re):re===V._f.ref)return;ot(i,j,{_f:{...V._f,...ge?{refs:[..._e.filter(Af),re,...Array.isArray(me(l,j))?[{}]:[]],ref:{type:re.type,name:j}}:{ref:re}}}),$(j,!1,void 0,re)}else V=me(i,j,{}),V._f&&(V._f.mount=!1),(n.shouldUnregister||H.shouldUnregister)&&!(mA(f.array,j)&&c.action)&&f.unMount.add(j)}}},at=()=>n.shouldFocusError&&Cl(i,ae,f.mount),sn=j=>{da(j)&&(_.state.next({disabled:j}),Cl(i,(H,V)=>{const ue=me(i,V);ue&&(H.disabled=ue._f.disabled||j,Array.isArray(ue._f.refs)&&ue._f.refs.forEach(le=>{le.disabled=ue._f.disabled||j}))},0,!1))},_t=(j,H)=>async V=>{let ue;V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let le=Pt(o);if(_.state.next({isSubmitting:!0}),n.resolver){const{errors:re,values:ge}=await J();r.errors=re,le=Pt(ge)}else await ne(i);if(f.disabled.size)for(const re of f.disabled)St(le,re);if(St(r.errors,"root"),fn(r.errors)){_.state.next({errors:{}});try{await j(le,V)}catch(re){ue=re}}else H&&await H({...r.errors},V),at(),setTimeout(at);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:fn(r.errors)&&!ue,submitCount:r.submitCount+1,errors:r.errors}),ue)throw ue},Va=(j,H={})=>{me(i,j)&&(Et(H.defaultValue)?L(j,Pt(me(l,j))):(L(j,H.defaultValue),ot(l,j,Pt(H.defaultValue))),H.keepTouched||St(r.touchedFields,j),H.keepDirty||(St(r.dirtyFields,j),r.isDirty=H.defaultValue?te(j,Pt(me(l,j))):te()),H.keepError||(St(r.errors,j),v.isValid&&R()),_.state.next({...r}))},ln=(j,H={})=>{const V=j?Pt(j):l,ue=Pt(V),le=fn(j),re=le?l:ue;if(H.keepDefaultValues||(l=V),!H.keepValues){if(H.keepDirtyValues){const ge=new Set([...f.mount,...Object.keys(pl(l,o))]);for(const _e of Array.from(ge))me(r.dirtyFields,_e)?ot(re,_e,me(o,_e)):L(_e,me(re,_e))}else{if(Eh&&Et(j))for(const ge of f.mount){const _e=me(i,ge);if(_e&&_e._f){const Ae=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(Tu(Ae)){const ze=Ae.closest("form");if(ze){ze.reset();break}}}}if(H.keepFieldsRef)for(const ge of f.mount)L(ge,me(re,ge));else i={}}o=n.shouldUnregister?H.keepDefaultValues?Pt(l):{}:Pt(re),_.array.next({values:{...re}}),_.state.next({values:{...re}})}f={mount:H.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!v.isValid||!!H.keepIsValid||!!H.keepDirtyValues,c.watch=!!n.shouldUnregister,_.state.next({submitCount:H.keepSubmitCount?r.submitCount:0,isDirty:le?!1:H.keepDirty?r.isDirty:!!(H.keepDefaultValues&&!br(j,l)),isSubmitted:H.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:le?{}:H.keepDirtyValues?H.keepDefaultValues&&o?pl(l,o):r.dirtyFields:H.keepDefaultValues&&j?pl(l,j):H.keepDirty?r.dirtyFields:{},touchedFields:H.keepTouched?r.touchedFields:{},errors:H.keepErrors?r.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},ha=(j,H)=>ln(Yn(j)?j(o):j,H),Jn=(j,H={})=>{const V=me(i,j),ue=V&&V._f;if(ue){const le=ue.refs?ue.refs[0]:ue.ref;le.focus&&(le.focus(),H.shouldSelect&&Yn(le.select)&&le.select())}},Jt=j=>{r={...r,...j}},ga={control:{register:mt,unregister:Fe,getFieldState:G,handleSubmit:_t,setError:B,_subscribe:Se,_runSchema:J,_focusError:at,_getWatch:ie,_getDirty:te,_setValid:R,_setFieldArray:T,_setDisabledField:ye,_setErrors:A,_getFieldArray:de,_reset:ln,_resetDefaultValues:()=>Yn(n.defaultValues)&&n.defaultValues().then(j=>{ha(j,n.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:ee,_disableForm:sn,_subjects:_,_proxyFormState:v,get _fields(){return i},get _formValues(){return o},get _state(){return c},set _state(j){c=j},get _defaultValues(){return l},get _names(){return f},set _names(j){f=j},get _formState(){return r},get _options(){return n},set _options(j){n={...n,...j}}},subscribe:ce,trigger:se,register:mt,handleSubmit:_t,watch:oe,setValue:L,getValues:O,reset:ha,resetField:Va,clearErrors:Q,unregister:Fe,setError:B,setFocus:Jn,getFieldState:G};return{...ga,formControl:ga}}function Vu(e={}){const n=Ne.useRef(void 0),r=Ne.useRef(void 0),[i,l]=Ne.useState({isDirty:!1,isValidating:!1,isLoading:Yn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Yn(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:i},e.defaultValues&&!Yn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...f}=kA(e);n.current={...f,formState:i}}const o=n.current.control;return o._options=e,_A(()=>{const c=o._subscribe({formState:o._proxyFormState,callback:()=>l({...o._formState}),reRenderRoot:!0});return l(f=>({...f,isReady:!0})),o._formState.isReady=!0,c},[o]),Ne.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),Ne.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),Ne.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),Ne.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),Ne.useEffect(()=>{if(o._proxyFormState.isDirty){const c=o._getDirty();c!==i.isDirty&&o._subjects.state.next({isDirty:c})}},[o,i.isDirty]),Ne.useEffect(()=>{e.values&&!br(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),r.current=e.values,l(c=>({...c}))):o._resetDefaultValues()},[o,e.values]),Ne.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),n.current.formState=yA(i,o),n.current}const rb=()=>{const e=x.useCallback((h,m,v)=>{if(!h||!m||!v)return null;try{const{department:y}=h;if(y==="STAMPA"){const _=m/(h.v_stampa||1),w=h.t_setup_stampa||0,S=_+w,R=S*(h.costo_h_stampa||0);return{totals:{duration:S,cost:R},breakdown:{print:{time:_,cost:_*(h.costo_h_stampa||0)},setup:{time:w,cost:w*(h.costo_h_stampa||0)}}}}else if(y==="CONFEZIONAMENTO"){const _=m/(h.v_conf||1),w=h.t_setup_conf||0,S=_+w,R=S*(h.costo_h_conf||0);return{totals:{duration:S,cost:R},breakdown:{package:{time:_,cost:_*(h.costo_h_conf||0)},setup:{time:w,cost:w*(h.costo_h_conf||0)}}}}return null}catch{return null}},[]),n=x.useCallback(h=>h&&(h.startsWith("P05")||h.startsWith("ISP05"))?"BUSTO_GAROLFO":"ZANICA",[]),r=x.useCallback(h=>h&&h.startsWith("P0")?"CONFEZIONAMENTO":"STAMPA",[]),i=x.useCallback(h=>({STAMPA:["DIGITAL_PRINT","FLEXO_PRINT","ROTOGRAVURE"],CONFEZIONAMENTO:["DOYPACK","PLURI_PIU","MONO_PIU","CONFEZIONAMENTO_TRADIZIONALE","CONFEZIONAMENTO_POLVERI"]})[h]||[],[]),l=x.useCallback((h,m)=>{const y={DIGITAL_PRINT:"DIGI",FLEXO_PRINT:"FLEX",ROTOGRAVURE:"ROTO",DOYPACK:"DOYP",PLURI_PIU:"PLUR",MONO_PIU:"MONO",CONFEZIONAMENTO_TRADIZIONALE:"CONFTRAD",CONFEZIONAMENTO_POLVERI:"CONFPOL"}[h]||"MACH",_=m==="BUSTO_GAROLFO"?"BGF":"ZAN",w=Date.now().toString(36);return`${y}_${_}_${w}`},[]),o=x.useCallback((h,m)=>!(m<0||m>h),[]),c=x.useCallback((h,m)=>!h||h===0?0:Math.round(m*100/h),[]),f=x.useCallback((h,m)=>!h||h===0?0:!m||m===0?h:Math.round(h*(1-m/100)*100)/100,[]);return{calculateProductionMetrics:e,autoDetermineWorkCenter:n,autoDetermineDepartment:r,getValidMachineTypes:i,generateMachineId:l,validateQuantityCompleted:o,calculateCompletionRate:c,calculateTimeRemaining:f}},Du={PHASE:{STAMPA:{v_stampa:{min:0,message:"Printing speed must be greater than 0"},t_setup_stampa:{min:0,message:"Setup time cannot be negative"},costo_h_stampa:{min:0,message:"Hourly cost cannot be negative"}},CONFEZIONAMENTO:{v_conf:{min:0,message:"Packaging speed must be greater than 0"},t_setup_conf:{min:0,message:"Setup time cannot be negative"},costo_h_conf:{min:0,message:"Hourly cost cannot be negative"}}},MACHINE:{min_web_width:{min:0,message:"Minimum web width cannot be negative"},max_web_width:{min:0,message:"Maximum web width cannot be negative"},min_bag_height:{min:0,message:"Minimum bag height cannot be negative"},max_bag_height:{min:0,message:"Maximum bag height cannot be negative"},standard_speed:{min:0,message:"Standard speed cannot be negative"},setup_time_standard:{min:0,message:"Setup time cannot be negative"},changeover_color:{min:0,message:"Color changeover time cannot be negative"},changeover_material:{min:0,message:"Material changeover time cannot be negative"}},ORDER:{bag_height:{min:0,message:"Bag height must be greater than 0"},bag_width:{min:0,message:"Bag width must be greater than 0"},bag_step:{min:0,message:"Bag step must be greater than 0"},quantity:{min:0,message:"Quantity must be greater than 0"},quantity_per_box:{min:0,message:"Quantity per box cannot be negative"},quantity_completed:{min:0,message:"Quantity completed cannot be negative"}}},ib=(e,n)=>{const r={};return n.forEach(i=>{if(!Oh(e[i])){const l=i.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase());r[i]=`${l} is required`}}),r},Ah=(e,n)=>{const r={};return Object.entries(n).forEach(([i,l])=>{e[i]!==void 0&&e[i]!==null&&e[i]!==""&&(ob(e[i],l.min,l.max)||(r[i]=l.message))}),r},sb=(e,n,r="PHASE")=>{const i=Du[r]?.[n];return i?Ah(e,i):{}},lb=(e,n)=>{const r={};return n.forEach(i=>{const{condition:l,errorField:o,message:c}=i;l(e)&&(r[o]=c)}),r},UA=(e,n)=>{const r={};return n.required&&Object.assign(r,ib(e,n.required)),n.numeric&&Object.assign(r,Ah(e,n.numeric)),n.department&&e.department&&Object.assign(r,sb(e,e.department,n.departmentSchema)),n.logical&&Object.assign(r,lb(e,n.logical)),r},LA={PHASE:{required:["name","department","work_center"],numeric:{numero_persone:{min:1,message:"Number of people must be at least 1"}},departmentSchema:"PHASE",logical:[{condition:e=>e.bag_width&&e.bag_step&&parseFloat(e.bag_width)<parseFloat(e.bag_step),errorField:"bag_width",message:"Bag width cannot be less than bag step"}]},MACHINE:{required:["machine_name","machine_type","department","work_center"],numeric:Du.MACHINE,logical:[{condition:e=>e.min_web_width&&e.max_web_width&&parseFloat(e.min_web_width)>parseFloat(e.max_web_width),errorField:"min_web_width",message:"Minimum web width cannot exceed maximum web width"},{condition:e=>e.min_bag_height&&e.max_bag_height&&parseFloat(e.min_bag_height)>parseFloat(e.max_bag_height),errorField:"min_bag_height",message:"Minimum bag height cannot exceed maximum bag height"}]},ORDER:{required:["odp_number","article_code","production_lot","bag_height","bag_width","bag_step","product_type","quantity","delivery_date"],numeric:Du.ORDER,logical:[{condition:e=>e.bag_width&&e.bag_step&&parseFloat(e.bag_width)<parseFloat(e.bag_step),errorField:"bag_width",message:"Bag width cannot be less than bag step"},{condition:e=>e.quantity&&e.quantity_completed&&parseFloat(e.quantity_completed)>parseFloat(e.quantity),errorField:"quantity_completed",message:"Quantity completed cannot exceed total quantity"},{condition:e=>e.delivery_date&&e.scheduled_start_time&&new Date(e.scheduled_start_time)>new Date(e.delivery_date),errorField:"scheduled_start_time",message:"Production start cannot be after delivery date"}]},OFF_TIME:{required:["startDate","startTime","endDate","endTime"],logical:[{condition:e=>e.startDate&&e.endDate&&new Date(e.startDate)>new Date(e.endDate),errorField:"endDate",message:"End date cannot be before start date"},{condition:e=>e.startDate&&e.endDate&&e.startDate===e.endDate&&e.startTime&&e.endTime&&e.startTime>=e.endTime,errorField:"endTime",message:"End time must be after start time when dates are the same"}]}},Oh=e=>typeof e=="string"?e.trim().length>0:Array.isArray(e)?e.length>0:typeof e=="object"&&e!==null?Object.keys(e).length>0:!!e,PA=e=>!e||typeof e!="string"?!1:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),HA=e=>!e||typeof e!="string"?!1:/^[+]?[1-9][\d]{0,15}$/.test(e.replace(/\s/g,"")),FA=e=>{if(!e)return!1;const n=new Date(e);return n instanceof Date&&!isNaN(n)},ob=(e,n=null,r=null)=>{const i=typeof e=="string"?parseFloat(e):e;return!(typeof i!="number"||isNaN(i)||n!==null&&i<n||r!==null&&i>r)},zA=(e,n=null,r=null)=>{const i=typeof e=="string"?parseInt(e,10):e;return!(!Number.isInteger(i)||n!==null&&i<n||r!==null&&i>r)},IA=e=>{if(!e||typeof e!="string")return!1;try{return new URL(e),!0}catch{return!1}},ub=(e,n)=>!e||!n?!1:typeof n=="string"?new RegExp(n).test(e):n instanceof RegExp?n.test(e):!1,cb=(e,n)=>!e||typeof e!="string"?!1:e.length>=n,db=(e,n)=>!e||typeof e!="string"?!1:e.length<=n,fb=(e,n,r)=>typeof e!="number"||isNaN(e)?!1:e>=n&&e<=r,$A=e=>!e||typeof e!="string"?!1:/^[a-zA-Z0-9\s\-_]{2,100}$/.test(e.trim()),BA=e=>!e||typeof e!="string"?!1:/^[a-zA-Z0-9]{3,20}$/.test(e.trim()),VA=e=>!e||typeof e!="string"?!1:/^[a-zA-Z0-9-]{3,50}$/.test(e.trim()),qA=e=>["ZANICA","BUSTO_GAROLFO"].includes(e),GA=e=>["STAMPA","CONFEZIONAMENTO"].includes(e),YA=e=>["ACTIVE","INACTIVE","MAINTENANCE"].includes(e),KA=e=>["crema","liquido","polveri"].includes(e),XA=e=>["3","4"].includes(e),WA=(e,n)=>{const r={};return Object.keys(n).forEach(i=>{const l=e[i],o=n[i];if(o.required&&!Oh(l))r[i]=o.required;else if(l&&o.pattern&&!ub(l,o.pattern))r[i]=o.pattern;else if(l&&o.minLength&&!cb(l,o.minLength))r[i]=o.minLength;else if(l&&o.maxLength&&!db(l,o.maxLength))r[i]=o.maxLength;else if(l&&o.min!==void 0&&!fb(l,o.min,o.max||1/0))r[i]=o.min;else if(l&&o.custom){const c=o.custom(l,e);c&&(r[i]=c)}}),r},Ha={validateRequiredFields:ib,validateNumericFields:Ah,validateDepartmentFields:sb,validateLogicalRelations:lb,validateAll:UA,VALIDATION_CONFIGS:LA,VALIDATION_SCHEMAS:Du,isNotEmpty:Oh,isValidEmail:PA,isValidPhone:HA,isValidDate:FA,isValidNumber:ob,isValidInteger:zA,isValidUrl:IA,matchesPattern:ub,hasMinLength:cb,hasMaxLength:db,isInRange:fb,isValidMachineName:$A,isValidOdpNumber:BA,isValidArticleCode:VA,isValidWorkCenter:qA,isValidDepartment:GA,isValidMachineStatus:YA,isValidProductType:KA,isValidSealSides:XA,validateFormData:WA},QA=()=>{const e=x.useCallback(l=>{const o=Ha.validateAll(l,Ha.VALIDATION_CONFIGS.MACHINE);return Object.values(o)},[]),n=x.useCallback((l,o)=>{const c=[];return o.some(h=>h.scheduled_machine_id===l)&&c.push("Cannot delete machine with scheduled tasks. Please unschedule all tasks first."),c},[]),r=x.useCallback(l=>({name:l?.machine_name||"Unknown Machine",type:l?.machine_type||"Unknown Type",department:l?.department||"Unknown Department",workCenter:l?.work_center||"Unknown Work Center",status:l?.status||"UNKNOWN",isActive:l?.status==="ACTIVE"}),[]),i=x.useCallback((l,o)=>{if(l.status!=="ACTIVE")return!1;const c=l.active_shifts||[];if(c.length===0)return!1;const f=o.getHours();return c.some(m=>{switch(m){case"T1":return f>=6&&f<14;case"T2":return f>=14&&f<22;case"T3":return f>=22||f<6;default:return!1}})},[]);return{validateMachine:e,validateMachineDeletion:n,getMachineDisplayInfo:r,isMachineAvailable:i}},ZA=()=>{const e=x.useCallback(l=>{const o=Ha.validateAll(l,Ha.VALIDATION_CONFIGS.ORDER);return Object.values(o)},[]),n=x.useCallback((l,o)=>{const c=[];if(!l)return c.push("Please select a production phase"),c;o.department&&l.department!==o.department&&c.push(`Selected phase is for ${l.department} department, but order is for ${o.department}`),o.work_center&&l.work_center!==o.work_center&&c.push(`Selected phase is for ${l.work_center} work center, but order is for ${o.work_center}`);const f=Ha.validateDepartmentFields(l,l.department,"PHASE");return Object.values(f).forEach(h=>c.push(h)),c},[]),r=x.useCallback((l,o,c,f)=>{const h=[];return l?o?!c||!f?(h.push("Start and end times are required"),h):(o.status!=="ACTIVE"&&h.push(`Machine ${o.machine_name} is not active`),l.scheduled_machine_id&&l.scheduled_machine_id!==o.id&&h.push("Order is already scheduled on a different machine"),l.fase||h.push("Order must have a production phase selected"),(!l.quantity||l.quantity<=0)&&h.push("Order must have a valid quantity"),(!l.duration||l.duration<=0)&&h.push("Order must have calculated duration"),h):(h.push("Machine is required"),h):(h.push("Order is required"),h)},[]),i=x.useCallback(l=>{const o=[];return l?(l.quantity_completed>0&&o.push("Cannot delete order that has started production"),l.scheduled_machine_id&&o.push("Cannot delete scheduled order. Please unschedule first."),o):(o.push("Order is required"),o)},[]);return{validateOrder:e,validatePhaseSelection:n,validateOrderScheduling:r,validateOrderDeletion:i}},JA=()=>({validatePhase:r=>{const i=Ha.validateAll(r,Ha.VALIDATION_CONFIGS.PHASE);return Object.values(i)},validateForm:r=>Ha.validateAll(r,Ha.VALIDATION_CONFIGS.PHASE)}),Ba=(e="")=>{const{showAlert:n,showConfirmDialog:r}=Te(),i=x.useCallback((_,w={})=>{const{showUserAlert:S=!0,alertType:R="error",logError:C=!0,context:T=e,fallbackMessage:D="An unexpected error occurred"}=w,A=En(_,T);if(C&&Vn(A,T),S){const $=A.userMessage||D;n($,R)}return A},[e,n]),l=x.useCallback(async(_,w={})=>{const{showUserAlert:S=!0,alertType:R="error",context:C=e,fallbackMessage:T="Operation failed",retry:D=!1,maxRetries:A=3}=w;try{return D?await dy(_,A):await _()}catch($){throw i($,{showUserAlert:S,alertType:R,context:C,fallbackMessage:T})}},[e,i]),o=x.useCallback((_,w)=>{const S=i(_,{showUserAlert:!1});S.code===Pe.VALIDATION_ERROR?S.fieldErrors?Object.entries(S.fieldErrors).forEach(([R,C])=>{w(R,{type:"server",message:C})}):w("root",{type:"server",message:S.userMessage}):w("root",{type:"server",message:S.userMessage})},[i]),c=x.useCallback((_,w,S)=>{const R=i(_,{context:`${w} ${S}`,fallbackMessage:`Failed to ${w} ${S}`});return R.code===Pe.VALIDATION_ERROR?n(`Please check the ${S} information and try again.`,"error"):R.code===Pe.NOT_FOUND_ERROR?n(`${S} not found. It may have been deleted.`,"error"):R.code===Pe.AUTHORIZATION_ERROR&&n(`You don't have permission to ${w} ${S}.`,"error"),R},[i,n]),f=x.useCallback((_,w)=>{const S=i(_,{context:"Network Operation",fallbackMessage:"Network error occurred"});return S.code===Pe.NETWORK_ERROR&&w&&r("Network Error","Your connection seems to be unstable. Would you like to retry?",w,"warning"),S},[i,r]),h=x.useCallback(_=>{const w=i(_,{context:"Authentication",fallbackMessage:"Authentication error occurred"});return w.code===Pe.AUTHENTICATION_ERROR&&n("Please log in again to continue.","warning"),w},[i,n]),m=x.useCallback((_,w="")=>Gf(_,w||e),[e]),v=x.useCallback(_=>En(_,e).severity||"medium",[e]),y=x.useMemo(()=>Pe,[]);return{handleError:i,handleAsync:l,handleFormError:o,handleCrudError:c,handleNetworkError:f,handleAuthError:h,createSafeAsync:m,getErrorSeverity:v,errorTypes:y,withRetry:dy,safeAsync:Gf}},eO=(e,n)=>{const{phases:r}=qn(),[i,l]=x.useState(""),[o,c]=x.useState(!1),[f,h]=x.useState(null),[m,v]=x.useState({}),y=x.useRef(null),_=x.useMemo(()=>!r||r.length===0?[]:e||n?r.filter(A=>(!e||A.department===e)&&(!n||A.work_center===n)).filter(A=>A.name.toLowerCase().includes(i.toLowerCase())):[],[i,e,n,r]);x.useEffect(()=>()=>{y.current&&clearTimeout(y.current)},[]);const w=x.useCallback((D,A)=>{v($=>({...$,[D]:A}))},[]),S=x.useCallback((D,A,$)=>{A("fase",D.id),h(D),l(D.name),c(!1),$("fase"),v({v_stampa:D.v_stampa||"",t_setup_stampa:D.t_setup_stampa||"",costo_h_stampa:D.costo_h_stampa||"",v_conf:D.v_conf||"",t_setup_conf:D.t_setup_conf||"",costo_h_conf:D.costo_h_conf||""})},[]),R=x.useCallback(()=>{l(""),h(null),v({})},[]),C=x.useCallback(()=>{y.current&&clearTimeout(y.current),y.current=setTimeout(()=>c(!1),150)},[]);return x.useMemo(()=>({phaseSearch:i,setPhaseSearch:l,isDropdownVisible:o,setIsDropdownVisible:c,selectedPhase:f,setSelectedPhase:h,filteredPhases:_,editablePhaseParams:m,setEditablePhaseParams:v,handlePhaseParamChange:w,handlePhaseSelect:S,resetPhaseData:R,handleBlur:C,blurTimeoutRef:y}),[i,o,f,_,m,v,w,S,R,C])};function tO(){const{selectedWorkCenter:e}=Te(),{addMachine:n}=Ft(),r={department:ut.MACHINE.DEPARTMENT,machine_type:"",machine_name:"",work_center:e===Ce.BOTH?"":e||ut.MACHINE.WORK_CENTER,min_web_width:ut.MACHINE.MIN_WEB_WIDTH,max_web_width:ut.MACHINE.MAX_WEB_WIDTH,min_bag_height:ut.MACHINE.MIN_BAG_HEIGHT,max_bag_height:ut.MACHINE.MAX_BAG_HEIGHT,standard_speed:"",setup_time_standard:ut.MACHINE.SETUP_TIME_STANDARD,changeover_color:ut.MACHINE.CHANGEOVER_COLOR,changeover_material:ut.MACHINE.CHANGEOVER_MATERIAL,active_shifts:ut.MACHINE.ACTIVE_SHIFTS,status:ut.MACHINE.STATUS},{getValidMachineTypes:i}=rb(),{register:l,handleSubmit:o,formState:{errors:c,isSubmitting:f},watch:h,setValue:m,getValues:v}=Vu({defaultValues:r}),y=h("department");x.useEffect(()=>{i(y).includes(v("machine_type"))||m("machine_type","")},[y,i,v,m]);const _=w=>{const{value:S,checked:R}=w.target,C=v("active_shifts")||[];R?m("active_shifts",[...C,S]):m("active_shifts",C.filter(T=>T!==S))};return p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Create Machine"}),p.jsxs("form",{onSubmit:o(n),children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Identificazione"}),p.jsxs("div",{className:"form-grid form-grid--4-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"department",children:"Department *"}),p.jsxs("select",{id:"department",...l("department"),className:c.department?"error":"",children:[p.jsx("option",{value:xt.PRINTING,children:xt.PRINTING}),p.jsx("option",{value:xt.PACKAGING,children:xt.PACKAGING})]}),c.department&&p.jsx("span",{className:"error-message",children:c.department.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"machine_type",children:"Machine Type *"}),p.jsxs("select",{id:"machine_type",...l("machine_type"),className:c.machine_type?"error":"",children:[p.jsx("option",{value:"",children:"Select machine type"}),i(y).map(w=>p.jsx("option",{value:w,children:w},w))]}),c.machine_type&&p.jsx("span",{className:"error-message",children:c.machine_type.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"machine_name",children:"Machine Name *"}),p.jsx("input",{type:"text",id:"machine_name",...l("machine_name"),placeholder:"Descriptive name",className:c.machine_name?"error":""}),c.machine_name&&p.jsx("span",{className:"error-message",children:c.machine_name.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"work_center",children:"Work Center *"}),e===Ce.BOTH?p.jsxs("select",{...l("work_center",{required:"Work center is required"}),id:"work_center",className:c.work_center?"error":"",children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Ce.ZANICA,children:Ce.ZANICA}),p.jsx("option",{value:Ce.BUSTO_GAROLFO,children:Ce.BUSTO_GAROLFO})]}):p.jsx("input",{type:"text",id:"work_center",value:e||"No work center selected",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),e===Ce.BOTH?c.work_center&&p.jsx("span",{className:"error-message",children:c.work_center.message}):p.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Work center is set based on your login selection"})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Capacit Tecniche"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"min_web_width",children:"Min Web Width (mm)"}),p.jsx("input",{type:"number",id:"min_web_width",...l("min_web_width"),min:"0",step:"1",className:c.min_web_width?"error":""}),c.min_web_width&&p.jsx("span",{className:"error-message",children:c.min_web_width.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"max_web_width",children:"Max Web Width (mm) *"}),p.jsx("input",{type:"number",id:"max_web_width",...l("max_web_width"),min:"0",step:"1",className:c.max_web_width?"error":""}),c.max_web_width&&p.jsx("span",{className:"error-message",children:c.max_web_width.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"min_bag_height",children:"Min Bag Height (mm)"}),p.jsx("input",{type:"number",id:"min_bag_height",...l("min_bag_height"),min:"0",step:"1",className:c.min_bag_height?"error":""}),c.min_bag_height&&p.jsx("span",{className:"error-message",children:c.min_bag_height.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"max_bag_height",children:"Max Bag Height (mm) *"}),p.jsx("input",{type:"number",id:"max_bag_height",...l("max_bag_height"),min:"0",step:"1",className:c.max_bag_height?"error":""}),c.max_bag_height&&p.jsx("span",{className:"error-message",children:c.max_bag_height.message})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Performance"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"standard_speed",children:"Standard Speed"}),p.jsx("input",{type:"number",id:"standard_speed",...l("standard_speed"),placeholder:"pz/h or mt/h",min:"0",step:"1",className:c.standard_speed?"error":""}),c.standard_speed&&p.jsx("span",{className:"error-message",children:c.standard_speed.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"setup_time_standard",children:"Setup Time Standard (h)"}),p.jsx("input",{type:"number",id:"setup_time_standard",...l("setup_time_standard"),min:"0",step:"0.1",className:c.setup_time_standard?"error":""}),c.setup_time_standard&&p.jsx("span",{className:"error-message",children:c.setup_time_standard.message})]}),y===xt.PRINTING&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"changeover_color",children:"Changeover Color (h)"}),p.jsx("input",{type:"number",id:"changeover_color",...l("changeover_color"),min:"0",step:"0.1",className:c.changeover_color?"error":""}),c.changeover_color&&p.jsx("span",{className:"error-message",children:c.changeover_color.message})]}),y===xt.PACKAGING&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"changeover_material",children:"Material Changeover (h)"}),p.jsx("input",{type:"number",id:"changeover_material",...l("changeover_material"),min:"0",step:"0.1",className:c.changeover_material?"error":""}),c.changeover_material&&p.jsx("span",{className:"error-message",children:c.changeover_material.message})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Disponibilit"}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Active Shifts"}),p.jsxs("div",{className:"checkbox-group",children:[p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",value:ua.T1,checked:v("active_shifts")?.includes(ua.T1),onChange:_})," ",ua.T1]}),p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",value:ua.T2,checked:v("active_shifts")?.includes(ua.T2),onChange:_})," ",ua.T2]}),p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",value:ua.T3,checked:v("active_shifts")?.includes(ua.T3),onChange:_})," ",ua.T3]})]})]})]}),p.jsx("div",{className:"form-actions",style:{marginTop:"20px"},children:p.jsx("button",{type:"submit",className:"nav-btn today",disabled:f,children:f?"Adding Machine...":"Add Machine"})})]})]})}function $e({row:e,column:n,table:r,value:i,isEditing:l,onChange:o,type:c="auto",options:f=[],parseValue:h=null,min:m=null,max:v=null,step:y=null}){const _=l??r?.options?.meta?.editingRowId===e?.id,w=i??e?.original?.[n?.id],S=c==="auto"?C(n?.id):c,R=A=>{const $=A.target.value;let U=$;h?U=h($):S==="number"?U=parseFloat($)||0:S==="integer"&&(U=parseInt($)||0),r?.options?.meta?.setEditedData?r.options.meta.setEditedData(Z=>({...Z,[n?.id]:U})):o&&o(A)};function C(A){if(!A)return"text";if(A==="status")return"select";if(["quantity","quantity_completed","quantity_per_box","numero_persone","bag_height","bag_width","bag_step","min_web_width","max_web_width","min_bag_height","max_bag_height"].includes(A))return"integer";const U=["setup_time_standard","changeover_color","changeover_material","t_setup_stampa","t_setup_conf"],Z=["costo_h_stampa","costo_h_conf"],J=["standard_speed","v_stampa","v_conf"];return U.includes(A)||Z.includes(A)||J.includes(A)?"number":"text"}function T(A){return A==="status"?[{value:Ln.ACTIVE,label:Ln.ACTIVE},{value:Ln.INACTIVE,label:Ln.INACTIVE},{value:Ln.MAINTENANCE,label:Ln.MAINTENANCE}]:A==="department"?[{value:xt.PRINTING,label:xt.PRINTING},{value:xt.PACKAGING,label:xt.PACKAGING}]:A==="work_center"?[{value:Ce.ZANICA,label:Ce.ZANICA},{value:Ce.BUSTO_GAROLFO,label:Ce.BUSTO_GAROLFO}]:A==="product_type"?[{value:Zi.CREMA,label:"Crema"},{value:Zi.LIQUIDO,label:"Liquido"},{value:Zi.POLVERI,label:"Polveri"}]:A==="seal_sides"?[{value:jl.THREE,label:"3 sides"},{value:jl.FOUR,label:"4 sides"}]:f}if(_)switch(S){case"select":{const A=T(n?.id);return p.jsx("select",{defaultValue:w,onChange:R,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"},children:A.map($=>p.jsx("option",{value:$.value,children:$.label},$.value))})}case"number":{const A=dl.DECIMAL_PRECISION.TWO_DECIMAL.includes(n?.id)?dl.FIELD_STEPS.COST:(dl.DECIMAL_PRECISION.ONE_DECIMAL.includes(n?.id),dl.FIELD_STEPS.TIME);return p.jsx("input",{type:"number",defaultValue:w,onChange:R,min:m,max:v,step:y||A,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}})}case"integer":return p.jsx("input",{type:"number",defaultValue:w,onChange:R,min:m||0,max:v,step:1,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}});default:return p.jsx("input",{type:"text",defaultValue:w,onChange:R,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}})}const D=w??"";return S==="number"||S==="integer"?p.jsx("span",{children:D}):p.jsx("span",{children:D})}function os({title:e,subtitle:n,children:r}){return p.jsx("div",{className:"sticky-header",children:p.jsxs("div",{className:"sticky-header-content",children:[p.jsxs("div",{className:"sticky-header-text",children:[p.jsx("h2",{className:"sticky-header-title",children:e}),n&&p.jsx("p",{className:"sticky-header-subtitle",children:n})]}),r]})})}function nO(){const{machines:e,updateMachine:n,removeMachine:r}=Ft(),{selectedWorkCenter:i,isLoading:l,isInitialized:o,showAlert:c,showConfirmDialog:f}=Te(),{init:h,cleanup:m}=Zr(),v=x.useMemo(()=>i?i===Ce.BOTH?e:e.filter(C=>C.work_center===i):[],[e,i]),{validateMachine:y}=QA(),{handleAsync:_}=Ba("MachineryPage");x.useEffect(()=>(o||h(),()=>{m()}),[h,o,m]);const w=x.useMemo(()=>[{header:"Machine ID",accessorKey:"id"},{header:"Machine Type",accessorKey:"machine_type"},{header:"Machine Name",accessorKey:"machine_name",cell:$e},{header:"Work Center",accessorKey:"work_center"},{header:"Department",accessorKey:"department"},{header:"Status",accessorKey:"status",cell:$e},{header:"Min Web (mm)",accessorKey:"min_web_width",cell:$e},{header:"Max Web (mm)",accessorKey:"max_web_width",cell:$e},{header:"Min Bag (mm)",accessorKey:"min_bag_height",cell:$e},{header:"Max Bag (mm)",accessorKey:"max_bag_height",cell:$e},{header:"Std Speed",accessorKey:"standard_speed",cell:$e},{header:"Setup (h)",accessorKey:"setup_time_standard",cell:$e},{header:"Color Change (h)",accessorKey:"changeover_color",cell:$e},{header:"Material Change (h)",accessorKey:"changeover_material",cell:$e},{header:"Active Shifts",accessorKey:"active_shifts",cell:C=>Array.isArray(C.getValue())?C.getValue().join(", "):""},{header:"Created At",accessorKey:"created_at",cell:C=>new Date(C.getValue()).toLocaleDateString()},{header:"Updated At",accessorKey:"updated_at",cell:C=>new Date(C.getValue()).toLocaleDateString()},{header:"Calendar",accessorKey:"id",cell:C=>p.jsx(xn,{to:`/machinery/${C.getValue()}/calendar`,className:"nav-btn today",style:{textDecoration:"none"},children:"View Calendar"})}],[]),S=async C=>{const T=y(C);if(T.length>0){c(`Validation errors:
${T.join(`
`)}`,"error");return}await _(()=>n(C.id,C),{context:"Update Machine",fallbackMessage:"Failed to update machine"})},R=async C=>{f("Delete Machine",`Are you sure you want to delete "${C.machine_name}"? This action cannot be undone.`,async()=>{await _(()=>r(C.id),{context:"Delete Machine",fallbackMessage:"Failed to delete machine"})},"danger")};return l?p.jsx("div",{children:"Loading machinery data..."}):i?p.jsxs(p.Fragment,{children:[p.jsx(tO,{}),p.jsxs("div",{className:"content-section",children:[p.jsx(os,{title:"Machinery Catalog"}),p.jsx(Sh,{columns:w,data:v,onSaveRow:S,onDeleteRow:R})]})]}):p.jsx("div",{className:"error",children:"Please select a work center to view machinery data."})}function aO({currentDate:e,currentView:n,onDateChange:r,onViewChange:i}){const l=()=>{r(new Date)},o=()=>{let h;n==="Month"?(h=new Date(e),h.setMonth(h.getMonth()-1)):n==="Week"?h=kl(e,-7):n==="Year"&&(h=new Date(e),h.setFullYear(h.getFullYear()-1)),r(h)},c=()=>{let h;n==="Month"?(h=new Date(e),h.setMonth(h.getMonth()+1)):n==="Week"?h=kl(e,7):n==="Year"&&(h=new Date(e),h.setFullYear(h.getFullYear()+1)),r(h)},f=()=>{if(n==="Month")return e.toLocaleDateString("en-US",{month:"long",year:"numeric"});if(n==="Week"){const h=I_(e),m=cT(e);return`${h.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${m.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}else if(n==="Year")return e.getFullYear().toString();return""};return p.jsxs("div",{className:"calendar-controls-container",children:[p.jsxs("div",{className:"calendar-navigation",children:[p.jsx("button",{className:"nav-btn today",onClick:o,"aria-label":"Previous",children:" Previous"}),p.jsx("button",{className:"nav-btn today",onClick:l,children:"Today"}),p.jsx("button",{className:"nav-btn today",onClick:c,"aria-label":"Next",children:"Next "})]}),p.jsxs("div",{className:"calendar-view-selector",children:[p.jsx("h3",{children:f()}),p.jsxs("select",{value:n,onChange:h=>i(h.target.value),children:[p.jsx("option",{value:"Month",children:"Month"}),p.jsx("option",{value:"Week",children:"Week"}),p.jsx("option",{value:"Year",children:"Year"})]})]})]})}function rO({machineId:e,currentDate:n,onSuccess:r}){const{setMachineUnavailability:i}=Ji(),{showAlert:l}=Te(),{handleAsync:o}=Ba("OffTimeForm"),c=R=>{const C={};if(R.startDate&&R.endDate){const T=new Date(R.startDate);new Date(R.endDate)<T&&(C.endDate={type:"validation",message:oy.END_DATE_BEFORE_START}),R.startDate===R.endDate&&R.startTime&&R.endTime&&R.startTime>=R.endTime&&(C.endTime={type:"validation",message:oy.END_TIME_BEFORE_START})}return{values:R,errors:Object.keys(C).length>0?C:{}}},f=async R=>{await o(async()=>{await i(e,R.startDate,R.endDate,R.startTime,R.endTime),l("Machine unavailability set successfully!","success"),r&&r(),w()},{context:"Set Machine Unavailability",fallbackMessage:"Failed to set machine unavailability"})},{register:h,handleSubmit:m,formState:{errors:v,isSubmitting:y},setValue:_,reset:w}=Vu({defaultValues:{startDate:"",startTime:"",endDate:"",endTime:""},resolver:c});x.useEffect(()=>{const R=new Date,C=kl(R,1);_("startDate",Zt(R)),_("endDate",Zt(C)),_("startTime",ut.OFF_TIME.START_TIME),_("endTime",ut.OFF_TIME.END_TIME)},[n,_]);const S=R=>{const C=v[R];return C?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:C.message}):null};return p.jsxs("div",{className:"off-time-section",children:[p.jsx("h3",{children:"Set Off-Time Period"}),p.jsxs("form",{onSubmit:m(f),className:"off-time-form",children:[p.jsxs("div",{className:"form-grid form-grid--4-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"startDate",children:"Start Date"}),p.jsx("input",{type:"date",id:"startDate",...h("startDate"),className:`date-input ${v.startDate?"error":""}`}),S("startDate")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"startTime",children:"Start Time"}),p.jsx("input",{type:"time",id:"startTime",...h("startTime"),className:`time-input ${v.startTime?"error":""}`}),S("startTime")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"endDate",children:"End Date"}),p.jsx("input",{type:"date",id:"endDate",...h("endDate"),className:`date-input ${v.endDate?"error":""}`}),S("endDate")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"endTime",children:"End Time"}),p.jsx("input",{type:"time",id:"endTime",...h("endTime"),className:`time-input ${v.endTime?"error":""}`}),S("endTime")]})]}),p.jsx("div",{className:"form-actions",children:p.jsx("button",{type:"submit",className:"nav-btn today",disabled:y,children:y?"Setting...":"Set Off-Time"})})]})]})}function iO({machineId:e,currentDate:n,currentView:r,refreshTrigger:i}){const[l,o]=x.useState(!1),[c,f]=x.useState({}),{machines:h}=Ft(),{odpOrders:m}=Dt(),{machineAvailability:v,getMachineAvailability:y,loadMachineAvailabilityForDateRange:_,toggleMachineHourAvailability:w}=Ji(),{showAlert:S}=Te();Ba("CalendarGrid");const R=h.find(X=>X.id===e);if(!R)return p.jsx("div",{className:"loading",children:"Loading machine data..."});const C=x.useMemo(()=>{if(!n)return{dates:[],dateStrings:[]};let X=[],ne=[];if(r==="Month"){const ee=n.getFullYear(),te=n.getMonth(),ie=new Date(ee,te,1),de=new Date(ee,te+1,0),fe=new Date(ie);for(;fe<=de;)X.push(new Date(fe)),ne.push(Zt(fe)),fe.setDate(fe.getDate()+1)}else if(r==="Week"){const ee=I_(n);for(let te=0;te<7;te++){const ie=new Date(ee);ie.setDate(ee.getDate()+te),X.push(ie),ne.push(Zt(ie))}}else if(r==="Year"){const ee=n.getFullYear();for(let te=0;te<12;te++){const ie=new Date(ee,te+1,0).getDate();for(let de=1;de<=ie;de++){const fe=new Date(ee,te,de);X.push(fe),ne.push(Zt(fe))}}}else X.push(n),ne.push(Zt(n));return{dates:X,dateStrings:ne}},[n,r]);x.useEffect(()=>{(async()=>{if(!(!e||!C.dateStrings.length)){o(!0);try{const ne=C.dateStrings[0],ee=C.dateStrings[C.dateStrings.length-1];await _(e,ne,ee)}catch(ne){console.error("Failed to load machine availability data:",ne)}finally{o(!1)}}})()},[e,C.dateStrings,_,i]);const T=x.useMemo(()=>R?m.filter(X=>X.status==="SCHEDULED"&&X.scheduled_machine_id===R.id):[],[R,m]),D=x.useCallback((X,ne)=>!R||T.length===0?!1:T.some(ee=>uT(ee,X,ne)),[R,T]),A=x.useCallback(X=>{const ne=v[X];if(Array.isArray(ne)){const ee=ne.find(te=>te.machine_id===e);if(ee&&ee.unavailable_hours)return Array.isArray(ee.unavailable_hours)?ee.unavailable_hours.map(te=>te.toString()):[]}return[]},[v,e]),$=x.useCallback(async(X,ne)=>{if(D(X,ne)){S("Cannot mark time slot as unavailable - it has scheduled tasks","error");return}if(!R)return;const ee=`${X}-${ne}`;f(te=>({...te,[ee]:!0}));try{await w(R.id,X,ne)}catch(te){console.error("Failed to toggle machine hour availability:",te),S("An unexpected error occurred.","error")}finally{f(te=>({...te,[ee]:!1}))}},[D,S,R,w]),U=x.useCallback(()=>{const{dates:X}=C;if(X.length===0)return null;const ne=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return p.jsxs("div",{className:"calendar-month-grid",children:[p.jsx("div",{className:"calendar-week-header",children:ne.map(ee=>p.jsx("div",{className:"week-day-header",children:ee},ee))}),p.jsx("div",{className:"calendar-days-grid",children:X.map((ee,te)=>{const ie=Zt(ee),de=A(ie),fe=ee.getMonth()===n.getMonth(),we=ee.toDateString()===new Date().toDateString(),L=Array.from({length:24},(ae,se)=>se).some(ae=>D(ie,ae));let W="calendar-day";return fe||(W+=" other-month"),we&&(W+=" today"),de.length>0&&(W+=de.length===24?" unavailable":" partially-unavailable"),L&&(W+=" has-scheduled-tasks"),p.jsxs("div",{className:W,children:[p.jsx("span",{className:"day-number",children:ee.getDate()}),de.length>0&&p.jsx("div",{className:"availability-indicator",children:de.length===24?"All Day":`${de.length}h`}),L&&p.jsx("div",{className:"scheduled-tasks-indicator",children:""})]},ie)})})]})},[C,A,n,D]),Z=x.useCallback(()=>{const{dates:X}=C;if(X.length===0)return null;const ne=Array.from({length:24},(ee,te)=>te);return p.jsxs("div",{className:"calendar-week-grid",children:[p.jsxs("div",{className:"time-column-header",children:[p.jsx("div",{className:"time-header-cell",children:"Time"}),X.map(ee=>p.jsx("div",{className:"day-header-cell",children:ee.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},ee.toISOString()))]}),ne.map(ee=>p.jsxs("div",{className:"time-row",children:[p.jsxs("div",{className:"time-label",children:[ee.toString().padStart(2,"0"),":00"]}),X.map(te=>{const ie=Zt(te),de=A(ie),fe=ee.toString(),we=de.includes(fe),L=D(ie,ee),W=`${ie}-${ee}`,ae=c[W];let se="time-slot";return we&&(se+=" unavailable"),L&&(se+=" has-scheduled-task"),ae&&(se+=" updating"),p.jsx("div",{className:se,onClick:()=>!ae&&$(ie,ee),children:p.jsx("div",{className:"time-slot-content",children:ae?"...":we?"":L?"":""})},`${ie}-${ee}`)})]},ee))]})},[C,A,D,$,c]),J=x.useCallback(()=>{const X=n.getFullYear(),ne=Array.from({length:12},(ee,te)=>te);return p.jsx("div",{className:"calendar-year-grid",children:ne.map(ee=>{const ie=new Date(X,ee,1).toLocaleDateString("en-US",{month:"short"}),de=new Date(X,ee+1,0).getDate(),fe=new Date(X,ee,1).getDay(),we=[];for(let L=0;L<fe;L++)we.push(null);for(let L=1;L<=de;L++)we.push(L);return p.jsxs("div",{className:"month-mini-calendar",children:[p.jsx("h4",{children:ie}),p.jsxs("div",{className:"mini-month-grid",children:[["S","M","T","W","T","F","S"].map((L,W)=>p.jsx("div",{className:"mini-day-header",children:L},`${ee}-${W}-${L}`)),we.map((L,W)=>{if(L===null)return p.jsx("div",{className:"mini-day empty"},`empty-${ee}-${W}`);const ae=Zt(new Date(X,ee,L)),se=A(ae),O=se.length>0;return p.jsx("div",{className:`mini-day ${O?"unavailable":""}`,title:O?`${se.length} unavailable hours`:"Available",children:L},ae)})]})]},ee)})})},[n,A]);return l?p.jsx("div",{className:"loading",children:"Loading calendar data..."}):p.jsxs("div",{className:"calendar-grid-container",children:[r==="Month"&&U(),r==="Week"&&Z(),r==="Year"&&J()]})}function sO(){const{machineId:e}=OS(),[n,r]=x.useState(new Date),[i,l]=x.useState("Month"),[o,c]=x.useState(0),{getMachineById:f}=Ft(),{getLoadingState:h,getInitializationState:m}=Te(),{init:v,cleanup:y}=Zr(),_=f(e),w=h(),S=m();if(x.useEffect(()=>(S||v(),()=>{y()}),[v,S,y]),w||!S)return p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"loading",children:"Loading machine calendar..."})});if(!_)return p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"error",children:"Machine not found"})});const R=D=>{r(D)},C=D=>{l(D)},T=()=>{c(D=>D+1)};return p.jsxs("div",{className:"content-section",children:[p.jsx(os,{title:"Machine Availability Calendar",subtitle:_.machine_name}),p.jsx(aO,{currentDate:n,currentView:i,onDateChange:R,onViewChange:C}),p.jsx(rO,{machineId:_.id,currentDate:n,onSuccess:T}),p.jsx(iO,{machineId:_.id,currentDate:n,currentView:i,refreshTrigger:o})]})}function lO(){const{selectedWorkCenter:e}=Te(),{addPhase:n}=qn(),r={name:"",department:ut.PHASE.DEPARTMENT,numero_persone:ut.PHASE.NUMERO_PERSONE,work_center:e===Ce.BOTH?"":e||ut.PHASE.WORK_CENTER,v_stampa:ut.PHASE.V_STAMPA,t_setup_stampa:ut.PHASE.T_SETUP_STAMPA,costo_h_stampa:ut.PHASE.COSTO_H_STAMPA,v_conf:ut.PHASE.V_CONF,t_setup_conf:ut.PHASE.T_SETUP_CONF,costo_h_conf:ut.PHASE.COSTO_H_CONF,contenuto_fase:""},{register:i,handleSubmit:l,formState:{errors:o,isSubmitting:c},watch:f,setValue:h}=Vu({defaultValues:r}),m=f("department");x.useEffect(()=>{m===xt.PRINTING&&(h("v_conf",0),h("t_setup_conf",0),h("costo_h_conf",0))},[m,h]);const v=y=>o[y]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:o[y].message}):null;return p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Create Phases"}),p.jsxs("form",{onSubmit:l(n),children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Add New Phase"}),p.jsxs("div",{className:"form-grid form-grid--4-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"name",children:"Phase Name *"}),p.jsx("input",{type:"text",id:"name",...i("name"),placeholder:"e.g., High-Speed Printing",className:o.name?"error":"",required:!0}),v("name")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"department",children:"Phase Type *"}),p.jsxs("select",{id:"department",...i("department"),className:o.department?"error":"",children:[p.jsx("option",{value:xt.PRINTING,children:xt.PRINTING}),p.jsx("option",{value:xt.PACKAGING,children:xt.PACKAGING})]}),v("department")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"numero_persone",children:"Number of People Required *"}),p.jsx("input",{type:"number",id:"numero_persone",...i("numero_persone"),min:"1",step:"1",className:o.numero_persone?"error":""}),v("numero_persone")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"work_center",children:"Work Center *"}),e===Ce.BOTH?p.jsxs("select",{...i("work_center",{required:"Work center is required"}),id:"work_center",className:o.work_center?"error":"",children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Ce.ZANICA,children:Ce.ZANICA}),p.jsx("option",{value:Ce.BUSTO_GAROLFO,children:Ce.BUSTO_GAROLFO})]}):p.jsx("input",{type:"text",id:"work_center",value:e||"No work center selected",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),e===Ce.BOTH?o.work_center&&p.jsx("span",{className:"error-message",children:o.work_center.message}):p.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Work center is set based on your login selection"})]})]})]}),m===xt.PRINTING&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Printing Parameters"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_stampa",children:"Printing Speed (mt/h) *"}),p.jsx("input",{type:"number",id:"v_stampa",...i("v_stampa"),min:"0",step:"1",className:o.v_stampa?"error":""}),v("v_stampa")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_stampa",children:"Setup Time (hours)"}),p.jsx("input",{type:"number",id:"t_setup_stampa",...i("t_setup_stampa"),min:"0",step:"0.1",className:o.t_setup_stampa?"error":""}),v("t_setup_stampa")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_stampa",children:"Hourly Cost (/h)"}),p.jsx("input",{type:"number",id:"costo_h_stampa",...i("costo_h_stampa"),min:"0",step:"0.01",className:o.costo_h_stampa?"error":""}),v("costo_h_stampa")]})]})]}),m===xt.PACKAGING&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Packaging Parameters"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_conf",children:"Packaging Speed (pz/h) *"}),p.jsx("input",{type:"number",id:"v_conf",...i("v_conf"),min:"0",step:"1",className:o.v_conf?"error":""}),v("v_conf")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_conf",children:"Setup Time (hours)"}),p.jsx("input",{type:"number",id:"t_setup_conf",...i("t_setup_conf"),min:"0",step:"0.1",className:o.t_setup_conf?"error":""}),v("t_setup_conf")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_conf",children:"Hourly Cost (/h)"}),p.jsx("input",{type:"number",id:"costo_h_conf",...i("costo_h_conf"),min:"0",step:"0.01",className:o.costo_h_conf?"error":""}),v("costo_h_conf")]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"contenuto_fase",children:"Phase Content Description"}),p.jsx("textarea",{id:"contenuto_fase",...i("contenuto_fase"),rows:"3",placeholder:"Describe the phase content and requirements..."})]})]}),p.jsx("div",{className:"form-actions",style:{marginTop:"20px"},children:p.jsx("button",{type:"submit",className:"nav-btn today",disabled:c,children:c?"Adding Phase...":"Add Phase"})})]})]})}function oO(){const{phases:e,updatePhase:n,removePhase:r}=qn(),{selectedWorkCenter:i,isLoading:l,isInitialized:o,showAlert:c,showConfirmDialog:f}=Te(),{init:h,cleanup:m}=Zr(),v=x.useMemo(()=>i?i===Ce.BOTH?e:e.filter(C=>C.work_center===i):[],[e,i]),{validatePhase:y}=JA(),{handleAsync:_}=Ba("PhasesPage");x.useEffect(()=>(o||h(),()=>{m()}),[h,o,m]);const w=x.useMemo(()=>[{header:"ID",accessorKey:"id"},{header:"Phase Name",accessorKey:"name",cell:$e},{header:"Department",accessorKey:"department",cell:$e},{header:"Work Center",accessorKey:"work_center",cell:$e},{header:"Print Speed (mt/h)",accessorKey:"v_stampa",cell:$e},{header:"Print Setup (h)",accessorKey:"t_setup_stampa",cell:$e},{header:"Print Cost (/h)",accessorKey:"costo_h_stampa",cell:$e},{header:"Package Speed (pz/h)",accessorKey:"v_conf",cell:$e},{header:"Package Setup (h)",accessorKey:"t_setup_conf",cell:$e},{header:"Package Cost (/h)",accessorKey:"costo_h_conf",cell:$e},{header:"# People",accessorKey:"numero_persone",cell:$e},{header:"Created At",accessorKey:"created_at",cell:C=>new Date(C.getValue()).toLocaleDateString()}],[]),S=async C=>{const T=y(C);if(T.length>0){c(`Validation errors:
${T.join(`
`)}`,"error");return}await _(()=>n(C.id,C),{context:"Update Phase",fallbackMessage:"Failed to update phase"})},R=async C=>{f("Delete Phase",`Are you sure you want to delete "${C.name}"? This action cannot be undone.`,async()=>{await _(()=>r(C.id),{context:"Delete Phase",fallbackMessage:"Failed to delete phase"})},"danger")};return l?p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"loading",children:"Loading phases data..."})}):i?p.jsxs(p.Fragment,{children:[p.jsx(lO,{}),p.jsxs("div",{className:"content-section",children:[p.jsx(os,{title:"Production Phases"}),p.jsx(Sh,{columns:w,data:v,onSaveRow:S,onDeleteRow:R})]})]}):p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"error",children:"Please select a work center to view phases data."})})}const uO=({onSuccess:e})=>{const{addOdpOrder:n}=Dt(),{showAlert:r,selectedWorkCenter:i}=Te(),{calculateProductionMetrics:l,autoDetermineWorkCenter:o,autoDetermineDepartment:c}=rb(),{handleAsync:f}=Ba("BacklogForm"),[h,m]=x.useState(null),v=x.useMemo(()=>({odp_number:"",article_code:"",production_lot:"",work_center:i===Ce.BOTH?"":i||"",nome_cliente:"",description:"",delivery_date:"",bag_height:"",bag_width:"",bag_step:"",seal_sides:ut.ORDER.SEAL_SIDES,product_type:"",quantity:"",quantity_per_box:"",quantity_completed:ut.ORDER.QUANTITY_COMPLETED,internal_customer_code:"",external_customer_code:"",customer_order_ref:"",department:"",fase:""}),[i]),{register:y,handleSubmit:_,formState:{errors:w,isSubmitting:S},watch:R,setValue:C,getValues:T,reset:D,clearErrors:A}=Vu({defaultValues:v}),$=R("article_code"),U=R("department"),Z=R("work_center"),{phaseSearch:J,setPhaseSearch:X,isDropdownVisible:ne,setIsDropdownVisible:ee,selectedPhase:te,setSelectedPhase:ie,filteredPhases:de,editablePhaseParams:fe,setEditablePhaseParams:we,handlePhaseParamChange:L,handlePhaseSelect:W,handleBlur:ae}=eO(U,Z);x.useEffect(()=>{if($){const B=c($),oe=o($);C("department",B),i===Ce.BOTH&&C("work_center",oe),C("fase",""),X(""),ie(null),we({}),m(null)}},[$,c,o,C,i]);const se=async B=>{if(!h){r("Please calculate production metrics before adding to the backlog.","warning");return}await f(async()=>{const oe={...B,duration:h.totals.duration,cost:h.totals.cost,status:"NOT SCHEDULED"};await n(oe),e&&e(),D(v),X(""),ie(null),we({}),m(null)},{context:"Add Order",fallbackMessage:"Failed to add order to backlog"})},O=B=>{W(B,C,A),m(null)},G=()=>{if(!te||!T("quantity")||!T("bag_step")){r("Please select a phase and enter Quantity and Bag Step to calculate.","warning");return}const B={...te,...fe},oe=l(B,T("quantity"),T("bag_step"));m(oe)},Q=B=>w[B]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:w[B].message}):null;return p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Create ODP"}),p.jsxs("form",{onSubmit:_(se),children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Identificazione"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"odp_number",children:"ODP Number *"}),p.jsx("input",{type:"text",id:"odp_number",...y("odp_number",{required:"ODP Number is required"}),placeholder:"ODP Number",className:w.odp_number?"error":""}),Q("odp_number")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"article_code",children:"Article Code *"}),p.jsx("input",{type:"text",id:"article_code",...y("article_code",{required:"Article Code is required"}),placeholder:"Article Code",className:w.article_code?"error":""}),Q("article_code")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"production_lot",children:"External Article Code *"}),p.jsx("input",{type:"text",id:"production_lot",...y("production_lot",{required:"External Article Code is required"}),placeholder:"External Article Code",className:w.production_lot?"error":""}),Q("production_lot")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"work_center",children:"Work Center"}),i===Ce.BOTH?p.jsxs("select",{...y("work_center",{required:"Work center is required"}),id:"work_center",className:w.work_center?"error":"",children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Ce.ZANICA,children:Ce.ZANICA}),p.jsx("option",{value:Ce.BUSTO_GAROLFO,children:Ce.BUSTO_GAROLFO})]}):p.jsx("input",{type:"text",id:"work_center",value:i||"No work center selected",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),i===Ce.BOTH?w.work_center&&p.jsx("span",{className:"error-message",children:w.work_center.message}):p.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Work center is set based on your login selection"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"nome_cliente",children:"Customer Name"}),p.jsx("input",{type:"text",id:"nome_cliente",...y("nome_cliente"),placeholder:"Customer Name"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"description",children:"Description"}),p.jsx("textarea",{id:"description",...y("description"),placeholder:"Description",rows:"2"})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Specifiche Tecniche"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"bag_height",children:"Bag Height (mm) *"}),p.jsx("input",{type:"number",id:"bag_height",...y("bag_height",{required:"Bag Height is required",min:{value:0,message:"Bag Height must be at least 0"}}),placeholder:"Bag Height",min:"0",step:"1",className:w.bag_height?"error":""}),Q("bag_height")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"bag_width",children:"Bag Width (mm) *"}),p.jsx("input",{type:"number",id:"bag_width",...y("bag_width",{required:"Bag Width is required",min:{value:0,message:"Bag Width must be at least 0"}}),placeholder:"Bag Width",min:"0",step:"1",className:w.bag_width?"error":""}),Q("bag_width")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"bag_step",children:"Bag Step (mm) *"}),p.jsx("input",{type:"number",id:"bag_step",...y("bag_step",{required:"Bag Step is required",min:{value:0,message:"Bag Step must be at least 0"}}),placeholder:"Bag Step",min:"0",step:"1",className:w.bag_step?"error":""}),Q("bag_step")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"seal_sides",children:"Seal Sides"}),p.jsxs("select",{id:"seal_sides",...y("seal_sides"),children:[p.jsx("option",{value:jl.THREE,children:"3 sides"}),p.jsx("option",{value:jl.FOUR,children:"4 sides"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"product_type",children:"Product Type *"}),p.jsxs("select",{id:"product_type",...y("product_type",{required:"Product Type is required"}),className:w.product_type?"error":"",children:[p.jsx("option",{value:"",children:"Select product type"}),p.jsx("option",{value:Zi.CREMA,children:"Crema"}),p.jsx("option",{value:Zi.LIQUIDO,children:"Liquido"}),p.jsx("option",{value:Zi.POLVERI,children:"Polveri"})]}),Q("product_type")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity",children:"Quantity *"}),p.jsx("input",{type:"number",id:"quantity",...y("quantity",{required:"Quantity is required",min:{value:0,message:"Quantity must be at least 0"}}),placeholder:"Quantity",min:"0",step:"1",className:w.quantity?"error":""}),Q("quantity")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity_per_box",children:"Qty per Box"}),p.jsx("input",{type:"number",id:"quantity_per_box",...y("quantity_per_box",{min:{value:0,message:"Quantity per Box must be at least 0"}}),placeholder:"Qty per Box",min:"0",step:"1"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity_completed",children:"Qty Completed"}),p.jsx("input",{type:"number",id:"quantity_completed",...y("quantity_completed",{min:{value:0,message:"Quantity Completed must be at least 0"}}),placeholder:"Qty Completed",min:"0",step:"1",className:w.quantity_completed?"error":""}),Q("quantity_completed")]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Dati Commerciali"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"internal_customer_code",children:"FLEXI Lot"}),p.jsx("input",{type:"text",id:"internal_customer_code",...y("internal_customer_code"),placeholder:"FLEXI Lot"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"external_customer_code",children:"Customer Lot"}),p.jsx("input",{type:"text",id:"external_customer_code",...y("external_customer_code"),placeholder:"Customer Lot"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"customer_order_ref",children:"Customer Ref"}),p.jsx("input",{type:"text",id:"customer_order_ref",...y("customer_order_ref"),placeholder:"Customer Reference"})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Dati Lavorazione & Pianificazione"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"department",children:"Department"}),p.jsx("input",{type:"text",id:"department",...y("department"),placeholder:"Department",readOnly:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"phase_search",children:"Search Production Phase *"}),p.jsxs("div",{className:"searchable-dropdown",children:[p.jsx("input",{type:"text",id:"phase_search",value:J,onChange:B=>X(B.target.value),onFocus:()=>ee(!0),onBlur:ae,placeholder:"Search Production Phase",className:w.fase?"error":""}),p.jsx("input",{type:"hidden",...y("fase",{required:"Production Phase is required"})}),Q("fase"),ne&&de.length>0&&p.jsx("div",{className:"dropdown-options",children:de.map(B=>p.jsxs("div",{className:"dropdown-option",onMouseDown:()=>O(B),children:[p.jsx("span",{className:"phase-name",children:B.name}),p.jsx("span",{className:"phase-description",children:B.contenuto_fase||"No description"})]},B.id))})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"delivery_date",children:"Delivery Date *"}),p.jsx("input",{type:"datetime-local",id:"delivery_date",...y("delivery_date",{required:"Delivery Date is required"}),className:w.delivery_date?"error":""}),Q("delivery_date")]})]})]}),te&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Selected Phase Parameters"}),p.jsx("div",{className:"form-grid form-grid--3-cols",children:te.department===xt.PRINTING?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_stampa",children:"Print Speed:"}),p.jsx("input",{type:"number",id:"v_stampa",value:fe.v_stampa||te.v_stampa||"",onChange:B=>L("v_stampa",B.target.value),placeholder:"Print Speed",min:"0"}),p.jsx("span",{className:"unit-label",children:"mt/h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_stampa",children:"Print Setup:"}),p.jsx("input",{type:"number",id:"t_setup_stampa",value:fe.t_setup_stampa||te.t_setup_stampa||"",onChange:B=>L("t_setup_stampa",B.target.value),placeholder:"Setup Time",min:"0",step:"0.1"}),p.jsx("span",{className:"unit-label",children:"h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_stampa",children:"Print Cost:"}),p.jsx("input",{type:"number",id:"costo_h_stampa",value:fe.costo_h_stampa||te.costo_h_stampa||"",onChange:B=>L("costo_h_stampa",B.target.value),placeholder:"Hourly Cost",min:"0",step:"0.01"}),p.jsx("span",{className:"unit-label",children:"/h"})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_conf",children:"Package Speed:"}),p.jsx("input",{type:"number",id:"v_conf",value:fe.v_conf||te.v_conf||"",onChange:B=>L("v_conf",B.target.value),placeholder:"Package Speed",min:"0"}),p.jsx("span",{className:"unit-label",children:"pz/h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_conf",children:"Package Setup:"}),p.jsx("input",{type:"number",id:"t_setup_conf",value:fe.t_setup_conf||te.t_setup_conf||"",onChange:B=>L("t_setup_conf",B.target.value),placeholder:"Setup Time",min:"0",step:"0.1"}),p.jsx("span",{className:"unit-label",children:"h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_conf",children:"Package Cost:"}),p.jsx("input",{type:"number",id:"costo_h_conf",value:fe.costo_h_conf||te.costo_h_conf||"",onChange:B=>L("costo_h_conf",B.target.value),placeholder:"Hourly Cost",min:"0",step:"0.01"}),p.jsx("span",{className:"unit-label",children:"/h"})]})]})})]}),h&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Production Calculation Results"}),p.jsxs("div",{className:"form-grid form-grid--2-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Total Duration (hours):"}),p.jsx("div",{className:"result-value",children:h.totals.duration.toFixed(2)})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Total Cost ():"}),p.jsx("div",{className:"result-value",children:h.totals.cost.toFixed(2)})]})]})]}),p.jsxs("div",{className:"form-actions",style:{marginTop:"20px"},children:[p.jsx("button",{type:"button",className:"nav-btn today",onClick:G,disabled:!te,children:"Calculate"}),p.jsx("button",{type:"submit",className:"nav-btn today",disabled:!h||S,children:S?"Adding to Backlog...":"Add to Backlog"})]})]})]})};function cO(){const{odpOrders:e,updateOdpOrder:n,removeOdpOrder:r}=Dt(),{machines:i}=Ft(),{phases:l}=qn(),{selectedWorkCenter:o,isLoading:c,isInitialized:f,showAlert:h,showConfirmDialog:m}=Te(),{init:v,cleanup:y}=Zr(),_=x.useMemo(()=>o?o===Ce.BOTH?e:e.filter(U=>U.work_center===o):[],[e,o]),[w,S]=Ne.useState(0),{validateOrder:R}=ZA(),{handleAsync:C}=Ba("BacklogPage");x.useEffect(()=>(f||v(),()=>{y()}),[v,f,y]);const T=()=>{S(U=>U+1)},D=x.useMemo(()=>[{header:"ID",accessorKey:"id"},{header:"ODP Number",accessorKey:"odp_number",cell:$e},{header:"Article Code",accessorKey:"article_code",cell:$e},{header:"External Article Code",accessorKey:"production_lot"},{header:"Work Center",accessorKey:"work_center",cell:$e},{header:"Customer",accessorKey:"nome_cliente"},{header:"Bag H (mm)",accessorKey:"bag_height",cell:$e},{header:"Bag W (mm)",accessorKey:"bag_width",cell:$e},{header:"Bag Step (mm)",accessorKey:"bag_step",cell:$e},{header:"Seals",accessorKey:"seal_sides",cell:$e},{header:"Product",accessorKey:"product_type",cell:$e},{header:"Qty",accessorKey:"quantity",cell:$e},{header:"Completed",accessorKey:"quantity_completed",cell:$e},{header:"Qty/Box",accessorKey:"quantity_per_box",cell:$e},{header:"N Boxes",accessorKey:"n_boxes"},{header:"Prod Start",accessorKey:"scheduled_start_time",cell:U=>U.getValue()?new Date(U.getValue()).toLocaleString():"-"},{header:"Prod End",accessorKey:"scheduled_start_time",cell:U=>{const Z=U.getValue();if(!Z)return"-";const J=U.row.original,X=J.time_remaining||J.duration||0;if(X<=0)return"-";const ne=new Date(Z),ee=ne.getTime()+X*60*60*1e3;return ne.setTime(ee),ne.toLocaleString()}},{header:"Delivery",accessorKey:"delivery_date",cell:U=>U.getValue()?new Date(U.getValue()).toLocaleString():"-"},{header:"FLEXI Lot",accessorKey:"internal_customer_code"},{header:"Customer Lot",accessorKey:"external_customer_code"},{header:"Customer Ref",accessorKey:"customer_order_ref"},{header:"Department",accessorKey:"department",cell:$e},{header:"Phase",accessorKey:"fase",cell:U=>{const Z=U.getValue(),J=l.find(X=>X.id===Z);return J?J.name:Z||"-"}},{header:"Duration (h)",accessorKey:"duration"},{header:"Cost ()",accessorKey:"cost"},{header:"Progress",accessorKey:"progress",cell:U=>`${U.getValue()||0}%`},{header:"Time Rem. (h)",accessorKey:"time_remaining"},{header:"Priority",accessorKey:"priority"},{header:"Status",accessorKey:"status"},{header:"Machine",accessorKey:"scheduled_machine_id",cell:U=>{const Z=U.getValue(),J=i.find(X=>X.id===Z);return J?J.machine_name:Z||"-"}}],[i,l]),A=async U=>{const Z=R(U);if(Z.length>0){h(`Validation errors:
${Z.join(`
`)}`,"error");return}U.scheduled_machine_id&&(U.scheduled_machine_id,U.original?.scheduled_machine_id),await C(()=>n(U.id,U),{context:"Update Order",fallbackMessage:"Failed to update order"})},$=async U=>{m("Delete Order",`Are you sure you want to delete ODP "${U.odp_number||U.id}"? This action cannot be undone.`,async()=>{await C(()=>r(U.id),{context:"Delete Order",fallbackMessage:"Failed to delete order"})},"danger")};return c?p.jsx("div",{children:"Loading backlog data..."}):o?p.jsxs(p.Fragment,{children:[p.jsx(uO,{onSuccess:T}),p.jsxs("div",{className:"content-section",children:[p.jsx(os,{title:"Production Backlog"}),p.jsx(Sh,{columns:D,data:_,onSaveRow:A,onDeleteRow:$})]})]}):p.jsx("div",{className:"error",children:"Please select a work center to view backlog data."})}const qu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function us(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function Dh(e){return"nodeType"in e}function rn(e){var n,r;return e?us(e)?e:Dh(e)&&(n=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?n:window:window}function Nh(e){const{Document:n}=rn(e);return e instanceof n}function Vl(e){return us(e)?!1:e instanceof rn(e).HTMLElement}function hb(e){return e instanceof rn(e).SVGElement}function cs(e){return e?us(e)?e.document:Dh(e)?Nh(e)?e:Vl(e)||hb(e)?e.ownerDocument:document:document:document}const Ia=qu?x.useLayoutEffect:x.useEffect;function Gu(e){const n=x.useRef(e);return Ia(()=>{n.current=e}),x.useCallback(function(){for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return n.current==null?void 0:n.current(...i)},[])}function dO(){const e=x.useRef(null),n=x.useCallback((i,l)=>{e.current=setInterval(i,l)},[]),r=x.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,r]}function Ul(e,n){n===void 0&&(n=[e]);const r=x.useRef(e);return Ia(()=>{r.current!==e&&(r.current=e)},n),r}function ql(e,n){const r=x.useRef();return x.useMemo(()=>{const i=e(r.current);return r.current=i,i},[...n])}function Nu(e){const n=Gu(e),r=x.useRef(null),i=x.useCallback(l=>{l!==r.current&&n?.(l,r.current),r.current=l},[]);return[r,i]}function ju(e){const n=x.useRef();return x.useEffect(()=>{n.current=e},[e]),n.current}let Of={};function Yu(e,n){return x.useMemo(()=>{if(n)return n;const r=Of[e]==null?0:Of[e]+1;return Of[e]=r,e+"-"+r},[e,n])}function gb(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),l=1;l<r;l++)i[l-1]=arguments[l];return i.reduce((o,c)=>{const f=Object.entries(c);for(const[h,m]of f){const v=o[h];v!=null&&(o[h]=v+e*m)}return o},{...n})}}const es=gb(1),Mu=gb(-1);function fO(e){return"clientX"in e&&"clientY"in e}function jh(e){if(!e)return!1;const{KeyboardEvent:n}=rn(e.target);return n&&e instanceof n}function hO(e){if(!e)return!1;const{TouchEvent:n}=rn(e.target);return n&&e instanceof n}function ku(e){if(hO(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:r}=e.touches[0];return{x:n,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:r}=e.changedTouches[0];return{x:n,y:r}}}return fO(e)?{x:e.clientX,y:e.clientY}:null}const Ll=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:r}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:r}=e;return"scaleX("+n+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Ll.Translate.toString(e),Ll.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:r,easing:i}=e;return n+" "+r+"ms "+i}}}),Hy="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function gO(e){return e.matches(Hy)?e:e.querySelector(Hy)}const mO={display:"none"};function pO(e){let{id:n,value:r}=e;return Ne.createElement("div",{id:n,style:mO},r)}function vO(e){let{id:n,announcement:r,ariaLiveType:i="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ne.createElement("div",{id:n,style:l,role:"status","aria-live":i,"aria-atomic":!0},r)}function yO(){const[e,n]=x.useState("");return{announce:x.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const mb=x.createContext(null);function _O(e){const n=x.useContext(mb);x.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function bO(){const[e]=x.useState(()=>new Set),n=x.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[x.useCallback(i=>{let{type:l,event:o}=i;e.forEach(c=>{var f;return(f=c[l])==null?void 0:f.call(c,o)})},[e]),n]}const wO={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},SO={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was moved over droppable area "+r.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was dropped over droppable area "+r.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function EO(e){let{announcements:n=SO,container:r,hiddenTextDescribedById:i,screenReaderInstructions:l=wO}=e;const{announce:o,announcement:c}=yO(),f=Yu("DndLiveRegion"),[h,m]=x.useState(!1);if(x.useEffect(()=>{m(!0)},[]),_O(x.useMemo(()=>({onDragStart(y){let{active:_}=y;o(n.onDragStart({active:_}))},onDragMove(y){let{active:_,over:w}=y;n.onDragMove&&o(n.onDragMove({active:_,over:w}))},onDragOver(y){let{active:_,over:w}=y;o(n.onDragOver({active:_,over:w}))},onDragEnd(y){let{active:_,over:w}=y;o(n.onDragEnd({active:_,over:w}))},onDragCancel(y){let{active:_,over:w}=y;o(n.onDragCancel({active:_,over:w}))}}),[o,n])),!h)return null;const v=Ne.createElement(Ne.Fragment,null,Ne.createElement(pO,{id:i,value:l.draggable}),Ne.createElement(vO,{id:f,announcement:c}));return r?yl.createPortal(v,r):v}var Nt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Nt||(Nt={}));function Uu(){}const Qn=Object.freeze({x:0,y:0});function xO(e,n){const r=ku(e);if(!r)return"0 0";const i={x:(r.x-n.left)/n.width*100,y:(r.y-n.top)/n.height*100};return i.x+"% "+i.y+"%"}function RO(e,n){let{data:{value:r}}=e,{data:{value:i}}=n;return i-r}function CO(e,n){if(!e||e.length===0)return null;const[r]=e;return r[n]}function TO(e,n){const r=Math.max(n.top,e.top),i=Math.max(n.left,e.left),l=Math.min(n.left+n.width,e.left+e.width),o=Math.min(n.top+n.height,e.top+e.height),c=l-i,f=o-r;if(i<l&&r<o){const h=n.width*n.height,m=e.width*e.height,v=c*f,y=v/(h+m-v);return Number(y.toFixed(4))}return 0}const AO=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e;const l=[];for(const o of i){const{id:c}=o,f=r.get(c);if(f){const h=TO(f,n);h>0&&l.push({id:c,data:{droppableContainer:o,value:h}})}}return l.sort(RO)};function OO(e,n,r){return{...e,scaleX:n&&r?n.width/r.width:1,scaleY:n&&r?n.height/r.height:1}}function pb(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:Qn}function DO(e){return function(r){for(var i=arguments.length,l=new Array(i>1?i-1:0),o=1;o<i;o++)l[o-1]=arguments[o];return l.reduce((c,f)=>({...c,top:c.top+e*f.y,bottom:c.bottom+e*f.y,left:c.left+e*f.x,right:c.right+e*f.x}),{...r})}}const NO=DO(1);function vb(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function jO(e,n,r){const i=vb(n);if(!i)return e;const{scaleX:l,scaleY:o,x:c,y:f}=i,h=e.left-c-(1-l)*parseFloat(r),m=e.top-f-(1-o)*parseFloat(r.slice(r.indexOf(" ")+1)),v=l?e.width/l:e.width,y=o?e.height/o:e.height;return{width:v,height:y,top:m,right:h+v,bottom:m+y,left:h}}const MO={ignoreTransform:!1};function Gl(e,n){n===void 0&&(n=MO);let r=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:m,transformOrigin:v}=rn(e).getComputedStyle(e);m&&(r=jO(r,m,v))}const{top:i,left:l,width:o,height:c,bottom:f,right:h}=r;return{top:i,left:l,width:o,height:c,bottom:f,right:h}}function Fy(e){return Gl(e,{ignoreTransform:!0})}function kO(e){const n=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}function UO(e,n){return n===void 0&&(n=rn(e).getComputedStyle(e)),n.position==="fixed"}function LO(e,n){n===void 0&&(n=rn(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const o=n[l];return typeof o=="string"?r.test(o):!1})}function Mh(e,n){const r=[];function i(l){if(n!=null&&r.length>=n||!l)return r;if(Nh(l)&&l.scrollingElement!=null&&!r.includes(l.scrollingElement))return r.push(l.scrollingElement),r;if(!Vl(l)||hb(l)||r.includes(l))return r;const o=rn(e).getComputedStyle(l);return l!==e&&LO(l,o)&&r.push(l),UO(l,o)?r:i(l.parentNode)}return e?i(e):r}function yb(e){const[n]=Mh(e,1);return n??null}function Df(e){return!qu||!e?null:us(e)?e:Dh(e)?Nh(e)||e===cs(e).scrollingElement?window:Vl(e)?e:null:null}function _b(e){return us(e)?e.scrollX:e.scrollLeft}function bb(e){return us(e)?e.scrollY:e.scrollTop}function eh(e){return{x:_b(e),y:bb(e)}}var Ht;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ht||(Ht={}));function wb(e){return!qu||!e?!1:e===document.scrollingElement}function Sb(e){const n={x:0,y:0},r=wb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},l=e.scrollTop<=n.y,o=e.scrollLeft<=n.x,c=e.scrollTop>=i.y,f=e.scrollLeft>=i.x;return{isTop:l,isLeft:o,isBottom:c,isRight:f,maxScroll:i,minScroll:n}}const PO={x:.2,y:.2};function HO(e,n,r,i,l){let{top:o,left:c,right:f,bottom:h}=r;i===void 0&&(i=10),l===void 0&&(l=PO);const{isTop:m,isBottom:v,isLeft:y,isRight:_}=Sb(e),w={x:0,y:0},S={x:0,y:0},R={height:n.height*l.y,width:n.width*l.x};return!m&&o<=n.top+R.height?(w.y=Ht.Backward,S.y=i*Math.abs((n.top+R.height-o)/R.height)):!v&&h>=n.bottom-R.height&&(w.y=Ht.Forward,S.y=i*Math.abs((n.bottom-R.height-h)/R.height)),!_&&f>=n.right-R.width?(w.x=Ht.Forward,S.x=i*Math.abs((n.right-R.width-f)/R.width)):!y&&c<=n.left+R.width&&(w.x=Ht.Backward,S.x=i*Math.abs((n.left+R.width-c)/R.width)),{direction:w,speed:S}}function FO(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:c}=window;return{top:0,left:0,right:o,bottom:c,width:o,height:c}}const{top:n,left:r,right:i,bottom:l}=e.getBoundingClientRect();return{top:n,left:r,right:i,bottom:l,width:e.clientWidth,height:e.clientHeight}}function Eb(e){return e.reduce((n,r)=>es(n,eh(r)),Qn)}function zO(e){return e.reduce((n,r)=>n+_b(r),0)}function IO(e){return e.reduce((n,r)=>n+bb(r),0)}function xb(e,n){if(n===void 0&&(n=Gl),!e)return;const{top:r,left:i,bottom:l,right:o}=n(e);yb(e)&&(l<=0||o<=0||r>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const $O=[["x",["left","right"],zO],["y",["top","bottom"],IO]];class kh{constructor(n,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Mh(r),l=Eb(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[o,c,f]of $O)for(const h of c)Object.defineProperty(this,h,{get:()=>{const m=f(i),v=l[o]-m;return this.rect[h]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Tl{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...r)})},this.target=n}add(n,r,i){var l;(l=this.target)==null||l.addEventListener(n,r,i),this.listeners.push([n,r,i])}}function BO(e){const{EventTarget:n}=rn(e);return e instanceof n?e:cs(e)}function Nf(e,n){const r=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(r**2+i**2)>n:"x"in n&&"y"in n?r>n.x&&i>n.y:"x"in n?r>n.x:"y"in n?i>n.y:!1}var Un;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Un||(Un={}));function zy(e){e.preventDefault()}function VO(e){e.stopPropagation()}var Je;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Je||(Je={}));const Rb={start:[Je.Space,Je.Enter],cancel:[Je.Esc],end:[Je.Space,Je.Enter,Je.Tab]},qO=(e,n)=>{let{currentCoordinates:r}=n;switch(e.code){case Je.Right:return{...r,x:r.x+25};case Je.Left:return{...r,x:r.x-25};case Je.Down:return{...r,y:r.y+25};case Je.Up:return{...r,y:r.y-25}}};class Cb{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:r}}=n;this.props=n,this.listeners=new Tl(cs(r)),this.windowListeners=new Tl(rn(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Un.Resize,this.handleCancel),this.windowListeners.add(Un.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Un.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:r}=this.props,i=n.node.current;i&&xb(i),r(Qn)}handleKeyDown(n){if(jh(n)){const{active:r,context:i,options:l}=this.props,{keyboardCodes:o=Rb,coordinateGetter:c=qO,scrollBehavior:f="smooth"}=l,{code:h}=n;if(o.end.includes(h)){this.handleEnd(n);return}if(o.cancel.includes(h)){this.handleCancel(n);return}const{collisionRect:m}=i.current,v=m?{x:m.left,y:m.top}:Qn;this.referenceCoordinates||(this.referenceCoordinates=v);const y=c(n,{active:r,context:i.current,currentCoordinates:v});if(y){const _=Mu(y,v),w={x:0,y:0},{scrollableAncestors:S}=i.current;for(const R of S){const C=n.code,{isTop:T,isRight:D,isLeft:A,isBottom:$,maxScroll:U,minScroll:Z}=Sb(R),J=FO(R),X={x:Math.min(C===Je.Right?J.right-J.width/2:J.right,Math.max(C===Je.Right?J.left:J.left+J.width/2,y.x)),y:Math.min(C===Je.Down?J.bottom-J.height/2:J.bottom,Math.max(C===Je.Down?J.top:J.top+J.height/2,y.y))},ne=C===Je.Right&&!D||C===Je.Left&&!A,ee=C===Je.Down&&!$||C===Je.Up&&!T;if(ne&&X.x!==y.x){const te=R.scrollLeft+_.x,ie=C===Je.Right&&te<=U.x||C===Je.Left&&te>=Z.x;if(ie&&!_.y){R.scrollTo({left:te,behavior:f});return}ie?w.x=R.scrollLeft-te:w.x=C===Je.Right?R.scrollLeft-U.x:R.scrollLeft-Z.x,w.x&&R.scrollBy({left:-w.x,behavior:f});break}else if(ee&&X.y!==y.y){const te=R.scrollTop+_.y,ie=C===Je.Down&&te<=U.y||C===Je.Up&&te>=Z.y;if(ie&&!_.x){R.scrollTo({top:te,behavior:f});return}ie?w.y=R.scrollTop-te:w.y=C===Je.Down?R.scrollTop-U.y:R.scrollTop-Z.y,w.y&&R.scrollBy({top:-w.y,behavior:f});break}}this.handleMove(n,es(Mu(y,this.referenceCoordinates),w))}}}handleMove(n,r){const{onMove:i}=this.props;n.preventDefault(),i(r)}handleEnd(n){const{onEnd:r}=this.props;n.preventDefault(),this.detach(),r()}handleCancel(n){const{onCancel:r}=this.props;n.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Cb.activators=[{eventName:"onKeyDown",handler:(e,n,r)=>{let{keyboardCodes:i=Rb,onActivation:l}=n,{active:o}=r;const{code:c}=e.nativeEvent;if(i.start.includes(c)){const f=o.activatorNode.current;return f&&e.target!==f?!1:(e.preventDefault(),l?.({event:e.nativeEvent}),!0)}return!1}}];function Iy(e){return!!(e&&"distance"in e)}function $y(e){return!!(e&&"delay"in e)}class Uh{constructor(n,r,i){var l;i===void 0&&(i=BO(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=r;const{event:o}=n,{target:c}=o;this.props=n,this.events=r,this.document=cs(c),this.documentListeners=new Tl(this.document),this.listeners=new Tl(i),this.windowListeners=new Tl(rn(c)),this.initialCoordinates=(l=ku(o))!=null?l:Qn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:r,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(Un.Resize,this.handleCancel),this.windowListeners.add(Un.DragStart,zy),this.windowListeners.add(Un.VisibilityChange,this.handleCancel),this.windowListeners.add(Un.ContextMenu,zy),this.documentListeners.add(Un.Keydown,this.handleKeydown),r){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if($y(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Iy(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,r){const{active:i,onPending:l}=this.props;l(i,n,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:n}=this,{onStart:r}=this.props;n&&(this.activated=!0,this.documentListeners.add(Un.Click,VO,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Un.SelectionChange,this.removeTextSelection),r(n))}handleMove(n){var r;const{activated:i,initialCoordinates:l,props:o}=this,{onMove:c,options:{activationConstraint:f}}=o;if(!l)return;const h=(r=ku(n))!=null?r:Qn,m=Mu(l,h);if(!i&&f){if(Iy(f)){if(f.tolerance!=null&&Nf(m,f.tolerance))return this.handleCancel();if(Nf(m,f.distance))return this.handleStart()}if($y(f)&&Nf(m,f.tolerance))return this.handleCancel();this.handlePending(f,m);return}n.cancelable&&n.preventDefault(),c(h)}handleEnd(){const{onAbort:n,onEnd:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleCancel(){const{onAbort:n,onCancel:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleKeydown(n){n.code===Je.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const GO={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Tb extends Uh{constructor(n){const{event:r}=n,i=cs(r.target);super(n,GO,i)}}Tb.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return!r.isPrimary||r.button!==0?!1:(i?.({event:r}),!0)}}];const YO={move:{name:"mousemove"},end:{name:"mouseup"}};var th;(function(e){e[e.RightClick=2]="RightClick"})(th||(th={}));class KO extends Uh{constructor(n){super(n,YO,cs(n.event.target))}}KO.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return r.button===th.RightClick?!1:(i?.({event:r}),!0)}}];const jf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class XO extends Uh{constructor(n){super(n,jf)}static setup(){return window.addEventListener(jf.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(jf.move.name,n)};function n(){}}}XO.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;const{touches:l}=r;return l.length>1?!1:(i?.({event:r}),!0)}}];var Al;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Al||(Al={}));var Lu;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Lu||(Lu={}));function WO(e){let{acceleration:n,activator:r=Al.Pointer,canScroll:i,draggingRect:l,enabled:o,interval:c=5,order:f=Lu.TreeOrder,pointerCoordinates:h,scrollableAncestors:m,scrollableAncestorRects:v,delta:y,threshold:_}=e;const w=ZO({delta:y,disabled:!o}),[S,R]=dO(),C=x.useRef({x:0,y:0}),T=x.useRef({x:0,y:0}),D=x.useMemo(()=>{switch(r){case Al.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case Al.DraggableRect:return l}},[r,l,h]),A=x.useRef(null),$=x.useCallback(()=>{const Z=A.current;if(!Z)return;const J=C.current.x*T.current.x,X=C.current.y*T.current.y;Z.scrollBy(J,X)},[]),U=x.useMemo(()=>f===Lu.TreeOrder?[...m].reverse():m,[f,m]);x.useEffect(()=>{if(!o||!m.length||!D){R();return}for(const Z of U){if(i?.(Z)===!1)continue;const J=m.indexOf(Z),X=v[J];if(!X)continue;const{direction:ne,speed:ee}=HO(Z,X,D,n,_);for(const te of["x","y"])w[te][ne[te]]||(ee[te]=0,ne[te]=0);if(ee.x>0||ee.y>0){R(),A.current=Z,S($,c),C.current=ee,T.current=ne;return}}C.current={x:0,y:0},T.current={x:0,y:0},R()},[n,$,i,R,o,c,JSON.stringify(D),JSON.stringify(w),S,m,U,v,JSON.stringify(_)])}const QO={x:{[Ht.Backward]:!1,[Ht.Forward]:!1},y:{[Ht.Backward]:!1,[Ht.Forward]:!1}};function ZO(e){let{delta:n,disabled:r}=e;const i=ju(n);return ql(l=>{if(r||!i||!l)return QO;const o={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[Ht.Backward]:l.x[Ht.Backward]||o.x===-1,[Ht.Forward]:l.x[Ht.Forward]||o.x===1},y:{[Ht.Backward]:l.y[Ht.Backward]||o.y===-1,[Ht.Forward]:l.y[Ht.Forward]||o.y===1}}},[r,n,i])}function JO(e,n){const r=n!=null?e.get(n):void 0,i=r?r.node.current:null;return ql(l=>{var o;return n==null?null:(o=i??l)!=null?o:null},[i,n])}function eD(e,n){return x.useMemo(()=>e.reduce((r,i)=>{const{sensor:l}=i,o=l.activators.map(c=>({eventName:c.eventName,handler:n(c.handler,i)}));return[...r,...o]},[]),[e,n])}var Pl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Pl||(Pl={}));var nh;(function(e){e.Optimized="optimized"})(nh||(nh={}));const By=new Map;function tD(e,n){let{dragging:r,dependencies:i,config:l}=n;const[o,c]=x.useState(null),{frequency:f,measure:h,strategy:m}=l,v=x.useRef(e),y=C(),_=Ul(y),w=x.useCallback(function(T){T===void 0&&(T=[]),!_.current&&c(D=>D===null?T:D.concat(T.filter(A=>!D.includes(A))))},[_]),S=x.useRef(null),R=ql(T=>{if(y&&!r)return By;if(!T||T===By||v.current!==e||o!=null){const D=new Map;for(let A of e){if(!A)continue;if(o&&o.length>0&&!o.includes(A.id)&&A.rect.current){D.set(A.id,A.rect.current);continue}const $=A.node.current,U=$?new kh(h($),$):null;A.rect.current=U,U&&D.set(A.id,U)}return D}return T},[e,o,r,y,h]);return x.useEffect(()=>{v.current=e},[e]),x.useEffect(()=>{y||w()},[r,y]),x.useEffect(()=>{o&&o.length>0&&c(null)},[JSON.stringify(o)]),x.useEffect(()=>{y||typeof f!="number"||S.current!==null||(S.current=setTimeout(()=>{w(),S.current=null},f))},[f,y,w,...i]),{droppableRects:R,measureDroppableContainers:w,measuringScheduled:o!=null};function C(){switch(m){case Pl.Always:return!1;case Pl.BeforeDragging:return r;default:return!r}}}function Lh(e,n){return ql(r=>e?r||(typeof n=="function"?n(e):e):null,[n,e])}function nD(e,n){return Lh(e,n)}function aD(e){let{callback:n,disabled:r}=e;const i=Gu(n),l=x.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(i)},[i,r]);return x.useEffect(()=>()=>l?.disconnect(),[l]),l}function Ku(e){let{callback:n,disabled:r}=e;const i=Gu(n),l=x.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(i)},[r]);return x.useEffect(()=>()=>l?.disconnect(),[l]),l}function rD(e){return new kh(Gl(e),e)}function Vy(e,n,r){n===void 0&&(n=rD);const[i,l]=x.useState(null);function o(){l(h=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=h??r)!=null?m:null}const v=n(e);return JSON.stringify(h)===JSON.stringify(v)?h:v})}const c=aD({callback(h){if(e)for(const m of h){const{type:v,target:y}=m;if(v==="childList"&&y instanceof HTMLElement&&y.contains(e)){o();break}}}}),f=Ku({callback:o});return Ia(()=>{o(),e?(f?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(f?.disconnect(),c?.disconnect())},[e]),i}function iD(e){const n=Lh(e);return pb(e,n)}const qy=[];function sD(e){const n=x.useRef(e),r=ql(i=>e?i&&i!==qy&&e&&n.current&&e.parentNode===n.current.parentNode?i:Mh(e):qy,[e]);return x.useEffect(()=>{n.current=e},[e]),r}function lD(e){const[n,r]=x.useState(null),i=x.useRef(e),l=x.useCallback(o=>{const c=Df(o.target);c&&r(f=>f?(f.set(c,eh(c)),new Map(f)):null)},[]);return x.useEffect(()=>{const o=i.current;if(e!==o){c(o);const f=e.map(h=>{const m=Df(h);return m?(m.addEventListener("scroll",l,{passive:!0}),[m,eh(m)]):null}).filter(h=>h!=null);r(f.length?new Map(f):null),i.current=e}return()=>{c(e),c(o)};function c(f){f.forEach(h=>{const m=Df(h);m?.removeEventListener("scroll",l)})}},[l,e]),x.useMemo(()=>e.length?n?Array.from(n.values()).reduce((o,c)=>es(o,c),Qn):Eb(e):Qn,[e,n])}function Gy(e,n){n===void 0&&(n=[]);const r=x.useRef(null);return x.useEffect(()=>{r.current=null},n),x.useEffect(()=>{const i=e!==Qn;i&&!r.current&&(r.current=e),!i&&r.current&&(r.current=null)},[e]),r.current?Mu(e,r.current):Qn}function oD(e){x.useEffect(()=>{if(!qu)return;const n=e.map(r=>{let{sensor:i}=r;return i.setup==null?void 0:i.setup()});return()=>{for(const r of n)r?.()}},e.map(n=>{let{sensor:r}=n;return r}))}function uD(e,n){return x.useMemo(()=>e.reduce((r,i)=>{let{eventName:l,handler:o}=i;return r[l]=c=>{o(c,n)},r},{}),[e,n])}function Ab(e){return x.useMemo(()=>e?kO(e):null,[e])}const Yy=[];function cD(e,n){n===void 0&&(n=Gl);const[r]=e,i=Ab(r?rn(r):null),[l,o]=x.useState(Yy);function c(){o(()=>e.length?e.map(h=>wb(h)?i:new kh(n(h),h)):Yy)}const f=Ku({callback:c});return Ia(()=>{f?.disconnect(),c(),e.forEach(h=>f?.observe(h))},[e]),l}function Ob(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return Vl(n)?n:e}function dD(e){let{measure:n}=e;const[r,i]=x.useState(null),l=x.useCallback(m=>{for(const{target:v}of m)if(Vl(v)){i(y=>{const _=n(v);return y?{...y,width:_.width,height:_.height}:_});break}},[n]),o=Ku({callback:l}),c=x.useCallback(m=>{const v=Ob(m);o?.disconnect(),v&&o?.observe(v),i(v?n(v):null)},[n,o]),[f,h]=Nu(c);return x.useMemo(()=>({nodeRef:f,rect:r,setRef:h}),[r,f,h])}const fD=[{sensor:Tb,options:{}},{sensor:Cb,options:{}}],hD={current:{}},Su={draggable:{measure:Fy},droppable:{measure:Fy,strategy:Pl.WhileDragging,frequency:nh.Optimized},dragOverlay:{measure:Gl}};class Ol extends Map{get(n){var r;return n!=null&&(r=super.get(n))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:r}=n;return!r})}getNodeFor(n){var r,i;return(r=(i=this.get(n))==null?void 0:i.node.current)!=null?r:void 0}}const gD={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ol,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Uu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Su,measureDroppableContainers:Uu,windowRect:null,measuringScheduled:!1},Db={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Uu,draggableNodes:new Map,over:null,measureDroppableContainers:Uu},Yl=x.createContext(Db),Nb=x.createContext(gD);function mD(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ol}}}function pD(e,n){switch(n.type){case Nt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case Nt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case Nt.DragEnd:case Nt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Nt.RegisterDroppable:{const{element:r}=n,{id:i}=r,l=new Ol(e.droppable.containers);return l.set(i,r),{...e,droppable:{...e.droppable,containers:l}}}case Nt.SetDroppableDisabled:{const{id:r,key:i,disabled:l}=n,o=e.droppable.containers.get(r);if(!o||i!==o.key)return e;const c=new Ol(e.droppable.containers);return c.set(r,{...o,disabled:l}),{...e,droppable:{...e.droppable,containers:c}}}case Nt.UnregisterDroppable:{const{id:r,key:i}=n,l=e.droppable.containers.get(r);if(!l||i!==l.key)return e;const o=new Ol(e.droppable.containers);return o.delete(r),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function vD(e){let{disabled:n}=e;const{active:r,activatorEvent:i,draggableNodes:l}=x.useContext(Yl),o=ju(i),c=ju(r?.id);return x.useEffect(()=>{if(!n&&!i&&o&&c!=null){if(!jh(o)||document.activeElement===o.target)return;const f=l.get(c);if(!f)return;const{activatorNode:h,node:m}=f;if(!h.current&&!m.current)return;requestAnimationFrame(()=>{for(const v of[h.current,m.current]){if(!v)continue;const y=gO(v);if(y){y.focus();break}}})}},[i,n,l,c,o]),null}function jb(e,n){let{transform:r,...i}=n;return e!=null&&e.length?e.reduce((l,o)=>o({transform:l,...i}),r):r}function yD(e){return x.useMemo(()=>({draggable:{...Su.draggable,...e?.draggable},droppable:{...Su.droppable,...e?.droppable},dragOverlay:{...Su.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function _D(e){let{activeNode:n,measure:r,initialRect:i,config:l=!0}=e;const o=x.useRef(!1),{x:c,y:f}=typeof l=="boolean"?{x:l,y:l}:l;Ia(()=>{if(!c&&!f||!n){o.current=!1;return}if(o.current||!i)return;const m=n?.node.current;if(!m||m.isConnected===!1)return;const v=r(m),y=pb(v,i);if(c||(y.x=0),f||(y.y=0),o.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const _=yb(m);_&&_.scrollBy({top:y.y,left:y.x})}},[n,c,f,i,r])}const Xu=x.createContext({...Qn,scaleX:1,scaleY:1});var yr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(yr||(yr={}));const bD=x.memo(function(n){var r,i,l,o;let{id:c,accessibility:f,autoScroll:h=!0,children:m,sensors:v=fD,collisionDetection:y=AO,measuring:_,modifiers:w,...S}=n;const R=x.useReducer(pD,void 0,mD),[C,T]=R,[D,A]=bO(),[$,U]=x.useState(yr.Uninitialized),Z=$===yr.Initialized,{draggable:{active:J,nodes:X,translate:ne},droppable:{containers:ee}}=C,te=J!=null?X.get(J):null,ie=x.useRef({initial:null,translated:null}),de=x.useMemo(()=>{var ft;return J!=null?{id:J,data:(ft=te?.data)!=null?ft:hD,rect:ie}:null},[J,te]),fe=x.useRef(null),[we,L]=x.useState(null),[W,ae]=x.useState(null),se=Ul(S,Object.values(S)),O=Yu("DndDescribedBy",c),G=x.useMemo(()=>ee.getEnabled(),[ee]),Q=yD(_),{droppableRects:B,measureDroppableContainers:oe,measuringScheduled:Se}=tD(G,{dragging:Z,dependencies:[ne.x,ne.y],config:Q.droppable}),ce=JO(X,J),Fe=x.useMemo(()=>W?ku(W):null,[W]),ye=fs(),mt=nD(ce,Q.draggable.measure);_D({activeNode:J!=null?X.get(J):null,config:ye.layoutShiftCompensation,initialRect:mt,measure:Q.draggable.measure});const at=Vy(ce,Q.draggable.measure,mt),sn=Vy(ce?ce.parentElement:null),_t=x.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:B,draggableNodes:X,draggingNode:null,draggingNodeRect:null,droppableContainers:ee,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Va=ee.getNodeFor((r=_t.current.over)==null?void 0:r.id),ln=dD({measure:Q.dragOverlay.measure}),ha=(i=ln.nodeRef.current)!=null?i:ce,Jn=Z?(l=ln.rect)!=null?l:at:null,Jt=!!(ln.nodeRef.current&&ln.rect),ds=iD(Jt?null:at),ga=Ab(ha?rn(ha):null),j=sD(Z?Va??ce:null),H=cD(j),V=jb(w,{transform:{x:ne.x-ds.x,y:ne.y-ds.y,scaleX:1,scaleY:1},activatorEvent:W,active:de,activeNodeRect:at,containerNodeRect:sn,draggingNodeRect:Jn,over:_t.current.over,overlayNodeRect:ln.rect,scrollableAncestors:j,scrollableAncestorRects:H,windowRect:ga}),ue=Fe?es(Fe,ne):null,le=lD(j),re=Gy(le),ge=Gy(le,[at]),_e=es(V,re),Ae=Jn?NO(Jn,V):null,ze=de&&Ae?y({active:de,collisionRect:Ae,droppableRects:B,droppableContainers:G,pointerCoordinates:ue}):null,ma=CO(ze,"id"),[Rt,Jr]=x.useState(null),ea=Jt?V:es(V,ge),ta=OO(ea,(o=Rt?.rect)!=null?o:null,at),hn=x.useRef(null),na=x.useCallback((ft,en)=>{let{sensor:qt,options:Hn}=en;if(fe.current==null)return;const Gt=X.get(fe.current);if(!Gt)return;const zt=ft.nativeEvent,gn=new qt({active:fe.current,activeNode:Gt,event:zt,options:Hn,context:_t,onAbort(et){if(!X.get(et))return;const{onDragAbort:it}=se.current,Yt={id:et};it?.(Yt),D({type:"onDragAbort",event:Yt})},onPending(et,rt,it,Yt){if(!X.get(et))return;const{onDragPending:Cr}=se.current,aa={id:et,constraint:rt,initialCoordinates:it,offset:Yt};Cr?.(aa),D({type:"onDragPending",event:aa})},onStart(et){const rt=fe.current;if(rt==null)return;const it=X.get(rt);if(!it)return;const{onDragStart:Yt}=se.current,va={activatorEvent:zt,active:{id:rt,data:it.data,rect:ie}};yl.unstable_batchedUpdates(()=>{Yt?.(va),U(yr.Initializing),T({type:Nt.DragStart,initialCoordinates:et,active:rt}),D({type:"onDragStart",event:va}),L(hn.current),ae(zt)})},onMove(et){T({type:Nt.DragMove,coordinates:et})},onEnd:qa(Nt.DragEnd),onCancel:qa(Nt.DragCancel)});hn.current=gn;function qa(et){return async function(){const{active:it,collisions:Yt,over:va,scrollAdjustedTranslate:Cr}=_t.current;let aa=null;if(it&&Cr){const{cancelDrop:Ga}=se.current;aa={activatorEvent:zt,active:it,collisions:Yt,delta:Cr,over:va},et===Nt.DragEnd&&typeof Ga=="function"&&await Promise.resolve(Ga(aa))&&(et=Nt.DragCancel)}fe.current=null,yl.unstable_batchedUpdates(()=>{T({type:et}),U(yr.Uninitialized),Jr(null),L(null),ae(null),hn.current=null;const Ga=et===Nt.DragEnd?"onDragEnd":"onDragCancel";if(aa){const ya=se.current[Ga];ya?.(aa),D({type:Ga,event:aa})}})}}},[X]),pa=x.useCallback((ft,en)=>(qt,Hn)=>{const Gt=qt.nativeEvent,zt=X.get(Hn);if(fe.current!==null||!zt||Gt.dndKit||Gt.defaultPrevented)return;const gn={active:zt};ft(qt,en.options,gn)===!0&&(Gt.dndKit={capturedBy:en.sensor},fe.current=Hn,na(qt,en))},[X,na]),Rr=eD(v,pa);oD(v),Ia(()=>{at&&$===yr.Initializing&&U(yr.Initialized)},[at,$]),x.useEffect(()=>{const{onDragMove:ft}=se.current,{active:en,activatorEvent:qt,collisions:Hn,over:Gt}=_t.current;if(!en||!qt)return;const zt={active:en,activatorEvent:qt,collisions:Hn,delta:{x:_e.x,y:_e.y},over:Gt};yl.unstable_batchedUpdates(()=>{ft?.(zt),D({type:"onDragMove",event:zt})})},[_e.x,_e.y]),x.useEffect(()=>{const{active:ft,activatorEvent:en,collisions:qt,droppableContainers:Hn,scrollAdjustedTranslate:Gt}=_t.current;if(!ft||fe.current==null||!en||!Gt)return;const{onDragOver:zt}=se.current,gn=Hn.get(ma),qa=gn&&gn.rect.current?{id:gn.id,rect:gn.rect.current,data:gn.data,disabled:gn.disabled}:null,et={active:ft,activatorEvent:en,collisions:qt,delta:{x:Gt.x,y:Gt.y},over:qa};yl.unstable_batchedUpdates(()=>{Jr(qa),zt?.(et),D({type:"onDragOver",event:et})})},[ma]),Ia(()=>{_t.current={activatorEvent:W,active:de,activeNode:ce,collisionRect:Ae,collisions:ze,droppableRects:B,draggableNodes:X,draggingNode:ha,draggingNodeRect:Jn,droppableContainers:ee,over:Rt,scrollableAncestors:j,scrollAdjustedTranslate:_e},ie.current={initial:Jn,translated:Ae}},[de,ce,ze,Ae,X,ha,Jn,B,ee,Rt,j,_e]),WO({...ye,delta:ne,draggingRect:Ae,pointerCoordinates:ue,scrollableAncestors:j,scrollableAncestorRects:H});const Kl=x.useMemo(()=>({active:de,activeNode:ce,activeNodeRect:at,activatorEvent:W,collisions:ze,containerNodeRect:sn,dragOverlay:ln,draggableNodes:X,droppableContainers:ee,droppableRects:B,over:Rt,measureDroppableContainers:oe,scrollableAncestors:j,scrollableAncestorRects:H,measuringConfiguration:Q,measuringScheduled:Se,windowRect:ga}),[de,ce,at,W,ze,sn,ln,X,ee,B,Rt,oe,j,H,Q,Se,ga]),Xl=x.useMemo(()=>({activatorEvent:W,activators:Rr,active:de,activeNodeRect:at,ariaDescribedById:{draggable:O},dispatch:T,draggableNodes:X,over:Rt,measureDroppableContainers:oe}),[W,Rr,de,at,T,O,X,Rt,oe]);return Ne.createElement(mb.Provider,{value:A},Ne.createElement(Yl.Provider,{value:Xl},Ne.createElement(Nb.Provider,{value:Kl},Ne.createElement(Xu.Provider,{value:ta},m)),Ne.createElement(vD,{disabled:f?.restoreFocus===!1})),Ne.createElement(EO,{...f,hiddenTextDescribedById:O}));function fs(){const ft=we?.autoScrollEnabled===!1,en=typeof h=="object"?h.enabled===!1:h===!1,qt=Z&&!ft&&!en;return typeof h=="object"?{...h,enabled:qt}:{enabled:qt}}}),wD=x.createContext(null),Ky="button",SD="Draggable";function s1(e){let{id:n,data:r,disabled:i=!1,attributes:l}=e;const o=Yu(SD),{activators:c,activatorEvent:f,active:h,activeNodeRect:m,ariaDescribedById:v,draggableNodes:y,over:_}=x.useContext(Yl),{role:w=Ky,roleDescription:S="draggable",tabIndex:R=0}=l??{},C=h?.id===n,T=x.useContext(C?Xu:wD),[D,A]=Nu(),[$,U]=Nu(),Z=uD(c,n),J=Ul(r);Ia(()=>(y.set(n,{id:n,key:o,node:D,activatorNode:$,data:J}),()=>{const ne=y.get(n);ne&&ne.key===o&&y.delete(n)}),[y,n]);const X=x.useMemo(()=>({role:w,tabIndex:R,"aria-disabled":i,"aria-pressed":C&&w===Ky?!0:void 0,"aria-roledescription":S,"aria-describedby":v.draggable}),[i,w,R,C,S,v.draggable]);return{active:h,activatorEvent:f,activeNodeRect:m,attributes:X,isDragging:C,listeners:i?void 0:Z,node:D,over:_,setNodeRef:A,setActivatorNodeRef:U,transform:T}}function ED(){return x.useContext(Nb)}const xD="Droppable",RD={timeout:25};function l1(e){let{data:n,disabled:r=!1,id:i,resizeObserverConfig:l}=e;const o=Yu(xD),{active:c,dispatch:f,over:h,measureDroppableContainers:m}=x.useContext(Yl),v=x.useRef({disabled:r}),y=x.useRef(!1),_=x.useRef(null),w=x.useRef(null),{disabled:S,updateMeasurementsFor:R,timeout:C}={...RD,...l},T=Ul(R??i),D=x.useCallback(()=>{if(!y.current){y.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{m(Array.isArray(T.current)?T.current:[T.current]),w.current=null},C)},[C]),A=Ku({callback:D,disabled:S||!c}),$=x.useCallback((X,ne)=>{A&&(ne&&(A.unobserve(ne),y.current=!1),X&&A.observe(X))},[A]),[U,Z]=Nu($),J=Ul(n);return x.useEffect(()=>{!A||!U.current||(A.disconnect(),y.current=!1,A.observe(U.current))},[U,A]),x.useEffect(()=>(f({type:Nt.RegisterDroppable,element:{id:i,key:o,disabled:r,node:U,rect:_,data:J}}),()=>f({type:Nt.UnregisterDroppable,key:o,id:i})),[i]),x.useEffect(()=>{r!==v.current.disabled&&(f({type:Nt.SetDroppableDisabled,id:i,key:o,disabled:r}),v.current.disabled=r)},[i,o,r,f]),{active:c,rect:_,isOver:h?.id===i,node:U,over:h,setNodeRef:Z}}function CD(e){let{animation:n,children:r}=e;const[i,l]=x.useState(null),[o,c]=x.useState(null),f=ju(r);return!r&&!i&&f&&l(f),Ia(()=>{if(!o)return;const h=i?.key,m=i?.props.id;if(h==null||m==null){l(null);return}Promise.resolve(n(m,o)).then(()=>{l(null)})},[n,i,o]),Ne.createElement(Ne.Fragment,null,r,i?x.cloneElement(i,{ref:c}):null)}const TD={x:0,y:0,scaleX:1,scaleY:1};function AD(e){let{children:n}=e;return Ne.createElement(Yl.Provider,{value:Db},Ne.createElement(Xu.Provider,{value:TD},n))}const OD={position:"fixed",touchAction:"none"},DD=e=>jh(e)?"transform 250ms ease":void 0,ND=x.forwardRef((e,n)=>{let{as:r,activatorEvent:i,adjustScale:l,children:o,className:c,rect:f,style:h,transform:m,transition:v=DD}=e;if(!f)return null;const y=l?m:{...m,scaleX:1,scaleY:1},_={...OD,width:f.width,height:f.height,top:f.top,left:f.left,transform:Ll.Transform.toString(y),transformOrigin:l&&i?xO(i,f):void 0,transition:typeof v=="function"?v(i):v,...h};return Ne.createElement(r,{className:c,style:_,ref:n},o)}),jD=e=>n=>{let{active:r,dragOverlay:i}=n;const l={},{styles:o,className:c}=e;if(o!=null&&o.active)for(const[f,h]of Object.entries(o.active))h!==void 0&&(l[f]=r.node.style.getPropertyValue(f),r.node.style.setProperty(f,h));if(o!=null&&o.dragOverlay)for(const[f,h]of Object.entries(o.dragOverlay))h!==void 0&&i.node.style.setProperty(f,h);return c!=null&&c.active&&r.node.classList.add(c.active),c!=null&&c.dragOverlay&&i.node.classList.add(c.dragOverlay),function(){for(const[h,m]of Object.entries(l))r.node.style.setProperty(h,m);c!=null&&c.active&&r.node.classList.remove(c.active)}},MD=e=>{let{transform:{initial:n,final:r}}=e;return[{transform:Ll.Transform.toString(n)},{transform:Ll.Transform.toString(r)}]},kD={duration:250,easing:"ease",keyframes:MD,sideEffects:jD({styles:{active:{opacity:"0"}}})};function UD(e){let{config:n,draggableNodes:r,droppableContainers:i,measuringConfiguration:l}=e;return Gu((o,c)=>{if(n===null)return;const f=r.get(o);if(!f)return;const h=f.node.current;if(!h)return;const m=Ob(c);if(!m)return;const{transform:v}=rn(c).getComputedStyle(c),y=vb(v);if(!y)return;const _=typeof n=="function"?n:LD(n);return xb(h,l.draggable.measure),_({active:{id:o,data:f.data,node:h,rect:l.draggable.measure(h)},draggableNodes:r,dragOverlay:{node:c,rect:l.dragOverlay.measure(m)},droppableContainers:i,measuringConfiguration:l,transform:y})})}function LD(e){const{duration:n,easing:r,sideEffects:i,keyframes:l}={...kD,...e};return o=>{let{active:c,dragOverlay:f,transform:h,...m}=o;if(!n)return;const v={x:f.rect.left-c.rect.left,y:f.rect.top-c.rect.top},y={scaleX:h.scaleX!==1?c.rect.width*h.scaleX/f.rect.width:1,scaleY:h.scaleY!==1?c.rect.height*h.scaleY/f.rect.height:1},_={x:h.x-v.x,y:h.y-v.y,...y},w=l({...m,active:c,dragOverlay:f,transform:{initial:h,final:_}}),[S]=w,R=w[w.length-1];if(JSON.stringify(S)===JSON.stringify(R))return;const C=i?.({active:c,dragOverlay:f,...m}),T=f.node.animate(w,{duration:n,easing:r,fill:"forwards"});return new Promise(D=>{T.onfinish=()=>{C?.(),D()}})}}let Xy=0;function PD(e){return x.useMemo(()=>{if(e!=null)return Xy++,Xy},[e])}const HD=Ne.memo(e=>{let{adjustScale:n=!1,children:r,dropAnimation:i,style:l,transition:o,modifiers:c,wrapperElement:f="div",className:h,zIndex:m=999}=e;const{activatorEvent:v,active:y,activeNodeRect:_,containerNodeRect:w,draggableNodes:S,droppableContainers:R,dragOverlay:C,over:T,measuringConfiguration:D,scrollableAncestors:A,scrollableAncestorRects:$,windowRect:U}=ED(),Z=x.useContext(Xu),J=PD(y?.id),X=jb(c,{activatorEvent:v,active:y,activeNodeRect:_,containerNodeRect:w,draggingNodeRect:C.rect,over:T,overlayNodeRect:C.rect,scrollableAncestors:A,scrollableAncestorRects:$,transform:Z,windowRect:U}),ne=Lh(_),ee=UD({config:i,draggableNodes:S,droppableContainers:R,measuringConfiguration:D}),te=ne?C.setRef:void 0;return Ne.createElement(AD,null,Ne.createElement(CD,{animation:ee},y&&J?Ne.createElement(ND,{key:J,id:y.id,ref:te,as:f,activatorEvent:v,adjustScale:n,className:h,transition:o,rect:ne,style:{zIndex:m,...l},transform:X},r):null))});function yu({label:e,options:n,selectedOptions:r,onSelectionChange:i,searchPlaceholder:l,id:o,width:c="200px"}){const[f,h]=x.useState(!1),[m,v]=x.useState(""),y=x.useRef(null);x.useEffect(()=>{const D=A=>{y.current&&!y.current.contains(A.target)&&h(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const _=n.filter(D=>D.toLowerCase().includes(m.toLowerCase())),w=_.length>0&&_.every(D=>r.includes(D)),S=D=>{if(D.preventDefault(),D.stopPropagation(),w){const A=r.filter($=>!_.includes($));i(A)}else{const A=[...new Set([...r,..._])];i(A)}},R=(D,A)=>{if(D.preventDefault(),D.stopPropagation(),r.includes(A)){const $=r.filter(U=>U!==A);i($)}else{const $=[...r.filter(U=>U!==""),A];i($)}},C=()=>{h(!0)},T=D=>{v(D.target.value)};return p.jsxs("div",{className:"searchable-dropdown",ref:y,style:{width:c},children:[p.jsxs("label",{htmlFor:o,children:[e,":"]}),p.jsx("input",{type:"text",id:o,value:m,onChange:T,onFocus:C,placeholder:l}),f&&n.length>0&&p.jsxs("div",{className:"dropdown-options",children:[p.jsxs("div",{className:`dropdown-option ${w?"selected":""}`,onMouseDown:S,children:[p.jsxs("span",{className:"phase-name",children:["All ",e,"s"]}),p.jsxs("span",{className:"phase-description",children:["Show all ",e.toLowerCase(),"s"]})]}),_.map(D=>p.jsxs("div",{className:`dropdown-option ${r.includes(D)?"selected":""}`,onMouseDown:A=>R(A,D),children:[p.jsx("span",{className:"phase-name",children:D}),p.jsx("span",{className:"phase-description",children:e})]},D))]})]})}const FD=x.lazy(()=>Wr(()=>import("./TaskPool-DXWiioNm.js"),[])),zD=x.lazy(()=>Wr(()=>import("./GanttChart-B2tUqQVo.js"),[])),Wy=()=>p.jsx("div",{className:"loading",children:"Loading scheduler components..."});function ID(){const{machines:e}=Ft(),{selectedWorkCenter:n,isLoading:r,isInitialized:i,showAlert:l}=Te(),{scheduleTask:o,unscheduleTask:c,scheduleTaskFromSlot:f,rescheduleTaskToSlot:h,validateSlotAvailability:m}=Ji(),{init:v,cleanup:y}=Zr(),[_,w]=x.useState(new Date),[S,R]=x.useState(null),[C,T]=x.useState([]),[D,A]=x.useState([]),[$,U]=x.useState([]),[Z,J]=x.useState([]);x.useEffect(()=>(i||v(),()=>{y()}),[v,i,y]);const X=x.useMemo(()=>{if(performance.now(),!e||e.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};let ae=e;n&&n!==Ce.BOTH&&(ae=e.filter(ye=>ye.work_center===n));const se=ae.filter(ye=>ye.status===Ln.ACTIVE);if(se.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};const O=new Set,G=new Set,Q=new Set,B=new Set;for(const ye of se)ye.work_center&&O.add(ye.work_center),ye.department&&G.add(ye.department),ye.machine_type&&Q.add(ye.machine_type),ye.machine_name&&B.add(ye.machine_name);const oe=Array.from(O).sort(),Se=Array.from(G).sort(),ce=Array.from(Q).sort(),Fe=Array.from(B).sort();return performance.now(),{activeMachines:se,workCenters:oe,departments:Se,machineTypes:ce,machineNames:Fe}},[e,n]),ne=x.useMemo(()=>{const{activeMachines:ae}=X;let se=ae;return C.length>0&&(se=se.filter(O=>C.includes(O.work_center))),D.length>0&&(se=se.filter(O=>D.includes(O.department))),$.length>0&&(se=se.filter(O=>$.includes(O.machine_type))),Z.length>0&&(se=se.filter(O=>Z.includes(O.machine_name))),se},[X,C,D,$,Z]),ee=x.useCallback(ae=>{w(se=>{const O=new Date(se);return ae==="today"?new Date:ae==="prev"?(O.setDate(O.getDate()-1),O):ae==="next"?(O.setDate(O.getDate()+1),O):se})},[]),te=x.useCallback(()=>{const ae=new Date;return _.toDateString()===ae.toDateString()?"Today":_.toLocaleDateString("en-US",{month:"long",day:"numeric"})},[_]),ie=x.useCallback(()=>{T([]),A([]),U([]),J([])},[]),de=x.useRef(null),fe=x.useRef(!1),we=x.useCallback(ae=>{performance.now();const se=ae.active.data.current;se.type==="task"?R(se.task):se.type==="event"&&R(se.event)},[]),L=x.useCallback(ae=>{const{over:se}=ae;if(document.querySelectorAll(".drop-indicator").forEach(G=>G.remove()),se&&se.data.current?.type==="slot"){const{machine:G,hour:Q,minute:B,isUnavailable:oe,hasScheduledTask:Se}=se.data.current;if(oe||Se)return;const ce=document.querySelector(`[data-hour="${Q}"][data-minute="${B}"][data-machine-id="${G.id}"]`);if(ce){const Fe=document.createElement("div");Fe.className="drop-indicator",Fe.style.cssText=`
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          border: 3px dashed #007bff;
          background: rgba(0, 123, 255, 0.1);
          pointer-events: none;
          z-index: 1000;
          border-radius: 4px;
        `,ce.style.position="relative",ce.appendChild(Fe)}}},[]),W=x.useCallback(async ae=>{if(performance.now(),de.current&&clearTimeout(de.current),fe.current)return;R(null),document.querySelectorAll(".drop-indicator").forEach(oe=>oe.remove());const{over:O,active:G}=ae;if(!O)return;const Q=G.data.current,B=O.data.current;if(!(!Q||!B)){fe.current=!0;try{await new Promise(oe=>{requestAnimationFrame(async()=>{const Se=performance.now();if(Q.type==="task"&&B.type==="slot"){const ce=Q.task,{machine:Fe,hour:ye,minute:mt,isUnavailable:at,hasScheduledTask:sn}=B;if(at)return l("Cannot schedule task on unavailable time slot","error"),oe();if(sn)return l("Cannot schedule task on occupied time slot","error"),oe();const _t=await f(ce.id,Fe,_,ye,mt);_t?.error&&l(_t.error,"error")}else if(Q.type==="event"&&B.type==="slot"){const ce=Q.event,{machine:Fe,hour:ye,minute:mt,isUnavailable:at,hasScheduledTask:sn}=B;if(at)return l("Cannot reschedule task to unavailable time slot","error"),oe();if(sn)return l("Cannot reschedule task to occupied time slot","error"),oe();const _t=await h(ce.id,Fe,_,ye,mt);_t?.error&&l(_t.error,"error")}else if(Q.type==="event"&&B.type==="pool"){const ce=Q.event;c(ce.id)}oe()})})}catch{l("An error occurred during the drag operation","error")}finally{fe.current=!1}}},[_,f,h,c,l]);return r?p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"loading",children:"Loading Production Scheduler..."})}):n?p.jsxs(bD,{onDragStart:we,onDragOver:L,onDragEnd:W,children:[p.jsxs("div",{className:"content-section",children:[p.jsx(os,{title:"Production Scheduler"}),p.jsx(x.Suspense,{fallback:p.jsx(Wy,{}),children:p.jsx(FD,{})}),p.jsxs("div",{className:"section-controls",children:[p.jsx("h2",{className:"section-title",children:"Production Schedule"}),p.jsxs("div",{className:"controls-grid",children:[p.jsxs("div",{className:"filters-section",children:[p.jsx(yu,{label:"Work Center",options:X.workCenters,selectedOptions:C,onSelectionChange:T,searchPlaceholder:"Search Work Centers",id:"work_center_filter"}),p.jsx(yu,{label:"Department",options:X.departments,selectedOptions:D,onSelectionChange:A,searchPlaceholder:"Search Departments",id:"department_filter"}),p.jsx(yu,{label:"Machine Type",options:X.machineTypes,selectedOptions:$,onSelectionChange:U,searchPlaceholder:"Search Machine Types",id:"machine_type_filter"}),p.jsx(yu,{label:"Machine Name",options:X.machineNames,selectedOptions:Z,onSelectionChange:J,searchPlaceholder:"Search Machine Names",id:"machine_name_filter"})]}),p.jsxs("div",{className:"actions-section",children:[p.jsx("button",{className:"nav-btn today",onClick:ie,title:"Clear all filters",children:"Clear Filters"}),p.jsxs("div",{className:"calendar-navigation",children:[p.jsx("button",{className:"nav-btn today",onClick:()=>ee("today"),children:"Today"}),p.jsx("button",{className:"nav-btn",onClick:()=>ee("prev"),children:"<"}),p.jsx("span",{className:"current-date",children:te()}),p.jsx("button",{className:"nav-btn",onClick:()=>ee("next"),children:">"})]}),p.jsx("button",{className:"nav-btn today",onClick:()=>{const ae=document.querySelector(".calendar-section .calendar-grid");if(!ae){alert("Gantt chart not found. Make sure the chart is visible on screen.");return}const se=Array.from(document.styleSheets);let O="";se.forEach(ye=>{try{Array.from(ye.cssRules||ye.rules||[]).forEach(at=>{O+=at.cssText+`
`})}catch{}});const G=ae.cloneNode(!0),Q=`
                    <!DOCTYPE html>
                    <html>
                      <head>
                        <title>Gantt Chart - ${te()}</title>
                        <style>
                          ${O}
                          body { 
                            margin: 0; 
                            padding: 20px; 
                            font-family: Arial, sans-serif;
                          }
                          .calendar-section {
                            width: 100%;
                            overflow-x: auto;
                          }
                        </style>
                      </head>
                      <body>
                        <div style="text-align: center; margin-bottom: 20px; font-size: 16px; font-weight: bold;">
                          Gantt Chart - ${te()}
                        </div>
                        <div class="calendar-section">
                          ${G.outerHTML}
                        </div>
                      </body>
                    </html>
                  `,B=new Blob([Q],{type:"text/html"}),oe=window.URL.createObjectURL(B),Se=document.createElement("a");Se.href=oe;const ce=_.toISOString().split("T")[0],Fe=new Date().toTimeString().split(" ")[0].replace(/:/g,"-");Se.download=`gantt-chart-${ce}-${Fe}.html`,document.body.appendChild(Se),Se.click(),document.body.removeChild(Se),window.URL.revokeObjectURL(oe)},title:"Download exact Gantt chart as HTML file",children:"Download HTML"})]})]})]}),p.jsx(x.Suspense,{fallback:p.jsx(Wy,{}),children:p.jsx(zD,{machines:ne,currentDate:_})})]}),p.jsx(HD,{children:S?p.jsxs("div",{className:"task-item drag-overlay",style:{boxShadow:"0 8px 25px rgba(0,0,0,0.3)",transform:"rotate(3deg) scale(1.05)",opacity:.9,zIndex:1002,pointerEvents:"none"},children:[p.jsx("span",{children:S.odp_number}),p.jsxs("span",{className:"task-duration",children:[S.duration||1,"h"]})]}):null})]}):p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"error",children:"Please select a work center to view scheduler data."})})}function $D(){const{machines:e}=Ft(),{odpOrders:n}=Dt(),{isLoading:r,isInitialized:i}=Te(),{init:l,cleanup:o}=Zr();x.useEffect(()=>(i||l(),()=>{o()}),[l,i,o]);const c=x.useMemo(()=>{if(r)return{};const f=e.reduce((S,R)=>{const C=R.work_center||"Unknown";return S[C]||(S[C]={[Ln.ACTIVE]:0,[Ln.INACTIVE]:0,[Ln.MAINTENANCE]:0}),S[C][R.status]=(S[C][R.status]||0)+1,S},{}),h=new Date,m=new Date(h);m.setDate(h.getDate()-h.getDay()),m.setHours(0,0,0,0);const v=n.filter(S=>S.completion_date?new Date(S.completion_date)>=m:!1).length,y=n.filter(S=>S.status==="IN PROGRESS"||S.status==="SCHEDULED").length,_=n.filter(S=>S.due_date?new Date(S.due_date)<h&&S.quantity_completed<S.quantity:!1).length,w=e.filter(S=>S.status===Ln.ACTIVE).length;return{machinesByWorkCenter:f,completedThisWeek:v,tasksInWip:y,delayedTasks:_,activeMachines:w,totalMachines:e.length,totalOrders:n.length}},[e,n,r]);return r?p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"loading",children:"Loading dashboard..."})}):p.jsxs("div",{className:"content-section",children:[p.jsx(os,{title:"Production Dashboard"}),p.jsxs("div",{className:"metrics-grid",children:[p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Total Machines"}),p.jsx("div",{className:"metric-value",children:c.totalMachines}),p.jsxs("div",{className:"metric-subtitle",children:["Active: ",c.activeMachines]})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Total Orders"}),p.jsx("div",{className:"metric-value",children:c.totalOrders})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Completed This Week"}),p.jsx("div",{className:"metric-value",children:c.completedThisWeek})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Tasks in WIP"}),p.jsx("div",{className:"metric-value",children:c.tasksInWip})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Delayed Tasks"}),p.jsx("div",{className:"metric-value delayed",children:c.delayedTasks})]})]}),p.jsxs("div",{className:"charts-container",children:[p.jsxs("div",{className:"chart-section",children:[p.jsx("h3",{children:"Machines by Work Center"}),p.jsx("div",{className:"work-center-chart",children:Object.entries(c.machinesByWorkCenter||{}).map(([f,h])=>p.jsxs("div",{className:"work-center-group",children:[p.jsx("h4",{children:f}),p.jsx("div",{className:"status-bars",children:Object.entries(h).map(([m,v])=>p.jsxs("div",{className:"status-bar",children:[p.jsx("span",{className:"status-label",children:m}),p.jsx("div",{className:"status-bar-fill",style:{width:`${v/Math.max(...Object.values(h))*100}%`},children:v})]},m))})]},f))})]}),p.jsxs("div",{className:"chart-section",children:[p.jsx("h3",{children:"Weekly Task Completion"}),p.jsxs("div",{className:"simple-chart",children:[p.jsx("div",{className:"chart-bar",style:{height:`${c.completedThisWeek/Math.max(c.totalOrders,1)*200}px`},children:p.jsx("span",{className:"chart-label",children:c.completedThisWeek})}),p.jsx("div",{className:"chart-x-axis",children:"This Week"})]})]})]})]})}function BD(){const[e,n]=x.useState({email:"",password:"",workCenter:""}),[r,i]=x.useState(!1),[l,o]=x.useState({}),{signIn:c,error:f}=$l(),{setSelectedWorkCenter:h}=Te(),m=Fl(),{handleAsync:v}=Ba("LoginPage"),y=R=>{const{name:C,value:T}=R.target;n(D=>({...D,[C]:T})),l[C]&&o(D=>({...D,[C]:""}))},_=()=>{const R={};return e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(R.email="Please enter a valid email address"):R.email="Email is required",e.password?e.password.length<6&&(R.password="Password must be at least 6 characters"):R.password="Password is required",e.workCenter||(R.workCenter="Work center is required"),o(R),Object.keys(R).length===0},w=async R=>{R.preventDefault(),_()&&(i(!0),await v(async()=>{(await c(e.email,e.password)).success&&(h(e.workCenter),m("/",{replace:!0}))},{context:"Login",fallbackMessage:"Failed to sign in. Please try again.",onFinally:()=>i(!1)}))},S=R=>l[R]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:l[R]}):null;return p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Welcome Back"}),p.jsx("p",{children:"Sign in to your account to continue"})]}),p.jsxs("form",{onSubmit:w,className:"auth-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:y,placeholder:"Enter your email",className:l.email?"error":"",disabled:r,autoComplete:"email"}),S("email")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Password"}),p.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:y,placeholder:"Enter your password",className:l.password?"error":"",disabled:r,autoComplete:"current-password"}),S("password")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"workCenter",children:"Work Center *"}),p.jsxs("select",{id:"workCenter",name:"workCenter",value:e.workCenter,onChange:y,className:l.workCenter?"error":"",disabled:r,children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Ce.ZANICA,children:Ce.ZANICA}),p.jsx("option",{value:Ce.BUSTO_GAROLFO,children:Ce.BUSTO_GAROLFO}),p.jsx("option",{value:Ce.BOTH,children:Ce.BOTH})]}),S("workCenter")]}),f&&p.jsxs("div",{className:"auth-error",children:[p.jsx("span",{className:"error-icon",children:""}),f]}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:r,children:r?"Signing In...":"Sign In"})]}),p.jsxs("div",{className:"auth-links",children:[p.jsx(xn,{to:"/forgot-password",className:"auth-link",children:"Forgot your password?"}),p.jsx("div",{className:"auth-divider",children:p.jsx("span",{children:"Don't have an account?"})}),p.jsx(xn,{to:"/signup",className:"btn btn-secondary",children:"Create Account"})]}),!1]})})}function VD(){const[e,n]=x.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[r,i]=x.useState(!1),[l,o]=x.useState({}),{signUp:c,error:f}=$l(),h=Fl(),{handleAsync:m}=Ba("SignupPage"),v=S=>{const{name:R,value:C}=S.target;n(T=>({...T,[R]:C})),l[R]&&o(T=>({...T,[R]:""}))},y=()=>{const S={};return e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(S.email="Please enter a valid email address"):S.email="Email is required",e.password?e.password.length<6&&(S.password="Password must be at least 6 characters"):S.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(S.confirmPassword="Passwords do not match"):S.confirmPassword="Please confirm your password",e.firstName.trim()||(S.firstName="First name is required"),e.lastName.trim()||(S.lastName="Last name is required"),o(S),Object.keys(S).length===0},_=async S=>{S.preventDefault(),y()&&(i(!0),await m(async()=>{const R={first_name:e.firstName,last_name:e.lastName,full_name:`${e.firstName} ${e.lastName}`};(await c(e.email,e.password,R)).success&&h("/",{replace:!0})},{context:"Signup",fallbackMessage:"Failed to create account. Please try again.",onFinally:()=>i(!1)}))},w=S=>l[S]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:l[S]}):null;return p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Create Account"}),p.jsx("p",{children:"Sign up to get started with your account"})]}),p.jsxs("form",{onSubmit:_,className:"auth-form",children:[p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"firstName",children:"First Name"}),p.jsx("input",{type:"text",id:"firstName",name:"firstName",value:e.firstName,onChange:v,placeholder:"Enter your first name",className:l.firstName?"error":"",disabled:r,autoComplete:"given-name"}),w("firstName")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"lastName",children:"Last Name"}),p.jsx("input",{type:"text",id:"lastName",name:"lastName",value:e.lastName,onChange:v,placeholder:"Enter your last name",className:l.lastName?"error":"",disabled:r,autoComplete:"family-name"}),w("lastName")]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:v,placeholder:"Enter your email",className:l.email?"error":"",disabled:r,autoComplete:"email"}),w("email")]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Password"}),p.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:v,placeholder:"Create a password",className:l.password?"error":"",disabled:r,autoComplete:"new-password"}),w("password")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),p.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:v,placeholder:"Confirm your password",className:l.confirmPassword?"error":"",disabled:r,autoComplete:"new-password"}),w("confirmPassword")]})]}),f&&p.jsxs("div",{className:"auth-error",children:[p.jsx("span",{className:"error-icon",children:""}),f]}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:r,children:r?"Creating Account...":"Create Account"})]}),p.jsxs("div",{className:"auth-links",children:[p.jsx("div",{className:"auth-divider",children:p.jsx("span",{children:"Already have an account?"})}),p.jsx(xn,{to:"/login",className:"btn btn-secondary",children:"Sign In"})]})]})})}function qD(){const[e,n]=x.useState(""),[r,i]=x.useState(!1),[l,o]=x.useState(!1),[c,f]=x.useState(""),{resetPassword:h}=$l(),{handleAsync:m}=Ba("ForgotPasswordPage"),v=async y=>{if(y.preventDefault(),!e.trim()){f("Please enter your email address");return}if(!/\S+@\S+\.\S+/.test(e)){f("Please enter a valid email address");return}i(!0),f(""),await m(async()=>{const _=await h(e);_.success?o(!0):f(_.error||"Failed to send reset email")},{context:"Password Reset",fallbackMessage:"Failed to send reset email. Please try again.",onFinally:()=>i(!1)})};return l?p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Check Your Email"}),p.jsxs("p",{children:["We've sent a password reset link to ",e]})]}),p.jsxs("div",{className:"auth-success",children:[p.jsx("div",{className:"success-icon",children:""}),p.jsx("p",{children:"If you don't see the email, check your spam folder."})]}),p.jsx("div",{className:"auth-links",children:p.jsx(xn,{to:"/login",className:"btn btn-primary",children:"Back to Sign In"})})]})}):p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Reset Password"}),p.jsx("p",{children:"Enter your email to receive a password reset link"})]}),p.jsxs("form",{onSubmit:v,className:"auth-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:e,onChange:y=>n(y.target.value),placeholder:"Enter your email",disabled:r,autoComplete:"email"})]}),c&&p.jsxs("div",{className:"auth-error",children:[p.jsx("span",{className:"error-icon",children:""}),c]}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:r,children:r?"Sending...":"Send Reset Link"})]}),p.jsx("div",{className:"auth-links",children:p.jsx(xn,{to:"/login",className:"auth-link",children:"Back to Sign In"})})]})})}class Pu extends Ne.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static generateErrorId(){return`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorId:Pu.generateErrorId()}}componentDidCatch(n,r){this.setState({errorInfo:r,errorId:this.state.errorId||Pu.generateErrorId()}),Vn(n,"ErrorBoundary"),this.logErrorToService(n,r)}logErrorToService(n,r){}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null}),window.location.reload()};handleGoHome=()=>{window.location.href="/"};handleReportIssue=()=>{const n=encodeURIComponent(`App Error Report - ${this.state.errorId}`),r=encodeURIComponent(`
Error Report Details:
- Error ID: ${this.state.errorId}
- Error: ${this.state.error?.message||"Unknown error"}
- URL: ${window.location.href}
- User Agent: ${navigator.userAgent}
- Timestamp: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:
    `);window.open(`mailto:support@company.com?subject=${n}&body=${r}`)};getErrorRecommendations=n=>{switch(M_(n)){case wr.CRITICAL:return p.jsxs("div",{className:"error-boundary__recommendation critical",children:[p.jsx("strong",{children:"Critical Error:"})," This is a serious issue. Please contact support immediately."]});case wr.HIGH:return p.jsxs("div",{className:"error-boundary__recommendation high",children:[p.jsx("strong",{children:"High Priority:"})," Please try refreshing the page or contact support if the problem persists."]});case wr.MEDIUM:return p.jsxs("div",{className:"error-boundary__recommendation medium",children:[p.jsx("strong",{children:"Medium Priority:"})," Try refreshing the page or navigating to a different section."]});case wr.LOW:return p.jsxs("div",{className:"error-boundary__recommendation low",children:[p.jsx("strong",{children:"Low Priority:"})," This error should resolve itself. Try continuing with your task."]});default:return null}};render(){return this.state.hasError?p.jsx("div",{className:"error-boundary",children:p.jsxs("div",{className:"error-boundary__container",children:[p.jsx("div",{className:"error-boundary__icon",children:""}),p.jsx("h1",{className:"error-boundary__title",children:"Oops! Something went wrong"}),p.jsx("p",{className:"error-boundary__message",children:"We're sorry, but something unexpected happened. Our team has been notified and is working to fix this issue."}),!1,p.jsxs("div",{className:"error-boundary__actions",children:[p.jsx("button",{onClick:this.handleRetry,className:"btn-primary",children:"Try Again"}),p.jsx("button",{onClick:this.handleGoHome,className:"btn-secondary",children:"Go to Home"}),p.jsx("button",{onClick:this.handleReportIssue,className:"error-boundary__button error-boundary__button--secondary",children:" Report Issue"})]}),this.state.error&&p.jsx("div",{className:"error-boundary__recommendations",children:this.getErrorRecommendations(this.state.error)}),p.jsxs("div",{className:"error-boundary__footer",children:[p.jsxs("p",{className:"error-boundary__error-id",children:["Error ID: ",p.jsx("code",{children:this.state.errorId})]}),p.jsx("p",{className:"error-boundary__help",children:"If this problem persists, please contact support with the Error ID above."})]})]})}):this.props.children}}const GD=()=>{const{user:e,loading:n}=$l();return n?p.jsx("div",{className:"auth-loading",children:p.jsxs("div",{className:"auth-loading__container",children:[p.jsx("div",{className:"auth-loading__spinner"}),p.jsx("p",{children:"Checking authentication..."})]})}):e?p.jsx(o_,{}):p.jsx(l_,{to:"/login",replace:!0})},YD=({message:e,type:n="info",isVisible:r,onClose:i,autoClose:l=!0,duration:o=5e3})=>{if(x.useEffect(()=>{if(l&&r){const h=setTimeout(()=>{i()},o);return()=>clearTimeout(h)}},[r,l,o,i]),!r)return null;const c="alert",f={success:"alert--success",error:"alert--error",warning:"alert--warning",info:"alert--info"};return p.jsx("div",{className:`${c} ${f[n]||f.info}`,children:p.jsxs("div",{className:"alert__content",children:[p.jsx("span",{className:"alert__message",children:e}),p.jsx("button",{onClick:i,className:"alert__close","aria-label":"Close",children:""})]})})},KD=({isOpen:e,title:n,message:r,onConfirm:i,onCancel:l,confirmText:o="Delete",cancelText:c="Cancel",type:f="danger"})=>{if(!e)return null;const h="confirm-dialog",m={danger:"confirm-dialog--danger",warning:"confirm-dialog--warning",info:"confirm-dialog--info"};return p.jsxs("div",{className:`${h} ${m[f]||m.danger}`,children:[p.jsx("div",{className:"confirm-dialog__overlay",onClick:l}),p.jsxs("div",{className:"confirm-dialog__content",children:[p.jsx("div",{className:"confirm-dialog__header",children:p.jsx("h3",{className:"confirm-dialog__title",children:n})}),p.jsx("div",{className:"confirm-dialog__body",children:p.jsx("p",{className:"confirm-dialog__message",children:r})}),p.jsxs("div",{className:"confirm-dialog__footer",children:[p.jsx("button",{onClick:l,className:"confirm-dialog__button confirm-dialog__button--secondary",children:c}),p.jsx("button",{onClick:i,className:"confirm-dialog__button confirm-dialog__button--primary",children:o})]})]})]})},XD=()=>{const{alert:e,hideAlert:n,confirmDialog:r,hideConfirmDialog:i}=Te(),{cleanup:l}=Zr();return x.useEffect(()=>()=>{l()},[l]),p.jsxs("div",{className:"main-content",children:[p.jsx(bT,{}),p.jsx("div",{className:"page-container",children:p.jsx("main",{children:p.jsx(o_,{})})}),p.jsx(YD,{message:e.message,type:e.type,isVisible:e.isVisible,onClose:n}),p.jsx(KD,{isOpen:r.isOpen,title:r.title,message:r.message,onConfirm:()=>{r.onConfirm?.(),i()},onCancel:i,type:r.type})]})};function WD(){return p.jsx(Pu,{children:p.jsxs(VS,{children:[p.jsx(Sn,{path:"/login",element:p.jsx(BD,{})}),p.jsx(Sn,{path:"/signup",element:p.jsx(VD,{})}),p.jsx(Sn,{path:"/forgot-password",element:p.jsx(qD,{})}),p.jsx(Sn,{path:"/",element:p.jsx(GD,{}),children:p.jsxs(Sn,{element:p.jsx(XD,{}),children:[p.jsx(Sn,{index:!0,element:p.jsx($D,{})}),p.jsx(Sn,{path:"machinery",element:p.jsx(nO,{})}),p.jsx(Sn,{path:"machinery/:machineId/calendar",element:p.jsx(sO,{})}),p.jsx(Sn,{path:"phases",element:p.jsx(oO,{})}),p.jsx(Sn,{path:"backlog",element:p.jsx(cO,{})}),p.jsx(Sn,{path:"scheduler",element:p.jsx(ID,{})})]})}),p.jsx(Sn,{path:"*",element:p.jsx(l_,{to:"/",replace:!0})})]})})}const QD="/flexi/";Qw.createRoot(document.getElementById("root")).render(p.jsx(Ne.StrictMode,{children:p.jsx(hE,{basename:QD,children:p.jsx(OR,{children:p.jsx(WD,{})})})}));export{Ne as R,Dt as a,l1 as b,Ba as c,s1 as d,Ji as e,r1 as f,a1 as g,i1 as i,p as j,x as r,Zt as t,Te as u};
