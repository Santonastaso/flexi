import{u as m,a as p,r as n,j as e,R as k,b as x,c as g,d as b}from"./index-Alzlc9nK.js";const f=k.memo(({task:s})=>{const[t,r]=n.useState(!0),{updateOdpOrder:d}=x();g("TaskPool");const{attributes:a,listeners:o,setNodeRef:c,transform:l}=b({id:`task-${s.id}`,data:{task:s,type:"task"},disabled:t}),i=l?{transform:`translate3d(${l.x}px, ${l.y}px, 0)`}:void 0,u=h=>{h.stopPropagation(),r(!t)};return e.jsxs("div",{ref:c,style:i,className:"task-item",children:[e.jsxs("div",{className:"task-content",children:[e.jsx("span",{children:s.odp_number}),e.jsxs("span",{className:"task-duration",children:[s.duration||1,"h"]})]}),e.jsxs("div",{className:"task-controls",children:[e.jsx("button",{className:"task-btn info-btn",title:`Delivery Date: ${s.delivery_date?new Date(s.delivery_date).toLocaleDateString():"Not set"}
Quantity: ${s.quantity||"Not specified"}
${s.scheduled_start_time?`Scheduled: ${new Date(s.scheduled_start_time).toLocaleString()}`:""}`,children:"â„¹ï¸"}),e.jsx("button",{className:`task-btn lock-btn ${t?"locked":"unlocked"}`,onClick:u,title:t?"Unlock to enable dragging":"Lock to disable dragging",children:t?"ðŸ”’":"ðŸ”“"}),!t&&e.jsx("div",{className:"drag-handle",...o,...a,title:"Drag to schedule",children:"ðŸ–ï¸"})]})]})});function N({tasks:s}){const{selectedWorkCenter:t}=m(),{setNodeRef:r}=p({id:"task-pool",data:{type:"pool"}}),d=n.useMemo(()=>{let a=s.filter(o=>o.status!=="SCHEDULED");return t&&t!=="BOTH"&&(a=a.filter(o=>o.work_center===t)),a},[s,t]);return e.jsxs("div",{className:"task-pool-section",children:[e.jsx("h2",{children:"Task Pool"}),e.jsx("p",{children:"Drag tasks from here to schedule them, or drag scheduled events back here to unschedule them."}),e.jsx("div",{ref:r,id:"task_pool",className:"task-pool-grid",children:d.length>0?d.map(a=>e.jsx(f,{task:a},a.id)):e.jsx("div",{className:"empty-state",children:"No unscheduled tasks available"})})]})}export{N as default};
