(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=a(l);fetch(l.href,u)}})();function Wf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Mw(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var a=function i(){var l=!1;try{l=this instanceof i}catch{}return l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};a.prototype=n.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var l=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(a,i,l.get?l:{enumerable:!0,get:function(){return e[i]}})}),a}var Kd={exports:{}},Qs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function kw(){if(fv)return Qs;fv=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(i,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var f in l)f!=="key"&&(u[f]=l[f])}else u=l;return l=u.ref,{$$typeof:e,type:i,key:c,ref:l!==void 0?l:null,props:u}}return Qs.Fragment=n,Qs.jsx=a,Qs.jsxs=a,Qs}var hv;function Uw(){return hv||(hv=1,Kd.exports=kw()),Kd.exports}var p=Uw(),Xd={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function Lw(){if(gv)return je;gv=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=y&&N[y]||N["@@iterator"],typeof N=="function"?N:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function R(N,K,Y){this.props=N,this.context=K,this.refs=C,this.updater=Y||b}R.prototype.isReactComponent={},R.prototype.setState=function(N,K){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,K,"setState")},R.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function A(){}A.prototype=R.prototype;function M(N,K,Y){this.props=N,this.context=K,this.refs=C,this.updater=Y||b}var T=M.prototype=new A;T.constructor=M,E(T,R.prototype),T.isPureReactComponent=!0;var q=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function F(N,K,Y,Q,fe,De){return Y=De.ref,{$$typeof:e,type:N,key:K,ref:Y!==void 0?Y:null,props:De}}function B(N,K){return F(N.type,K,void 0,void 0,void 0,N.props)}function ee(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function le(N){var K={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(Y){return K[Y]})}var oe=/\/+/g;function ae(N,K){return typeof N=="object"&&N!==null&&N.key!=null?le(""+N.key):K.toString(36)}function re(){}function ve(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(re,re):(N.status="pending",N.then(function(K){N.status==="pending"&&(N.status="fulfilled",N.value=K)},function(K){N.status==="pending"&&(N.status="rejected",N.reason=K)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ce(N,K,Y,Q,fe){var De=typeof N;(De==="undefined"||De==="boolean")&&(N=null);var ye=!1;if(N===null)ye=!0;else switch(De){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(N.$$typeof){case e:case n:ye=!0;break;case v:return ye=N._init,ce(ye(N._payload),K,Y,Q,fe)}}if(ye)return fe=fe(N),ye=Q===""?"."+ae(N,0):Q,q(fe)?(Y="",ye!=null&&(Y=ye.replace(oe,"$&/")+"/"),ce(fe,K,Y,"",function(Nt){return Nt})):fe!=null&&(ee(fe)&&(fe=B(fe,Y+(fe.key==null||N&&N.key===fe.key?"":(""+fe.key).replace(oe,"$&/")+"/")+ye)),K.push(fe)),1;ye=0;var pt=Q===""?".":Q+":";if(q(N))for(var Ve=0;Ve<N.length;Ve++)Q=N[Ve],De=pt+ae(Q,Ve),ye+=ce(Q,K,Y,De,fe);else if(Ve=w(N),typeof Ve=="function")for(N=Ve.call(N),Ve=0;!(Q=N.next()).done;)Q=Q.value,De=pt+ae(Q,Ve++),ye+=ce(Q,K,Y,De,fe);else if(De==="object"){if(typeof N.then=="function")return ce(ve(N),K,Y,Q,fe);throw K=String(N),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ye}function $(N,K,Y){if(N==null)return N;var Q=[],fe=0;return ce(N,Q,"","",function(De){return K.call(Y,De,fe++)}),Q}function Z(N){if(N._status===-1){var K=N._result;K=K(),K.then(function(Y){(N._status===0||N._status===-1)&&(N._status=1,N._result=Y)},function(Y){(N._status===0||N._status===-1)&&(N._status=2,N._result=Y)}),N._status===-1&&(N._status=0,N._result=K)}if(N._status===1)return N._result.default;throw N._result}var de=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ee(){}return je.Children={map:$,forEach:function(N,K,Y){$(N,function(){K.apply(this,arguments)},Y)},count:function(N){var K=0;return $(N,function(){K++}),K},toArray:function(N){return $(N,function(K){return K})||[]},only:function(N){if(!ee(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},je.Component=R,je.Fragment=a,je.Profiler=l,je.PureComponent=M,je.StrictMode=i,je.Suspense=h,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,je.__COMPILER_RUNTIME={__proto__:null,c:function(N){return k.H.useMemoCache(N)}},je.cache=function(N){return function(){return N.apply(null,arguments)}},je.cloneElement=function(N,K,Y){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var Q=E({},N.props),fe=N.key,De=void 0;if(K!=null)for(ye in K.ref!==void 0&&(De=void 0),K.key!==void 0&&(fe=""+K.key),K)!H.call(K,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&K.ref===void 0||(Q[ye]=K[ye]);var ye=arguments.length-2;if(ye===1)Q.children=Y;else if(1<ye){for(var pt=Array(ye),Ve=0;Ve<ye;Ve++)pt[Ve]=arguments[Ve+2];Q.children=pt}return F(N.type,fe,void 0,void 0,De,Q)},je.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},je.createElement=function(N,K,Y){var Q,fe={},De=null;if(K!=null)for(Q in K.key!==void 0&&(De=""+K.key),K)H.call(K,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(fe[Q]=K[Q]);var ye=arguments.length-2;if(ye===1)fe.children=Y;else if(1<ye){for(var pt=Array(ye),Ve=0;Ve<ye;Ve++)pt[Ve]=arguments[Ve+2];fe.children=pt}if(N&&N.defaultProps)for(Q in ye=N.defaultProps,ye)fe[Q]===void 0&&(fe[Q]=ye[Q]);return F(N,De,void 0,void 0,null,fe)},je.createRef=function(){return{current:null}},je.forwardRef=function(N){return{$$typeof:f,render:N}},je.isValidElement=ee,je.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:Z}},je.memo=function(N,K){return{$$typeof:m,type:N,compare:K===void 0?null:K}},je.startTransition=function(N){var K=k.T,Y={};k.T=Y;try{var Q=N(),fe=k.S;fe!==null&&fe(Y,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Ee,de)}catch(De){de(De)}finally{k.T=K}},je.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},je.use=function(N){return k.H.use(N)},je.useActionState=function(N,K,Y){return k.H.useActionState(N,K,Y)},je.useCallback=function(N,K){return k.H.useCallback(N,K)},je.useContext=function(N){return k.H.useContext(N)},je.useDebugValue=function(){},je.useDeferredValue=function(N,K){return k.H.useDeferredValue(N,K)},je.useEffect=function(N,K,Y){var Q=k.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(N,K)},je.useId=function(){return k.H.useId()},je.useImperativeHandle=function(N,K,Y){return k.H.useImperativeHandle(N,K,Y)},je.useInsertionEffect=function(N,K){return k.H.useInsertionEffect(N,K)},je.useLayoutEffect=function(N,K){return k.H.useLayoutEffect(N,K)},je.useMemo=function(N,K){return k.H.useMemo(N,K)},je.useOptimistic=function(N,K){return k.H.useOptimistic(N,K)},je.useReducer=function(N,K,Y){return k.H.useReducer(N,K,Y)},je.useRef=function(N){return k.H.useRef(N)},je.useState=function(N){return k.H.useState(N)},je.useSyncExternalStore=function(N,K,Y){return k.H.useSyncExternalStore(N,K,Y)},je.useTransition=function(){return k.H.useTransition()},je.version="19.1.1",je}var mv;function Qf(){return mv||(mv=1,Xd.exports=Lw()),Xd.exports}var x=Qf();const Me=Wf(x);var Wd={exports:{}},Zs={},Qd={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function Pw(){return pv||(pv=1,(function(e){function n($,Z){var de=$.length;$.push(Z);e:for(;0<de;){var Ee=de-1>>>1,N=$[Ee];if(0<l(N,Z))$[Ee]=Z,$[de]=N,de=Ee;else break e}}function a($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var Z=$[0],de=$.pop();if(de!==Z){$[0]=de;e:for(var Ee=0,N=$.length,K=N>>>1;Ee<K;){var Y=2*(Ee+1)-1,Q=$[Y],fe=Y+1,De=$[fe];if(0>l(Q,de))fe<N&&0>l(De,Q)?($[Ee]=De,$[fe]=de,Ee=fe):($[Ee]=Q,$[Y]=de,Ee=Y);else if(fe<N&&0>l(De,de))$[Ee]=De,$[fe]=de,Ee=fe;else break e}}return Z}function l($,Z){var de=$.sortIndex-Z.sortIndex;return de!==0?de:$.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var h=[],m=[],v=1,y=null,w=3,b=!1,E=!1,C=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function q($){for(var Z=a(m);Z!==null;){if(Z.callback===null)i(m);else if(Z.startTime<=$)i(m),Z.sortIndex=Z.expirationTime,n(h,Z);else break;Z=a(m)}}function k($){if(C=!1,q($),!E)if(a(h)!==null)E=!0,H||(H=!0,ae());else{var Z=a(m);Z!==null&&ce(k,Z.startTime-$)}}var H=!1,F=-1,B=5,ee=-1;function le(){return R?!0:!(e.unstable_now()-ee<B)}function oe(){if(R=!1,H){var $=e.unstable_now();ee=$;var Z=!0;try{e:{E=!1,C&&(C=!1,M(F),F=-1),b=!0;var de=w;try{t:{for(q($),y=a(h);y!==null&&!(y.expirationTime>$&&le());){var Ee=y.callback;if(typeof Ee=="function"){y.callback=null,w=y.priorityLevel;var N=Ee(y.expirationTime<=$);if($=e.unstable_now(),typeof N=="function"){y.callback=N,q($),Z=!0;break t}y===a(h)&&i(h),q($)}else i(h);y=a(h)}if(y!==null)Z=!0;else{var K=a(m);K!==null&&ce(k,K.startTime-$),Z=!1}}break e}finally{y=null,w=de,b=!1}Z=void 0}}finally{Z?ae():H=!1}}}var ae;if(typeof T=="function")ae=function(){T(oe)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ve=re.port2;re.port1.onmessage=oe,ae=function(){ve.postMessage(null)}}else ae=function(){A(oe,0)};function ce($,Z){F=A(function(){$(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function($){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var de=w;w=Z;try{return $()}finally{w=de}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var de=w;w=$;try{return Z()}finally{w=de}},e.unstable_scheduleCallback=function($,Z,de){var Ee=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ee+de:Ee):de=Ee,$){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=de+N,$={id:v++,callback:Z,priorityLevel:$,startTime:de,expirationTime:N,sortIndex:-1},de>Ee?($.sortIndex=de,n(m,$),a(h)===null&&$===a(m)&&(C?(M(F),F=-1):C=!0,ce(k,de-Ee))):($.sortIndex=N,n(h,$),E||b||(E=!0,H||(H=!0,ae()))),$},e.unstable_shouldYield=le,e.unstable_wrapCallback=function($){var Z=w;return function(){var de=w;w=Z;try{return $.apply(this,arguments)}finally{w=de}}}})(Zd)),Zd}var vv;function $w(){return vv||(vv=1,Qd.exports=Pw()),Qd.exports}var Jd={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function Fw(){if(yv)return tn;yv=1;var e=Qf();function n(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(h,m,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:h,containerInfo:m,implementation:v}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,tn.createPortal=function(h,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return u(h,m,null,v)},tn.flushSync=function(h){var m=c.T,v=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=m,i.p=v,i.d.f()}},tn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},tn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},tn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var v=m.as,y=f(v,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:b}):v==="script"&&i.d.X(h,{crossOrigin:y,integrity:w,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},tn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=f(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},tn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,y=f(v,m.crossOrigin);i.d.L(h,v,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},tn.preloadModule=function(h,m){if(typeof h=="string")if(m){var v=f(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},tn.requestFormReset=function(h){i.d.r(h)},tn.unstable_batchedUpdates=function(h,m){return h(m)},tn.useFormState=function(h,m,v){return c.H.useFormState(h,m,v)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.1.1",tn}var _v;function Vy(){if(_v)return Jd.exports;_v=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Jd.exports=Fw(),Jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function zw(){if(bv)return Zs;bv=1;var e=$w(),n=Qf(),a=Vy();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function f(t){if(u(t)!==t)throw Error(i(188))}function h(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(i(188));return r!==t?null:t}for(var s=t,o=r;;){var d=s.return;if(d===null)break;var g=d.alternate;if(g===null){if(o=d.return,o!==null){s=o;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===s)return f(d),t;if(g===o)return f(d),r;g=g.sibling}throw Error(i(188))}if(s.return!==o.return)s=d,o=g;else{for(var _=!1,S=d.child;S;){if(S===s){_=!0,s=d,o=g;break}if(S===o){_=!0,o=d,s=g;break}S=S.sibling}if(!_){for(S=g.child;S;){if(S===s){_=!0,s=g,o=d;break}if(S===o){_=!0,o=g,s=d;break}S=S.sibling}if(!_)throw Error(i(189))}}if(s.alternate!==o)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:r}function m(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=m(t),r!==null)return r;t=t.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),T=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function ae(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var re=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===re?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case E:return"Fragment";case R:return"Profiler";case C:return"StrictMode";case k:return"Suspense";case H:return"SuspenseList";case ee:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case T:return(t.displayName||"Context")+".Provider";case M:return(t._context.displayName||"Context")+".Consumer";case q:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return r=t.displayName||null,r!==null?r:ve(t.type)||"Memo";case B:r=t._payload,t=t._init;try{return ve(t(r))}catch{}}return null}var ce=Array.isArray,$=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ee=[],N=-1;function K(t){return{current:t}}function Y(t){0>N||(t.current=Ee[N],Ee[N]=null,N--)}function Q(t,r){N++,Ee[N]=t.current,t.current=r}var fe=K(null),De=K(null),ye=K(null),pt=K(null);function Ve(t,r){switch(Q(ye,r),Q(De,t),Q(fe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?zp(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=zp(r),t=Hp(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(fe),Q(fe,t)}function Nt(){Y(fe),Y(De),Y(ye)}function wt(t){t.memoizedState!==null&&Q(pt,t);var r=fe.current,s=Hp(r,t.type);r!==s&&(Q(De,t),Q(fe,s))}function Tn(t){De.current===t&&(Y(fe),Y(De)),pt.current===t&&(Y(pt),Gs._currentValue=de)}var ne=Object.prototype.hasOwnProperty,ue=e.unstable_scheduleCallback,ge=e.unstable_cancelCallback,me=e.unstable_shouldYield,Ge=e.unstable_requestPaint,et=e.unstable_now,jt=e.unstable_getCurrentPriorityLevel,vt=e.unstable_ImmediatePriority,O=e.unstable_UserBlockingPriority,L=e.unstable_NormalPriority,G=e.unstable_LowPriority,se=e.unstable_IdlePriority,te=e.log,ie=e.unstable_setDisableYieldValue,he=null,Se=null;function Oe(t){if(typeof te=="function"&&ie(t),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(he,t)}catch{}}var He=Math.clz32?Math.clz32:Ka,rn=Math.log,Mt=Math.LN2;function Ka(t){return t>>>=0,t===0?32:31-(rn(t)/Mt|0)|0}var er=256,tr=4194304;function pn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function nr(t,r,s){var o=t.pendingLanes;if(o===0)return 0;var d=0,g=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~g,o!==0?d=pn(o):(_&=S,_!==0?d=pn(_):s||(s=S&~t,s!==0&&(d=pn(s))))):(S=o&~g,S!==0?d=pn(S):_!==0?d=pn(_):s||(s=o&~t,s!==0&&(d=pn(s)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,s=r&-r,g>=s||g===32&&(s&4194048)!==0)?r:d}function hr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function wa(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fl(){var t=er;return er<<=1,(er&4194048)===0&&(er=256),t}function zl(){var t=tr;return tr<<=1,(tr&62914560)===0&&(tr=4194304),t}function rs(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function yt(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function an(t,r,s,o,d,g){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,z=t.hiddenUpdates;for(s=_&~s;0<s;){var X=31-He(s),J=1<<X;S[X]=0,D[X]=-1;var I=z[X];if(I!==null)for(z[X]=null,X=0;X<I.length;X++){var V=I[X];V!==null&&(V.lane&=-536870913)}s&=~J}o!==0&&Qt(t,o,0),g!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=g&~(_&~r))}function Qt(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-He(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|s&4194090}function Hn(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var o=31-He(s),d=1<<o;d&r|t[o]&r&&(t[o]|=r),s&=~d}}function Zt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vn(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:sv(t.type))}function zr(t,r){var s=Z.p;try{return Z.p=t,r()}finally{Z.p=s}}var at=Math.random().toString(36).slice(2),lt="__reactFiber$"+at,ot="__reactProps$"+at,Jt="__reactContainer$"+at,gr="__reactEvents$"+at,Sa="__reactListeners$"+at,rr="__reactHandles$"+at,Hr="__reactResources$"+at,mr="__reactMarker$"+at;function Hu(t){delete t[lt],delete t[ot],delete t[gr],delete t[Sa],delete t[rr]}function Xa(t){var r=t[lt];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Jt]||s[lt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=qp(t);t!==null;){if(s=t[lt])return s;t=qp(t)}return r}t=s,s=t.parentNode}return null}function Wa(t){if(t=t[lt]||t[Jt]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function as(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function Qa(t){var r=t[Hr];return r||(r=t[Hr]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ft(t){t[mr]=!0}var Oh=new Set,Dh={};function Ea(t,r){Za(t,r),Za(t+"Capture",r)}function Za(t,r){for(Dh[t]=r,t=0;t<r.length;t++)Oh.add(r[t])}var Cb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nh={},jh={};function Rb(t){return ne.call(jh,t)?!0:ne.call(Nh,t)?!1:Cb.test(t)?jh[t]=!0:(Nh[t]=!0,!1)}function Hl(t,r,s){if(Rb(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function Il(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function pr(t,r,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+o)}}var Iu,Mh;function Ja(t){if(Iu===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Iu=r&&r[1]||"",Mh=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Iu+t+Mh}var Vu=!1;function Bu(t,r){if(!t||Vu)return"";Vu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(V){var I=V}Reflect.construct(t,[],J)}else{try{J.call()}catch(V){I=V}t.call(J.prototype)}}else{try{throw Error()}catch(V){I=V}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(V){if(V&&I&&typeof V.stack=="string")return[V.stack,I.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),_=g[0],S=g[1];if(_&&S){var D=_.split(`
`),z=S.split(`
`);for(d=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;if(o===D.length||d===z.length)for(o=D.length-1,d=z.length-1;1<=o&&0<=d&&D[o]!==z[d];)d--;for(;1<=o&&0<=d;o--,d--)if(D[o]!==z[d]){if(o!==1||d!==1)do if(o--,d--,0>d||D[o]!==z[d]){var X=`
`+D[o].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=o&&0<=d);break}}}finally{Vu=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ja(s):""}function Tb(t){switch(t.tag){case 26:case 27:case 5:return Ja(t.type);case 16:return Ja("Lazy");case 13:return Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 15:return Bu(t.type,!1);case 11:return Bu(t.type.render,!1);case 1:return Bu(t.type,!0);case 31:return Ja("Activity");default:return""}}function kh(t){try{var r="";do r+=Tb(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function An(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uh(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ab(t){var r=Uh(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,g=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){o=""+_,g.call(this,_)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Vl(t){t._valueTracker||(t._valueTracker=Ab(t))}function Lh(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),o="";return t&&(o=Uh(t)?t.checked?"true":"false":t.value),t=o,t!==s?(r.setValue(t),!0):!1}function Bl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ob=/[\n"\\]/g;function On(t){return t.replace(Ob,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function qu(t,r,s,o,d,g,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+An(r)):t.value!==""+An(r)&&(t.value=""+An(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Gu(t,_,An(r)):s!=null?Gu(t,_,An(s)):o!=null&&t.removeAttribute("value"),d==null&&g!=null&&(t.defaultChecked=!!g),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+An(S):t.removeAttribute("name")}function Ph(t,r,s,o,d,g,_,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),r!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;s=s!=null?""+An(s):"",r=r!=null?""+An(r):s,S||r===t.value||(t.value=r),t.defaultValue=r}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Gu(t,r,s){r==="number"&&Bl(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ei(t,r,s,o){if(t=t.options,r){r={};for(var d=0;d<s.length;d++)r["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=r.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&o&&(t[s].defaultSelected=!0)}else{for(s=""+An(s),r=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function $h(t,r,s){if(r!=null&&(r=""+An(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+An(s):""}function Fh(t,r,s,o){if(r==null){if(o!=null){if(s!=null)throw Error(i(92));if(ce(o)){if(1<o.length)throw Error(i(93));o=o[0]}s=o}s==null&&(s=""),r=s}s=An(r),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o)}function ti(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Db=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zh(t,r,s){var o=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,s):typeof s!="number"||s===0||Db.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Hh(t,r,s){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in r)o=r[d],r.hasOwnProperty(d)&&s[d]!==o&&zh(t,d,o)}else for(var g in r)r.hasOwnProperty(g)&&zh(t,g,r[g])}function Yu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ql(t){return jb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ku=null;function Xu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ni=null,ri=null;function Ih(t){var r=Wa(t);if(r&&(t=r.stateNode)){var s=t[ot]||null;e:switch(t=r.stateNode,r.type){case"input":if(qu(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+On(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var o=s[r];if(o!==t&&o.form===t.form){var d=o[ot]||null;if(!d)throw Error(i(90));qu(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<s.length;r++)o=s[r],o.form===t.form&&Lh(o)}break e;case"textarea":$h(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&ei(t,!!s.multiple,r,!1)}}}var Wu=!1;function Vh(t,r,s){if(Wu)return t(r,s);Wu=!0;try{var o=t(r);return o}finally{if(Wu=!1,(ni!==null||ri!==null)&&(No(),ni&&(r=ni,t=ri,ri=ni=null,Ih(r),t)))for(r=0;r<t.length;r++)Ih(t[r])}}function is(t,r){var s=t.stateNode;if(s===null)return null;var o=s[ot]||null;if(o===null)return null;s=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,r,typeof s));return s}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qu=!1;if(vr)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Qu=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Qu=!1}var Ir=null,Zu=null,Gl=null;function Bh(){if(Gl)return Gl;var t,r=Zu,s=r.length,o,d="value"in Ir?Ir.value:Ir.textContent,g=d.length;for(t=0;t<s&&r[t]===d[t];t++);var _=s-t;for(o=1;o<=_&&r[s-o]===d[g-o];o++);return Gl=d.slice(t,1<o?1-o:void 0)}function Yl(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Kl(){return!0}function qh(){return!1}function cn(t){function r(s,o,d,g,_){this._reactName=s,this._targetInst=d,this.type=o,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(s=t[S],this[S]=s?s(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Kl:qh,this.isPropagationStopped=qh,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),r}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=cn(xa),ls=v({},xa,{view:0,detail:0}),Mb=cn(ls),Ju,ec,os,Wl=v({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==os&&(os&&t.type==="mousemove"?(Ju=t.screenX-os.screenX,ec=t.screenY-os.screenY):ec=Ju=0,os=t),Ju)},movementY:function(t){return"movementY"in t?t.movementY:ec}}),Gh=cn(Wl),kb=v({},Wl,{dataTransfer:0}),Ub=cn(kb),Lb=v({},ls,{relatedTarget:0}),tc=cn(Lb),Pb=v({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),$b=cn(Pb),Fb=v({},xa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zb=cn(Fb),Hb=v({},xa,{data:0}),Yh=cn(Hb),Ib={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qb(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Bb[t])?!!r[t]:!1}function nc(){return qb}var Gb=v({},ls,{key:function(t){if(t.key){var r=Ib[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nc,charCode:function(t){return t.type==="keypress"?Yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yb=cn(Gb),Kb=v({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kh=cn(Kb),Xb=v({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nc}),Wb=cn(Xb),Qb=v({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zb=cn(Qb),Jb=v({},Wl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e0=cn(Jb),t0=v({},xa,{newState:0,oldState:0}),n0=cn(t0),r0=[9,13,27,32],rc=vr&&"CompositionEvent"in window,us=null;vr&&"documentMode"in document&&(us=document.documentMode);var a0=vr&&"TextEvent"in window&&!us,Xh=vr&&(!rc||us&&8<us&&11>=us),Wh=" ",Qh=!1;function Zh(t,r){switch(t){case"keyup":return r0.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ai=!1;function i0(t,r){switch(t){case"compositionend":return Jh(r);case"keypress":return r.which!==32?null:(Qh=!0,Wh);case"textInput":return t=r.data,t===Wh&&Qh?null:t;default:return null}}function s0(t,r){if(ai)return t==="compositionend"||!rc&&Zh(t,r)?(t=Bh(),Gl=Zu=Ir=null,ai=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Xh&&r.locale!=="ko"?null:r.data;default:return null}}var l0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!l0[t.type]:r==="textarea"}function tg(t,r,s,o){ni?ri?ri.push(o):ri=[o]:ni=o,r=Po(r,"onChange"),0<r.length&&(s=new Xl("onChange","change",null,s,o),t.push({event:s,listeners:r}))}var cs=null,ds=null;function o0(t){Up(t,0)}function Ql(t){var r=as(t);if(Lh(r))return t}function ng(t,r){if(t==="change")return r}var rg=!1;if(vr){var ac;if(vr){var ic="oninput"in document;if(!ic){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),ic=typeof ag.oninput=="function"}ac=ic}else ac=!1;rg=ac&&(!document.documentMode||9<document.documentMode)}function ig(){cs&&(cs.detachEvent("onpropertychange",sg),ds=cs=null)}function sg(t){if(t.propertyName==="value"&&Ql(ds)){var r=[];tg(r,ds,t,Xu(t)),Vh(o0,r)}}function u0(t,r,s){t==="focusin"?(ig(),cs=r,ds=s,cs.attachEvent("onpropertychange",sg)):t==="focusout"&&ig()}function c0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ql(ds)}function d0(t,r){if(t==="click")return Ql(r)}function f0(t,r){if(t==="input"||t==="change")return Ql(r)}function h0(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var yn=typeof Object.is=="function"?Object.is:h0;function fs(t,r){if(yn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),o=Object.keys(r);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var d=s[o];if(!ne.call(r,d)||!yn(t[d],r[d]))return!1}return!0}function lg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function og(t,r){var s=lg(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=r&&o>=r)return{node:s,offset:r-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=lg(s)}}function ug(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ug(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function cg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Bl(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=Bl(t.document)}return r}function sc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var g0=vr&&"documentMode"in document&&11>=document.documentMode,ii=null,lc=null,hs=null,oc=!1;function dg(t,r,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;oc||ii==null||ii!==Bl(o)||(o=ii,"selectionStart"in o&&sc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),hs&&fs(hs,o)||(hs=o,o=Po(lc,"onSelect"),0<o.length&&(r=new Xl("onSelect","select",null,r,s),t.push({event:r,listeners:o}),r.target=ii)))}function Ca(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var si={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},uc={},fg={};vr&&(fg=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function Ra(t){if(uc[t])return uc[t];if(!si[t])return t;var r=si[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in fg)return uc[t]=r[s];return t}var hg=Ra("animationend"),gg=Ra("animationiteration"),mg=Ra("animationstart"),m0=Ra("transitionrun"),p0=Ra("transitionstart"),v0=Ra("transitioncancel"),pg=Ra("transitionend"),vg=new Map,cc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cc.push("scrollEnd");function In(t,r){vg.set(t,r),Ea(r,[t])}var yg=new WeakMap;function Dn(t,r){if(typeof t=="object"&&t!==null){var s=yg.get(t);return s!==void 0?s:(r={value:t,source:r,stack:kh(r)},yg.set(t,r),r)}return{value:t,source:r,stack:kh(r)}}var Nn=[],li=0,dc=0;function Zl(){for(var t=li,r=dc=li=0;r<t;){var s=Nn[r];Nn[r++]=null;var o=Nn[r];Nn[r++]=null;var d=Nn[r];Nn[r++]=null;var g=Nn[r];if(Nn[r++]=null,o!==null&&d!==null){var _=o.pending;_===null?d.next=d:(d.next=_.next,_.next=d),o.pending=d}g!==0&&_g(s,d,g)}}function Jl(t,r,s,o){Nn[li++]=t,Nn[li++]=r,Nn[li++]=s,Nn[li++]=o,dc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function fc(t,r,s,o){return Jl(t,r,s,o),eo(t)}function oi(t,r){return Jl(t,null,null,r),eo(t)}function _g(t,r,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var d=!1,g=t.return;g!==null;)g.childLanes|=s,o=g.alternate,o!==null&&(o.childLanes|=s),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(d=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,d&&r!==null&&(d=31-He(s),t=g.hiddenUpdates,o=t[d],o===null?t[d]=[r]:o.push(r),r.lane=s|536870912),g):null}function eo(t){if(50<$s)throw $s=0,yd=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ui={};function y0(t,r,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,r,s,o){return new y0(t,r,s,o)}function hc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yr(t,r){var s=t.alternate;return s===null?(s=_n(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function bg(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function to(t,r,s,o,d,g){var _=0;if(o=t,typeof t=="function")hc(t)&&(_=1);else if(typeof t=="string")_=bw(t,s,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ee:return t=_n(31,s,r,d),t.elementType=ee,t.lanes=g,t;case E:return Ta(s.children,d,g,r);case C:_=8,d|=24;break;case R:return t=_n(12,s,r,d|2),t.elementType=R,t.lanes=g,t;case k:return t=_n(13,s,r,d),t.elementType=k,t.lanes=g,t;case H:return t=_n(19,s,r,d),t.elementType=H,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:case T:_=10;break e;case M:_=9;break e;case q:_=11;break e;case F:_=14;break e;case B:_=16,o=null;break e}_=29,s=Error(i(130,t===null?"null":typeof t,"")),o=null}return r=_n(_,s,r,d),r.elementType=t,r.type=o,r.lanes=g,r}function Ta(t,r,s,o){return t=_n(7,t,o,r),t.lanes=s,t}function gc(t,r,s){return t=_n(6,t,null,r),t.lanes=s,t}function mc(t,r,s){return r=_n(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ci=[],di=0,no=null,ro=0,jn=[],Mn=0,Aa=null,_r=1,br="";function Oa(t,r){ci[di++]=ro,ci[di++]=no,no=t,ro=r}function wg(t,r,s){jn[Mn++]=_r,jn[Mn++]=br,jn[Mn++]=Aa,Aa=t;var o=_r;t=br;var d=32-He(o)-1;o&=~(1<<d),s+=1;var g=32-He(r)+d;if(30<g){var _=d-d%5;g=(o&(1<<_)-1).toString(32),o>>=_,d-=_,_r=1<<32-He(r)+d|s<<d|o,br=g+t}else _r=1<<g|s<<d|o,br=t}function pc(t){t.return!==null&&(Oa(t,1),wg(t,1,0))}function vc(t){for(;t===no;)no=ci[--di],ci[di]=null,ro=ci[--di],ci[di]=null;for(;t===Aa;)Aa=jn[--Mn],jn[Mn]=null,br=jn[--Mn],jn[Mn]=null,_r=jn[--Mn],jn[Mn]=null}var sn=null,_t=null,Ye=!1,Da=null,ar=!1,yc=Error(i(519));function Na(t){var r=Error(i(418,""));throw ps(Dn(r,t)),yc}function Sg(t){var r=t.stateNode,s=t.type,o=t.memoizedProps;switch(r[lt]=t,r[ot]=o,s){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(s=0;s<zs.length;s++)$e(zs[s],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":$e("invalid",r),Ph(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Vl(r);break;case"select":$e("invalid",r);break;case"textarea":$e("invalid",r),Fh(r,o.value,o.defaultValue,o.children),Vl(r)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||o.suppressHydrationWarning===!0||Fp(r.textContent,s)?(o.popover!=null&&($e("beforetoggle",r),$e("toggle",r)),o.onScroll!=null&&$e("scroll",r),o.onScrollEnd!=null&&$e("scrollend",r),o.onClick!=null&&(r.onclick=$o),r=!0):r=!1,r||Na(t)}function Eg(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 13:ar=!1;return;case 27:case 3:ar=!0;return;default:sn=sn.return}}function gs(t){if(t!==sn)return!1;if(!Ye)return Eg(t),Ye=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||kd(t.type,t.memoizedProps)),s=!s),s&&_t&&Na(t),Eg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){_t=Bn(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}_t=null}}else r===27?(r=_t,aa(t.type)?(t=$d,$d=null,_t=t):_t=r):_t=sn?Bn(t.stateNode.nextSibling):null;return!0}function ms(){_t=sn=null,Ye=!1}function xg(){var t=Da;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Da=null),t}function ps(t){Da===null?Da=[t]:Da.push(t)}var _c=K(null),ja=null,wr=null;function Vr(t,r,s){Q(_c,r._currentValue),r._currentValue=s}function Sr(t){t._currentValue=_c.current,Y(_c)}function bc(t,r,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===s)break;t=t.return}}function wc(t,r,s,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var g=d.dependencies;if(g!==null){var _=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var D=0;D<r.length;D++)if(S.context===r[D]){g.lanes|=s,S=g.alternate,S!==null&&(S.lanes|=s),bc(g.return,s,t),o||(_=null);break e}g=S.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(i(341));_.lanes|=s,g=_.alternate,g!==null&&(g.lanes|=s),bc(_,s,t),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===t){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function vs(t,r,s,o){t=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var S=d.type;yn(d.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(d===pt.current){if(_=d.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Gs):t=[Gs])}d=d.return}t!==null&&wc(r,t,s,o),r.flags|=262144}function ao(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ma(t){ja=t,wr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return Cg(ja,t)}function io(t,r){return ja===null&&Ma(t),Cg(t,r)}function Cg(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},wr===null){if(t===null)throw Error(i(308));wr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else wr=wr.next=r;return s}var _0=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},b0=e.unstable_scheduleCallback,w0=e.unstable_NormalPriority,kt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sc(){return{controller:new _0,data:new Map,refCount:0}}function ys(t){t.refCount--,t.refCount===0&&b0(w0,function(){t.controller.abort()})}var _s=null,Ec=0,fi=0,hi=null;function S0(t,r){if(_s===null){var s=_s=[];Ec=0,fi=Cd(),hi={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Ec++,r.then(Rg,Rg),r}function Rg(){if(--Ec===0&&_s!==null){hi!==null&&(hi.status="fulfilled");var t=_s;_s=null,fi=0,hi=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function E0(t,r){var s=[],o={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var d=0;d<s.length;d++)(0,s[d])(r)},function(d){for(o.status="rejected",o.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),o}var Tg=$.S;$.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&S0(t,r),Tg!==null&&Tg(t,r)};var ka=K(null);function xc(){var t=ka.current;return t!==null?t:it.pooledCache}function so(t,r){r===null?Q(ka,ka.current):Q(ka,r.pool)}function Ag(){var t=xc();return t===null?null:{parent:kt._currentValue,pool:t}}var bs=Error(i(460)),Og=Error(i(474)),lo=Error(i(542)),Cc={then:function(){}};function Dg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function oo(){}function Ng(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(oo,oo),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Mg(t),t;default:if(typeof r.status=="string")r.then(oo,oo);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=o}},function(o){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Mg(t),t}throw ws=r,bs}}var ws=null;function jg(){if(ws===null)throw Error(i(459));var t=ws;return ws=null,t}function Mg(t){if(t===bs||t===lo)throw Error(i(483))}var Br=!1;function Rc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tc(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gr(t,r,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ke&2)!==0){var d=o.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),o.pending=r,r=eo(t),_g(t,null,s),r}return Jl(t,o,r,s),eo(t)}function Ss(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,Hn(t,s)}}function Ac(t,r){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var d=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?d=g=_:g=g.next=_,s=s.next}while(s!==null);g===null?d=g=r:g=g.next=r}else d=g=r;s={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Oc=!1;function Es(){if(Oc){var t=hi;if(t!==null)throw t}}function xs(t,r,s,o){Oc=!1;var d=t.updateQueue;Br=!1;var g=d.firstBaseUpdate,_=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var D=S,z=D.next;D.next=null,_===null?g=z:_.next=z,_=D;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=z:S.next=z,X.lastBaseUpdate=D))}if(g!==null){var J=d.baseState;_=0,X=z=D=null,S=g;do{var I=S.lane&-536870913,V=I!==S.lane;if(V?(Ie&I)===I:(o&I)===I){I!==0&&I===fi&&(Oc=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Re=t,xe=S;I=r;var Je=s;switch(xe.tag){case 1:if(Re=xe.payload,typeof Re=="function"){J=Re.call(Je,J,I);break e}J=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=xe.payload,I=typeof Re=="function"?Re.call(Je,J,I):Re,I==null)break e;J=v({},J,I);break e;case 2:Br=!0}}I=S.callback,I!==null&&(t.flags|=64,V&&(t.flags|=8192),V=d.callbacks,V===null?d.callbacks=[I]:V.push(I))}else V={lane:I,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(z=X=V,D=J):X=X.next=V,_|=I;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;V=S,S=V.next,V.next=null,d.lastBaseUpdate=V,d.shared.pending=null}}while(!0);X===null&&(D=J),d.baseState=D,d.firstBaseUpdate=z,d.lastBaseUpdate=X,g===null&&(d.shared.lanes=0),ea|=_,t.lanes=_,t.memoizedState=J}}function kg(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function Ug(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)kg(s[t],r)}var gi=K(null),uo=K(0);function Lg(t,r){t=Or,Q(uo,t),Q(gi,r),Or=t|r.baseLanes}function Dc(){Q(uo,Or),Q(gi,gi.current)}function Nc(){Or=uo.current,Y(gi),Y(uo)}var Yr=0,ke=null,Qe=null,Ct=null,co=!1,mi=!1,Ua=!1,fo=0,Cs=0,pi=null,x0=0;function St(){throw Error(i(321))}function jc(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!yn(t[s],r[s]))return!1;return!0}function Mc(t,r,s,o,d,g){return Yr=g,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?_m:bm,Ua=!1,g=s(o,d),Ua=!1,mi&&(g=$g(r,s,o,d)),Pg(t),g}function Pg(t){$.H=yo;var r=Qe!==null&&Qe.next!==null;if(Yr=0,Ct=Qe=ke=null,co=!1,Cs=0,pi=null,r)throw Error(i(300));t===null||zt||(t=t.dependencies,t!==null&&ao(t)&&(zt=!0))}function $g(t,r,s,o){ke=t;var d=0;do{if(mi&&(pi=null),Cs=0,mi=!1,25<=d)throw Error(i(301));if(d+=1,Ct=Qe=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}$.H=N0,g=r(s,o)}while(mi);return g}function C0(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?Rs(r):r,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(ke.flags|=1024),r}function kc(){var t=fo!==0;return fo=0,t}function Uc(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function Lc(t){if(co){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}co=!1}Yr=0,Ct=Qe=ke=null,mi=!1,Cs=fo=0,pi=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?ke.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Rt(){if(Qe===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var r=Ct===null?ke.memoizedState:Ct.next;if(r!==null)Ct=r,Qe=t;else{if(t===null)throw ke.alternate===null?Error(i(467)):Error(i(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Ct===null?ke.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rs(t){var r=Cs;return Cs+=1,pi===null&&(pi=[]),t=Ng(pi,t,r),r=ke,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?_m:bm),t}function ho(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rs(t);if(t.$$typeof===T)return en(t)}throw Error(i(438,String(t)))}function $c(t){var r=null,s=ke.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var o=ke.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=Pc(),ke.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),o=0;o<t;o++)s[o]=le;return r.index++,s}function Er(t,r){return typeof r=="function"?r(t):r}function go(t){var r=Rt();return Fc(r,Qe,t)}function Fc(t,r,s){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var d=t.baseQueue,g=o.pending;if(g!==null){if(d!==null){var _=d.next;d.next=g.next,g.next=_}r.baseQueue=d=g,o.pending=null}if(g=t.baseState,d===null)t.memoizedState=g;else{r=d.next;var S=_=null,D=null,z=r,X=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Ie&J)===J:(Yr&J)===J){var I=z.revertLane;if(I===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===fi&&(X=!0);else if((Yr&I)===I){z=z.next,I===fi&&(X=!0);continue}else J={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(S=D=J,_=g):D=D.next=J,ke.lanes|=I,ea|=I;J=z.action,Ua&&s(g,J),g=z.hasEagerState?z.eagerState:s(g,J)}else I={lane:J,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(S=D=I,_=g):D=D.next=I,ke.lanes|=J,ea|=J;z=z.next}while(z!==null&&z!==r);if(D===null?_=g:D.next=S,!yn(g,t.memoizedState)&&(zt=!0,X&&(s=hi,s!==null)))throw s;t.memoizedState=g,t.baseState=_,t.baseQueue=D,o.lastRenderedState=g}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function zc(t){var r=Rt(),s=r.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var o=s.dispatch,d=s.pending,g=r.memoizedState;if(d!==null){s.pending=null;var _=d=d.next;do g=t(g,_.action),_=_.next;while(_!==d);yn(g,r.memoizedState)||(zt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),s.lastRenderedState=g}return[g,o]}function Fg(t,r,s){var o=ke,d=Rt(),g=Ye;if(g){if(s===void 0)throw Error(i(407));s=s()}else s=r();var _=!yn((Qe||d).memoizedState,s);_&&(d.memoizedState=s,zt=!0),d=d.queue;var S=Ig.bind(null,o,d,t);if(Ts(2048,8,S,[t]),d.getSnapshot!==r||_||Ct!==null&&Ct.memoizedState.tag&1){if(o.flags|=2048,vi(9,mo(),Hg.bind(null,o,d,s,r),null),it===null)throw Error(i(349));g||(Yr&124)!==0||zg(o,r,s)}return s}function zg(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=ke.updateQueue,r===null?(r=Pc(),ke.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function Hg(t,r,s,o){r.value=s,r.getSnapshot=o,Vg(r)&&Bg(t)}function Ig(t,r,s){return s(function(){Vg(r)&&Bg(t)})}function Vg(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!yn(t,s)}catch{return!0}}function Bg(t){var r=oi(t,2);r!==null&&xn(r,t,2)}function Hc(t){var r=dn();if(typeof t=="function"){var s=t;if(t=s(),Ua){Oe(!0);try{s()}finally{Oe(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:t},r}function qg(t,r,s,o){return t.baseState=s,Fc(t,Qe,typeof o=="function"?o:Er)}function R0(t,r,s,o,d){if(vo(t))throw Error(i(485));if(t=r.action,t!==null){var g={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};$.T!==null?s(!0):g.isTransition=!1,o(g),s=r.pending,s===null?(g.next=r.pending=g,Gg(r,g)):(g.next=s.next,r.pending=s.next=g)}}function Gg(t,r){var s=r.action,o=r.payload,d=t.state;if(r.isTransition){var g=$.T,_={};$.T=_;try{var S=s(d,o),D=$.S;D!==null&&D(_,S),Yg(t,r,S)}catch(z){Ic(t,r,z)}finally{$.T=g}}else try{g=s(d,o),Yg(t,r,g)}catch(z){Ic(t,r,z)}}function Yg(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Kg(t,r,o)},function(o){return Ic(t,r,o)}):Kg(t,r,s)}function Kg(t,r,s){r.status="fulfilled",r.value=s,Xg(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,Gg(t,s)))}function Ic(t,r,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=s,Xg(r),r=r.next;while(r!==o)}t.action=null}function Xg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Wg(t,r){return r}function Qg(t,r){if(Ye){var s=it.formState;if(s!==null){e:{var o=ke;if(Ye){if(_t){t:{for(var d=_t,g=ar;d.nodeType!==8;){if(!g){d=null;break t}if(d=Bn(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){_t=Bn(d.nextSibling),o=d.data==="F!";break e}}Na(o)}o=!1}o&&(r=s[0])}}return s=dn(),s.memoizedState=s.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wg,lastRenderedState:r},s.queue=o,s=pm.bind(null,ke,o),o.dispatch=s,o=Hc(!1),g=Yc.bind(null,ke,!1,o.queue),o=dn(),d={state:r,dispatch:null,action:t,pending:null},o.queue=d,s=R0.bind(null,ke,d,g,s),d.dispatch=s,o.memoizedState=t,[r,s,!1]}function Zg(t){var r=Rt();return Jg(r,Qe,t)}function Jg(t,r,s){if(r=Fc(t,r,Wg)[0],t=go(Er)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=Rs(r)}catch(_){throw _===bs?lo:_}else o=r;r=Rt();var d=r.queue,g=d.dispatch;return s!==r.memoizedState&&(ke.flags|=2048,vi(9,mo(),T0.bind(null,d,s),null)),[o,g,t]}function T0(t,r){t.action=r}function em(t){var r=Rt(),s=Qe;if(s!==null)return Jg(r,s,t);Rt(),r=r.memoizedState,s=Rt();var o=s.queue.dispatch;return s.memoizedState=t,[r,o,!1]}function vi(t,r,s,o){return t={tag:t,create:s,deps:o,inst:r,next:null},r=ke.updateQueue,r===null&&(r=Pc(),ke.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,r.lastEffect=t),t}function mo(){return{destroy:void 0,resource:void 0}}function tm(){return Rt().memoizedState}function po(t,r,s,o){var d=dn();o=o===void 0?null:o,ke.flags|=t,d.memoizedState=vi(1|r,mo(),s,o)}function Ts(t,r,s,o){var d=Rt();o=o===void 0?null:o;var g=d.memoizedState.inst;Qe!==null&&o!==null&&jc(o,Qe.memoizedState.deps)?d.memoizedState=vi(r,g,s,o):(ke.flags|=t,d.memoizedState=vi(1|r,g,s,o))}function nm(t,r){po(8390656,8,t,r)}function rm(t,r){Ts(2048,8,t,r)}function am(t,r){return Ts(4,2,t,r)}function im(t,r){return Ts(4,4,t,r)}function sm(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function lm(t,r,s){s=s!=null?s.concat([t]):null,Ts(4,4,sm.bind(null,r,t),s)}function Vc(){}function om(t,r){var s=Rt();r=r===void 0?null:r;var o=s.memoizedState;return r!==null&&jc(r,o[1])?o[0]:(s.memoizedState=[t,r],t)}function um(t,r){var s=Rt();r=r===void 0?null:r;var o=s.memoizedState;if(r!==null&&jc(r,o[1]))return o[0];if(o=t(),Ua){Oe(!0);try{t()}finally{Oe(!1)}}return s.memoizedState=[o,r],o}function Bc(t,r,s){return s===void 0||(Yr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=fp(),ke.lanes|=t,ea|=t,s)}function cm(t,r,s,o){return yn(s,r)?s:gi.current!==null?(t=Bc(t,s,o),yn(t,r)||(zt=!0),t):(Yr&42)===0?(zt=!0,t.memoizedState=s):(t=fp(),ke.lanes|=t,ea|=t,r)}function dm(t,r,s,o,d){var g=Z.p;Z.p=g!==0&&8>g?g:8;var _=$.T,S={};$.T=S,Yc(t,!1,r,s);try{var D=d(),z=$.S;if(z!==null&&z(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=E0(D,o);As(t,r,X,En(t))}else As(t,r,o,En(t))}catch(J){As(t,r,{then:function(){},status:"rejected",reason:J},En())}finally{Z.p=g,$.T=_}}function A0(){}function qc(t,r,s,o){if(t.tag!==5)throw Error(i(476));var d=fm(t).queue;dm(t,d,r,de,s===null?A0:function(){return hm(t),s(o)})}function fm(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:de},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function hm(t){var r=fm(t).next.queue;As(t,r,{},En())}function Gc(){return en(Gs)}function gm(){return Rt().memoizedState}function mm(){return Rt().memoizedState}function O0(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=En();t=qr(s);var o=Gr(r,t,s);o!==null&&(xn(o,r,s),Ss(o,r,s)),r={cache:Sc()},t.payload=r;return}r=r.return}}function D0(t,r,s){var o=En();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},vo(t)?vm(r,s):(s=fc(t,r,s,o),s!==null&&(xn(s,t,o),ym(s,r,o)))}function pm(t,r,s){var o=En();As(t,r,s,o)}function As(t,r,s,o){var d={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(vo(t))vm(r,d);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var _=r.lastRenderedState,S=g(_,s);if(d.hasEagerState=!0,d.eagerState=S,yn(S,_))return Jl(t,r,d,0),it===null&&Zl(),!1}catch{}finally{}if(s=fc(t,r,d,o),s!==null)return xn(s,t,o),ym(s,r,o),!0}return!1}function Yc(t,r,s,o){if(o={lane:2,revertLane:Cd(),action:o,hasEagerState:!1,eagerState:null,next:null},vo(t)){if(r)throw Error(i(479))}else r=fc(t,s,o,2),r!==null&&xn(r,t,2)}function vo(t){var r=t.alternate;return t===ke||r!==null&&r===ke}function vm(t,r){mi=co=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function ym(t,r,s){if((s&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,Hn(t,s)}}var yo={readContext:en,use:ho,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},_m={readContext:en,use:ho,useCallback:function(t,r){return dn().memoizedState=[t,r===void 0?null:r],t},useContext:en,useEffect:nm,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,po(4194308,4,sm.bind(null,r,t),s)},useLayoutEffect:function(t,r){return po(4194308,4,t,r)},useInsertionEffect:function(t,r){po(4,2,t,r)},useMemo:function(t,r){var s=dn();r=r===void 0?null:r;var o=t();if(Ua){Oe(!0);try{t()}finally{Oe(!1)}}return s.memoizedState=[o,r],o},useReducer:function(t,r,s){var o=dn();if(s!==void 0){var d=s(r);if(Ua){Oe(!0);try{s(r)}finally{Oe(!1)}}}else d=r;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=D0.bind(null,ke,t),[o.memoizedState,t]},useRef:function(t){var r=dn();return t={current:t},r.memoizedState=t},useState:function(t){t=Hc(t);var r=t.queue,s=pm.bind(null,ke,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:Vc,useDeferredValue:function(t,r){var s=dn();return Bc(s,t,r)},useTransition:function(){var t=Hc(!1);return t=dm.bind(null,ke,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var o=ke,d=dn();if(Ye){if(s===void 0)throw Error(i(407));s=s()}else{if(s=r(),it===null)throw Error(i(349));(Ie&124)!==0||zg(o,r,s)}d.memoizedState=s;var g={value:s,getSnapshot:r};return d.queue=g,nm(Ig.bind(null,o,g,t),[t]),o.flags|=2048,vi(9,mo(),Hg.bind(null,o,g,s,r),null),s},useId:function(){var t=dn(),r=it.identifierPrefix;if(Ye){var s=br,o=_r;s=(o&~(1<<32-He(o)-1)).toString(32)+s,r="«"+r+"R"+s,s=fo++,0<s&&(r+="H"+s.toString(32)),r+="»"}else s=x0++,r="«"+r+"r"+s.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:Gc,useFormState:Qg,useActionState:Qg,useOptimistic:function(t){var r=dn();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Yc.bind(null,ke,!0,s),s.dispatch=r,[t,r]},useMemoCache:$c,useCacheRefresh:function(){return dn().memoizedState=O0.bind(null,ke)}},bm={readContext:en,use:ho,useCallback:om,useContext:en,useEffect:rm,useImperativeHandle:lm,useInsertionEffect:am,useLayoutEffect:im,useMemo:um,useReducer:go,useRef:tm,useState:function(){return go(Er)},useDebugValue:Vc,useDeferredValue:function(t,r){var s=Rt();return cm(s,Qe.memoizedState,t,r)},useTransition:function(){var t=go(Er)[0],r=Rt().memoizedState;return[typeof t=="boolean"?t:Rs(t),r]},useSyncExternalStore:Fg,useId:gm,useHostTransitionStatus:Gc,useFormState:Zg,useActionState:Zg,useOptimistic:function(t,r){var s=Rt();return qg(s,Qe,t,r)},useMemoCache:$c,useCacheRefresh:mm},N0={readContext:en,use:ho,useCallback:om,useContext:en,useEffect:rm,useImperativeHandle:lm,useInsertionEffect:am,useLayoutEffect:im,useMemo:um,useReducer:zc,useRef:tm,useState:function(){return zc(Er)},useDebugValue:Vc,useDeferredValue:function(t,r){var s=Rt();return Qe===null?Bc(s,t,r):cm(s,Qe.memoizedState,t,r)},useTransition:function(){var t=zc(Er)[0],r=Rt().memoizedState;return[typeof t=="boolean"?t:Rs(t),r]},useSyncExternalStore:Fg,useId:gm,useHostTransitionStatus:Gc,useFormState:em,useActionState:em,useOptimistic:function(t,r){var s=Rt();return Qe!==null?qg(s,Qe,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:$c,useCacheRefresh:mm},yi=null,Os=0;function _o(t){var r=Os;return Os+=1,yi===null&&(yi=[]),Ng(yi,t,r)}function Ds(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function bo(t,r){throw r.$$typeof===y?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function wm(t){var r=t._init;return r(t._payload)}function Sm(t){function r(U,j){if(t){var P=U.deletions;P===null?(U.deletions=[j],U.flags|=16):P.push(j)}}function s(U,j){if(!t)return null;for(;j!==null;)r(U,j),j=j.sibling;return null}function o(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function d(U,j){return U=yr(U,j),U.index=0,U.sibling=null,U}function g(U,j,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<j?(U.flags|=67108866,j):P):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function S(U,j,P,W){return j===null||j.tag!==6?(j=gc(P,U.mode,W),j.return=U,j):(j=d(j,P),j.return=U,j)}function D(U,j,P,W){var pe=P.type;return pe===E?X(U,j,P.props.children,W,P.key):j!==null&&(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===B&&wm(pe)===j.type)?(j=d(j,P.props),Ds(j,P),j.return=U,j):(j=to(P.type,P.key,P.props,null,U.mode,W),Ds(j,P),j.return=U,j)}function z(U,j,P,W){return j===null||j.tag!==4||j.stateNode.containerInfo!==P.containerInfo||j.stateNode.implementation!==P.implementation?(j=mc(P,U.mode,W),j.return=U,j):(j=d(j,P.children||[]),j.return=U,j)}function X(U,j,P,W,pe){return j===null||j.tag!==7?(j=Ta(P,U.mode,W,pe),j.return=U,j):(j=d(j,P),j.return=U,j)}function J(U,j,P){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=gc(""+j,U.mode,P),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return P=to(j.type,j.key,j.props,null,U.mode,P),Ds(P,j),P.return=U,P;case b:return j=mc(j,U.mode,P),j.return=U,j;case B:var W=j._init;return j=W(j._payload),J(U,j,P)}if(ce(j)||ae(j))return j=Ta(j,U.mode,P,null),j.return=U,j;if(typeof j.then=="function")return J(U,_o(j),P);if(j.$$typeof===T)return J(U,io(U,j),P);bo(U,j)}return null}function I(U,j,P,W){var pe=j!==null?j.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pe!==null?null:S(U,j,""+P,W);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case w:return P.key===pe?D(U,j,P,W):null;case b:return P.key===pe?z(U,j,P,W):null;case B:return pe=P._init,P=pe(P._payload),I(U,j,P,W)}if(ce(P)||ae(P))return pe!==null?null:X(U,j,P,W,null);if(typeof P.then=="function")return I(U,j,_o(P),W);if(P.$$typeof===T)return I(U,j,io(U,P),W);bo(U,P)}return null}function V(U,j,P,W,pe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(P)||null,S(j,U,""+W,pe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return U=U.get(W.key===null?P:W.key)||null,D(j,U,W,pe);case b:return U=U.get(W.key===null?P:W.key)||null,z(j,U,W,pe);case B:var Le=W._init;return W=Le(W._payload),V(U,j,P,W,pe)}if(ce(W)||ae(W))return U=U.get(P)||null,X(j,U,W,pe,null);if(typeof W.then=="function")return V(U,j,P,_o(W),pe);if(W.$$typeof===T)return V(U,j,P,io(j,W),pe);bo(j,W)}return null}function Re(U,j,P,W){for(var pe=null,Le=null,be=j,Ce=j=0,It=null;be!==null&&Ce<P.length;Ce++){be.index>Ce?(It=be,be=null):It=be.sibling;var Be=I(U,be,P[Ce],W);if(Be===null){be===null&&(be=It);break}t&&be&&Be.alternate===null&&r(U,be),j=g(Be,j,Ce),Le===null?pe=Be:Le.sibling=Be,Le=Be,be=It}if(Ce===P.length)return s(U,be),Ye&&Oa(U,Ce),pe;if(be===null){for(;Ce<P.length;Ce++)be=J(U,P[Ce],W),be!==null&&(j=g(be,j,Ce),Le===null?pe=be:Le.sibling=be,Le=be);return Ye&&Oa(U,Ce),pe}for(be=o(be);Ce<P.length;Ce++)It=V(be,U,Ce,P[Ce],W),It!==null&&(t&&It.alternate!==null&&be.delete(It.key===null?Ce:It.key),j=g(It,j,Ce),Le===null?pe=It:Le.sibling=It,Le=It);return t&&be.forEach(function(ua){return r(U,ua)}),Ye&&Oa(U,Ce),pe}function xe(U,j,P,W){if(P==null)throw Error(i(151));for(var pe=null,Le=null,be=j,Ce=j=0,It=null,Be=P.next();be!==null&&!Be.done;Ce++,Be=P.next()){be.index>Ce?(It=be,be=null):It=be.sibling;var ua=I(U,be,Be.value,W);if(ua===null){be===null&&(be=It);break}t&&be&&ua.alternate===null&&r(U,be),j=g(ua,j,Ce),Le===null?pe=ua:Le.sibling=ua,Le=ua,be=It}if(Be.done)return s(U,be),Ye&&Oa(U,Ce),pe;if(be===null){for(;!Be.done;Ce++,Be=P.next())Be=J(U,Be.value,W),Be!==null&&(j=g(Be,j,Ce),Le===null?pe=Be:Le.sibling=Be,Le=Be);return Ye&&Oa(U,Ce),pe}for(be=o(be);!Be.done;Ce++,Be=P.next())Be=V(be,U,Ce,Be.value,W),Be!==null&&(t&&Be.alternate!==null&&be.delete(Be.key===null?Ce:Be.key),j=g(Be,j,Ce),Le===null?pe=Be:Le.sibling=Be,Le=Be);return t&&be.forEach(function(jw){return r(U,jw)}),Ye&&Oa(U,Ce),pe}function Je(U,j,P,W){if(typeof P=="object"&&P!==null&&P.type===E&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case w:e:{for(var pe=P.key;j!==null;){if(j.key===pe){if(pe=P.type,pe===E){if(j.tag===7){s(U,j.sibling),W=d(j,P.props.children),W.return=U,U=W;break e}}else if(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===B&&wm(pe)===j.type){s(U,j.sibling),W=d(j,P.props),Ds(W,P),W.return=U,U=W;break e}s(U,j);break}else r(U,j);j=j.sibling}P.type===E?(W=Ta(P.props.children,U.mode,W,P.key),W.return=U,U=W):(W=to(P.type,P.key,P.props,null,U.mode,W),Ds(W,P),W.return=U,U=W)}return _(U);case b:e:{for(pe=P.key;j!==null;){if(j.key===pe)if(j.tag===4&&j.stateNode.containerInfo===P.containerInfo&&j.stateNode.implementation===P.implementation){s(U,j.sibling),W=d(j,P.children||[]),W.return=U,U=W;break e}else{s(U,j);break}else r(U,j);j=j.sibling}W=mc(P,U.mode,W),W.return=U,U=W}return _(U);case B:return pe=P._init,P=pe(P._payload),Je(U,j,P,W)}if(ce(P))return Re(U,j,P,W);if(ae(P)){if(pe=ae(P),typeof pe!="function")throw Error(i(150));return P=pe.call(P),xe(U,j,P,W)}if(typeof P.then=="function")return Je(U,j,_o(P),W);if(P.$$typeof===T)return Je(U,j,io(U,P),W);bo(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,j!==null&&j.tag===6?(s(U,j.sibling),W=d(j,P),W.return=U,U=W):(s(U,j),W=gc(P,U.mode,W),W.return=U,U=W),_(U)):s(U,j)}return function(U,j,P,W){try{Os=0;var pe=Je(U,j,P,W);return yi=null,pe}catch(be){if(be===bs||be===lo)throw be;var Le=_n(29,be,null,U.mode);return Le.lanes=W,Le.return=U,Le}finally{}}}var _i=Sm(!0),Em=Sm(!1),kn=K(null),ir=null;function Kr(t){var r=t.alternate;Q(Ut,Ut.current&1),Q(kn,t),ir===null&&(r===null||gi.current!==null||r.memoizedState!==null)&&(ir=t)}function xm(t){if(t.tag===22){if(Q(Ut,Ut.current),Q(kn,t),ir===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(ir=t)}}else Xr()}function Xr(){Q(Ut,Ut.current),Q(kn,kn.current)}function xr(t){Y(kn),ir===t&&(ir=null),Y(Ut)}var Ut=K(0);function wo(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Pd(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Kc(t,r,s,o){r=t.memoizedState,s=s(o,r),s=s==null?r:v({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Xc={enqueueSetState:function(t,r,s){t=t._reactInternals;var o=En(),d=qr(o);d.payload=r,s!=null&&(d.callback=s),r=Gr(t,d,o),r!==null&&(xn(r,t,o),Ss(r,t,o))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var o=En(),d=qr(o);d.tag=1,d.payload=r,s!=null&&(d.callback=s),r=Gr(t,d,o),r!==null&&(xn(r,t,o),Ss(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=En(),o=qr(s);o.tag=2,r!=null&&(o.callback=r),r=Gr(t,o,s),r!==null&&(xn(r,t,s),Ss(r,t,s))}};function Cm(t,r,s,o,d,g,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,g,_):r.prototype&&r.prototype.isPureReactComponent?!fs(s,o)||!fs(d,g):!0}function Rm(t,r,s,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,o),r.state!==t&&Xc.enqueueReplaceState(r,r.state,null)}function La(t,r){var s=r;if("ref"in r){s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}if(t=t.defaultProps){s===r&&(s=v({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}var So=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Tm(t){So(t)}function Am(t){console.error(t)}function Om(t){So(t)}function Eo(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function Dm(t,r,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Wc(t,r,s){return s=qr(s),s.tag=3,s.payload={element:null},s.callback=function(){Eo(t,r)},s}function Nm(t){return t=qr(t),t.tag=3,t}function jm(t,r,s,o){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var g=o.value;t.payload=function(){return d(g)},t.callback=function(){Dm(r,s,o)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Dm(r,s,o),typeof d!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function j0(t,r,s,o,d){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=s.alternate,r!==null&&vs(r,s,d,!0),s=kn.current,s!==null){switch(s.tag){case 13:return ir===null?bd():s.alternate===null&&bt===0&&(bt=3),s.flags&=-257,s.flags|=65536,s.lanes=d,o===Cc?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([o]):r.add(o),Sd(t,o,d)),!1;case 22:return s.flags|=65536,o===Cc?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([o]):s.add(o)),Sd(t,o,d)),!1}throw Error(i(435,s.tag))}return Sd(t,o,d),bd(),!1}if(Ye)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,o!==yc&&(t=Error(i(422),{cause:o}),ps(Dn(t,s)))):(o!==yc&&(r=Error(i(423),{cause:o}),ps(Dn(r,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=Dn(o,s),d=Wc(t.stateNode,o,d),Ac(t,d),bt!==4&&(bt=2)),!1;var g=Error(i(520),{cause:o});if(g=Dn(g,s),Ps===null?Ps=[g]:Ps.push(g),bt!==4&&(bt=2),r===null)return!0;o=Dn(o,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=Wc(s.stateNode,o,t),Ac(s,t),!1;case 1:if(r=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ta===null||!ta.has(g))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Nm(d),jm(d,t,s,o),Ac(s,d),!1}s=s.return}while(s!==null);return!1}var Mm=Error(i(461)),zt=!1;function Yt(t,r,s,o){r.child=t===null?Em(r,null,s,o):_i(r,t.child,s,o)}function km(t,r,s,o,d){s=s.render;var g=r.ref;if("ref"in o){var _={};for(var S in o)S!=="ref"&&(_[S]=o[S])}else _=o;return Ma(r),o=Mc(t,r,s,_,g,d),S=kc(),t!==null&&!zt?(Uc(t,r,d),Cr(t,r,d)):(Ye&&S&&pc(r),r.flags|=1,Yt(t,r,o,d),r.child)}function Um(t,r,s,o,d){if(t===null){var g=s.type;return typeof g=="function"&&!hc(g)&&g.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=g,Lm(t,r,g,o,d)):(t=to(s.type,null,o,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(g=t.child,!ad(t,d)){var _=g.memoizedProps;if(s=s.compare,s=s!==null?s:fs,s(_,o)&&t.ref===r.ref)return Cr(t,r,d)}return r.flags|=1,t=yr(g,o),t.ref=r.ref,t.return=r,r.child=t}function Lm(t,r,s,o,d){if(t!==null){var g=t.memoizedProps;if(fs(g,o)&&t.ref===r.ref)if(zt=!1,r.pendingProps=o=g,ad(t,d))(t.flags&131072)!==0&&(zt=!0);else return r.lanes=t.lanes,Cr(t,r,d)}return Qc(t,r,s,o,d)}function Pm(t,r,s){var o=r.pendingProps,d=o.children,g=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=g!==null?g.baseLanes|s:s,t!==null){for(d=r.child=t.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;r.childLanes=g&~o}else r.childLanes=0,r.child=null;return $m(t,r,o,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&so(r,g!==null?g.cachePool:null),g!==null?Lg(r,g):Dc(),xm(r);else return r.lanes=r.childLanes=536870912,$m(t,r,g!==null?g.baseLanes|s:s,s)}else g!==null?(so(r,g.cachePool),Lg(r,g),Xr(),r.memoizedState=null):(t!==null&&so(r,null),Dc(),Xr());return Yt(t,r,d,s),r.child}function $m(t,r,s,o){var d=xc();return d=d===null?null:{parent:kt._currentValue,pool:d},r.memoizedState={baseLanes:s,cachePool:d},t!==null&&so(r,null),Dc(),xm(r),t!==null&&vs(t,r,o,!0),null}function xo(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function Qc(t,r,s,o,d){return Ma(r),s=Mc(t,r,s,o,void 0,d),o=kc(),t!==null&&!zt?(Uc(t,r,d),Cr(t,r,d)):(Ye&&o&&pc(r),r.flags|=1,Yt(t,r,s,d),r.child)}function Fm(t,r,s,o,d,g){return Ma(r),r.updateQueue=null,s=$g(r,o,s,d),Pg(t),o=kc(),t!==null&&!zt?(Uc(t,r,g),Cr(t,r,g)):(Ye&&o&&pc(r),r.flags|=1,Yt(t,r,s,g),r.child)}function zm(t,r,s,o,d){if(Ma(r),r.stateNode===null){var g=ui,_=s.contextType;typeof _=="object"&&_!==null&&(g=en(_)),g=new s(o,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Xc,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=o,g.state=r.memoizedState,g.refs={},Rc(r),_=s.contextType,g.context=typeof _=="object"&&_!==null?en(_):ui,g.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Kc(r,s,_,o),g.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&Xc.enqueueReplaceState(g,g.state,null),xs(r,o,g,d),Es(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){g=r.stateNode;var S=r.memoizedProps,D=La(s,S);g.props=D;var z=g.context,X=s.contextType;_=ui,typeof X=="object"&&X!==null&&(_=en(X));var J=s.getDerivedStateFromProps;X=typeof J=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,X||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||z!==_)&&Rm(r,g,o,_),Br=!1;var I=r.memoizedState;g.state=I,xs(r,o,g,d),Es(),z=r.memoizedState,S||I!==z||Br?(typeof J=="function"&&(Kc(r,s,J,o),z=r.memoizedState),(D=Br||Cm(r,s,D,o,I,z,_))?(X||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=z),g.props=o,g.state=z,g.context=_,o=D):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{g=r.stateNode,Tc(t,r),_=r.memoizedProps,X=La(s,_),g.props=X,J=r.pendingProps,I=g.context,z=s.contextType,D=ui,typeof z=="object"&&z!==null&&(D=en(z)),S=s.getDerivedStateFromProps,(z=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==J||I!==D)&&Rm(r,g,o,D),Br=!1,I=r.memoizedState,g.state=I,xs(r,o,g,d),Es();var V=r.memoizedState;_!==J||I!==V||Br||t!==null&&t.dependencies!==null&&ao(t.dependencies)?(typeof S=="function"&&(Kc(r,s,S,o),V=r.memoizedState),(X=Br||Cm(r,s,X,o,I,V,D)||t!==null&&t.dependencies!==null&&ao(t.dependencies))?(z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,V,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,V,D)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===t.memoizedProps&&I===t.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&I===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=V),g.props=o,g.state=V,g.context=D,o=X):(typeof g.componentDidUpdate!="function"||_===t.memoizedProps&&I===t.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&I===t.memoizedState||(r.flags|=1024),o=!1)}return g=o,xo(t,r),o=(r.flags&128)!==0,g||o?(g=r.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,t!==null&&o?(r.child=_i(r,t.child,null,d),r.child=_i(r,null,s,d)):Yt(t,r,s,d),r.memoizedState=g.state,t=r.child):t=Cr(t,r,d),t}function Hm(t,r,s,o){return ms(),r.flags|=256,Yt(t,r,s,o),r.child}var Zc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jc(t){return{baseLanes:t,cachePool:Ag()}}function ed(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=Un),t}function Im(t,r,s){var o=r.pendingProps,d=!1,g=(r.flags&128)!==0,_;if((_=g)||(_=t!==null&&t.memoizedState===null?!1:(Ut.current&2)!==0),_&&(d=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ye){if(d?Kr(r):Xr(),Ye){var S=_t,D;if(D=S){e:{for(D=S,S=ar;D.nodeType!==8;){if(!S){S=null;break e}if(D=Bn(D.nextSibling),D===null){S=null;break e}}S=D}S!==null?(r.memoizedState={dehydrated:S,treeContext:Aa!==null?{id:_r,overflow:br}:null,retryLane:536870912,hydrationErrors:null},D=_n(18,null,null,0),D.stateNode=S,D.return=r,r.child=D,sn=r,_t=null,D=!0):D=!1}D||Na(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Pd(S)?r.lanes=32:r.lanes=536870912,null;xr(r)}return S=o.children,o=o.fallback,d?(Xr(),d=r.mode,S=Co({mode:"hidden",children:S},d),o=Ta(o,d,s,null),S.return=r,o.return=r,S.sibling=o,r.child=S,d=r.child,d.memoizedState=Jc(s),d.childLanes=ed(t,_,s),r.memoizedState=Zc,o):(Kr(r),td(r,S))}if(D=t.memoizedState,D!==null&&(S=D.dehydrated,S!==null)){if(g)r.flags&256?(Kr(r),r.flags&=-257,r=nd(t,r,s)):r.memoizedState!==null?(Xr(),r.child=t.child,r.flags|=128,r=null):(Xr(),d=o.fallback,S=r.mode,o=Co({mode:"visible",children:o.children},S),d=Ta(d,S,s,null),d.flags|=2,o.return=r,d.return=r,o.sibling=d,r.child=o,_i(r,t.child,null,s),o=r.child,o.memoizedState=Jc(s),o.childLanes=ed(t,_,s),r.memoizedState=Zc,r=d);else if(Kr(r),Pd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var z=_.dgst;_=z,o=Error(i(419)),o.stack="",o.digest=_,ps({value:o,source:null,stack:null}),r=nd(t,r,s)}else if(zt||vs(t,r,s,!1),_=(s&t.childLanes)!==0,zt||_){if(_=it,_!==null&&(o=s&-s,o=(o&42)!==0?1:Zt(o),o=(o&(_.suspendedLanes|s))!==0?0:o,o!==0&&o!==D.retryLane))throw D.retryLane=o,oi(t,o),xn(_,t,o),Mm;S.data==="$?"||bd(),r=nd(t,r,s)}else S.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,_t=Bn(S.nextSibling),sn=r,Ye=!0,Da=null,ar=!1,t!==null&&(jn[Mn++]=_r,jn[Mn++]=br,jn[Mn++]=Aa,_r=t.id,br=t.overflow,Aa=r),r=td(r,o.children),r.flags|=4096);return r}return d?(Xr(),d=o.fallback,S=r.mode,D=t.child,z=D.sibling,o=yr(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,z!==null?d=yr(z,d):(d=Ta(d,S,s,null),d.flags|=2),d.return=r,o.return=r,o.sibling=d,r.child=o,o=d,d=r.child,S=t.child.memoizedState,S===null?S=Jc(s):(D=S.cachePool,D!==null?(z=kt._currentValue,D=D.parent!==z?{parent:z,pool:z}:D):D=Ag(),S={baseLanes:S.baseLanes|s,cachePool:D}),d.memoizedState=S,d.childLanes=ed(t,_,s),r.memoizedState=Zc,o):(Kr(r),s=t.child,t=s.sibling,s=yr(s,{mode:"visible",children:o.children}),s.return=r,s.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=s,r.memoizedState=null,s)}function td(t,r){return r=Co({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Co(t,r){return t=_n(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function nd(t,r,s){return _i(r,t.child,null,s),t=td(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Vm(t,r,s){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),bc(t.return,r,s)}function rd(t,r,s,o,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:d}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=d)}function Bm(t,r,s){var o=r.pendingProps,d=o.revealOrder,g=o.tail;if(Yt(t,r,o.children,s),o=Ut.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vm(t,s,r);else if(t.tag===19)Vm(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Q(Ut,o),d){case"forwards":for(s=r.child,d=null;s!==null;)t=s.alternate,t!==null&&wo(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=r.child,r.child=null):(d=s.sibling,s.sibling=null),rd(r,!1,d,s,g);break;case"backwards":for(s=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&wo(t)===null){r.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}rd(r,!0,s,null,g);break;case"together":rd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Cr(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),ea|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(vs(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,s=yr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=yr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function ad(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ao(t)))}function M0(t,r,s){switch(r.tag){case 3:Ve(r,r.stateNode.containerInfo),Vr(r,kt,t.memoizedState.cache),ms();break;case 27:case 5:wt(r);break;case 4:Ve(r,r.stateNode.containerInfo);break;case 10:Vr(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(Kr(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Im(t,r,s):(Kr(r),t=Cr(t,r,s),t!==null?t.sibling:null);Kr(r);break;case 19:var d=(t.flags&128)!==0;if(o=(s&r.childLanes)!==0,o||(vs(t,r,s,!1),o=(s&r.childLanes)!==0),d){if(o)return Bm(t,r,s);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Q(Ut,Ut.current),o)break;return null;case 22:case 23:return r.lanes=0,Pm(t,r,s);case 24:Vr(r,kt,t.memoizedState.cache)}return Cr(t,r,s)}function qm(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)zt=!0;else{if(!ad(t,s)&&(r.flags&128)===0)return zt=!1,M0(t,r,s);zt=(t.flags&131072)!==0}else zt=!1,Ye&&(r.flags&1048576)!==0&&wg(r,ro,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var o=r.elementType,d=o._init;if(o=d(o._payload),r.type=o,typeof o=="function")hc(o)?(t=La(o,t),r.tag=1,r=zm(null,r,o,t,s)):(r.tag=0,r=Qc(null,r,o,t,s));else{if(o!=null){if(d=o.$$typeof,d===q){r.tag=11,r=km(null,r,o,t,s);break e}else if(d===F){r.tag=14,r=Um(null,r,o,t,s);break e}}throw r=ve(o)||o,Error(i(306,r,""))}}return r;case 0:return Qc(t,r,r.type,r.pendingProps,s);case 1:return o=r.type,d=La(o,r.pendingProps),zm(t,r,o,d,s);case 3:e:{if(Ve(r,r.stateNode.containerInfo),t===null)throw Error(i(387));o=r.pendingProps;var g=r.memoizedState;d=g.element,Tc(t,r),xs(r,o,null,s);var _=r.memoizedState;if(o=_.cache,Vr(r,kt,o),o!==g.cache&&wc(r,[kt],s,!0),Es(),o=_.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Hm(t,r,o,s);break e}else if(o!==d){d=Dn(Error(i(424)),r),ps(d),r=Hm(t,r,o,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(_t=Bn(t.firstChild),sn=r,Ye=!0,Da=null,ar=!0,s=Em(r,null,o,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ms(),o===d){r=Cr(t,r,s);break e}Yt(t,r,o,s)}r=r.child}return r;case 26:return xo(t,r),t===null?(s=Xp(r.type,null,r.pendingProps,null))?r.memoizedState=s:Ye||(s=r.type,t=r.pendingProps,o=Fo(ye.current).createElement(s),o[lt]=r,o[ot]=t,Xt(o,s,t),Ft(o),r.stateNode=o):r.memoizedState=Xp(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return wt(r),t===null&&Ye&&(o=r.stateNode=Gp(r.type,r.pendingProps,ye.current),sn=r,ar=!0,d=_t,aa(r.type)?($d=d,_t=Bn(o.firstChild)):_t=d),Yt(t,r,r.pendingProps.children,s),xo(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ye&&((d=o=_t)&&(o=lw(o,r.type,r.pendingProps,ar),o!==null?(r.stateNode=o,sn=r,_t=Bn(o.firstChild),ar=!1,d=!0):d=!1),d||Na(r)),wt(r),d=r.type,g=r.pendingProps,_=t!==null?t.memoizedProps:null,o=g.children,kd(d,g)?o=null:_!==null&&kd(d,_)&&(r.flags|=32),r.memoizedState!==null&&(d=Mc(t,r,C0,null,null,s),Gs._currentValue=d),xo(t,r),Yt(t,r,o,s),r.child;case 6:return t===null&&Ye&&((t=s=_t)&&(s=ow(s,r.pendingProps,ar),s!==null?(r.stateNode=s,sn=r,_t=null,t=!0):t=!1),t||Na(r)),null;case 13:return Im(t,r,s);case 4:return Ve(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=_i(r,null,o,s):Yt(t,r,o,s),r.child;case 11:return km(t,r,r.type,r.pendingProps,s);case 7:return Yt(t,r,r.pendingProps,s),r.child;case 8:return Yt(t,r,r.pendingProps.children,s),r.child;case 12:return Yt(t,r,r.pendingProps.children,s),r.child;case 10:return o=r.pendingProps,Vr(r,r.type,o.value),Yt(t,r,o.children,s),r.child;case 9:return d=r.type._context,o=r.pendingProps.children,Ma(r),d=en(d),o=o(d),r.flags|=1,Yt(t,r,o,s),r.child;case 14:return Um(t,r,r.type,r.pendingProps,s);case 15:return Lm(t,r,r.type,r.pendingProps,s);case 19:return Bm(t,r,s);case 31:return o=r.pendingProps,s=r.mode,o={mode:o.mode,children:o.children},t===null?(s=Co(o,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=yr(t.child,o),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return Pm(t,r,s);case 24:return Ma(r),o=en(kt),t===null?(d=xc(),d===null&&(d=it,g=Sc(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=s),d=g),r.memoizedState={parent:o,cache:d},Rc(r),Vr(r,kt,d)):((t.lanes&s)!==0&&(Tc(t,r),xs(r,null,null,s),Es()),d=t.memoizedState,g=r.memoizedState,d.parent!==o?(d={parent:o,cache:o},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Vr(r,kt,o)):(o=g.cache,Vr(r,kt,o),o!==d.cache&&wc(r,[kt],s,!0))),Yt(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Rr(t){t.flags|=4}function Gm(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ev(r)){if(r=kn.current,r!==null&&((Ie&4194048)===Ie?ir!==null:(Ie&62914560)!==Ie&&(Ie&536870912)===0||r!==ir))throw ws=Cc,Og;t.flags|=8192}}function Ro(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?zl():536870912,t.lanes|=r,Ei|=r)}function Ns(t,r){if(!Ye)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function mt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(r)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=s,r}function k0(t,r,s){var o=r.pendingProps;switch(vc(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(r),null;case 1:return mt(r),null;case 3:return s=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Sr(kt),Nt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(gs(r)?Rr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,xg())),mt(r),null;case 26:return s=r.memoizedState,t===null?(Rr(r),s!==null?(mt(r),Gm(r,s)):(mt(r),r.flags&=-16777217)):s?s!==t.memoizedState?(Rr(r),mt(r),Gm(r,s)):(mt(r),r.flags&=-16777217):(t.memoizedProps!==o&&Rr(r),mt(r),r.flags&=-16777217),null;case 27:Tn(r),s=ye.current;var d=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Rr(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return mt(r),null}t=fe.current,gs(r)?Sg(r):(t=Gp(d,o,s),r.stateNode=t,Rr(r))}return mt(r),null;case 5:if(Tn(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Rr(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return mt(r),null}if(t=fe.current,gs(r))Sg(r);else{switch(d=Fo(ye.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?d.createElement("select",{is:o.is}):d.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?d.createElement(s,{is:o.is}):d.createElement(s)}}t[lt]=r,t[ot]=o;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=t;e:switch(Xt(t,s,o),s){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Rr(r)}}return mt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&Rr(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(i(166));if(t=ye.current,gs(r)){if(t=r.stateNode,s=r.memoizedProps,o=null,d=sn,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[lt]=r,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Fp(t.nodeValue,s)),t||Na(r)}else t=Fo(t).createTextNode(o),t[lt]=r,r.stateNode=t}return mt(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=gs(r),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[lt]=r}else ms(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),d=!1}else d=xg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(xr(r),r):(xr(r),null)}if(xr(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=o!==null,t=t!==null&&t.memoizedState!==null,s){o=r.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==d&&(o.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),Ro(r,r.updateQueue),mt(r),null;case 4:return Nt(),t===null&&Od(r.stateNode.containerInfo),mt(r),null;case 10:return Sr(r.type),mt(r),null;case 19:if(Y(Ut),d=r.memoizedState,d===null)return mt(r),null;if(o=(r.flags&128)!==0,g=d.rendering,g===null)if(o)Ns(d,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(g=wo(t),g!==null){for(r.flags|=128,Ns(d,!1),t=g.updateQueue,r.updateQueue=t,Ro(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)bg(s,t),s=s.sibling;return Q(Ut,Ut.current&1|2),r.child}t=t.sibling}d.tail!==null&&et()>Oo&&(r.flags|=128,o=!0,Ns(d,!1),r.lanes=4194304)}else{if(!o)if(t=wo(g),t!==null){if(r.flags|=128,o=!0,t=t.updateQueue,r.updateQueue=t,Ro(r,t),Ns(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Ye)return mt(r),null}else 2*et()-d.renderingStartTime>Oo&&s!==536870912&&(r.flags|=128,o=!0,Ns(d,!1),r.lanes=4194304);d.isBackwards?(g.sibling=r.child,r.child=g):(t=d.last,t!==null?t.sibling=g:r.child=g,d.last=g)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=et(),r.sibling=null,t=Ut.current,Q(Ut,o?t&1|2:t&1),r):(mt(r),null);case 22:case 23:return xr(r),Nc(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(s&536870912)!==0&&(r.flags&128)===0&&(mt(r),r.subtreeFlags&6&&(r.flags|=8192)):mt(r),s=r.updateQueue,s!==null&&Ro(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048),t!==null&&Y(ka),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Sr(kt),mt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function U0(t,r){switch(vc(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Sr(kt),Nt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Tn(r),null;case 13:if(xr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ms()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Y(Ut),null;case 4:return Nt(),null;case 10:return Sr(r.type),null;case 22:case 23:return xr(r),Nc(),t!==null&&Y(ka),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Sr(kt),null;case 25:return null;default:return null}}function Ym(t,r){switch(vc(r),r.tag){case 3:Sr(kt),Nt();break;case 26:case 27:case 5:Tn(r);break;case 4:Nt();break;case 13:xr(r);break;case 19:Y(Ut);break;case 10:Sr(r.type);break;case 22:case 23:xr(r),Nc(),t!==null&&Y(ka);break;case 24:Sr(kt)}}function js(t,r){try{var s=r.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var d=o.next;s=d;do{if((s.tag&t)===t){o=void 0;var g=s.create,_=s.inst;o=g(),_.destroy=o}s=s.next}while(s!==d)}}catch(S){tt(r,r.return,S)}}function Wr(t,r,s){try{var o=r.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var g=d.next;o=g;do{if((o.tag&t)===t){var _=o.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,d=r;var D=s,z=S;try{z()}catch(X){tt(d,D,X)}}}o=o.next}while(o!==g)}}catch(X){tt(r,r.return,X)}}function Km(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{Ug(r,s)}catch(o){tt(t,t.return,o)}}}function Xm(t,r,s){s.props=La(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){tt(t,r,o)}}function Ms(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(d){tt(t,r,d)}}function sr(t,r){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(d){tt(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){tt(t,r,d)}else s.current=null}function Wm(t){var r=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(d){tt(t,t.return,d)}}function id(t,r,s){try{var o=t.stateNode;nw(o,t.type,s,r),o[ot]=r}catch(d){tt(t,t.return,d)}}function Qm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&aa(t.type)||t.tag===4}function sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&aa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ld(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=$o));else if(o!==4&&(o===27&&aa(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(ld(t,r,s),t=t.sibling;t!==null;)ld(t,r,s),t=t.sibling}function To(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(o!==4&&(o===27&&aa(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(To(t,r,s),t=t.sibling;t!==null;)To(t,r,s),t=t.sibling}function Zm(t){var r=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Xt(r,o,s),r[lt]=t,r[ot]=s}catch(g){tt(t,t.return,g)}}var Tr=!1,Et=!1,od=!1,Jm=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function L0(t,r){if(t=t.containerInfo,jd=qo,t=cg(t),sc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var d=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var _=0,S=-1,D=-1,z=0,X=0,J=t,I=null;t:for(;;){for(var V;J!==s||d!==0&&J.nodeType!==3||(S=_+d),J!==g||o!==0&&J.nodeType!==3||(D=_+o),J.nodeType===3&&(_+=J.nodeValue.length),(V=J.firstChild)!==null;)I=J,J=V;for(;;){if(J===t)break t;if(I===s&&++z===d&&(S=_),I===g&&++X===o&&(D=_),(V=J.nextSibling)!==null)break;J=I,I=J.parentNode}J=V}s=S===-1||D===-1?null:{start:S,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(Md={focusedElem:t,selectionRange:s},qo=!1,Ht=r;Ht!==null;)if(r=Ht,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Ht=t;else for(;Ht!==null;){switch(r=Ht,g=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,s=r,d=g.memoizedProps,g=g.memoizedState,o=s.stateNode;try{var Re=La(s.type,d,s.elementType===s.type);t=o.getSnapshotBeforeUpdate(Re,g),o.__reactInternalSnapshotBeforeUpdate=t}catch(xe){tt(s,s.return,xe)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Ld(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ld(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,Ht=t;break}Ht=r.return}}function ep(t,r,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Qr(t,s),o&4&&js(5,s);break;case 1:if(Qr(t,s),o&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(_){tt(s,s.return,_)}else{var d=La(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){tt(s,s.return,_)}}o&64&&Km(s),o&512&&Ms(s,s.return);break;case 3:if(Qr(t,s),o&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Ug(t,r)}catch(_){tt(s,s.return,_)}}break;case 27:r===null&&o&4&&Zm(s);case 26:case 5:Qr(t,s),r===null&&o&4&&Wm(s),o&512&&Ms(s,s.return);break;case 12:Qr(t,s);break;case 13:Qr(t,s),o&4&&rp(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=q0.bind(null,s),uw(t,s))));break;case 22:if(o=s.memoizedState!==null||Tr,!o){r=r!==null&&r.memoizedState!==null||Et,d=Tr;var g=Et;Tr=o,(Et=r)&&!g?Zr(t,s,(s.subtreeFlags&8772)!==0):Qr(t,s),Tr=d,Et=g}break;case 30:break;default:Qr(t,s)}}function tp(t){var r=t.alternate;r!==null&&(t.alternate=null,tp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Hu(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,fn=!1;function Ar(t,r,s){for(s=s.child;s!==null;)np(t,r,s),s=s.sibling}function np(t,r,s){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(he,s)}catch{}switch(s.tag){case 26:Et||sr(s,r),Ar(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Et||sr(s,r);var o=dt,d=fn;aa(s.type)&&(dt=s.stateNode,fn=!1),Ar(t,r,s),Is(s.stateNode),dt=o,fn=d;break;case 5:Et||sr(s,r);case 6:if(o=dt,d=fn,dt=null,Ar(t,r,s),dt=o,fn=d,dt!==null)if(fn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(s.stateNode)}catch(g){tt(s,r,g)}else try{dt.removeChild(s.stateNode)}catch(g){tt(s,r,g)}break;case 18:dt!==null&&(fn?(t=dt,Bp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ws(t)):Bp(dt,s.stateNode));break;case 4:o=dt,d=fn,dt=s.stateNode.containerInfo,fn=!0,Ar(t,r,s),dt=o,fn=d;break;case 0:case 11:case 14:case 15:Et||Wr(2,s,r),Et||Wr(4,s,r),Ar(t,r,s);break;case 1:Et||(sr(s,r),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Xm(s,r,o)),Ar(t,r,s);break;case 21:Ar(t,r,s);break;case 22:Et=(o=Et)||s.memoizedState!==null,Ar(t,r,s),Et=o;break;default:Ar(t,r,s)}}function rp(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ws(t)}catch(s){tt(r,r.return,s)}}function P0(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Jm),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Jm),r;default:throw Error(i(435,t.tag))}}function ud(t,r){var s=P0(t);r.forEach(function(o){var d=G0.bind(null,t,o);s.has(o)||(s.add(o),o.then(d,d))})}function bn(t,r){var s=r.deletions;if(s!==null)for(var o=0;o<s.length;o++){var d=s[o],g=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(aa(S.type)){dt=S.stateNode,fn=!1;break e}break;case 5:dt=S.stateNode,fn=!1;break e;case 3:case 4:dt=S.stateNode.containerInfo,fn=!0;break e}S=S.return}if(dt===null)throw Error(i(160));np(g,_,d),dt=null,fn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)ap(r,t),r=r.sibling}var Vn=null;function ap(t,r){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(r,t),wn(t),o&4&&(Wr(3,t,t.return),js(3,t),Wr(5,t,t.return));break;case 1:bn(r,t),wn(t),o&512&&(Et||s===null||sr(s,s.return)),o&64&&Tr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var d=Vn;if(bn(r,t),wn(t),o&512&&(Et||s===null||sr(s,s.return)),o&4){var g=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":g=d.getElementsByTagName("title")[0],(!g||g[mr]||g[lt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(o),d.head.insertBefore(g,d.querySelector("head > title"))),Xt(g,o,s),g[lt]=t,Ft(g),o=g;break e;case"link":var _=Zp("link","href",d).get(o+(s.href||""));if(_){for(var S=0;S<_.length;S++)if(g=_[S],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(S,1);break t}}g=d.createElement(o),Xt(g,o,s),d.head.appendChild(g);break;case"meta":if(_=Zp("meta","content",d).get(o+(s.content||""))){for(S=0;S<_.length;S++)if(g=_[S],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(S,1);break t}}g=d.createElement(o),Xt(g,o,s),d.head.appendChild(g);break;default:throw Error(i(468,o))}g[lt]=t,Ft(g),o=g}t.stateNode=o}else Jp(d,t.type,t.stateNode);else t.stateNode=Qp(d,o,t.memoizedProps);else g!==o?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,o===null?Jp(d,t.type,t.stateNode):Qp(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&id(t,t.memoizedProps,s.memoizedProps)}break;case 27:bn(r,t),wn(t),o&512&&(Et||s===null||sr(s,s.return)),s!==null&&o&4&&id(t,t.memoizedProps,s.memoizedProps);break;case 5:if(bn(r,t),wn(t),o&512&&(Et||s===null||sr(s,s.return)),t.flags&32){d=t.stateNode;try{ti(d,"")}catch(V){tt(t,t.return,V)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,id(t,d,s!==null?s.memoizedProps:d)),o&1024&&(od=!0);break;case 6:if(bn(r,t),wn(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(V){tt(t,t.return,V)}}break;case 3:if(Io=null,d=Vn,Vn=zo(r.containerInfo),bn(r,t),Vn=d,wn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ws(r.containerInfo)}catch(V){tt(t,t.return,V)}od&&(od=!1,ip(t));break;case 4:o=Vn,Vn=zo(t.stateNode.containerInfo),bn(r,t),wn(t),Vn=o;break;case 12:bn(r,t),wn(t);break;case 13:bn(r,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(md=et()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ud(t,o)));break;case 22:d=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,z=Tr,X=Et;if(Tr=z||d,Et=X||D,bn(r,t),Et=X,Tr=z,wn(t),o&8192)e:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(s===null||D||Tr||Et||Pa(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){D=s=r;try{if(g=D.stateNode,d)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=D.stateNode;var J=D.memoizedProps.style,I=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(V){tt(D,D.return,V)}}}else if(r.tag===6){if(s===null){D=r;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch(V){tt(D,D.return,V)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ud(t,s))));break;case 19:bn(r,t),wn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ud(t,o)));break;case 30:break;case 21:break;default:bn(r,t),wn(t)}}function wn(t){var r=t.flags;if(r&2){try{for(var s,o=t.return;o!==null;){if(Qm(o)){s=o;break}o=o.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var d=s.stateNode,g=sd(t);To(t,g,d);break;case 5:var _=s.stateNode;s.flags&32&&(ti(_,""),s.flags&=-33);var S=sd(t);To(t,S,_);break;case 3:case 4:var D=s.stateNode.containerInfo,z=sd(t);ld(t,z,D);break;default:throw Error(i(161))}}catch(X){tt(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function ip(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;ip(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Qr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ep(t,r.alternate,r),r=r.sibling}function Pa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Wr(4,r,r.return),Pa(r);break;case 1:sr(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Xm(r,r.return,s),Pa(r);break;case 27:Is(r.stateNode);case 26:case 5:sr(r,r.return),Pa(r);break;case 22:r.memoizedState===null&&Pa(r);break;case 30:Pa(r);break;default:Pa(r)}t=t.sibling}}function Zr(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,d=t,g=r,_=g.flags;switch(g.tag){case 0:case 11:case 15:Zr(d,g,s),js(4,g);break;case 1:if(Zr(d,g,s),o=g,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(z){tt(o,o.return,z)}if(o=g,d=o.updateQueue,d!==null){var S=o.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)kg(D[d],S)}catch(z){tt(o,o.return,z)}}s&&_&64&&Km(g),Ms(g,g.return);break;case 27:Zm(g);case 26:case 5:Zr(d,g,s),s&&o===null&&_&4&&Wm(g),Ms(g,g.return);break;case 12:Zr(d,g,s);break;case 13:Zr(d,g,s),s&&_&4&&rp(d,g);break;case 22:g.memoizedState===null&&Zr(d,g,s),Ms(g,g.return);break;case 30:break;default:Zr(d,g,s)}r=r.sibling}}function cd(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ys(s))}function dd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ys(t))}function lr(t,r,s,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)sp(t,r,s,o),r=r.sibling}function sp(t,r,s,o){var d=r.flags;switch(r.tag){case 0:case 11:case 15:lr(t,r,s,o),d&2048&&js(9,r);break;case 1:lr(t,r,s,o);break;case 3:lr(t,r,s,o),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ys(t)));break;case 12:if(d&2048){lr(t,r,s,o),t=r.stateNode;try{var g=r.memoizedProps,_=g.id,S=g.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){tt(r,r.return,D)}}else lr(t,r,s,o);break;case 13:lr(t,r,s,o);break;case 23:break;case 22:g=r.stateNode,_=r.alternate,r.memoizedState!==null?g._visibility&2?lr(t,r,s,o):ks(t,r):g._visibility&2?lr(t,r,s,o):(g._visibility|=2,bi(t,r,s,o,(r.subtreeFlags&10256)!==0)),d&2048&&cd(_,r);break;case 24:lr(t,r,s,o),d&2048&&dd(r.alternate,r);break;default:lr(t,r,s,o)}}function bi(t,r,s,o,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=t,_=r,S=s,D=o,z=_.flags;switch(_.tag){case 0:case 11:case 15:bi(g,_,S,D,d),js(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?bi(g,_,S,D,d):ks(g,_):(X._visibility|=2,bi(g,_,S,D,d)),d&&z&2048&&cd(_.alternate,_);break;case 24:bi(g,_,S,D,d),d&&z&2048&&dd(_.alternate,_);break;default:bi(g,_,S,D,d)}r=r.sibling}}function ks(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,o=r,d=o.flags;switch(o.tag){case 22:ks(s,o),d&2048&&cd(o.alternate,o);break;case 24:ks(s,o),d&2048&&dd(o.alternate,o);break;default:ks(s,o)}r=r.sibling}}var Us=8192;function wi(t){if(t.subtreeFlags&Us)for(t=t.child;t!==null;)lp(t),t=t.sibling}function lp(t){switch(t.tag){case 26:wi(t),t.flags&Us&&t.memoizedState!==null&&Sw(Vn,t.memoizedState,t.memoizedProps);break;case 5:wi(t);break;case 3:case 4:var r=Vn;Vn=zo(t.stateNode.containerInfo),wi(t),Vn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Us,Us=16777216,wi(t),Us=r):wi(t));break;default:wi(t)}}function op(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ls(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];Ht=o,cp(o,t)}op(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)up(t),t=t.sibling}function up(t){switch(t.tag){case 0:case 11:case 15:Ls(t),t.flags&2048&&Wr(9,t,t.return);break;case 3:Ls(t);break;case 12:Ls(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ao(t)):Ls(t);break;default:Ls(t)}}function Ao(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];Ht=o,cp(o,t)}op(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Wr(8,r,r.return),Ao(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Ao(r));break;default:Ao(r)}t=t.sibling}}function cp(t,r){for(;Ht!==null;){var s=Ht;switch(s.tag){case 0:case 11:case 15:Wr(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ys(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ht=o;else e:for(s=t;Ht!==null;){o=Ht;var d=o.sibling,g=o.return;if(tp(o),o===s){Ht=null;break e}if(d!==null){d.return=g,Ht=d;break e}Ht=g}}}var $0={getCacheForType:function(t){var r=en(kt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},F0=typeof WeakMap=="function"?WeakMap:Map,Ke=0,it=null,Pe=null,Ie=0,Xe=0,Sn=null,Jr=!1,Si=!1,fd=!1,Or=0,bt=0,ea=0,$a=0,hd=0,Un=0,Ei=0,Ps=null,hn=null,gd=!1,md=0,Oo=1/0,Do=null,ta=null,Kt=0,na=null,xi=null,Ci=0,pd=0,vd=null,dp=null,$s=0,yd=null;function En(){if((Ke&2)!==0&&Ie!==0)return Ie&-Ie;if($.T!==null){var t=fi;return t!==0?t:Cd()}return vn()}function fp(){Un===0&&(Un=(Ie&536870912)===0||Ye?Fl():536870912);var t=kn.current;return t!==null&&(t.flags|=32),Un}function xn(t,r,s){(t===it&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Ri(t,0),ra(t,Ie,Un,!1)),yt(t,s),((Ke&2)===0||t!==it)&&(t===it&&((Ke&2)===0&&($a|=s),bt===4&&ra(t,Ie,Un,!1)),or(t))}function hp(t,r,s){if((Ke&6)!==0)throw Error(i(327));var o=!s&&(r&124)===0&&(r&t.expiredLanes)===0||hr(t,r),d=o?I0(t,r):wd(t,r,!0),g=o;do{if(d===0){Si&&!o&&ra(t,r,0,!1);break}else{if(s=t.current.alternate,g&&!z0(s)){d=wd(t,r,!1),g=!1;continue}if(d===2){if(g=r,t.errorRecoveryDisabledLanes&g)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=t;d=Ps;var D=S.current.memoizedState.isDehydrated;if(D&&(Ri(S,_).flags|=256),_=wd(S,_,!1),_!==2){if(fd&&!D){S.errorRecoveryDisabledLanes|=g,$a|=g,d=4;break e}g=hn,hn=d,g!==null&&(hn===null?hn=g:hn.push.apply(hn,g))}d=_}if(g=!1,d!==2)continue}}if(d===1){Ri(t,0),ra(t,r,0,!0);break}e:{switch(o=t,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ra(o,r,Un,!Jr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(d=md+300-et(),10<d)){if(ra(o,r,Un,!Jr),nr(o,0,!0)!==0)break e;o.timeoutHandle=Ip(gp.bind(null,o,s,hn,Do,gd,r,Un,$a,Ei,Jr,g,2,-0,0),d);break e}gp(o,s,hn,Do,gd,r,Un,$a,Ei,Jr,g,0,-0,0)}}break}while(!0);or(t)}function gp(t,r,s,o,d,g,_,S,D,z,X,J,I,V){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(qs={stylesheets:null,count:0,unsuspend:ww},lp(r),J=Ew(),J!==null)){t.cancelPendingCommit=J(wp.bind(null,t,r,g,s,o,d,_,S,D,X,1,I,V)),ra(t,g,_,!z);return}wp(t,r,g,s,o,d,_,S,D)}function z0(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var d=s[o],g=d.getSnapshot;d=d.value;try{if(!yn(g(),d))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ra(t,r,s,o){r&=~hd,r&=~$a,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var d=r;0<d;){var g=31-He(d),_=1<<g;o[g]=-1,d&=~_}s!==0&&Qt(t,s,r)}function No(){return(Ke&6)===0?(Fs(0),!1):!0}function _d(){if(Pe!==null){if(Xe===0)var t=Pe.return;else t=Pe,wr=ja=null,Lc(t),yi=null,Os=0,t=Pe;for(;t!==null;)Ym(t.alternate,t),t=t.return;Pe=null}}function Ri(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,aw(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),_d(),it=t,Pe=s=yr(t.current,null),Ie=r,Xe=0,Sn=null,Jr=!1,Si=hr(t,r),fd=!1,Ei=Un=hd=$a=ea=bt=0,hn=Ps=null,gd=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var d=31-He(o),g=1<<d;r|=t[d],o&=~g}return Or=r,Zl(),s}function mp(t,r){ke=null,$.H=yo,r===bs||r===lo?(r=jg(),Xe=3):r===Og?(r=jg(),Xe=4):Xe=r===Mm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Sn=r,Pe===null&&(bt=1,Eo(t,Dn(r,t.current)))}function pp(){var t=$.H;return $.H=yo,t===null?yo:t}function vp(){var t=$.A;return $.A=$0,t}function bd(){bt=4,Jr||(Ie&4194048)!==Ie&&kn.current!==null||(Si=!0),(ea&134217727)===0&&($a&134217727)===0||it===null||ra(it,Ie,Un,!1)}function wd(t,r,s){var o=Ke;Ke|=2;var d=pp(),g=vp();(it!==t||Ie!==r)&&(Do=null,Ri(t,r)),r=!1;var _=bt;e:do try{if(Xe!==0&&Pe!==null){var S=Pe,D=Sn;switch(Xe){case 8:_d(),_=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var z=Xe;if(Xe=0,Sn=null,Ti(t,S,D,z),s&&Si){_=0;break e}break;default:z=Xe,Xe=0,Sn=null,Ti(t,S,D,z)}}H0(),_=bt;break}catch(X){mp(t,X)}while(!0);return r&&t.shellSuspendCounter++,wr=ja=null,Ke=o,$.H=d,$.A=g,Pe===null&&(it=null,Ie=0,Zl()),_}function H0(){for(;Pe!==null;)yp(Pe)}function I0(t,r){var s=Ke;Ke|=2;var o=pp(),d=vp();it!==t||Ie!==r?(Do=null,Oo=et()+500,Ri(t,r)):Si=hr(t,r);e:do try{if(Xe!==0&&Pe!==null){r=Pe;var g=Sn;t:switch(Xe){case 1:Xe=0,Sn=null,Ti(t,r,g,1);break;case 2:case 9:if(Dg(g)){Xe=0,Sn=null,_p(r);break}r=function(){Xe!==2&&Xe!==9||it!==t||(Xe=7),or(t)},g.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Dg(g)?(Xe=0,Sn=null,_p(r)):(Xe=0,Sn=null,Ti(t,r,g,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var S=Pe;if(!_||ev(_)){Xe=0,Sn=null;var D=S.sibling;if(D!==null)Pe=D;else{var z=S.return;z!==null?(Pe=z,jo(z)):Pe=null}break t}}Xe=0,Sn=null,Ti(t,r,g,5);break;case 6:Xe=0,Sn=null,Ti(t,r,g,6);break;case 8:_d(),bt=6;break e;default:throw Error(i(462))}}V0();break}catch(X){mp(t,X)}while(!0);return wr=ja=null,$.H=o,$.A=d,Ke=s,Pe!==null?0:(it=null,Ie=0,Zl(),bt)}function V0(){for(;Pe!==null&&!me();)yp(Pe)}function yp(t){var r=qm(t.alternate,t,Or);t.memoizedProps=t.pendingProps,r===null?jo(t):Pe=r}function _p(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=Fm(s,r,r.pendingProps,r.type,void 0,Ie);break;case 11:r=Fm(s,r,r.pendingProps,r.type.render,r.ref,Ie);break;case 5:Lc(r);default:Ym(s,r),r=Pe=bg(r,Or),r=qm(s,r,Or)}t.memoizedProps=t.pendingProps,r===null?jo(t):Pe=r}function Ti(t,r,s,o){wr=ja=null,Lc(r),yi=null,Os=0;var d=r.return;try{if(j0(t,d,r,s,Ie)){bt=1,Eo(t,Dn(s,t.current)),Pe=null;return}}catch(g){if(d!==null)throw Pe=d,g;bt=1,Eo(t,Dn(s,t.current)),Pe=null;return}r.flags&32768?(Ye||o===1?t=!0:Si||(Ie&536870912)!==0?t=!1:(Jr=t=!0,(o===2||o===9||o===3||o===6)&&(o=kn.current,o!==null&&o.tag===13&&(o.flags|=16384))),bp(r,t)):jo(r)}function jo(t){var r=t;do{if((r.flags&32768)!==0){bp(r,Jr);return}t=r.return;var s=k0(r.alternate,r,Or);if(s!==null){Pe=s;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=t}while(r!==null);bt===0&&(bt=5)}function bp(t,r){do{var s=U0(t.alternate,t);if(s!==null){s.flags&=32767,Pe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=s}while(t!==null);bt=6,Pe=null}function wp(t,r,s,o,d,g,_,S,D){t.cancelPendingCommit=null;do Mo();while(Kt!==0);if((Ke&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=dc,an(t,s,g,_,S,D),t===it&&(Pe=it=null,Ie=0),xi=r,na=t,Ci=s,pd=g,vd=d,dp=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Y0(L,function(){return Rp(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=$.T,$.T=null,d=Z.p,Z.p=2,_=Ke,Ke|=4;try{L0(t,r,s)}finally{Ke=_,Z.p=d,$.T=o}}Kt=1,Sp(),Ep(),xp()}}function Sp(){if(Kt===1){Kt=0;var t=na,r=xi,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=$.T,$.T=null;var o=Z.p;Z.p=2;var d=Ke;Ke|=4;try{ap(r,t);var g=Md,_=cg(t.containerInfo),S=g.focusedElem,D=g.selectionRange;if(_!==S&&S&&S.ownerDocument&&ug(S.ownerDocument.documentElement,S)){if(D!==null&&sc(S)){var z=D.start,X=D.end;if(X===void 0&&(X=z),"selectionStart"in S)S.selectionStart=z,S.selectionEnd=Math.min(X,S.value.length);else{var J=S.ownerDocument||document,I=J&&J.defaultView||window;if(I.getSelection){var V=I.getSelection(),Re=S.textContent.length,xe=Math.min(D.start,Re),Je=D.end===void 0?xe:Math.min(D.end,Re);!V.extend&&xe>Je&&(_=Je,Je=xe,xe=_);var U=og(S,xe),j=og(S,Je);if(U&&j&&(V.rangeCount!==1||V.anchorNode!==U.node||V.anchorOffset!==U.offset||V.focusNode!==j.node||V.focusOffset!==j.offset)){var P=J.createRange();P.setStart(U.node,U.offset),V.removeAllRanges(),xe>Je?(V.addRange(P),V.extend(j.node,j.offset)):(P.setEnd(j.node,j.offset),V.addRange(P))}}}}for(J=[],V=S;V=V.parentNode;)V.nodeType===1&&J.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var W=J[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}qo=!!jd,Md=jd=null}finally{Ke=d,Z.p=o,$.T=s}}t.current=r,Kt=2}}function Ep(){if(Kt===2){Kt=0;var t=na,r=xi,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=$.T,$.T=null;var o=Z.p;Z.p=2;var d=Ke;Ke|=4;try{ep(t,r.alternate,r)}finally{Ke=d,Z.p=o,$.T=s}}Kt=3}}function xp(){if(Kt===4||Kt===3){Kt=0,Ge();var t=na,r=xi,s=Ci,o=dp;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Kt=5:(Kt=0,xi=na=null,Cp(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(ta=null),Gt(s),r=r.stateNode,Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(he,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=$.T,d=Z.p,Z.p=2,$.T=null;try{for(var g=t.onRecoverableError,_=0;_<o.length;_++){var S=o[_];g(S.value,{componentStack:S.stack})}}finally{$.T=r,Z.p=d}}(Ci&3)!==0&&Mo(),or(t),d=t.pendingLanes,(s&4194090)!==0&&(d&42)!==0?t===yd?$s++:($s=0,yd=t):$s=0,Fs(0)}}function Cp(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ys(r)))}function Mo(t){return Sp(),Ep(),xp(),Rp()}function Rp(){if(Kt!==5)return!1;var t=na,r=pd;pd=0;var s=Gt(Ci),o=$.T,d=Z.p;try{Z.p=32>s?32:s,$.T=null,s=vd,vd=null;var g=na,_=Ci;if(Kt=0,xi=na=null,Ci=0,(Ke&6)!==0)throw Error(i(331));var S=Ke;if(Ke|=4,up(g.current),sp(g,g.current,_,s),Ke=S,Fs(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(he,g)}catch{}return!0}finally{Z.p=d,$.T=o,Cp(t,r)}}function Tp(t,r,s){r=Dn(s,r),r=Wc(t.stateNode,r,2),t=Gr(t,r,2),t!==null&&(yt(t,2),or(t))}function tt(t,r,s){if(t.tag===3)Tp(t,t,s);else for(;r!==null;){if(r.tag===3){Tp(r,t,s);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ta===null||!ta.has(o))){t=Dn(s,t),s=Nm(2),o=Gr(r,s,2),o!==null&&(jm(s,o,r,t),yt(o,2),or(o));break}}r=r.return}}function Sd(t,r,s){var o=t.pingCache;if(o===null){o=t.pingCache=new F0;var d=new Set;o.set(r,d)}else d=o.get(r),d===void 0&&(d=new Set,o.set(r,d));d.has(s)||(fd=!0,d.add(s),t=B0.bind(null,t,r,s),r.then(t,t))}function B0(t,r,s){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,it===t&&(Ie&s)===s&&(bt===4||bt===3&&(Ie&62914560)===Ie&&300>et()-md?(Ke&2)===0&&Ri(t,0):hd|=s,Ei===Ie&&(Ei=0)),or(t)}function Ap(t,r){r===0&&(r=zl()),t=oi(t,r),t!==null&&(yt(t,r),or(t))}function q0(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),Ap(t,s)}function G0(t,r){var s=0;switch(t.tag){case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(r),Ap(t,s)}function Y0(t,r){return ue(t,r)}var ko=null,Ai=null,Ed=!1,Uo=!1,xd=!1,Fa=0;function or(t){t!==Ai&&t.next===null&&(Ai===null?ko=Ai=t:Ai=Ai.next=t),Uo=!0,Ed||(Ed=!0,X0())}function Fs(t,r){if(!xd&&Uo){xd=!0;do for(var s=!1,o=ko;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var g=0;else{var _=o.suspendedLanes,S=o.pingedLanes;g=(1<<31-He(42|t)+1)-1,g&=d&~(_&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,jp(o,g))}else g=Ie,g=nr(o,o===it?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(g&3)===0||hr(o,g)||(s=!0,jp(o,g));o=o.next}while(s);xd=!1}}function K0(){Op()}function Op(){Uo=Ed=!1;var t=0;Fa!==0&&(rw()&&(t=Fa),Fa=0);for(var r=et(),s=null,o=ko;o!==null;){var d=o.next,g=Dp(o,r);g===0?(o.next=null,s===null?ko=d:s.next=d,d===null&&(Ai=s)):(s=o,(t!==0||(g&3)!==0)&&(Uo=!0)),o=d}Fs(t)}function Dp(t,r){for(var s=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var _=31-He(g),S=1<<_,D=d[_];D===-1?((S&s)===0||(S&o)!==0)&&(d[_]=wa(S,r)):D<=r&&(t.expiredLanes|=S),g&=~S}if(r=it,s=Ie,s=nr(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===r&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ge(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||hr(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(o!==null&&ge(o),Gt(s)){case 2:case 8:s=O;break;case 32:s=L;break;case 268435456:s=se;break;default:s=L}return o=Np.bind(null,t),s=ue(s,o),t.callbackPriority=r,t.callbackNode=s,r}return o!==null&&o!==null&&ge(o),t.callbackPriority=2,t.callbackNode=null,2}function Np(t,r){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Mo()&&t.callbackNode!==s)return null;var o=Ie;return o=nr(t,t===it?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(hp(t,o,r),Dp(t,et()),t.callbackNode!=null&&t.callbackNode===s?Np.bind(null,t):null)}function jp(t,r){if(Mo())return null;hp(t,r,!0)}function X0(){iw(function(){(Ke&6)!==0?ue(vt,K0):Op()})}function Cd(){return Fa===0&&(Fa=Fl()),Fa}function Mp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ql(""+t)}function kp(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function W0(t,r,s,o,d){if(r==="submit"&&s&&s.stateNode===d){var g=Mp((d[ot]||null).action),_=o.submitter;_&&(r=(r=_[ot]||null)?Mp(r.formAction):_.getAttribute("formAction"),r!==null&&(g=r,_=null));var S=new Xl("action","action",null,o,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fa!==0){var D=_?kp(d,_):new FormData(d);qc(s,{pending:!0,data:D,method:d.method,action:g},null,D)}}else typeof g=="function"&&(S.preventDefault(),D=_?kp(d,_):new FormData(d),qc(s,{pending:!0,data:D,method:d.method,action:g},g,D))},currentTarget:d}]})}}for(var Rd=0;Rd<cc.length;Rd++){var Td=cc[Rd],Q0=Td.toLowerCase(),Z0=Td[0].toUpperCase()+Td.slice(1);In(Q0,"on"+Z0)}In(hg,"onAnimationEnd"),In(gg,"onAnimationIteration"),In(mg,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(m0,"onTransitionRun"),In(p0,"onTransitionStart"),In(v0,"onTransitionCancel"),In(pg,"onTransitionEnd"),Za("onMouseEnter",["mouseout","mouseover"]),Za("onMouseLeave",["mouseout","mouseover"]),Za("onPointerEnter",["pointerout","pointerover"]),Za("onPointerLeave",["pointerout","pointerover"]),Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zs));function Up(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],d=o.event;o=o.listeners;e:{var g=void 0;if(r)for(var _=o.length-1;0<=_;_--){var S=o[_],D=S.instance,z=S.currentTarget;if(S=S.listener,D!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=z;try{g(d)}catch(X){So(X)}d.currentTarget=null,g=D}else for(_=0;_<o.length;_++){if(S=o[_],D=S.instance,z=S.currentTarget,S=S.listener,D!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=z;try{g(d)}catch(X){So(X)}d.currentTarget=null,g=D}}}}function $e(t,r){var s=r[gr];s===void 0&&(s=r[gr]=new Set);var o=t+"__bubble";s.has(o)||(Lp(r,t,2,!1),s.add(o))}function Ad(t,r,s){var o=0;r&&(o|=4),Lp(s,t,o,r)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function Od(t){if(!t[Lo]){t[Lo]=!0,Oh.forEach(function(s){s!=="selectionchange"&&(J0.has(s)||Ad(s,!1,t),Ad(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Lo]||(r[Lo]=!0,Ad("selectionchange",!1,r))}}function Lp(t,r,s,o){switch(sv(r)){case 2:var d=Rw;break;case 8:d=Tw;break;default:d=Vd}s=d.bind(null,r,s,t),d=void 0,!Qu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(r,s,{capture:!0,passive:d}):t.addEventListener(r,s,!0):d!==void 0?t.addEventListener(r,s,{passive:d}):t.addEventListener(r,s,!1)}function Dd(t,r,s,o,d){var g=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var S=o.stateNode.containerInfo;if(S===d)break;if(_===4)for(_=o.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;S!==null;){if(_=Xa(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){o=g=_;continue e}S=S.parentNode}}o=o.return}Vh(function(){var z=g,X=Xu(s),J=[];e:{var I=vg.get(t);if(I!==void 0){var V=Xl,Re=t;switch(t){case"keypress":if(Yl(s)===0)break e;case"keydown":case"keyup":V=Yb;break;case"focusin":Re="focus",V=tc;break;case"focusout":Re="blur",V=tc;break;case"beforeblur":case"afterblur":V=tc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Ub;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Wb;break;case hg:case gg:case mg:V=$b;break;case pg:V=Zb;break;case"scroll":case"scrollend":V=Mb;break;case"wheel":V=e0;break;case"copy":case"cut":case"paste":V=zb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Kh;break;case"toggle":case"beforetoggle":V=n0}var xe=(r&4)!==0,Je=!xe&&(t==="scroll"||t==="scrollend"),U=xe?I!==null?I+"Capture":null:I;xe=[];for(var j=z,P;j!==null;){var W=j;if(P=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||P===null||U===null||(W=is(j,U),W!=null&&xe.push(Hs(j,W,P))),Je)break;j=j.return}0<xe.length&&(I=new V(I,Re,null,s,X),J.push({event:I,listeners:xe}))}}if((r&7)===0){e:{if(I=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",I&&s!==Ku&&(Re=s.relatedTarget||s.fromElement)&&(Xa(Re)||Re[Jt]))break e;if((V||I)&&(I=X.window===X?X:(I=X.ownerDocument)?I.defaultView||I.parentWindow:window,V?(Re=s.relatedTarget||s.toElement,V=z,Re=Re?Xa(Re):null,Re!==null&&(Je=u(Re),xe=Re.tag,Re!==Je||xe!==5&&xe!==27&&xe!==6)&&(Re=null)):(V=null,Re=z),V!==Re)){if(xe=Gh,W="onMouseLeave",U="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(xe=Kh,W="onPointerLeave",U="onPointerEnter",j="pointer"),Je=V==null?I:as(V),P=Re==null?I:as(Re),I=new xe(W,j+"leave",V,s,X),I.target=Je,I.relatedTarget=P,W=null,Xa(X)===z&&(xe=new xe(U,j+"enter",Re,s,X),xe.target=P,xe.relatedTarget=Je,W=xe),Je=W,V&&Re)t:{for(xe=V,U=Re,j=0,P=xe;P;P=Oi(P))j++;for(P=0,W=U;W;W=Oi(W))P++;for(;0<j-P;)xe=Oi(xe),j--;for(;0<P-j;)U=Oi(U),P--;for(;j--;){if(xe===U||U!==null&&xe===U.alternate)break t;xe=Oi(xe),U=Oi(U)}xe=null}else xe=null;V!==null&&Pp(J,I,V,xe,!1),Re!==null&&Je!==null&&Pp(J,Je,Re,xe,!0)}}e:{if(I=z?as(z):window,V=I.nodeName&&I.nodeName.toLowerCase(),V==="select"||V==="input"&&I.type==="file")var pe=ng;else if(eg(I))if(rg)pe=f0;else{pe=c0;var Le=u0}else V=I.nodeName,!V||V.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?z&&Yu(z.elementType)&&(pe=ng):pe=d0;if(pe&&(pe=pe(t,z))){tg(J,pe,s,X);break e}Le&&Le(t,I,z),t==="focusout"&&z&&I.type==="number"&&z.memoizedProps.value!=null&&Gu(I,"number",I.value)}switch(Le=z?as(z):window,t){case"focusin":(eg(Le)||Le.contentEditable==="true")&&(ii=Le,lc=z,hs=null);break;case"focusout":hs=lc=ii=null;break;case"mousedown":oc=!0;break;case"contextmenu":case"mouseup":case"dragend":oc=!1,dg(J,s,X);break;case"selectionchange":if(g0)break;case"keydown":case"keyup":dg(J,s,X)}var be;if(rc)e:{switch(t){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else ai?Zh(t,s)&&(Ce="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ce="onCompositionStart");Ce&&(Xh&&s.locale!=="ko"&&(ai||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&ai&&(be=Bh()):(Ir=X,Zu="value"in Ir?Ir.value:Ir.textContent,ai=!0)),Le=Po(z,Ce),0<Le.length&&(Ce=new Yh(Ce,t,null,s,X),J.push({event:Ce,listeners:Le}),be?Ce.data=be:(be=Jh(s),be!==null&&(Ce.data=be)))),(be=a0?i0(t,s):s0(t,s))&&(Ce=Po(z,"onBeforeInput"),0<Ce.length&&(Le=new Yh("onBeforeInput","beforeinput",null,s,X),J.push({event:Le,listeners:Ce}),Le.data=be)),W0(J,t,z,s,X)}Up(J,r)})}function Hs(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Po(t,r){for(var s=r+"Capture",o=[];t!==null;){var d=t,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=is(t,s),d!=null&&o.unshift(Hs(t,d,g)),d=is(t,r),d!=null&&o.push(Hs(t,d,g))),t.tag===3)return o;t=t.return}return[]}function Oi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pp(t,r,s,o,d){for(var g=r._reactName,_=[];s!==null&&s!==o;){var S=s,D=S.alternate,z=S.stateNode;if(S=S.tag,D!==null&&D===o)break;S!==5&&S!==26&&S!==27||z===null||(D=z,d?(z=is(s,g),z!=null&&_.unshift(Hs(s,z,D))):d||(z=is(s,g),z!=null&&_.push(Hs(s,z,D)))),s=s.return}_.length!==0&&t.push({event:r,listeners:_})}var ew=/\r\n?/g,tw=/\u0000|\uFFFD/g;function $p(t){return(typeof t=="string"?t:""+t).replace(ew,`
`).replace(tw,"")}function Fp(t,r){return r=$p(r),$p(t)===r}function $o(){}function Ze(t,r,s,o,d,g){switch(s){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||ti(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&ti(t,""+o);break;case"className":Il(t,"class",o);break;case"tabIndex":Il(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Il(t,s,o);break;case"style":Hh(t,o,g);break;case"data":if(r!=="object"){Il(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ql(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(r!=="input"&&Ze(t,r,"name",d.name,d,null),Ze(t,r,"formEncType",d.formEncType,d,null),Ze(t,r,"formMethod",d.formMethod,d,null),Ze(t,r,"formTarget",d.formTarget,d,null)):(Ze(t,r,"encType",d.encType,d,null),Ze(t,r,"method",d.method,d,null),Ze(t,r,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ql(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=$o);break;case"onScroll":o!=null&&$e("scroll",t);break;case"onScrollEnd":o!=null&&$e("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=ql(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":$e("beforetoggle",t),$e("toggle",t),Hl(t,"popover",o);break;case"xlinkActuate":pr(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":pr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":pr(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":pr(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":pr(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":pr(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":pr(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":pr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":pr(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Hl(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Nb.get(s)||s,Hl(t,s,o))}}function Nd(t,r,s,o,d,g){switch(s){case"style":Hh(t,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof o=="string"?ti(t,o):(typeof o=="number"||typeof o=="bigint")&&ti(t,""+o);break;case"onScroll":o!=null&&$e("scroll",t);break;case"onScrollEnd":o!=null&&$e("scrollend",t);break;case"onClick":o!=null&&(t.onclick=$o);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dh.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),r=s.slice(2,d?s.length-7:void 0),g=t[ot]||null,g=g!=null?g[s]:null,typeof g=="function"&&t.removeEventListener(r,g,d),typeof o=="function")){typeof g!="function"&&g!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,o,d);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Hl(t,s,o)}}}function Xt(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",t),$e("load",t);var o=!1,d=!1,g;for(g in s)if(s.hasOwnProperty(g)){var _=s[g];if(_!=null)switch(g){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ze(t,r,g,_,s,null)}}d&&Ze(t,r,"srcSet",s.srcSet,s,null),o&&Ze(t,r,"src",s.src,s,null);return;case"input":$e("invalid",t);var S=g=_=d=null,D=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var X=s[o];if(X!=null)switch(o){case"name":d=X;break;case"type":_=X;break;case"checked":D=X;break;case"defaultChecked":z=X;break;case"value":g=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:Ze(t,r,o,X,s,null)}}Ph(t,g,S,D,z,_,d,!1),Vl(t);return;case"select":$e("invalid",t),o=_=g=null;for(d in s)if(s.hasOwnProperty(d)&&(S=s[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":_=S;break;case"multiple":o=S;default:Ze(t,r,d,S,s,null)}r=g,s=_,t.multiple=!!o,r!=null?ei(t,!!o,r,!1):s!=null&&ei(t,!!o,s,!0);return;case"textarea":$e("invalid",t),g=d=o=null;for(_ in s)if(s.hasOwnProperty(_)&&(S=s[_],S!=null))switch(_){case"value":o=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:Ze(t,r,_,S,s,null)}Fh(t,o,d,g),Vl(t);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(o=s[D],o!=null))switch(D){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ze(t,r,D,o,s,null)}return;case"dialog":$e("beforetoggle",t),$e("toggle",t),$e("cancel",t),$e("close",t);break;case"iframe":case"object":$e("load",t);break;case"video":case"audio":for(o=0;o<zs.length;o++)$e(zs[o],t);break;case"image":$e("error",t),$e("load",t);break;case"details":$e("toggle",t);break;case"embed":case"source":case"link":$e("error",t),$e("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ze(t,r,z,o,s,null)}return;default:if(Yu(r)){for(X in s)s.hasOwnProperty(X)&&(o=s[X],o!==void 0&&Nd(t,r,X,o,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(o=s[S],o!=null&&Ze(t,r,S,o,s,null))}function nw(t,r,s,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,_=null,S=null,D=null,z=null,X=null;for(V in s){var J=s[V];if(s.hasOwnProperty(V)&&J!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":D=J;default:o.hasOwnProperty(V)||Ze(t,r,V,null,o,J)}}for(var I in o){var V=o[I];if(J=s[I],o.hasOwnProperty(I)&&(V!=null||J!=null))switch(I){case"type":g=V;break;case"name":d=V;break;case"checked":z=V;break;case"defaultChecked":X=V;break;case"value":_=V;break;case"defaultValue":S=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,r));break;default:V!==J&&Ze(t,r,I,V,o,J)}}qu(t,_,S,D,z,X,g,d);return;case"select":V=_=S=I=null;for(g in s)if(D=s[g],s.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":V=D;default:o.hasOwnProperty(g)||Ze(t,r,g,null,o,D)}for(d in o)if(g=o[d],D=s[d],o.hasOwnProperty(d)&&(g!=null||D!=null))switch(d){case"value":I=g;break;case"defaultValue":S=g;break;case"multiple":_=g;default:g!==D&&Ze(t,r,d,g,o,D)}r=S,s=_,o=V,I!=null?ei(t,!!s,I,!1):!!o!=!!s&&(r!=null?ei(t,!!s,r,!0):ei(t,!!s,s?[]:"",!1));return;case"textarea":V=I=null;for(S in s)if(d=s[S],s.hasOwnProperty(S)&&d!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(t,r,S,null,o,d)}for(_ in o)if(d=o[_],g=s[_],o.hasOwnProperty(_)&&(d!=null||g!=null))switch(_){case"value":I=d;break;case"defaultValue":V=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&Ze(t,r,_,d,o,g)}$h(t,I,V);return;case"option":for(var Re in s)if(I=s[Re],s.hasOwnProperty(Re)&&I!=null&&!o.hasOwnProperty(Re))switch(Re){case"selected":t.selected=!1;break;default:Ze(t,r,Re,null,o,I)}for(D in o)if(I=o[D],V=s[D],o.hasOwnProperty(D)&&I!==V&&(I!=null||V!=null))switch(D){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Ze(t,r,D,I,o,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in s)I=s[xe],s.hasOwnProperty(xe)&&I!=null&&!o.hasOwnProperty(xe)&&Ze(t,r,xe,null,o,I);for(z in o)if(I=o[z],V=s[z],o.hasOwnProperty(z)&&I!==V&&(I!=null||V!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,r));break;default:Ze(t,r,z,I,o,V)}return;default:if(Yu(r)){for(var Je in s)I=s[Je],s.hasOwnProperty(Je)&&I!==void 0&&!o.hasOwnProperty(Je)&&Nd(t,r,Je,void 0,o,I);for(X in o)I=o[X],V=s[X],!o.hasOwnProperty(X)||I===V||I===void 0&&V===void 0||Nd(t,r,X,I,o,V);return}}for(var U in s)I=s[U],s.hasOwnProperty(U)&&I!=null&&!o.hasOwnProperty(U)&&Ze(t,r,U,null,o,I);for(J in o)I=o[J],V=s[J],!o.hasOwnProperty(J)||I===V||I==null&&V==null||Ze(t,r,J,I,o,V)}var jd=null,Md=null;function Fo(t){return t.nodeType===9?t:t.ownerDocument}function zp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hp(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function kd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ud=null;function rw(){var t=window.event;return t&&t.type==="popstate"?t===Ud?!1:(Ud=t,!0):(Ud=null,!1)}var Ip=typeof setTimeout=="function"?setTimeout:void 0,aw=typeof clearTimeout=="function"?clearTimeout:void 0,Vp=typeof Promise=="function"?Promise:void 0,iw=typeof queueMicrotask=="function"?queueMicrotask:typeof Vp<"u"?function(t){return Vp.resolve(null).then(t).catch(sw)}:Ip;function sw(t){setTimeout(function(){throw t})}function aa(t){return t==="head"}function Bp(t,r){var s=r,o=0,d=0;do{var g=s.nextSibling;if(t.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"){if(0<o&&8>o){s=o;var _=t.ownerDocument;if(s&1&&Is(_.documentElement),s&2&&Is(_.body),s&4)for(s=_.head,Is(s),_=s.firstChild;_;){var S=_.nextSibling,D=_.nodeName;_[mr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=S}}if(d===0){t.removeChild(g),Ws(r);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:o=s.charCodeAt(0)-48;else o=0;s=g}while(s);Ws(r)}function Ld(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ld(s),Hu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function lw(t,r,s,o){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[mr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function ow(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Bn(t.nextSibling),t===null))return null;return t}function Pd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function uw(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var o=function(){r(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Bn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var $d=null;function qp(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function Gp(t,r,s){switch(r=Fo(s),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Is(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Hu(t)}var Ln=new Map,Yp=new Set;function zo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Dr=Z.d;Z.d={f:cw,r:dw,D:fw,C:hw,L:gw,m:mw,X:vw,S:pw,M:yw};function cw(){var t=Dr.f(),r=No();return t||r}function dw(t){var r=Wa(t);r!==null&&r.tag===5&&r.type==="form"?hm(r):Dr.r(t)}var Di=typeof document>"u"?null:document;function Kp(t,r,s){var o=Di;if(o&&typeof r=="string"&&r){var d=On(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),Yp.has(d)||(Yp.add(d),t={rel:t,crossOrigin:s,href:r},o.querySelector(d)===null&&(r=o.createElement("link"),Xt(r,"link",t),Ft(r),o.head.appendChild(r)))}}function fw(t){Dr.D(t),Kp("dns-prefetch",t,null)}function hw(t,r){Dr.C(t,r),Kp("preconnect",t,r)}function gw(t,r,s){Dr.L(t,r,s);var o=Di;if(o&&t&&r){var d='link[rel="preload"][as="'+On(r)+'"]';r==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+On(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+On(s.imageSizes)+'"]')):d+='[href="'+On(t)+'"]';var g=d;switch(r){case"style":g=Ni(t);break;case"script":g=ji(t)}Ln.has(g)||(t=v({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),Ln.set(g,t),o.querySelector(d)!==null||r==="style"&&o.querySelector(Vs(g))||r==="script"&&o.querySelector(Bs(g))||(r=o.createElement("link"),Xt(r,"link",t),Ft(r),o.head.appendChild(r)))}}function mw(t,r){Dr.m(t,r);var s=Di;if(s&&t){var o=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+On(o)+'"][href="'+On(t)+'"]',g=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ji(t)}if(!Ln.has(g)&&(t=v({rel:"modulepreload",href:t},r),Ln.set(g,t),s.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Bs(g)))return}o=s.createElement("link"),Xt(o,"link",t),Ft(o),s.head.appendChild(o)}}}function pw(t,r,s){Dr.S(t,r,s);var o=Di;if(o&&t){var d=Qa(o).hoistableStyles,g=Ni(t);r=r||"default";var _=d.get(g);if(!_){var S={loading:0,preload:null};if(_=o.querySelector(Vs(g)))S.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":r},s),(s=Ln.get(g))&&Fd(t,s);var D=_=o.createElement("link");Ft(D),Xt(D,"link",t),D._p=new Promise(function(z,X){D.onload=z,D.onerror=X}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ho(_,r,o)}_={type:"stylesheet",instance:_,count:1,state:S},d.set(g,_)}}}function vw(t,r){Dr.X(t,r);var s=Di;if(s&&t){var o=Qa(s).hoistableScripts,d=ji(t),g=o.get(d);g||(g=s.querySelector(Bs(d)),g||(t=v({src:t,async:!0},r),(r=Ln.get(d))&&zd(t,r),g=s.createElement("script"),Ft(g),Xt(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(d,g))}}function yw(t,r){Dr.M(t,r);var s=Di;if(s&&t){var o=Qa(s).hoistableScripts,d=ji(t),g=o.get(d);g||(g=s.querySelector(Bs(d)),g||(t=v({src:t,async:!0,type:"module"},r),(r=Ln.get(d))&&zd(t,r),g=s.createElement("script"),Ft(g),Xt(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(d,g))}}function Xp(t,r,s,o){var d=(d=ye.current)?zo(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Ni(s.href),s=Qa(d).hoistableStyles,o=s.get(r),o||(o={type:"style",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ni(s.href);var g=Qa(d).hoistableStyles,_=g.get(t);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,_),(g=d.querySelector(Vs(t)))&&!g._p&&(_.instance=g,_.state.loading=5),Ln.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ln.set(t,s),g||_w(d,t,s,_.state))),r&&o===null)throw Error(i(528,""));return _}if(r&&o!==null)throw Error(i(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ji(s),s=Qa(d).hoistableScripts,o=s.get(r),o||(o={type:"script",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Ni(t){return'href="'+On(t)+'"'}function Vs(t){return'link[rel="stylesheet"]['+t+"]"}function Wp(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function _w(t,r,s,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),Xt(r,"link",s),Ft(r),t.head.appendChild(r))}function ji(t){return'[src="'+On(t)+'"]'}function Bs(t){return"script[async]"+t}function Qp(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+On(s.href)+'"]');if(o)return r.instance=o,Ft(o),o;var d=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ft(o),Xt(o,"style",d),Ho(o,s.precedence,t),r.instance=o;case"stylesheet":d=Ni(s.href);var g=t.querySelector(Vs(d));if(g)return r.state.loading|=4,r.instance=g,Ft(g),g;o=Wp(s),(d=Ln.get(d))&&Fd(o,d),g=(t.ownerDocument||t).createElement("link"),Ft(g);var _=g;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Xt(g,"link",o),r.state.loading|=4,Ho(g,s.precedence,t),r.instance=g;case"script":return g=ji(s.src),(d=t.querySelector(Bs(g)))?(r.instance=d,Ft(d),d):(o=s,(d=Ln.get(g))&&(o=v({},s),zd(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),Ft(d),Xt(d,"link",o),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Ho(o,s.precedence,t));return r.instance}function Ho(t,r,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,g=d,_=0;_<o.length;_++){var S=o[_];if(S.dataset.precedence===r)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(t,g.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function Fd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function zd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Io=null;function Zp(t,r,s){if(Io===null){var o=new Map,d=Io=new Map;d.set(s,o)}else d=Io,o=d.get(s),o||(o=new Map,d.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var g=s[d];if(!(g[mr]||g[lt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(r)||"";_=t+_;var S=o.get(_);S?S.push(g):o.set(_,[g])}}return o}function Jp(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function bw(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var qs=null;function ww(){}function Sw(t,r,s){if(qs===null)throw Error(i(475));var o=qs;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Ni(s.href),g=t.querySelector(Vs(d));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Vo.bind(o),t.then(o,o)),r.state.loading|=4,r.instance=g,Ft(g);return}g=t.ownerDocument||t,s=Wp(s),(d=Ln.get(d))&&Fd(s,d),g=g.createElement("link"),Ft(g);var _=g;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Xt(g,"link",s),r.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=Vo.bind(o),t.addEventListener("load",r),t.addEventListener("error",r))}}function Ew(){if(qs===null)throw Error(i(475));var t=qs;return t.stylesheets&&t.count===0&&Hd(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&Hd(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Vo(){if(this.count--,this.count===0){if(this.stylesheets)Hd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bo=null;function Hd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bo=new Map,r.forEach(xw,t),Bo=null,Vo.call(t))}function xw(t,r){if(!(r.state.loading&4)){var s=Bo.get(t);if(s)var o=s.get(null);else{s=new Map,Bo.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var _=d[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),o=_)}o&&s.set(null,o)}d=r.instance,_=d.getAttribute("data-precedence"),g=s.get(_)||o,g===o&&s.set(null,d),s.set(_,d),this.count++,o=Vo.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),g?g.parentNode.insertBefore(d,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var Gs={$$typeof:T,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Cw(t,r,s,o,d,g,_,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rs(0),this.hiddenUpdates=rs(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function tv(t,r,s,o,d,g,_,S,D,z,X,J){return t=new Cw(t,r,s,_,S,D,z,J),r=1,g===!0&&(r|=24),g=_n(3,null,null,r),t.current=g,g.stateNode=t,r=Sc(),r.refCount++,t.pooledCache=r,r.refCount++,g.memoizedState={element:o,isDehydrated:s,cache:r},Rc(g),t}function nv(t){return t?(t=ui,t):ui}function rv(t,r,s,o,d,g){d=nv(d),o.context===null?o.context=d:o.pendingContext=d,o=qr(r),o.payload={element:s},g=g===void 0?null:g,g!==null&&(o.callback=g),s=Gr(t,o,r),s!==null&&(xn(s,t,r),Ss(s,t,r))}function av(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function Id(t,r){av(t,r),(t=t.alternate)&&av(t,r)}function iv(t){if(t.tag===13){var r=oi(t,67108864);r!==null&&xn(r,t,67108864),Id(t,67108864)}}var qo=!0;function Rw(t,r,s,o){var d=$.T;$.T=null;var g=Z.p;try{Z.p=2,Vd(t,r,s,o)}finally{Z.p=g,$.T=d}}function Tw(t,r,s,o){var d=$.T;$.T=null;var g=Z.p;try{Z.p=8,Vd(t,r,s,o)}finally{Z.p=g,$.T=d}}function Vd(t,r,s,o){if(qo){var d=Bd(o);if(d===null)Dd(t,r,o,Go,s),lv(t,o);else if(Ow(d,t,r,s,o))o.stopPropagation();else if(lv(t,o),r&4&&-1<Aw.indexOf(t)){for(;d!==null;){var g=Wa(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=pn(g.pendingLanes);if(_!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-He(_);S.entanglements[1]|=D,_&=~D}or(g),(Ke&6)===0&&(Oo=et()+500,Fs(0))}}break;case 13:S=oi(g,2),S!==null&&xn(S,g,2),No(),Id(g,2)}if(g=Bd(o),g===null&&Dd(t,r,o,Go,s),g===d)break;d=g}d!==null&&o.stopPropagation()}else Dd(t,r,o,null,s)}}function Bd(t){return t=Xu(t),qd(t)}var Go=null;function qd(t){if(Go=null,t=Xa(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=c(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Go=t,null}function sv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jt()){case vt:return 2;case O:return 8;case L:case G:return 32;case se:return 268435456;default:return 32}default:return 32}}var Gd=!1,ia=null,sa=null,la=null,Ys=new Map,Ks=new Map,oa=[],Aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lv(t,r){switch(t){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Ys.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(r.pointerId)}}function Xs(t,r,s,o,d,g){return t===null||t.nativeEvent!==g?(t={blockedOn:r,domEventName:s,eventSystemFlags:o,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Wa(r),r!==null&&iv(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function Ow(t,r,s,o,d){switch(r){case"focusin":return ia=Xs(ia,t,r,s,o,d),!0;case"dragenter":return sa=Xs(sa,t,r,s,o,d),!0;case"mouseover":return la=Xs(la,t,r,s,o,d),!0;case"pointerover":var g=d.pointerId;return Ys.set(g,Xs(Ys.get(g)||null,t,r,s,o,d)),!0;case"gotpointercapture":return g=d.pointerId,Ks.set(g,Xs(Ks.get(g)||null,t,r,s,o,d)),!0}return!1}function ov(t){var r=Xa(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=c(s),r!==null){t.blockedOn=r,zr(t.priority,function(){if(s.tag===13){var o=En();o=Zt(o);var d=oi(s,o);d!==null&&xn(d,s,o),Id(s,o)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yo(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=Bd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Ku=o,s.target.dispatchEvent(o),Ku=null}else return r=Wa(s),r!==null&&iv(r),t.blockedOn=s,!1;r.shift()}return!0}function uv(t,r,s){Yo(t)&&s.delete(r)}function Dw(){Gd=!1,ia!==null&&Yo(ia)&&(ia=null),sa!==null&&Yo(sa)&&(sa=null),la!==null&&Yo(la)&&(la=null),Ys.forEach(uv),Ks.forEach(uv)}function Ko(t,r){t.blockedOn===r&&(t.blockedOn=null,Gd||(Gd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Dw)))}var Xo=null;function cv(t){Xo!==t&&(Xo=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Xo===t&&(Xo=null);for(var r=0;r<t.length;r+=3){var s=t[r],o=t[r+1],d=t[r+2];if(typeof o!="function"){if(qd(o||s)===null)continue;break}var g=Wa(s);g!==null&&(t.splice(r,3),r-=3,qc(g,{pending:!0,data:d,method:s.method,action:o},o,d))}}))}function Ws(t){function r(D){return Ko(D,t)}ia!==null&&Ko(ia,t),sa!==null&&Ko(sa,t),la!==null&&Ko(la,t),Ys.forEach(r),Ks.forEach(r);for(var s=0;s<oa.length;s++){var o=oa[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<oa.length&&(s=oa[0],s.blockedOn===null);)ov(s),s.blockedOn===null&&oa.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var d=s[o],g=s[o+1],_=d[ot]||null;if(typeof g=="function")_||cv(s);else if(_){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,_=g[ot]||null)S=_.formAction;else if(qd(d)!==null)continue}else S=_.action;typeof S=="function"?s[o+1]=S:(s.splice(o,3),o-=3),cv(s)}}}function Yd(t){this._internalRoot=t}Wo.prototype.render=Yd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var s=r.current,o=En();rv(s,o,t,r,null,null)},Wo.prototype.unmount=Yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;rv(t.current,2,null,t,null,null),No(),r[Jt]=null}};function Wo(t){this._internalRoot=t}Wo.prototype.unstable_scheduleHydration=function(t){if(t){var r=vn();t={blockedOn:null,target:t,priority:r};for(var s=0;s<oa.length&&r!==0&&r<oa[s].priority;s++);oa.splice(s,0,t),s===0&&ov(t)}};var dv=n.version;if(dv!=="19.1.1")throw Error(i(527,dv,"19.1.1"));Z.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=h(r),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var Nw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qo.isDisabled&&Qo.supportsFiber)try{he=Qo.inject(Nw),Se=Qo}catch{}}return Zs.createRoot=function(t,r){if(!l(t))throw Error(i(299));var s=!1,o="",d=Tm,g=Am,_=Om,S=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=tv(t,1,!1,null,null,s,o,d,g,_,S,null),t[Jt]=r.current,Od(t),new Yd(r)},Zs.hydrateRoot=function(t,r,s){if(!l(t))throw Error(i(299));var o=!1,d="",g=Tm,_=Am,S=Om,D=null,z=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks),s.formState!==void 0&&(z=s.formState)),r=tv(t,1,!0,r,s??null,o,d,g,_,S,D,z),r.context=nv(null),s=r.current,o=En(),o=Zt(o),d=qr(o),d.callback=null,Gr(s,d,o),s=o,r.current.lanes=s,yt(r,s),or(r),t[Jt]=r.current,Od(t),new Wo(r)},Zs.version="19.1.1",Zs}var wv;function Hw(){if(wv)return Wd.exports;wv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Wd.exports=zw(),Wd.exports}var Iw=Hw();const Vw=Wf(Iw);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sv="popstate";function Bw(e={}){function n(i,l){let{pathname:u,search:c,hash:f}=i.location;return Rf("",{pathname:u,search:c,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function a(i,l){return typeof l=="string"?l:bl(l)}return Gw(n,a,null,e)}function gt(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Wn(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function qw(){return Math.random().toString(36).substring(2,10)}function Ev(e,n){return{usr:e.state,key:e.key,idx:n}}function Rf(e,n,a=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?Qi(n):n,state:a,key:n&&n.key||i||qw()}}function bl({pathname:e="/",search:n="",hash:a=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Qi(e){let n={};if(e){let a=e.indexOf("#");a>=0&&(n.hash=e.substring(a),e=e.substring(0,a));let i=e.indexOf("?");i>=0&&(n.search=e.substring(i),e=e.substring(0,i)),e&&(n.pathname=e)}return n}function Gw(e,n,a,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,c=l.history,f="POP",h=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function y(){f="POP";let R=v(),A=R==null?null:R-m;m=R,h&&h({action:f,location:C.location,delta:A})}function w(R,A){f="PUSH";let M=Rf(C.location,R,A);m=v()+1;let T=Ev(M,m),q=C.createHref(M);try{c.pushState(T,"",q)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;l.location.assign(q)}u&&h&&h({action:f,location:C.location,delta:1})}function b(R,A){f="REPLACE";let M=Rf(C.location,R,A);m=v();let T=Ev(M,m),q=C.createHref(M);c.replaceState(T,"",q),u&&h&&h({action:f,location:C.location,delta:0})}function E(R){return Yw(R)}let C={get action(){return f},get location(){return e(l,c)},listen(R){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(Sv,y),h=R,()=>{l.removeEventListener(Sv,y),h=null}},createHref(R){return n(l,R)},createURL:E,encodeLocation(R){let A=E(R);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:w,replace:b,go(R){return c.go(R)}};return C}function Yw(e,n=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),gt(a,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:bl(e);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=a+i),new URL(i,a)}function By(e,n,a="/"){return Kw(e,n,a,!1)}function Kw(e,n,a,i){let l=typeof n=="string"?Qi(n):n,u=Pr(l.pathname||"/",a);if(u==null)return null;let c=qy(e);Xw(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=sS(u);f=aS(c[h],m,i)}return f}function qy(e,n=[],a=[],i="",l=!1){let u=(c,f,h=l,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&h)return;gt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let y=Lr([i,v.relativePath]),w=a.concat(v);c.children&&c.children.length>0&&(gt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),qy(c.children,n,w,y,h)),!(c.path==null&&!c.index)&&n.push({path:y,score:nS(y,c.index),routesMeta:w})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))u(c,f);else for(let h of Gy(c.path))u(c,f,!0,h)}),n}function Gy(e){let n=e.split("/");if(n.length===0)return[];let[a,...i]=n,l=a.endsWith("?"),u=a.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let c=Gy(i.join("/")),f=[];return f.push(...c.map(h=>h===""?u:[u,h].join("/"))),l&&f.push(...c),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function Xw(e){e.sort((n,a)=>n.score!==a.score?a.score-n.score:rS(n.routesMeta.map(i=>i.childrenIndex),a.routesMeta.map(i=>i.childrenIndex)))}var Ww=/^:[\w-]+$/,Qw=3,Zw=2,Jw=1,eS=10,tS=-2,xv=e=>e==="*";function nS(e,n){let a=e.split("/"),i=a.length;return a.some(xv)&&(i+=tS),n&&(i+=Zw),a.filter(l=>!xv(l)).reduce((l,u)=>l+(Ww.test(u)?Qw:u===""?Jw:eS),i)}function rS(e,n){return e.length===n.length&&e.slice(0,-1).every((i,l)=>i===n[l])?e[e.length-1]-n[n.length-1]:0}function aS(e,n,a=!1){let{routesMeta:i}=e,l={},u="/",c=[];for(let f=0;f<i.length;++f){let h=i[f],m=f===i.length-1,v=u==="/"?n:n.slice(u.length)||"/",y=hu({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),w=h.route;if(!y&&m&&a&&!i[i.length-1].route.index&&(y=hu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!y)return null;Object.assign(l,y.params),c.push({params:l,pathname:Lr([u,y.pathname]),pathnameBase:cS(Lr([u,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(u=Lr([u,y.pathnameBase]))}return c}function hu(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,i]=iS(e.path,e.caseSensitive,e.end),l=n.match(a);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:y},w)=>{if(v==="*"){let E=f[w]||"";c=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const b=f[w];return y&&!b?m[v]=void 0:m[v]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:e}}function iS(e,n=!1,a=!0){Wn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),i]}function sS(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Wn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function Pr(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,i=e.charAt(a);return i&&i!=="/"?null:e.slice(a)||"/"}function lS(e,n="/"){let{pathname:a,search:i="",hash:l=""}=typeof e=="string"?Qi(e):e;return{pathname:a?a.startsWith("/")?a:oS(a,n):n,search:dS(i),hash:fS(l)}}function oS(e,n){let a=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?a.length>1&&a.pop():l!=="."&&a.push(l)}),a.length>1?a.join("/"):"/"}function ef(e,n,a,i){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uS(e){return e.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function Zf(e){let n=uS(e);return n.map((a,i)=>i===n.length-1?a.pathname:a.pathnameBase)}function Jf(e,n,a,i=!1){let l;typeof e=="string"?l=Qi(e):(l={...e},gt(!l.pathname||!l.pathname.includes("?"),ef("?","pathname","search",l)),gt(!l.pathname||!l.pathname.includes("#"),ef("#","pathname","hash",l)),gt(!l.search||!l.search.includes("#"),ef("#","search","hash",l)));let u=e===""||l.pathname==="",c=u?"/":l.pathname,f;if(c==null)f=a;else{let y=n.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),y-=1;l.pathname=w.join("/")}f=y>=0?n[y]:"/"}let h=lS(l,f),m=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&a.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}var Lr=e=>e.join("/").replace(/\/\/+/g,"/"),cS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Yy=["POST","PUT","PATCH","DELETE"];new Set(Yy);var gS=["GET",...Yy];new Set(gS);var Zi=x.createContext(null);Zi.displayName="DataRouter";var Au=x.createContext(null);Au.displayName="DataRouterState";x.createContext(!1);var Ky=x.createContext({isTransitioning:!1});Ky.displayName="ViewTransition";var mS=x.createContext(new Map);mS.displayName="Fetchers";var pS=x.createContext(null);pS.displayName="Await";var Jn=x.createContext(null);Jn.displayName="Navigation";var Ol=x.createContext(null);Ol.displayName="Location";var zn=x.createContext({outlet:null,matches:[],isDataRoute:!1});zn.displayName="Route";var eh=x.createContext(null);eh.displayName="RouteError";function vS(e,{relative:n}={}){gt(Ji(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:i}=x.useContext(Jn),{hash:l,pathname:u,search:c}=Dl(e,{relative:n}),f=u;return a!=="/"&&(f=u==="/"?a:Lr([a,u])),i.createHref({pathname:f,search:c,hash:l})}function Ji(){return x.useContext(Ol)!=null}function Fr(){return gt(Ji(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Ol).location}var Xy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wy(e){x.useContext(Jn).static||x.useLayoutEffect(e)}function Ou(){let{isDataRoute:e}=x.useContext(zn);return e?MS():yS()}function yS(){gt(Ji(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Zi),{basename:n,navigator:a}=x.useContext(Jn),{matches:i}=x.useContext(zn),{pathname:l}=Fr(),u=JSON.stringify(Zf(i)),c=x.useRef(!1);return Wy(()=>{c.current=!0}),x.useCallback((h,m={})=>{if(Wn(c.current,Xy),!c.current)return;if(typeof h=="number"){a.go(h);return}let v=Jf(h,JSON.parse(u),l,m.relative==="path");e==null&&n!=="/"&&(v.pathname=v.pathname==="/"?n:Lr([n,v.pathname])),(m.replace?a.replace:a.push)(v,m.state,m)},[n,a,u,l,e])}var _S=x.createContext(null);function bS(e){let n=x.useContext(zn).outlet;return n&&x.createElement(_S.Provider,{value:e},n)}function wS(){let{matches:e}=x.useContext(zn),n=e[e.length-1];return n?n.params:{}}function Dl(e,{relative:n}={}){let{matches:a}=x.useContext(zn),{pathname:i}=Fr(),l=JSON.stringify(Zf(a));return x.useMemo(()=>Jf(e,JSON.parse(l),i,n==="path"),[e,l,i,n])}function SS(e,n){return Qy(e,n)}function Qy(e,n,a,i){gt(Ji(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=x.useContext(Jn),{matches:u}=x.useContext(zn),c=u[u.length-1],f=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",v=c&&c.route;{let A=v&&v.path||"";Zy(h,!v||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=Fr(),w;if(n){let A=typeof n=="string"?Qi(n):n;gt(m==="/"||A.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${A.pathname}" was given in the \`location\` prop.`),w=A}else w=y;let b=w.pathname||"/",E=b;if(m!=="/"){let A=m.replace(/^\//,"").split("/");E="/"+b.replace(/^\//,"").split("/").slice(A.length).join("/")}let C=By(e,{pathname:E});Wn(v||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Wn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=TS(C&&C.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:Lr([m,l.encodeLocation?l.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:Lr([m,l.encodeLocation?l.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),u,a,i);return n&&R?x.createElement(Ol.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},R):R}function ES(){let e=jS(),n=hS(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:u},"ErrorBoundary")," or"," ",x.createElement("code",{style:u},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},n),a?x.createElement("pre",{style:l},a):null,c)}var xS=x.createElement(ES,null),CS=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(zn.Provider,{value:this.props.routeContext},x.createElement(eh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RS({routeContext:e,match:n,children:a}){let i=x.useContext(Zi);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(zn.Provider,{value:e},a)}function TS(e,n=[],a=null,i=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(n.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let l=e,u=a?.errors;if(u!=null){let h=l.findIndex(m=>m.route.id&&u?.[m.route.id]!==void 0);gt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,f=-1;if(a)for(let h=0;h<l.length;h++){let m=l[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:v,errors:y}=a,w=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||w){c=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((h,m,v)=>{let y,w=!1,b=null,E=null;a&&(y=u&&m.route.id?u[m.route.id]:void 0,b=m.route.errorElement||xS,c&&(f<0&&v===0?(Zy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):f===v&&(w=!0,E=m.route.hydrateFallbackElement||null)));let C=n.concat(l.slice(0,v+1)),R=()=>{let A;return y?A=b:w?A=E:m.route.Component?A=x.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=h,x.createElement(RS,{match:m,routeContext:{outlet:h,matches:C,isDataRoute:a!=null},children:A})};return a&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?x.createElement(CS,{location:a.location,revalidation:a.revalidation,component:b,error:y,children:R(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):R()},null)}function th(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AS(e){let n=x.useContext(Zi);return gt(n,th(e)),n}function OS(e){let n=x.useContext(Au);return gt(n,th(e)),n}function DS(e){let n=x.useContext(zn);return gt(n,th(e)),n}function nh(e){let n=DS(e),a=n.matches[n.matches.length-1];return gt(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function NS(){return nh("useRouteId")}function jS(){let e=x.useContext(eh),n=OS("useRouteError"),a=nh("useRouteError");return e!==void 0?e:n.errors?.[a]}function MS(){let{router:e}=AS("useNavigate"),n=nh("useNavigate"),a=x.useRef(!1);return Wy(()=>{a.current=!0}),x.useCallback(async(l,u={})=>{Wn(a.current,Xy),a.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:n,...u}))},[e,n])}var Cv={};function Zy(e,n,a){!n&&!Cv[e]&&(Cv[e]=!0,Wn(!1,a))}x.memo(kS);function kS({routes:e,future:n,state:a}){return Qy(e,void 0,a,n)}function Jy({to:e,replace:n,state:a,relative:i}){gt(Ji(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=x.useContext(Jn);Wn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=x.useContext(zn),{pathname:c}=Fr(),f=Ou(),h=Jf(e,Zf(u),c,i==="path"),m=JSON.stringify(h);return x.useEffect(()=>{f(JSON.parse(m),{replace:n,state:a,relative:i})},[f,m,i,n,a]),null}function e_(e){return bS(e.context)}function Cn(e){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function US({basename:e="/",children:n=null,location:a,navigationType:i="POP",navigator:l,static:u=!1}){gt(!Ji(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:c,navigator:l,static:u,future:{}}),[c,l,u]);typeof a=="string"&&(a=Qi(a));let{pathname:h="/",search:m="",hash:v="",state:y=null,key:w="default"}=a,b=x.useMemo(()=>{let E=Pr(h,c);return E==null?null:{location:{pathname:E,search:m,hash:v,state:y,key:w},navigationType:i}},[c,h,m,v,y,w,i]);return Wn(b!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:x.createElement(Jn.Provider,{value:f},x.createElement(Ol.Provider,{children:n,value:b}))}function LS({children:e,location:n}){return SS(Tf(e),n)}function Tf(e,n=[]){let a=[];return x.Children.forEach(e,(i,l)=>{if(!x.isValidElement(i))return;let u=[...n,l];if(i.type===x.Fragment){a.push.apply(a,Tf(i.props.children,u));return}gt(i.type===Cn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Tf(i.props.children,u)),a.push(c)}),a}var uu="get",cu="application/x-www-form-urlencoded";function Du(e){return e!=null&&typeof e.tagName=="string"}function PS(e){return Du(e)&&e.tagName.toLowerCase()==="button"}function $S(e){return Du(e)&&e.tagName.toLowerCase()==="form"}function FS(e){return Du(e)&&e.tagName.toLowerCase()==="input"}function zS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HS(e,n){return e.button===0&&(!n||n==="_self")&&!zS(e)}var Zo=null;function IS(){if(Zo===null)try{new FormData(document.createElement("form"),0),Zo=!1}catch{Zo=!0}return Zo}var VS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tf(e){return e!=null&&!VS.has(e)?(Wn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cu}"`),null):e}function BS(e,n){let a,i,l,u,c;if($S(e)){let f=e.getAttribute("action");i=f?Pr(f,n):null,a=e.getAttribute("method")||uu,l=tf(e.getAttribute("enctype"))||cu,u=new FormData(e)}else if(PS(e)||FS(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(i=h?Pr(h,n):null,a=e.getAttribute("formmethod")||f.getAttribute("method")||uu,l=tf(e.getAttribute("formenctype"))||tf(f.getAttribute("enctype"))||cu,u=new FormData(f,e),!IS()){let{name:m,type:v,value:y}=e;if(v==="image"){let w=m?`${m}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else m&&u.append(m,y)}}else{if(Du(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=uu,i=null,l=cu,c=e}return u&&l==="text/plain"&&(c=u,u=void 0),{action:i,method:a.toLowerCase(),encType:l,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rh(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function qS(e,n,a){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${a}`:n&&Pr(i.pathname,n)==="/"?i.pathname=`${n.replace(/\/$/,"")}/_root.${a}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${a}`,i}async function GS(e,n){if(e.id in n)return n[e.id];try{let a=await import(e.module);return n[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YS(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function KS(e,n,a){let i=await Promise.all(e.map(async l=>{let u=n.routes[l.route.id];if(u){let c=await GS(u,a);return c.links?c.links():[]}return[]}));return ZS(i.flat(1).filter(YS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Rv(e,n,a,i,l,u){let c=(h,m)=>a[m]?h.route.id!==a[m].route.id:!0,f=(h,m)=>a[m].pathname!==h.pathname||a[m].route.path?.endsWith("*")&&a[m].params["*"]!==h.params["*"];return u==="assets"?n.filter((h,m)=>c(h,m)||f(h,m)):u==="data"?n.filter((h,m)=>{let v=i.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function XS(e,n,{includeHydrateFallback:a}={}){return WS(e.map(i=>{let l=n.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),a&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function WS(e){return[...new Set(e)]}function QS(e){let n={},a=Object.keys(e).sort();for(let i of a)n[i]=e[i];return n}function ZS(e,n){let a=new Set;return new Set(n),e.reduce((i,l)=>{let u=JSON.stringify(QS(l));return a.has(u)||(a.add(u),i.push({key:u,link:l})),i},[])}function t_(){let e=x.useContext(Zi);return rh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function JS(){let e=x.useContext(Au);return rh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ah=x.createContext(void 0);ah.displayName="FrameworkContext";function n_(){let e=x.useContext(ah);return rh(e,"You must render this element inside a <HydratedRouter> element"),e}function eE(e,n){let a=x.useContext(ah),[i,l]=x.useState(!1),[u,c]=x.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=n,w=x.useRef(null);x.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let C=A=>{A.forEach(M=>{c(M.isIntersecting)})},R=new IntersectionObserver(C,{threshold:.5});return w.current&&R.observe(w.current),()=>{R.disconnect()}}},[e]),x.useEffect(()=>{if(i){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[i]);let b=()=>{l(!0)},E=()=>{l(!1),c(!1)};return a?e!=="intent"?[u,w,{}]:[u,w,{onFocus:Js(f,b),onBlur:Js(h,E),onMouseEnter:Js(m,b),onMouseLeave:Js(v,E),onTouchStart:Js(y,b)}]:[!1,w,{}]}function Js(e,n){return a=>{e&&e(a),a.defaultPrevented||n(a)}}function tE({page:e,...n}){let{router:a}=t_(),i=x.useMemo(()=>By(a.routes,e,a.basename),[a.routes,e,a.basename]);return i?x.createElement(rE,{page:e,matches:i,...n}):null}function nE(e){let{manifest:n,routeModules:a}=n_(),[i,l]=x.useState([]);return x.useEffect(()=>{let u=!1;return KS(e,n,a).then(c=>{u||l(c)}),()=>{u=!0}},[e,n,a]),i}function rE({page:e,matches:n,...a}){let i=Fr(),{manifest:l,routeModules:u}=n_(),{basename:c}=t_(),{loaderData:f,matches:h}=JS(),m=x.useMemo(()=>Rv(e,n,h,l,i,"data"),[e,n,h,l,i]),v=x.useMemo(()=>Rv(e,n,h,l,i,"assets"),[e,n,h,l,i]),y=x.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let E=new Set,C=!1;if(n.forEach(A=>{let M=l.routes[A.route.id];!M||!M.hasLoader||(!m.some(T=>T.route.id===A.route.id)&&A.route.id in f&&u[A.route.id]?.shouldRevalidate||M.hasClientLoader?C=!0:E.add(A.route.id))}),E.size===0)return[];let R=qS(e,c,"data");return C&&E.size>0&&R.searchParams.set("_routes",n.filter(A=>E.has(A.route.id)).map(A=>A.route.id).join(",")),[R.pathname+R.search]},[c,f,i,l,m,n,e,u]),w=x.useMemo(()=>XS(v,l),[v,l]),b=nE(v);return x.createElement(x.Fragment,null,y.map(E=>x.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...a})),w.map(E=>x.createElement("link",{key:E,rel:"modulepreload",href:E,...a})),b.map(({key:E,link:C})=>x.createElement("link",{key:E,nonce:a.nonce,...C})))}function aE(...e){return n=>{e.forEach(a=>{typeof a=="function"?a(n):a!=null&&(a.current=n)})}}var r_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{r_&&(window.__reactRouterVersion="7.8.1")}catch{}function iE({basename:e,children:n,window:a}){let i=x.useRef();i.current==null&&(i.current=Bw({window:a,v5Compat:!0}));let l=i.current,[u,c]=x.useState({action:l.action,location:l.location}),f=x.useCallback(h=>{x.startTransition(()=>c(h))},[c]);return x.useLayoutEffect(()=>l.listen(f),[l,f]),x.createElement(US,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l})}var a_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fn=x.forwardRef(function({onClick:n,discover:a="render",prefetch:i="none",relative:l,reloadDocument:u,replace:c,state:f,target:h,to:m,preventScrollReset:v,viewTransition:y,...w},b){let{basename:E}=x.useContext(Jn),C=typeof m=="string"&&a_.test(m),R,A=!1;if(typeof m=="string"&&C&&(R=m,r_))try{let ee=new URL(window.location.href),le=m.startsWith("//")?new URL(ee.protocol+m):new URL(m),oe=Pr(le.pathname,E);le.origin===ee.origin&&oe!=null?m=oe+le.search+le.hash:A=!0}catch{Wn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=vS(m,{relative:l}),[T,q,k]=eE(i,w),H=uE(m,{replace:c,state:f,target:h,preventScrollReset:v,relative:l,viewTransition:y});function F(ee){n&&n(ee),ee.defaultPrevented||H(ee)}let B=x.createElement("a",{...w,...k,href:R||M,onClick:A||u?n:F,ref:aE(b,q),target:h,"data-discover":!C&&a==="render"?"true":void 0});return T&&!C?x.createElement(x.Fragment,null,B,x.createElement(tE,{page:M})):B});Fn.displayName="Link";var sE=x.forwardRef(function({"aria-current":n="page",caseSensitive:a=!1,className:i="",end:l=!1,style:u,to:c,viewTransition:f,children:h,...m},v){let y=Dl(c,{relative:m.relative}),w=Fr(),b=x.useContext(Au),{navigator:E,basename:C}=x.useContext(Jn),R=b!=null&&gE(y)&&f===!0,A=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,M=w.pathname,T=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;a||(M=M.toLowerCase(),T=T?T.toLowerCase():null,A=A.toLowerCase()),T&&C&&(T=Pr(T,C)||T);const q=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let k=M===A||!l&&M.startsWith(A)&&M.charAt(q)==="/",H=T!=null&&(T===A||!l&&T.startsWith(A)&&T.charAt(A.length)==="/"),F={isActive:k,isPending:H,isTransitioning:R},B=k?n:void 0,ee;typeof i=="function"?ee=i(F):ee=[i,k?"active":null,H?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let le=typeof u=="function"?u(F):u;return x.createElement(Fn,{...m,"aria-current":B,className:ee,ref:v,style:le,to:c,viewTransition:f},typeof h=="function"?h(F):h)});sE.displayName="NavLink";var lE=x.forwardRef(({discover:e="render",fetcherKey:n,navigate:a,reloadDocument:i,replace:l,state:u,method:c=uu,action:f,onSubmit:h,relative:m,preventScrollReset:v,viewTransition:y,...w},b)=>{let E=fE(),C=hE(f,{relative:m}),R=c.toLowerCase()==="get"?"get":"post",A=typeof f=="string"&&a_.test(f),M=T=>{if(h&&h(T),T.defaultPrevented)return;T.preventDefault();let q=T.nativeEvent.submitter,k=q?.getAttribute("formmethod")||c;E(q||T.currentTarget,{fetcherKey:n,method:k,navigate:a,replace:l,state:u,relative:m,preventScrollReset:v,viewTransition:y})};return x.createElement("form",{ref:b,method:R,action:C,onSubmit:i?h:M,...w,"data-discover":!A&&e==="render"?"true":void 0})});lE.displayName="Form";function oE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i_(e){let n=x.useContext(Zi);return gt(n,oE(e)),n}function uE(e,{target:n,replace:a,state:i,preventScrollReset:l,relative:u,viewTransition:c}={}){let f=Ou(),h=Fr(),m=Dl(e,{relative:u});return x.useCallback(v=>{if(HS(v,n)){v.preventDefault();let y=a!==void 0?a:bl(h)===bl(m);f(e,{replace:y,state:i,preventScrollReset:l,relative:u,viewTransition:c})}},[h,f,m,a,i,n,e,l,u,c])}var cE=0,dE=()=>`__${String(++cE)}__`;function fE(){let{router:e}=i_("useSubmit"),{basename:n}=x.useContext(Jn),a=NS();return x.useCallback(async(i,l={})=>{let{action:u,method:c,encType:f,formData:h,body:m}=BS(i,n);if(l.navigate===!1){let v=l.fetcherKey||dE();await e.fetch(v,a,l.action||u,{preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||c,formEncType:l.encType||f,flushSync:l.flushSync})}else await e.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||c,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:a,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,n,a])}function hE(e,{relative:n}={}){let{basename:a}=x.useContext(Jn),i=x.useContext(zn);gt(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...Dl(e||".",{relative:n})},c=Fr();if(e==null){u.search=c.search;let f=new URLSearchParams(u.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let v=f.toString();u.search=v?`?${v}`:""}}return(!e||e===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:Lr([a,u.pathname])),bl(u)}function gE(e,{relative:n}={}){let a=x.useContext(Ky);gt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=i_("useViewTransitionState"),l=Dl(e,{relative:n});if(!a.isTransitioning)return!1;let u=Pr(a.currentLocation.pathname,i)||a.currentLocation.pathname,c=Pr(a.nextLocation.pathname,i)||a.nextLocation.pathname;return hu(l.pathname,c)!=null||hu(l.pathname,u)!=null}var ul=Vy();const mE="modulepreload",pE=function(e){return"/flexi/"+e},Tv={},Ga=function(n,a,i){let l=Promise.resolve();if(a&&a.length>0){let h=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");l=h(a.map(m=>{if(m=pE(m),m in Tv)return;Tv[m]=!0;const v=m.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":mE,v||(w.as="script"),w.crossOrigin="",w.href=m,f&&w.setAttribute("nonce",f),document.head.appendChild(w),v)return new Promise((b,E)=>{w.addEventListener("load",b),w.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return l.then(c=>{for(const f of c||[])f.status==="rejected"&&u(f.reason);return n().catch(u)})},vE=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...a)=>Ga(async()=>{const{default:i}=await Promise.resolve().then(()=>es);return{default:i}},[]).then(({default:i})=>i(...a)):n=fetch,(...a)=>n(...a)};class ih extends Error{constructor(n,a="FunctionsError",i){super(n),this.name=a,this.context=i}}class yE extends ih{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Av extends ih{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Ov extends ih{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Af;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Af||(Af={}));var _E=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};class bE{constructor(n,{headers:a={},customFetch:i,region:l=Af.Any}={}){this.url=n,this.headers=a,this.region=l,this.fetch=vE(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,a={}){var i;return _E(this,void 0,void 0,function*(){try{const{headers:l,method:u,body:c}=a;let f={},{region:h}=a;h||(h=this.region);const m=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let v;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(f["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(f["Content-Type"]="application/json",v=JSON.stringify(c)));const y=yield this.fetch(m.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:v}).catch(C=>{throw new yE(C)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new Av(y);if(!y.ok)throw new Ov(y);let b=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return b==="application/json"?E=yield y.json():b==="application/octet-stream"?E=yield y.blob():b==="text/event-stream"?E=y:b==="multipart/form-data"?E=yield y.formData():E=yield y.text(),{data:E,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof Ov||l instanceof Av?l.context:void 0}}})}}var Vt={},Mi={},ki={},Ui={},Li={},Pi={},wE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Xi=wE();const SE=Xi.fetch,s_=Xi.fetch.bind(Xi),l_=Xi.Headers,EE=Xi.Request,xE=Xi.Response,es=Object.freeze(Object.defineProperty({__proto__:null,Headers:l_,Request:EE,Response:xE,default:s_,fetch:SE},Symbol.toStringTag,{value:"Module"})),CE=Mw(es);var Jo={},Dv;function o_(){if(Dv)return Jo;Dv=1,Object.defineProperty(Jo,"__esModule",{value:!0});class e extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return Jo.default=e,Jo}var Nv;function u_(){if(Nv)return Pi;Nv=1;var e=Pi&&Pi.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Pi,"__esModule",{value:!0});const n=e(CE),a=e(o_());class i{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=Object.assign({},this.headers),this.headers[u]=c,this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,y,w;let b=null,E=null,C=null,R=m.status,A=m.statusText;if(m.ok){if(this.method!=="HEAD"){const k=await m.text();k===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?E=k:E=JSON.parse(k))}const T=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),q=(y=m.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");T&&q&&q.length>1&&(C=parseInt(q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(b={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,C=null,R=406,A="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const T=await m.text();try{b=JSON.parse(T),Array.isArray(b)&&m.status===404&&(E=[],b=null,R=200,A="OK")}catch{m.status===404&&T===""?(R=204,A="No Content"):b={message:T}}if(b&&this.isMaybeSingle&&(!((w=b?.details)===null||w===void 0)&&w.includes("0 rows"))&&(b=null,R=200,A="OK"),b&&this.shouldThrowOnError)throw new a.default(b)}return{error:b,data:E,count:C,status:R,statusText:A}});return this.shouldThrowOnError||(h=h.catch(m=>{var v,y,w;return{error:{message:`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,details:`${(y=m?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(w=m?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),h.then(u,c)}returns(){return this}overrideTypes(){return this}}return Pi.default=i,Pi}var jv;function c_(){if(jv)return Li;jv=1;var e=Li&&Li.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Li,"__esModule",{value:!0});const n=e(u_());class a extends n.default{select(l){let u=!1;const c=(l??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:u=!0,nullsFirst:c,foreignTable:f,referencedTable:h=f}={}){const m=h?`${h}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${l}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:c=u}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,u,{foreignTable:c,referencedTable:f=c}={}){const h=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${l}`),this.url.searchParams.set(m,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:u=!1,settings:c=!1,buffers:f=!1,wal:h=!1,format:m="text"}={}){var v;const y=[l?"analyze":null,u?"verbose":null,c?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),w=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${w}"; options=${y};`,m==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Li.default=a,Li}var Mv;function sh(){if(Mv)return Ui;Mv=1;var e=Ui&&Ui.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ui,"__esModule",{value:!0});const n=e(c_());class a extends n.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const c=Array.from(new Set(u)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${c})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:c,type:f}={}){let h="";f==="plain"?h="pl":f==="phrase"?h="ph":f==="websearch"&&(h="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(l,`${h}fts${m}.${u}`),this}match(l){return Object.entries(l).forEach(([u,c])=>{this.url.searchParams.append(u,`eq.${c}`)}),this}not(l,u,c){return this.url.searchParams.append(l,`not.${u}.${c}`),this}or(l,{foreignTable:u,referencedTable:c=u}={}){const f=c?`${c}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,u,c){return this.url.searchParams.append(l,`${u}.${c}`),this}}return Ui.default=a,Ui}var kv;function d_(){if(kv)return ki;kv=1;var e=ki&&ki.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ki,"__esModule",{value:!0});const n=e(sh());class a{constructor(l,{headers:u={},schema:c,fetch:f}){this.url=l,this.headers=u,this.schema=c,this.fetch=f}select(l,{head:u=!1,count:c}={}){const f=u?"HEAD":"GET";let h=!1;const m=(l??"*").split("").map(v=>/\s/.test(v)&&!h?"":(v==='"'&&(h=!h),v)).join("");return this.url.searchParams.set("select",m),c&&(this.headers.Prefer=`count=${c}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:u,defaultToNull:c=!0}={}){const f="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),u&&h.push(`count=${u}`),c||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(l)){const m=l.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(m.length>0){const v=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:u,ignoreDuplicates:c=!1,count:f,defaultToNull:h=!0}={}){const m="POST",v=[`resolution=${c?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&v.push(this.headers.Prefer),f&&v.push(`count=${f}`),h||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(l)){const y=l.reduce((w,b)=>w.concat(Object.keys(b)),[]);if(y.length>0){const w=[...new Set(y)].map(b=>`"${b}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:u}={}){const c="PATCH",f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),u&&f.push(`count=${u}`),this.headers.Prefer=f.join(","),new n.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const u="DELETE",c=[];return l&&c.push(`count=${l}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new n.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ki.default=a,ki}var el={},tl={},Uv;function RE(){return Uv||(Uv=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.version=void 0,tl.version="0.0.0-automated"),tl}var Lv;function TE(){if(Lv)return el;Lv=1,Object.defineProperty(el,"__esModule",{value:!0}),el.DEFAULT_HEADERS=void 0;const e=RE();return el.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},el}var Pv;function AE(){if(Pv)return Mi;Pv=1;var e=Mi&&Mi.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Mi,"__esModule",{value:!0});const n=e(d_()),a=e(sh()),i=TE();class l{constructor(c,{headers:f={},schema:h,fetch:m}={}){this.url=c,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),f),this.schemaName=h,this.fetch=m}from(c){const f=new URL(`${this.url}/${c}`);return new n.default(f,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new l(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,f={},{head:h=!1,get:m=!1,count:v}={}){let y;const w=new URL(`${this.url}/rpc/${c}`);let b;h||m?(y=h?"HEAD":"GET",Object.entries(f).filter(([C,R])=>R!==void 0).map(([C,R])=>[C,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([C,R])=>{w.searchParams.append(C,R)})):(y="POST",b=f);const E=Object.assign({},this.headers);return v&&(E.Prefer=`count=${v}`),new a.default({method:y,url:w,headers:E,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return Mi.default=l,Mi}var $v;function OE(){if($v)return Vt;$v=1;var e=Vt&&Vt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.PostgrestError=Vt.PostgrestBuilder=Vt.PostgrestTransformBuilder=Vt.PostgrestFilterBuilder=Vt.PostgrestQueryBuilder=Vt.PostgrestClient=void 0;const n=e(AE());Vt.PostgrestClient=n.default;const a=e(d_());Vt.PostgrestQueryBuilder=a.default;const i=e(sh());Vt.PostgrestFilterBuilder=i.default;const l=e(c_());Vt.PostgrestTransformBuilder=l.default;const u=e(u_());Vt.PostgrestBuilder=u.default;const c=e(o_());return Vt.PostgrestError=c.default,Vt.default={PostgrestClient:n.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:c.default},Vt}var DE=OE();const NE=Wf(DE),{PostgrestClient:jE,PostgrestQueryBuilder:ID,PostgrestFilterBuilder:VD,PostgrestTransformBuilder:BD,PostgrestBuilder:qD,PostgrestError:GD}=NE;class ME{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const a=parseInt(process.versions.node.split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let a=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(a+=`

Suggested solution: ${n.workaround}`),new Error(a)}static createWebSocket(n,a){const i=this.getWebSocketConstructor();return new i(n,a)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const kE="2.15.1",UE=`realtime-js/${kE}`,LE="1.0.0",Of=1e4,PE=1e3,$E=100;var dl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(dl||(dl={}));var Lt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Lt||(Lt={}));var Gn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Gn||(Gn={}));var Df;(function(e){e.websocket="websocket"})(Df||(Df={}));var Ba;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ba||(Ba={}));class FE{constructor(){this.HEADER_LENGTH=1}decode(n,a){return n.constructor===ArrayBuffer?a(this._binaryDecode(n)):a(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const a=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,a,i)}_decodeBroadcast(n,a,i){const l=a.getUint8(1),u=a.getUint8(2);let c=this.HEADER_LENGTH+2;const f=i.decode(n.slice(c,c+l));c=c+l;const h=i.decode(n.slice(c,c+u));c=c+u;const m=JSON.parse(i.decode(n.slice(c,n.byteLength)));return{ref:null,topic:f,event:h,payload:m}}}class f_{constructor(n,a){this.callback=n,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(st||(st={}));const Fv=(e,n,a={})=>{var i;const l=(i=a.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(n).reduce((u,c)=>(u[c]=zE(c,e,n,l),u),{})},zE=(e,n,a,i)=>{const l=n.find(f=>f.name===e),u=l?.type,c=a[e];return u&&!i.includes(u)?h_(u,c):Nf(c)},h_=(e,n)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return BE(n,a)}switch(e){case st.bool:return HE(n);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return IE(n);case st.json:case st.jsonb:return VE(n);case st.timestamp:return qE(n);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return Nf(n);default:return Nf(n)}},Nf=e=>e,HE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},IE=e=>{if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},VE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},BE=(e,n)=>{if(typeof e!="string")return e;const a=e.length-1,i=e[a];if(e[0]==="{"&&i==="}"){let u;const c=e.slice(1,a);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(f=>h_(n,f))}return e},qE=e=>typeof e=="string"?e.replace(" ","T"):e,g_=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class nf{constructor(n,a,i={},l=Of){this.channel=n,this.event=a,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,a){var i;return this._hasReceived(n)&&a((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:a}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(a))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var zv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(zv||(zv={}));class fl{constructor(n,a){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fl.syncState(this.state,l,u,c),this.pendingDiffs.forEach(h=>{this.state=fl.syncDiff(this.state,h,u,c)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},l=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=fl.syncDiff(this.state,l,u,c),f())}),this.onJoin((l,u,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:c})}),this.onLeave((l,u,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,a,i,l){const u=this.cloneDeep(n),c=this.transformState(a),f={},h={};return this.map(u,(m,v)=>{c[m]||(h[m]=v)}),this.map(c,(m,v)=>{const y=u[m];if(y){const w=v.map(R=>R.presence_ref),b=y.map(R=>R.presence_ref),E=v.filter(R=>b.indexOf(R.presence_ref)<0),C=y.filter(R=>w.indexOf(R.presence_ref)<0);E.length>0&&(f[m]=E),C.length>0&&(h[m]=C)}else f[m]=v}),this.syncDiff(u,{joins:f,leaves:h},i,l)}static syncDiff(n,a,i,l){const{joins:u,leaves:c}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(u,(f,h)=>{var m;const v=(m=n[f])!==null&&m!==void 0?m:[];if(n[f]=this.cloneDeep(h),v.length>0){const y=n[f].map(b=>b.presence_ref),w=v.filter(b=>y.indexOf(b.presence_ref)<0);n[f].unshift(...w)}i(f,v,h)}),this.map(c,(f,h)=>{let m=n[f];if(!m)return;const v=h.map(y=>y.presence_ref);m=m.filter(y=>v.indexOf(y.presence_ref)<0),n[f]=m,l(f,m,h),m.length===0&&delete n[f]}),n}static map(n,a){return Object.getOwnPropertyNames(n).map(i=>a(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((a,i)=>{const l=n[i];return"metas"in l?a[i]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[i]=l,a},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Hv||(Hv={}));var hl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hl||(hl={}));var Mr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Mr||(Mr={}));class lh{constructor(n,a={config:{}},i){this.topic=n,this.params=a,this.socket=i,this.bindings={},this.state=Lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new nf(this,Gn.join,this.params,this.timeout),this.rejoinTimer=new f_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new fl(this),this.broadcastEndpointURL=g_(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,a=this.timeout){var i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Lt.closed){const{config:{broadcast:u,presence:c,private:f}}=this.params,h=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&l!==void 0?l:[],m=!!this.bindings[hl.PRESENCE]&&this.bindings[hl.PRESENCE].length>0,v={},y={broadcast:u,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(w=>n?.(Mr.CHANNEL_ERROR,w)),this._onClose(()=>n?.(Mr.CLOSED)),this.updateJoinPayload(Object.assign({config:y},v)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:w})=>{var b;if(this.socket.setAuth(),w===void 0){n?.(Mr.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,C=(b=E?.length)!==null&&b!==void 0?b:0,R=[];for(let A=0;A<C;A++){const M=E[A],{filter:{event:T,schema:q,table:k,filter:H}}=M,F=w&&w[A];if(F&&F.event===T&&F.schema===q&&F.table===k&&F.filter===H)R.push(Object.assign(Object.assign({},M),{id:F.id}));else{this.unsubscribe(),this.state=Lt.errored,n?.(Mr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,n&&n(Mr.SUBSCRIBED);return}}).receive("error",w=>{this.state=Lt.errored,n?.(Mr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{n?.(Mr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,a={}){return await this.send({type:"presence",event:"track",payload:n},a.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,a,i){return this.state===Lt.joined&&n===hl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,a,i)}async send(n,a={}){var i,l;if(!this._canPush()&&n.type==="broadcast"){const{event:u,payload:c}=n,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,f,h;const m=this._push(n.type,n,a.timeout||this.timeout);n.type==="broadcast"&&!(!((h=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Lt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new nf(this,Gn.leave,{},n),i.receive("ok",()=>{a(),l("ok")}).receive("timeout",()=>{a(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Lt.closed,this.bindings={}}async _fetchWithTimeout(n,a,i){const l=new AbortController,u=setTimeout(()=>l.abort(),i),c=await this.socket.fetch(n,Object.assign(Object.assign({},a),{signal:l.signal}));return clearTimeout(u),c}_push(n,a,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new nf(this,n,a,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>$E){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(n,a,i){return a}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,a,i){var l,u;const c=n.toLocaleLowerCase(),{close:f,error:h,leave:m,join:v}=Gn;if(i&&[f,h,m,v].indexOf(c)>=0&&i!==this._joinRef())return;let w=this._onMessage(c,a,i);if(a&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(b=>{var E,C,R;return((E=b.filter)===null||E===void 0?void 0:E.event)==="*"||((R=(C=b.filter)===null||C===void 0?void 0:C.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===c}).map(b=>b.callback(w,i)):(u=this.bindings[c])===null||u===void 0||u.filter(b=>{var E,C,R,A,M,T;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const q=b.id,k=(E=b.filter)===null||E===void 0?void 0:E.event;return q&&((C=a.ids)===null||C===void 0?void 0:C.includes(q))&&(k==="*"||k?.toLocaleLowerCase()===((R=a.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const q=(M=(A=b?.filter)===null||A===void 0?void 0:A.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return q==="*"||q===((T=a?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:C,table:R,commit_timestamp:A,type:M,errors:T}=E;w=Object.assign(Object.assign({},{schema:C,table:R,commit_timestamp:A,eventType:M,new:{},old:{},errors:T}),this._getPayloadRecords(E))}b.callback(w,i)})}_isClosed(){return this.state===Lt.closed}_isJoined(){return this.state===Lt.joined}_isJoining(){return this.state===Lt.joining}_isLeaving(){return this.state===Lt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,a,i){const l=n.toLocaleLowerCase(),u={type:l,filter:a,callback:i};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(n,a){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&lh.isEqual(l.filter,a))})),this}static isEqual(n,a){if(Object.keys(n).length!==Object.keys(a).length)return!1;for(const i in n)if(n[i]!==a[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Gn.close,{},n)}_onError(n){this._on(Gn.error,{},a=>n(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const a={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(a.new=Fv(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(a.old=Fv(n.columns,n.old_record)),a}}const Iv=()=>{},eu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},GE=[1e3,2e3,5e3,1e4],YE=1e4,KE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XE{constructor(n,a){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Of,this.transport=null,this.heartbeatIntervalMs=eu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Iv,this.ref=0,this.reconnectTimer=null,this.logger=Iv,this.conn=null,this.sendBuffer=[],this.serializer=new FE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...c)=>Ga(async()=>{const{default:f}=await Promise.resolve().then(()=>es);return{default:f}},void 0).then(({default:f})=>f(...c)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...c)=>u(...c)},!(!((i=a?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${n}/${Df.websocket}`,this.httpEndpoint=g_(n),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ME.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const a=n.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:LE}))}disconnect(n,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},n?this.conn.close(n,a??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const a=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const n=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,a,i){this.logger(n,a,i)}connectionState(){switch(this.conn&&this.conn.readyState){case dl.connecting:return Ba.Connecting;case dl.open:return Ba.Open;case dl.closing:return Ba.Closing;default:return Ba.Closed}}isConnected(){return this.connectionState()===Ba.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,a={config:{}}){const i=`realtime:${n}`,l=this.getChannels().find(u=>u.topic===i);if(l)return l;{const u=new lh(`realtime:${n}`,a,this);return this.channels.push(u),u}}push(n){const{topic:a,event:i,payload:l,ref:u}=n,c=()=>{this.encode(n,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${a} ${i} (${u})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(PE,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},eu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let a=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${n}"`),a.unsubscribe())}_remove(n){this.channels=this.channels.filter(a=>a.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,a=>{a.topic==="phoenix"&&a.event==="phx_reply"&&this.heartbeatCallback(a.payload.status==="ok"?"ok":"error"),a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:l,payload:u,ref:c}=a,f=c?`(${c})`:"",h=u.status||"";this.log("receive",`${h} ${i} ${l} ${f}`.trim(),u),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(l,u,c)),this._triggerStateCallbacks("message",a)})}_clearTimer(n){var a;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var a;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Gn.error))}_appendParams(n,a){if(Object.keys(a).length===0)return n;const i=n.match(/\?/)?"&":"?",l=new URLSearchParams(a);return`${n}${i}${l}`}_workerObjectUrl(n){let a;if(n)a=n;else{const i=new Blob([KE],{type:"application/javascript"});a=URL.createObjectURL(i)}return a}_setConnectionState(n,a=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(n=null){let a;n?a=n:this.accessToken?a=await this.accessToken():a=this.accessTokenValue,this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(i=>{const l={access_token:a,version:UE};a&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(Gn.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(a=>{this.log("error",`error setting auth in ${n}`,a)})}_triggerStateCallbacks(n,a){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(a)}catch(l){this.log("error",`error in ${n} callback`,l)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new f_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},eu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var a,i,l,u,c,f,h,m;if(this.transport=(a=n?.transport)!==null&&a!==void 0?a:null,this.timeout=(i=n?.timeout)!==null&&i!==void 0?i:Of,this.heartbeatIntervalMs=(l=n?.heartbeatIntervalMs)!==null&&l!==void 0?l:eu.HEARTBEAT_INTERVAL,this.worker=(u=n?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=n?.accessToken)!==null&&c!==void 0?c:null,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=n?.reconnectAfterMs)!==null&&f!==void 0?f:(v=>GE[v-1]||YE),this.encode=(h=n?.encode)!==null&&h!==void 0?h:((v,y)=>y(JSON.stringify(v))),this.decode=(m=n?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class oh extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Pt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class WE extends oh{constructor(n,a,i){super(n),this.name="StorageApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jf extends oh{constructor(n,a){super(n),this.name="StorageUnknownError",this.originalError=a}}var QE=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const m_=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...a)=>Ga(async()=>{const{default:i}=await Promise.resolve().then(()=>es);return{default:i}},void 0).then(({default:i})=>i(...a)):n=fetch,(...a)=>n(...a)},ZE=()=>QE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ga(()=>Promise.resolve().then(()=>es),void 0)).Response:Response}),Mf=e=>{if(Array.isArray(e))return e.map(a=>Mf(a));if(typeof e=="function"||e!==Object(e))return e;const n={};return Object.entries(e).forEach(([a,i])=>{const l=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[l]=Mf(i)}),n},JE=e=>{if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ya=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const rf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ex=(e,n,a)=>Ya(void 0,void 0,void 0,function*(){const i=yield ZE();e instanceof i&&!a?.noResolveJson?e.json().then(l=>{const u=e.status||500,c=l?.statusCode||u+"";n(new WE(rf(l),u,c))}).catch(l=>{n(new jf(rf(l),l))}):n(new jf(rf(e),e))}),tx=(e,n,a,i)=>{const l={method:e,headers:n?.headers||{}};return e==="GET"||!i?l:(JE(i)?(l.headers=Object.assign({"Content-Type":"application/json"},n?.headers),l.body=JSON.stringify(i)):l.body=i,n?.duplex&&(l.duplex=n.duplex),Object.assign(Object.assign({},l),a))};function Nl(e,n,a,i,l,u){return Ya(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(a,tx(n,i,l,u)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>ex(h,f,i))})})}function gu(e,n,a,i){return Ya(this,void 0,void 0,function*(){return Nl(e,"GET",n,a,i)})}function cr(e,n,a,i,l){return Ya(this,void 0,void 0,function*(){return Nl(e,"POST",n,i,l,a)})}function kf(e,n,a,i,l){return Ya(this,void 0,void 0,function*(){return Nl(e,"PUT",n,i,l,a)})}function nx(e,n,a,i){return Ya(this,void 0,void 0,function*(){return Nl(e,"HEAD",n,Object.assign(Object.assign({},a),{noResolveJson:!0}),i)})}function p_(e,n,a,i,l){return Ya(this,void 0,void 0,function*(){return Nl(e,"DELETE",n,i,l,a)})}var ln=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const rx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ax{constructor(n,a={},i,l){this.url=n,this.headers=a,this.bucketId=i,this.fetch=m_(l)}uploadOrUpdate(n,a,i,l){return ln(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},Vv),l);let f=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),h&&u.append("metadata",this.encodeMetadata(h)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",c.cacheControl),h&&u.append("metadata",this.encodeMetadata(h))):(u=i,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),l?.headers&&(f=Object.assign(Object.assign({},f),l.headers));const m=this._removeEmptyFolders(a),v=this._getFinalPath(m),y=yield(n=="PUT"?kf:cr)(this.fetch,`${this.url}/object/${v}`,u,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(u){if(Pt(u))return{data:null,error:u};throw u}})}upload(n,a,i){return ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,a,i)})}uploadToSignedUrl(n,a,i,l){return ln(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",a);try{let h;const m=Object.assign({upsert:Vv.upsert},l),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",m.cacheControl)):(h=i,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const y=yield kf(this.fetch,f.toString(),h,{headers:v});return{data:{path:u,fullPath:y.Key},error:null}}catch(h){if(Pt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(n,a){return ln(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const l=Object.assign({},this.headers);a?.upsert&&(l["x-upsert"]="true");const u=yield cr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),c=new URL(this.url+u.url),f=c.searchParams.get("token");if(!f)throw new oh("No token returned by API");return{data:{signedUrl:c.toString(),path:n,token:f},error:null}}catch(i){if(Pt(i))return{data:null,error:i};throw i}})}update(n,a,i){return ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,a,i)})}move(n,a,i){return ln(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:a,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(Pt(l))return{data:null,error:l};throw l}})}copy(n,a,i){return ln(this,void 0,void 0,function*(){try{return{data:{path:(yield cr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:a,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(Pt(l))return{data:null,error:l};throw l}})}createSignedUrl(n,a,i){return ln(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n),u=yield cr(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:a},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(l){if(Pt(l))return{data:null,error:l};throw l}})}createSignedUrls(n,a,i){return ln(this,void 0,void 0,function*(){try{const l=yield cr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:n},{headers:this.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(l){if(Pt(l))return{data:null,error:l};throw l}})}download(n,a){return ln(this,void 0,void 0,function*(){const l=typeof a?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(a?.transform||{}),c=u?`?${u}`:"";try{const f=this._getFinalPath(n);return{data:yield(yield gu(this.fetch,`${this.url}/${l}/${f}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(Pt(f))return{data:null,error:f};throw f}})}info(n){return ln(this,void 0,void 0,function*(){const a=this._getFinalPath(n);try{const i=yield gu(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Mf(i),error:null}}catch(i){if(Pt(i))return{data:null,error:i};throw i}})}exists(n){return ln(this,void 0,void 0,function*(){const a=this._getFinalPath(n);try{return yield nx(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Pt(i)&&i instanceof jf){const l=i.originalError;if([400,404].includes(l?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,a){const i=this._getFinalPath(n),l=[],u=a?.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&l.push(u);const f=typeof a?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(a?.transform||{});h!==""&&l.push(h);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${m}`)}}}remove(n){return ln(this,void 0,void 0,function*(){try{return{data:yield p_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(a){if(Pt(a))return{data:null,error:a};throw a}})}list(n,a,i){return ln(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},rx),a),{prefix:n||""});return{data:yield cr(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(Pt(l))return{data:null,error:l};throw l}})}listV2(n,a){return ln(this,void 0,void 0,function*(){try{const i=Object.assign({},n);return{data:yield cr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(Pt(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const a=[];return n.width&&a.push(`width=${n.width}`),n.height&&a.push(`height=${n.height}`),n.resize&&a.push(`resize=${n.resize}`),n.format&&a.push(`format=${n.format}`),n.quality&&a.push(`quality=${n.quality}`),a.join("&")}}const ix="2.11.0",sx={"X-Client-Info":`storage-js/${ix}`};var $i=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};class lx{constructor(n,a={},i,l){const u=new URL(n);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},sx),a),this.fetch=m_(i)}listBuckets(){return $i(this,void 0,void 0,function*(){try{return{data:yield gu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}getBucket(n){return $i(this,void 0,void 0,function*(){try{return{data:yield gu(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(a){if(Pt(a))return{data:null,error:a};throw a}})}createBucket(n,a={public:!1}){return $i(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Pt(i))return{data:null,error:i};throw i}})}updateBucket(n,a){return $i(this,void 0,void 0,function*(){try{return{data:yield kf(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Pt(i))return{data:null,error:i};throw i}})}emptyBucket(n){return $i(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(Pt(a))return{data:null,error:a};throw a}})}deleteBucket(n){return $i(this,void 0,void 0,function*(){try{return{data:yield p_(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(a){if(Pt(a))return{data:null,error:a};throw a}})}}class ox extends lx{constructor(n,a={},i,l){super(n,a,i,l)}from(n){return new ax(this.url,this.headers,n,this.fetch)}}const ux="2.55.0";let cl="";typeof Deno<"u"?cl="deno":typeof document<"u"?cl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cl="react-native":cl="node";const cx={"X-Client-Info":`supabase-js-${cl}/${ux}`},dx={headers:cx},fx={schema:"public"},hx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gx={};var mx=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const px=e=>{let n;return e?n=e:typeof fetch>"u"?n=s_:n=fetch,(...a)=>n(...a)},vx=()=>typeof Headers>"u"?l_:Headers,yx=(e,n,a)=>{const i=px(a),l=vx();return(u,c)=>mx(void 0,void 0,void 0,function*(){var f;const h=(f=yield n())!==null&&f!==void 0?f:e;let m=new l(c?.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),i(u,Object.assign(Object.assign({},c),{headers:m}))})};var _x=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};function bx(e){return e.endsWith("/")?e:e+"/"}function wx(e,n){var a,i;const{db:l,auth:u,realtime:c,global:f}=e,{db:h,auth:m,realtime:v,global:y}=n,w={db:Object.assign(Object.assign({},h),l),auth:Object.assign(Object.assign({},m),u),realtime:Object.assign(Object.assign({},v),c),storage:{},global:Object.assign(Object.assign(Object.assign({},y),f),{headers:Object.assign(Object.assign({},(a=y?.headers)!==null&&a!==void 0?a:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>_x(this,void 0,void 0,function*(){return""})};return e.accessToken?w.accessToken=e.accessToken:delete w.accessToken,w}const v_="2.71.1",qi=30*1e3,Uf=3,af=Uf*qi,Sx="http://localhost:9999",Ex="supabase.auth.token",xx={"X-Client-Info":`gotrue-js/${v_}`},Lf="X-Supabase-Api-Version",y_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Cx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rx=600*1e3;class uh extends Error{constructor(n,a,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=i}}function Ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Tx extends uh{constructor(n,a,i){super(n,a,i),this.name="AuthApiError",this.status=a,this.code=i}}function Ax(e){return Ne(e)&&e.name==="AuthApiError"}class __ extends uh{constructor(n,a){super(n),this.name="AuthUnknownError",this.originalError=a}}class ba extends uh{constructor(n,a,i,l){super(n,i,l),this.name=a,this.status=i}}class ha extends ba{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ox(e){return Ne(e)&&e.name==="AuthSessionMissingError"}class tu extends ba{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nu extends ba{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class ru extends ba{constructor(n,a=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Dx(e){return Ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class Bv extends ba{constructor(n,a=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pf extends ba{constructor(n,a){super(n,"AuthRetryableFetchError",a,void 0)}}function sf(e){return Ne(e)&&e.name==="AuthRetryableFetchError"}class qv extends ba{constructor(n,a,i){super(n,"AuthWeakPasswordError",a,"weak_password"),this.reasons=i}}class $f extends ba{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const mu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gv=` 	
\r=`.split(""),Nx=(()=>{const e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<Gv.length;n+=1)e[Gv[n].charCodeAt(0)]=-2;for(let n=0;n<mu.length;n+=1)e[mu[n].charCodeAt(0)]=n;return e})();function Yv(e,n,a){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;a(mu[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;a(mu[i]),n.queuedBits-=6}}function b_(e,n,a){const i=Nx[e];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)a(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Kv(e){const n=[],a=c=>{n.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=c=>{kx(c,i,a)};for(let c=0;c<e.length;c+=1)b_(e.charCodeAt(c),l,u);return n.join("")}function jx(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Mx(e,n){for(let a=0;a<e.length;a+=1){let i=e.charCodeAt(a);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(e.charCodeAt(a+1)-56320&65535|l)+65536,a+=1}jx(i,n)}}function kx(e,n,a){if(n.utf8seq===0){if(e<=127){a(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&a(n.codepoint)}}function Ux(e){const n=[],a={queue:0,queuedBits:0},i=l=>{n.push(l)};for(let l=0;l<e.length;l+=1)b_(e.charCodeAt(l),a,i);return new Uint8Array(n)}function Lx(e){const n=[];return Mx(e,a=>n.push(a)),new Uint8Array(n)}function Px(e){const n=[],a={queue:0,queuedBits:0},i=l=>{n.push(l)};return e.forEach(l=>Yv(l,a,i)),Yv(null,a,i),n.join("")}function $x(e){return Math.round(Date.now()/1e3)+e}function Fx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}const qn=()=>typeof window<"u"&&typeof document<"u",za={tested:!1,writable:!1},w_=()=>{if(!qn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(za.tested)return za.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),za.tested=!0,za.writable=!0}catch{za.tested=!0,za.writable=!1}return za.writable};function zx(e){const n={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((l,u)=>{n[u]=l})}catch{}return a.searchParams.forEach((i,l)=>{n[l]=i}),n}const S_=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...a)=>Ga(async()=>{const{default:i}=await Promise.resolve().then(()=>es);return{default:i}},void 0).then(({default:i})=>i(...a)):n=fetch,(...a)=>n(...a)},Hx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gi=async(e,n,a)=>{await e.setItem(n,JSON.stringify(a))},Ha=async(e,n)=>{const a=await e.getItem(n);if(!a)return null;try{return JSON.parse(a)}catch{return a}},ca=async(e,n)=>{await e.removeItem(n)};class Nu{constructor(){this.promise=new Nu.promiseConstructor((n,a)=>{this.resolve=n,this.reject=a})}}Nu.promiseConstructor=Promise;function lf(e){const n=e.split(".");if(n.length!==3)throw new $f("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!Cx.test(n[i]))throw new $f("JWT not in base64url format");return{header:JSON.parse(Kv(n[0])),payload:JSON.parse(Kv(n[1])),signature:Ux(n[2]),raw:{header:n[0],payload:n[1]}}}async function Ix(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}function Vx(e,n){return new Promise((i,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await e(u);if(!n(u,null,c)){i(c);return}}catch(c){if(!n(u,c)){l(c);return}}})()})}function Bx(e){return("0"+e.toString(16)).substr(-2)}function qx(){const n=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=a.length;let l="";for(let u=0;u<56;u++)l+=a.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(n),Array.from(n,Bx).join("")}async function Gx(e){const a=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",a),l=new Uint8Array(i);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function Yx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await Gx(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fi(e,n,a=!1){const i=qx();let l=i;a&&(l+="/PASSWORD_RECOVERY"),await Gi(e,`${n}-code-verifier`,l);const u=await Yx(i);return[u,i===u?"plain":"s256"]}const Kx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xx(e){const n=e.headers.get(Lf);if(!n||!n.match(Kx))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Wx(e){if(!e)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function Qx(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zi(e){if(!Zx.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function of(){const e={};return new Proxy(e,{get:(n,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Xv(e){return JSON.parse(JSON.stringify(e))}var Jx=function(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]]);return a};const Ia=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eC=[502,503,504];async function Wv(e){var n;if(!Hx(e))throw new Pf(Ia(e),0);if(eC.includes(e.status))throw new Pf(Ia(e),e.status);let a;try{a=await e.json()}catch(u){throw new __(Ia(u),u)}let i;const l=Xx(e);if(l&&l.getTime()>=y_["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?i=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(i=a.error_code),i){if(i==="weak_password")throw new qv(Ia(a),e.status,((n=a.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new ha}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new qv(Ia(a),e.status,a.weak_password.reasons);throw new Tx(Ia(a),e.status||500,i)}const tC=(e,n,a,i)=>{const l={method:e,headers:n?.headers||{}};return e==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),a))};async function Fe(e,n,a,i){var l;const u=Object.assign({},i?.headers);u[Lf]||(u[Lf]=y_["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const c=(l=i?.query)!==null&&l!==void 0?l:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await nC(e,n,a+f,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function nC(e,n,a,i,l,u){const c=tC(n,i,l,u);let f;try{f=await e(a,Object.assign({},c))}catch(h){throw console.error(h),new Pf(Ia(h),0)}if(f.ok||await Wv(f),i?.noResolveJson)return f;try{return await f.json()}catch(h){await Wv(h)}}function jr(e){var n;let a=null;sC(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=$x(e.expires_in)));const i=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:a,user:i},error:null}}function Qv(e){const n=jr(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0)&&(n.data.weak_password=e.weak_password),n}function ma(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function rC(e){return{data:e,error:null}}function aC(e){const{action_link:n,email_otp:a,hashed_token:i,redirect_to:l,verification_type:u}=e,c=Jx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:n,email_otp:a,hashed_token:i,redirect_to:l,verification_type:u},h=Object.assign({},c);return{data:{properties:f,user:h},error:null}}function iC(e){return e}function sC(e){return e.access_token&&e.refresh_token&&e.expires_in}const uf=["global","local","others"];var lC=function(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]]);return a};class oC{constructor({url:n="",headers:a={},fetch:i}){this.url=n,this.headers=a,this.fetch=S_(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,a=uf[0]){if(uf.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uf.join(", ")}`);try{return await Fe(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,a={}){try{return await Fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:ma})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:a}=n,i=lC(n,["options"]),l=Object.assign(Object.assign({},i),a);return"newEmail"in i&&(l.new_email=i?.newEmail,delete l.newEmail),await Fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:aC,redirectTo:a?.redirectTo})}catch(a){if(Ne(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(n){try{return await Fe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ma})}catch(a){if(Ne(a))return{data:{user:null},error:a};throw a}}async listUsers(n){var a,i,l,u,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},v=await Fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(a=n?.page)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:"",per_page:(u=(l=n?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:iC});if(v.error)throw v.error;const y=await v.json(),w=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(E=>{const C=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(E.split(";")[1].split("=")[1]);m[`${R}Page`]=C}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Ne(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){zi(n);try{return await Fe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ma})}catch(a){if(Ne(a))return{data:{user:null},error:a};throw a}}async updateUserById(n,a){zi(n);try{return await Fe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:a,headers:this.headers,xform:ma})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,a=!1){zi(n);try{return await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:a},xform:ma})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){zi(n.userId);try{const{data:a,error:i}=await Fe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:a,error:i}}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async _deleteFactor(n){zi(n.userId),zi(n.id);try{return{data:await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}}}function Zv(e={}){return{getItem:n=>e[n]||null,setItem:(n,a)=>{e[n]=a},removeItem:n=>{delete e[n]}}}function uC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Hi={debug:!!(globalThis&&w_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class E_ extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class cC extends E_{}async function dC(e,n,a){Hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),Hi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){Hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,l.name);try{return await a()}finally{Hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,l.name)}}else{if(n===0)throw Hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Hi.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}uC();const fC={url:Sx,storageKey:Ex,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jv(e,n,a){return await a()}const Ii={};class wl{constructor(n){var a,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=wl.nextInstanceID,wl.nextInstanceID+=1,this.instanceID>0&&qn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},fC),n);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new oC({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=S_(l.fetch),this.lock=l.lock||Jv,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:qn()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=dC:this.lock=Jv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:w_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zv(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Zv(this.memoryStorage)),qn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var n,a;return(a=(n=Ii[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(n){Ii[this.storageKey]=Object.assign(Object.assign({},Ii[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,a;return(a=(n=Ii[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Ii[this.storageKey]=Object.assign(Object.assign({},Ii[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${v_}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const a=zx(window.location.href);let i="none";if(this._isImplicitGrantCallback(a)?i="implicit":await this._isPKCECallback(a)&&(i="pkce"),qn()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:u}=await this._getSessionFromURL(a,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Dx(u)){const h=(n=u.details)===null||n===void 0?void 0:n.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return Ne(a)?{error:a}:{error:new __("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var a,i,l;try{const u=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(a=n?.options)===null||a===void 0?void 0:a.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=n?.options)===null||l===void 0?void 0:l.captchaToken}},xform:jr}),{data:c,error:f}=u;if(f||!c)return{data:{user:null,session:null},error:f};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(u){if(Ne(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(n){var a,i,l;try{let u;if("email"in n){const{email:v,password:y,options:w}=n;let b=null,E=null;this.flowType==="pkce"&&([b,E]=await Fi(this.storage,this.storageKey)),u=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:v,password:y,data:(a=w?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:b,code_challenge_method:E},xform:jr})}else if("phone"in n){const{phone:v,password:y,options:w}=n;u=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(l=w?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:jr})}else throw new nu("You must provide either an email or phone number and a password");const{data:c,error:f}=u;if(f||!c)return{data:{user:null,session:null},error:f};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(u){if(Ne(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(n){try{let a;if("email"in n){const{email:u,password:c,options:f}=n;a=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Qv})}else if("phone"in n){const{phone:u,password:c,options:f}=n;a=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Qv})}else throw new nu("You must provide either an email or phone number and a password");const{data:i,error:l}=a;return l?{data:{user:null,session:null},error:l}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new tu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(a){if(Ne(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(n){var a,i,l,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:a}=n;if(a==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(n){var a,i,l,u,c,f,h,m,v,y,w,b;let E,C;if("message"in n)E=n.message,C=n.signature;else{const{chain:R,wallet:A,statement:M,options:T}=n;let q;if(qn())if(typeof A=="object")q=A;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))q=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=A}const k=new URL((a=T?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in q&&q.signIn){const H=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),M?{statement:M}:null));let F;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")F=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)F=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)E=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),C=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${k.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(l=(i=T?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=T?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((m=T?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((y=(v=T?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...T.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const H=await q.signMessage(new TextEncoder().encode(E),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=H}}try{const{data:R,error:A}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Px(C)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=n.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:jr});if(A)throw A;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new tu}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:A})}catch(R){if(Ne(R))return{data:{user:null,session:null},error:R};throw R}}async _exchangeCodeForSession(n){const a=await Ha(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(a??"").split("/");try{const{data:u,error:c}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:jr});if(await ca(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new tu}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:c})}catch(u){if(Ne(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(n){try{const{options:a,provider:i,token:l,access_token:u,nonce:c}=n,f=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:jr}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new tu}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(a){if(Ne(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(n){var a,i,l,u,c;try{if("email"in n){const{email:f,options:h}=n;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Fi(this.storage,this.storageKey));const{error:y}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(a=h?.data)!==null&&a!==void 0?a:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in n){const{phone:f,options:h}=n,{data:m,error:v}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=h?.data)!==null&&l!==void 0?l:{},create_user:(u=h?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new nu("You must provide either an email or phone number.")}catch(f){if(Ne(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(n){var a,i;try{let l,u;"options"in n&&(l=(a=n.options)===null||a===void 0?void 0:a.redirectTo,u=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:f}=await Fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:jr});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Ne(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(n){var a,i,l;try{let u=null,c=null;return this.flowType==="pkce"&&([u,c]=await Fi(this.storage,this.storageKey)),await Fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(a=n.options)===null||a===void 0?void 0:a.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=n?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:rC})}catch(u){if(Ne(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)throw i;if(!a)throw new ha;const{error:l}=await Fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:l}})}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const a=`${this.url}/resend`;if("email"in n){const{email:i,type:l,options:u}=n,{error:c}=await Fe(this.fetch,"POST",a,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in n){const{phone:i,type:l,options:u}=n,{data:c,error:f}=await Fe(this.fetch,"POST",a,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:f}}throw new nu("You must provide either an email or phone number and a type")}catch(a){if(Ne(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(n,a){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await a()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=a();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await n(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const a=await Ha(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?n=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<af:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const c=await Ha(this.userStorage,this.storageKey+"-user");c?.user?n.user=c.user:n.user=of()}if(this.storage.isServer&&n.user){let c=this.suppressGetSessionWarning;n=new Proxy(n,{get:(h,m,v)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,v))})}return{data:{session:n},error:null}}const{session:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ma}):await this._useSession(async a=>{var i,l,u;const{data:c,error:f}=a;if(f)throw f;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ha}:await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:ma})})}catch(a){if(Ne(a))return Ox(a)&&(await this._removeSession(),await ca(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(n,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,a))}async _updateUser(n,a={}){try{return await this._useSession(async i=>{const{data:l,error:u}=i;if(u)throw u;if(!l.session)throw new ha;const c=l.session;let f=null,h=null;this.flowType==="pkce"&&n.email!=null&&([f,h]=await Fi(this.storage,this.storageKey));const{data:m,error:v}=await Fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:f,code_challenge_method:h}),jwt:c.access_token,xform:ma});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new ha;const a=Date.now()/1e3;let i=a,l=!0,u=null;const{payload:c}=lf(n.access_token);if(c.exp&&(i=c.exp,l=i<=a),l){const{session:f,error:h}=await this._callRefreshToken(n.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:h}=await this._getUser(n.access_token);if(h)throw h;u={access_token:n.access_token,refresh_token:n.refresh_token,user:f.user,token_type:"bearer",expires_in:i-a,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(a){if(Ne(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async a=>{var i;if(!n){const{data:c,error:f}=a;if(f)throw f;n=(i=c.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new ha;const{session:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(Ne(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(n,a){try{if(!qn())throw new ru("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ru(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Bv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ru("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Bv("No code detected.");const{data:M,error:T}=await this._exchangeCodeForSession(n.code);if(T)throw T;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:u,refresh_token:c,expires_in:f,expires_at:h,token_type:m}=n;if(!u||!f||!c||!m)throw new ru("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(f);let w=v+y;h&&(w=parseInt(h));const b=w-v;b*1e3<=qi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const E=w-y;v-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,v):v-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,v);const{data:C,error:R}=await this._getUser(u);if(R)throw R;const A={provider_token:i,provider_refresh_token:l,access_token:u,expires_in:y,expires_at:w,refresh_token:c,token_type:m,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:n.type},error:null}}catch(i){if(Ne(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const a=await Ha(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&a)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async a=>{var i;const{data:l,error:u}=a;if(u)return{error:u};const c=(i=l.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:f}=await this.admin.signOut(c,n);if(f&&!(Ax(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return n!=="others"&&(await this._removeSession(),await ca(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const a=Fx(),i={id:a,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async a=>{var i,l;try{const{data:{session:u},error:c}=a;if(c)throw c;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,a={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await Fi(this.storage,this.storageKey,!0));try{return await Fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(Ne(u))return{data:null,error:u};throw u}}async getUserIdentities(){var n;try{const{data:a,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(n=a.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async linkIdentity(n){var a;try{const{data:i,error:l}=await this._useSession(async u=>{var c,f,h,m,v;const{data:y,error:w}=u;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(c=n.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=n.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=n.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Fe(this.fetch,"GET",b,{headers:this.headers,jwt:(v=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return qn()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:n.provider,url:i?.url},error:null}}catch(i){if(Ne(i))return{data:{provider:n.provider,url:null},error:i};throw i}}async unlinkIdentity(n){try{return await this._useSession(async a=>{var i,l;const{data:u,error:c}=a;if(c)throw c;return await Fe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async _refreshAccessToken(n){const a=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(a,"begin");try{const i=Date.now();return await Vx(async l=>(l>0&&await Ix(200*Math.pow(2,l-1)),this._debug(a,"refreshing attempt",l),await Fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:jr})),(l,u)=>{const c=200*Math.pow(2,l);return u&&sf(u)&&Date.now()+c-i<qi})}catch(i){if(this._debug(a,"error",i),Ne(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(a,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,a){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",a,"url",i),qn()&&!a.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,a;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await Ha(this.storage,this.storageKey);if(l&&this.userStorage){let c=await Ha(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await Gi(this.userStorage,this.storageKey+"-user",c)),l.user=(n=c?.user)!==null&&n!==void 0?n:of()}else if(l&&!l.user&&!l.user){const c=await Ha(this.storage,this.storageKey+"-user");c&&c?.user?(l.user=c.user,await ca(this.storage,this.storageKey+"-user"),await Gi(this.storage,this.storageKey,l)):l.user=of()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const u=((a=l.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<af;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${af}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),sf(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(l.access_token);!f&&c?.user?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var a,i;if(!n)throw new ha;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Nu;const{data:u,error:c}=await this._refreshAccessToken(n);if(c)throw c;if(!u.session)throw new ha;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={session:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),Ne(u)){const c={session:null,error:u};return sf(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(n,a,i=!0){const l=`#_notifyAllSubscribers(${n})`;this._debug(l,"begin",a,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:a});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(n,a)}catch(h){u.push(h)}});if(await Promise.all(c),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const a=Object.assign({},n),i=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&a.user&&await Gi(this.userStorage,this.storageKey+"-user",{user:a.user});const l=Object.assign({},a);delete l.user;const u=Xv(l);await Gi(this.storage,this.storageKey,u)}else{const l=Xv(a);await Gi(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await ca(this.storage,this.storageKey),await ca(this.storage,this.storageKey+"-code-verifier"),await ca(this.storage,this.storageKey+"-user"),this.userStorage&&await ca(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&qn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),qi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async a=>{const{data:{session:i}}=a;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-n)/qi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${qi}ms, refresh threshold is ${Uf} ticks`),l<=Uf&&await this._callRefreshToken(i.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof E_)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const a=`#_onVisibilityChanged(${n})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,a,i){const l=[`provider=${encodeURIComponent(a)}`];if(i?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,c]=await Fi(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(f.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);l.push(u.toString())}return i?.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${l.join("&")}`}async _unenroll(n){try{return await this._useSession(async a=>{var i;const{data:l,error:u}=a;return u?{data:null,error:u}:await Fe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async _enroll(n){try{return await this._useSession(async a=>{var i,l;const{data:u,error:c}=a;if(c)return{data:null,error:c};const f=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:h,error:m}=await Fe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(n.factorType==="totp"&&(!((l=h?.totp)===null||l===void 0)&&l.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var i;const{data:l,error:u}=a;if(u)return{data:null,error:u};const{data:c,error:f}=await Fe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:f})})}catch(a){if(Ne(a))return{data:null,error:a};throw a}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var i;const{data:l,error:u}=a;return u?{data:null,error:u}:await Fe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(a){if(Ne(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(n){const{data:a,error:i}=await this._challenge({factorId:n.factorId});return i?{data:null,error:i}:await this._verify({factorId:n.factorId,challengeId:a.id,code:n.code})}async _listFactors(){const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i=n?.factors||[],l=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),u=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:l,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var a,i;const{data:{session:l},error:u}=n;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=lf(l.access_token);let f=null;c.aal&&(f=c.aal);let h=f;((i=(a=l.user.factors)===null||a===void 0?void 0:a.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const v=c.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(n,a={keys:[]}){let i=a.keys.find(f=>f.kid===n);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(f=>f.kid===n),i&&this.jwks_cached_at+Rx>l)return i;const{data:u,error:c}=await Fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,i=u.keys.find(f=>f.kid===n),!i)?null:i}async getClaims(n,a={}){try{let i=n;if(!i){const{data:b,error:E}=await this.getSession();if(E||!b.session)return{data:null,error:E};i=b.session.access_token}const{header:l,payload:u,signature:c,raw:{header:f,payload:h}}=lf(i);a?.allowExpired||Wx(u.exp);const m=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!m){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:u,header:l,signature:c},error:null}}const v=Qx(l.alg),y=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,c,Lx(`${f}.${h}`)))throw new $f("Invalid JWT signature");return{data:{claims:u,header:l,signature:c},error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}}}wl.nextInstanceID=0;const hC=wl;class gC extends hC{constructor(n){super(n)}}var mC=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};class pC{constructor(n,a,i){var l,u,c;if(this.supabaseUrl=n,this.supabaseKey=a,!n)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const f=bx(n),h=new URL(f);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,v={db:fx,realtime:gx,auth:Object.assign(Object.assign({},hx),{storageKey:m}),global:dx},y=wx(i??{},v);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(w,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=yx(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new jE(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new ox(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new bE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,a={},i={}){return this.rest.rpc(n,a,i)}channel(n,a={config:{}}){return this.realtime.channel(n,a)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,a;return mC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:l,storageKey:u,flowType:c,lock:f,debug:h},m,v){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gC({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:u,autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:l,flowType:c,lock:f,debug:h,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new XE(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,i)=>{this._handleTokenChanged(a,"CLIENT",i?.access_token)})}_handleTokenChanged(n,a,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:n==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vC=(e,n,a)=>new pC(e,n,a);function yC(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}yC()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _C="https://jyrfznujcyqskpfthrsf.supabase.co",bC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp5cmZ6bnVqY3lxc2twZnRocnNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwODM1OTMsImV4cCI6MjA3MDY1OTU5M30.JOZLGHslSQO7wDeFSq7FHAV6_VNtD9DS-gMNUu4rEnM",nt=vC(_C,bC,{auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}}),Wt=(e,n="")=>(console.error(`Supabase error${n?` in ${n}`:""}:`,e),e.code==="23505"?"This record already exists":e.code==="23503"?"Cannot perform this operation due to related records":e.code==="PGRST116"?"No records found":e.message?.includes("JWT")?"Authentication error. Please refresh the page":e.message||"An unexpected error occurred"),Dt={PRINTING:"STAMPA",PACKAGING:"CONFEZIONAMENTO"},Ue={ZANICA:"ZANICA",BUSTO_GAROLFO:"BUSTO_GAROLFO",BOTH:"BOTH"},$n={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",MAINTENANCE:"MAINTENANCE"},Yi={CREMA:"crema",LIQUIDO:"liquido",POLVERI:"polveri"},ur={T1:"T1",T2:"T2",T3:"T3"},Sl={THREE:"3",FOUR:"4"},ey={END_DATE_BEFORE_START:"End date cannot be before start date",END_TIME_BEFORE_START:"End time must be after start time when dates are the same"},ht={MACHINE:{DEPARTMENT:Dt.PRINTING,WORK_CENTER:Ue.ZANICA,MIN_WEB_WIDTH:"100",MAX_WEB_WIDTH:"1000",MIN_BAG_HEIGHT:"50",MAX_BAG_HEIGHT:"500",SETUP_TIME_STANDARD:"0.5",CHANGEOVER_COLOR:"0.25",CHANGEOVER_MATERIAL:"0.75",ACTIVE_SHIFTS:[ur.T1],STATUS:$n.ACTIVE},PHASE:{DEPARTMENT:Dt.PRINTING,NUMERO_PERSONE:1,WORK_CENTER:Ue.ZANICA,V_STAMPA:6e3,T_SETUP_STAMPA:.5,COSTO_H_STAMPA:50,V_CONF:1e3,T_SETUP_CONF:.25,COSTO_H_CONF:40},ORDER:{SEAL_SIDES:Sl.THREE,QUANTITY_COMPLETED:0},OFF_TIME:{START_TIME:"09:00",END_TIME:"17:00"}},nl={DECIMAL_PRECISION:{ONE_DECIMAL:["setup_time_standard","changeover_color","changeover_material","t_setup_stampa","t_setup_conf"],TWO_DECIMAL:["costo_h_stampa","costo_h_conf"]},FIELD_STEPS:{TIME:.1,COST:.01}},x_=x.createContext(),wC=({children:e})=>{const[n,a]=x.useState(null),[i,l]=x.useState(null),[u,c]=x.useState(!0),[f,h]=x.useState(null);x.useEffect(()=>{(async()=>{try{const{data:{session:M},error:T}=await nt.auth.getSession();T?(console.error("Error getting initial session:",T),h("Failed to initialize authentication")):(console.log("Initial session loaded:",M?"User authenticated":"No user session"),l(M),a(M?.user??null))}catch(M){console.error("Error getting initial session:",M),h("Failed to initialize authentication")}finally{c(!1)}})();const{data:{subscription:A}}=nt.auth.onAuthStateChange(async(M,T)=>{switch(console.log("Auth state changed:",M,T?.user?.email||"No user"),l(T),a(T?.user??null),c(!1),h(null),M){case"SIGNED_IN":console.log("User signed in:",T?.user?.email);break;case"SIGNED_OUT":console.log("User signed out");break;case"TOKEN_REFRESHED":console.log("Token refreshed");break;case"USER_UPDATED":console.log("User updated:",T?.user?.email);break;case"INITIAL_SESSION":console.log("Initial session event:",T?"User authenticated":"No user session");break}});return()=>A.unsubscribe()},[]);const C={user:n,session:i,loading:u,error:f,signIn:async(R,A)=>{try{h(null),c(!0);const{data:M,error:T}=await nt.auth.signInWithPassword({email:R,password:A});if(T)throw T;return console.log("Sign in successful:",M.user?.email),{success:!0,user:M.user}}catch(M){return console.error("Sign in error:",M),h(M.message),{success:!1,error:M.message}}finally{c(!1)}},signUp:async(R,A,M={})=>{try{h(null),c(!0);const{data:T,error:q}=await nt.auth.signUp({email:R,password:A,options:{data:M}});if(q)throw q;return console.log("Sign up successful:",T.user?.email),{success:!0,user:T.user}}catch(T){return console.error("Sign up error:",T),h(T.message),{success:!1,error:T.message}}finally{c(!1)}},signOut:async()=>{try{h(null),c(!0);const{error:R}=await nt.auth.signOut();if(R)throw R;return console.log("Sign out successful"),{success:!0}}catch(R){return console.error("Sign out error:",R),h(R.message),{success:!1,error:R.message}}finally{c(!1)}},resetPassword:async R=>{try{h(null),c(!0);const{error:A}=await nt.auth.resetPasswordForEmail(R,{redirectTo:`${window.location.origin}/reset-password`});if(A)throw A;return console.log("Password reset email sent"),{success:!0}}catch(A){return console.error("Password reset error:",A),h(A.message),{success:!1,error:A.message}}finally{c(!1)}},updateProfile:async R=>{try{h(null),c(!0);const{data:A,error:M}=await nt.auth.updateUser({data:R});if(M)throw M;return console.log("Profile updated successfully"),{success:!0,user:A.user}}catch(A){return console.error("Profile update error:",A),h(A.message),{success:!1,error:A.message}}finally{c(!1)}},getUserProfile:async()=>{if(!n)return null;try{const{data:R,error:A}=await nt.from("profiles").select("*").eq("id",n.id).single();return A?(console.error("Error fetching user profile:",A),null):R}catch(R){return console.error("Error fetching user profile:",R),null}},isAuthenticated:!!n};return p.jsx(x_.Provider,{value:C,children:e})},jl=()=>{const e=x.useContext(x_);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},ty=e=>{let n;const a=new Set,i=(m,v)=>{const y=typeof m=="function"?m(n):m;if(!Object.is(y,n)){const w=n;n=v??(typeof y!="object"||y===null)?y:Object.assign({},n,y),a.forEach(b=>b(n,w))}},l=()=>n,f={setState:i,getState:l,getInitialState:()=>h,subscribe:m=>(a.add(m),()=>a.delete(m))},h=n=e(i,l,f);return f},SC=(e=>e?ty(e):ty),EC=e=>e;function xC(e,n=EC){const a=Me.useSyncExternalStore(e.subscribe,Me.useCallback(()=>n(e.getState()),[e,n]),Me.useCallback(()=>n(e.getInitialState()),[e,n]));return Me.useDebugValue(a),a}const ny=e=>{const n=SC(e),a=i=>xC(n,i);return Object.assign(a,n),a},CC=(e=>e?ny(e):ny);class gn extends Error{constructor(n,a="GENERIC_ERROR",i=500,l=null,u=""){super(n),this.name="AppError",this.code=a,this.statusCode=i,this.originalError=l,this.context=u,this.timestamp=new Date().toISOString(),this.id=this.generateErrorId(),this.userMessage=this.getUserFriendlyMessage()}generateErrorId(){return`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getUserFriendlyMessage(){return TC(this)}toJSON(){return{id:this.id,message:this.message,code:this.code,statusCode:this.statusCode,context:this.context,timestamp:this.timestamp,userMessage:this.userMessage,stack:this.stack}}}const ze={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",NOT_FOUND_ERROR:"NOT_FOUND_ERROR",SERVER_ERROR:"SERVER_ERROR",CLIENT_ERROR:"CLIENT_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",TIMEOUT_ERROR:"TIMEOUT_ERROR",RATE_LIMIT_ERROR:"RATE_LIMIT_ERROR"},va={LOW:"low",MEDIUM:"medium",HIGH:"high",CRITICAL:"critical"},El=(e,n="")=>{if(console.error(`API Error in ${n}:`,e),e instanceof gn)return e;if(e?.code)switch(e.code){case"23505":return new gn("This record already exists",ze.VALIDATION_ERROR,409,e,n);case"23503":return new gn("Cannot delete this record as it is referenced by other data",ze.VALIDATION_ERROR,400,e,n);case"PGRST116":return new gn("Record not found",ze.NOT_FOUND_ERROR,404,e,n);case"PGRST301":return new gn("Session expired. Please log in again.",ze.AUTHENTICATION_ERROR,401,e,n);case"PGRST302":return new gn("Invalid session. Please log in again.",ze.AUTHENTICATION_ERROR,401,e,n);case"PGRST303":return new gn("Authentication required. Please log in.",ze.AUTHENTICATION_ERROR,401,e,n);default:return new gn(e.message||"An unexpected error occurred",ze.SERVER_ERROR,500,e,n)}return e.name==="NetworkError"||e.message?.includes("fetch")||e.message?.includes("network")?new gn("Network error. Please check your connection and try again.",ze.NETWORK_ERROR,0,e,n):e.name==="TimeoutError"||e.message?.includes("timeout")?new gn("Request timed out. Please try again.",ze.TIMEOUT_ERROR,408,e,n):e.status===429||e.message?.includes("rate limit")?new gn("Too many requests. Please wait a moment and try again.",ze.RATE_LIMIT_ERROR,429,e,n):e.name==="ValidationError"||e.message?.includes("validation")?new gn(e.message,ze.VALIDATION_ERROR,400,e,n):e.message?.includes("Cannot add")||e.message?.includes("work center")?new gn(e.message,ze.BUSINESS_LOGIC_ERROR,400,e,n):new gn(e.message||"An unexpected error occurred",ze.CLIENT_ERROR,e.status||500,e,n)},Ml=(e,n="")=>({id:e.id||`ERR_${Date.now()}`,message:e.message,code:e.code||"UNKNOWN_ERROR",context:n,timestamp:new Date().toISOString(),url:typeof window<"u"?window.location.href:"server",userAgent:typeof navigator<"u"?navigator.userAgent:"server",stack:e.stack,severity:C_(e)}),C_=e=>e.code===ze.AUTHENTICATION_ERROR||e.code===ze.AUTHORIZATION_ERROR?va.HIGH:e.code===ze.NETWORK_ERROR||e.code===ze.SERVER_ERROR?va.MEDIUM:e.code===ze.VALIDATION_ERROR||e.code===ze.BUSINESS_LOGIC_ERROR?va.LOW:va.MEDIUM,RC=e=>n=>{const a=El(n,e);return Ml(a,e),a},TC=e=>{switch(e.code){case ze.NETWORK_ERROR:return"Please check your internet connection and try again.";case ze.AUTHENTICATION_ERROR:return"Please log in to continue.";case ze.AUTHORIZATION_ERROR:return"You don't have permission to perform this action.";case ze.NOT_FOUND_ERROR:return"The requested item was not found.";case ze.VALIDATION_ERROR:return"Please check your input and try again.";case ze.BUSINESS_LOGIC_ERROR:return e.message||"This operation cannot be completed.";case ze.TIMEOUT_ERROR:return"The request took too long. Please try again.";case ze.RATE_LIMIT_ERROR:return"Too many requests. Please wait a moment and try again.";default:return"Something went wrong. Please try again or contact support if the problem persists."}},ry=async(e,n=3,a=1e3)=>{let i;for(let l=1;l<=n;l++)try{return await e()}catch(u){if(i=u,u.code===ze.VALIDATION_ERROR||u.code===ze.AUTHORIZATION_ERROR||u.code===ze.BUSINESS_LOGIC_ERROR)throw u;l<n&&(console.log(`Attempt ${l} failed, retrying in ${a}ms...`),await new Promise(c=>setTimeout(c,a)),a*=2)}throw i},Ff=(e,n="")=>async(...a)=>{try{return await e(...a)}catch(i){const l=El(i,n);throw Ml(l,n),l}},R_=6048e5,AC=864e5,T_=6e4,ch=36e5,ay=Symbol.for("constructDateFrom");function Qn(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&ay in e?e[ay](n):e instanceof Date?new e.constructor(n):new Date(n)}function ct(e,n){return Qn(n||e,e)}function OC(e,n,a){const i=ct(e,a?.in);return isNaN(n)?Qn(e,NaN):(n&&i.setDate(i.getDate()+n),i)}function DC(e,n,a){return Qn(e,+ct(e)+n)}function NC(e,n,a){return DC(e,n*ch)}let jC={};function ju(){return jC}function Wi(e,n){const a=ju(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,l=ct(e,n?.in),u=l.getDay(),c=(u<i?7:0)+u-i;return l.setDate(l.getDate()-c),l.setHours(0,0,0,0),l}function pu(e,n){return Wi(e,{...n,weekStartsOn:1})}function A_(e,n){const a=ct(e,n?.in),i=a.getFullYear(),l=Qn(a,0);l.setFullYear(i+1,0,4),l.setHours(0,0,0,0);const u=pu(l),c=Qn(a,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const f=pu(c);return a.getTime()>=u.getTime()?i+1:a.getTime()>=f.getTime()?i:i-1}function iy(e){const n=ct(e),a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return a.setUTCFullYear(n.getFullYear()),+e-+a}function O_(e,...n){const a=Qn.bind(null,n.find(i=>typeof i=="object"));return n.map(a)}function xl(e,n){const a=ct(e,n?.in);return a.setHours(0,0,0,0),a}function MC(e,n,a){const[i,l]=O_(a?.in,e,n),u=xl(i),c=xl(l),f=+u-iy(u),h=+c-iy(c);return Math.round((f-h)/AC)}function kC(e,n){const a=A_(e,n),i=Qn(e,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),pu(i)}function UC(e,n,a){const[i,l]=O_(a?.in,e,n);return+xl(i)==+xl(l)}function LC(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function PC(e){return!(!LC(e)&&typeof e!="number"||isNaN(+ct(e)))}function $C(e,n){const a=ct(e,n?.in);return a.setHours(23,59,59,999),a}function FC(e,n){const a=ct(e,n?.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function zC(e,n){const a=n?.weekStartsOn,i=ct(e,n?.in),l=i.getDay(),u=(l<a?-7:0)+6-(l-a);return i.setDate(i.getDate()+u),i.setHours(23,59,59,999),i}const HC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},IC=(e,n,a)=>{let i;const l=HC[e];return typeof l=="string"?i=l:n===1?i=l.one:i=l.other.replace("{{count}}",n.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+i:i+" ago":i};function cf(e){return(n={})=>{const a=n.width?String(n.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const VC={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},BC={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GC={date:cf({formats:VC,defaultWidth:"full"}),time:cf({formats:BC,defaultWidth:"full"}),dateTime:cf({formats:qC,defaultWidth:"full"})},YC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},KC=(e,n,a,i)=>YC[e];function rl(e){return(n,a)=>{const i=a?.context?String(a.context):"standalone";let l;if(i==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,f=a?.width?String(a.width):c;l=e.formattingValues[f]||e.formattingValues[c]}else{const c=e.defaultWidth,f=a?.width?String(a.width):e.defaultWidth;l=e.values[f]||e.values[c]}const u=e.argumentCallback?e.argumentCallback(n):n;return l[u]}}const XC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},WC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},QC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ZC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},JC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tR=(e,n)=>{const a=Number(e),i=a%100;if(i>20||i<10)switch(i%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},nR={ordinalNumber:tR,era:rl({values:XC,defaultWidth:"wide"}),quarter:rl({values:WC,defaultWidth:"wide",argumentCallback:e=>e-1}),month:rl({values:QC,defaultWidth:"wide"}),day:rl({values:ZC,defaultWidth:"wide"}),dayPeriod:rl({values:JC,defaultWidth:"wide",formattingValues:eR,defaultFormattingWidth:"wide"})};function al(e){return(n,a={})=>{const i=a.width,l=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],u=n.match(l);if(!u)return null;const c=u[0],f=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(f)?aR(f,y=>y.test(c)):rR(f,y=>y.test(c));let m;m=e.valueCallback?e.valueCallback(h):h,m=a.valueCallback?a.valueCallback(m):m;const v=n.slice(c.length);return{value:m,rest:v}}}function rR(e,n){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&n(e[a]))return a}function aR(e,n){for(let a=0;a<e.length;a++)if(n(e[a]))return a}function iR(e){return(n,a={})=>{const i=n.match(e.matchPattern);if(!i)return null;const l=i[0],u=n.match(e.parsePattern);if(!u)return null;let c=e.valueCallback?e.valueCallback(u[0]):u[0];c=a.valueCallback?a.valueCallback(c):c;const f=n.slice(l.length);return{value:c,rest:f}}}const sR=/^(\d+)(th|st|nd|rd)?/i,lR=/\d+/i,oR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uR={any:[/^b/i,/^(a|c)/i]},cR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dR={any:[/1/i,/2/i,/3/i,/4/i]},fR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yR={ordinalNumber:iR({matchPattern:sR,parsePattern:lR,valueCallback:e=>parseInt(e,10)}),era:al({matchPatterns:oR,defaultMatchWidth:"wide",parsePatterns:uR,defaultParseWidth:"any"}),quarter:al({matchPatterns:cR,defaultMatchWidth:"wide",parsePatterns:dR,defaultParseWidth:"any",valueCallback:e=>e+1}),month:al({matchPatterns:fR,defaultMatchWidth:"wide",parsePatterns:hR,defaultParseWidth:"any"}),day:al({matchPatterns:gR,defaultMatchWidth:"wide",parsePatterns:mR,defaultParseWidth:"any"}),dayPeriod:al({matchPatterns:pR,defaultMatchWidth:"any",parsePatterns:vR,defaultParseWidth:"any"})},_R={code:"en-US",formatDistance:IC,formatLong:GC,formatRelative:KC,localize:nR,match:yR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bR(e,n){const a=ct(e,n?.in);return MC(a,FC(a))+1}function wR(e,n){const a=ct(e,n?.in),i=+pu(a)-+kC(a);return Math.round(i/R_)+1}function D_(e,n){const a=ct(e,n?.in),i=a.getFullYear(),l=ju(),u=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,c=Qn(n?.in||e,0);c.setFullYear(i+1,0,u),c.setHours(0,0,0,0);const f=Wi(c,n),h=Qn(n?.in||e,0);h.setFullYear(i,0,u),h.setHours(0,0,0,0);const m=Wi(h,n);return+a>=+f?i+1:+a>=+m?i:i-1}function SR(e,n){const a=ju(),i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=D_(e,n),u=Qn(n?.in||e,0);return u.setFullYear(l,0,i),u.setHours(0,0,0,0),Wi(u,n)}function ER(e,n){const a=ct(e,n?.in),i=+Wi(a,n)-+SR(a,n);return Math.round(i/R_)+1}function We(e,n){const a=e<0?"-":"",i=Math.abs(e).toString().padStart(n,"0");return a+i}const da={y(e,n){const a=e.getFullYear(),i=a>0?a:1-a;return We(n==="yy"?i%100:i,n.length)},M(e,n){const a=e.getMonth();return n==="M"?String(a+1):We(a+1,2)},d(e,n){return We(e.getDate(),n.length)},a(e,n){const a=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(e,n){return We(e.getHours()%12||12,n.length)},H(e,n){return We(e.getHours(),n.length)},m(e,n){return We(e.getMinutes(),n.length)},s(e,n){return We(e.getSeconds(),n.length)},S(e,n){const a=n.length,i=e.getMilliseconds(),l=Math.trunc(i*Math.pow(10,a-3));return We(l,n.length)}},Vi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},sy={G:function(e,n,a){const i=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return a.era(i,{width:"abbreviated"});case"GGGGG":return a.era(i,{width:"narrow"});case"GGGG":default:return a.era(i,{width:"wide"})}},y:function(e,n,a){if(n==="yo"){const i=e.getFullYear(),l=i>0?i:1-i;return a.ordinalNumber(l,{unit:"year"})}return da.y(e,n)},Y:function(e,n,a,i){const l=D_(e,i),u=l>0?l:1-l;if(n==="YY"){const c=u%100;return We(c,2)}return n==="Yo"?a.ordinalNumber(u,{unit:"year"}):We(u,n.length)},R:function(e,n){const a=A_(e);return We(a,n.length)},u:function(e,n){const a=e.getFullYear();return We(a,n.length)},Q:function(e,n,a){const i=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return We(i,2);case"Qo":return a.ordinalNumber(i,{unit:"quarter"});case"QQQ":return a.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,a){const i=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return We(i,2);case"qo":return a.ordinalNumber(i,{unit:"quarter"});case"qqq":return a.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,a){const i=e.getMonth();switch(n){case"M":case"MM":return da.M(e,n);case"Mo":return a.ordinalNumber(i+1,{unit:"month"});case"MMM":return a.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,a){const i=e.getMonth();switch(n){case"L":return String(i+1);case"LL":return We(i+1,2);case"Lo":return a.ordinalNumber(i+1,{unit:"month"});case"LLL":return a.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,a,i){const l=ER(e,i);return n==="wo"?a.ordinalNumber(l,{unit:"week"}):We(l,n.length)},I:function(e,n,a){const i=wR(e);return n==="Io"?a.ordinalNumber(i,{unit:"week"}):We(i,n.length)},d:function(e,n,a){return n==="do"?a.ordinalNumber(e.getDate(),{unit:"date"}):da.d(e,n)},D:function(e,n,a){const i=bR(e);return n==="Do"?a.ordinalNumber(i,{unit:"dayOfYear"}):We(i,n.length)},E:function(e,n,a){const i=e.getDay();switch(n){case"E":case"EE":case"EEE":return a.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(i,{width:"short",context:"formatting"});case"EEEE":default:return a.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,a,i){const l=e.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(u);case"ee":return We(u,2);case"eo":return a.ordinalNumber(u,{unit:"day"});case"eee":return a.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(l,{width:"short",context:"formatting"});case"eeee":default:return a.day(l,{width:"wide",context:"formatting"})}},c:function(e,n,a,i){const l=e.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(u);case"cc":return We(u,n.length);case"co":return a.ordinalNumber(u,{unit:"day"});case"ccc":return a.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(l,{width:"narrow",context:"standalone"});case"cccccc":return a.day(l,{width:"short",context:"standalone"});case"cccc":default:return a.day(l,{width:"wide",context:"standalone"})}},i:function(e,n,a){const i=e.getDay(),l=i===0?7:i;switch(n){case"i":return String(l);case"ii":return We(l,n.length);case"io":return a.ordinalNumber(l,{unit:"day"});case"iii":return a.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(i,{width:"short",context:"formatting"});case"iiii":default:return a.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,a){const l=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,n,a){const i=e.getHours();let l;switch(i===12?l=Vi.noon:i===0?l=Vi.midnight:l=i/12>=1?"pm":"am",n){case"b":case"bb":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,n,a){const i=e.getHours();let l;switch(i>=17?l=Vi.evening:i>=12?l=Vi.afternoon:i>=4?l=Vi.morning:l=Vi.night,n){case"B":case"BB":case"BBB":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,n,a){if(n==="ho"){let i=e.getHours()%12;return i===0&&(i=12),a.ordinalNumber(i,{unit:"hour"})}return da.h(e,n)},H:function(e,n,a){return n==="Ho"?a.ordinalNumber(e.getHours(),{unit:"hour"}):da.H(e,n)},K:function(e,n,a){const i=e.getHours()%12;return n==="Ko"?a.ordinalNumber(i,{unit:"hour"}):We(i,n.length)},k:function(e,n,a){let i=e.getHours();return i===0&&(i=24),n==="ko"?a.ordinalNumber(i,{unit:"hour"}):We(i,n.length)},m:function(e,n,a){return n==="mo"?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):da.m(e,n)},s:function(e,n,a){return n==="so"?a.ordinalNumber(e.getSeconds(),{unit:"second"}):da.s(e,n)},S:function(e,n){return da.S(e,n)},X:function(e,n,a){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return oy(i);case"XXXX":case"XX":return Va(i);case"XXXXX":case"XXX":default:return Va(i,":")}},x:function(e,n,a){const i=e.getTimezoneOffset();switch(n){case"x":return oy(i);case"xxxx":case"xx":return Va(i);case"xxxxx":case"xxx":default:return Va(i,":")}},O:function(e,n,a){const i=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+ly(i,":");case"OOOO":default:return"GMT"+Va(i,":")}},z:function(e,n,a){const i=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+ly(i,":");case"zzzz":default:return"GMT"+Va(i,":")}},t:function(e,n,a){const i=Math.trunc(+e/1e3);return We(i,n.length)},T:function(e,n,a){return We(+e,n.length)}};function ly(e,n=""){const a=e>0?"-":"+",i=Math.abs(e),l=Math.trunc(i/60),u=i%60;return u===0?a+String(l):a+String(l)+n+We(u,2)}function oy(e,n){return e%60===0?(e>0?"-":"+")+We(Math.abs(e)/60,2):Va(e,n)}function Va(e,n=""){const a=e>0?"-":"+",i=Math.abs(e),l=We(Math.trunc(i/60),2),u=We(i%60,2);return a+l+n+u}const uy=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},N_=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},xR=(e,n)=>{const a=e.match(/(P+)(p+)?/)||[],i=a[1],l=a[2];if(!l)return uy(e,n);let u;switch(i){case"P":u=n.dateTime({width:"short"});break;case"PP":u=n.dateTime({width:"medium"});break;case"PPP":u=n.dateTime({width:"long"});break;case"PPPP":default:u=n.dateTime({width:"full"});break}return u.replace("{{date}}",uy(i,n)).replace("{{time}}",N_(l,n))},CR={p:N_,P:xR},RR=/^D+$/,TR=/^Y+$/,AR=["D","DD","YY","YYYY"];function OR(e){return RR.test(e)}function DR(e){return TR.test(e)}function NR(e,n,a){const i=jR(e,n,a);if(console.warn(i),AR.includes(e))throw new RangeError(i)}function jR(e,n,a){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${i} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const MR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UR=/^'([^]*?)'?$/,LR=/''/g,PR=/[a-zA-Z]/;function $R(e,n,a){const i=ju(),l=i.locale??_R,u=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f=ct(e,a?.in);if(!PC(f))throw new RangeError("Invalid time value");let h=n.match(kR).map(v=>{const y=v[0];if(y==="p"||y==="P"){const w=CR[y];return w(v,l.formatLong)}return v}).join("").match(MR).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:FR(v)};if(sy[y])return{isToken:!0,value:v};if(y.match(PR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});l.localize.preprocessor&&(h=l.localize.preprocessor(f,h));const m={firstWeekContainsDate:u,weekStartsOn:c,locale:l};return h.map(v=>{if(!v.isToken)return v.value;const y=v.value;(DR(y)||OR(y))&&NR(y,n,String(e));const w=sy[y[0]];return w(f,y,l.localize,m)}).join("")}function FR(e){const n=e.match(UR);return n?n[1].replace(LR,"'"):e}function zR(e,n){return+ct(e)>+ct(n)}function HR(e,n){return+ct(e)<+ct(n)}function au(e,n){const a=()=>Qn(n?.in,NaN),l=qR(e);let u;if(l.date){const m=GR(l.date,2);u=YR(m.restDateString,m.year)}if(!u||isNaN(+u))return a();const c=+u;let f=0,h;if(l.time&&(f=KR(l.time),isNaN(f)))return a();if(l.timezone){if(h=XR(l.timezone),isNaN(h))return a()}else{const m=new Date(c+f),v=ct(0,n?.in);return v.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),v.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),v}return ct(c+f+h,n?.in)}const iu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},IR=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,VR=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,BR=/^([+-])(\d{2})(?::?(\d{2}))?$/;function qR(e){const n={},a=e.split(iu.dateTimeDelimiter);let i;if(a.length>2)return n;if(/:/.test(a[0])?i=a[0]:(n.date=a[0],i=a[1],iu.timeZoneDelimiter.test(n.date)&&(n.date=e.split(iu.timeZoneDelimiter)[0],i=e.substr(n.date.length,e.length))),i){const l=iu.timezone.exec(i);l?(n.time=i.replace(l[1],""),n.timezone=l[1]):n.time=i}return n}function GR(e,n){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),i=e.match(a);if(!i)return{year:NaN,restDateString:""};const l=i[1]?parseInt(i[1]):null,u=i[2]?parseInt(i[2]):null;return{year:u===null?l:u*100,restDateString:e.slice((i[1]||i[2]).length)}}function YR(e,n){if(n===null)return new Date(NaN);const a=e.match(IR);if(!a)return new Date(NaN);const i=!!a[4],l=il(a[1]),u=il(a[2])-1,c=il(a[3]),f=il(a[4]),h=il(a[5])-1;if(i)return eT(n,f,h)?WR(n,f,h):new Date(NaN);{const m=new Date(0);return!ZR(n,u,c)||!JR(n,l)?new Date(NaN):(m.setUTCFullYear(n,u,Math.max(l,c)),m)}}function il(e){return e?parseInt(e):1}function KR(e){const n=e.match(VR);if(!n)return NaN;const a=df(n[1]),i=df(n[2]),l=df(n[3]);return tT(a,i,l)?a*ch+i*T_+l*1e3:NaN}function df(e){return e&&parseFloat(e.replace(",","."))||0}function XR(e){if(e==="Z")return 0;const n=e.match(BR);if(!n)return 0;const a=n[1]==="+"?-1:1,i=parseInt(n[2]),l=n[3]&&parseInt(n[3])||0;return nT(i,l)?a*(i*ch+l*T_):NaN}function WR(e,n,a){const i=new Date(0);i.setUTCFullYear(e,0,4);const l=i.getUTCDay()||7,u=(n-1)*7+a+1-l;return i.setUTCDate(i.getUTCDate()+u),i}const QR=[31,null,31,30,31,30,31,31,30,31,30,31];function j_(e){return e%400===0||e%4===0&&e%100!==0}function ZR(e,n,a){return n>=0&&n<=11&&a>=1&&a<=(QR[n]||(j_(e)?29:28))}function JR(e,n){return n>=1&&n<=(j_(e)?366:365)}function eT(e,n,a){return n>=1&&n<=53&&a>=0&&a<=6}function tT(e,n,a){return e===24?n===0&&a===0:a>=0&&a<60&&n>=0&&n<60&&e>=0&&e<25}function nT(e,n){return n>=0&&n<=59}function cy(e,n,a){const i=ct(e,a?.in);return i.setHours(n),i}function dy(e,n,a){const i=ct(e,a?.in);return i.setMilliseconds(n),i}function fy(e,n,a){const i=ct(e,a?.in);return i.setMinutes(n),i}function hy(e,n,a){const i=ct(e,a?.in);return i.setSeconds(n),i}function At(e){return $R(e,"yyyy-MM-dd")}function rT(e,n,a){if(!e.scheduled_start_time||!e.scheduled_end_time)return!1;const i=au(e.scheduled_start_time),l=au(e.scheduled_end_time),u=dy(hy(fy(cy(au(n),a),0),0),0),c=dy(hy(fy(cy(au(n),a+1),0),0),0);return HR(i,c)&&zR(l,u)}function zf(e){return Wi(e,{weekStartsOn:0})}function M_(e){return zC(e,{weekStartsOn:0})}function YD(e){return xl(e)}function KD(e){return $C(e)}function XD(e,n){return UC(e,n)}function gy(e,n){return NC(e,n)}function Cl(e,n){return OC(e,n)}class aT{async init(){try{const{error:n}=await nt.from("machines").select("count").limit(1);if(n)throw new Error(`API initialization failed: ${n.message}`);return console.log("✅ API service initialized successfully"),!0}catch(n){throw console.error("❌ API service initialization failed:",n),n}}async getMachines(){return Ff(async()=>{const{data:n,error:a}=await nt.from("machines").select("*").order("machine_name");if(a)throw a;return n||[]},"getMachines")()}async addMachine(n){try{const{data:a,error:i}=await nt.from("machines").insert([n]).select().single();if(i)throw i;return a}catch(a){throw new Error(`Failed to add machine: ${Wt(a)}`)}}async updateMachine(n,a){try{const{data:i,error:l}=await nt.from("machines").update(a).eq("id",n).select().single();if(l)throw l;return i}catch(i){throw new Error(`Failed to update machine: ${Wt(i)}`)}}async removeMachine(n){try{const{error:a}=await nt.from("machines").delete().eq("id",n);if(a)throw a;return!0}catch(a){throw new Error(`Failed to remove machine: ${Wt(a)}`)}}async getOdpOrders(){try{const{data:n,error:a}=await nt.from("odp_orders").select("*").order("created_at",{ascending:!1});if(a)throw a;return n||[]}catch(n){throw new Error(`Failed to fetch ODP orders: ${Wt(n)}`)}}async addOdpOrder(n){try{const{data:a,error:i}=await nt.from("odp_orders").insert([n]).select().single();if(i)throw i;return a}catch(a){throw new Error(`Failed to add ODP order: ${Wt(a)}`)}}async updateOdpOrder(n,a){try{const{data:i,error:l}=await nt.from("odp_orders").update(a).eq("id",n).select().single();if(l)throw l;return i}catch(i){throw new Error(`Failed to update ODP order: ${Wt(i)}`)}}async removeOdpOrder(n){try{const{error:a}=await nt.from("odp_orders").delete().eq("id",n);if(a)throw a;return!0}catch(a){throw new Error(`Failed to remove ODP order: ${Wt(a)}`)}}async getPhases(){try{const{data:n,error:a}=await nt.from("phases").select("*").order("name");if(a)throw a;return n||[]}catch(n){throw new Error(`Failed to fetch phases: ${Wt(n)}`)}}async addPhase(n){try{const{data:a,error:i}=await nt.from("phases").insert([n]).select().single();if(i)throw i;return a}catch(a){throw new Error(`Failed to add phase: ${Wt(a)}`)}}async updatePhase(n,a){try{const{data:i,error:l}=await nt.from("phases").update(a).eq("id",n).select().single();if(l)throw l;return i}catch(i){throw new Error(`Failed to update phase: ${Wt(i)}`)}}async removePhase(n){try{const{error:a}=await nt.from("phases").delete().eq("id",n);if(a)throw a;return!0}catch(a){throw new Error(`Failed to remove phase: ${Wt(a)}`)}}async getMachineAvailabilityForDateRange(n,a,i){try{const{data:l,error:u}=await nt.from("machine_availability").select("*").eq("machine_id",n).gte("date",a).lte("date",i).order("date");if(u)throw u;return l||[]}catch(l){throw new Error(`Failed to fetch machine availability for date range: ${Wt(l)}`)}}async getMachineAvailabilityForDate(n,a){try{const{data:i,error:l}=await nt.from("machine_availability").select("*").eq("machine_id",n).eq("date",a).maybeSingle();if(l)throw l;return i||null}catch(i){throw new Error(`Failed to fetch machine availability: ${Wt(i)}`)}}async setMachineAvailability(n,a,i){try{const{data:l,error:u}=await nt.from("machine_availability").upsert([{machine_id:n,date:a,unavailable_hours:i}],{onConflict:"machine_id,date"}).select().single();if(u)throw u;return l}catch(l){throw new Error(`Failed to set machine availability: ${Wt(l)}`)}}async getMachineAvailabilityForDateAllMachines(n){try{const{data:a,error:i}=await nt.from("machine_availability").select("*").eq("date",n);if(i)throw i;return a||[]}catch(a){throw new Error(`Failed to fetch machine availability for all machines: ${Wt(a)}`)}}async getEventsByDate(n){try{const{data:a,error:i}=await nt.from("machine_availability").select("*").eq("date",n);if(i)throw i;return a||[]}catch(a){throw new Error(`Failed to fetch events by date: ${Wt(a)}`)}}async setUnavailableHoursForRange(n,a,i,l,u){try{const c=parseInt(l.split(":")[0]),f=parseInt(u.split(":")[0]),h=[];for(let b=c;b<f;b++)h.push(b.toString());const m=new Date(a),v=new Date(i);let y=new Date(m);const w=[];for(;y<=v;){const b=At(y),C=(await this.getMachineAvailabilityForDate(n,b))?.unavailable_hours||[],R=[...new Set([...C,...h])].sort((M,T)=>parseInt(M)-parseInt(T)),A=await this.setMachineAvailability(n,b,R);w.push(A),y=Cl(y,1)}return w}catch(c){throw new Error(`Failed to set unavailable hours for range: ${Wt(c)}`)}}}const ut=new aT,iT=(e,n)=>(console.log("🔄 Setting up realtime subscriptions..."),nt.channel("table-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"odp_orders"},i=>{console.log("🔄 ODP Orders change received:",i),sT(i,e)}).on("postgres_changes",{event:"*",schema:"public",table:"machines"},i=>{console.log("🔄 Machines change received:",i),lT(i,e)}).on("postgres_changes",{event:"*",schema:"public",table:"phases"},i=>{console.log("🔄 Phases change received:",i),oT(i,e)}).subscribe(i=>{console.log("🔄 Realtime subscription status:",i)})),sT=(e,n,a)=>{const{eventType:i,newRecord:l,oldRecord:u}=e;switch(i){case"INSERT":n(c=>({odpOrders:[...c.odpOrders,l]}));break;case"UPDATE":n(c=>({odpOrders:c.odpOrders.map(f=>f.id===l.id?l:f)}));break;case"DELETE":n(c=>({odpOrders:c.odpOrders.filter(f=>f.id!==u.id)}));break}},lT=(e,n,a)=>{const{eventType:i,newRecord:l,oldRecord:u}=e;switch(console.log(`🔄 Machines change: ${i}`,{newRecord:l,oldRecord:u}),i){case"INSERT":n(c=>c.machines.some(h=>h.id===l.id)?(console.log(`🔄 Machine ${l.id} already exists, skipping INSERT`),c):(console.log(`🔄 Adding new machine ${l.id}`),{machines:[...c.machines,l]}));break;case"UPDATE":n(c=>c.machines.some(h=>h.id===l.id)?(console.log(`🔄 Updating machine ${l.id}`),{machines:c.machines.map(h=>h.id===l.id?l:h)}):(console.log(`🔄 Machine ${l.id} not found for UPDATE, skipping`),c));break;case"DELETE":n(c=>c.machines.some(h=>h.id===u.id)?(console.log(`🔄 Deleting machine ${u.id}`),{machines:c.machines.filter(h=>h.id!==u.id)}):(console.log(`🔄 Machine ${u.id} not found for DELETE, skipping`),c));break}},oT=(e,n,a)=>{const{eventType:i,newRecord:l,oldRecord:u}=e;switch(i){case"INSERT":n(c=>({phases:[...c.phases,l]}));break;case"UPDATE":n(c=>({phases:c.phases.map(f=>f.id===l.id?l:f)}));break;case"DELETE":n(c=>({phases:c.phases.filter(f=>f.id!==u.id)}));break}},ff=(e,n,a,i)=>{const l=RC(e);return{[`add${e}`]:async u=>{try{const{selectedWorkCenter:c}=i();if(c&&c!==Ue.BOTH&&u.work_center&&u.work_center!==c)throw new Error(`Cannot add ${e.toLowerCase()} with different work center. Selected: ${c}, Item: ${u.work_center}`);const f=await n.add(u);return a(h=>({[fa(e)]:[...h[fa(e)],f]})),i().showAlert(`${e} "${hf(u,e)}" added successfully`,"success"),f}catch(c){const f=l(c);throw i().showAlert(f.message,"error"),f}},[`update${e}`]:async(u,c)=>{try{const f=i()[fa(e)].find(m=>m.id===u),h=await n.update(u,c);return a(m=>({[fa(e)]:m[fa(e)].map(v=>v.id===u?{...v,...h}:v)})),i().showAlert(`${e} "${hf(f,e)}" updated successfully`,"success"),h}catch(f){const h=l(f);throw i().showAlert(h.message,"error"),h}},[`remove${e}`]:async u=>{try{const c=i()[fa(e)].find(f=>f.id===u);return await n.remove(u),a(f=>({[fa(e)]:f[fa(e)].filter(h=>h.id!==u)})),i().showAlert(`${e} "${hf(c,e)}" deleted successfully`,"success"),!0}catch(c){const f=l(c);throw i().showAlert(f.message,"error"),f}}}},fa=e=>({Machine:"machines",OdpOrder:"odpOrders",Phase:"phases"})[e]||`${e.toLowerCase()}s`,hf=(e,n)=>({Machine:e?.machine_name||"Unknown",OdpOrder:e?.odp_number||"Unknown",Phase:e?.name||"Unknown"})[n]||"Unknown",we=CC((e,n)=>({machines:[],odpOrders:[],phases:[],machineAvailability:{},isLoading:!1,isInitialized:!1,selectedWorkCenter:null,alert:{message:"",type:"info",isVisible:!1},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},getState:()=>({machines:n().machines,odpOrders:n().odpOrders,phases:n().phases,machineAvailability:n().machineAvailability,isLoading:n().isLoading,isInitialized:n().isInitialized}),init:async()=>{const{isInitialized:a}=n();try{if(await ut.init(),a){console.log("🔄 Store already initialized, skipping...");return}console.log("🔄 Initializing store..."),e({isLoading:!0});const[i,l,u]=await Promise.all([ut.getMachines(),ut.getOdpOrders(),ut.getPhases()]);console.log(`🔄 Loaded ${i?.length||0} machines, ${l?.length||0} orders, ${u?.length||0} phases`);const c=[],f=new Set;if(i&&i.length>0&&i.forEach(h=>{f.has(h.id)?console.warn(`🔄 Duplicate machine found during init: ${h.id}`):(f.add(h.id),c.push(h))}),console.log(`🔄 After deduplication: ${c.length} unique machines`),e({machines:c,odpOrders:l||[],phases:u||[],isLoading:!1,isInitialized:!0}),n().initializeEmptyMachineAvailability(),window.realtimeChannel)console.log("🔄 Real-time subscriptions already exist, skipping setup");else{const h=iT(e,n);h&&(window.realtimeChannel=h,console.log("🔄 Real-time subscriptions initialized"))}}catch(i){const l=El(i,"Store Initialization");throw Ml(l,"Store Initialization"),e({isLoading:!1,isInitialized:!1}),n().showAlert(l.userMessage,"error"),l}},refreshData:async()=>{console.log("🔄 Manually refreshing data..."),e({isLoading:!0});try{const[a,i,l]=await Promise.all([ut.getMachines(),ut.getOdpOrders(),ut.getPhases()]);e({machines:a||[],odpOrders:i||[],phases:l||[],isLoading:!1}),console.log("🔄 Data refresh completed")}catch(a){console.error("🔄 Data refresh failed:",a),e({isLoading:!1})}},debugData:()=>{const a=n();console.log("🔍 Current store state:"),console.log(`Machines: ${a.machines.length}`,a.machines),console.log(`ODP Orders: ${a.odpOrders.length}`,a.odpOrders),console.log(`Phases: ${a.phases.length}`,a.phases);const i=a.machines.map(m=>m.id),l=i.filter((m,v)=>i.indexOf(m)!==v);l.length>0&&console.warn("⚠️ Duplicate machine IDs found:",l);const u=a.odpOrders.map(m=>m.id),c=u.filter((m,v)=>u.indexOf(m)!==v);c.length>0&&console.warn("⚠️ Duplicate order IDs found:",c);const f=a.phases.map(m=>m.id),h=f.filter((m,v)=>f.indexOf(m)!==v);h.length>0&&console.warn("⚠️ Duplicate phase IDs found:",h)},cleanupDuplicates:()=>{const a=n();console.log("🧹 Cleaning up duplicate data...");const i=[],l=new Set;a.machines.forEach(m=>{l.has(m.id)?console.log(`🧹 Removing duplicate machine: ${m.id}`):(l.add(m.id),i.push(m))});const u=[],c=new Set;a.odpOrders.forEach(m=>{c.has(m.id)?console.log(`🧹 Removing duplicate order: ${m.id}`):(c.add(m.id),u.push(m))});const f=[],h=new Set;a.phases.forEach(m=>{h.has(m.id)?console.log(`🧹 Removing duplicate phase: ${m.id}`):(h.add(m.id),f.push(m))}),e({machines:i,odpOrders:u,phases:f}),console.log(`🧹 Cleanup completed. Machines: ${i.length}, Orders: ${u.length}, Phases: ${f.length}`)},setSelectedWorkCenter:a=>{e({selectedWorkCenter:a})},reset:()=>{window.realtimeChannel&&(console.log("🔄 Cleaning up real-time subscriptions..."),window.realtimeChannel.unsubscribe(),window.realtimeChannel=null),e({machines:[],odpOrders:[],phases:[],machineAvailability:{},isLoading:!1,isInitialized:!1,alert:{message:"",type:"info",isVisible:!1}})},showAlert:(a,i="info")=>e({alert:{message:a,type:i,isVisible:!0}}),hideAlert:()=>e({alert:{message:"",type:"info",isVisible:!1}}),showConfirmDialog:(a,i,l,u="danger")=>e({confirmDialog:{isOpen:!0,title:a,message:i,onConfirm:l,type:u}}),hideConfirmDialog:()=>e({confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}}),...ff("Machine",{add:ut.addMachine,update:ut.updateMachine,remove:ut.removeMachine},e,n),...ff("OdpOrder",{add:ut.addOdpOrder,update:ut.updateOdpOrder,remove:ut.removeOdpOrder},e,n),...ff("Phase",{add:ut.addPhase,update:ut.updatePhase,remove:ut.removePhase},e,n),scheduleTask:async(a,i)=>{const l=n(),u=l.odpOrders.find(b=>b.id===a),c=l.machines.find(b=>b.id===i.machine);if(u&&c&&u.work_center&&c.work_center&&u.work_center!==c.work_center)return{error:`Work center mismatch: task requires '${u.work_center}' but machine is '${c.work_center}'`};const f=l.odpOrders.filter(b=>b.scheduled_machine_id===i.machine&&b.status==="SCHEDULED"&&b.id!==a),h=new Date(i.start_time),m=new Date(i.end_time);for(const b of f){const E=new Date(b.scheduled_start_time),C=b.time_remaining||b.duration||1,R=new Date(E.getTime()+C*60*60*1e3);if(h<R&&m>E)return{error:`Task overlaps with existing scheduled task: ${b.odp_number}`}}const v=At(h);console.log("🔍 Checking machine availability for:",{machineId:i.machine,date:v,allKeys:Object.keys(l.machineAvailability)});const y=l.machineAvailability[v];if(y&&Array.isArray(y)){const b=y.find(E=>E.machine_id===i.machine);if(b&&b.unavailable_hours&&Array.isArray(b.unavailable_hours)){console.log("🔍 Found machine availability:",b);const E=new Date(h.getFullYear(),h.getMonth(),h.getDate());for(const C of b.unavailable_hours){const R=new Date(E.getTime()+parseInt(C)*60*60*1e3),A=new Date(R.getTime()+3600*1e3);if(console.log("🔍 Checking hour:",{hour:C,hourStart:R,hourEnd:A,newStart:h,newEnd:m}),h<A&&m>R)return console.log("❌ OVERLAP DETECTED!"),{error:`Task overlaps with unavailable slot at hour ${C}:00`}}}}const w={scheduled_machine_id:i.machine,scheduled_start_time:i.start_time,scheduled_end_time:i.end_time,production_start:i.start_time,production_end:i.end_time,color:i.color,status:"SCHEDULED"};return await n().updateOdpOrder(a,w),{success:!0}},unscheduleTask:async a=>{const i={scheduled_machine_id:null,scheduled_start_time:null,scheduled_end_time:null,production_start:null,production_end:null,color:null,status:"NOT SCHEDULED"};await n().updateOdpOrder(a,i)},loadMachineAvailabilityForDateRange:async(a,i,l)=>{const u=i instanceof Date?At(i):i,c=l instanceof Date?At(l):l,f=`${a}_${u}_${c}`,{machineAvailability:h}=n();if(h[f])return h[f];e(m=>({machineAvailability:{...m.machineAvailability,[f]:{_loading:!0}}}));try{const m=await ut.getMachineAvailabilityForDateRange(a,u,c);return e(v=>({machineAvailability:{...v.machineAvailability,[f]:m||[]}})),m}catch(m){throw console.error("Error loadMachineAvailabilityForDateRange:",m),m}},getMachineAvailabilityForDate:async(a,i)=>{try{return await ut.getMachineAvailabilityForDate(a,i)}catch(l){return console.error("Error getMachineAvailabilityForDate:",l),[]}},setMachineAvailability:async(a,i,l)=>{try{const c=n().odpOrders.filter(v=>v.scheduled_machine_id===a&&v.status==="SCHEDULED"&&v.scheduled_start_time&&v.scheduled_end_time),f=new Date(i),h=new Date(f.getFullYear(),f.getMonth(),f.getDate()),m=new Date(h.getTime()+1440*60*1e3);for(const v of c){const y=new Date(v.scheduled_start_time),w=new Date(v.scheduled_end_time);if(y<m&&w>h)for(const b of l){const E=new Date(h.getTime()+parseInt(b)*60*60*1e3),C=new Date(E.getTime()+3600*1e3);if(E<w&&C>y)throw new Error(`Cannot set machine unavailable during scheduled task: ${v.odp_number}`)}}return await ut.setMachineAvailability(a,i,l),e(v=>{const y={...v.machineAvailability};y[i]||(y[i]=[]);const w=y[i].find(b=>b.machine_id===a);return w?w.unavailable_hours=l:y[i].push({machine_id:a,date:i,unavailable_hours:l}),{machineAvailability:y}}),!0}catch(u){throw console.error("Error setMachineAvailability:",u),u}},toggleMachineHourAvailability:async(a,i,l)=>{try{console.log(`Store: Toggling hour ${l} for ${i} on machine ${a}`);const u=await n().getMachineAvailability(a,i);console.log("Store: Current unavailable hours:",u);const c=l.toString();console.log(`Store: Converting hour ${l} to string: ${c}`);let f;return u.includes(c)?(f=u.filter(h=>h!==c),console.log(`Store: Removing hour ${c}, new array:`,f)):(f=[...u,c].sort((h,m)=>parseInt(h)-parseInt(m)),console.log(`Store: Adding hour ${c}, new array:`,f)),await n().setMachineAvailability(a,i,f),console.log("Store: Successfully updated availability"),!0}catch(u){throw console.error("Error toggleMachineHourAvailability:",u),u}},loadMachineAvailabilityForDate:async a=>{const{machineAvailability:i}=n();if(!i[a]?._loading&&!(i[a]&&i[a].length>=0)){e(l=>({machineAvailability:{...l.machineAvailability,[a]:{_loading:!0}}}));try{const l=await ut.getMachineAvailabilityForDateAllMachines(a);e(u=>({machineAvailability:{...u.machineAvailability,[a]:l||[]}}))}catch(l){throw e(u=>{const c={...u.machineAvailability};return c[a]&&delete c[a]._loading,{machineAvailability:c}}),l}}},loadMachineAvailabilityForMachine:async(a,i,l)=>{const u={};try{try{await ut.getMachineAvailabilityForDate("test","2025-01-01")}catch(f){return console.warn("Machine availability table not accessible:",f.message),{}}let c=new Date(i);for(;c<=l;){const f=At(c);n().machineAvailability[f]||await n().loadMachineAvailabilityForDate(f);const m=n().machineAvailability[f];if(Array.isArray(m)){const v=m.find(y=>y.machine_id===a);v&&(u[f]=v.unavailable_hours||[])}c=Cl(c,1)}return u}catch(c){return console.error("Error load_machine_availability_for_machine:",c),{}}},getMachineAvailability:async(a,i)=>{try{console.log(`Store: Getting availability for machine ${a} on ${i}`);const l=n().machineAvailability[i];if(console.log(`Store: Cached dateData for ${i}:`,l),l&&Array.isArray(l)){const c=l.find(f=>f.machine_id===a);if(console.log("Store: Found cached row:",c),c)return console.log("Store: Returning cached unavailable_hours:",c.unavailable_hours),console.log("Store: Cached unavailable_hours type:",typeof c.unavailable_hours),console.log("Store: Cached unavailable_hours isArray:",Array.isArray(c.unavailable_hours)),console.log("Store: Cached unavailable_hours length:",c.unavailable_hours?.length),c.unavailable_hours||[]}console.log("Store: No cached data, fetching from API...");const u=await ut.getMachineAvailabilityForDate(a,i);if(console.log("Store: API returned data:",u),u){const c=(u.unavailable_hours||[]).map(f=>f.toString());return e(f=>{const h={...f.machineAvailability};h[i]||(h[i]=[]);const m=h[i].find(v=>v.machine_id===a);return console.log("Store: Before cache update - data.unavailable_hours:",u.unavailable_hours),console.log("Store: Before cache update - type:",typeof u.unavailable_hours),console.log("Store: Before cache update - isArray:",Array.isArray(u.unavailable_hours)),m?(m.unavailable_hours=c,console.log("Store: Updated existing row - unavailable_hours:",m.unavailable_hours)):(h[i].push({machine_id:a,date:i,unavailable_hours:c}),console.log("Store: Added new row - unavailable_hours:",h[i][h[i].length-1].unavailable_hours)),console.log(`Store: Updated cache for ${i}:`,h[i]),console.log("Store: Cache row unavailable_hours type:",typeof h[i].find(v=>v.machine_id===a)?.unavailable_hours),console.log("Store: Cache row unavailable_hours isArray:",Array.isArray(h[i].find(v=>v.machine_id===a)?.unavailable_hours)),{machineAvailability:h}}),c}return[]}catch(l){return console.error("Error getting machine availability:",l),[]}},isTimeSlotUnavailable:async(a,i,l)=>(await n().getMachineAvailability(a,i)).includes(l.toString()),initializeEmptyMachineAvailability:()=>{const{machines:a,machineAvailability:i}=n(),l={...i};a.forEach(u=>{l[u.id]||(l[u.id]={})}),e({machineAvailability:l})},getEventsByDate:async a=>{try{return await ut.getEventsByDate(a)}catch(i){return console.error("Error getting events by date:",i),[]}},setMachineUnavailability:async(a,i,l,u,c)=>{try{const f=await ut.setUnavailableHoursForRange(a,i,l,u,c),h=new Date(i),m=new Date(l);return await n().loadMachineAvailabilityForDateRange(a,h,m),f}catch(f){throw console.error("Error setting machine unavailability:",f),f}},isMachineAvailabilityAccessible:async()=>{try{return await ut.getMachineAvailabilityForDateAllMachines("2025-01-01"),!0}catch(a){return console.warn("Machine availability table not accessible:",a.message),!1}},getMachineAvailabilityStatus:async()=>{try{const a=await n().isMachineAvailabilityAccessible();return{accessible:a,message:a?"Table is accessible":"Table is not accessible - check permissions or table existence"}}catch(a){return{accessible:!1,message:`Error checking table: ${a.message}`}}}})),uT="/flexi/assets/logo.svg";function cT(){const n=Fr().pathname,{user:a,signOut:i,isAuthenticated:l}=jl(),u=we(v=>v.selectedWorkCenter),[c,f]=x.useState("disconnected");x.useEffect(()=>{const v=()=>{window.realtimeChannel?f("connected"):f("disconnected")};v();const y=setInterval(v,5e3);return()=>clearInterval(y)},[]);const h=[{href:"/",label:"Home",icon:"🏠"},{href:"/machinery",label:"Machinery",icon:"⚙️"},{href:"/phases",label:"Phases",icon:"🔄"},{href:"/backlog",label:"Backlog",icon:"📝"},{href:"/scheduler",label:"Scheduler",icon:"📅"}],m=async()=>{try{await i(),console.log("User signed out successfully")}catch(v){console.error("Sign out error:",v)}};return p.jsxs("div",{className:"sidebar",children:[p.jsx("div",{className:"sidebar-logo",children:p.jsx(Fn,{to:"/",children:p.jsx("img",{src:uT,alt:"Flexi"})})}),l&&a&&p.jsxs("div",{className:"sidebar-user",children:[p.jsx("div",{className:"user-avatar",children:a.user_metadata?.full_name?a.user_metadata.full_name.charAt(0).toUpperCase():a.email?.charAt(0).toUpperCase()}),p.jsxs("div",{className:"user-info",children:[p.jsx("div",{className:"user-name",children:a.user_metadata?.full_name||"User"}),p.jsx("div",{className:"user-email",children:a.email}),u&&p.jsx("div",{className:"user-work-center",children:p.jsxs("span",{className:"work-center-badge",children:["🏭 ",u]})}),p.jsx("div",{className:"realtime-status",children:p.jsxs("span",{className:`status-indicator ${c}`,children:[c==="connected"?"🟢":"🔴",c==="connected"?"Live":"Offline"]})})]})]}),p.jsxs("div",{className:"sidebar-section",children:[p.jsx("div",{className:"sidebar-section-title",children:"Navigation"}),p.jsx("nav",{className:"sidebar-nav",children:p.jsx("ul",{children:h.map(v=>p.jsx("li",{children:p.jsxs(Fn,{to:v.href,className:n===v.href?"active":"",children:[p.jsx("span",{className:"nav-icon",children:v.icon}),p.jsx("span",{children:v.label})]})},v.href))})})]}),l?p.jsxs("div",{className:"sidebar-section",children:[p.jsx("div",{className:"sidebar-section-title",children:"Account"}),p.jsx("div",{className:"sidebar-actions",children:p.jsxs("button",{onClick:m,className:"sidebar-action-btn signout-btn",title:"Sign Out",children:[p.jsx("span",{className:"nav-icon",children:"🚪"}),p.jsx("span",{children:"Sign Out"})]})})]}):p.jsxs("div",{className:"sidebar-section",children:[p.jsx("div",{className:"sidebar-section-title",children:"Account"}),p.jsxs("div",{className:"sidebar-actions",children:[p.jsxs(Fn,{to:"/login",className:"sidebar-action-btn login-btn",children:[p.jsx("span",{className:"nav-icon",children:"🔑"}),p.jsx("span",{children:"Sign In"})]}),p.jsxs(Fn,{to:"/signup",className:"sidebar-action-btn signup-btn",children:[p.jsx("span",{className:"nav-icon",children:"➕"}),p.jsx("span",{children:"Sign Up"})]})]})]})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function ya(e,n){return typeof e=="function"?e(n):e}function Rn(e,n){return a=>{n.setState(i=>({...i,[e]:ya(a,i[e])}))}}function Mu(e){return e instanceof Function}function dT(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function fT(e,n){const a=[],i=l=>{l.forEach(u=>{a.push(u);const c=n(u);c!=null&&c.length&&i(c)})};return i(e),a}function Te(e,n,a){let i=[],l;return u=>{let c;a.key&&a.debug&&(c=Date.now());const f=e(u);if(!(f.length!==i.length||f.some((v,y)=>i[y]!==v)))return l;i=f;let m;if(a.key&&a.debug&&(m=Date.now()),l=n(...f),a==null||a.onChange==null||a.onChange(l),a.key&&a.debug&&a!=null&&a.debug()){const v=Math.round((Date.now()-c)*100)/100,y=Math.round((Date.now()-m)*100)/100,w=y/16,b=(E,C)=>{for(E=String(E);E.length<C;)E=" "+E;return E};console.info(`%c⏱ ${b(y,5)} /${b(v,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*w,120))}deg 100% 31%);`,a?.key)}return l}}function Ae(e,n,a,i){return{debug:()=>{var l;return(l=e?.debugAll)!=null?l:e[n]},key:!1,onChange:i}}function hT(e,n,a,i){const l=()=>{var c;return(c=u.getValue())!=null?c:e.options.renderFallbackValue},u={id:`${n.id}_${a.id}`,row:n,column:a,getValue:()=>n.getValue(i),renderValue:l,getContext:Te(()=>[e,a,n,u],(c,f,h,m)=>({table:c,column:f,row:h,cell:m,getValue:m.getValue,renderValue:m.renderValue}),Ae(e.options,"debugCells"))};return e._features.forEach(c=>{c.createCell==null||c.createCell(u,a,n,e)},{}),u}function gT(e,n,a,i){var l,u;const f={...e._getDefaultColumnDef(),...n},h=f.accessorKey;let m=(l=(u=f.id)!=null?u:h?typeof String.prototype.replaceAll=="function"?h.replaceAll(".","_"):h.replace(/\./g,"_"):void 0)!=null?l:typeof f.header=="string"?f.header:void 0,v;if(f.accessorFn?v=f.accessorFn:h&&(h.includes(".")?v=w=>{let b=w;for(const C of h.split(".")){var E;b=(E=b)==null?void 0:E[C]}return b}:v=w=>w[f.accessorKey]),!m)throw new Error;let y={id:`${String(m)}`,accessorFn:v,parent:i,depth:a,columnDef:f,columns:[],getFlatColumns:Te(()=>[!0],()=>{var w;return[y,...(w=y.columns)==null?void 0:w.flatMap(b=>b.getFlatColumns())]},Ae(e.options,"debugColumns")),getLeafColumns:Te(()=>[e._getOrderColumnsFn()],w=>{var b;if((b=y.columns)!=null&&b.length){let E=y.columns.flatMap(C=>C.getLeafColumns());return w(E)}return[y]},Ae(e.options,"debugColumns"))};for(const w of e._features)w.createColumn==null||w.createColumn(y,e);return y}const nn="debugHeaders";function my(e,n,a){var i;let u={id:(i=a.id)!=null?i:n.id,column:n,index:a.index,isPlaceholder:!!a.isPlaceholder,placeholderId:a.placeholderId,depth:a.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const c=[],f=h=>{h.subHeaders&&h.subHeaders.length&&h.subHeaders.map(f),c.push(h)};return f(u),c},getContext:()=>({table:e,header:u,column:n})};return e._features.forEach(c=>{c.createHeader==null||c.createHeader(u,e)}),u}const mT={createTable:e=>{e.getHeaderGroups=Te(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,a,i,l)=>{var u,c;const f=(u=i?.map(y=>a.find(w=>w.id===y)).filter(Boolean))!=null?u:[],h=(c=l?.map(y=>a.find(w=>w.id===y)).filter(Boolean))!=null?c:[],m=a.filter(y=>!(i!=null&&i.includes(y.id))&&!(l!=null&&l.includes(y.id)));return su(n,[...f,...m,...h],e)},Ae(e.options,nn)),e.getCenterHeaderGroups=Te(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,a,i,l)=>(a=a.filter(u=>!(i!=null&&i.includes(u.id))&&!(l!=null&&l.includes(u.id))),su(n,a,e,"center")),Ae(e.options,nn)),e.getLeftHeaderGroups=Te(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,a,i)=>{var l;const u=(l=i?.map(c=>a.find(f=>f.id===c)).filter(Boolean))!=null?l:[];return su(n,u,e,"left")},Ae(e.options,nn)),e.getRightHeaderGroups=Te(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,a,i)=>{var l;const u=(l=i?.map(c=>a.find(f=>f.id===c)).filter(Boolean))!=null?l:[];return su(n,u,e,"right")},Ae(e.options,nn)),e.getFooterGroups=Te(()=>[e.getHeaderGroups()],n=>[...n].reverse(),Ae(e.options,nn)),e.getLeftFooterGroups=Te(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),Ae(e.options,nn)),e.getCenterFooterGroups=Te(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),Ae(e.options,nn)),e.getRightFooterGroups=Te(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),Ae(e.options,nn)),e.getFlatHeaders=Te(()=>[e.getHeaderGroups()],n=>n.map(a=>a.headers).flat(),Ae(e.options,nn)),e.getLeftFlatHeaders=Te(()=>[e.getLeftHeaderGroups()],n=>n.map(a=>a.headers).flat(),Ae(e.options,nn)),e.getCenterFlatHeaders=Te(()=>[e.getCenterHeaderGroups()],n=>n.map(a=>a.headers).flat(),Ae(e.options,nn)),e.getRightFlatHeaders=Te(()=>[e.getRightHeaderGroups()],n=>n.map(a=>a.headers).flat(),Ae(e.options,nn)),e.getCenterLeafHeaders=Te(()=>[e.getCenterFlatHeaders()],n=>n.filter(a=>{var i;return!((i=a.subHeaders)!=null&&i.length)}),Ae(e.options,nn)),e.getLeftLeafHeaders=Te(()=>[e.getLeftFlatHeaders()],n=>n.filter(a=>{var i;return!((i=a.subHeaders)!=null&&i.length)}),Ae(e.options,nn)),e.getRightLeafHeaders=Te(()=>[e.getRightFlatHeaders()],n=>n.filter(a=>{var i;return!((i=a.subHeaders)!=null&&i.length)}),Ae(e.options,nn)),e.getLeafHeaders=Te(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,a,i)=>{var l,u,c,f,h,m;return[...(l=(u=n[0])==null?void 0:u.headers)!=null?l:[],...(c=(f=a[0])==null?void 0:f.headers)!=null?c:[],...(h=(m=i[0])==null?void 0:m.headers)!=null?h:[]].map(v=>v.getLeafHeaders()).flat()},Ae(e.options,nn))}};function su(e,n,a,i){var l,u;let c=0;const f=function(w,b){b===void 0&&(b=1),c=Math.max(c,b),w.filter(E=>E.getIsVisible()).forEach(E=>{var C;(C=E.columns)!=null&&C.length&&f(E.columns,b+1)},0)};f(e);let h=[];const m=(w,b)=>{const E={depth:b,id:[i,`${b}`].filter(Boolean).join("_"),headers:[]},C=[];w.forEach(R=>{const A=[...C].reverse()[0],M=R.column.depth===E.depth;let T,q=!1;if(M&&R.column.parent?T=R.column.parent:(T=R.column,q=!0),A&&A?.column===T)A.subHeaders.push(R);else{const k=my(a,T,{id:[i,b,T.id,R?.id].filter(Boolean).join("_"),isPlaceholder:q,placeholderId:q?`${C.filter(H=>H.column===T).length}`:void 0,depth:b,index:C.length});k.subHeaders.push(R),C.push(k)}E.headers.push(R),R.headerGroup=E}),h.push(E),b>0&&m(C,b-1)},v=n.map((w,b)=>my(a,w,{depth:c,index:b}));m(v,c-1),h.reverse();const y=w=>w.filter(E=>E.column.getIsVisible()).map(E=>{let C=0,R=0,A=[0];E.subHeaders&&E.subHeaders.length?(A=[],y(E.subHeaders).forEach(T=>{let{colSpan:q,rowSpan:k}=T;C+=q,A.push(k)})):C=1;const M=Math.min(...A);return R=R+M,E.colSpan=C,E.rowSpan=R,{colSpan:C,rowSpan:R}});return y((l=(u=h[0])==null?void 0:u.headers)!=null?l:[]),h}const pT=(e,n,a,i,l,u,c)=>{let f={id:n,index:i,original:a,depth:l,parentId:c,_valuesCache:{},_uniqueValuesCache:{},getValue:h=>{if(f._valuesCache.hasOwnProperty(h))return f._valuesCache[h];const m=e.getColumn(h);if(m!=null&&m.accessorFn)return f._valuesCache[h]=m.accessorFn(f.original,i),f._valuesCache[h]},getUniqueValues:h=>{if(f._uniqueValuesCache.hasOwnProperty(h))return f._uniqueValuesCache[h];const m=e.getColumn(h);if(m!=null&&m.accessorFn)return m.columnDef.getUniqueValues?(f._uniqueValuesCache[h]=m.columnDef.getUniqueValues(f.original,i),f._uniqueValuesCache[h]):(f._uniqueValuesCache[h]=[f.getValue(h)],f._uniqueValuesCache[h])},renderValue:h=>{var m;return(m=f.getValue(h))!=null?m:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>fT(f.subRows,h=>h.subRows),getParentRow:()=>f.parentId?e.getRow(f.parentId,!0):void 0,getParentRows:()=>{let h=[],m=f;for(;;){const v=m.getParentRow();if(!v)break;h.push(v),m=v}return h.reverse()},getAllCells:Te(()=>[e.getAllLeafColumns()],h=>h.map(m=>hT(e,f,m,m.id)),Ae(e.options,"debugRows")),_getAllCellsByColumnId:Te(()=>[f.getAllCells()],h=>h.reduce((m,v)=>(m[v.column.id]=v,m),{}),Ae(e.options,"debugRows"))};for(let h=0;h<e._features.length;h++){const m=e._features[h];m==null||m.createRow==null||m.createRow(f,e)}return f},vT={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},k_=(e,n,a)=>{var i,l;const u=a==null||(i=a.toString())==null?void 0:i.toLowerCase();return!!(!((l=e.getValue(n))==null||(l=l.toString())==null||(l=l.toLowerCase())==null)&&l.includes(u))};k_.autoRemove=e=>Xn(e);const U_=(e,n,a)=>{var i;return!!(!((i=e.getValue(n))==null||(i=i.toString())==null)&&i.includes(a))};U_.autoRemove=e=>Xn(e);const L_=(e,n,a)=>{var i;return((i=e.getValue(n))==null||(i=i.toString())==null?void 0:i.toLowerCase())===a?.toLowerCase()};L_.autoRemove=e=>Xn(e);const P_=(e,n,a)=>{var i;return(i=e.getValue(n))==null?void 0:i.includes(a)};P_.autoRemove=e=>Xn(e);const $_=(e,n,a)=>!a.some(i=>{var l;return!((l=e.getValue(n))!=null&&l.includes(i))});$_.autoRemove=e=>Xn(e)||!(e!=null&&e.length);const F_=(e,n,a)=>a.some(i=>{var l;return(l=e.getValue(n))==null?void 0:l.includes(i)});F_.autoRemove=e=>Xn(e)||!(e!=null&&e.length);const z_=(e,n,a)=>e.getValue(n)===a;z_.autoRemove=e=>Xn(e);const H_=(e,n,a)=>e.getValue(n)==a;H_.autoRemove=e=>Xn(e);const dh=(e,n,a)=>{let[i,l]=a;const u=e.getValue(n);return u>=i&&u<=l};dh.resolveFilterValue=e=>{let[n,a]=e,i=typeof n!="number"?parseFloat(n):n,l=typeof a!="number"?parseFloat(a):a,u=n===null||Number.isNaN(i)?-1/0:i,c=a===null||Number.isNaN(l)?1/0:l;if(u>c){const f=u;u=c,c=f}return[u,c]};dh.autoRemove=e=>Xn(e)||Xn(e[0])&&Xn(e[1]);const kr={includesString:k_,includesStringSensitive:U_,equalsString:L_,arrIncludes:P_,arrIncludesAll:$_,arrIncludesSome:F_,equals:z_,weakEquals:H_,inNumberRange:dh};function Xn(e){return e==null||e===""}const yT={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Rn("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const a=n.getCoreRowModel().flatRows[0],i=a?.getValue(e.id);return typeof i=="string"?kr.includesString:typeof i=="number"?kr.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?kr.equals:Array.isArray(i)?kr.arrIncludes:kr.weakEquals},e.getFilterFn=()=>{var a,i;return Mu(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(a=(i=n.options.filterFns)==null?void 0:i[e.columnDef.filterFn])!=null?a:kr[e.columnDef.filterFn]},e.getCanFilter=()=>{var a,i,l;return((a=e.columnDef.enableColumnFilter)!=null?a:!0)&&((i=n.options.enableColumnFilters)!=null?i:!0)&&((l=n.options.enableFilters)!=null?l:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var a;return(a=n.getState().columnFilters)==null||(a=a.find(i=>i.id===e.id))==null?void 0:a.value},e.getFilterIndex=()=>{var a,i;return(a=(i=n.getState().columnFilters)==null?void 0:i.findIndex(l=>l.id===e.id))!=null?a:-1},e.setFilterValue=a=>{n.setColumnFilters(i=>{const l=e.getFilterFn(),u=i?.find(v=>v.id===e.id),c=ya(a,u?u.value:void 0);if(py(l,c,e)){var f;return(f=i?.filter(v=>v.id!==e.id))!=null?f:[]}const h={id:e.id,value:c};if(u){var m;return(m=i?.map(v=>v.id===e.id?h:v))!=null?m:[]}return i!=null&&i.length?[...i,h]:[h]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const a=e.getAllLeafColumns(),i=l=>{var u;return(u=ya(n,l))==null?void 0:u.filter(c=>{const f=a.find(h=>h.id===c.id);if(f){const h=f.getFilterFn();if(py(h,c.value,f))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(i)},e.resetColumnFilters=n=>{var a,i;e.setColumnFilters(n?[]:(a=(i=e.initialState)==null?void 0:i.columnFilters)!=null?a:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function py(e,n,a){return(e&&e.autoRemove?e.autoRemove(n,a):!1)||typeof n>"u"||typeof n=="string"&&!n}const _T=(e,n,a)=>a.reduce((i,l)=>{const u=l.getValue(e);return i+(typeof u=="number"?u:0)},0),bT=(e,n,a)=>{let i;return a.forEach(l=>{const u=l.getValue(e);u!=null&&(i>u||i===void 0&&u>=u)&&(i=u)}),i},wT=(e,n,a)=>{let i;return a.forEach(l=>{const u=l.getValue(e);u!=null&&(i<u||i===void 0&&u>=u)&&(i=u)}),i},ST=(e,n,a)=>{let i,l;return a.forEach(u=>{const c=u.getValue(e);c!=null&&(i===void 0?c>=c&&(i=l=c):(i>c&&(i=c),l<c&&(l=c)))}),[i,l]},ET=(e,n)=>{let a=0,i=0;if(n.forEach(l=>{let u=l.getValue(e);u!=null&&(u=+u)>=u&&(++a,i+=u)}),a)return i/a},xT=(e,n)=>{if(!n.length)return;const a=n.map(u=>u.getValue(e));if(!dT(a))return;if(a.length===1)return a[0];const i=Math.floor(a.length/2),l=a.sort((u,c)=>u-c);return a.length%2!==0?l[i]:(l[i-1]+l[i])/2},CT=(e,n)=>Array.from(new Set(n.map(a=>a.getValue(e))).values()),RT=(e,n)=>new Set(n.map(a=>a.getValue(e))).size,TT=(e,n)=>n.length,gf={sum:_T,min:bT,max:wT,extent:ST,mean:ET,median:xT,unique:CT,uniqueCount:RT,count:TT},AT={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,a;return(n=(a=e.getValue())==null||a.toString==null?void 0:a.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Rn("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(a=>a!=null&&a.includes(e.id)?a.filter(i=>i!==e.id):[...a??[],e.id])},e.getCanGroup=()=>{var a,i;return((a=e.columnDef.enableGrouping)!=null?a:!0)&&((i=n.options.enableGrouping)!=null?i:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var a;return(a=n.getState().grouping)==null?void 0:a.includes(e.id)},e.getGroupedIndex=()=>{var a;return(a=n.getState().grouping)==null?void 0:a.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const a=e.getCanGroup();return()=>{a&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const a=n.getCoreRowModel().flatRows[0],i=a?.getValue(e.id);if(typeof i=="number")return gf.sum;if(Object.prototype.toString.call(i)==="[object Date]")return gf.extent},e.getAggregationFn=()=>{var a,i;if(!e)throw new Error;return Mu(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(a=(i=n.options.aggregationFns)==null?void 0:i[e.columnDef.aggregationFn])!=null?a:gf[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var a,i;e.setGrouping(n?[]:(a=(i=e.initialState)==null?void 0:i.grouping)!=null?a:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=a=>{if(e._groupingValuesCache.hasOwnProperty(a))return e._groupingValuesCache[a];const i=n.getColumn(a);return i!=null&&i.columnDef.getGroupingValue?(e._groupingValuesCache[a]=i.columnDef.getGroupingValue(e.original),e._groupingValuesCache[a]):e.getValue(a)},e._groupingValuesCache={}},createCell:(e,n,a,i)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===a.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var l;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((l=a.subRows)!=null&&l.length)}}};function OT(e,n,a){if(!(n!=null&&n.length)||!a)return e;const i=e.filter(u=>!n.includes(u.id));return a==="remove"?i:[...n.map(u=>e.find(c=>c.id===u)).filter(Boolean),...i]}const DT={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Rn("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=Te(a=>[gl(n,a)],a=>a.findIndex(i=>i.id===e.id),Ae(n.options,"debugColumns")),e.getIsFirstColumn=a=>{var i;return((i=gl(n,a)[0])==null?void 0:i.id)===e.id},e.getIsLastColumn=a=>{var i;const l=gl(n,a);return((i=l[l.length-1])==null?void 0:i.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var a;e.setColumnOrder(n?[]:(a=e.initialState.columnOrder)!=null?a:[])},e._getOrderColumnsFn=Te(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,a,i)=>l=>{let u=[];if(!(n!=null&&n.length))u=l;else{const c=[...n],f=[...l];for(;f.length&&c.length;){const h=c.shift(),m=f.findIndex(v=>v.id===h);m>-1&&u.push(f.splice(m,1)[0])}u=[...u,...f]}return OT(u,a,i)},Ae(e.options,"debugTable"))}},mf=()=>({left:[],right:[]}),NT={getInitialState:e=>({columnPinning:mf(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Rn("columnPinning",e)}),createColumn:(e,n)=>{e.pin=a=>{const i=e.getLeafColumns().map(l=>l.id).filter(Boolean);n.setColumnPinning(l=>{var u,c;if(a==="right"){var f,h;return{left:((f=l?.left)!=null?f:[]).filter(y=>!(i!=null&&i.includes(y))),right:[...((h=l?.right)!=null?h:[]).filter(y=>!(i!=null&&i.includes(y))),...i]}}if(a==="left"){var m,v;return{left:[...((m=l?.left)!=null?m:[]).filter(y=>!(i!=null&&i.includes(y))),...i],right:((v=l?.right)!=null?v:[]).filter(y=>!(i!=null&&i.includes(y)))}}return{left:((u=l?.left)!=null?u:[]).filter(y=>!(i!=null&&i.includes(y))),right:((c=l?.right)!=null?c:[]).filter(y=>!(i!=null&&i.includes(y)))}})},e.getCanPin=()=>e.getLeafColumns().some(i=>{var l,u,c;return((l=i.columnDef.enablePinning)!=null?l:!0)&&((u=(c=n.options.enableColumnPinning)!=null?c:n.options.enablePinning)!=null?u:!0)}),e.getIsPinned=()=>{const a=e.getLeafColumns().map(f=>f.id),{left:i,right:l}=n.getState().columnPinning,u=a.some(f=>i?.includes(f)),c=a.some(f=>l?.includes(f));return u?"left":c?"right":!1},e.getPinnedIndex=()=>{var a,i;const l=e.getIsPinned();return l?(a=(i=n.getState().columnPinning)==null||(i=i[l])==null?void 0:i.indexOf(e.id))!=null?a:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=Te(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(a,i,l)=>{const u=[...i??[],...l??[]];return a.filter(c=>!u.includes(c.column.id))},Ae(n.options,"debugRows")),e.getLeftVisibleCells=Te(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(a,i)=>(i??[]).map(u=>a.find(c=>c.column.id===u)).filter(Boolean).map(u=>({...u,position:"left"})),Ae(n.options,"debugRows")),e.getRightVisibleCells=Te(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(a,i)=>(i??[]).map(u=>a.find(c=>c.column.id===u)).filter(Boolean).map(u=>({...u,position:"right"})),Ae(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var a,i;return e.setColumnPinning(n?mf():(a=(i=e.initialState)==null?void 0:i.columnPinning)!=null?a:mf())},e.getIsSomeColumnsPinned=n=>{var a;const i=e.getState().columnPinning;if(!n){var l,u;return!!((l=i.left)!=null&&l.length||(u=i.right)!=null&&u.length)}return!!((a=i[n])!=null&&a.length)},e.getLeftLeafColumns=Te(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,a)=>(a??[]).map(i=>n.find(l=>l.id===i)).filter(Boolean),Ae(e.options,"debugColumns")),e.getRightLeafColumns=Te(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,a)=>(a??[]).map(i=>n.find(l=>l.id===i)).filter(Boolean),Ae(e.options,"debugColumns")),e.getCenterLeafColumns=Te(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,a,i)=>{const l=[...a??[],...i??[]];return n.filter(u=>!l.includes(u.id))},Ae(e.options,"debugColumns"))}};function jT(e){return e||(typeof document<"u"?document:null)}const lu={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},pf=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),MT={getDefaultColumnDef:()=>lu,getInitialState:e=>({columnSizing:{},columnSizingInfo:pf(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Rn("columnSizing",e),onColumnSizingInfoChange:Rn("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var a,i,l;const u=n.getState().columnSizing[e.id];return Math.min(Math.max((a=e.columnDef.minSize)!=null?a:lu.minSize,(i=u??e.columnDef.size)!=null?i:lu.size),(l=e.columnDef.maxSize)!=null?l:lu.maxSize)},e.getStart=Te(a=>[a,gl(n,a),n.getState().columnSizing],(a,i)=>i.slice(0,e.getIndex(a)).reduce((l,u)=>l+u.getSize(),0),Ae(n.options,"debugColumns")),e.getAfter=Te(a=>[a,gl(n,a),n.getState().columnSizing],(a,i)=>i.slice(e.getIndex(a)+1).reduce((l,u)=>l+u.getSize(),0),Ae(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(a=>{let{[e.id]:i,...l}=a;return l})},e.getCanResize=()=>{var a,i;return((a=e.columnDef.enableResizing)!=null?a:!0)&&((i=n.options.enableColumnResizing)!=null?i:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let a=0;const i=l=>{if(l.subHeaders.length)l.subHeaders.forEach(i);else{var u;a+=(u=l.column.getSize())!=null?u:0}};return i(e),a},e.getStart=()=>{if(e.index>0){const a=e.headerGroup.headers[e.index-1];return a.getStart()+a.getSize()}return 0},e.getResizeHandler=a=>{const i=n.getColumn(e.column.id),l=i?.getCanResize();return u=>{if(!i||!l||(u.persist==null||u.persist(),vf(u)&&u.touches&&u.touches.length>1))return;const c=e.getSize(),f=e?e.getLeafHeaders().map(A=>[A.column.id,A.column.getSize()]):[[i.id,i.getSize()]],h=vf(u)?Math.round(u.touches[0].clientX):u.clientX,m={},v=(A,M)=>{typeof M=="number"&&(n.setColumnSizingInfo(T=>{var q,k;const H=n.options.columnResizeDirection==="rtl"?-1:1,F=(M-((q=T?.startOffset)!=null?q:0))*H,B=Math.max(F/((k=T?.startSize)!=null?k:0),-.999999);return T.columnSizingStart.forEach(ee=>{let[le,oe]=ee;m[le]=Math.round(Math.max(oe+oe*B,0)*100)/100}),{...T,deltaOffset:F,deltaPercentage:B}}),(n.options.columnResizeMode==="onChange"||A==="end")&&n.setColumnSizing(T=>({...T,...m})))},y=A=>v("move",A),w=A=>{v("end",A),n.setColumnSizingInfo(M=>({...M,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},b=jT(a),E={moveHandler:A=>y(A.clientX),upHandler:A=>{b?.removeEventListener("mousemove",E.moveHandler),b?.removeEventListener("mouseup",E.upHandler),w(A.clientX)}},C={moveHandler:A=>(A.cancelable&&(A.preventDefault(),A.stopPropagation()),y(A.touches[0].clientX),!1),upHandler:A=>{var M;b?.removeEventListener("touchmove",C.moveHandler),b?.removeEventListener("touchend",C.upHandler),A.cancelable&&(A.preventDefault(),A.stopPropagation()),w((M=A.touches[0])==null?void 0:M.clientX)}},R=kT()?{passive:!1}:!1;vf(u)?(b?.addEventListener("touchmove",C.moveHandler,R),b?.addEventListener("touchend",C.upHandler,R)):(b?.addEventListener("mousemove",E.moveHandler,R),b?.addEventListener("mouseup",E.upHandler,R)),n.setColumnSizingInfo(A=>({...A,startOffset:h,startSize:c,deltaOffset:0,deltaPercentage:0,columnSizingStart:f,isResizingColumn:i.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var a;e.setColumnSizing(n?{}:(a=e.initialState.columnSizing)!=null?a:{})},e.resetHeaderSizeInfo=n=>{var a;e.setColumnSizingInfo(n?pf():(a=e.initialState.columnSizingInfo)!=null?a:pf())},e.getTotalSize=()=>{var n,a;return(n=(a=e.getHeaderGroups()[0])==null?void 0:a.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,a;return(n=(a=e.getLeftHeaderGroups()[0])==null?void 0:a.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,a;return(n=(a=e.getCenterHeaderGroups()[0])==null?void 0:a.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,a;return(n=(a=e.getRightHeaderGroups()[0])==null?void 0:a.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0}}};let ou=null;function kT(){if(typeof ou=="boolean")return ou;let e=!1;try{const n={get passive(){return e=!0,!1}},a=()=>{};window.addEventListener("test",a,n),window.removeEventListener("test",a)}catch{e=!1}return ou=e,ou}function vf(e){return e.type==="touchstart"}const UT={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Rn("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=a=>{e.getCanHide()&&n.setColumnVisibility(i=>({...i,[e.id]:a??!e.getIsVisible()}))},e.getIsVisible=()=>{var a,i;const l=e.columns;return(a=l.length?l.some(u=>u.getIsVisible()):(i=n.getState().columnVisibility)==null?void 0:i[e.id])!=null?a:!0},e.getCanHide=()=>{var a,i;return((a=e.columnDef.enableHiding)!=null?a:!0)&&((i=n.options.enableHiding)!=null?i:!0)},e.getToggleVisibilityHandler=()=>a=>{e.toggleVisibility==null||e.toggleVisibility(a.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=Te(()=>[e.getAllCells(),n.getState().columnVisibility],a=>a.filter(i=>i.column.getIsVisible()),Ae(n.options,"debugRows")),e.getVisibleCells=Te(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(a,i,l)=>[...a,...i,...l],Ae(n.options,"debugRows"))},createTable:e=>{const n=(a,i)=>Te(()=>[i(),i().filter(l=>l.getIsVisible()).map(l=>l.id).join("_")],l=>l.filter(u=>u.getIsVisible==null?void 0:u.getIsVisible()),Ae(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=a=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(a),e.resetColumnVisibility=a=>{var i;e.setColumnVisibility(a?{}:(i=e.initialState.columnVisibility)!=null?i:{})},e.toggleAllColumnsVisible=a=>{var i;a=(i=a)!=null?i:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((l,u)=>({...l,[u.id]:a||!(u.getCanHide!=null&&u.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(a=>!(a.getIsVisible!=null&&a.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(a=>a.getIsVisible==null?void 0:a.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>a=>{var i;e.toggleAllColumnsVisible((i=a.target)==null?void 0:i.checked)}}};function gl(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const LT={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},PT={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Rn("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var a;const i=(a=e.getCoreRowModel().flatRows[0])==null||(a=a._getAllCellsByColumnId()[n.id])==null?void 0:a.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var a,i,l,u;return((a=e.columnDef.enableGlobalFilter)!=null?a:!0)&&((i=n.options.enableGlobalFilter)!=null?i:!0)&&((l=n.options.enableFilters)!=null?l:!0)&&((u=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?u:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>kr.includesString,e.getGlobalFilterFn=()=>{var n,a;const{globalFilterFn:i}=e.options;return Mu(i)?i:i==="auto"?e.getGlobalAutoFilterFn():(n=(a=e.options.filterFns)==null?void 0:a[i])!=null?n:kr[i]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},$T={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Rn("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,a=!1;e._autoResetExpanded=()=>{var i,l;if(!n){e._queue(()=>{n=!0});return}if((i=(l=e.options.autoResetAll)!=null?l:e.options.autoResetExpanded)!=null?i:!e.options.manualExpanding){if(a)return;a=!0,e._queue(()=>{e.resetExpanded(),a=!1})}},e.setExpanded=i=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(i),e.toggleAllRowsExpanded=i=>{i??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=i=>{var l,u;e.setExpanded(i?{}:(l=(u=e.initialState)==null?void 0:u.expanded)!=null?l:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const i=e.getState().expanded;return i===!0||Object.values(i).some(Boolean)},e.getIsAllRowsExpanded=()=>{const i=e.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||e.getRowModel().flatRows.some(l=>!l.getIsExpanded()))},e.getExpandedDepth=()=>{let i=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(u=>{const c=u.split(".");i=Math.max(i,c.length)}),i},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=a=>{n.setExpanded(i=>{var l;const u=i===!0?!0:!!(i!=null&&i[e.id]);let c={};if(i===!0?Object.keys(n.getRowModel().rowsById).forEach(f=>{c[f]=!0}):c=i,a=(l=a)!=null?l:!u,!u&&a)return{...c,[e.id]:!0};if(u&&!a){const{[e.id]:f,...h}=c;return h}return i})},e.getIsExpanded=()=>{var a;const i=n.getState().expanded;return!!((a=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?a:i===!0||i?.[e.id])},e.getCanExpand=()=>{var a,i,l;return(a=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?a:((i=n.options.enableExpanding)!=null?i:!0)&&!!((l=e.subRows)!=null&&l.length)},e.getIsAllParentsExpanded=()=>{let a=!0,i=e;for(;a&&i.parentId;)i=n.getRow(i.parentId,!0),a=i.getIsExpanded();return a},e.getToggleExpandedHandler=()=>{const a=e.getCanExpand();return()=>{a&&e.toggleExpanded()}}}},Hf=0,If=10,yf=()=>({pageIndex:Hf,pageSize:If}),FT={getInitialState:e=>({...e,pagination:{...yf(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:Rn("pagination",e)}),createTable:e=>{let n=!1,a=!1;e._autoResetPageIndex=()=>{var i,l;if(!n){e._queue(()=>{n=!0});return}if((i=(l=e.options.autoResetAll)!=null?l:e.options.autoResetPageIndex)!=null?i:!e.options.manualPagination){if(a)return;a=!0,e._queue(()=>{e.resetPageIndex(),a=!1})}},e.setPagination=i=>{const l=u=>ya(i,u);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(l)},e.resetPagination=i=>{var l;e.setPagination(i?yf():(l=e.initialState.pagination)!=null?l:yf())},e.setPageIndex=i=>{e.setPagination(l=>{let u=ya(i,l.pageIndex);const c=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return u=Math.max(0,Math.min(u,c)),{...l,pageIndex:u}})},e.resetPageIndex=i=>{var l,u;e.setPageIndex(i?Hf:(l=(u=e.initialState)==null||(u=u.pagination)==null?void 0:u.pageIndex)!=null?l:Hf)},e.resetPageSize=i=>{var l,u;e.setPageSize(i?If:(l=(u=e.initialState)==null||(u=u.pagination)==null?void 0:u.pageSize)!=null?l:If)},e.setPageSize=i=>{e.setPagination(l=>{const u=Math.max(1,ya(i,l.pageSize)),c=l.pageSize*l.pageIndex,f=Math.floor(c/u);return{...l,pageIndex:f,pageSize:u}})},e.setPageCount=i=>e.setPagination(l=>{var u;let c=ya(i,(u=e.options.pageCount)!=null?u:-1);return typeof c=="number"&&(c=Math.max(-1,c)),{...l,pageCount:c}}),e.getPageOptions=Te(()=>[e.getPageCount()],i=>{let l=[];return i&&i>0&&(l=[...new Array(i)].fill(null).map((u,c)=>c)),l},Ae(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:i}=e.getState().pagination,l=e.getPageCount();return l===-1?!0:l===0?!1:i<l-1},e.previousPage=()=>e.setPageIndex(i=>i-1),e.nextPage=()=>e.setPageIndex(i=>i+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var i;return(i=e.options.pageCount)!=null?i:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var i;return(i=e.options.rowCount)!=null?i:e.getPrePaginationRowModel().rows.length}}},_f=()=>({top:[],bottom:[]}),zT={getInitialState:e=>({rowPinning:_f(),...e}),getDefaultOptions:e=>({onRowPinningChange:Rn("rowPinning",e)}),createRow:(e,n)=>{e.pin=(a,i,l)=>{const u=i?e.getLeafRows().map(h=>{let{id:m}=h;return m}):[],c=l?e.getParentRows().map(h=>{let{id:m}=h;return m}):[],f=new Set([...c,e.id,...u]);n.setRowPinning(h=>{var m,v;if(a==="bottom"){var y,w;return{top:((y=h?.top)!=null?y:[]).filter(C=>!(f!=null&&f.has(C))),bottom:[...((w=h?.bottom)!=null?w:[]).filter(C=>!(f!=null&&f.has(C))),...Array.from(f)]}}if(a==="top"){var b,E;return{top:[...((b=h?.top)!=null?b:[]).filter(C=>!(f!=null&&f.has(C))),...Array.from(f)],bottom:((E=h?.bottom)!=null?E:[]).filter(C=>!(f!=null&&f.has(C)))}}return{top:((m=h?.top)!=null?m:[]).filter(C=>!(f!=null&&f.has(C))),bottom:((v=h?.bottom)!=null?v:[]).filter(C=>!(f!=null&&f.has(C)))}})},e.getCanPin=()=>{var a;const{enableRowPinning:i,enablePinning:l}=n.options;return typeof i=="function"?i(e):(a=i??l)!=null?a:!0},e.getIsPinned=()=>{const a=[e.id],{top:i,bottom:l}=n.getState().rowPinning,u=a.some(f=>i?.includes(f)),c=a.some(f=>l?.includes(f));return u?"top":c?"bottom":!1},e.getPinnedIndex=()=>{var a,i;const l=e.getIsPinned();if(!l)return-1;const u=(a=l==="top"?n.getTopRows():n.getBottomRows())==null?void 0:a.map(c=>{let{id:f}=c;return f});return(i=u?.indexOf(e.id))!=null?i:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var a,i;return e.setRowPinning(n?_f():(a=(i=e.initialState)==null?void 0:i.rowPinning)!=null?a:_f())},e.getIsSomeRowsPinned=n=>{var a;const i=e.getState().rowPinning;if(!n){var l,u;return!!((l=i.top)!=null&&l.length||(u=i.bottom)!=null&&u.length)}return!!((a=i[n])!=null&&a.length)},e._getPinnedRows=(n,a,i)=>{var l;return((l=e.options.keepPinnedRows)==null||l?(a??[]).map(c=>{const f=e.getRow(c,!0);return f.getIsAllParentsExpanded()?f:null}):(a??[]).map(c=>n.find(f=>f.id===c))).filter(Boolean).map(c=>({...c,position:i}))},e.getTopRows=Te(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,a)=>e._getPinnedRows(n,a,"top"),Ae(e.options,"debugRows")),e.getBottomRows=Te(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,a)=>e._getPinnedRows(n,a,"bottom"),Ae(e.options,"debugRows")),e.getCenterRows=Te(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,a,i)=>{const l=new Set([...a??[],...i??[]]);return n.filter(u=>!l.has(u.id))},Ae(e.options,"debugRows"))}},HT={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Rn("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var a;return e.setRowSelection(n?{}:(a=e.initialState.rowSelection)!=null?a:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(a=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const i={...a},l=e.getPreGroupedRowModel().flatRows;return n?l.forEach(u=>{u.getCanSelect()&&(i[u.id]=!0)}):l.forEach(u=>{delete i[u.id]}),i})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(a=>{const i=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),l={...a};return e.getRowModel().rows.forEach(u=>{Vf(l,u.id,i,!0,e)}),l}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Te(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,a)=>Object.keys(n).length?bf(e,a):{rows:[],flatRows:[],rowsById:{}},Ae(e.options,"debugTable")),e.getFilteredSelectedRowModel=Te(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,a)=>Object.keys(n).length?bf(e,a):{rows:[],flatRows:[],rowsById:{}},Ae(e.options,"debugTable")),e.getGroupedSelectedRowModel=Te(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,a)=>Object.keys(n).length?bf(e,a):{rows:[],flatRows:[],rowsById:{}},Ae(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:a}=e.getState();let i=!!(n.length&&Object.keys(a).length);return i&&n.some(l=>l.getCanSelect()&&!a[l.id])&&(i=!1),i},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(l=>l.getCanSelect()),{rowSelection:a}=e.getState();let i=!!n.length;return i&&n.some(l=>!a[l.id])&&(i=!1),i},e.getIsSomeRowsSelected=()=>{var n;const a=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return a>0&&a<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(a=>a.getCanSelect()).some(a=>a.getIsSelected()||a.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(a,i)=>{const l=e.getIsSelected();n.setRowSelection(u=>{var c;if(a=typeof a<"u"?a:!l,e.getCanSelect()&&l===a)return u;const f={...u};return Vf(f,e.id,a,(c=i?.selectChildren)!=null?c:!0,n),f})},e.getIsSelected=()=>{const{rowSelection:a}=n.getState();return fh(e,a)},e.getIsSomeSelected=()=>{const{rowSelection:a}=n.getState();return Bf(e,a)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:a}=n.getState();return Bf(e,a)==="all"},e.getCanSelect=()=>{var a;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(a=n.options.enableRowSelection)!=null?a:!0},e.getCanSelectSubRows=()=>{var a;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(a=n.options.enableSubRowSelection)!=null?a:!0},e.getCanMultiSelect=()=>{var a;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(a=n.options.enableMultiRowSelection)!=null?a:!0},e.getToggleSelectedHandler=()=>{const a=e.getCanSelect();return i=>{var l;a&&e.toggleSelected((l=i.target)==null?void 0:l.checked)}}}},Vf=(e,n,a,i,l)=>{var u;const c=l.getRow(n,!0);a?(c.getCanMultiSelect()||Object.keys(e).forEach(f=>delete e[f]),c.getCanSelect()&&(e[n]=!0)):delete e[n],i&&(u=c.subRows)!=null&&u.length&&c.getCanSelectSubRows()&&c.subRows.forEach(f=>Vf(e,f.id,a,i,l))};function bf(e,n){const a=e.getState().rowSelection,i=[],l={},u=function(c,f){return c.map(h=>{var m;const v=fh(h,a);if(v&&(i.push(h),l[h.id]=h),(m=h.subRows)!=null&&m.length&&(h={...h,subRows:u(h.subRows)}),v)return h}).filter(Boolean)};return{rows:u(n.rows),flatRows:i,rowsById:l}}function fh(e,n){var a;return(a=n[e.id])!=null?a:!1}function Bf(e,n,a){var i;if(!((i=e.subRows)!=null&&i.length))return!1;let l=!0,u=!1;return e.subRows.forEach(c=>{if(!(u&&!l)&&(c.getCanSelect()&&(fh(c,n)?u=!0:l=!1),c.subRows&&c.subRows.length)){const f=Bf(c,n);f==="all"?u=!0:(f==="some"&&(u=!0),l=!1)}}),l?"all":u?"some":!1}const qf=/([0-9]+)/gm,IT=(e,n,a)=>I_(_a(e.getValue(a)).toLowerCase(),_a(n.getValue(a)).toLowerCase()),VT=(e,n,a)=>I_(_a(e.getValue(a)),_a(n.getValue(a))),BT=(e,n,a)=>hh(_a(e.getValue(a)).toLowerCase(),_a(n.getValue(a)).toLowerCase()),qT=(e,n,a)=>hh(_a(e.getValue(a)),_a(n.getValue(a))),GT=(e,n,a)=>{const i=e.getValue(a),l=n.getValue(a);return i>l?1:i<l?-1:0},YT=(e,n,a)=>hh(e.getValue(a),n.getValue(a));function hh(e,n){return e===n?0:e>n?1:-1}function _a(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function I_(e,n){const a=e.split(qf).filter(Boolean),i=n.split(qf).filter(Boolean);for(;a.length&&i.length;){const l=a.shift(),u=i.shift(),c=parseInt(l,10),f=parseInt(u,10),h=[c,f].sort();if(isNaN(h[0])){if(l>u)return 1;if(u>l)return-1;continue}if(isNaN(h[1]))return isNaN(c)?-1:1;if(c>f)return 1;if(f>c)return-1}return a.length-i.length}const sl={alphanumeric:IT,alphanumericCaseSensitive:VT,text:BT,textCaseSensitive:qT,datetime:GT,basic:YT},KT={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Rn("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const a=n.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const l of a){const u=l?.getValue(e.id);if(Object.prototype.toString.call(u)==="[object Date]")return sl.datetime;if(typeof u=="string"&&(i=!0,u.split(qf).length>1))return sl.alphanumeric}return i?sl.text:sl.basic},e.getAutoSortDir=()=>{const a=n.getFilteredRowModel().flatRows[0];return typeof a?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var a,i;if(!e)throw new Error;return Mu(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(a=(i=n.options.sortingFns)==null?void 0:i[e.columnDef.sortingFn])!=null?a:sl[e.columnDef.sortingFn]},e.toggleSorting=(a,i)=>{const l=e.getNextSortingOrder(),u=typeof a<"u"&&a!==null;n.setSorting(c=>{const f=c?.find(b=>b.id===e.id),h=c?.findIndex(b=>b.id===e.id);let m=[],v,y=u?a:l==="desc";if(c!=null&&c.length&&e.getCanMultiSort()&&i?f?v="toggle":v="add":c!=null&&c.length&&h!==c.length-1?v="replace":f?v="toggle":v="replace",v==="toggle"&&(u||l||(v="remove")),v==="add"){var w;m=[...c,{id:e.id,desc:y}],m.splice(0,m.length-((w=n.options.maxMultiSortColCount)!=null?w:Number.MAX_SAFE_INTEGER))}else v==="toggle"?m=c.map(b=>b.id===e.id?{...b,desc:y}:b):v==="remove"?m=c.filter(b=>b.id!==e.id):m=[{id:e.id,desc:y}];return m})},e.getFirstSortDir=()=>{var a,i;return((a=(i=e.columnDef.sortDescFirst)!=null?i:n.options.sortDescFirst)!=null?a:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=a=>{var i,l;const u=e.getFirstSortDir(),c=e.getIsSorted();return c?c!==u&&((i=n.options.enableSortingRemoval)==null||i)&&(!(a&&(l=n.options.enableMultiRemove)!=null)||l)?!1:c==="desc"?"asc":"desc":u},e.getCanSort=()=>{var a,i;return((a=e.columnDef.enableSorting)!=null?a:!0)&&((i=n.options.enableSorting)!=null?i:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var a,i;return(a=(i=e.columnDef.enableMultiSort)!=null?i:n.options.enableMultiSort)!=null?a:!!e.accessorFn},e.getIsSorted=()=>{var a;const i=(a=n.getState().sorting)==null?void 0:a.find(l=>l.id===e.id);return i?i.desc?"desc":"asc":!1},e.getSortIndex=()=>{var a,i;return(a=(i=n.getState().sorting)==null?void 0:i.findIndex(l=>l.id===e.id))!=null?a:-1},e.clearSorting=()=>{n.setSorting(a=>a!=null&&a.length?a.filter(i=>i.id!==e.id):[])},e.getToggleSortingHandler=()=>{const a=e.getCanSort();return i=>{a&&(i.persist==null||i.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(i):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var a,i;e.setSorting(n?[]:(a=(i=e.initialState)==null?void 0:i.sorting)!=null?a:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},XT=[mT,UT,DT,NT,vT,yT,LT,PT,KT,AT,$T,FT,zT,HT,MT];function WT(e){var n,a;const i=[...XT,...(n=e._features)!=null?n:[]];let l={_features:i};const u=l._features.reduce((w,b)=>Object.assign(w,b.getDefaultOptions==null?void 0:b.getDefaultOptions(l)),{}),c=w=>l.options.mergeOptions?l.options.mergeOptions(u,w):{...u,...w};let h={...{},...(a=e.initialState)!=null?a:{}};l._features.forEach(w=>{var b;h=(b=w.getInitialState==null?void 0:w.getInitialState(h))!=null?b:h});const m=[];let v=!1;const y={_features:i,options:{...u,...e},initialState:h,_queue:w=>{m.push(w),v||(v=!0,Promise.resolve().then(()=>{for(;m.length;)m.shift()();v=!1}).catch(b=>setTimeout(()=>{throw b})))},reset:()=>{l.setState(l.initialState)},setOptions:w=>{const b=ya(w,l.options);l.options=c(b)},getState:()=>l.options.state,setState:w=>{l.options.onStateChange==null||l.options.onStateChange(w)},_getRowId:(w,b,E)=>{var C;return(C=l.options.getRowId==null?void 0:l.options.getRowId(w,b,E))!=null?C:`${E?[E.id,b].join("."):b}`},getCoreRowModel:()=>(l._getCoreRowModel||(l._getCoreRowModel=l.options.getCoreRowModel(l)),l._getCoreRowModel()),getRowModel:()=>l.getPaginationRowModel(),getRow:(w,b)=>{let E=(b?l.getPrePaginationRowModel():l.getRowModel()).rowsById[w];if(!E&&(E=l.getCoreRowModel().rowsById[w],!E))throw new Error;return E},_getDefaultColumnDef:Te(()=>[l.options.defaultColumn],w=>{var b;return w=(b=w)!=null?b:{},{header:E=>{const C=E.header.column.columnDef;return C.accessorKey?C.accessorKey:C.accessorFn?C.id:null},cell:E=>{var C,R;return(C=(R=E.renderValue())==null||R.toString==null?void 0:R.toString())!=null?C:null},...l._features.reduce((E,C)=>Object.assign(E,C.getDefaultColumnDef==null?void 0:C.getDefaultColumnDef()),{}),...w}},Ae(e,"debugColumns")),_getColumnDefs:()=>l.options.columns,getAllColumns:Te(()=>[l._getColumnDefs()],w=>{const b=function(E,C,R){return R===void 0&&(R=0),E.map(A=>{const M=gT(l,A,R,C),T=A;return M.columns=T.columns?b(T.columns,M,R+1):[],M})};return b(w)},Ae(e,"debugColumns")),getAllFlatColumns:Te(()=>[l.getAllColumns()],w=>w.flatMap(b=>b.getFlatColumns()),Ae(e,"debugColumns")),_getAllFlatColumnsById:Te(()=>[l.getAllFlatColumns()],w=>w.reduce((b,E)=>(b[E.id]=E,b),{}),Ae(e,"debugColumns")),getAllLeafColumns:Te(()=>[l.getAllColumns(),l._getOrderColumnsFn()],(w,b)=>{let E=w.flatMap(C=>C.getLeafColumns());return b(E)},Ae(e,"debugColumns")),getColumn:w=>l._getAllFlatColumnsById()[w]};Object.assign(l,y);for(let w=0;w<l._features.length;w++){const b=l._features[w];b==null||b.createTable==null||b.createTable(l)}return l}function QT(){return e=>Te(()=>[e.options.data],n=>{const a={rows:[],flatRows:[],rowsById:{}},i=function(l,u,c){u===void 0&&(u=0);const f=[];for(let m=0;m<l.length;m++){const v=pT(e,e._getRowId(l[m],m,c),l[m],m,u,void 0,c?.id);if(a.flatRows.push(v),a.rowsById[v.id]=v,f.push(v),e.options.getSubRows){var h;v.originalSubRows=e.options.getSubRows(l[m],m),(h=v.originalSubRows)!=null&&h.length&&(v.subRows=i(v.originalSubRows,u+1,v))}}return f};return a.rows=i(n),a},Ae(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function ZT(){return e=>Te(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,a)=>{if(!a.rows.length||!(n!=null&&n.length))return a;const i=e.getState().sorting,l=[],u=i.filter(h=>{var m;return(m=e.getColumn(h.id))==null?void 0:m.getCanSort()}),c={};u.forEach(h=>{const m=e.getColumn(h.id);m&&(c[h.id]={sortUndefined:m.columnDef.sortUndefined,invertSorting:m.columnDef.invertSorting,sortingFn:m.getSortingFn()})});const f=h=>{const m=h.map(v=>({...v}));return m.sort((v,y)=>{for(let b=0;b<u.length;b+=1){var w;const E=u[b],C=c[E.id],R=C.sortUndefined,A=(w=E?.desc)!=null?w:!1;let M=0;if(R){const T=v.getValue(E.id),q=y.getValue(E.id),k=T===void 0,H=q===void 0;if(k||H){if(R==="first")return k?-1:1;if(R==="last")return k?1:-1;M=k&&H?0:k?R:-R}}if(M===0&&(M=C.sortingFn(v,y,E.id)),M!==0)return A&&(M*=-1),C.invertSorting&&(M*=-1),M}return v.index-y.index}),m.forEach(v=>{var y;l.push(v),(y=v.subRows)!=null&&y.length&&(v.subRows=f(v.subRows))}),m};return{rows:f(a.rows),flatRows:l,rowsById:a.rowsById}},Ae(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function vy(e,n){return e?JT(e)?x.createElement(e,n):e:null}function JT(e){return eA(e)||typeof e=="function"||tA(e)}function eA(e){return typeof e=="function"&&(()=>{const n=Object.getPrototypeOf(e);return n.prototype&&n.prototype.isReactComponent})()}function tA(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function nA(e){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[a]=x.useState(()=>({current:WT(n)})),[i,l]=x.useState(()=>a.current.initialState);return a.current.setOptions(u=>({...u,...e,state:{...i,...e.state},onStateChange:c=>{l(c),e.onStateChange==null||e.onStateChange(c)}})),a.current}function gh({data:e,columns:n,onSaveRow:a,onDeleteRow:i}){const[l,u]=x.useState(null),[c,f]=x.useState({}),h=x.useMemo(()=>{const y=b=>{const E={};Object.keys(c).forEach(M=>{c[M]!==void 0&&c[M]!==""&&(E[M]=c[M])});const C={...b.original};["machines","progress","n_boxes","time_remaining"].forEach(M=>{delete C[M]});const A={...C,...E};a(A),u(null),f({})},w={id:"actions",header:"Actions",cell:({row:b})=>{const E=b.id===l;return p.jsx("div",{className:"action-buttons",children:E?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>y(b),className:"btn-save",children:"Save"}),p.jsx("button",{onClick:()=>u(null),className:"btn-cancel",children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>u(b.id),className:"btn-edit",children:"Edit"}),p.jsx("button",{onClick:()=>i(b.original),className:"btn-delete",children:"Delete"})]})})}};return[...n,w]},[n,l,c,a,i]),m=x.useMemo(()=>{if(e&&e.length>0){console.log("📊 DataTable received data:",e.length,"rows");const y=e.map(C=>C.id),w=y.filter((C,R)=>y.indexOf(C)!==R);w.length>0&&(console.warn("⚠️ DataTable: Duplicate IDs detected:",w),console.warn("⚠️ DataTable: Full data with duplicates:",e));const b=new Set,E=[];e.forEach((C,R)=>{b.has(C.id)?E.push({id:C.id,index:R,item:C}):b.add(C.id)}),E.length>0&&console.warn("⚠️ DataTable: Duplicate objects detected:",E)}return e},[e]),v=nA({data:m,columns:h,getCoreRowModel:QT(),getSortedRowModel:ZT(),meta:{editingRowId:l,setEditedData:f}});return p.jsx("div",{className:"table-container",children:p.jsxs("table",{className:"modern-table",children:[p.jsx("thead",{children:v.getHeaderGroups().map(y=>p.jsx("tr",{children:y.headers.map(w=>p.jsxs("th",{onClick:w.column.getToggleSortingHandler(),children:[vy(w.column.columnDef.header,w.getContext()),{asc:" 🔼",desc:" 🔽"}[w.column.getIsSorted()]??null]},w.id))},y.id))}),p.jsx("tbody",{children:v.getRowModel().rows.map(y=>{const w=y.original.id||y.id;return p.jsx("tr",{children:y.getVisibleCells().map(b=>{const E=`${w}_${b.column.id}`;return p.jsx("td",{children:vy(b.column.columnDef.cell,b.getContext())},E)})},w)})})]})})}var kl=e=>e.type==="checkbox",qa=e=>e instanceof Date,on=e=>e==null;const V_=e=>typeof e=="object";var xt=e=>!on(e)&&!Array.isArray(e)&&V_(e)&&!qa(e),rA=e=>xt(e)&&e.target?kl(e.target)?e.target.checked:e.target.value:e,aA=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,iA=(e,n)=>e.has(aA(n)),sA=e=>{const n=e.constructor&&e.constructor.prototype;return xt(n)&&n.hasOwnProperty("isPrototypeOf")},mh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bt(e){let n;const a=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(mh&&(e instanceof Blob||i))&&(a||xt(e)))if(n=a?[]:Object.create(Object.getPrototypeOf(e)),!a&&!sA(e))n=e;else for(const l in e)e.hasOwnProperty(l)&&(n[l]=Bt(e[l]));else return e;return n}var ku=e=>/^\w*$/.test(e),Ot=e=>e===void 0,ph=e=>Array.isArray(e)?e.filter(Boolean):[],vh=e=>ph(e.replace(/["|']|\]/g,"").split(/\.|\[/)),_e=(e,n,a)=>{if(!n||!xt(e))return a;const i=(ku(n)?[n]:vh(n)).reduce((l,u)=>on(l)?l:l[u],e);return Ot(i)||i===e?Ot(e[n])?a:e[n]:i},dr=e=>typeof e=="boolean",ft=(e,n,a)=>{let i=-1;const l=ku(n)?[n]:vh(n),u=l.length,c=u-1;for(;++i<u;){const f=l[i];let h=a;if(i!==c){const m=e[f];h=xt(m)||Array.isArray(m)?m:isNaN(+l[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=h,e=e[f]}};const yy={BLUR:"blur",FOCUS_OUT:"focusout"},Yn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Nr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},lA=Me.createContext(null);lA.displayName="HookFormContext";var oA=(e,n,a,i=!0)=>{const l={defaultValues:n._defaultValues};for(const u in e)Object.defineProperty(l,u,{get:()=>{const c=u;return n._proxyFormState[c]!==Yn.all&&(n._proxyFormState[c]=!i||Yn.all),e[c]}});return l};const uA=typeof window<"u"?Me.useLayoutEffect:Me.useEffect;var fr=e=>typeof e=="string",cA=(e,n,a,i,l)=>fr(e)?(i&&n.watch.add(e),_e(a,e,l)):Array.isArray(e)?e.map(u=>(i&&n.watch.add(u),_e(a,u))):(i&&(n.watchAll=!0),a),Gf=e=>on(e)||!V_(e);function pa(e,n,a=new WeakSet){if(Gf(e)||Gf(n))return e===n;if(qa(e)&&qa(n))return e.getTime()===n.getTime();const i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;if(a.has(e)||a.has(n))return!0;a.add(e),a.add(n);for(const u of i){const c=e[u];if(!l.includes(u))return!1;if(u!=="ref"){const f=n[u];if(qa(c)&&qa(f)||xt(c)&&xt(f)||Array.isArray(c)&&Array.isArray(f)?!pa(c,f,a):c!==f)return!1}}return!0}var dA=(e,n,a,i,l)=>n?{...a[e],types:{...a[e]&&a[e].types?a[e].types:{},[i]:l||!0}}:{},ml=e=>Array.isArray(e)?e:[e],_y=()=>{let e=[];return{get observers(){return e},next:l=>{for(const u of e)u.next&&u.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(u=>u!==l)}}),unsubscribe:()=>{e=[]}}},mn=e=>xt(e)&&!Object.keys(e).length,yh=e=>e.type==="file",Kn=e=>typeof e=="function",vu=e=>{if(!mh)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},B_=e=>e.type==="select-multiple",_h=e=>e.type==="radio",fA=e=>_h(e)||kl(e),wf=e=>vu(e)&&e.isConnected;function hA(e,n){const a=n.slice(0,-1).length;let i=0;for(;i<a;)e=Ot(e)?i++:e[n[i++]];return e}function gA(e){for(const n in e)if(e.hasOwnProperty(n)&&!Ot(e[n]))return!1;return!0}function Tt(e,n){const a=Array.isArray(n)?n:ku(n)?[n]:vh(n),i=a.length===1?e:hA(e,a),l=a.length-1,u=a[l];return i&&delete i[u],l!==0&&(xt(i)&&mn(i)||Array.isArray(i)&&gA(i))&&Tt(e,a.slice(0,-1)),e}var q_=e=>{for(const n in e)if(Kn(e[n]))return!0;return!1};function yu(e,n={}){const a=Array.isArray(e);if(xt(e)||a)for(const i in e)Array.isArray(e[i])||xt(e[i])&&!q_(e[i])?(n[i]=Array.isArray(e[i])?[]:{},yu(e[i],n[i])):on(e[i])||(n[i]=!0);return n}function G_(e,n,a){const i=Array.isArray(e);if(xt(e)||i)for(const l in e)Array.isArray(e[l])||xt(e[l])&&!q_(e[l])?Ot(n)||Gf(a[l])?a[l]=Array.isArray(e[l])?yu(e[l],[]):{...yu(e[l])}:G_(e[l],on(n)?{}:n[l],a[l]):a[l]=!pa(e[l],n[l]);return a}var ll=(e,n)=>G_(e,n,yu(n));const by={value:!1,isValid:!1},wy={value:!0,isValid:!0};var Y_=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ot(e[0].attributes.value)?Ot(e[0].value)||e[0].value===""?wy:{value:e[0].value,isValid:!0}:wy:by}return by},K_=(e,{valueAsNumber:n,valueAsDate:a,setValueAs:i})=>Ot(e)?e:n?e===""?NaN:e&&+e:a&&fr(e)?new Date(e):i?i(e):e;const Sy={isValid:!1,value:null};var X_=e=>Array.isArray(e)?e.reduce((n,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:n,Sy):Sy;function Ey(e){const n=e.ref;return yh(n)?n.files:_h(n)?X_(e.refs).value:B_(n)?[...n.selectedOptions].map(({value:a})=>a):kl(n)?Y_(e.refs).value:K_(Ot(n.value)?e.ref.value:n.value,e)}var mA=(e,n,a,i)=>{const l={};for(const u of e){const c=_e(n,u);c&&ft(l,u,c._f)}return{criteriaMode:a,names:[...e],fields:l,shouldUseNativeValidation:i}},_u=e=>e instanceof RegExp,ol=e=>Ot(e)?e:_u(e)?e.source:xt(e)?_u(e.value)?e.value.source:e.value:e,xy=e=>({isOnSubmit:!e||e===Yn.onSubmit,isOnBlur:e===Yn.onBlur,isOnChange:e===Yn.onChange,isOnAll:e===Yn.all,isOnTouch:e===Yn.onTouched});const Cy="AsyncFunction";var pA=e=>!!e&&!!e.validate&&!!(Kn(e.validate)&&e.validate.constructor.name===Cy||xt(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===Cy)),vA=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ry=(e,n,a)=>!a&&(n.watchAll||n.watch.has(e)||[...n.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const pl=(e,n,a,i)=>{for(const l of a||Object.keys(e)){const u=_e(e,l);if(u){const{_f:c,...f}=u;if(c){if(c.refs&&c.refs[0]&&n(c.refs[0],l)&&!i)return!0;if(c.ref&&n(c.ref,c.name)&&!i)return!0;if(pl(f,n))break}else if(xt(f)&&pl(f,n))break}}};function Ty(e,n,a){const i=_e(e,a);if(i||ku(a))return{error:i,name:a};const l=a.split(".");for(;l.length;){const u=l.join("."),c=_e(n,u),f=_e(e,u);if(c&&!Array.isArray(c)&&a!==u)return{name:a};if(f&&f.type)return{name:u,error:f};if(f&&f.root&&f.root.type)return{name:`${u}.root`,error:f.root};l.pop()}return{name:a}}var yA=(e,n,a,i)=>{a(e);const{name:l,...u}=e;return mn(u)||Object.keys(u).length>=Object.keys(n).length||Object.keys(u).find(c=>n[c]===(!i||Yn.all))},_A=(e,n,a)=>!e||!n||e===n||ml(e).some(i=>i&&(a?i===n:i.startsWith(n)||n.startsWith(i))),bA=(e,n,a,i,l)=>l.isOnAll?!1:!a&&l.isOnTouch?!(n||e):(a?i.isOnBlur:l.isOnBlur)?!e:(a?i.isOnChange:l.isOnChange)?e:!0,wA=(e,n)=>!ph(_e(e,n)).length&&Tt(e,n),SA=(e,n,a)=>{const i=ml(_e(e,a));return ft(i,"root",n[a]),ft(e,a,i),e},du=e=>fr(e);function Ay(e,n,a="validate"){if(du(e)||Array.isArray(e)&&e.every(du)||dr(e)&&!e)return{type:a,message:du(e)?e:"",ref:n}}var Bi=e=>xt(e)&&!_u(e)?e:{value:e,message:""},Oy=async(e,n,a,i,l,u)=>{const{ref:c,refs:f,required:h,maxLength:m,minLength:v,min:y,max:w,pattern:b,validate:E,name:C,valueAsNumber:R,mount:A}=e._f,M=_e(a,C);if(!A||n.has(C))return{};const T=f?f[0]:c,q=ae=>{l&&T.reportValidity&&(T.setCustomValidity(dr(ae)?"":ae||""),T.reportValidity())},k={},H=_h(c),F=kl(c),B=H||F,ee=(R||yh(c))&&Ot(c.value)&&Ot(M)||vu(c)&&c.value===""||M===""||Array.isArray(M)&&!M.length,le=dA.bind(null,C,i,k),oe=(ae,re,ve,ce=Nr.maxLength,$=Nr.minLength)=>{const Z=ae?re:ve;k[C]={type:ae?ce:$,message:Z,ref:c,...le(ae?ce:$,Z)}};if(u?!Array.isArray(M)||!M.length:h&&(!B&&(ee||on(M))||dr(M)&&!M||F&&!Y_(f).isValid||H&&!X_(f).isValid)){const{value:ae,message:re}=du(h)?{value:!!h,message:h}:Bi(h);if(ae&&(k[C]={type:Nr.required,message:re,ref:T,...le(Nr.required,re)},!i))return q(re),k}if(!ee&&(!on(y)||!on(w))){let ae,re;const ve=Bi(w),ce=Bi(y);if(!on(M)&&!isNaN(M)){const $=c.valueAsNumber||M&&+M;on(ve.value)||(ae=$>ve.value),on(ce.value)||(re=$<ce.value)}else{const $=c.valueAsDate||new Date(M),Z=N=>new Date(new Date().toDateString()+" "+N),de=c.type=="time",Ee=c.type=="week";fr(ve.value)&&M&&(ae=de?Z(M)>Z(ve.value):Ee?M>ve.value:$>new Date(ve.value)),fr(ce.value)&&M&&(re=de?Z(M)<Z(ce.value):Ee?M<ce.value:$<new Date(ce.value))}if((ae||re)&&(oe(!!ae,ve.message,ce.message,Nr.max,Nr.min),!i))return q(k[C].message),k}if((m||v)&&!ee&&(fr(M)||u&&Array.isArray(M))){const ae=Bi(m),re=Bi(v),ve=!on(ae.value)&&M.length>+ae.value,ce=!on(re.value)&&M.length<+re.value;if((ve||ce)&&(oe(ve,ae.message,re.message),!i))return q(k[C].message),k}if(b&&!ee&&fr(M)){const{value:ae,message:re}=Bi(b);if(_u(ae)&&!M.match(ae)&&(k[C]={type:Nr.pattern,message:re,ref:c,...le(Nr.pattern,re)},!i))return q(re),k}if(E){if(Kn(E)){const ae=await E(M,a),re=Ay(ae,T);if(re&&(k[C]={...re,...le(Nr.validate,re.message)},!i))return q(re.message),k}else if(xt(E)){let ae={};for(const re in E){if(!mn(ae)&&!i)break;const ve=Ay(await E[re](M,a),T,re);ve&&(ae={...ve,...le(re,ve.message)},q(ve.message),i&&(k[C]=ae))}if(!mn(ae)&&(k[C]={ref:T,...ae},!i))return k}}return q(!0),k};const EA={mode:Yn.onSubmit,reValidateMode:Yn.onChange,shouldFocusError:!0};function xA(e={}){let n={...EA,...e},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Kn(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},l=xt(n.defaultValues)||xt(n.values)?Bt(n.defaultValues||n.values)||{}:{},u=n.shouldUnregister?{}:Bt(l),c={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,m=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...v};const w={array:_y(),state:_y()},b=n.criteriaMode===Yn.all,E=O=>L=>{clearTimeout(m),m=setTimeout(O,L)},C=async O=>{if(!n.disabled&&(v.isValid||y.isValid||O)){const L=n.resolver?mn((await F()).errors):await ee(i,!0);L!==a.isValid&&w.state.next({isValid:L})}},R=(O,L)=>{!n.disabled&&(v.isValidating||v.validatingFields||y.isValidating||y.validatingFields)&&((O||Array.from(f.mount)).forEach(G=>{G&&(L?ft(a.validatingFields,G,L):Tt(a.validatingFields,G))}),w.state.next({validatingFields:a.validatingFields,isValidating:!mn(a.validatingFields)}))},A=(O,L=[],G,se,te=!0,ie=!0)=>{if(se&&G&&!n.disabled){if(c.action=!0,ie&&Array.isArray(_e(i,O))){const he=G(_e(i,O),se.argA,se.argB);te&&ft(i,O,he)}if(ie&&Array.isArray(_e(a.errors,O))){const he=G(_e(a.errors,O),se.argA,se.argB);te&&ft(a.errors,O,he),wA(a.errors,O)}if((v.touchedFields||y.touchedFields)&&ie&&Array.isArray(_e(a.touchedFields,O))){const he=G(_e(a.touchedFields,O),se.argA,se.argB);te&&ft(a.touchedFields,O,he)}(v.dirtyFields||y.dirtyFields)&&(a.dirtyFields=ll(l,u)),w.state.next({name:O,isDirty:oe(O,L),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else ft(u,O,L)},M=(O,L)=>{ft(a.errors,O,L),w.state.next({errors:a.errors})},T=O=>{a.errors=O,w.state.next({errors:a.errors,isValid:!1})},q=(O,L,G,se)=>{const te=_e(i,O);if(te){const ie=_e(u,O,Ot(G)?_e(l,O):G);Ot(ie)||se&&se.defaultChecked||L?ft(u,O,L?ie:Ey(te._f)):ve(O,ie),c.mount&&C()}},k=(O,L,G,se,te)=>{let ie=!1,he=!1;const Se={name:O};if(!n.disabled){if(!G||se){(v.isDirty||y.isDirty)&&(he=a.isDirty,a.isDirty=Se.isDirty=oe(),ie=he!==Se.isDirty);const Oe=pa(_e(l,O),L);he=!!_e(a.dirtyFields,O),Oe?Tt(a.dirtyFields,O):ft(a.dirtyFields,O,!0),Se.dirtyFields=a.dirtyFields,ie=ie||(v.dirtyFields||y.dirtyFields)&&he!==!Oe}if(G){const Oe=_e(a.touchedFields,O);Oe||(ft(a.touchedFields,O,G),Se.touchedFields=a.touchedFields,ie=ie||(v.touchedFields||y.touchedFields)&&Oe!==G)}ie&&te&&w.state.next(Se)}return ie?Se:{}},H=(O,L,G,se)=>{const te=_e(a.errors,O),ie=(v.isValid||y.isValid)&&dr(L)&&a.isValid!==L;if(n.delayError&&G?(h=E(()=>M(O,G)),h(n.delayError)):(clearTimeout(m),h=null,G?ft(a.errors,O,G):Tt(a.errors,O)),(G?!pa(te,G):te)||!mn(se)||ie){const he={...se,...ie&&dr(L)?{isValid:L}:{},errors:a.errors,name:O};a={...a,...he},w.state.next(he)}},F=async O=>{R(O,!0);const L=await n.resolver(u,n.context,mA(O||f.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return R(O),L},B=async O=>{const{errors:L}=await F(O);if(O)for(const G of O){const se=_e(L,G);se?ft(a.errors,G,se):Tt(a.errors,G)}else a.errors=L;return L},ee=async(O,L,G={valid:!0})=>{for(const se in O){const te=O[se];if(te){const{_f:ie,...he}=te;if(ie){const Se=f.array.has(ie.name),Oe=te._f&&pA(te._f);Oe&&v.validatingFields&&R([se],!0);const He=await Oy(te,f.disabled,u,b,n.shouldUseNativeValidation&&!L,Se);if(Oe&&v.validatingFields&&R([se]),He[ie.name]&&(G.valid=!1,L))break;!L&&(_e(He,ie.name)?Se?SA(a.errors,He,ie.name):ft(a.errors,ie.name,He[ie.name]):Tt(a.errors,ie.name))}!mn(he)&&await ee(he,L,G)}}return G.valid},le=()=>{for(const O of f.unMount){const L=_e(i,O);L&&(L._f.refs?L._f.refs.every(G=>!wf(G)):!wf(L._f.ref))&&pt(O)}f.unMount=new Set},oe=(O,L)=>!n.disabled&&(O&&L&&ft(u,O,L),!pa(N(),l)),ae=(O,L,G)=>cA(O,f,{...c.mount?u:Ot(L)?l:fr(O)?{[O]:L}:L},G,L),re=O=>ph(_e(c.mount?u:l,O,n.shouldUnregister?_e(l,O,[]):[])),ve=(O,L,G={})=>{const se=_e(i,O);let te=L;if(se){const ie=se._f;ie&&(!ie.disabled&&ft(u,O,K_(L,ie)),te=vu(ie.ref)&&on(L)?"":L,B_(ie.ref)?[...ie.ref.options].forEach(he=>he.selected=te.includes(he.value)):ie.refs?kl(ie.ref)?ie.refs.forEach(he=>{(!he.defaultChecked||!he.disabled)&&(Array.isArray(te)?he.checked=!!te.find(Se=>Se===he.value):he.checked=te===he.value||!!te)}):ie.refs.forEach(he=>he.checked=he.value===te):yh(ie.ref)?ie.ref.value="":(ie.ref.value=te,ie.ref.type||w.state.next({name:O,values:Bt(u)})))}(G.shouldDirty||G.shouldTouch)&&k(O,te,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&Ee(O)},ce=(O,L,G)=>{for(const se in L){if(!L.hasOwnProperty(se))return;const te=L[se],ie=O+"."+se,he=_e(i,ie);(f.array.has(O)||xt(te)||he&&!he._f)&&!qa(te)?ce(ie,te,G):ve(ie,te,G)}},$=(O,L,G={})=>{const se=_e(i,O),te=f.array.has(O),ie=Bt(L);ft(u,O,ie),te?(w.array.next({name:O,values:Bt(u)}),(v.isDirty||v.dirtyFields||y.isDirty||y.dirtyFields)&&G.shouldDirty&&w.state.next({name:O,dirtyFields:ll(l,u),isDirty:oe(O,ie)})):se&&!se._f&&!on(ie)?ce(O,ie,G):ve(O,ie,G),Ry(O,f)&&w.state.next({...a,name:O}),w.state.next({name:c.mount?O:void 0,values:Bt(u)})},Z=async O=>{c.mount=!0;const L=O.target;let G=L.name,se=!0;const te=_e(i,G),ie=Oe=>{se=Number.isNaN(Oe)||qa(Oe)&&isNaN(Oe.getTime())||pa(Oe,_e(u,G,Oe))},he=xy(n.mode),Se=xy(n.reValidateMode);if(te){let Oe,He;const rn=L.type?Ey(te._f):rA(O),Mt=O.type===yy.BLUR||O.type===yy.FOCUS_OUT,Ka=!vA(te._f)&&!n.resolver&&!_e(a.errors,G)&&!te._f.deps||bA(Mt,_e(a.touchedFields,G),a.isSubmitted,Se,he),er=Ry(G,f,Mt);ft(u,G,rn),Mt?(!L||!L.readOnly)&&(te._f.onBlur&&te._f.onBlur(O),h&&h(0)):te._f.onChange&&te._f.onChange(O);const tr=k(G,rn,Mt),pn=!mn(tr)||er;if(!Mt&&w.state.next({name:G,type:O.type,values:Bt(u)}),Ka)return(v.isValid||y.isValid)&&(n.mode==="onBlur"?Mt&&C():Mt||C()),pn&&w.state.next({name:G,...er?{}:tr});if(!Mt&&er&&w.state.next({...a}),n.resolver){const{errors:nr}=await F([G]);if(ie(rn),se){const hr=Ty(a.errors,i,G),wa=Ty(nr,i,hr.name||G);Oe=wa.error,G=wa.name,He=mn(nr)}}else R([G],!0),Oe=(await Oy(te,f.disabled,u,b,n.shouldUseNativeValidation))[G],R([G]),ie(rn),se&&(Oe?He=!1:(v.isValid||y.isValid)&&(He=await ee(i,!0)));se&&(te._f.deps&&Ee(te._f.deps),H(G,He,Oe,tr))}},de=(O,L)=>{if(_e(a.errors,L)&&O.focus)return O.focus(),1},Ee=async(O,L={})=>{let G,se;const te=ml(O);if(n.resolver){const ie=await B(Ot(O)?O:te);G=mn(ie),se=O?!te.some(he=>_e(ie,he)):G}else O?(se=(await Promise.all(te.map(async ie=>{const he=_e(i,ie);return await ee(he&&he._f?{[ie]:he}:he)}))).every(Boolean),!(!se&&!a.isValid)&&C()):se=G=await ee(i);return w.state.next({...!fr(O)||(v.isValid||y.isValid)&&G!==a.isValid?{}:{name:O},...n.resolver||!O?{isValid:G}:{},errors:a.errors}),L.shouldFocus&&!se&&pl(i,de,O?te:f.mount),se},N=O=>{const L={...c.mount?u:l};return Ot(O)?L:fr(O)?_e(L,O):O.map(G=>_e(L,G))},K=(O,L)=>({invalid:!!_e((L||a).errors,O),isDirty:!!_e((L||a).dirtyFields,O),error:_e((L||a).errors,O),isValidating:!!_e(a.validatingFields,O),isTouched:!!_e((L||a).touchedFields,O)}),Y=O=>{O&&ml(O).forEach(L=>Tt(a.errors,L)),w.state.next({errors:O?a.errors:{}})},Q=(O,L,G)=>{const se=(_e(i,O,{_f:{}})._f||{}).ref,te=_e(a.errors,O)||{},{ref:ie,message:he,type:Se,...Oe}=te;ft(a.errors,O,{...Oe,...L,ref:se}),w.state.next({name:O,errors:a.errors,isValid:!1}),G&&G.shouldFocus&&se&&se.focus&&se.focus()},fe=(O,L)=>Kn(O)?w.state.subscribe({next:G=>"values"in G&&O(ae(void 0,L),G)}):ae(O,L,!0),De=O=>w.state.subscribe({next:L=>{_A(O.name,L.name,O.exact)&&yA(L,O.formState||v,et,O.reRenderRoot)&&O.callback({values:{...u},...a,...L,defaultValues:l})}}).unsubscribe,ye=O=>(c.mount=!0,y={...y,...O.formState},De({...O,formState:y})),pt=(O,L={})=>{for(const G of O?ml(O):f.mount)f.mount.delete(G),f.array.delete(G),L.keepValue||(Tt(i,G),Tt(u,G)),!L.keepError&&Tt(a.errors,G),!L.keepDirty&&Tt(a.dirtyFields,G),!L.keepTouched&&Tt(a.touchedFields,G),!L.keepIsValidating&&Tt(a.validatingFields,G),!n.shouldUnregister&&!L.keepDefaultValue&&Tt(l,G);w.state.next({values:Bt(u)}),w.state.next({...a,...L.keepDirty?{isDirty:oe()}:{}}),!L.keepIsValid&&C()},Ve=({disabled:O,name:L})=>{(dr(O)&&c.mount||O||f.disabled.has(L))&&(O?f.disabled.add(L):f.disabled.delete(L))},Nt=(O,L={})=>{let G=_e(i,O);const se=dr(L.disabled)||dr(n.disabled);return ft(i,O,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:O}},name:O,mount:!0,...L}}),f.mount.add(O),G?Ve({disabled:dr(L.disabled)?L.disabled:n.disabled,name:O}):q(O,!0,L.value),{...se?{disabled:L.disabled||n.disabled}:{},...n.progressive?{required:!!L.required,min:ol(L.min),max:ol(L.max),minLength:ol(L.minLength),maxLength:ol(L.maxLength),pattern:ol(L.pattern)}:{},name:O,onChange:Z,onBlur:Z,ref:te=>{if(te){Nt(O,L),G=_e(i,O);const ie=Ot(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,he=fA(ie),Se=G._f.refs||[];if(he?Se.find(Oe=>Oe===ie):ie===G._f.ref)return;ft(i,O,{_f:{...G._f,...he?{refs:[...Se.filter(wf),ie,...Array.isArray(_e(l,O))?[{}]:[]],ref:{type:ie.type,name:O}}:{ref:ie}}}),q(O,!1,void 0,ie)}else G=_e(i,O,{}),G._f&&(G._f.mount=!1),(n.shouldUnregister||L.shouldUnregister)&&!(iA(f.array,O)&&c.action)&&f.unMount.add(O)}}},wt=()=>n.shouldFocusError&&pl(i,de,f.mount),Tn=O=>{dr(O)&&(w.state.next({disabled:O}),pl(i,(L,G)=>{const se=_e(i,G);se&&(L.disabled=se._f.disabled||O,Array.isArray(se._f.refs)&&se._f.refs.forEach(te=>{te.disabled=se._f.disabled||O}))},0,!1))},ne=(O,L)=>async G=>{let se;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let te=Bt(u);if(w.state.next({isSubmitting:!0}),n.resolver){const{errors:ie,values:he}=await F();a.errors=ie,te=Bt(he)}else await ee(i);if(f.disabled.size)for(const ie of f.disabled)Tt(te,ie);if(Tt(a.errors,"root"),mn(a.errors)){w.state.next({errors:{}});try{await O(te,G)}catch(ie){se=ie}}else L&&await L({...a.errors},G),wt(),setTimeout(wt);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:mn(a.errors)&&!se,submitCount:a.submitCount+1,errors:a.errors}),se)throw se},ue=(O,L={})=>{_e(i,O)&&(Ot(L.defaultValue)?$(O,Bt(_e(l,O))):($(O,L.defaultValue),ft(l,O,Bt(L.defaultValue))),L.keepTouched||Tt(a.touchedFields,O),L.keepDirty||(Tt(a.dirtyFields,O),a.isDirty=L.defaultValue?oe(O,Bt(_e(l,O))):oe()),L.keepError||(Tt(a.errors,O),v.isValid&&C()),w.state.next({...a}))},ge=(O,L={})=>{const G=O?Bt(O):l,se=Bt(G),te=mn(O),ie=te?l:se;if(L.keepDefaultValues||(l=G),!L.keepValues){if(L.keepDirtyValues){const he=new Set([...f.mount,...Object.keys(ll(l,u))]);for(const Se of Array.from(he))_e(a.dirtyFields,Se)?ft(ie,Se,_e(u,Se)):$(Se,_e(ie,Se))}else{if(mh&&Ot(O))for(const he of f.mount){const Se=_e(i,he);if(Se&&Se._f){const Oe=Array.isArray(Se._f.refs)?Se._f.refs[0]:Se._f.ref;if(vu(Oe)){const He=Oe.closest("form");if(He){He.reset();break}}}}if(L.keepFieldsRef)for(const he of f.mount)$(he,_e(ie,he));else i={}}u=n.shouldUnregister?L.keepDefaultValues?Bt(l):{}:Bt(ie),w.array.next({values:{...ie}}),w.state.next({values:{...ie}})}f={mount:L.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!v.isValid||!!L.keepIsValid||!!L.keepDirtyValues,c.watch=!!n.shouldUnregister,w.state.next({submitCount:L.keepSubmitCount?a.submitCount:0,isDirty:te?!1:L.keepDirty?a.isDirty:!!(L.keepDefaultValues&&!pa(O,l)),isSubmitted:L.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:te?{}:L.keepDirtyValues?L.keepDefaultValues&&u?ll(l,u):a.dirtyFields:L.keepDefaultValues&&O?ll(l,O):L.keepDirty?a.dirtyFields:{},touchedFields:L.keepTouched?a.touchedFields:{},errors:L.keepErrors?a.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},me=(O,L)=>ge(Kn(O)?O(u):O,L),Ge=(O,L={})=>{const G=_e(i,O),se=G&&G._f;if(se){const te=se.refs?se.refs[0]:se.ref;te.focus&&(te.focus(),L.shouldSelect&&Kn(te.select)&&te.select())}},et=O=>{a={...a,...O}},vt={control:{register:Nt,unregister:pt,getFieldState:K,handleSubmit:ne,setError:Q,_subscribe:De,_runSchema:F,_focusError:wt,_getWatch:ae,_getDirty:oe,_setValid:C,_setFieldArray:A,_setDisabledField:Ve,_setErrors:T,_getFieldArray:re,_reset:ge,_resetDefaultValues:()=>Kn(n.defaultValues)&&n.defaultValues().then(O=>{me(O,n.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:le,_disableForm:Tn,_subjects:w,_proxyFormState:v,get _fields(){return i},get _formValues(){return u},get _state(){return c},set _state(O){c=O},get _defaultValues(){return l},get _names(){return f},set _names(O){f=O},get _formState(){return a},get _options(){return n},set _options(O){n={...n,...O}}},subscribe:ye,trigger:Ee,register:Nt,handleSubmit:ne,watch:fe,setValue:$,getValues:N,reset:me,resetField:ue,clearErrors:Y,unregister:pt,setError:Q,setFocus:Ge,getFieldState:K};return{...vt,formControl:vt}}function Uu(e={}){const n=Me.useRef(void 0),a=Me.useRef(void 0),[i,l]=Me.useState({isDirty:!1,isValidating:!1,isLoading:Kn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Kn(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:i},e.defaultValues&&!Kn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...f}=xA(e);n.current={...f,formState:i}}const u=n.current.control;return u._options=e,uA(()=>{const c=u._subscribe({formState:u._proxyFormState,callback:()=>l({...u._formState}),reRenderRoot:!0});return l(f=>({...f,isReady:!0})),u._formState.isReady=!0,c},[u]),Me.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),Me.useEffect(()=>{e.mode&&(u._options.mode=e.mode),e.reValidateMode&&(u._options.reValidateMode=e.reValidateMode)},[u,e.mode,e.reValidateMode]),Me.useEffect(()=>{e.errors&&(u._setErrors(e.errors),u._focusError())},[u,e.errors]),Me.useEffect(()=>{e.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,e.shouldUnregister]),Me.useEffect(()=>{if(u._proxyFormState.isDirty){const c=u._getDirty();c!==i.isDirty&&u._subjects.state.next({isDirty:c})}},[u,i.isDirty]),Me.useEffect(()=>{e.values&&!pa(e.values,a.current)?(u._reset(e.values,{keepFieldsRef:!0,...u._options.resetOptions}),a.current=e.values,l(c=>({...c}))):u._resetDefaultValues()},[u,e.values]),Me.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),n.current.formState=oA(i,u),n.current}const W_=()=>{const e=x.useCallback((h,m,v)=>{if(!h||!m||!v)return null;try{const{department:y}=h;if(y==="STAMPA"){const w=m/(h.v_stampa||1),b=h.t_setup_stampa||0,E=w+b,C=E*(h.costo_h_stampa||0);return{totals:{duration:E,cost:C},breakdown:{print:{time:w,cost:w*(h.costo_h_stampa||0)},setup:{time:b,cost:b*(h.costo_h_stampa||0)}}}}else if(y==="CONFEZIONAMENTO"){const w=m/(h.v_conf||1),b=h.t_setup_conf||0,E=w+b,C=E*(h.costo_h_conf||0);return{totals:{duration:E,cost:C},breakdown:{package:{time:w,cost:w*(h.costo_h_conf||0)},setup:{time:b,cost:b*(h.costo_h_conf||0)}}}}return null}catch(y){return console.error("Error calculating production metrics:",y),null}},[]),n=x.useCallback(h=>h&&(h.startsWith("P05")||h.startsWith("ISP05"))?"BUSTO_GAROLFO":"ZANICA",[]),a=x.useCallback(h=>h&&h.startsWith("P0")?"CONFEZIONAMENTO":"STAMPA",[]),i=x.useCallback(h=>({STAMPA:["DIGITAL_PRINT","FLEXO_PRINT","ROTOGRAVURE"],CONFEZIONAMENTO:["DOYPACK","PLURI_PIU","MONO_PIU","CONFEZIONAMENTO_TRADIZIONALE","CONFEZIONAMENTO_POLVERI"]})[h]||[],[]),l=x.useCallback((h,m)=>{const y={DIGITAL_PRINT:"DIGI",FLEXO_PRINT:"FLEX",ROTOGRAVURE:"ROTO",DOYPACK:"DOYP",PLURI_PIU:"PLUR",MONO_PIU:"MONO",CONFEZIONAMENTO_TRADIZIONALE:"CONFTRAD",CONFEZIONAMENTO_POLVERI:"CONFPOL"}[h]||"MACH",w=m==="BUSTO_GAROLFO"?"BGF":"ZAN",b=Date.now().toString(36);return`${y}_${w}_${b}`},[]),u=x.useCallback((h,m)=>!(m<0||m>h),[]),c=x.useCallback((h,m)=>!h||h===0?0:Math.round(m*100/h),[]),f=x.useCallback((h,m)=>!h||h===0?0:!m||m===0?h:Math.round(h*(1-m/100)*100)/100,[]);return{calculateProductionMetrics:e,autoDetermineWorkCenter:n,autoDetermineDepartment:a,getValidMachineTypes:i,generateMachineId:l,validateQuantityCompleted:u,calculateCompletionRate:c,calculateTimeRemaining:f}},bu={PHASE:{STAMPA:{v_stampa:{min:0,message:"Printing speed must be greater than 0"},t_setup_stampa:{min:0,message:"Setup time cannot be negative"},costo_h_stampa:{min:0,message:"Hourly cost cannot be negative"}},CONFEZIONAMENTO:{v_conf:{min:0,message:"Packaging speed must be greater than 0"},t_setup_conf:{min:0,message:"Setup time cannot be negative"},costo_h_conf:{min:0,message:"Hourly cost cannot be negative"}}},MACHINE:{min_web_width:{min:0,message:"Minimum web width cannot be negative"},max_web_width:{min:0,message:"Maximum web width cannot be negative"},min_bag_height:{min:0,message:"Minimum bag height cannot be negative"},max_bag_height:{min:0,message:"Maximum bag height cannot be negative"},standard_speed:{min:0,message:"Standard speed cannot be negative"},setup_time_standard:{min:0,message:"Setup time cannot be negative"},changeover_color:{min:0,message:"Color changeover time cannot be negative"},changeover_material:{min:0,message:"Material changeover time cannot be negative"}},ORDER:{bag_height:{min:0,message:"Bag height must be greater than 0"},bag_width:{min:0,message:"Bag width must be greater than 0"},bag_step:{min:0,message:"Bag step must be greater than 0"},quantity:{min:0,message:"Quantity must be greater than 0"},quantity_per_box:{min:0,message:"Quantity per box cannot be negative"},quantity_completed:{min:0,message:"Quantity completed cannot be negative"}}},Q_=(e,n)=>{const a={};return n.forEach(i=>{if(!wh(e[i])){const l=i.replace(/_/g," ").replace(/\b\w/g,u=>u.toUpperCase());a[i]=`${l} is required`}}),a},bh=(e,n)=>{const a={};return Object.entries(n).forEach(([i,l])=>{e[i]!==void 0&&e[i]!==null&&e[i]!==""&&(console.log(`Validating field ${i}:`,{value:e[i],type:typeof e[i],rules:l}),eb(e[i],l.min,l.max)||(console.log(`Validation failed for ${i}:`,e[i]),a[i]=l.message))}),a},Z_=(e,n,a="PHASE")=>{const i=bu[a]?.[n];return i?bh(e,i):{}},J_=(e,n)=>{const a={};return n.forEach(i=>{const{condition:l,errorField:u,message:c}=i;l(e)&&(a[u]=c)}),a},CA=(e,n)=>{const a={};return n.required&&Object.assign(a,Q_(e,n.required)),n.numeric&&Object.assign(a,bh(e,n.numeric)),n.department&&e.department&&Object.assign(a,Z_(e,e.department,n.departmentSchema)),n.logical&&Object.assign(a,J_(e,n.logical)),a},RA={PHASE:{required:["name","department","work_center"],numeric:{numero_persone:{min:1,message:"Number of people must be at least 1"}},departmentSchema:"PHASE",logical:[{condition:e=>e.bag_width&&e.bag_step&&parseFloat(e.bag_width)<parseFloat(e.bag_step),errorField:"bag_width",message:"Bag width cannot be less than bag step"}]},MACHINE:{required:["machine_name","machine_type","department","work_center"],numeric:bu.MACHINE,logical:[{condition:e=>e.min_web_width&&e.max_web_width&&parseFloat(e.min_web_width)>parseFloat(e.max_web_width),errorField:"min_web_width",message:"Minimum web width cannot exceed maximum web width"},{condition:e=>e.min_bag_height&&e.max_bag_height&&parseFloat(e.min_bag_height)>parseFloat(e.max_bag_height),errorField:"min_bag_height",message:"Minimum bag height cannot exceed maximum bag height"}]},ORDER:{required:["odp_number","article_code","production_lot","bag_height","bag_width","bag_step","product_type","quantity","delivery_date"],numeric:bu.ORDER,logical:[{condition:e=>e.bag_width&&e.bag_step&&parseFloat(e.bag_width)<parseFloat(e.bag_step),errorField:"bag_width",message:"Bag width cannot be less than bag step"},{condition:e=>e.quantity&&e.quantity_completed&&parseFloat(e.quantity_completed)>parseFloat(e.quantity),errorField:"quantity_completed",message:"Quantity completed cannot exceed total quantity"},{condition:e=>e.delivery_date&&e.scheduled_start_time&&new Date(e.scheduled_start_time)>new Date(e.delivery_date),errorField:"scheduled_start_time",message:"Production start cannot be after delivery date"}]},OFF_TIME:{required:["startDate","startTime","endDate","endTime"],logical:[{condition:e=>e.startDate&&e.endDate&&new Date(e.startDate)>new Date(e.endDate),errorField:"endDate",message:"End date cannot be before start date"},{condition:e=>e.startDate&&e.endDate&&e.startDate===e.endDate&&e.startTime&&e.endTime&&e.startTime>=e.endTime,errorField:"endTime",message:"End time must be after start time when dates are the same"}]}},wh=e=>typeof e=="string"?e.trim().length>0:Array.isArray(e)?e.length>0:typeof e=="object"&&e!==null?Object.keys(e).length>0:!!e,TA=e=>!e||typeof e!="string"?!1:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),AA=e=>!e||typeof e!="string"?!1:/^[+]?[1-9][\d]{0,15}$/.test(e.replace(/\s/g,"")),OA=e=>{if(!e)return!1;const n=new Date(e);return n instanceof Date&&!isNaN(n)},eb=(e,n=null,a=null)=>{const i=typeof e=="string"?parseFloat(e):e;return!(typeof i!="number"||isNaN(i)||n!==null&&i<n||a!==null&&i>a)},DA=(e,n=null,a=null)=>{const i=typeof e=="string"?parseInt(e,10):e;return!(!Number.isInteger(i)||n!==null&&i<n||a!==null&&i>a)},NA=e=>{if(!e||typeof e!="string")return!1;try{return new URL(e),!0}catch{return!1}},tb=(e,n)=>!e||!n?!1:typeof n=="string"?new RegExp(n).test(e):n instanceof RegExp?n.test(e):!1,nb=(e,n)=>!e||typeof e!="string"?!1:e.length>=n,rb=(e,n)=>!e||typeof e!="string"?!1:e.length<=n,ab=(e,n,a)=>typeof e!="number"||isNaN(e)?!1:e>=n&&e<=a,jA=e=>!e||typeof e!="string"?!1:/^[a-zA-Z0-9\s\-_]{2,100}$/.test(e.trim()),MA=e=>!e||typeof e!="string"?!1:/^[a-zA-Z0-9]{3,20}$/.test(e.trim()),kA=e=>!e||typeof e!="string"?!1:/^[a-zA-Z0-9-]{3,50}$/.test(e.trim()),UA=e=>["ZANICA","BUSTO_GAROLFO"].includes(e),LA=e=>["STAMPA","CONFEZIONAMENTO"].includes(e),PA=e=>["ACTIVE","INACTIVE","MAINTENANCE"].includes(e),$A=e=>["crema","liquido","polveri"].includes(e),FA=e=>["3","4"].includes(e),zA=(e,n)=>{const a={};return Object.keys(n).forEach(i=>{const l=e[i],u=n[i];if(u.required&&!wh(l))a[i]=u.required;else if(l&&u.pattern&&!tb(l,u.pattern))a[i]=u.pattern;else if(l&&u.minLength&&!nb(l,u.minLength))a[i]=u.minLength;else if(l&&u.maxLength&&!rb(l,u.maxLength))a[i]=u.maxLength;else if(l&&u.min!==void 0&&!ab(l,u.min,u.max||1/0))a[i]=u.min;else if(l&&u.custom){const c=u.custom(l,e);c&&(a[i]=c)}}),a},Ur={validateRequiredFields:Q_,validateNumericFields:bh,validateDepartmentFields:Z_,validateLogicalRelations:J_,validateAll:CA,VALIDATION_CONFIGS:RA,VALIDATION_SCHEMAS:bu,isNotEmpty:wh,isValidEmail:TA,isValidPhone:AA,isValidDate:OA,isValidNumber:eb,isValidInteger:DA,isValidUrl:NA,matchesPattern:tb,hasMinLength:nb,hasMaxLength:rb,isInRange:ab,isValidMachineName:jA,isValidOdpNumber:MA,isValidArticleCode:kA,isValidWorkCenter:UA,isValidDepartment:LA,isValidMachineStatus:PA,isValidProductType:$A,isValidSealSides:FA,validateFormData:zA},HA=()=>{const e=x.useCallback(l=>{const u=Ur.validateAll(l,Ur.VALIDATION_CONFIGS.MACHINE);return Object.values(u)},[]),n=x.useCallback((l,u)=>{const c=[];return u.some(h=>h.scheduled_machine_id===l)&&c.push("Cannot delete machine with scheduled tasks. Please unschedule all tasks first."),c},[]),a=x.useCallback(l=>({name:l?.machine_name||"Unknown Machine",type:l?.machine_type||"Unknown Type",department:l?.department||"Unknown Department",workCenter:l?.work_center||"Unknown Work Center",status:l?.status||"UNKNOWN",isActive:l?.status==="ACTIVE"}),[]),i=x.useCallback((l,u)=>{if(l.status!=="ACTIVE")return!1;const c=l.active_shifts||[];if(c.length===0)return!1;const f=u.getHours();return c.some(m=>{switch(m){case"T1":return f>=6&&f<14;case"T2":return f>=14&&f<22;case"T3":return f>=22||f<6;default:return!1}})},[]);return{validateMachine:e,validateMachineDeletion:n,getMachineDisplayInfo:a,isMachineAvailable:i}},IA=()=>{const e=x.useCallback(l=>{const u=Ur.validateAll(l,Ur.VALIDATION_CONFIGS.ORDER);return Object.values(u)},[]),n=x.useCallback((l,u)=>{const c=[];if(!l)return c.push("Please select a production phase"),c;u.department&&l.department!==u.department&&c.push(`Selected phase is for ${l.department} department, but order is for ${u.department}`),u.work_center&&l.work_center!==u.work_center&&c.push(`Selected phase is for ${l.work_center} work center, but order is for ${u.work_center}`);const f=Ur.validateDepartmentFields(l,l.department,"PHASE");return Object.values(f).forEach(h=>c.push(h)),c},[]),a=x.useCallback((l,u,c,f)=>{const h=[];return l?u?!c||!f?(h.push("Start and end times are required"),h):(u.status!=="ACTIVE"&&h.push(`Machine ${u.machine_name} is not active`),l.scheduled_machine_id&&l.scheduled_machine_id!==u.id&&h.push("Order is already scheduled on a different machine"),l.fase||h.push("Order must have a production phase selected"),(!l.quantity||l.quantity<=0)&&h.push("Order must have a valid quantity"),(!l.duration||l.duration<=0)&&h.push("Order must have calculated duration"),h):(h.push("Machine is required"),h):(h.push("Order is required"),h)},[]),i=x.useCallback(l=>{const u=[];return l?(l.quantity_completed>0&&u.push("Cannot delete order that has started production"),l.scheduled_machine_id&&u.push("Cannot delete scheduled order. Please unschedule first."),u):(u.push("Order is required"),u)},[]);return{validateOrder:e,validatePhaseSelection:n,validateOrderScheduling:a,validateOrderDeletion:i}},VA=()=>({validatePhase:a=>{const i=Ur.validateAll(a,Ur.VALIDATION_CONFIGS.PHASE);return Object.values(i)},validateForm:a=>Ur.validateAll(a,Ur.VALIDATION_CONFIGS.PHASE)}),BA=(e="")=>{const{showAlert:n,showConfirmDialog:a}=we(),i=x.useCallback((w,b={})=>{const{showUserAlert:E=!0,alertType:C="error",logError:R=!0,context:A=e,fallbackMessage:M="An unexpected error occurred"}=b,T=El(w,A);if(R&&Ml(T,A),E){const q=T.userMessage||M;n(q,C)}return T},[e,n]),l=x.useCallback(async(w,b={})=>{const{showUserAlert:E=!0,alertType:C="error",context:R=e,fallbackMessage:A="Operation failed",retry:M=!1,maxRetries:T=3}=b;try{return M?await ry(w,T):await w()}catch(q){throw i(q,{showUserAlert:E,alertType:C,context:R,fallbackMessage:A})}},[e,i]),u=x.useCallback((w,b)=>{const E=i(w,{showUserAlert:!1});E.code===ze.VALIDATION_ERROR?E.fieldErrors?Object.entries(E.fieldErrors).forEach(([C,R])=>{b(C,{type:"server",message:R})}):b("root",{type:"server",message:E.userMessage}):b("root",{type:"server",message:E.userMessage})},[i]),c=x.useCallback((w,b,E)=>{const C=i(w,{context:`${b} ${E}`,fallbackMessage:`Failed to ${b} ${E}`});return C.code===ze.VALIDATION_ERROR?n(`Please check the ${E} information and try again.`,"error"):C.code===ze.NOT_FOUND_ERROR?n(`${E} not found. It may have been deleted.`,"error"):C.code===ze.AUTHORIZATION_ERROR&&n(`You don't have permission to ${b} ${E}.`,"error"),C},[i,n]),f=x.useCallback((w,b)=>{const E=i(w,{context:"Network Operation",fallbackMessage:"Network error occurred"});return E.code===ze.NETWORK_ERROR&&b&&a("Network Error","Your connection seems to be unstable. Would you like to retry?",b,"warning"),E},[i,a]),h=x.useCallback(w=>{const b=i(w,{context:"Authentication",fallbackMessage:"Authentication error occurred"});return b.code===ze.AUTHENTICATION_ERROR&&n("Please log in again to continue.","warning"),b},[i,n]),m=x.useCallback((w,b="")=>Ff(w,b||e),[e]),v=x.useCallback(w=>El(w,e).severity||"medium",[e]),y=x.useMemo(()=>ze,[]);return{handleError:i,handleAsync:l,handleFormError:u,handleCrudError:c,handleNetworkError:f,handleAuthError:h,createSafeAsync:m,getErrorSeverity:v,errorTypes:y,withRetry:ry,safeAsync:Ff}};function qA(){const e=we(b=>b.selectedWorkCenter),n={department:ht.MACHINE.DEPARTMENT,machine_type:"",machine_name:"",work_center:e===Ue.BOTH?"":e||ht.MACHINE.WORK_CENTER,min_web_width:ht.MACHINE.MIN_WEB_WIDTH,max_web_width:ht.MACHINE.MAX_WEB_WIDTH,min_bag_height:ht.MACHINE.MIN_BAG_HEIGHT,max_bag_height:ht.MACHINE.MAX_BAG_HEIGHT,standard_speed:"",setup_time_standard:ht.MACHINE.SETUP_TIME_STANDARD,changeover_color:ht.MACHINE.CHANGEOVER_COLOR,changeover_material:ht.MACHINE.CHANGEOVER_MATERIAL,active_shifts:ht.MACHINE.ACTIVE_SHIFTS,status:ht.MACHINE.STATUS},{getValidMachineTypes:a}=W_(),i=we(b=>b.addMachine),{register:l,handleSubmit:u,formState:{errors:c,isSubmitting:f},watch:h,setValue:m,getValues:v}=Uu({defaultValues:n}),y=h("department");x.useEffect(()=>{a(y).includes(v("machine_type"))||m("machine_type","")},[y,a,v,m]);const w=b=>{const{value:E,checked:C}=b.target,R=v("active_shifts")||[];C?m("active_shifts",[...R,E]):m("active_shifts",R.filter(A=>A!==E))};return p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Add Machine"}),p.jsxs("form",{onSubmit:u(i),children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"🏷️ Identificazione"}),p.jsxs("div",{className:"form-grid form-grid--4-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"department",children:"Department *"}),p.jsxs("select",{id:"department",...l("department"),className:c.department?"error":"",children:[p.jsx("option",{value:Dt.PRINTING,children:Dt.PRINTING}),p.jsx("option",{value:Dt.PACKAGING,children:Dt.PACKAGING})]}),c.department&&p.jsx("span",{className:"error-message",children:c.department.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"machine_type",children:"Machine Type *"}),p.jsxs("select",{id:"machine_type",...l("machine_type"),className:c.machine_type?"error":"",children:[p.jsx("option",{value:"",children:"Select machine type"}),a(y).map(b=>p.jsx("option",{value:b,children:b},b))]}),c.machine_type&&p.jsx("span",{className:"error-message",children:c.machine_type.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"machine_name",children:"Machine Name *"}),p.jsx("input",{type:"text",id:"machine_name",...l("machine_name"),placeholder:"Descriptive name",className:c.machine_name?"error":""}),c.machine_name&&p.jsx("span",{className:"error-message",children:c.machine_name.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"work_center",children:"Work Center *"}),e===Ue.BOTH?p.jsxs("select",{...l("work_center",{required:"Work center is required"}),id:"work_center",className:c.work_center?"error":"",children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Ue.ZANICA,children:Ue.ZANICA}),p.jsx("option",{value:Ue.BUSTO_GAROLFO,children:Ue.BUSTO_GAROLFO})]}):p.jsx("input",{type:"text",id:"work_center",value:e||"No work center selected",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),e===Ue.BOTH?c.work_center&&p.jsx("span",{className:"error-message",children:c.work_center.message}):p.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Work center is set based on your login selection"})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"🔧 Capacità Tecniche"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"min_web_width",children:"Min Web Width (mm)"}),p.jsx("input",{type:"number",id:"min_web_width",...l("min_web_width"),min:"0",step:"1",className:c.min_web_width?"error":""}),c.min_web_width&&p.jsx("span",{className:"error-message",children:c.min_web_width.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"max_web_width",children:"Max Web Width (mm) *"}),p.jsx("input",{type:"number",id:"max_web_width",...l("max_web_width"),min:"0",step:"1",className:c.max_web_width?"error":""}),c.max_web_width&&p.jsx("span",{className:"error-message",children:c.max_web_width.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"min_bag_height",children:"Min Bag Height (mm)"}),p.jsx("input",{type:"number",id:"min_bag_height",...l("min_bag_height"),min:"0",step:"1",className:c.min_bag_height?"error":""}),c.min_bag_height&&p.jsx("span",{className:"error-message",children:c.min_bag_height.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"max_bag_height",children:"Max Bag Height (mm) *"}),p.jsx("input",{type:"number",id:"max_bag_height",...l("max_bag_height"),min:"0",step:"1",className:c.max_bag_height?"error":""}),c.max_bag_height&&p.jsx("span",{className:"error-message",children:c.max_bag_height.message})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"⚡ Performance"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"standard_speed",children:"Standard Speed"}),p.jsx("input",{type:"number",id:"standard_speed",...l("standard_speed"),placeholder:"pz/h or mt/h",min:"0",step:"1",className:c.standard_speed?"error":""}),c.standard_speed&&p.jsx("span",{className:"error-message",children:c.standard_speed.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"setup_time_standard",children:"Setup Time Standard (h)"}),p.jsx("input",{type:"number",id:"setup_time_standard",...l("setup_time_standard"),min:"0",step:"0.1",className:c.setup_time_standard?"error":""}),c.setup_time_standard&&p.jsx("span",{className:"error-message",children:c.setup_time_standard.message})]}),y===Dt.PRINTING&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"changeover_color",children:"Changeover Color (h)"}),p.jsx("input",{type:"number",id:"changeover_color",...l("changeover_color"),min:"0",step:"0.1",className:c.changeover_color?"error":""}),c.changeover_color&&p.jsx("span",{className:"error-message",children:c.changeover_color.message})]}),y===Dt.PACKAGING&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"changeover_material",children:"Material Changeover (h)"}),p.jsx("input",{type:"number",id:"changeover_material",...l("changeover_material"),min:"0",step:"0.1",className:c.changeover_material?"error":""}),c.changeover_material&&p.jsx("span",{className:"error-message",children:c.changeover_material.message})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"📅 Disponibilità"}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Active Shifts"}),p.jsxs("div",{className:"checkbox-group",children:[p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",value:ur.T1,checked:v("active_shifts")?.includes(ur.T1),onChange:w})," ",ur.T1]}),p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",value:ur.T2,checked:v("active_shifts")?.includes(ur.T2),onChange:w})," ",ur.T2]}),p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",value:ur.T3,checked:v("active_shifts")?.includes(ur.T3),onChange:w})," ",ur.T3]})]})]})]}),p.jsx("div",{className:"form-actions",style:{marginTop:"20px"},children:p.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Adding Machine...":"Add Machine"})})]})]})}function qe({row:e,column:n,table:a,value:i,isEditing:l,onChange:u,type:c="auto",options:f=[],parseValue:h=null,min:m=null,max:v=null,step:y=null}){const w=l??a?.options?.meta?.editingRowId===e?.id,b=i??e?.original?.[n?.id],E=c==="auto"?R(n?.id):c,C=T=>{const q=T.target.value;let k=q;h?k=h(q):E==="number"?k=parseFloat(q)||0:E==="integer"&&(k=parseInt(q)||0),a?.options?.meta?.setEditedData?a.options.meta.setEditedData(H=>({...H,[n?.id]:k})):u&&u(T)};function R(T){if(!T)return"text";if(T==="status")return"select";if(["quantity","quantity_completed","quantity_per_box","numero_persone","bag_height","bag_width","bag_step","min_web_width","max_web_width","min_bag_height","max_bag_height"].includes(T))return"integer";const k=["setup_time_standard","changeover_color","changeover_material","t_setup_stampa","t_setup_conf"],H=["costo_h_stampa","costo_h_conf"],F=["standard_speed","v_stampa","v_conf"];return k.includes(T)||H.includes(T)||F.includes(T)?"number":"text"}function A(T){return T==="status"?[{value:$n.ACTIVE,label:$n.ACTIVE},{value:$n.INACTIVE,label:$n.INACTIVE},{value:$n.MAINTENANCE,label:$n.MAINTENANCE}]:T==="department"?[{value:Dt.PRINTING,label:Dt.PRINTING},{value:Dt.PACKAGING,label:Dt.PACKAGING}]:T==="work_center"?[{value:Ue.ZANICA,label:Ue.ZANICA},{value:Ue.BUSTO_GAROLFO,label:Ue.BUSTO_GAROLFO}]:T==="product_type"?[{value:Yi.CREMA,label:"Crema"},{value:Yi.LIQUIDO,label:"Liquido"},{value:Yi.POLVERI,label:"Polveri"}]:T==="seal_sides"?[{value:Sl.THREE,label:"3 sides"},{value:Sl.FOUR,label:"4 sides"}]:f}if(w)switch(E){case"select":{const T=A(n?.id);return p.jsx("select",{defaultValue:b,onChange:C,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"},children:T.map(q=>p.jsx("option",{value:q.value,children:q.label},q.value))})}case"number":{const T=nl.DECIMAL_PRECISION.TWO_DECIMAL.includes(n?.id)?nl.FIELD_STEPS.COST:(nl.DECIMAL_PRECISION.ONE_DECIMAL.includes(n?.id),nl.FIELD_STEPS.TIME);return p.jsx("input",{type:"number",defaultValue:b,onChange:C,min:m,max:v,step:y||T,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}})}case"integer":return p.jsx("input",{type:"number",defaultValue:b,onChange:C,min:m||0,max:v,step:1,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}});default:return p.jsx("input",{type:"text",defaultValue:b,onChange:C,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}})}const M=b??"";return E==="number"||E==="integer"?p.jsx("span",{children:M}):p.jsx("span",{children:M})}function GA(){const e=we(C=>C.machines),n=we(C=>C.selectedWorkCenter),a=we(C=>C.isLoading),i=we(C=>C.isInitialized),l=we(C=>C.init),u=we(C=>C.updateMachine),c=we(C=>C.removeMachine),f=we(C=>C.showAlert),h=we(C=>C.showConfirmDialog),m=x.useMemo(()=>n?n===Ue.BOTH?e:e.filter(C=>C.work_center===n):[],[e,n]),{validateMachine:v}=HA(),{handleAsync:y}=BA("MachineryPage");x.useEffect(()=>{i||l()},[l,i]);const w=x.useMemo(()=>[{header:"Machine ID",accessorKey:"id"},{header:"Machine Type",accessorKey:"machine_type"},{header:"Machine Name",accessorKey:"machine_name",cell:qe},{header:"Work Center",accessorKey:"work_center"},{header:"Department",accessorKey:"department"},{header:"Status",accessorKey:"status",cell:qe},{header:"Min Web (mm)",accessorKey:"min_web_width",cell:qe},{header:"Max Web (mm)",accessorKey:"max_web_width",cell:qe},{header:"Min Bag (mm)",accessorKey:"min_bag_height",cell:qe},{header:"Max Bag (mm)",accessorKey:"max_bag_height",cell:qe},{header:"Std Speed",accessorKey:"standard_speed",cell:qe},{header:"Setup (h)",accessorKey:"setup_time_standard",cell:qe},{header:"Color Change (h)",accessorKey:"changeover_color",cell:qe},{header:"Material Change (h)",accessorKey:"changeover_material",cell:qe},{header:"Active Shifts",accessorKey:"active_shifts",cell:C=>Array.isArray(C.getValue())?C.getValue().join(", "):""},{header:"Created At",accessorKey:"created_at",cell:C=>new Date(C.getValue()).toLocaleDateString()},{header:"Updated At",accessorKey:"updated_at",cell:C=>new Date(C.getValue()).toLocaleDateString()},{header:"Calendar",accessorKey:"id",cell:C=>p.jsx(Fn,{to:`/machinery/${C.getValue()}/calendar`,className:"btn btn-primary btn-sm",children:"View Calendar"})}],[]),b=async C=>{const R=v(C);if(R.length>0){f(`Validation errors:
${R.join(`
`)}`,"error");return}await y(()=>u(C.id,C),{context:"Update Machine",fallbackMessage:"Failed to update machine"})},E=async C=>{h("Delete Machine",`Are you sure you want to delete "${C.machine_name}"? This action cannot be undone.`,async()=>{await y(()=>c(C.id),{context:"Delete Machine",fallbackMessage:"Failed to delete machine"})},"danger")};return a?p.jsx("div",{children:"Loading machinery data..."}):n?p.jsxs(p.Fragment,{children:[p.jsx(qA,{}),p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Machinery Catalog"}),p.jsx(gh,{columns:w,data:m,onSaveRow:b,onDeleteRow:E})]})]}):p.jsx("div",{className:"error",children:"Please select a work center to view machinery data."})}function YA({currentDate:e,currentView:n,onDateChange:a,onViewChange:i}){const l=()=>{a(new Date)},u=()=>{let h;n==="Month"?(h=new Date(e),h.setMonth(h.getMonth()-1)):n==="Week"?h=Cl(e,-7):n==="Year"&&(h=new Date(e),h.setFullYear(h.getFullYear()-1)),a(h)},c=()=>{let h;n==="Month"?(h=new Date(e),h.setMonth(h.getMonth()+1)):n==="Week"?h=Cl(e,7):n==="Year"&&(h=new Date(e),h.setFullYear(h.getFullYear()+1)),a(h)},f=()=>{if(n==="Month")return e.toLocaleDateString("en-US",{month:"long",year:"numeric"});if(n==="Week"){const h=zf(e),m=M_(e);return`${h.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${m.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}else if(n==="Year")return e.getFullYear().toString();return""};return p.jsxs("div",{className:"calendar-controls-container",children:[p.jsxs("div",{className:"calendar-navigation",children:[p.jsx("button",{className:"btn btn-secondary",onClick:u,"aria-label":"Previous",children:"← Previous"}),p.jsx("button",{className:"btn btn-primary",onClick:l,children:"Today"}),p.jsx("button",{className:"btn btn-secondary",onClick:c,"aria-label":"Next",children:"Next →"})]}),p.jsxs("div",{className:"calendar-view-selector",children:[p.jsx("h3",{children:f()}),p.jsxs("select",{value:n,onChange:h=>i(h.target.value),className:"form-select",children:[p.jsx("option",{value:"Month",children:"Month"}),p.jsx("option",{value:"Week",children:"Week"}),p.jsx("option",{value:"Year",children:"Year"})]})]})]})}function KA({machineId:e,currentDate:n,onSuccess:a}){const[i,l]=x.useState({}),u=we(F=>F.setMachineUnavailability),c=we(F=>F.showAlert),f=F=>{const B={};if(F.startDate&&F.endDate){const ee=new Date(F.startDate);new Date(F.endDate)<ee&&(B.endDate=ey.END_DATE_BEFORE_START),F.startDate===F.endDate&&F.startTime&&F.endTime&&F.startTime>=F.endTime&&(B.endTime=ey.END_TIME_BEFORE_START)}return B},h=async F=>{l({}),A(["startDate","startTime","endDate","endTime"]);const B=f(F);if(Object.keys(B).length>0){l(B),Object.entries(B).forEach(([ee,le])=>{R(ee,{type:"validation",message:le})}),c("Please fix the validation errors before submitting.","warning");return}try{await u(e,F.startDate,F.endDate,F.startTime,F.endTime),c("Machine unavailability set successfully!","success"),a&&a(),C()}catch(ee){throw c(`Failed to set machine unavailability: ${ee.message}`,"error"),ee}},{register:m,handleSubmit:v,formState:{errors:y,isSubmitting:w},setValue:b,watch:E,reset:C,setError:R,clearErrors:A}=Uu({defaultValues:{startDate:"",startTime:"",endDate:"",endTime:""}}),M=E("startDate"),T=E("endDate"),q=E("startTime"),k=E("endTime");x.useEffect(()=>{const F=new Date,B=Cl(F,1);b("startDate",At(F)),b("endDate",At(B)),b("startTime",ht.OFF_TIME.START_TIME),b("endTime",ht.OFF_TIME.END_TIME)},[n]),x.useEffect(()=>{M&&T&&q&&k&&(A(["startDate","startTime","endDate","endTime"]),l({}))},[M,T,q,k]);const H=F=>{const B=y[F]||i[F];return B?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:B.message||B}):null};return p.jsxs("div",{className:"off-time-section",children:[p.jsx("h3",{children:"Set Off-Time Period"}),p.jsxs("form",{onSubmit:v(h),className:"off-time-form",children:[p.jsxs("div",{className:"form-grid form-grid--4-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"startDate",children:"Start Date"}),p.jsx("input",{type:"date",id:"startDate",...m("startDate"),className:`date-input ${y.startDate||i.startDate?"error":""}`}),H("startDate")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"startTime",children:"Start Time"}),p.jsx("input",{type:"time",id:"startTime",...m("startTime"),className:`time-input ${y.startTime||i.startTime?"error":""}`}),H("startTime")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"endDate",children:"End Date"}),p.jsx("input",{type:"date",id:"endDate",...m("endDate"),className:`date-input ${y.endDate||i.endDate?"error":""}`}),H("endDate")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"endTime",children:"End Time"}),p.jsx("input",{type:"time",id:"endTime",...m("endTime"),className:`time-input ${y.endTime||i.endTime?"error":""}`}),H("endTime")]})]}),p.jsx("div",{className:"form-actions",children:p.jsx("button",{type:"submit",className:"set-off-time-btn",disabled:w,children:w?"Setting...":"Set Off-Time"})})]})]})}function XA({machineId:e,currentDate:n,currentView:a,refreshTrigger:i}){const[l,u]=x.useState({}),[c,f]=x.useState(!1),h=we(k=>k.machines),m=we(k=>k.odpOrders),v=we(k=>k.machineAvailability),y=we(k=>k.getMachineAvailability),w=we(k=>k.loadMachineAvailabilityForDateRange),b=we(k=>k.toggleMachineHourAvailability),E=we(k=>k.showAlert),C=h.find(k=>k.id===e);x.useEffect(()=>{if(!e||!v)return;(()=>{const H={};if(a==="Month"){const F=n.getFullYear(),B=n.getMonth(),ee=new Date(F,B,1),le=new Date(F,B+1,0),oe=new Date(ee);for(;oe<=le;){const ae=At(oe),re=v[ae];if(re&&Array.isArray(re)){const ve=re.find(ce=>ce.machine_id===e);ve&&ve.unavailable_hours&&(H[ae]=ve.unavailable_hours)}oe.setDate(oe.getDate()+1)}}else if(a==="Week"){const F=zf(n);for(let B=0;B<7;B++){const ee=new Date(F);ee.setDate(F.getDate()+B);const le=At(ee),oe=v[le];if(oe&&Array.isArray(oe)){const ae=oe.find(re=>re.machine_id===e);ae&&ae.unavailable_hours&&(H[le]=ae.unavailable_hours)}}}else{const F=At(n),B=v[F];if(B&&Array.isArray(B)){const ee=B.find(le=>le.machine_id===e);ee&&ee.unavailable_hours&&(H[F]=ee.unavailable_hours)}}console.log("CalendarGrid: Syncing data from store:",H),u(H)})()},[e,n,a,v]),x.useEffect(()=>{(async()=>{if(e){console.log(`CalendarGrid: loadData called with currentView: ${a}, currentDate: ${n}`),f(!0);try{if(a==="Month"){const H=n.getFullYear(),F=n.getMonth(),B=new Date(H,F,1),ee=new Date(H,F+1,0),le=At(B),oe=At(ee);console.log(`CalendarGrid: Loading month data for ${H}-${F+1}`,{firstDay:B,lastDay:ee,firstDayStr:le,lastDayStr:oe});const ae=await w(e,le,oe);if(console.log("CalendarGrid: Month data received:",ae),ae&&Array.isArray(ae)){const re={};ae.forEach(ce=>{if(ce.date&&ce.unavailable_hours){const $=new Date(ce.date),Z=At($);re[Z]=ce.unavailable_hours,console.log(`CalendarGrid: Organized data for ${Z}:`,ce.unavailable_hours)}});const ve={...re};v&&Object.keys(v).forEach(ce=>{const $=v[ce];if($&&Array.isArray($)){const Z=$.find(de=>de.machine_id===e);Z&&Z.unavailable_hours&&(ve[ce]=Z.unavailable_hours,console.log(`CalendarGrid: Merged store data for ${ce}:`,Z.unavailable_hours))}}),console.log("CalendarGrid: Final merged data:",ve),u(ve)}}else if(a==="Week"){const H=zf(n),F=M_(n),B=At(H),ee=At(F);console.log(`CalendarGrid: Loading week data from ${B} to ${ee}`);const le=await w(e,B,ee);if(console.log("CalendarGrid: Week data received:",le),le&&Array.isArray(le)){const oe={};le.forEach(re=>{if(re.date&&re.unavailable_hours){const ve=new Date(re.date),ce=At(ve);oe[ce]=re.unavailable_hours,console.log(`CalendarGrid: Organized week data for ${ce}:`,re.unavailable_hours)}});const ae={...oe};v&&Object.keys(v).forEach(re=>{const ve=v[re];if(ve&&Array.isArray(ve)){const ce=ve.find($=>$.machine_id===e);ce&&ce.unavailable_hours&&(ae[re]=ce.unavailable_hours,console.log(`CalendarGrid: Merged store data for week ${re}:`,ce.unavailable_hours))}}),console.log("CalendarGrid: Final merged week data:",ae),u(ae)}}else{const H=At(n),F=await y(e,H);if(F&&Array.isArray(F)){let B=F;if(v&&v[H]){const ee=v[H];if(Array.isArray(ee)){const le=ee.find(oe=>oe.machine_id===e);le&&le.unavailable_hours&&(B=le.unavailable_hours,console.log(`CalendarGrid: Using store data for day view ${H}:`,B))}}u(ee=>({...ee,[H]:B}))}}}catch(H){console.error("Error loading availability data:",H)}finally{f(!1)}}})()},[e,n,a,i,v,y,w]);const R=(k,H)=>{if(!C)return!1;const F=m.filter(B=>B.status==="SCHEDULED"&&B.scheduled_machine_id===C.id);return H<3&&F.length>0&&(console.log(`CalendarGrid: Checking scheduled tasks for ${k} hour ${H}`),console.log(`CalendarGrid: Found ${F.length} scheduled tasks`),F.forEach(B=>{console.log(`CalendarGrid: Task ${B.odp_number}: ${B.scheduled_start_time} to ${B.scheduled_end_time}`)})),F.some(B=>rT(B,k,H))},A=async(k,H)=>{if(R(k,H)){E("Cannot mark time slot as unavailable - it has scheduled tasks","error");return}try{if(!C){console.error("Machine not found:",e);return}console.log(`Toggling hour ${H} for ${k} on machine ${C.id}`),await b(C.id,k,H)}catch(F){console.error("Error toggling time slot:",F)}},M=()=>{const k=n.getFullYear(),H=n.getMonth(),F=new Date(k,H,1),B=new Date(k,H+1,0),ee=new Date(F);ee.setDate(ee.getDate()-F.getDay());const le=[],oe=new Date(ee);for(;oe<=B||le.length<42;)le.push(new Date(oe)),oe.setDate(oe.getDate()+1);const ae=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return p.jsxs("div",{className:"calendar-month-grid",children:[p.jsx("div",{className:"calendar-week-header",children:ae.map(re=>p.jsx("div",{className:"week-day-header",children:re},re))}),p.jsx("div",{className:"calendar-days-grid",children:le.map((re,ve)=>{const ce=At(re),$=l[ce]||[],Z=re.getMonth()===H,de=re.toDateString()===new Date().toDateString(),Ee=Array.from({length:24},(K,Y)=>Y).some(K=>R(ce,K));let N="calendar-day";return Z||(N+=" other-month"),de&&(N+=" today"),$.length>0&&(N+=$.length===24?" unavailable":" partially-unavailable"),Ee&&(N+=" has-scheduled-tasks"),p.jsxs("div",{className:N,children:[p.jsx("span",{className:"day-number",children:re.getDate()}),$.length>0&&p.jsx("div",{className:"availability-indicator",children:$.length===24?"All Day":`${$.length}h`}),Ee&&p.jsx("div",{className:"scheduled-tasks-indicator",children:"📋"})]},ce)})})]})},T=()=>{const k=new Date(n);k.setDate(n.getDate()-n.getDay());const H=[];for(let B=0;B<7;B++){const ee=new Date(k);ee.setDate(k.getDate()+B),H.push(ee)}const F=Array.from({length:24},(B,ee)=>ee);return p.jsxs("div",{className:"calendar-week-grid",children:[p.jsxs("div",{className:"time-column-header",children:[p.jsx("div",{className:"time-header-cell",children:"Time"}),H.map(B=>p.jsx("div",{className:"day-header-cell",children:B.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},B.toISOString()))]}),F.map(B=>p.jsxs("div",{className:"time-row",children:[p.jsxs("div",{className:"time-label",children:[B.toString().padStart(2,"0"),":00"]}),H.map(ee=>{const le=At(ee),oe=l[le]||[],ae=B.toString(),re=oe.includes(ae),ve=R(le,B);B<3&&H.indexOf(ee)<3&&console.log(`CalendarGrid: Day ${ee.toDateString()} -> dateStr: ${le}, hour: ${B}, hasScheduled: ${ve}`);let ce="time-slot";return re&&(ce+=" unavailable"),ve&&(ce+=" has-scheduled-task"),p.jsx("div",{className:ce,onClick:()=>A(le,B),children:p.jsx("div",{className:"time-slot-content",children:re?"❌":ve?"📋":"✓"})},`${le}-${B}`)})]},B))]})},q=()=>{const k=n.getFullYear(),H=Array.from({length:12},(F,B)=>B);return p.jsx("div",{className:"calendar-year-grid",children:H.map(F=>{const ee=new Date(k,F,1).toLocaleDateString("en-US",{month:"short"}),le=new Date(k,F+1,0).getDate(),oe=new Date(k,F,1).getDay(),ae=[];for(let re=0;re<oe;re++)ae.push(null);for(let re=1;re<=le;re++)ae.push(re);return p.jsxs("div",{className:"month-mini-calendar",children:[p.jsx("h4",{children:ee}),p.jsxs("div",{className:"mini-month-grid",children:[["S","M","T","W","T","F","S"].map(re=>p.jsx("div",{className:"mini-day-header",children:re},re)),ae.map((re,ve)=>{if(re===null)return p.jsx("div",{className:"mini-day empty"},`empty-${F}-${ve}`);const ce=At(new Date(k,F,re)),$=l[ce]||[],Z=$.length>0;return p.jsx("div",{className:`mini-day ${Z?"unavailable":""}`,title:Z?`${$.length} unavailable hours`:"Available",children:re},ce)})]})]},F)})})};return c?p.jsx("div",{className:"loading",children:"Loading calendar data..."}):p.jsxs("div",{className:"calendar-grid-container",children:[a==="Month"&&M(),a==="Week"&&T(),a==="Year"&&q()]})}function WA(){const{machineId:e}=wS(),[n,a]=x.useState(new Date),[i,l]=x.useState("Month"),[u,c]=x.useState(0),f=we(E=>E.machines.find(C=>C.id===e)),h=we(E=>E.isLoading),m=we(E=>E.isInitialized),v=we(E=>E.init);if(x.useEffect(()=>{m||v()},[v,m]),h||!m)return p.jsx("div",{className:"loading",children:"Loading machine calendar..."});if(!f)return p.jsx("div",{className:"error",children:"Machine not found"});const y=E=>{a(E)},w=E=>{l(E)},b=()=>{c(E=>E+1)};return p.jsx("div",{className:"page-container",children:p.jsxs("div",{className:"content-section",children:[p.jsxs("div",{className:"calendar-header",children:[p.jsx("h1",{children:"Machine Availability Calendar"}),p.jsx("h2",{children:f.machine_name})]}),p.jsx(YA,{currentDate:n,currentView:i,onDateChange:y,onViewChange:w}),p.jsx(KA,{machineId:f.id,currentDate:n,onSuccess:b}),p.jsx(XA,{machineId:f.id,currentDate:n,currentView:i,refreshTrigger:u})]})})}function QA(){const e=we(y=>y.selectedWorkCenter),n={name:"",department:ht.PHASE.DEPARTMENT,numero_persone:ht.PHASE.NUMERO_PERSONE,work_center:e===Ue.BOTH?"":e||ht.PHASE.WORK_CENTER,v_stampa:ht.PHASE.V_STAMPA,t_setup_stampa:ht.PHASE.T_SETUP_STAMPA,costo_h_stampa:ht.PHASE.COSTO_H_STAMPA,v_conf:ht.PHASE.V_CONF,t_setup_conf:ht.PHASE.T_SETUP_CONF,costo_h_conf:ht.PHASE.COSTO_H_CONF,contenuto_fase:""},a=we(y=>y.addPhase),{register:i,handleSubmit:l,formState:{errors:u,isSubmitting:c},watch:f,setValue:h}=Uu({defaultValues:n}),m=f("department");x.useEffect(()=>{m===Dt.PRINTING&&(h("v_conf",0),h("t_setup_conf",0),h("costo_h_conf",0))},[m,h]);const v=y=>u[y]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:u[y].message}):null;return p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Production Phases"}),p.jsxs("form",{onSubmit:l(a),children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"➕ Add New Phase"}),p.jsxs("div",{className:"form-grid form-grid--4-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"name",children:"Phase Name *"}),p.jsx("input",{type:"text",id:"name",...i("name"),placeholder:"e.g., High-Speed Printing",className:u.name?"error":""}),v("name")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"department",children:"Phase Type *"}),p.jsxs("select",{id:"department",...i("department"),className:u.department?"error":"",children:[p.jsx("option",{value:Dt.PRINTING,children:Dt.PRINTING}),p.jsx("option",{value:Dt.PACKAGING,children:Dt.PACKAGING})]}),v("department")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"numero_persone",children:"Number of People Required *"}),p.jsx("input",{type:"number",id:"numero_persone",...i("numero_persone"),min:"1",step:"1",className:u.numero_persone?"error":""}),v("numero_persone")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"work_center",children:"Work Center *"}),e===Ue.BOTH?p.jsxs("select",{...i("work_center",{required:"Work center is required"}),id:"work_center",className:u.work_center?"error":"",children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Ue.ZANICA,children:Ue.ZANICA}),p.jsx("option",{value:Ue.BUSTO_GAROLFO,children:Ue.BUSTO_GAROLFO})]}):p.jsx("input",{type:"text",id:"work_center",value:e||"No work center selected",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),e===Ue.BOTH?u.work_center&&p.jsx("span",{className:"error-message",children:u.work_center.message}):p.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Work center is set based on your login selection"})]})]})]}),m===Dt.PRINTING&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"🖨️ Printing Parameters"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_stampa",children:"Printing Speed (mt/h) *"}),p.jsx("input",{type:"number",id:"v_stampa",...i("v_stampa"),min:"0",step:"1",className:u.v_stampa?"error":""}),v("v_stampa")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_stampa",children:"Setup Time (hours)"}),p.jsx("input",{type:"number",id:"t_setup_stampa",...i("t_setup_stampa"),min:"0",step:"0.1",className:u.t_setup_stampa?"error":""}),v("t_setup_stampa")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_stampa",children:"Hourly Cost (€/h)"}),p.jsx("input",{type:"number",id:"costo_h_stampa",...i("costo_h_stampa"),min:"0",step:"0.01",className:u.costo_h_stampa?"error":""}),v("costo_h_stampa")]})]})]}),m===Dt.PACKAGING&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"📦 Packaging Parameters"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_conf",children:"Packaging Speed (pz/h) *"}),p.jsx("input",{type:"number",id:"v_conf",...i("v_conf"),min:"0",step:"1",className:u.v_conf?"error":""}),v("v_conf")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_conf",children:"Setup Time (hours)"}),p.jsx("input",{type:"number",id:"t_setup_conf",...i("t_setup_conf"),min:"0",step:"0.1",className:u.t_setup_conf?"error":""}),v("t_setup_conf")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_conf",children:"Hourly Cost (€/h)"}),p.jsx("input",{type:"number",id:"costo_h_conf",...i("costo_h_conf"),min:"0",step:"0.01",className:u.costo_h_conf?"error":""}),v("costo_h_conf")]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"contenuto_fase",children:"Phase Content Description"}),p.jsx("textarea",{id:"contenuto_fase",...i("contenuto_fase"),rows:"3",placeholder:"Describe the phase content and requirements..."})]})]}),p.jsx("div",{className:"form-actions",style:{marginTop:"20px"},children:p.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?"Adding Phase...":"Add Phase"})})]})]})}function ZA(){const[e,n]=x.useState(null),a=we(R=>R.phases),i=we(R=>R.selectedWorkCenter),l=we(R=>R.isLoading),u=we(R=>R.isInitialized),c=we(R=>R.init),f=we(R=>R.updatePhase),h=we(R=>R.removePhase),m=we(R=>R.showAlert),v=we(R=>R.showConfirmDialog),y=x.useMemo(()=>i?i===Ue.BOTH?a:a.filter(R=>R.work_center===i):[],[a,i]),{validatePhase:w}=VA();x.useEffect(()=>{u||c().catch(R=>{n("Failed to load phases data"),console.error("Error loading phases:",R)})},[c,u]);const b=x.useMemo(()=>[{header:"ID",accessorKey:"id"},{header:"Phase Name",accessorKey:"name",cell:qe},{header:"Department",accessorKey:"department",cell:qe},{header:"Work Center",accessorKey:"work_center",cell:qe},{header:"Print Speed (mt/h)",accessorKey:"v_stampa",cell:qe},{header:"Print Setup (h)",accessorKey:"t_setup_stampa",cell:qe},{header:"Print Cost (€/h)",accessorKey:"costo_h_stampa",cell:qe},{header:"Package Speed (pz/h)",accessorKey:"v_conf",cell:qe},{header:"Package Setup (h)",accessorKey:"t_setup_conf",cell:qe},{header:"Package Cost (€/h)",accessorKey:"costo_h_conf",cell:qe},{header:"# People",accessorKey:"numero_persone",cell:qe},{header:"Created At",accessorKey:"created_at",cell:R=>new Date(R.getValue()).toLocaleDateString()}],[]),E=async R=>{try{const A=w(R);if(A.length>0){m(`Validation errors:
${A.join(`
`)}`,"error");return}await f(R.id,R)}catch(A){console.error("Error updating phase:",A)}},C=async R=>{v("Delete Phase",`Are you sure you want to delete "${R.name}"? This action cannot be undone.`,async()=>{try{await h(R.id)}catch(A){console.error("Error deleting phase:",A)}},"danger")};return l?p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"loading",children:"Loading phases data..."})}):i?e?p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"error-message",style:{color:"red",textAlign:"center",padding:"20px"},children:e})}):p.jsxs(p.Fragment,{children:[p.jsx(QA,{}),p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Production Phases"}),p.jsx(gh,{columns:b,data:y,onSaveRow:E,onDeleteRow:C})]})]}):p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"error",children:"Please select a work center to view phases data."})})}function JA({onSuccess:e}){const n=we(Y=>Y.selectedWorkCenter),a={odp_number:"",article_code:"",production_lot:"",work_center:n===Ue.BOTH?"":n||"",nome_cliente:"",description:"",delivery_date:"",bag_height:"",bag_width:"",bag_step:"",seal_sides:ht.ORDER.SEAL_SIDES,product_type:"",quantity:"",quantity_per_box:"",quantity_completed:ht.ORDER.QUANTITY_COMPLETED,internal_customer_code:"",external_customer_code:"",customer_order_ref:"",department:"",fase:""},[i,l]=x.useState(null),[u,c]=x.useState({}),[f,h]=x.useState(null),[m,v]=x.useState([]),[y,w]=x.useState(""),[b,E]=x.useState(!1),{calculateProductionMetrics:C,autoDetermineWorkCenter:R,autoDetermineDepartment:A}=W_(),M=we(Y=>Y.phases),T=we(Y=>Y.addOdpOrder),q=we(Y=>Y.showAlert),k=async Y=>{if(console.log("Form submit triggered"),console.log("Checking calculation results..."),!f){console.log("No calculation results available"),q("Please calculate production metrics before adding to the backlog.","warning");return}console.log("Submitting form with data:",{data:Y,calculationResults:f});try{const Q={...Y,duration:f.totals.duration,cost:f.totals.cost,status:"NOT SCHEDULED"};console.log("Calling addOdpOrder with:",Q),await T(Q),console.log("Order added successfully"),e&&e(),Object.keys(a).forEach(fe=>oe(fe,a[fe])),w(""),l(null),c({}),h(null)}catch(Q){throw console.error("Error adding order:",Q),Q}},{register:H,handleSubmit:F,formState:{errors:B,isSubmitting:ee},watch:le,setValue:oe,getValues:ae,reset:re,clearErrors:ve}=Uu({defaultValues:a}),ce=le("article_code"),$=le("department"),Z=le("work_center");x.useEffect(()=>{if(ce){const Y=A(ce),Q=R(ce);oe("department",Y),n===Ue.BOTH&&oe("work_center",Q),oe("fase",""),w(""),l(null),c({}),h(null)}},[ce,A,R,oe,n]),x.useEffect(()=>{if($||Z){const Q=M.filter(fe=>(!$||fe.department===$)&&(!Z||fe.work_center===Z)).filter(fe=>fe.name.toLowerCase().includes(y.toLowerCase()));v(Q)}else v([])},[y,$,Z,M]);const de=(Y,Q)=>{c(fe=>({...fe,[Y]:Q}))},Ee=Y=>{oe("fase",Y.id),l(Y),w(Y.name),E(!1),h(null),ve("phase"),c({v_stampa:Y.v_stampa||"",t_setup_stampa:Y.t_setup_stampa||"",costo_h_stampa:Y.costo_h_stampa||"",v_conf:Y.v_conf||"",t_setup_conf:Y.t_setup_conf||"",costo_h_conf:Y.costo_h_conf||""})},N=()=>{if(console.log("Calculate button clicked"),console.log("Selected phase:",i),console.log("Form data:",ae()),!i||!ae("quantity")||!ae("bag_step")){console.log("Validation failed:",{hasPhase:!!i,quantity:!!ae("quantity"),bagStep:!!ae("bag_step")}),q("Please select a phase and enter Quantity and Bag Step to calculate.","warning");return}const Y={...i,...u};console.log("Phase for calculation:",Y);const Q=C(Y,ae("quantity"),ae("bag_step"));console.log("Calculation results:",Q),h(Q)},K=Y=>B[Y]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:B[Y].message}):null;return p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Create ODP"}),p.jsxs("form",{onSubmit:F(k),children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"🏷️ Identificazione"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"odp_number",children:"ODP Number *"}),p.jsx("input",{type:"text",id:"odp_number",...H("odp_number"),placeholder:"ODP Number",className:B.odp_number?"error":""}),K("odp_number")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"article_code",children:"Article Code *"}),p.jsx("input",{type:"text",id:"article_code",...H("article_code"),placeholder:"Article Code",className:B.article_code?"error":""}),K("article_code")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"production_lot",children:"External Article Code *"}),p.jsx("input",{type:"text",id:"production_lot",...H("production_lot"),placeholder:"External Article Code",className:B.production_lot?"error":""}),K("production_lot")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"work_center",children:"Work Center"}),n===Ue.BOTH?p.jsxs("select",{...H("work_center",{required:"Work center is required"}),id:"work_center",className:B.work_center?"error":"",children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Ue.ZANICA,children:Ue.ZANICA}),p.jsx("option",{value:Ue.BUSTO_GAROLFO,children:Ue.BUSTO_GAROLFO})]}):p.jsx("input",{type:"text",id:"work_center",value:n||"No work center selected",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),n===Ue.BOTH?B.work_center&&p.jsx("span",{className:"error-message",children:B.work_center.message}):p.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Work center is set based on your login selection"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"nome_cliente",children:"Customer Name"}),p.jsx("input",{type:"text",id:"nome_cliente",...H("nome_cliente"),placeholder:"Customer Name"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"description",children:"Description"}),p.jsx("textarea",{id:"description",...H("description"),placeholder:"Description",rows:"2"})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"🔧 Specifiche Tecniche"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"bag_height",children:"Bag Height (mm) *"}),p.jsx("input",{type:"number",id:"bag_height",...H("bag_height"),placeholder:"Bag Height",min:"0",step:"1",className:B.bag_height?"error":""}),K("bag_height")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"bag_width",children:"Bag Width (mm) *"}),p.jsx("input",{type:"number",id:"bag_width",...H("bag_width"),placeholder:"Bag Width",min:"0",step:"1",className:B.bag_width?"error":""}),K("bag_width")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"bag_step",children:"Bag Step (mm) *"}),p.jsx("input",{type:"number",id:"bag_step",...H("bag_step"),placeholder:"Bag Step",min:"0",step:"1",className:B.bag_step?"error":""}),K("bag_step")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"seal_sides",children:"Seal Sides"}),p.jsxs("select",{id:"seal_sides",...H("seal_sides"),children:[p.jsx("option",{value:Sl.THREE,children:"3 sides"}),p.jsx("option",{value:Sl.FOUR,children:"4 sides"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"product_type",children:"Product Type *"}),p.jsxs("select",{id:"product_type",...H("product_type"),className:B.product_type?"error":"",children:[p.jsx("option",{value:"",children:"Select product type"}),p.jsx("option",{value:Yi.CREMA,children:"Crema"}),p.jsx("option",{value:Yi.LIQUIDO,children:"Liquido"}),p.jsx("option",{value:Yi.POLVERI,children:"Polveri"})]}),K("product_type")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity",children:"Quantity *"}),p.jsx("input",{type:"number",id:"quantity",...H("quantity"),placeholder:"Quantity",min:"0",step:"1",className:B.quantity?"error":""}),K("quantity")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity_per_box",children:"Qty per Box"}),p.jsx("input",{type:"number",id:"quantity_per_box",...H("quantity_per_box"),placeholder:"Qty per Box",min:"0",step:"1"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity_completed",children:"Qty Completed"}),p.jsx("input",{type:"number",id:"quantity_completed",...H("quantity_completed"),placeholder:"Qty Completed",min:"0",step:"1",className:B.quantity_completed?"error":""}),K("quantity_completed")]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"💰 Dati Commerciali"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"internal_customer_code",children:"FLEXI Lot"}),p.jsx("input",{type:"text",id:"internal_customer_code",...H("internal_customer_code"),placeholder:"FLEXI Lot"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"external_customer_code",children:"Customer Lot"}),p.jsx("input",{type:"text",id:"external_customer_code",...H("external_customer_code"),placeholder:"Customer Lot"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"customer_order_ref",children:"Customer Ref"}),p.jsx("input",{type:"text",id:"customer_order_ref",...H("customer_order_ref"),placeholder:"Customer Reference"})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"⚙️ Dati Lavorazione & Pianificazione"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"department",children:"Department"}),p.jsx("input",{type:"text",id:"department",...H("department"),placeholder:"Department",readOnly:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"phase_search",children:"Search Production Phase *"}),p.jsxs("div",{className:"searchable-dropdown",children:[p.jsx("input",{type:"text",id:"phase_search",value:y,onChange:Y=>w(Y.target.value),onFocus:()=>E(!0),onBlur:()=>setTimeout(()=>E(!1),150),placeholder:"Search Production Phase",className:B.phase?"error":""}),K("phase"),b&&m.length>0&&p.jsx("div",{className:"dropdown-options",children:m.map(Y=>p.jsxs("div",{className:"dropdown-option",onMouseDown:()=>Ee(Y),children:[p.jsx("span",{className:"phase-name",children:Y.name}),p.jsx("span",{className:"phase-description",children:Y.contenuto_fase||"No description"})]},Y.id))})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"delivery_date",children:"Delivery Date *"}),p.jsx("input",{type:"datetime-local",id:"delivery_date",...H("delivery_date"),className:B.delivery_date?"error":""}),K("delivery_date")]})]})]}),i&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"📊 Selected Phase Parameters"}),p.jsx("div",{className:"form-grid form-grid--3-cols",children:i.department===Dt.PRINTING?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_stampa",children:"Print Speed:"}),p.jsx("input",{type:"number",id:"v_stampa",value:u.v_stampa||i.v_stampa||"",onChange:Y=>de("v_stampa",Y.target.value),placeholder:"Print Speed",min:"0"}),p.jsx("span",{className:"unit-label",children:"mt/h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_stampa",children:"Print Setup:"}),p.jsx("input",{type:"number",id:"t_setup_stampa",value:u.t_setup_stampa||i.t_setup_stampa||"",onChange:Y=>de("t_setup_stampa",Y.target.value),placeholder:"Setup Time",min:"0",step:"0.1"}),p.jsx("span",{className:"unit-label",children:"h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_stampa",children:"Print Cost:"}),p.jsx("input",{type:"number",id:"costo_h_stampa",value:u.costo_h_stampa||i.costo_h_stampa||"",onChange:Y=>de("costo_h_stampa",Y.target.value),placeholder:"Hourly Cost",min:"0",step:"0.01"}),p.jsx("span",{className:"unit-label",children:"€/h"})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_conf",children:"Package Speed:"}),p.jsx("input",{type:"number",id:"v_conf",value:u.v_conf||i.v_conf||"",onChange:Y=>de("v_conf",Y.target.value),placeholder:"Package Speed",min:"0"}),p.jsx("span",{className:"unit-label",children:"pz/h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_conf",children:"Package Setup:"}),p.jsx("input",{type:"number",id:"t_setup_conf",value:u.t_setup_conf||i.t_setup_conf||"",onChange:Y=>de("t_setup_conf",Y.target.value),placeholder:"Setup Time",min:"0",step:"0.1"}),p.jsx("span",{className:"unit-label",children:"h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_conf",children:"Package Cost:"}),p.jsx("input",{type:"number",id:"costo_h_conf",value:u.costo_h_conf||i.costo_h_conf||"",onChange:Y=>de("costo_h_conf",Y.target.value),placeholder:"Hourly Cost",min:"0",step:"0.01"}),p.jsx("span",{className:"unit-label",children:"€/h"})]})]})})]}),f&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"🧮 Production Calculation Results"}),p.jsxs("div",{className:"form-grid form-grid--2-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Total Duration (hours):"}),p.jsx("div",{className:"result-value",children:f.totals.duration.toFixed(2)})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Total Cost (€):"}),p.jsx("div",{className:"result-value",children:f.totals.cost.toFixed(2)})]})]})]}),p.jsxs("div",{className:"form-actions",style:{marginTop:"20px"},children:[p.jsx("button",{type:"button",className:"btn btn-secondary",onClick:N,disabled:!i,children:"Calculate"}),p.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!f||ee,children:ee?"Adding to Backlog...":"Add to Backlog"})]})]})]})}function eO(){const e=we(T=>T.odpOrders),n=we(T=>T.machines),a=we(T=>T.phases),i=we(T=>T.selectedWorkCenter),l=we(T=>T.isLoading),u=we(T=>T.isInitialized),c=we(T=>T.init),f=we(T=>T.updateOdpOrder),h=we(T=>T.removeOdpOrder),m=we(T=>T.showAlert),v=we(T=>T.showConfirmDialog),y=x.useMemo(()=>i?i===Ue.BOTH?e:e.filter(T=>T.work_center===i):[],[e,i]),[w,b]=Me.useState(0),{validateOrder:E}=IA();x.useEffect(()=>{u||c()},[c,u]);const C=()=>{b(T=>T+1)},R=x.useMemo(()=>[{header:"ID",accessorKey:"id"},{header:"ODP Number",accessorKey:"odp_number",cell:qe},{header:"Article Code",accessorKey:"article_code",cell:qe},{header:"External Article Code",accessorKey:"production_lot"},{header:"Work Center",accessorKey:"work_center",cell:qe},{header:"Customer",accessorKey:"nome_cliente"},{header:"Bag H (mm)",accessorKey:"bag_height",cell:qe},{header:"Bag W (mm)",accessorKey:"bag_width",cell:qe},{header:"Bag Step (mm)",accessorKey:"bag_step",cell:qe},{header:"Seals",accessorKey:"seal_sides",cell:qe},{header:"Product",accessorKey:"product_type",cell:qe},{header:"Qty",accessorKey:"quantity",cell:qe},{header:"Completed",accessorKey:"quantity_completed",cell:qe},{header:"Qty/Box",accessorKey:"quantity_per_box",cell:qe},{header:"N Boxes",accessorKey:"n_boxes"},{header:"Prod Start",accessorKey:"scheduled_start_time",cell:T=>T.getValue()?new Date(T.getValue()).toLocaleString():"-"},{header:"Prod End",accessorKey:"scheduled_start_time",cell:T=>{const q=T.getValue();if(!q)return"-";const k=T.row.original,H=k.time_remaining||k.duration||0;if(H<=0)return"-";const F=new Date(q),B=F.getTime()+H*60*60*1e3;return F.setTime(B),F.toLocaleString()}},{header:"Delivery",accessorKey:"delivery_date",cell:T=>T.getValue()?new Date(T.getValue()).toLocaleString():"-"},{header:"FLEXI Lot",accessorKey:"internal_customer_code"},{header:"Customer Lot",accessorKey:"external_customer_code"},{header:"Customer Ref",accessorKey:"customer_order_ref"},{header:"Department",accessorKey:"department",cell:qe},{header:"Phase",accessorKey:"fase",cell:T=>{const q=T.getValue(),k=a.find(H=>H.id===q);return k?k.name:q||"-"}},{header:"Duration (h)",accessorKey:"duration"},{header:"Cost (€)",accessorKey:"cost"},{header:"Progress",accessorKey:"progress",cell:T=>`${T.getValue()||0}%`},{header:"Time Rem. (h)",accessorKey:"time_remaining"},{header:"Priority",accessorKey:"priority"},{header:"Status",accessorKey:"status"},{header:"Machine",accessorKey:"scheduled_machine_id",cell:T=>{const q=T.getValue(),k=n.find(H=>H.id===q);return k?k.machine_name:q||"-"}}],[n,a]),A=async T=>{try{const q=E(T);if(q.length>0){m(`Validation errors:
${q.join(`
`)}`,"error");return}T.scheduled_machine_id&&T.scheduled_machine_id!==T.original?.scheduled_machine_id&&console.log("Machine assignment updated:",T.scheduled_machine_id),await f(T.id,T)}catch(q){console.error("Error updating order:",q)}},M=async T=>{v("Delete Order",`Are you sure you want to delete ODP "${T.odp_number||T.id}"? This action cannot be undone.`,async()=>{try{await h(T.id)}catch(q){console.error("Error deleting order:",q)}},"danger")};return l?p.jsx("div",{children:"Loading backlog data..."}):i?p.jsxs(p.Fragment,{children:[p.jsx(JA,{onSuccess:C}),p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Production Backlog"}),p.jsx(gh,{columns:R,data:y,onSaveRow:A,onDeleteRow:M})]})]}):p.jsx("div",{className:"error",children:"Please select a work center to view backlog data."})}const Lu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ts(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function Sh(e){return"nodeType"in e}function un(e){var n,a;return e?ts(e)?e:Sh(e)&&(n=(a=e.ownerDocument)==null?void 0:a.defaultView)!=null?n:window:window}function Eh(e){const{Document:n}=un(e);return e instanceof n}function Ul(e){return ts(e)?!1:e instanceof un(e).HTMLElement}function ib(e){return e instanceof un(e).SVGElement}function ns(e){return e?ts(e)?e.document:Sh(e)?Eh(e)?e:Ul(e)||ib(e)?e.ownerDocument:document:document:document}const $r=Lu?x.useLayoutEffect:x.useEffect;function Pu(e){const n=x.useRef(e);return $r(()=>{n.current=e}),x.useCallback(function(){for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return n.current==null?void 0:n.current(...i)},[])}function tO(){const e=x.useRef(null),n=x.useCallback((i,l)=>{e.current=setInterval(i,l)},[]),a=x.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,a]}function Rl(e,n){n===void 0&&(n=[e]);const a=x.useRef(e);return $r(()=>{a.current!==e&&(a.current=e)},n),a}function Ll(e,n){const a=x.useRef();return x.useMemo(()=>{const i=e(a.current);return a.current=i,i},[...n])}function wu(e){const n=Pu(e),a=x.useRef(null),i=x.useCallback(l=>{l!==a.current&&n?.(l,a.current),a.current=l},[]);return[a,i]}function Su(e){const n=x.useRef();return x.useEffect(()=>{n.current=e},[e]),n.current}let Sf={};function $u(e,n){return x.useMemo(()=>{if(n)return n;const a=Sf[e]==null?0:Sf[e]+1;return Sf[e]=a,e+"-"+a},[e,n])}function sb(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];return i.reduce((u,c)=>{const f=Object.entries(c);for(const[h,m]of f){const v=u[h];v!=null&&(u[h]=v+e*m)}return u},{...n})}}const Ki=sb(1),Eu=sb(-1);function nO(e){return"clientX"in e&&"clientY"in e}function xh(e){if(!e)return!1;const{KeyboardEvent:n}=un(e.target);return n&&e instanceof n}function rO(e){if(!e)return!1;const{TouchEvent:n}=un(e.target);return n&&e instanceof n}function xu(e){if(rO(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:a}=e.touches[0];return{x:n,y:a}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:a}=e.changedTouches[0];return{x:n,y:a}}}return nO(e)?{x:e.clientX,y:e.clientY}:null}const Tl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:a}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(a?Math.round(a):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:a}=e;return"scaleX("+n+") scaleY("+a+")"}},Transform:{toString(e){if(e)return[Tl.Translate.toString(e),Tl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:a,easing:i}=e;return n+" "+a+"ms "+i}}}),Dy="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function aO(e){return e.matches(Dy)?e:e.querySelector(Dy)}const iO={display:"none"};function sO(e){let{id:n,value:a}=e;return Me.createElement("div",{id:n,style:iO},a)}function lO(e){let{id:n,announcement:a,ariaLiveType:i="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Me.createElement("div",{id:n,style:l,role:"status","aria-live":i,"aria-atomic":!0},a)}function oO(){const[e,n]=x.useState("");return{announce:x.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const lb=x.createContext(null);function uO(e){const n=x.useContext(lb);x.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function cO(){const[e]=x.useState(()=>new Set),n=x.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[x.useCallback(i=>{let{type:l,event:u}=i;e.forEach(c=>{var f;return(f=c[l])==null?void 0:f.call(c,u)})},[e]),n]}const dO={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},fO={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:a}=e;return a?"Draggable item "+n.id+" was moved over droppable area "+a.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:a}=e;return a?"Draggable item "+n.id+" was dropped over droppable area "+a.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function hO(e){let{announcements:n=fO,container:a,hiddenTextDescribedById:i,screenReaderInstructions:l=dO}=e;const{announce:u,announcement:c}=oO(),f=$u("DndLiveRegion"),[h,m]=x.useState(!1);if(x.useEffect(()=>{m(!0)},[]),uO(x.useMemo(()=>({onDragStart(y){let{active:w}=y;u(n.onDragStart({active:w}))},onDragMove(y){let{active:w,over:b}=y;n.onDragMove&&u(n.onDragMove({active:w,over:b}))},onDragOver(y){let{active:w,over:b}=y;u(n.onDragOver({active:w,over:b}))},onDragEnd(y){let{active:w,over:b}=y;u(n.onDragEnd({active:w,over:b}))},onDragCancel(y){let{active:w,over:b}=y;u(n.onDragCancel({active:w,over:b}))}}),[u,n])),!h)return null;const v=Me.createElement(Me.Fragment,null,Me.createElement(sO,{id:i,value:l.draggable}),Me.createElement(lO,{id:f,announcement:c}));return a?ul.createPortal(v,a):v}var $t;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})($t||($t={}));function Cu(){}const Zn=Object.freeze({x:0,y:0});function gO(e,n){const a=xu(e);if(!a)return"0 0";const i={x:(a.x-n.left)/n.width*100,y:(a.y-n.top)/n.height*100};return i.x+"% "+i.y+"%"}function mO(e,n){let{data:{value:a}}=e,{data:{value:i}}=n;return i-a}function pO(e,n){if(!e||e.length===0)return null;const[a]=e;return a[n]}function vO(e,n){const a=Math.max(n.top,e.top),i=Math.max(n.left,e.left),l=Math.min(n.left+n.width,e.left+e.width),u=Math.min(n.top+n.height,e.top+e.height),c=l-i,f=u-a;if(i<l&&a<u){const h=n.width*n.height,m=e.width*e.height,v=c*f,y=v/(h+m-v);return Number(y.toFixed(4))}return 0}const yO=e=>{let{collisionRect:n,droppableRects:a,droppableContainers:i}=e;const l=[];for(const u of i){const{id:c}=u,f=a.get(c);if(f){const h=vO(f,n);h>0&&l.push({id:c,data:{droppableContainer:u,value:h}})}}return l.sort(mO)};function _O(e,n,a){return{...e,scaleX:n&&a?n.width/a.width:1,scaleY:n&&a?n.height/a.height:1}}function ob(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:Zn}function bO(e){return function(a){for(var i=arguments.length,l=new Array(i>1?i-1:0),u=1;u<i;u++)l[u-1]=arguments[u];return l.reduce((c,f)=>({...c,top:c.top+e*f.y,bottom:c.bottom+e*f.y,left:c.left+e*f.x,right:c.right+e*f.x}),{...a})}}const wO=bO(1);function ub(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function SO(e,n,a){const i=ub(n);if(!i)return e;const{scaleX:l,scaleY:u,x:c,y:f}=i,h=e.left-c-(1-l)*parseFloat(a),m=e.top-f-(1-u)*parseFloat(a.slice(a.indexOf(" ")+1)),v=l?e.width/l:e.width,y=u?e.height/u:e.height;return{width:v,height:y,top:m,right:h+v,bottom:m+y,left:h}}const EO={ignoreTransform:!1};function Pl(e,n){n===void 0&&(n=EO);let a=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:m,transformOrigin:v}=un(e).getComputedStyle(e);m&&(a=SO(a,m,v))}const{top:i,left:l,width:u,height:c,bottom:f,right:h}=a;return{top:i,left:l,width:u,height:c,bottom:f,right:h}}function Ny(e){return Pl(e,{ignoreTransform:!0})}function xO(e){const n=e.innerWidth,a=e.innerHeight;return{top:0,left:0,right:n,bottom:a,width:n,height:a}}function CO(e,n){return n===void 0&&(n=un(e).getComputedStyle(e)),n.position==="fixed"}function RO(e,n){n===void 0&&(n=un(e).getComputedStyle(e));const a=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const u=n[l];return typeof u=="string"?a.test(u):!1})}function Ch(e,n){const a=[];function i(l){if(n!=null&&a.length>=n||!l)return a;if(Eh(l)&&l.scrollingElement!=null&&!a.includes(l.scrollingElement))return a.push(l.scrollingElement),a;if(!Ul(l)||ib(l)||a.includes(l))return a;const u=un(e).getComputedStyle(l);return l!==e&&RO(l,u)&&a.push(l),CO(l,u)?a:i(l.parentNode)}return e?i(e):a}function cb(e){const[n]=Ch(e,1);return n??null}function Ef(e){return!Lu||!e?null:ts(e)?e:Sh(e)?Eh(e)||e===ns(e).scrollingElement?window:Ul(e)?e:null:null}function db(e){return ts(e)?e.scrollX:e.scrollLeft}function fb(e){return ts(e)?e.scrollY:e.scrollTop}function Yf(e){return{x:db(e),y:fb(e)}}var qt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(qt||(qt={}));function hb(e){return!Lu||!e?!1:e===document.scrollingElement}function gb(e){const n={x:0,y:0},a=hb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-a.width,y:e.scrollHeight-a.height},l=e.scrollTop<=n.y,u=e.scrollLeft<=n.x,c=e.scrollTop>=i.y,f=e.scrollLeft>=i.x;return{isTop:l,isLeft:u,isBottom:c,isRight:f,maxScroll:i,minScroll:n}}const TO={x:.2,y:.2};function AO(e,n,a,i,l){let{top:u,left:c,right:f,bottom:h}=a;i===void 0&&(i=10),l===void 0&&(l=TO);const{isTop:m,isBottom:v,isLeft:y,isRight:w}=gb(e),b={x:0,y:0},E={x:0,y:0},C={height:n.height*l.y,width:n.width*l.x};return!m&&u<=n.top+C.height?(b.y=qt.Backward,E.y=i*Math.abs((n.top+C.height-u)/C.height)):!v&&h>=n.bottom-C.height&&(b.y=qt.Forward,E.y=i*Math.abs((n.bottom-C.height-h)/C.height)),!w&&f>=n.right-C.width?(b.x=qt.Forward,E.x=i*Math.abs((n.right-C.width-f)/C.width)):!y&&c<=n.left+C.width&&(b.x=qt.Backward,E.x=i*Math.abs((n.left+C.width-c)/C.width)),{direction:b,speed:E}}function OO(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:c}=window;return{top:0,left:0,right:u,bottom:c,width:u,height:c}}const{top:n,left:a,right:i,bottom:l}=e.getBoundingClientRect();return{top:n,left:a,right:i,bottom:l,width:e.clientWidth,height:e.clientHeight}}function mb(e){return e.reduce((n,a)=>Ki(n,Yf(a)),Zn)}function DO(e){return e.reduce((n,a)=>n+db(a),0)}function NO(e){return e.reduce((n,a)=>n+fb(a),0)}function pb(e,n){if(n===void 0&&(n=Pl),!e)return;const{top:a,left:i,bottom:l,right:u}=n(e);cb(e)&&(l<=0||u<=0||a>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const jO=[["x",["left","right"],DO],["y",["top","bottom"],NO]];class Rh{constructor(n,a){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Ch(a),l=mb(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[u,c,f]of jO)for(const h of c)Object.defineProperty(this,h,{get:()=>{const m=f(i),v=l[u]-m;return this.rect[h]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class vl{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...a)})},this.target=n}add(n,a,i){var l;(l=this.target)==null||l.addEventListener(n,a,i),this.listeners.push([n,a,i])}}function MO(e){const{EventTarget:n}=un(e);return e instanceof n?e:ns(e)}function xf(e,n){const a=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(a**2+i**2)>n:"x"in n&&"y"in n?a>n.x&&i>n.y:"x"in n?a>n.x:"y"in n?i>n.y:!1}var Pn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Pn||(Pn={}));function jy(e){e.preventDefault()}function kO(e){e.stopPropagation()}var rt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(rt||(rt={}));const vb={start:[rt.Space,rt.Enter],cancel:[rt.Esc],end:[rt.Space,rt.Enter,rt.Tab]},UO=(e,n)=>{let{currentCoordinates:a}=n;switch(e.code){case rt.Right:return{...a,x:a.x+25};case rt.Left:return{...a,x:a.x-25};case rt.Down:return{...a,y:a.y+25};case rt.Up:return{...a,y:a.y-25}}};class yb{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:a}}=n;this.props=n,this.listeners=new vl(ns(a)),this.windowListeners=new vl(un(a)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Pn.Resize,this.handleCancel),this.windowListeners.add(Pn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Pn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:a}=this.props,i=n.node.current;i&&pb(i),a(Zn)}handleKeyDown(n){if(xh(n)){const{active:a,context:i,options:l}=this.props,{keyboardCodes:u=vb,coordinateGetter:c=UO,scrollBehavior:f="smooth"}=l,{code:h}=n;if(u.end.includes(h)){this.handleEnd(n);return}if(u.cancel.includes(h)){this.handleCancel(n);return}const{collisionRect:m}=i.current,v=m?{x:m.left,y:m.top}:Zn;this.referenceCoordinates||(this.referenceCoordinates=v);const y=c(n,{active:a,context:i.current,currentCoordinates:v});if(y){const w=Eu(y,v),b={x:0,y:0},{scrollableAncestors:E}=i.current;for(const C of E){const R=n.code,{isTop:A,isRight:M,isLeft:T,isBottom:q,maxScroll:k,minScroll:H}=gb(C),F=OO(C),B={x:Math.min(R===rt.Right?F.right-F.width/2:F.right,Math.max(R===rt.Right?F.left:F.left+F.width/2,y.x)),y:Math.min(R===rt.Down?F.bottom-F.height/2:F.bottom,Math.max(R===rt.Down?F.top:F.top+F.height/2,y.y))},ee=R===rt.Right&&!M||R===rt.Left&&!T,le=R===rt.Down&&!q||R===rt.Up&&!A;if(ee&&B.x!==y.x){const oe=C.scrollLeft+w.x,ae=R===rt.Right&&oe<=k.x||R===rt.Left&&oe>=H.x;if(ae&&!w.y){C.scrollTo({left:oe,behavior:f});return}ae?b.x=C.scrollLeft-oe:b.x=R===rt.Right?C.scrollLeft-k.x:C.scrollLeft-H.x,b.x&&C.scrollBy({left:-b.x,behavior:f});break}else if(le&&B.y!==y.y){const oe=C.scrollTop+w.y,ae=R===rt.Down&&oe<=k.y||R===rt.Up&&oe>=H.y;if(ae&&!w.x){C.scrollTo({top:oe,behavior:f});return}ae?b.y=C.scrollTop-oe:b.y=R===rt.Down?C.scrollTop-k.y:C.scrollTop-H.y,b.y&&C.scrollBy({top:-b.y,behavior:f});break}}this.handleMove(n,Ki(Eu(y,this.referenceCoordinates),b))}}}handleMove(n,a){const{onMove:i}=this.props;n.preventDefault(),i(a)}handleEnd(n){const{onEnd:a}=this.props;n.preventDefault(),this.detach(),a()}handleCancel(n){const{onCancel:a}=this.props;n.preventDefault(),this.detach(),a()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}yb.activators=[{eventName:"onKeyDown",handler:(e,n,a)=>{let{keyboardCodes:i=vb,onActivation:l}=n,{active:u}=a;const{code:c}=e.nativeEvent;if(i.start.includes(c)){const f=u.activatorNode.current;return f&&e.target!==f?!1:(e.preventDefault(),l?.({event:e.nativeEvent}),!0)}return!1}}];function My(e){return!!(e&&"distance"in e)}function ky(e){return!!(e&&"delay"in e)}class Th{constructor(n,a,i){var l;i===void 0&&(i=MO(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=a;const{event:u}=n,{target:c}=u;this.props=n,this.events=a,this.document=ns(c),this.documentListeners=new vl(this.document),this.listeners=new vl(i),this.windowListeners=new vl(un(c)),this.initialCoordinates=(l=xu(u))!=null?l:Zn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:a,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(Pn.Resize,this.handleCancel),this.windowListeners.add(Pn.DragStart,jy),this.windowListeners.add(Pn.VisibilityChange,this.handleCancel),this.windowListeners.add(Pn.ContextMenu,jy),this.documentListeners.add(Pn.Keydown,this.handleKeydown),a){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ky(a)){this.timeoutId=setTimeout(this.handleStart,a.delay),this.handlePending(a);return}if(My(a)){this.handlePending(a);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,a){const{active:i,onPending:l}=this.props;l(i,n,this.initialCoordinates,a)}handleStart(){const{initialCoordinates:n}=this,{onStart:a}=this.props;n&&(this.activated=!0,this.documentListeners.add(Pn.Click,kO,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Pn.SelectionChange,this.removeTextSelection),a(n))}handleMove(n){var a;const{activated:i,initialCoordinates:l,props:u}=this,{onMove:c,options:{activationConstraint:f}}=u;if(!l)return;const h=(a=xu(n))!=null?a:Zn,m=Eu(l,h);if(!i&&f){if(My(f)){if(f.tolerance!=null&&xf(m,f.tolerance))return this.handleCancel();if(xf(m,f.distance))return this.handleStart()}if(ky(f)&&xf(m,f.tolerance))return this.handleCancel();this.handlePending(f,m);return}n.cancelable&&n.preventDefault(),c(h)}handleEnd(){const{onAbort:n,onEnd:a}=this.props;this.detach(),this.activated||n(this.props.active),a()}handleCancel(){const{onAbort:n,onCancel:a}=this.props;this.detach(),this.activated||n(this.props.active),a()}handleKeydown(n){n.code===rt.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const LO={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class _b extends Th{constructor(n){const{event:a}=n,i=ns(a.target);super(n,LO,i)}}_b.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;return!a.isPrimary||a.button!==0?!1:(i?.({event:a}),!0)}}];const PO={move:{name:"mousemove"},end:{name:"mouseup"}};var Kf;(function(e){e[e.RightClick=2]="RightClick"})(Kf||(Kf={}));class $O extends Th{constructor(n){super(n,PO,ns(n.event.target))}}$O.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;return a.button===Kf.RightClick?!1:(i?.({event:a}),!0)}}];const Cf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class FO extends Th{constructor(n){super(n,Cf)}static setup(){return window.addEventListener(Cf.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Cf.move.name,n)};function n(){}}}FO.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;const{touches:l}=a;return l.length>1?!1:(i?.({event:a}),!0)}}];var yl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(yl||(yl={}));var Ru;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ru||(Ru={}));function zO(e){let{acceleration:n,activator:a=yl.Pointer,canScroll:i,draggingRect:l,enabled:u,interval:c=5,order:f=Ru.TreeOrder,pointerCoordinates:h,scrollableAncestors:m,scrollableAncestorRects:v,delta:y,threshold:w}=e;const b=IO({delta:y,disabled:!u}),[E,C]=tO(),R=x.useRef({x:0,y:0}),A=x.useRef({x:0,y:0}),M=x.useMemo(()=>{switch(a){case yl.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case yl.DraggableRect:return l}},[a,l,h]),T=x.useRef(null),q=x.useCallback(()=>{const H=T.current;if(!H)return;const F=R.current.x*A.current.x,B=R.current.y*A.current.y;H.scrollBy(F,B)},[]),k=x.useMemo(()=>f===Ru.TreeOrder?[...m].reverse():m,[f,m]);x.useEffect(()=>{if(!u||!m.length||!M){C();return}for(const H of k){if(i?.(H)===!1)continue;const F=m.indexOf(H),B=v[F];if(!B)continue;const{direction:ee,speed:le}=AO(H,B,M,n,w);for(const oe of["x","y"])b[oe][ee[oe]]||(le[oe]=0,ee[oe]=0);if(le.x>0||le.y>0){C(),T.current=H,E(q,c),R.current=le,A.current=ee;return}}R.current={x:0,y:0},A.current={x:0,y:0},C()},[n,q,i,C,u,c,JSON.stringify(M),JSON.stringify(b),E,m,k,v,JSON.stringify(w)])}const HO={x:{[qt.Backward]:!1,[qt.Forward]:!1},y:{[qt.Backward]:!1,[qt.Forward]:!1}};function IO(e){let{delta:n,disabled:a}=e;const i=Su(n);return Ll(l=>{if(a||!i||!l)return HO;const u={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[qt.Backward]:l.x[qt.Backward]||u.x===-1,[qt.Forward]:l.x[qt.Forward]||u.x===1},y:{[qt.Backward]:l.y[qt.Backward]||u.y===-1,[qt.Forward]:l.y[qt.Forward]||u.y===1}}},[a,n,i])}function VO(e,n){const a=n!=null?e.get(n):void 0,i=a?a.node.current:null;return Ll(l=>{var u;return n==null?null:(u=i??l)!=null?u:null},[i,n])}function BO(e,n){return x.useMemo(()=>e.reduce((a,i)=>{const{sensor:l}=i,u=l.activators.map(c=>({eventName:c.eventName,handler:n(c.handler,i)}));return[...a,...u]},[]),[e,n])}var Al;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Al||(Al={}));var Xf;(function(e){e.Optimized="optimized"})(Xf||(Xf={}));const Uy=new Map;function qO(e,n){let{dragging:a,dependencies:i,config:l}=n;const[u,c]=x.useState(null),{frequency:f,measure:h,strategy:m}=l,v=x.useRef(e),y=R(),w=Rl(y),b=x.useCallback(function(A){A===void 0&&(A=[]),!w.current&&c(M=>M===null?A:M.concat(A.filter(T=>!M.includes(T))))},[w]),E=x.useRef(null),C=Ll(A=>{if(y&&!a)return Uy;if(!A||A===Uy||v.current!==e||u!=null){const M=new Map;for(let T of e){if(!T)continue;if(u&&u.length>0&&!u.includes(T.id)&&T.rect.current){M.set(T.id,T.rect.current);continue}const q=T.node.current,k=q?new Rh(h(q),q):null;T.rect.current=k,k&&M.set(T.id,k)}return M}return A},[e,u,a,y,h]);return x.useEffect(()=>{v.current=e},[e]),x.useEffect(()=>{y||b()},[a,y]),x.useEffect(()=>{u&&u.length>0&&c(null)},[JSON.stringify(u)]),x.useEffect(()=>{y||typeof f!="number"||E.current!==null||(E.current=setTimeout(()=>{b(),E.current=null},f))},[f,y,b,...i]),{droppableRects:C,measureDroppableContainers:b,measuringScheduled:u!=null};function R(){switch(m){case Al.Always:return!1;case Al.BeforeDragging:return a;default:return!a}}}function Ah(e,n){return Ll(a=>e?a||(typeof n=="function"?n(e):e):null,[n,e])}function GO(e,n){return Ah(e,n)}function YO(e){let{callback:n,disabled:a}=e;const i=Pu(n),l=x.useMemo(()=>{if(a||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(i)},[i,a]);return x.useEffect(()=>()=>l?.disconnect(),[l]),l}function Fu(e){let{callback:n,disabled:a}=e;const i=Pu(n),l=x.useMemo(()=>{if(a||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(i)},[a]);return x.useEffect(()=>()=>l?.disconnect(),[l]),l}function KO(e){return new Rh(Pl(e),e)}function Ly(e,n,a){n===void 0&&(n=KO);const[i,l]=x.useState(null);function u(){l(h=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=h??a)!=null?m:null}const v=n(e);return JSON.stringify(h)===JSON.stringify(v)?h:v})}const c=YO({callback(h){if(e)for(const m of h){const{type:v,target:y}=m;if(v==="childList"&&y instanceof HTMLElement&&y.contains(e)){u();break}}}}),f=Fu({callback:u});return $r(()=>{u(),e?(f?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(f?.disconnect(),c?.disconnect())},[e]),i}function XO(e){const n=Ah(e);return ob(e,n)}const Py=[];function WO(e){const n=x.useRef(e),a=Ll(i=>e?i&&i!==Py&&e&&n.current&&e.parentNode===n.current.parentNode?i:Ch(e):Py,[e]);return x.useEffect(()=>{n.current=e},[e]),a}function QO(e){const[n,a]=x.useState(null),i=x.useRef(e),l=x.useCallback(u=>{const c=Ef(u.target);c&&a(f=>f?(f.set(c,Yf(c)),new Map(f)):null)},[]);return x.useEffect(()=>{const u=i.current;if(e!==u){c(u);const f=e.map(h=>{const m=Ef(h);return m?(m.addEventListener("scroll",l,{passive:!0}),[m,Yf(m)]):null}).filter(h=>h!=null);a(f.length?new Map(f):null),i.current=e}return()=>{c(e),c(u)};function c(f){f.forEach(h=>{const m=Ef(h);m?.removeEventListener("scroll",l)})}},[l,e]),x.useMemo(()=>e.length?n?Array.from(n.values()).reduce((u,c)=>Ki(u,c),Zn):mb(e):Zn,[e,n])}function $y(e,n){n===void 0&&(n=[]);const a=x.useRef(null);return x.useEffect(()=>{a.current=null},n),x.useEffect(()=>{const i=e!==Zn;i&&!a.current&&(a.current=e),!i&&a.current&&(a.current=null)},[e]),a.current?Eu(e,a.current):Zn}function ZO(e){x.useEffect(()=>{if(!Lu)return;const n=e.map(a=>{let{sensor:i}=a;return i.setup==null?void 0:i.setup()});return()=>{for(const a of n)a?.()}},e.map(n=>{let{sensor:a}=n;return a}))}function JO(e,n){return x.useMemo(()=>e.reduce((a,i)=>{let{eventName:l,handler:u}=i;return a[l]=c=>{u(c,n)},a},{}),[e,n])}function bb(e){return x.useMemo(()=>e?xO(e):null,[e])}const Fy=[];function eD(e,n){n===void 0&&(n=Pl);const[a]=e,i=bb(a?un(a):null),[l,u]=x.useState(Fy);function c(){u(()=>e.length?e.map(h=>hb(h)?i:new Rh(n(h),h)):Fy)}const f=Fu({callback:c});return $r(()=>{f?.disconnect(),c(),e.forEach(h=>f?.observe(h))},[e]),l}function wb(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return Ul(n)?n:e}function tD(e){let{measure:n}=e;const[a,i]=x.useState(null),l=x.useCallback(m=>{for(const{target:v}of m)if(Ul(v)){i(y=>{const w=n(v);return y?{...y,width:w.width,height:w.height}:w});break}},[n]),u=Fu({callback:l}),c=x.useCallback(m=>{const v=wb(m);u?.disconnect(),v&&u?.observe(v),i(v?n(v):null)},[n,u]),[f,h]=wu(c);return x.useMemo(()=>({nodeRef:f,rect:a,setRef:h}),[a,f,h])}const nD=[{sensor:_b,options:{}},{sensor:yb,options:{}}],rD={current:{}},fu={draggable:{measure:Ny},droppable:{measure:Ny,strategy:Al.WhileDragging,frequency:Xf.Optimized},dragOverlay:{measure:Pl}};class _l extends Map{get(n){var a;return n!=null&&(a=super.get(n))!=null?a:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:a}=n;return!a})}getNodeFor(n){var a,i;return(a=(i=this.get(n))==null?void 0:i.node.current)!=null?a:void 0}}const aD={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new _l,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Cu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:fu,measureDroppableContainers:Cu,windowRect:null,measuringScheduled:!1},Sb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Cu,draggableNodes:new Map,over:null,measureDroppableContainers:Cu},$l=x.createContext(Sb),Eb=x.createContext(aD);function iD(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new _l}}}function sD(e,n){switch(n.type){case $t.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case $t.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case $t.DragEnd:case $t.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case $t.RegisterDroppable:{const{element:a}=n,{id:i}=a,l=new _l(e.droppable.containers);return l.set(i,a),{...e,droppable:{...e.droppable,containers:l}}}case $t.SetDroppableDisabled:{const{id:a,key:i,disabled:l}=n,u=e.droppable.containers.get(a);if(!u||i!==u.key)return e;const c=new _l(e.droppable.containers);return c.set(a,{...u,disabled:l}),{...e,droppable:{...e.droppable,containers:c}}}case $t.UnregisterDroppable:{const{id:a,key:i}=n,l=e.droppable.containers.get(a);if(!l||i!==l.key)return e;const u=new _l(e.droppable.containers);return u.delete(a),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function lD(e){let{disabled:n}=e;const{active:a,activatorEvent:i,draggableNodes:l}=x.useContext($l),u=Su(i),c=Su(a?.id);return x.useEffect(()=>{if(!n&&!i&&u&&c!=null){if(!xh(u)||document.activeElement===u.target)return;const f=l.get(c);if(!f)return;const{activatorNode:h,node:m}=f;if(!h.current&&!m.current)return;requestAnimationFrame(()=>{for(const v of[h.current,m.current]){if(!v)continue;const y=aO(v);if(y){y.focus();break}}})}},[i,n,l,c,u]),null}function xb(e,n){let{transform:a,...i}=n;return e!=null&&e.length?e.reduce((l,u)=>u({transform:l,...i}),a):a}function oD(e){return x.useMemo(()=>({draggable:{...fu.draggable,...e?.draggable},droppable:{...fu.droppable,...e?.droppable},dragOverlay:{...fu.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function uD(e){let{activeNode:n,measure:a,initialRect:i,config:l=!0}=e;const u=x.useRef(!1),{x:c,y:f}=typeof l=="boolean"?{x:l,y:l}:l;$r(()=>{if(!c&&!f||!n){u.current=!1;return}if(u.current||!i)return;const m=n?.node.current;if(!m||m.isConnected===!1)return;const v=a(m),y=ob(v,i);if(c||(y.x=0),f||(y.y=0),u.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const w=cb(m);w&&w.scrollBy({top:y.y,left:y.x})}},[n,c,f,i,a])}const zu=x.createContext({...Zn,scaleX:1,scaleY:1});var ga;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ga||(ga={}));const cD=x.memo(function(n){var a,i,l,u;let{id:c,accessibility:f,autoScroll:h=!0,children:m,sensors:v=nD,collisionDetection:y=yO,measuring:w,modifiers:b,...E}=n;const C=x.useReducer(sD,void 0,iD),[R,A]=C,[M,T]=cO(),[q,k]=x.useState(ga.Uninitialized),H=q===ga.Initialized,{draggable:{active:F,nodes:B,translate:ee},droppable:{containers:le}}=R,oe=F!=null?B.get(F):null,ae=x.useRef({initial:null,translated:null}),re=x.useMemo(()=>{var yt;return F!=null?{id:F,data:(yt=oe?.data)!=null?yt:rD,rect:ae}:null},[F,oe]),ve=x.useRef(null),[ce,$]=x.useState(null),[Z,de]=x.useState(null),Ee=Rl(E,Object.values(E)),N=$u("DndDescribedBy",c),K=x.useMemo(()=>le.getEnabled(),[le]),Y=oD(w),{droppableRects:Q,measureDroppableContainers:fe,measuringScheduled:De}=qO(K,{dragging:H,dependencies:[ee.x,ee.y],config:Y.droppable}),ye=VO(B,F),pt=x.useMemo(()=>Z?xu(Z):null,[Z]),Ve=rs(),Nt=GO(ye,Y.draggable.measure);uD({activeNode:F!=null?B.get(F):null,config:Ve.layoutShiftCompensation,initialRect:Nt,measure:Y.draggable.measure});const wt=Ly(ye,Y.draggable.measure,Nt),Tn=Ly(ye?ye.parentElement:null),ne=x.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:Q,draggableNodes:B,draggingNode:null,draggingNodeRect:null,droppableContainers:le,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ue=le.getNodeFor((a=ne.current.over)==null?void 0:a.id),ge=tD({measure:Y.dragOverlay.measure}),me=(i=ge.nodeRef.current)!=null?i:ye,Ge=H?(l=ge.rect)!=null?l:wt:null,et=!!(ge.nodeRef.current&&ge.rect),jt=XO(et?null:wt),vt=bb(me?un(me):null),O=WO(H?ue??ye:null),L=eD(O),G=xb(b,{transform:{x:ee.x-jt.x,y:ee.y-jt.y,scaleX:1,scaleY:1},activatorEvent:Z,active:re,activeNodeRect:wt,containerNodeRect:Tn,draggingNodeRect:Ge,over:ne.current.over,overlayNodeRect:ge.rect,scrollableAncestors:O,scrollableAncestorRects:L,windowRect:vt}),se=pt?Ki(pt,ee):null,te=QO(O),ie=$y(te),he=$y(te,[wt]),Se=Ki(G,ie),Oe=Ge?wO(Ge,G):null,He=re&&Oe?y({active:re,collisionRect:Oe,droppableRects:Q,droppableContainers:K,pointerCoordinates:se}):null,rn=pO(He,"id"),[Mt,Ka]=x.useState(null),er=et?G:Ki(G,he),tr=_O(er,(u=Mt?.rect)!=null?u:null,wt),pn=x.useRef(null),nr=x.useCallback((yt,an)=>{let{sensor:Qt,options:Hn}=an;if(ve.current==null)return;const Zt=B.get(ve.current);if(!Zt)return;const Gt=yt.nativeEvent,vn=new Qt({active:ve.current,activeNode:Zt,event:Gt,options:Hn,context:ne,onAbort(at){if(!B.get(at))return;const{onDragAbort:ot}=Ee.current,Jt={id:at};ot?.(Jt),M({type:"onDragAbort",event:Jt})},onPending(at,lt,ot,Jt){if(!B.get(at))return;const{onDragPending:Sa}=Ee.current,rr={id:at,constraint:lt,initialCoordinates:ot,offset:Jt};Sa?.(rr),M({type:"onDragPending",event:rr})},onStart(at){const lt=ve.current;if(lt==null)return;const ot=B.get(lt);if(!ot)return;const{onDragStart:Jt}=Ee.current,gr={activatorEvent:Gt,active:{id:lt,data:ot.data,rect:ae}};ul.unstable_batchedUpdates(()=>{Jt?.(gr),k(ga.Initializing),A({type:$t.DragStart,initialCoordinates:at,active:lt}),M({type:"onDragStart",event:gr}),$(pn.current),de(Gt)})},onMove(at){A({type:$t.DragMove,coordinates:at})},onEnd:zr($t.DragEnd),onCancel:zr($t.DragCancel)});pn.current=vn;function zr(at){return async function(){const{active:ot,collisions:Jt,over:gr,scrollAdjustedTranslate:Sa}=ne.current;let rr=null;if(ot&&Sa){const{cancelDrop:Hr}=Ee.current;rr={activatorEvent:Gt,active:ot,collisions:Jt,delta:Sa,over:gr},at===$t.DragEnd&&typeof Hr=="function"&&await Promise.resolve(Hr(rr))&&(at=$t.DragCancel)}ve.current=null,ul.unstable_batchedUpdates(()=>{A({type:at}),k(ga.Uninitialized),Ka(null),$(null),de(null),pn.current=null;const Hr=at===$t.DragEnd?"onDragEnd":"onDragCancel";if(rr){const mr=Ee.current[Hr];mr?.(rr),M({type:Hr,event:rr})}})}}},[B]),hr=x.useCallback((yt,an)=>(Qt,Hn)=>{const Zt=Qt.nativeEvent,Gt=B.get(Hn);if(ve.current!==null||!Gt||Zt.dndKit||Zt.defaultPrevented)return;const vn={active:Gt};yt(Qt,an.options,vn)===!0&&(Zt.dndKit={capturedBy:an.sensor},ve.current=Hn,nr(Qt,an))},[B,nr]),wa=BO(v,hr);ZO(v),$r(()=>{wt&&q===ga.Initializing&&k(ga.Initialized)},[wt,q]),x.useEffect(()=>{const{onDragMove:yt}=Ee.current,{active:an,activatorEvent:Qt,collisions:Hn,over:Zt}=ne.current;if(!an||!Qt)return;const Gt={active:an,activatorEvent:Qt,collisions:Hn,delta:{x:Se.x,y:Se.y},over:Zt};ul.unstable_batchedUpdates(()=>{yt?.(Gt),M({type:"onDragMove",event:Gt})})},[Se.x,Se.y]),x.useEffect(()=>{const{active:yt,activatorEvent:an,collisions:Qt,droppableContainers:Hn,scrollAdjustedTranslate:Zt}=ne.current;if(!yt||ve.current==null||!an||!Zt)return;const{onDragOver:Gt}=Ee.current,vn=Hn.get(rn),zr=vn&&vn.rect.current?{id:vn.id,rect:vn.rect.current,data:vn.data,disabled:vn.disabled}:null,at={active:yt,activatorEvent:an,collisions:Qt,delta:{x:Zt.x,y:Zt.y},over:zr};ul.unstable_batchedUpdates(()=>{Ka(zr),Gt?.(at),M({type:"onDragOver",event:at})})},[rn]),$r(()=>{ne.current={activatorEvent:Z,active:re,activeNode:ye,collisionRect:Oe,collisions:He,droppableRects:Q,draggableNodes:B,draggingNode:me,draggingNodeRect:Ge,droppableContainers:le,over:Mt,scrollableAncestors:O,scrollAdjustedTranslate:Se},ae.current={initial:Ge,translated:Oe}},[re,ye,He,Oe,B,me,Ge,Q,le,Mt,O,Se]),zO({...Ve,delta:ee,draggingRect:Oe,pointerCoordinates:se,scrollableAncestors:O,scrollableAncestorRects:L});const Fl=x.useMemo(()=>({active:re,activeNode:ye,activeNodeRect:wt,activatorEvent:Z,collisions:He,containerNodeRect:Tn,dragOverlay:ge,draggableNodes:B,droppableContainers:le,droppableRects:Q,over:Mt,measureDroppableContainers:fe,scrollableAncestors:O,scrollableAncestorRects:L,measuringConfiguration:Y,measuringScheduled:De,windowRect:vt}),[re,ye,wt,Z,He,Tn,ge,B,le,Q,Mt,fe,O,L,Y,De,vt]),zl=x.useMemo(()=>({activatorEvent:Z,activators:wa,active:re,activeNodeRect:wt,ariaDescribedById:{draggable:N},dispatch:A,draggableNodes:B,over:Mt,measureDroppableContainers:fe}),[Z,wa,re,wt,A,N,B,Mt,fe]);return Me.createElement(lb.Provider,{value:T},Me.createElement($l.Provider,{value:zl},Me.createElement(Eb.Provider,{value:Fl},Me.createElement(zu.Provider,{value:tr},m)),Me.createElement(lD,{disabled:f?.restoreFocus===!1})),Me.createElement(hO,{...f,hiddenTextDescribedById:N}));function rs(){const yt=ce?.autoScrollEnabled===!1,an=typeof h=="object"?h.enabled===!1:h===!1,Qt=H&&!yt&&!an;return typeof h=="object"?{...h,enabled:Qt}:{enabled:Qt}}}),dD=x.createContext(null),zy="button",fD="Draggable";function WD(e){let{id:n,data:a,disabled:i=!1,attributes:l}=e;const u=$u(fD),{activators:c,activatorEvent:f,active:h,activeNodeRect:m,ariaDescribedById:v,draggableNodes:y,over:w}=x.useContext($l),{role:b=zy,roleDescription:E="draggable",tabIndex:C=0}=l??{},R=h?.id===n,A=x.useContext(R?zu:dD),[M,T]=wu(),[q,k]=wu(),H=JO(c,n),F=Rl(a);$r(()=>(y.set(n,{id:n,key:u,node:M,activatorNode:q,data:F}),()=>{const ee=y.get(n);ee&&ee.key===u&&y.delete(n)}),[y,n]);const B=x.useMemo(()=>({role:b,tabIndex:C,"aria-disabled":i,"aria-pressed":R&&b===zy?!0:void 0,"aria-roledescription":E,"aria-describedby":v.draggable}),[i,b,C,R,E,v.draggable]);return{active:h,activatorEvent:f,activeNodeRect:m,attributes:B,isDragging:R,listeners:i?void 0:H,node:M,over:w,setNodeRef:T,setActivatorNodeRef:k,transform:A}}function hD(){return x.useContext(Eb)}const gD="Droppable",mD={timeout:25};function QD(e){let{data:n,disabled:a=!1,id:i,resizeObserverConfig:l}=e;const u=$u(gD),{active:c,dispatch:f,over:h,measureDroppableContainers:m}=x.useContext($l),v=x.useRef({disabled:a}),y=x.useRef(!1),w=x.useRef(null),b=x.useRef(null),{disabled:E,updateMeasurementsFor:C,timeout:R}={...mD,...l},A=Rl(C??i),M=x.useCallback(()=>{if(!y.current){y.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{m(Array.isArray(A.current)?A.current:[A.current]),b.current=null},R)},[R]),T=Fu({callback:M,disabled:E||!c}),q=x.useCallback((B,ee)=>{T&&(ee&&(T.unobserve(ee),y.current=!1),B&&T.observe(B))},[T]),[k,H]=wu(q),F=Rl(n);return x.useEffect(()=>{!T||!k.current||(T.disconnect(),y.current=!1,T.observe(k.current))},[k,T]),x.useEffect(()=>(f({type:$t.RegisterDroppable,element:{id:i,key:u,disabled:a,node:k,rect:w,data:F}}),()=>f({type:$t.UnregisterDroppable,key:u,id:i})),[i]),x.useEffect(()=>{a!==v.current.disabled&&(f({type:$t.SetDroppableDisabled,id:i,key:u,disabled:a}),v.current.disabled=a)},[i,u,a,f]),{active:c,rect:w,isOver:h?.id===i,node:k,over:h,setNodeRef:H}}function pD(e){let{animation:n,children:a}=e;const[i,l]=x.useState(null),[u,c]=x.useState(null),f=Su(a);return!a&&!i&&f&&l(f),$r(()=>{if(!u)return;const h=i?.key,m=i?.props.id;if(h==null||m==null){l(null);return}Promise.resolve(n(m,u)).then(()=>{l(null)})},[n,i,u]),Me.createElement(Me.Fragment,null,a,i?x.cloneElement(i,{ref:c}):null)}const vD={x:0,y:0,scaleX:1,scaleY:1};function yD(e){let{children:n}=e;return Me.createElement($l.Provider,{value:Sb},Me.createElement(zu.Provider,{value:vD},n))}const _D={position:"fixed",touchAction:"none"},bD=e=>xh(e)?"transform 250ms ease":void 0,wD=x.forwardRef((e,n)=>{let{as:a,activatorEvent:i,adjustScale:l,children:u,className:c,rect:f,style:h,transform:m,transition:v=bD}=e;if(!f)return null;const y=l?m:{...m,scaleX:1,scaleY:1},w={..._D,width:f.width,height:f.height,top:f.top,left:f.left,transform:Tl.Transform.toString(y),transformOrigin:l&&i?gO(i,f):void 0,transition:typeof v=="function"?v(i):v,...h};return Me.createElement(a,{className:c,style:w,ref:n},u)}),SD=e=>n=>{let{active:a,dragOverlay:i}=n;const l={},{styles:u,className:c}=e;if(u!=null&&u.active)for(const[f,h]of Object.entries(u.active))h!==void 0&&(l[f]=a.node.style.getPropertyValue(f),a.node.style.setProperty(f,h));if(u!=null&&u.dragOverlay)for(const[f,h]of Object.entries(u.dragOverlay))h!==void 0&&i.node.style.setProperty(f,h);return c!=null&&c.active&&a.node.classList.add(c.active),c!=null&&c.dragOverlay&&i.node.classList.add(c.dragOverlay),function(){for(const[h,m]of Object.entries(l))a.node.style.setProperty(h,m);c!=null&&c.active&&a.node.classList.remove(c.active)}},ED=e=>{let{transform:{initial:n,final:a}}=e;return[{transform:Tl.Transform.toString(n)},{transform:Tl.Transform.toString(a)}]},xD={duration:250,easing:"ease",keyframes:ED,sideEffects:SD({styles:{active:{opacity:"0"}}})};function CD(e){let{config:n,draggableNodes:a,droppableContainers:i,measuringConfiguration:l}=e;return Pu((u,c)=>{if(n===null)return;const f=a.get(u);if(!f)return;const h=f.node.current;if(!h)return;const m=wb(c);if(!m)return;const{transform:v}=un(c).getComputedStyle(c),y=ub(v);if(!y)return;const w=typeof n=="function"?n:RD(n);return pb(h,l.draggable.measure),w({active:{id:u,data:f.data,node:h,rect:l.draggable.measure(h)},draggableNodes:a,dragOverlay:{node:c,rect:l.dragOverlay.measure(m)},droppableContainers:i,measuringConfiguration:l,transform:y})})}function RD(e){const{duration:n,easing:a,sideEffects:i,keyframes:l}={...xD,...e};return u=>{let{active:c,dragOverlay:f,transform:h,...m}=u;if(!n)return;const v={x:f.rect.left-c.rect.left,y:f.rect.top-c.rect.top},y={scaleX:h.scaleX!==1?c.rect.width*h.scaleX/f.rect.width:1,scaleY:h.scaleY!==1?c.rect.height*h.scaleY/f.rect.height:1},w={x:h.x-v.x,y:h.y-v.y,...y},b=l({...m,active:c,dragOverlay:f,transform:{initial:h,final:w}}),[E]=b,C=b[b.length-1];if(JSON.stringify(E)===JSON.stringify(C))return;const R=i?.({active:c,dragOverlay:f,...m}),A=f.node.animate(b,{duration:n,easing:a,fill:"forwards"});return new Promise(M=>{A.onfinish=()=>{R?.(),M()}})}}let Hy=0;function TD(e){return x.useMemo(()=>{if(e!=null)return Hy++,Hy},[e])}const AD=Me.memo(e=>{let{adjustScale:n=!1,children:a,dropAnimation:i,style:l,transition:u,modifiers:c,wrapperElement:f="div",className:h,zIndex:m=999}=e;const{activatorEvent:v,active:y,activeNodeRect:w,containerNodeRect:b,draggableNodes:E,droppableContainers:C,dragOverlay:R,over:A,measuringConfiguration:M,scrollableAncestors:T,scrollableAncestorRects:q,windowRect:k}=hD(),H=x.useContext(zu),F=TD(y?.id),B=xb(c,{activatorEvent:v,active:y,activeNodeRect:w,containerNodeRect:b,draggingNodeRect:R.rect,over:A,overlayNodeRect:R.rect,scrollableAncestors:T,scrollableAncestorRects:q,transform:H,windowRect:k}),ee=Ah(w),le=CD({config:i,draggableNodes:E,droppableContainers:C,measuringConfiguration:M}),oe=ee?R.setRef:void 0;return Me.createElement(yD,null,Me.createElement(pD,{animation:le},y&&F?Me.createElement(wD,{key:F,id:y.id,ref:oe,as:f,activatorEvent:v,adjustScale:n,className:h,transition:u,rect:ee,style:{zIndex:m,...l},transform:B},a):null))}),OD=x.lazy(()=>Ga(()=>import("./TaskPool-BaDZfizq.js"),[])),DD=x.lazy(()=>Ga(()=>import("./GanttChart-AznwxT_i.js"),[])),Iy=()=>p.jsx("div",{className:"loading-fallback",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",fontSize:"16px",color:"#666"},children:"Loading scheduler components..."});function ND(){const{odpOrders:e,machines:n,selectedWorkCenter:a,isLoading:i,isInitialized:l,init:u,scheduleTask:c,unscheduleTask:f,showAlert:h}=we(),[m,v]=x.useState(new Date),[y,w]=x.useState(null),[b,E]=x.useState([]),[C,R]=x.useState([]),[A,M]=x.useState([]),[T,q]=x.useState([]),[k,H]=x.useState(!1),[F,B]=x.useState(!1),[ee,le]=x.useState(!1),[oe,ae]=x.useState(!1),[re,ve]=x.useState(""),[ce,$]=x.useState(""),[Z,de]=x.useState(""),[Ee,N]=x.useState(""),[K,Y]=x.useState(!0);x.useEffect(()=>{if(l)Y(!1);else{const ne=performance.now();u().finally(()=>{const ue=performance.now();console.log(`🚀 Store initialization took: ${(ue-ne).toFixed(2)}ms`),Y(!1)})}},[u,l]),x.useEffect(()=>{const ne=ue=>{ue.target.closest(".searchable-dropdown")||(H(!1),B(!1),le(!1),ae(!1))};return document.addEventListener("mousedown",ne),()=>document.removeEventListener("mousedown",ne)},[]);const Q=x.useMemo(()=>{const ne=performance.now();if(!n||n.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};let ue=n;a&&a!==Ue.BOTH&&(ue=n.filter(te=>te.work_center===a));const ge=ue.filter(te=>te.status===$n.ACTIVE);if(ge.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};const me=new Set,Ge=new Set,et=new Set,jt=new Set;for(const te of ge)te.work_center&&me.add(te.work_center),te.department&&Ge.add(te.department),te.machine_type&&et.add(te.machine_type),te.machine_name&&jt.add(te.machine_name);const vt=Array.from(me).sort(),O=Array.from(Ge).sort(),L=Array.from(et).sort(),G=Array.from(jt).sort();console.log("📋 Available filter options:",{workCenters:vt,departments:O,machineTypes:L,machineNames:G});const se=performance.now();return se-ne>5&&console.log(`⚡ Machine data computation took: ${(se-ne).toFixed(2)}ms`),{activeMachines:ge,workCenters:vt,departments:O,machineTypes:L,machineNames:G}},[n,a]),fe=x.useMemo(()=>{const{activeMachines:ne}=Q;let ue=ne;return b.length>0&&(ue=ue.filter(ge=>b.includes(ge.work_center))),C.length>0&&(ue=ue.filter(ge=>C.includes(ge.department))),A.length>0&&(ue=ue.filter(ge=>A.includes(ge.machine_type))),T.length>0&&(ue=ue.filter(ge=>T.includes(ge.machine_name))),ue},[Q,b,C,A,T]),De=x.useCallback(ne=>{v(ue=>{const ge=new Date(ue);return ne==="today"?new Date:ne==="prev"?(ge.setDate(ge.getDate()-1),ge):ne==="next"?(ge.setDate(ge.getDate()+1),ge):ue})},[]),ye=x.useCallback(()=>{const ne=new Date;return m.toDateString()===ne.toDateString()?"Today":m.toLocaleDateString("en-US",{month:"long",day:"numeric"})},[m]),pt=x.useCallback(()=>{E([]),R([]),M([]),q([])},[]),Ve=x.useRef(null),Nt=x.useRef(!1),wt=x.useCallback(ne=>{const ue=performance.now(),ge=ne.active.data.current;ge.type==="task"?w(ge.task):ge.type==="event"&&w(ge.event),console.log(`🎯 Drag start took: ${(performance.now()-ue).toFixed(2)}ms`)},[]),Tn=x.useCallback(async ne=>{const ue=performance.now();if(Ve.current&&clearTimeout(Ve.current),Nt.current){console.log("🚫 Drag operation already in progress, ignoring");return}w(null);const{over:ge,active:me}=ne;if(!ge){console.log(`✅ Drag cancelled - no drop zone (took ${(performance.now()-ue).toFixed(2)}ms)`);return}const Ge=me.data.current,et=ge.data.current;if(!Ge||!et){console.log("❌ Invalid drag data");return}Nt.current=!0;try{await new Promise(jt=>{requestAnimationFrame(async()=>{const vt=performance.now();if(Ge.type==="task"&&et.type==="slot"){const O=Ge.task,{machine:L,hour:G,minute:se,isUnavailable:te,hasScheduledTask:ie}=et;if(te)return h("Cannot schedule task on unavailable time slot","error"),jt();if(ie)return h("Cannot schedule task on occupied time slot","error"),jt();const he=new Date(m);he.setHours(G,se,0,0);const Se=O.time_remaining||O.duration||1,Oe=gy(he,Se),He={machine:L.id,start_time:he.toISOString(),end_time:Oe.toISOString()},rn=await c(O.id,He);rn?.error&&h(rn.error,"error"),console.log(`✅ Task scheduling took: ${(performance.now()-vt).toFixed(2)}ms`)}else if(Ge.type==="event"&&et.type==="slot"){const O=Ge.event,{machine:L,hour:G,minute:se,isUnavailable:te,hasScheduledTask:ie}=et;if(te)return h("Cannot reschedule task to unavailable time slot","error"),jt();if(ie)return h("Cannot reschedule task to occupied time slot","error"),jt();const he=new Date(m);he.setHours(G,se,0,0);const Se=O.time_remaining||O.duration||1,Oe=gy(he,Se),He={machine:L.id,start_time:he.toISOString(),end_time:Oe.toISOString()},rn=await c(O.id,He);rn?.error&&h(rn.error,"error"),console.log(`✅ Event rescheduling took: ${(performance.now()-vt).toFixed(2)}ms`)}else if(Ge.type==="event"&&et.type==="pool"){const O=Ge.event;f(O.id),console.log(`✅ Task unscheduling took: ${(performance.now()-vt).toFixed(2)}ms`)}jt()})})}catch(jt){console.error("❌ Drag operation failed:",jt),h("An error occurred during the drag operation","error")}finally{Nt.current=!1,console.log(`🎯 Total drag operation took: ${(performance.now()-ue).toFixed(2)}ms`)}},[m,c,f,h]);return i||K?p.jsx("div",{className:"scheduler-loading",children:p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("h3",{children:"Loading Production Scheduler..."}),p.jsx("p",{children:"Initializing components and data"})]})}):a?p.jsxs(cD,{onDragStart:wt,onDragEnd:Tn,children:[p.jsxs("div",{className:"scheduler-container",children:[p.jsx(x.Suspense,{fallback:p.jsx(Iy,{}),children:p.jsx(OD,{tasks:e,currentDate:m})}),p.jsxs("div",{className:"calendar-header",children:[p.jsx("h2",{className:"calendar-title",children:"Production Schedule"}),p.jsxs("div",{className:"calendar-controls",children:[p.jsxs("div",{className:"machine-filter",children:[p.jsxs("div",{className:"searchable-dropdown",style:{width:"200px"},children:[p.jsx("label",{htmlFor:"work_center_filter",children:"Work Center:"}),p.jsx("input",{type:"text",id:"work_center_filter",value:re,onChange:ne=>ve(ne.target.value),onFocus:()=>H(!0),placeholder:"Search Work Centers"}),k&&Q.workCenters.length>0&&p.jsxs("div",{className:"dropdown-options",children:[p.jsxs("div",{className:`dropdown-option ${Q.workCenters.filter(ue=>ue.toLowerCase().includes(re.toLowerCase())).every(ue=>b.includes(ue))&&b.length>0?"selected":""}`,onMouseDown:ne=>{ne.preventDefault(),ne.stopPropagation();const ue=Q.workCenters.filter(me=>me.toLowerCase().includes(re.toLowerCase())),ge=ue.every(me=>b.includes(me));E(ge?me=>me.filter(Ge=>!ue.includes(Ge)):me=>[...new Set([...me,...ue])])},children:[p.jsx("span",{className:"phase-name",children:"All Work Centers"}),p.jsx("span",{className:"phase-description",children:"Show all work centers"})]}),Q.workCenters.filter(ne=>ne.toLowerCase().includes(re.toLowerCase())).map(ne=>p.jsxs("div",{className:`dropdown-option ${b.includes(ne)?"selected":""}`,onMouseDown:ue=>{ue.preventDefault(),ue.stopPropagation(),b.includes(ne)?E(ge=>ge.filter(me=>me!==ne)):E(ge=>[...ge.filter(me=>me!==""),ne])},children:[p.jsx("span",{className:"phase-name",children:ne}),p.jsx("span",{className:"phase-description",children:"Work center"})]},ne))]})]}),p.jsxs("div",{className:"searchable-dropdown",style:{width:"200px"},children:[p.jsx("label",{htmlFor:"department_filter",children:"Department:"}),p.jsx("input",{type:"text",id:"department_filter",value:ce,onChange:ne=>$(ne.target.value),onFocus:()=>B(!0),placeholder:"Search Departments"}),F&&Q.departments.length>0&&p.jsxs("div",{className:"dropdown-options",children:[p.jsxs("div",{className:`dropdown-option ${Q.departments.filter(ue=>ue.toLowerCase().includes(ce.toLowerCase())).every(ue=>C.includes(ue))&&C.length>0?"selected":""}`,onMouseDown:ne=>{ne.preventDefault(),ne.stopPropagation();const ue=Q.departments.filter(me=>me.toLowerCase().includes(ce.toLowerCase())),ge=ue.every(me=>C.includes(me));R(ge?me=>me.filter(Ge=>!ue.includes(Ge)):me=>[...new Set([...me,...ue])])},children:[p.jsx("span",{className:"phase-name",children:"All Departments"}),p.jsx("span",{className:"phase-description",children:"Show all departments"})]}),Q.departments.filter(ne=>ne.toLowerCase().includes(ce.toLowerCase())).map(ne=>p.jsxs("div",{className:`dropdown-option ${C.includes(ne)?"selected":""}`,onMouseDown:ue=>{ue.preventDefault(),ue.stopPropagation(),C.includes(ne)?R(ge=>ge.filter(me=>me!==ne)):R(ge=>[...ge.filter(me=>me!==""),ne])},children:[p.jsx("span",{className:"phase-name",children:ne}),p.jsx("span",{className:"phase-description",children:"Department"})]},ne))]})]}),p.jsxs("div",{className:"searchable-dropdown",style:{width:"200px"},children:[p.jsx("label",{htmlFor:"machine_type_filter",children:"Machine Type:"}),p.jsx("input",{type:"text",id:"machine_type_filter",value:Z,onChange:ne=>de(ne.target.value),onFocus:()=>le(!0),placeholder:"Search Machine Types"}),ee&&Q.machineTypes.length>0&&p.jsxs("div",{className:"dropdown-options",children:[p.jsxs("div",{className:`dropdown-option ${Q.machineTypes.filter(ue=>ue.toLowerCase().includes(Z.toLowerCase())).every(ue=>A.includes(ue))&&A.length>0?"selected":""}`,onMouseDown:ne=>{ne.preventDefault(),ne.stopPropagation();const ue=Q.machineTypes.filter(me=>me.toLowerCase().includes(Z.toLowerCase())),ge=ue.every(me=>A.includes(me));M(ge?me=>me.filter(Ge=>!ue.includes(Ge)):me=>[...new Set([...me,...ue])])},children:[p.jsx("span",{className:"phase-name",children:"All Machine Types"}),p.jsx("span",{className:"phase-description",children:"Show all machine types"})]}),Q.machineTypes.filter(ne=>ne.toLowerCase().includes(Z.toLowerCase())).map(ne=>p.jsxs("div",{className:`dropdown-option ${A.includes(ne)?"selected":""}`,onMouseDown:ue=>{ue.preventDefault(),ue.stopPropagation(),A.includes(ne)?M(ge=>ge.filter(me=>me!==ne)):M(ge=>[...ge.filter(me=>me!==""),ne])},children:[p.jsx("span",{className:"phase-name",children:ne}),p.jsx("span",{className:"phase-description",children:"Machine type"})]},ne))]})]}),p.jsxs("div",{className:"searchable-dropdown",style:{width:"200px"},children:[p.jsx("label",{htmlFor:"machine_name_filter",children:"Machine Name:"}),p.jsx("input",{type:"text",id:"machine_name_filter",value:Ee,onChange:ne=>N(ne.target.value),onFocus:()=>ae(!0),placeholder:"Search Machine Names"}),oe&&Q.machineNames.length>0&&p.jsxs("div",{className:"dropdown-options",children:[p.jsxs("div",{className:`dropdown-option ${Q.machineNames.filter(ue=>ue.toLowerCase().includes(Ee.toLowerCase())).every(ue=>T.includes(ue))&&T.length>0?"selected":""}`,onMouseDown:ne=>{ne.preventDefault(),ne.stopPropagation();const ue=Q.machineNames.filter(me=>me.toLowerCase().includes(Ee.toLowerCase())),ge=ue.every(me=>T.includes(me));q(ge?me=>me.filter(Ge=>!ue.includes(Ge)):me=>[...new Set([...me,...ue])])},children:[p.jsx("span",{className:"phase-name",children:"All Machine Names"}),p.jsx("span",{className:"phase-description",children:"Show all machine names"})]}),Q.machineNames.filter(ne=>ne.toLowerCase().includes(Ee.toLowerCase())).map(ne=>p.jsxs("div",{className:`dropdown-option ${T.includes(ne)?"selected":""}`,onMouseDown:ue=>{ue.preventDefault(),ue.stopPropagation(),T.includes(ne)?q(ge=>ge.filter(me=>me!==ne)):q(ge=>[...ge.filter(me=>me!==""),ne])},children:[p.jsx("span",{className:"phase-name",children:ne}),p.jsx("span",{className:"phase-description",children:"Machine name"})]},ne))]})]}),p.jsx("button",{className:"btn btn-secondary",onClick:pt,title:"Clear all filters",children:"Clear Filters"})]}),p.jsxs("div",{className:"calendar-navigation",children:[p.jsx("button",{className:"nav-btn today",onClick:()=>De("today"),children:"Today"}),p.jsx("button",{className:"nav-btn",onClick:()=>De("prev"),children:"<"}),p.jsx("span",{className:"current-date",children:ye()}),p.jsx("button",{className:"nav-btn",onClick:()=>De("next"),children:">"})]}),p.jsx("button",{className:"btn btn-primary",onClick:()=>{const ne=document.querySelector(".calendar-section .calendar-grid");if(!ne){alert("Gantt chart not found. Make sure the chart is visible on screen.");return}console.log("PDF Download: Found Gantt chart element:",ne);const ue=Array.from(document.styleSheets);let ge="";ue.forEach(G=>{try{Array.from(G.cssRules||G.rules||[]).forEach(te=>{ge+=te.cssText+`
`})}catch(se){console.log("Could not access stylesheet:",se)}});const me=ne.cloneNode(!0),Ge=`
                  <!DOCTYPE html>
                  <html>
                    <head>
                      <title>Gantt Chart - ${ye()}</title>
                      <style>
                        ${ge}
                        body { 
                          margin: 0; 
                          padding: 20px; 
                          font-family: Arial, sans-serif;
                        }
                        .calendar-section {
                          width: 100%;
                          overflow-x: auto;
                        }
                      </style>
                    </head>
                    <body>
                      <div style="text-align: center; margin-bottom: 20px; font-size: 16px; font-weight: bold;">
                        Gantt Chart - ${ye()}
                      </div>
                      <div class="calendar-section">
                        ${me.outerHTML}
                      </div>
                    </body>
                  </html>
                `,et=new Blob([Ge],{type:"text/html"}),jt=window.URL.createObjectURL(et),vt=document.createElement("a");vt.href=jt;const O=m.toISOString().split("T")[0],L=new Date().toTimeString().split(" ")[0].replace(/:/g,"-");vt.download=`gantt-chart-${O}-${L}.html`,document.body.appendChild(vt),vt.click(),document.body.removeChild(vt),window.URL.revokeObjectURL(jt),console.log("PDF Download: Exact Gantt chart downloaded successfully")},title:"Download exact Gantt chart as HTML file",children:"Download HTML"})]})]}),p.jsx(x.Suspense,{fallback:p.jsx(Iy,{}),children:p.jsx(DD,{machines:fe,tasks:e,currentDate:m})})]}),p.jsx(AD,{children:y?p.jsxs("div",{className:"task-item drag-overlay",style:{boxShadow:"0 8px 25px rgba(0,0,0,0.3)",transform:"rotate(3deg) scale(1.05)",opacity:.9,zIndex:1002,pointerEvents:"none"},children:[p.jsx("span",{children:y.odp_number}),p.jsxs("span",{className:"task-duration",children:[y.duration||1,"h"]})]}):null})]}):p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"error",children:"Please select a work center to view scheduler data."})})}function jD(){const{machines:e,odpOrders:n,isLoading:a,isInitialized:i,init:l}=we();x.useEffect(()=>{i||l()},[l,i]);const u=x.useMemo(()=>{if(a)return{};const c=e.reduce((b,E)=>{const C=E.work_center||"Unknown";return b[C]||(b[C]={[$n.ACTIVE]:0,[$n.INACTIVE]:0,[$n.MAINTENANCE]:0}),b[C][E.status]=(b[C][E.status]||0)+1,b},{}),f=new Date,h=new Date(f);h.setDate(f.getDate()-f.getDay()),h.setHours(0,0,0,0);const m=n.filter(b=>b.completion_date?new Date(b.completion_date)>=h:!1).length,v=n.filter(b=>b.status==="IN PROGRESS"||b.status==="SCHEDULED").length,y=n.filter(b=>b.due_date?new Date(b.due_date)<f&&b.quantity_completed<b.quantity:!1).length,w=e.filter(b=>b.status===$n.ACTIVE).length;return{machinesByWorkCenter:c,completedThisWeek:m,tasksInWip:v,delayedTasks:y,activeMachines:w,totalMachines:e.length,totalOrders:n.length}},[e,n,a]);return a?p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"loading",children:"Loading dashboard..."})}):p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Production Dashboard"}),p.jsxs("div",{className:"metrics-grid",children:[p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Total Machines"}),p.jsx("div",{className:"metric-value",children:u.totalMachines}),p.jsxs("div",{className:"metric-subtitle",children:["Active: ",u.activeMachines]})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Total Orders"}),p.jsx("div",{className:"metric-value",children:u.totalOrders})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Completed This Week"}),p.jsx("div",{className:"metric-value",children:u.completedThisWeek})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Tasks in WIP"}),p.jsx("div",{className:"metric-value",children:u.tasksInWip})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Delayed Tasks"}),p.jsx("div",{className:"metric-value delayed",children:u.delayedTasks})]})]}),p.jsxs("div",{className:"charts-container",children:[p.jsxs("div",{className:"chart-section",children:[p.jsx("h3",{children:"Machines by Work Center"}),p.jsx("div",{className:"work-center-chart",children:Object.entries(u.machinesByWorkCenter||{}).map(([c,f])=>p.jsxs("div",{className:"work-center-group",children:[p.jsx("h4",{children:c}),p.jsx("div",{className:"status-bars",children:Object.entries(f).map(([h,m])=>p.jsxs("div",{className:"status-bar",children:[p.jsx("span",{className:"status-label",children:h}),p.jsx("div",{className:"status-bar-fill",style:{width:`${m/Math.max(...Object.values(f))*100}%`},children:m})]},h))})]},c))})]}),p.jsxs("div",{className:"chart-section",children:[p.jsx("h3",{children:"Weekly Task Completion"}),p.jsxs("div",{className:"simple-chart",children:[p.jsx("div",{className:"chart-bar",style:{height:`${u.completedThisWeek/Math.max(u.totalOrders,1)*200}px`},children:p.jsx("span",{className:"chart-label",children:u.completedThisWeek})}),p.jsx("div",{className:"chart-x-axis",children:"This Week"})]})]})]})]})}function MD(){const[e,n]=x.useState({email:"",password:"",workCenter:""}),[a,i]=x.useState(!1),[l,u]=x.useState({}),{signIn:c,error:f}=jl(),h=we(E=>E.setSelectedWorkCenter),m=Ou(),v=E=>{const{name:C,value:R}=E.target;n(A=>({...A,[C]:R})),l[C]&&u(A=>({...A,[C]:""}))},y=()=>{const E={};return e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(E.email="Please enter a valid email address"):E.email="Email is required",e.password?e.password.length<6&&(E.password="Password must be at least 6 characters"):E.password="Password is required",e.workCenter||(E.workCenter="Work center is required"),u(E),Object.keys(E).length===0},w=async E=>{if(E.preventDefault(),!!y()){i(!0);try{const C=await c(e.email,e.password);C.success?(h(e.workCenter),console.log("Login successful, work center set to:",e.workCenter),m("/",{replace:!0})):console.log("Login failed:",C.error)}catch(C){console.error("Login error:",C)}finally{i(!1)}}},b=E=>l[E]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:l[E]}):null;return p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Welcome Back"}),p.jsx("p",{children:"Sign in to your account to continue"})]}),p.jsxs("form",{onSubmit:w,className:"auth-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:v,placeholder:"Enter your email",className:l.email?"error":"",disabled:a,autoComplete:"email"}),b("email")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Password"}),p.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:v,placeholder:"Enter your password",className:l.password?"error":"",disabled:a,autoComplete:"current-password"}),b("password")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"workCenter",children:"Work Center *"}),p.jsxs("select",{id:"workCenter",name:"workCenter",value:e.workCenter,onChange:v,className:l.workCenter?"error":"",disabled:a,children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Ue.ZANICA,children:Ue.ZANICA}),p.jsx("option",{value:Ue.BUSTO_GAROLFO,children:Ue.BUSTO_GAROLFO}),p.jsx("option",{value:Ue.BOTH,children:Ue.BOTH})]}),b("workCenter")]}),f&&p.jsxs("div",{className:"auth-error",children:[p.jsx("span",{className:"error-icon",children:"⚠️"}),f]}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:a,children:a?"Signing In...":"Sign In"})]}),p.jsxs("div",{className:"auth-links",children:[p.jsx(Fn,{to:"/forgot-password",className:"auth-link",children:"Forgot your password?"}),p.jsx("div",{className:"auth-divider",children:p.jsx("span",{children:"Don't have an account?"})}),p.jsx(Fn,{to:"/signup",className:"btn btn-secondary",children:"Create Account"})]}),!1]})})}function kD(){const[e,n]=x.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[a,i]=x.useState(!1),[l,u]=x.useState({}),{signUp:c,error:f}=jl(),h=Ou(),m=b=>{const{name:E,value:C}=b.target;n(R=>({...R,[E]:C})),l[E]&&u(R=>({...R,[E]:""}))},v=()=>{const b={};return e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(b.email="Please enter a valid email address"):b.email="Email is required",e.password?e.password.length<6&&(b.password="Password must be at least 6 characters"):b.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(b.confirmPassword="Passwords do not match"):b.confirmPassword="Please confirm your password",e.firstName.trim()||(b.firstName="First name is required"),e.lastName.trim()||(b.lastName="Last name is required"),u(b),Object.keys(b).length===0},y=async b=>{if(b.preventDefault(),!!v()){i(!0);try{const E={first_name:e.firstName,last_name:e.lastName,full_name:`${e.firstName} ${e.lastName}`},C=await c(e.email,e.password,E);C.success?(console.log("Signup successful, redirecting to home"),h("/",{replace:!0})):console.log("Signup failed:",C.error)}catch(E){console.error("Signup error:",E)}finally{i(!1)}}},w=b=>l[b]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:l[b]}):null;return p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Create Account"}),p.jsx("p",{children:"Sign up to get started with your account"})]}),p.jsxs("form",{onSubmit:y,className:"auth-form",children:[p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"firstName",children:"First Name"}),p.jsx("input",{type:"text",id:"firstName",name:"firstName",value:e.firstName,onChange:m,placeholder:"Enter your first name",className:l.firstName?"error":"",disabled:a,autoComplete:"given-name"}),w("firstName")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"lastName",children:"Last Name"}),p.jsx("input",{type:"text",id:"lastName",name:"lastName",value:e.lastName,onChange:m,placeholder:"Enter your last name",className:l.lastName?"error":"",disabled:a,autoComplete:"family-name"}),w("lastName")]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:m,placeholder:"Enter your email",className:l.email?"error":"",disabled:a,autoComplete:"email"}),w("email")]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Password"}),p.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:m,placeholder:"Create a password",className:l.password?"error":"",disabled:a,autoComplete:"new-password"}),w("password")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),p.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:m,placeholder:"Confirm your password",className:l.confirmPassword?"error":"",disabled:a,autoComplete:"new-password"}),w("confirmPassword")]})]}),f&&p.jsxs("div",{className:"auth-error",children:[p.jsx("span",{className:"error-icon",children:"⚠️"}),f]}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:a,children:a?"Creating Account...":"Create Account"})]}),p.jsxs("div",{className:"auth-links",children:[p.jsx("div",{className:"auth-divider",children:p.jsx("span",{children:"Already have an account?"})}),p.jsx(Fn,{to:"/login",className:"btn btn-secondary",children:"Sign In"})]})]})})}function UD(){const[e,n]=x.useState(""),[a,i]=x.useState(!1),[l,u]=x.useState(!1),[c,f]=x.useState(""),{resetPassword:h}=jl(),m=async v=>{if(v.preventDefault(),!e.trim()){f("Please enter your email address");return}if(!/\S+@\S+\.\S+/.test(e)){f("Please enter a valid email address");return}i(!0),f("");try{const y=await h(e);y.success?u(!0):f(y.error||"Failed to send reset email")}catch(y){console.error("Password reset error:",y),f("An unexpected error occurred")}finally{i(!1)}};return l?p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Check Your Email"}),p.jsxs("p",{children:["We've sent a password reset link to ",e]})]}),p.jsxs("div",{className:"auth-success",children:[p.jsx("div",{className:"success-icon",children:"✅"}),p.jsx("p",{children:"If you don't see the email, check your spam folder."})]}),p.jsx("div",{className:"auth-links",children:p.jsx(Fn,{to:"/login",className:"btn btn-primary",children:"Back to Sign In"})})]})}):p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Reset Password"}),p.jsx("p",{children:"Enter your email to receive a password reset link"})]}),p.jsxs("form",{onSubmit:m,className:"auth-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:e,onChange:v=>n(v.target.value),placeholder:"Enter your email",disabled:a,autoComplete:"email"})]}),c&&p.jsxs("div",{className:"auth-error",children:[p.jsx("span",{className:"error-icon",children:"⚠️"}),c]}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:a,children:a?"Sending...":"Send Reset Link"})]}),p.jsx("div",{className:"auth-links",children:p.jsx(Fn,{to:"/login",className:"auth-link",children:"Back to Sign In"})})]})})}class Tu extends Me.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static generateErrorId(){return`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorId:Tu.generateErrorId()}}componentDidCatch(n,a){console.error("🚨 Error Boundary caught an error:",n,a),this.setState({errorInfo:a,errorId:this.state.errorId||Tu.generateErrorId()}),Ml(n,"ErrorBoundary"),this.logErrorToService(n,a)}logErrorToService(n,a){console.group("🚨 Production Error Report"),console.log("Error ID:",this.state.errorId),console.log("Error:",n),console.log("Error Info:",a),console.log("User Agent:",navigator.userAgent),console.log("URL:",window.location.href),console.log("Timestamp:",new Date().toISOString()),console.groupEnd()}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null}),window.location.reload()};handleGoHome=()=>{window.location.href="/"};handleReportIssue=()=>{const n=encodeURIComponent(`App Error Report - ${this.state.errorId}`),a=encodeURIComponent(`
Error Report Details:
- Error ID: ${this.state.errorId}
- Error: ${this.state.error?.message||"Unknown error"}
- URL: ${window.location.href}
- User Agent: ${navigator.userAgent}
- Timestamp: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:
    `);window.open(`mailto:support@company.com?subject=${n}&body=${a}`)};getErrorRecommendations=n=>{switch(C_(n)){case va.CRITICAL:return p.jsxs("div",{className:"error-boundary__recommendation critical",children:[p.jsx("strong",{children:"Critical Error:"})," This is a serious issue. Please contact support immediately."]});case va.HIGH:return p.jsxs("div",{className:"error-boundary__recommendation high",children:[p.jsx("strong",{children:"High Priority:"})," Please try refreshing the page or contact support if the problem persists."]});case va.MEDIUM:return p.jsxs("div",{className:"error-boundary__recommendation medium",children:[p.jsx("strong",{children:"Medium Priority:"})," Try refreshing the page or navigating to a different section."]});case va.LOW:return p.jsxs("div",{className:"error-boundary__recommendation low",children:[p.jsx("strong",{children:"Low Priority:"})," This error should resolve itself. Try continuing with your task."]});default:return null}};render(){return this.state.hasError?p.jsx("div",{className:"error-boundary",children:p.jsxs("div",{className:"error-boundary__container",children:[p.jsx("div",{className:"error-boundary__icon",children:"🚨"}),p.jsx("h1",{className:"error-boundary__title",children:"Oops! Something went wrong"}),p.jsx("p",{className:"error-boundary__message",children:"We're sorry, but something unexpected happened. Our team has been notified and is working to fix this issue."}),!1,p.jsxs("div",{className:"error-boundary__actions",children:[p.jsx("button",{onClick:this.handleRetry,className:"error-boundary__button error-boundary__button--primary",children:"🔄 Try Again"}),p.jsx("button",{onClick:this.handleGoHome,className:"error-boundary__button error-boundary__button--secondary",children:"🏠 Go to Home"}),p.jsx("button",{onClick:this.handleReportIssue,className:"error-boundary__button error-boundary__button--secondary",children:"📧 Report Issue"})]}),this.state.error&&p.jsx("div",{className:"error-boundary__recommendations",children:this.getErrorRecommendations(this.state.error)}),p.jsxs("div",{className:"error-boundary__footer",children:[p.jsxs("p",{className:"error-boundary__error-id",children:["Error ID: ",p.jsx("code",{children:this.state.errorId})]}),p.jsx("p",{className:"error-boundary__help",children:"If this problem persists, please contact support with the Error ID above."})]})]})}):this.props.children}}const LD=()=>{const{user:e,loading:n}=jl();return n?p.jsx("div",{className:"auth-loading",children:p.jsxs("div",{className:"auth-loading__container",children:[p.jsx("div",{className:"auth-loading__spinner"}),p.jsx("p",{children:"Checking authentication..."})]})}):e?p.jsx(e_,{}):(console.log("User not authenticated, redirecting to login"),p.jsx(Jy,{to:"/login",replace:!0}))},PD=({message:e,type:n="info",isVisible:a,onClose:i,autoClose:l=!0,duration:u=5e3})=>{if(x.useEffect(()=>{if(l&&a){const h=setTimeout(()=>{i()},u);return()=>clearTimeout(h)}},[a,l,u,i]),!a)return null;const c="alert",f={success:"alert--success",error:"alert--error",warning:"alert--warning",info:"alert--info"};return p.jsx("div",{className:`${c} ${f[n]||f.info}`,children:p.jsxs("div",{className:"alert__content",children:[p.jsx("span",{className:"alert__message",children:e}),p.jsx("button",{onClick:i,className:"alert__close","aria-label":"Close",children:"×"})]})})},$D=({isOpen:e,title:n,message:a,onConfirm:i,onCancel:l,confirmText:u="Delete",cancelText:c="Cancel",type:f="danger"})=>{if(!e)return null;const h="confirm-dialog",m={danger:"confirm-dialog--danger",warning:"confirm-dialog--warning",info:"confirm-dialog--info"};return p.jsxs("div",{className:`${h} ${m[f]||m.danger}`,children:[p.jsx("div",{className:"confirm-dialog__overlay",onClick:l}),p.jsxs("div",{className:"confirm-dialog__content",children:[p.jsx("div",{className:"confirm-dialog__header",children:p.jsx("h3",{className:"confirm-dialog__title",children:n})}),p.jsx("div",{className:"confirm-dialog__body",children:p.jsx("p",{className:"confirm-dialog__message",children:a})}),p.jsxs("div",{className:"confirm-dialog__footer",children:[p.jsx("button",{onClick:l,className:"confirm-dialog__button confirm-dialog__button--secondary",children:c}),p.jsx("button",{onClick:i,className:"confirm-dialog__button confirm-dialog__button--primary",children:u})]})]})]})},FD=()=>{const{alert:e,hideAlert:n,confirmDialog:a,hideConfirmDialog:i}=we();return p.jsxs("div",{className:"main-content",children:[p.jsx(cT,{}),p.jsx("div",{className:"page-container",children:p.jsx("main",{children:p.jsx(e_,{})})}),p.jsx(PD,{message:e.message,type:e.type,isVisible:e.isVisible,onClose:n}),p.jsx($D,{isOpen:a.isOpen,title:a.title,message:a.message,onConfirm:()=>{a.onConfirm?.(),i()},onCancel:i,type:a.type})]})};function zD(){return p.jsx(Tu,{children:p.jsxs(LS,{children:[p.jsx(Cn,{path:"/login",element:p.jsx(MD,{})}),p.jsx(Cn,{path:"/signup",element:p.jsx(kD,{})}),p.jsx(Cn,{path:"/forgot-password",element:p.jsx(UD,{})}),p.jsx(Cn,{path:"/",element:p.jsx(LD,{}),children:p.jsxs(Cn,{element:p.jsx(FD,{}),children:[p.jsx(Cn,{index:!0,element:p.jsx(jD,{})}),p.jsx(Cn,{path:"machinery",element:p.jsx(GA,{})}),p.jsx(Cn,{path:"machinery/:machineId/calendar",element:p.jsx(WA,{})}),p.jsx(Cn,{path:"phases",element:p.jsx(ZA,{})}),p.jsx(Cn,{path:"backlog",element:p.jsx(eO,{})}),p.jsx(Cn,{path:"scheduler",element:p.jsx(ND,{})})]})}),p.jsx(Cn,{path:"*",element:p.jsx(Jy,{to:"/",replace:!0})})]})})}const HD="/flexi/";Vw.createRoot(document.getElementById("root")).render(p.jsx(Me.StrictMode,{children:p.jsx(iE,{basename:HD,children:p.jsx(wC,{children:p.jsx(zD,{})})})}));export{Me as R,QD as a,WD as b,KD as c,YD as g,XD as i,p as j,x as r,At as t,we as u};
