(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=a(l);fetch(l.href,o)}})();function nh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Fw(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var a=function i(){var l=!1;try{l=this instanceof i}catch{}return l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};a.prototype=n.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var l=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(a,i,l.get?l:{enumerable:!0,get:function(){return e[i]}})}),a}var nf={exports:{}},il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function Iw(){if(_v)return il;_v=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(i,l,o){var c=null;if(o!==void 0&&(c=""+o),l.key!==void 0&&(c=""+l.key),"key"in l){o={};for(var f in l)f!=="key"&&(o[f]=l[f])}else o=l;return l=o.ref,{$$typeof:e,type:i,key:c,ref:l!==void 0?l:null,props:o}}return il.Fragment=n,il.jsx=a,il.jsxs=a,il}var bv;function $w(){return bv||(bv=1,nf.exports=Iw()),nf.exports}var p=$w(),rf={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function Bw(){if(wv)return De;wv=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function _(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,R={};function C(O,G,Q){this.props=O,this.context=G,this.refs=R,this.updater=Q||w}C.prototype.isReactComponent={},C.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function T(){}T.prototype=C.prototype;function D(O,G,Q){this.props=O,this.context=G,this.refs=R,this.updater=Q||w}var A=D.prototype=new T;A.constructor=D,S(A,C.prototype),A.isPureReactComponent=!0;var $=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function J(O,G,Q,B,oe,Se){return Q=Se.ref,{$$typeof:e,type:O,key:G,ref:Q!==void 0?Q:null,props:Se}}function X(O,G){return J(O.type,G,void 0,void 0,void 0,O.props)}function ne(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function ee(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Q){return G[Q]})}var te=/\/+/g;function ie(O,G){return typeof O=="object"&&O!==null&&O.key!=null?ee(""+O.key):G.toString(36)}function de(){}function fe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(de,de):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function we(O,G,Q,B,oe){var Se=typeof O;(Se==="undefined"||Se==="boolean")&&(O=null);var ce=!1;if(O===null)ce=!0;else switch(Se){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(O.$$typeof){case e:case n:ce=!0;break;case v:return ce=O._init,we(ce(O._payload),G,Q,B,oe)}}if(ce)return oe=oe(O),ce=B===""?"."+ie(O,0):B,$(oe)?(Q="",ce!=null&&(Q=ce.replace(te,"$&/")+"/"),we(oe,G,Q,"",function(mt){return mt})):oe!=null&&(ne(oe)&&(oe=X(oe,Q+(oe.key==null||O&&O.key===oe.key?"":(""+oe.key).replace(te,"$&/")+"/")+ce)),G.push(oe)),1;ce=0;var ze=B===""?".":B+":";if($(O))for(var ye=0;ye<O.length;ye++)B=O[ye],Se=ze+ie(B,ye),ce+=we(B,G,Q,Se,oe);else if(ye=_(O),typeof ye=="function")for(O=ye.call(O),ye=0;!(B=O.next()).done;)B=B.value,Se=ze+ie(B,ye++),ce+=we(B,G,Q,Se,oe);else if(Se==="object"){if(typeof O.then=="function")return we(fe(O),G,Q,B,oe);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ce}function L(O,G,Q){if(O==null)return O;var B=[],oe=0;return we(O,B,"","",function(Se){return G.call(Q,Se,oe++)}),B}function W(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(Q){(O._status===0||O._status===-1)&&(O._status=1,O._result=Q)},function(Q){(O._status===0||O._status===-1)&&(O._status=2,O._result=Q)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var re=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function se(){}return De.Children={map:L,forEach:function(O,G,Q){L(O,function(){G.apply(this,arguments)},Q)},count:function(O){var G=0;return L(O,function(){G++}),G},toArray:function(O){return L(O,function(G){return G})||[]},only:function(O){if(!ne(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},De.Component=C,De.Fragment=a,De.Profiler=l,De.PureComponent=D,De.StrictMode=i,De.Suspense=h,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,De.__COMPILER_RUNTIME={__proto__:null,c:function(O){return U.H.useMemoCache(O)}},De.cache=function(O){return function(){return O.apply(null,arguments)}},De.cloneElement=function(O,G,Q){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var B=S({},O.props),oe=O.key,Se=void 0;if(G!=null)for(ce in G.ref!==void 0&&(Se=void 0),G.key!==void 0&&(oe=""+G.key),G)!Z.call(G,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&G.ref===void 0||(B[ce]=G[ce]);var ce=arguments.length-2;if(ce===1)B.children=Q;else if(1<ce){for(var ze=Array(ce),ye=0;ye<ce;ye++)ze[ye]=arguments[ye+2];B.children=ze}return J(O.type,oe,void 0,void 0,Se,B)},De.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},De.createElement=function(O,G,Q){var B,oe={},Se=null;if(G!=null)for(B in G.key!==void 0&&(Se=""+G.key),G)Z.call(G,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(oe[B]=G[B]);var ce=arguments.length-2;if(ce===1)oe.children=Q;else if(1<ce){for(var ze=Array(ce),ye=0;ye<ce;ye++)ze[ye]=arguments[ye+2];oe.children=ze}if(O&&O.defaultProps)for(B in ce=O.defaultProps,ce)oe[B]===void 0&&(oe[B]=ce[B]);return J(O,Se,void 0,void 0,null,oe)},De.createRef=function(){return{current:null}},De.forwardRef=function(O){return{$$typeof:f,render:O}},De.isValidElement=ne,De.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:W}},De.memo=function(O,G){return{$$typeof:m,type:O,compare:G===void 0?null:G}},De.startTransition=function(O){var G=U.T,Q={};U.T=Q;try{var B=O(),oe=U.S;oe!==null&&oe(Q,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(se,re)}catch(Se){re(Se)}finally{U.T=G}},De.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},De.use=function(O){return U.H.use(O)},De.useActionState=function(O,G,Q){return U.H.useActionState(O,G,Q)},De.useCallback=function(O,G){return U.H.useCallback(O,G)},De.useContext=function(O){return U.H.useContext(O)},De.useDebugValue=function(){},De.useDeferredValue=function(O,G){return U.H.useDeferredValue(O,G)},De.useEffect=function(O,G,Q){var B=U.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return B.useEffect(O,G)},De.useId=function(){return U.H.useId()},De.useImperativeHandle=function(O,G,Q){return U.H.useImperativeHandle(O,G,Q)},De.useInsertionEffect=function(O,G){return U.H.useInsertionEffect(O,G)},De.useLayoutEffect=function(O,G){return U.H.useLayoutEffect(O,G)},De.useMemo=function(O,G){return U.H.useMemo(O,G)},De.useOptimistic=function(O,G){return U.H.useOptimistic(O,G)},De.useReducer=function(O,G,Q){return U.H.useReducer(O,G,Q)},De.useRef=function(O){return U.H.useRef(O)},De.useState=function(O){return U.H.useState(O)},De.useSyncExternalStore=function(O,G,Q){return U.H.useSyncExternalStore(O,G,Q)},De.useTransition=function(){return U.H.useTransition()},De.version="19.1.1",De}var Sv;function rh(){return Sv||(Sv=1,rf.exports=Bw()),rf.exports}var x=rh();const Ne=nh(x);var af={exports:{}},sl={},sf={exports:{}},lf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function Vw(){return Ev||(Ev=1,(function(e){function n(L,W){var re=L.length;L.push(W);e:for(;0<re;){var se=re-1>>>1,O=L[se];if(0<l(O,W))L[se]=W,L[re]=O,re=se;else break e}}function a(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var W=L[0],re=L.pop();if(re!==W){L[0]=re;e:for(var se=0,O=L.length,G=O>>>1;se<G;){var Q=2*(se+1)-1,B=L[Q],oe=Q+1,Se=L[oe];if(0>l(B,re))oe<O&&0>l(Se,B)?(L[se]=Se,L[oe]=re,se=oe):(L[se]=B,L[Q]=re,se=Q);else if(oe<O&&0>l(Se,re))L[se]=Se,L[oe]=re,se=oe;else break e}}return W}function l(L,W){var re=L.sortIndex-W.sortIndex;return re!==0?re:L.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var h=[],m=[],v=1,y=null,_=3,w=!1,S=!1,R=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function $(L){for(var W=a(m);W!==null;){if(W.callback===null)i(m);else if(W.startTime<=L)i(m),W.sortIndex=W.expirationTime,n(h,W);else break;W=a(m)}}function U(L){if(R=!1,$(L),!S)if(a(h)!==null)S=!0,Z||(Z=!0,ie());else{var W=a(m);W!==null&&we(U,W.startTime-L)}}var Z=!1,J=-1,X=5,ne=-1;function ee(){return C?!0:!(e.unstable_now()-ne<X)}function te(){if(C=!1,Z){var L=e.unstable_now();ne=L;var W=!0;try{e:{S=!1,R&&(R=!1,D(J),J=-1),w=!0;var re=_;try{t:{for($(L),y=a(h);y!==null&&!(y.expirationTime>L&&ee());){var se=y.callback;if(typeof se=="function"){y.callback=null,_=y.priorityLevel;var O=se(y.expirationTime<=L);if(L=e.unstable_now(),typeof O=="function"){y.callback=O,$(L),W=!0;break t}y===a(h)&&i(h),$(L)}else i(h);y=a(h)}if(y!==null)W=!0;else{var G=a(m);G!==null&&we(U,G.startTime-L),W=!1}}break e}finally{y=null,_=re,w=!1}W=void 0}}finally{W?ie():Z=!1}}}var ie;if(typeof A=="function")ie=function(){A(te)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,fe=de.port2;de.port1.onmessage=te,ie=function(){fe.postMessage(null)}}else ie=function(){T(te,0)};function we(L,W){J=T(function(){L(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(L){switch(_){case 1:case 2:case 3:var W=3;break;default:W=_}var re=_;_=W;try{return L()}finally{_=re}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var re=_;_=L;try{return W()}finally{_=re}},e.unstable_scheduleCallback=function(L,W,re){var se=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?se+re:se):re=se,L){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=re+O,L={id:v++,callback:W,priorityLevel:L,startTime:re,expirationTime:O,sortIndex:-1},re>se?(L.sortIndex=re,n(m,L),a(h)===null&&L===a(m)&&(R?(D(J),J=-1):R=!0,we(U,re-se))):(L.sortIndex=O,n(h,L),S||w||(S=!0,Z||(Z=!0,ie()))),L},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(L){var W=_;return function(){var re=_;_=W;try{return L.apply(this,arguments)}finally{_=re}}}})(lf)),lf}var xv;function qw(){return xv||(xv=1,sf.exports=Vw()),sf.exports}var of={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function Gw(){if(Rv)return Xt;Rv=1;var e=rh();function n(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(h,m,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:h,containerInfo:m,implementation:v}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xt.createPortal=function(h,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return o(h,m,null,v)},Xt.flushSync=function(h){var m=c.T,v=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=m,i.p=v,i.d.f()}},Xt.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},Xt.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Xt.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var v=m.as,y=f(v,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:w}):v==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Xt.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=f(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},Xt.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,y=f(v,m.crossOrigin);i.d.L(h,v,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Xt.preloadModule=function(h,m){if(typeof h=="string")if(m){var v=f(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},Xt.requestFormReset=function(h){i.d.r(h)},Xt.unstable_batchedUpdates=function(h,m){return h(m)},Xt.useFormState=function(h,m,v){return c.H.useFormState(h,m,v)},Xt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Xt.version="19.1.1",Xt}var Cv;function Wy(){if(Cv)return of.exports;Cv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),of.exports=Gw(),of.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function Yw(){if(Tv)return sl;Tv=1;var e=qw(),n=rh(),a=Wy();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function f(t){if(o(t)!==t)throw Error(i(188))}function h(t){var r=t.alternate;if(!r){if(r=o(t),r===null)throw Error(i(188));return r!==t?null:t}for(var s=t,u=r;;){var d=s.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){s=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===s)return f(d),t;if(g===u)return f(d),r;g=g.sibling}throw Error(i(188))}if(s.return!==u.return)s=d,u=g;else{for(var b=!1,E=d.child;E;){if(E===s){b=!0,s=d,u=g;break}if(E===u){b=!0,u=d,s=g;break}E=E.sibling}if(!b){for(E=g.child;E;){if(E===s){b=!0,s=g,u=d;break}if(E===u){b=!0,u=g,s=d;break}E=E.sibling}if(!b)throw Error(i(189))}}if(s.alternate!==u)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:r}function m(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=m(t),r!==null)return r;t=t.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),A=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function ie(t){return t===null||typeof t!="object"?null:(t=te&&t[te]||t["@@iterator"],typeof t=="function"?t:null)}var de=Symbol.for("react.client.reference");function fe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===de?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case C:return"Profiler";case R:return"StrictMode";case U:return"Suspense";case Z:return"SuspenseList";case ne:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case A:return(t.displayName||"Context")+".Provider";case D:return(t._context.displayName||"Context")+".Consumer";case $:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return r=t.displayName||null,r!==null?r:fe(t.type)||"Memo";case X:r=t._payload,t=t._init;try{return fe(t(r))}catch{}}return null}var we=Array.isArray,L=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},se=[],O=-1;function G(t){return{current:t}}function Q(t){0>O||(t.current=se[O],se[O]=null,O--)}function B(t,r){O++,se[O]=t.current,t.current=r}var oe=G(null),Se=G(null),ce=G(null),ze=G(null);function ye(t,r){switch(B(ce,r),B(Se,t),B(oe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Yp(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Yp(r),t=Kp(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(oe),B(oe,t)}function mt(){Q(oe),Q(Se),Q(ce)}function rt(t){t.memoizedState!==null&&B(ze,t);var r=oe.current,s=Kp(r,t.type);r!==s&&(B(Se,t),B(oe,s))}function sn(t){Se.current===t&&(Q(oe),Q(Se)),ze.current===t&&(Q(ze),el._currentValue=re)}var _t=Object.prototype.hasOwnProperty,Vr=e.unstable_scheduleCallback,ln=e.unstable_cancelCallback,gr=e.unstable_shouldYield,Jn=e.unstable_requestPaint,Jt=e.unstable_now,cs=e.unstable_getCurrentPriorityLevel,mr=e.unstable_ImmediatePriority,j=e.unstable_UserBlockingPriority,H=e.unstable_NormalPriority,V=e.unstable_LowPriority,ue=e.unstable_IdlePriority,le=e.log,ae=e.unstable_setDisableYieldValue,ge=null,_e=null;function Ae(t){if(typeof le=="function"&&ae(t),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(ge,t)}catch{}}var Fe=Math.clz32?Math.clz32:Ja,pr=Math.log,Rt=Math.LN2;function Ja(t){return t>>>=0,t===0?32:31-(pr(t)/Rt|0)|0}var er=256,tr=4194304;function hn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function nr(t,r,s){var u=t.pendingLanes;if(u===0)return 0;var d=0,g=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var E=u&134217727;return E!==0?(u=E&~g,u!==0?d=hn(u):(b&=E,b!==0?d=hn(b):s||(s=E&~t,s!==0&&(d=hn(s))))):(E=u&~g,E!==0?d=hn(E):b!==0?d=hn(b):s||(s=u&~t,s!==0&&(d=hn(s)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,s=r&-r,g>=s||g===32&&(s&4194048)!==0)?r:d}function vr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Ra(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yl(){var t=er;return er<<=1,(er&4194048)===0&&(er=256),t}function Kl(){var t=tr;return tr<<=1,(tr&62914560)===0&&(tr=4194304),t}function ds(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function ft(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function en(t,r,s,u,d,g){var b=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(s=b&~s;0<s;){var q=31-Fe(s),K=1<<q;E[q]=0,N[q]=-1;var F=z[q];if(F!==null)for(z[q]=null,q=0;q<F.length;q++){var I=F[q];I!==null&&(I.lane&=-536870913)}s&=~K}u!==0&&qt(t,u,0),g!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=g&~(b&~r))}function qt(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var u=31-Fe(r);t.entangledLanes|=r,t.entanglements[u]=t.entanglements[u]|1073741824|s&4194090}function Hn(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var u=31-Fe(s),d=1<<u;d&r|t[u]&r&&(t[u]|=r),s&=~d}}function Gt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ft(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gn(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:hv(t.type))}function qr(t,r){var s=W.p;try{return W.p=t,r()}finally{W.p=s}}var et=Math.random().toString(36).slice(2),at="__reactFiber$"+et,it="__reactProps$"+et,Yt="__reactContainer$"+et,yr="__reactEvents$"+et,Ca="__reactListeners$"+et,rr="__reactHandles$"+et,Gr="__reactResources$"+et,_r="__reactMarker$"+et;function Xu(t){delete t[at],delete t[it],delete t[yr],delete t[Ca],delete t[rr]}function ei(t){var r=t[at];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Yt]||s[at]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=Zp(t);t!==null;){if(s=t[at])return s;t=Zp(t)}return r}t=s,s=t.parentNode}return null}function ti(t){if(t=t[at]||t[Yt]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function fs(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function ni(t){var r=t[Gr];return r||(r=t[Gr]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function jt(t){t[_r]=!0}var Lh=new Set,Ph={};function Ta(t,r){ri(t,r),ri(t+"Capture",r)}function ri(t,r){for(Ph[t]=r,t=0;t<r.length;t++)Lh.add(r[t])}var jb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hh={},zh={};function Mb(t){return _t.call(zh,t)?!0:_t.call(Hh,t)?!1:jb.test(t)?zh[t]=!0:(Hh[t]=!0,!1)}function Xl(t,r,s){if(Mb(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function Wl(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function br(t,r,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+u)}}var Wu,Fh;function ai(t){if(Wu===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Wu=r&&r[1]||"",Fh=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wu+t+Fh}var Qu=!1;function Zu(t,r){if(!t||Qu)return"";Qu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(I){var F=I}Reflect.construct(t,[],K)}else{try{K.call()}catch(I){F=I}t.call(K.prototype)}}else{try{throw Error()}catch(I){F=I}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(I){if(I&&F&&typeof I.stack=="string")return[I.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],E=g[1];if(b&&E){var N=b.split(`
`),z=E.split(`
`);for(d=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;if(u===N.length||d===z.length)for(u=N.length-1,d=z.length-1;1<=u&&0<=d&&N[u]!==z[d];)d--;for(;1<=u&&0<=d;u--,d--)if(N[u]!==z[d]){if(u!==1||d!==1)do if(u--,d--,0>d||N[u]!==z[d]){var q=`
`+N[u].replace(" at new "," at ");return t.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",t.displayName)),q}while(1<=u&&0<=d);break}}}finally{Qu=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ai(s):""}function kb(t){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return Zu(t.type,!1);case 11:return Zu(t.type.render,!1);case 1:return Zu(t.type,!0);case 31:return ai("Activity");default:return""}}function Ih(t){try{var r="";do r+=kb(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $h(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ub(t){var r=$h(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,g=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ql(t){t._valueTracker||(t._valueTracker=Ub(t))}function Bh(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),u="";return t&&(u=$h(t)?t.checked?"true":"false":t.value),t=u,t!==s?(r.setValue(t),!0):!1}function Zl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Lb=/[\n"\\]/g;function Tn(t){return t.replace(Lb,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ju(t,r,s,u,d,g,b,E){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Cn(r)):t.value!==""+Cn(r)&&(t.value=""+Cn(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?ec(t,b,Cn(r)):s!=null?ec(t,b,Cn(s)):u!=null&&t.removeAttribute("value"),d==null&&g!=null&&(t.defaultChecked=!!g),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Cn(E):t.removeAttribute("name")}function Vh(t,r,s,u,d,g,b,E){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),r!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;s=s!=null?""+Cn(s):"",r=r!=null?""+Cn(r):s,E||r===t.value||(t.value=r),t.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=E?t.checked:!!u,t.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function ec(t,r,s){r==="number"&&Zl(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ii(t,r,s,u){if(t=t.options,r){r={};for(var d=0;d<s.length;d++)r["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=r.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&u&&(t[s].defaultSelected=!0)}else{for(s=""+Cn(s),r=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function qh(t,r,s){if(r!=null&&(r=""+Cn(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+Cn(s):""}function Gh(t,r,s,u){if(r==null){if(u!=null){if(s!=null)throw Error(i(92));if(we(u)){if(1<u.length)throw Error(i(93));u=u[0]}s=u}s==null&&(s=""),r=s}s=Cn(r),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u)}function si(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Pb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yh(t,r,s){var u=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":u?t.setProperty(r,s):typeof s!="number"||s===0||Pb.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Kh(t,r,s){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&s[d]!==u&&Yh(t,d,u)}else for(var g in r)r.hasOwnProperty(g)&&Yh(t,g,r[g])}function tc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jl(t){return zb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var nc=null;function rc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var li=null,oi=null;function Xh(t){var r=ti(t);if(r&&(t=r.stateNode)){var s=t[it]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ju(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Tn(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var u=s[r];if(u!==t&&u.form===t.form){var d=u[it]||null;if(!d)throw Error(i(90));Ju(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<s.length;r++)u=s[r],u.form===t.form&&Bh(u)}break e;case"textarea":qh(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&ii(t,!!s.multiple,r,!1)}}}var ac=!1;function Wh(t,r,s){if(ac)return t(r,s);ac=!0;try{var u=t(r);return u}finally{if(ac=!1,(li!==null||oi!==null)&&(zo(),li&&(r=li,t=oi,oi=li=null,Xh(r),t)))for(r=0;r<t.length;r++)Xh(t[r])}}function hs(t,r){var s=t.stateNode;if(s===null)return null;var u=s[it]||null;if(u===null)return null;s=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,r,typeof s));return s}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ic=!1;if(wr)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){ic=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{ic=!1}var Yr=null,sc=null,eo=null;function Qh(){if(eo)return eo;var t,r=sc,s=r.length,u,d="value"in Yr?Yr.value:Yr.textContent,g=d.length;for(t=0;t<s&&r[t]===d[t];t++);var b=s-t;for(u=1;u<=b&&r[s-u]===d[g-u];u++);return eo=d.slice(t,1<u?1-u:void 0)}function to(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function no(){return!0}function Zh(){return!1}function on(t){function r(s,u,d,g,b){this._reactName=s,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?no:Zh,this.isPropagationStopped=Zh,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),r}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=on(Aa),ms=v({},Aa,{view:0,detail:0}),Fb=on(ms),lc,oc,ps,ao=v({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ps&&(ps&&t.type==="mousemove"?(lc=t.screenX-ps.screenX,oc=t.screenY-ps.screenY):oc=lc=0,ps=t),lc)},movementY:function(t){return"movementY"in t?t.movementY:oc}}),Jh=on(ao),Ib=v({},ao,{dataTransfer:0}),$b=on(Ib),Bb=v({},ms,{relatedTarget:0}),uc=on(Bb),Vb=v({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),qb=on(Vb),Gb=v({},Aa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yb=on(Gb),Kb=v({},Aa,{data:0}),eg=on(Kb),Xb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zb(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Qb[t])?!!r[t]:!1}function cc(){return Zb}var Jb=v({},ms,{key:function(t){if(t.key){var r=Xb[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=to(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(t){return t.type==="keypress"?to(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?to(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),e0=on(Jb),t0=v({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tg=on(t0),n0=v({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),r0=on(n0),a0=v({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),i0=on(a0),s0=v({},ao,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),l0=on(s0),o0=v({},Aa,{newState:0,oldState:0}),u0=on(o0),c0=[9,13,27,32],dc=wr&&"CompositionEvent"in window,vs=null;wr&&"documentMode"in document&&(vs=document.documentMode);var d0=wr&&"TextEvent"in window&&!vs,ng=wr&&(!dc||vs&&8<vs&&11>=vs),rg=" ",ag=!1;function ig(t,r){switch(t){case"keyup":return c0.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ui=!1;function f0(t,r){switch(t){case"compositionend":return sg(r);case"keypress":return r.which!==32?null:(ag=!0,rg);case"textInput":return t=r.data,t===rg&&ag?null:t;default:return null}}function h0(t,r){if(ui)return t==="compositionend"||!dc&&ig(t,r)?(t=Qh(),eo=sc=Yr=null,ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ng&&r.locale!=="ko"?null:r.data;default:return null}}var g0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!g0[t.type]:r==="textarea"}function og(t,r,s,u){li?oi?oi.push(u):oi=[u]:li=u,r=qo(r,"onChange"),0<r.length&&(s=new ro("onChange","change",null,s,u),t.push({event:s,listeners:r}))}var ys=null,_s=null;function m0(t){$p(t,0)}function io(t){var r=fs(t);if(Bh(r))return t}function ug(t,r){if(t==="change")return r}var cg=!1;if(wr){var fc;if(wr){var hc="oninput"in document;if(!hc){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),hc=typeof dg.oninput=="function"}fc=hc}else fc=!1;cg=fc&&(!document.documentMode||9<document.documentMode)}function fg(){ys&&(ys.detachEvent("onpropertychange",hg),_s=ys=null)}function hg(t){if(t.propertyName==="value"&&io(_s)){var r=[];og(r,_s,t,rc(t)),Wh(m0,r)}}function p0(t,r,s){t==="focusin"?(fg(),ys=r,_s=s,ys.attachEvent("onpropertychange",hg)):t==="focusout"&&fg()}function v0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return io(_s)}function y0(t,r){if(t==="click")return io(r)}function _0(t,r){if(t==="input"||t==="change")return io(r)}function b0(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var mn=typeof Object.is=="function"?Object.is:b0;function bs(t,r){if(mn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),u=Object.keys(r);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var d=s[u];if(!_t.call(r,d)||!mn(t[d],r[d]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,r){var s=gg(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=r&&u>=r)return{node:s,offset:r-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=gg(s)}}function pg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?pg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Zl(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=Zl(t.document)}return r}function gc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var w0=wr&&"documentMode"in document&&11>=document.documentMode,ci=null,mc=null,ws=null,pc=!1;function yg(t,r,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;pc||ci==null||ci!==Zl(u)||(u=ci,"selectionStart"in u&&gc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ws&&bs(ws,u)||(ws=u,u=qo(mc,"onSelect"),0<u.length&&(r=new ro("onSelect","select",null,r,s),t.push({event:r,listeners:u}),r.target=ci)))}function Oa(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var di={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},vc={},_g={};wr&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function Da(t){if(vc[t])return vc[t];if(!di[t])return t;var r=di[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in _g)return vc[t]=r[s];return t}var bg=Da("animationend"),wg=Da("animationiteration"),Sg=Da("animationstart"),S0=Da("transitionrun"),E0=Da("transitionstart"),x0=Da("transitioncancel"),Eg=Da("transitionend"),xg=new Map,yc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yc.push("scrollEnd");function zn(t,r){xg.set(t,r),Ta(r,[t])}var Rg=new WeakMap;function An(t,r){if(typeof t=="object"&&t!==null){var s=Rg.get(t);return s!==void 0?s:(r={value:t,source:r,stack:Ih(r)},Rg.set(t,r),r)}return{value:t,source:r,stack:Ih(r)}}var On=[],fi=0,_c=0;function so(){for(var t=fi,r=_c=fi=0;r<t;){var s=On[r];On[r++]=null;var u=On[r];On[r++]=null;var d=On[r];On[r++]=null;var g=On[r];if(On[r++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}g!==0&&Cg(s,d,g)}}function lo(t,r,s,u){On[fi++]=t,On[fi++]=r,On[fi++]=s,On[fi++]=u,_c|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function bc(t,r,s,u){return lo(t,r,s,u),oo(t)}function hi(t,r){return lo(t,null,null,r),oo(t)}function Cg(t,r,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var d=!1,g=t.return;g!==null;)g.childLanes|=s,u=g.alternate,u!==null&&(u.childLanes|=s),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(d=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,d&&r!==null&&(d=31-Fe(s),t=g.hiddenUpdates,u=t[d],u===null?t[d]=[r]:u.push(r),r.lane=s|536870912),g):null}function oo(t){if(50<Gs)throw Gs=0,Cd=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var gi={};function R0(t,r,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,r,s,u){return new R0(t,r,s,u)}function wc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sr(t,r){var s=t.alternate;return s===null?(s=pn(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Tg(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function uo(t,r,s,u,d,g){var b=0;if(u=t,typeof t=="function")wc(t)&&(b=1);else if(typeof t=="string")b=Tw(t,s,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ne:return t=pn(31,s,r,d),t.elementType=ne,t.lanes=g,t;case S:return Na(s.children,d,g,r);case R:b=8,d|=24;break;case C:return t=pn(12,s,r,d|2),t.elementType=C,t.lanes=g,t;case U:return t=pn(13,s,r,d),t.elementType=U,t.lanes=g,t;case Z:return t=pn(19,s,r,d),t.elementType=Z,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T:case A:b=10;break e;case D:b=9;break e;case $:b=11;break e;case J:b=14;break e;case X:b=16,u=null;break e}b=29,s=Error(i(130,t===null?"null":typeof t,"")),u=null}return r=pn(b,s,r,d),r.elementType=t,r.type=u,r.lanes=g,r}function Na(t,r,s,u){return t=pn(7,t,u,r),t.lanes=s,t}function Sc(t,r,s){return t=pn(6,t,null,r),t.lanes=s,t}function Ec(t,r,s){return r=pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var mi=[],pi=0,co=null,fo=0,Dn=[],Nn=0,ja=null,Er=1,xr="";function Ma(t,r){mi[pi++]=fo,mi[pi++]=co,co=t,fo=r}function Ag(t,r,s){Dn[Nn++]=Er,Dn[Nn++]=xr,Dn[Nn++]=ja,ja=t;var u=Er;t=xr;var d=32-Fe(u)-1;u&=~(1<<d),s+=1;var g=32-Fe(r)+d;if(30<g){var b=d-d%5;g=(u&(1<<b)-1).toString(32),u>>=b,d-=b,Er=1<<32-Fe(r)+d|s<<d|u,xr=g+t}else Er=1<<g|s<<d|u,xr=t}function xc(t){t.return!==null&&(Ma(t,1),Ag(t,1,0))}function Rc(t){for(;t===co;)co=mi[--pi],mi[pi]=null,fo=mi[--pi],mi[pi]=null;for(;t===ja;)ja=Dn[--Nn],Dn[Nn]=null,xr=Dn[--Nn],Dn[Nn]=null,Er=Dn[--Nn],Dn[Nn]=null}var tn=null,ht=null,Be=!1,ka=null,ar=!1,Cc=Error(i(519));function Ua(t){var r=Error(i(418,""));throw xs(An(r,t)),Cc}function Og(t){var r=t.stateNode,s=t.type,u=t.memoizedProps;switch(r[at]=t,r[it]=u,s){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(s=0;s<Ks.length;s++)Ue(Ks[s],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),Vh(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ql(r);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),Gh(r,u.value,u.defaultValue,u.children),Ql(r)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||u.suppressHydrationWarning===!0||Gp(r.textContent,s)?(u.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),u.onScroll!=null&&Ue("scroll",r),u.onScrollEnd!=null&&Ue("scrollend",r),u.onClick!=null&&(r.onclick=Go),r=!0):r=!1,r||Ua(t)}function Dg(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:ar=!1;return;case 27:case 3:ar=!0;return;default:tn=tn.return}}function Ss(t){if(t!==tn)return!1;if(!Be)return Dg(t),Be=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||$d(t.type,t.memoizedProps)),s=!s),s&&ht&&Ua(t),Dg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){ht=In(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}ht=null}}else r===27?(r=ht,ua(t.type)?(t=Gd,Gd=null,ht=t):ht=r):ht=tn?In(t.stateNode.nextSibling):null;return!0}function Es(){ht=tn=null,Be=!1}function Ng(){var t=ka;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),ka=null),t}function xs(t){ka===null?ka=[t]:ka.push(t)}var Tc=G(null),La=null,Rr=null;function Kr(t,r,s){B(Tc,r._currentValue),r._currentValue=s}function Cr(t){t._currentValue=Tc.current,Q(Tc)}function Ac(t,r,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===s)break;t=t.return}}function Oc(t,r,s,u){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;e:for(;g!==null;){var E=g;g=d;for(var N=0;N<r.length;N++)if(E.context===r[N]){g.lanes|=s,E=g.alternate,E!==null&&(E.lanes|=s),Ac(g.return,s,t),u||(b=null);break e}g=E.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=s,g=b.alternate,g!==null&&(g.lanes|=s),Ac(b,s,t),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===t){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Rs(t,r,s,u){t=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var E=d.type;mn(d.pendingProps.value,b.value)||(t!==null?t.push(E):t=[E])}}else if(d===ze.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(el):t=[el])}d=d.return}t!==null&&Oc(r,t,s,u),r.flags|=262144}function ho(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pa(t){La=t,Rr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return jg(La,t)}function go(t,r){return La===null&&Pa(t),jg(t,r)}function jg(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Rr===null){if(t===null)throw Error(i(308));Rr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Rr=Rr.next=r;return s}var C0=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},T0=e.unstable_scheduleCallback,A0=e.unstable_NormalPriority,Ct={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dc(){return{controller:new C0,data:new Map,refCount:0}}function Cs(t){t.refCount--,t.refCount===0&&T0(A0,function(){t.controller.abort()})}var Ts=null,Nc=0,vi=0,yi=null;function O0(t,r){if(Ts===null){var s=Ts=[];Nc=0,vi=Md(),yi={status:"pending",value:void 0,then:function(u){s.push(u)}}}return Nc++,r.then(Mg,Mg),r}function Mg(){if(--Nc===0&&Ts!==null){yi!==null&&(yi.status="fulfilled");var t=Ts;Ts=null,vi=0,yi=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function D0(t,r){var s=[],u={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<s.length;d++)(0,s[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),u}var kg=L.S;L.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&O0(t,r),kg!==null&&kg(t,r)};var Ha=G(null);function jc(){var t=Ha.current;return t!==null?t:tt.pooledCache}function mo(t,r){r===null?B(Ha,Ha.current):B(Ha,r.pool)}function Ug(){var t=jc();return t===null?null:{parent:Ct._currentValue,pool:t}}var As=Error(i(460)),Lg=Error(i(474)),po=Error(i(542)),Mc={then:function(){}};function Pg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vo(){}function Hg(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(vo,vo),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Fg(t),t;default:if(typeof r.status=="string")r.then(vo,vo);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Fg(t),t}throw Os=r,As}}var Os=null;function zg(){if(Os===null)throw Error(i(459));var t=Os;return Os=null,t}function Fg(t){if(t===As||t===po)throw Error(i(483))}var Xr=!1;function kc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uc(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qr(t,r,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ve&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=oo(t),Cg(t,null,s),r}return lo(t,u,r,s),oo(t)}function Ds(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var u=r.lanes;u&=t.pendingLanes,s|=u,r.lanes=s,Hn(t,s)}}function Lc(t,r){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var d=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,s=s.next}while(s!==null);g===null?d=g=r:g=g.next=r}else d=g=r;s={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Pc=!1;function Ns(){if(Pc){var t=yi;if(t!==null)throw t}}function js(t,r,s,u){Pc=!1;var d=t.updateQueue;Xr=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var N=E,z=N.next;N.next=null,b===null?g=z:b.next=z,b=N;var q=t.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==b&&(E===null?q.firstBaseUpdate=z:E.next=z,q.lastBaseUpdate=N))}if(g!==null){var K=d.baseState;b=0,q=z=N=null,E=g;do{var F=E.lane&-536870913,I=F!==E.lane;if(I?(He&F)===F:(u&F)===F){F!==0&&F===vi&&(Pc=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ee=t,ve=E;F=r;var Xe=s;switch(ve.tag){case 1:if(Ee=ve.payload,typeof Ee=="function"){K=Ee.call(Xe,K,F);break e}K=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ve.payload,F=typeof Ee=="function"?Ee.call(Xe,K,F):Ee,F==null)break e;K=v({},K,F);break e;case 2:Xr=!0}}F=E.callback,F!==null&&(t.flags|=64,I&&(t.flags|=8192),I=d.callbacks,I===null?d.callbacks=[F]:I.push(F))}else I={lane:F,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(z=q=I,N=K):q=q.next=I,b|=F;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;I=E,E=I.next,I.next=null,d.lastBaseUpdate=I,d.shared.pending=null}}while(!0);q===null&&(N=K),d.baseState=N,d.firstBaseUpdate=z,d.lastBaseUpdate=q,g===null&&(d.shared.lanes=0),ia|=b,t.lanes=b,t.memoizedState=K}}function Ig(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function $g(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Ig(s[t],r)}var _i=G(null),yo=G(0);function Bg(t,r){t=Mr,B(yo,t),B(_i,r),Mr=t|r.baseLanes}function Hc(){B(yo,Mr),B(_i,_i.current)}function zc(){Mr=yo.current,Q(_i),Q(yo)}var Zr=0,je=null,Ye=null,bt=null,_o=!1,bi=!1,za=!1,bo=0,Ms=0,wi=null,N0=0;function pt(){throw Error(i(321))}function Fc(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!mn(t[s],r[s]))return!1;return!0}function Ic(t,r,s,u,d,g){return Zr=g,je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,L.H=t===null||t.memoizedState===null?Cm:Tm,za=!1,g=s(u,d),za=!1,bi&&(g=qg(r,s,u,d)),Vg(t),g}function Vg(t){L.H=Co;var r=Ye!==null&&Ye.next!==null;if(Zr=0,bt=Ye=je=null,_o=!1,Ms=0,wi=null,r)throw Error(i(300));t===null||Mt||(t=t.dependencies,t!==null&&ho(t)&&(Mt=!0))}function qg(t,r,s,u){je=t;var d=0;do{if(bi&&(wi=null),Ms=0,bi=!1,25<=d)throw Error(i(301));if(d+=1,bt=Ye=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}L.H=H0,g=r(s,u)}while(bi);return g}function j0(){var t=L.H,r=t.useState()[0];return r=typeof r.then=="function"?ks(r):r,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(je.flags|=1024),r}function $c(){var t=bo!==0;return bo=0,t}function Bc(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function Vc(t){if(_o){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}_o=!1}Zr=0,bt=Ye=je=null,bi=!1,Ms=bo=0,wi=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?je.memoizedState=bt=t:bt=bt.next=t,bt}function wt(){if(Ye===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var r=bt===null?je.memoizedState:bt.next;if(r!==null)bt=r,Ye=t;else{if(t===null)throw je.alternate===null?Error(i(467)):Error(i(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},bt===null?je.memoizedState=bt=t:bt=bt.next=t}return bt}function qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ks(t){var r=Ms;return Ms+=1,wi===null&&(wi=[]),t=Hg(wi,t,r),r=je,(bt===null?r.memoizedState:bt.next)===null&&(r=r.alternate,L.H=r===null||r.memoizedState===null?Cm:Tm),t}function wo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ks(t);if(t.$$typeof===A)return Kt(t)}throw Error(i(438,String(t)))}function Gc(t){var r=null,s=je.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var u=je.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=qc(),je.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),u=0;u<t;u++)s[u]=ee;return r.index++,s}function Tr(t,r){return typeof r=="function"?r(t):r}function So(t){var r=wt();return Yc(r,Ye,t)}function Yc(t,r,s){var u=t.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var d=t.baseQueue,g=u.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}r.baseQueue=d=g,u.pending=null}if(g=t.baseState,d===null)t.memoizedState=g;else{r=d.next;var E=b=null,N=null,z=r,q=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(He&K)===K:(Zr&K)===K){var F=z.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===vi&&(q=!0);else if((Zr&F)===F){z=z.next,F===vi&&(q=!0);continue}else K={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=K,b=g):N=N.next=K,je.lanes|=F,ia|=F;K=z.action,za&&s(g,K),g=z.hasEagerState?z.eagerState:s(g,K)}else F={lane:K,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=F,b=g):N=N.next=F,je.lanes|=K,ia|=K;z=z.next}while(z!==null&&z!==r);if(N===null?b=g:N.next=E,!mn(g,t.memoizedState)&&(Mt=!0,q&&(s=yi,s!==null)))throw s;t.memoizedState=g,t.baseState=b,t.baseQueue=N,u.lastRenderedState=g}return d===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Kc(t){var r=wt(),s=r.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var u=s.dispatch,d=s.pending,g=r.memoizedState;if(d!==null){s.pending=null;var b=d=d.next;do g=t(g,b.action),b=b.next;while(b!==d);mn(g,r.memoizedState)||(Mt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),s.lastRenderedState=g}return[g,u]}function Gg(t,r,s){var u=je,d=wt(),g=Be;if(g){if(s===void 0)throw Error(i(407));s=s()}else s=r();var b=!mn((Ye||d).memoizedState,s);b&&(d.memoizedState=s,Mt=!0),d=d.queue;var E=Xg.bind(null,u,d,t);if(Us(2048,8,E,[t]),d.getSnapshot!==r||b||bt!==null&&bt.memoizedState.tag&1){if(u.flags|=2048,Si(9,Eo(),Kg.bind(null,u,d,s,r),null),tt===null)throw Error(i(349));g||(Zr&124)!==0||Yg(u,r,s)}return s}function Yg(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=je.updateQueue,r===null?(r=qc(),je.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function Kg(t,r,s,u){r.value=s,r.getSnapshot=u,Wg(r)&&Qg(t)}function Xg(t,r,s){return s(function(){Wg(r)&&Qg(t)})}function Wg(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!mn(t,s)}catch{return!0}}function Qg(t){var r=hi(t,2);r!==null&&wn(r,t,2)}function Xc(t){var r=un();if(typeof t=="function"){var s=t;if(t=s(),za){Ae(!0);try{s()}finally{Ae(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:t},r}function Zg(t,r,s,u){return t.baseState=s,Yc(t,Ye,typeof u=="function"?u:Tr)}function M0(t,r,s,u,d){if(Ro(t))throw Error(i(485));if(t=r.action,t!==null){var g={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};L.T!==null?s(!0):g.isTransition=!1,u(g),s=r.pending,s===null?(g.next=r.pending=g,Jg(r,g)):(g.next=s.next,r.pending=s.next=g)}}function Jg(t,r){var s=r.action,u=r.payload,d=t.state;if(r.isTransition){var g=L.T,b={};L.T=b;try{var E=s(d,u),N=L.S;N!==null&&N(b,E),em(t,r,E)}catch(z){Wc(t,r,z)}finally{L.T=g}}else try{g=s(d,u),em(t,r,g)}catch(z){Wc(t,r,z)}}function em(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){tm(t,r,u)},function(u){return Wc(t,r,u)}):tm(t,r,s)}function tm(t,r,s){r.status="fulfilled",r.value=s,nm(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,Jg(t,s)))}function Wc(t,r,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=s,nm(r),r=r.next;while(r!==u)}t.action=null}function nm(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function rm(t,r){return r}function am(t,r){if(Be){var s=tt.formState;if(s!==null){e:{var u=je;if(Be){if(ht){t:{for(var d=ht,g=ar;d.nodeType!==8;){if(!g){d=null;break t}if(d=In(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ht=In(d.nextSibling),u=d.data==="F!";break e}}Ua(u)}u=!1}u&&(r=s[0])}}return s=un(),s.memoizedState=s.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rm,lastRenderedState:r},s.queue=u,s=Em.bind(null,je,u),u.dispatch=s,u=Xc(!1),g=td.bind(null,je,!1,u.queue),u=un(),d={state:r,dispatch:null,action:t,pending:null},u.queue=d,s=M0.bind(null,je,d,g,s),d.dispatch=s,u.memoizedState=t,[r,s,!1]}function im(t){var r=wt();return sm(r,Ye,t)}function sm(t,r,s){if(r=Yc(t,r,rm)[0],t=So(Tr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=ks(r)}catch(b){throw b===As?po:b}else u=r;r=wt();var d=r.queue,g=d.dispatch;return s!==r.memoizedState&&(je.flags|=2048,Si(9,Eo(),k0.bind(null,d,s),null)),[u,g,t]}function k0(t,r){t.action=r}function lm(t){var r=wt(),s=Ye;if(s!==null)return sm(r,s,t);wt(),r=r.memoizedState,s=wt();var u=s.queue.dispatch;return s.memoizedState=t,[r,u,!1]}function Si(t,r,s,u){return t={tag:t,create:s,deps:u,inst:r,next:null},r=je.updateQueue,r===null&&(r=qc(),je.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,r.lastEffect=t),t}function Eo(){return{destroy:void 0,resource:void 0}}function om(){return wt().memoizedState}function xo(t,r,s,u){var d=un();u=u===void 0?null:u,je.flags|=t,d.memoizedState=Si(1|r,Eo(),s,u)}function Us(t,r,s,u){var d=wt();u=u===void 0?null:u;var g=d.memoizedState.inst;Ye!==null&&u!==null&&Fc(u,Ye.memoizedState.deps)?d.memoizedState=Si(r,g,s,u):(je.flags|=t,d.memoizedState=Si(1|r,g,s,u))}function um(t,r){xo(8390656,8,t,r)}function cm(t,r){Us(2048,8,t,r)}function dm(t,r){return Us(4,2,t,r)}function fm(t,r){return Us(4,4,t,r)}function hm(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function gm(t,r,s){s=s!=null?s.concat([t]):null,Us(4,4,hm.bind(null,r,t),s)}function Qc(){}function mm(t,r){var s=wt();r=r===void 0?null:r;var u=s.memoizedState;return r!==null&&Fc(r,u[1])?u[0]:(s.memoizedState=[t,r],t)}function pm(t,r){var s=wt();r=r===void 0?null:r;var u=s.memoizedState;if(r!==null&&Fc(r,u[1]))return u[0];if(u=t(),za){Ae(!0);try{t()}finally{Ae(!1)}}return s.memoizedState=[u,r],u}function Zc(t,r,s){return s===void 0||(Zr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=_p(),je.lanes|=t,ia|=t,s)}function vm(t,r,s,u){return mn(s,r)?s:_i.current!==null?(t=Zc(t,s,u),mn(t,r)||(Mt=!0),t):(Zr&42)===0?(Mt=!0,t.memoizedState=s):(t=_p(),je.lanes|=t,ia|=t,r)}function ym(t,r,s,u,d){var g=W.p;W.p=g!==0&&8>g?g:8;var b=L.T,E={};L.T=E,td(t,!1,r,s);try{var N=d(),z=L.S;if(z!==null&&z(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var q=D0(N,u);Ls(t,r,q,bn(t))}else Ls(t,r,u,bn(t))}catch(K){Ls(t,r,{then:function(){},status:"rejected",reason:K},bn())}finally{W.p=g,L.T=b}}function U0(){}function Jc(t,r,s,u){if(t.tag!==5)throw Error(i(476));var d=_m(t).queue;ym(t,d,r,re,s===null?U0:function(){return bm(t),s(u)})}function _m(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:re},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function bm(t){var r=_m(t).next.queue;Ls(t,r,{},bn())}function ed(){return Kt(el)}function wm(){return wt().memoizedState}function Sm(){return wt().memoizedState}function L0(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=bn();t=Wr(s);var u=Qr(r,t,s);u!==null&&(wn(u,r,s),Ds(u,r,s)),r={cache:Dc()},t.payload=r;return}r=r.return}}function P0(t,r,s){var u=bn();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Ro(t)?xm(r,s):(s=bc(t,r,s,u),s!==null&&(wn(s,t,u),Rm(s,r,u)))}function Em(t,r,s){var u=bn();Ls(t,r,s,u)}function Ls(t,r,s,u){var d={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ro(t))xm(r,d);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,E=g(b,s);if(d.hasEagerState=!0,d.eagerState=E,mn(E,b))return lo(t,r,d,0),tt===null&&so(),!1}catch{}finally{}if(s=bc(t,r,d,u),s!==null)return wn(s,t,u),Rm(s,r,u),!0}return!1}function td(t,r,s,u){if(u={lane:2,revertLane:Md(),action:u,hasEagerState:!1,eagerState:null,next:null},Ro(t)){if(r)throw Error(i(479))}else r=bc(t,s,u,2),r!==null&&wn(r,t,2)}function Ro(t){var r=t.alternate;return t===je||r!==null&&r===je}function xm(t,r){bi=_o=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function Rm(t,r,s){if((s&4194048)!==0){var u=r.lanes;u&=t.pendingLanes,s|=u,r.lanes=s,Hn(t,s)}}var Co={readContext:Kt,use:wo,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},Cm={readContext:Kt,use:wo,useCallback:function(t,r){return un().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:um,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,xo(4194308,4,hm.bind(null,r,t),s)},useLayoutEffect:function(t,r){return xo(4194308,4,t,r)},useInsertionEffect:function(t,r){xo(4,2,t,r)},useMemo:function(t,r){var s=un();r=r===void 0?null:r;var u=t();if(za){Ae(!0);try{t()}finally{Ae(!1)}}return s.memoizedState=[u,r],u},useReducer:function(t,r,s){var u=un();if(s!==void 0){var d=s(r);if(za){Ae(!0);try{s(r)}finally{Ae(!1)}}}else d=r;return u.memoizedState=u.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},u.queue=t,t=t.dispatch=P0.bind(null,je,t),[u.memoizedState,t]},useRef:function(t){var r=un();return t={current:t},r.memoizedState=t},useState:function(t){t=Xc(t);var r=t.queue,s=Em.bind(null,je,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:Qc,useDeferredValue:function(t,r){var s=un();return Zc(s,t,r)},useTransition:function(){var t=Xc(!1);return t=ym.bind(null,je,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var u=je,d=un();if(Be){if(s===void 0)throw Error(i(407));s=s()}else{if(s=r(),tt===null)throw Error(i(349));(He&124)!==0||Yg(u,r,s)}d.memoizedState=s;var g={value:s,getSnapshot:r};return d.queue=g,um(Xg.bind(null,u,g,t),[t]),u.flags|=2048,Si(9,Eo(),Kg.bind(null,u,g,s,r),null),s},useId:function(){var t=un(),r=tt.identifierPrefix;if(Be){var s=xr,u=Er;s=(u&~(1<<32-Fe(u)-1)).toString(32)+s,r=""+r+"R"+s,s=bo++,0<s&&(r+="H"+s.toString(32)),r+=""}else s=N0++,r=""+r+"r"+s.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:ed,useFormState:am,useActionState:am,useOptimistic:function(t){var r=un();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=td.bind(null,je,!0,s),s.dispatch=r,[t,r]},useMemoCache:Gc,useCacheRefresh:function(){return un().memoizedState=L0.bind(null,je)}},Tm={readContext:Kt,use:wo,useCallback:mm,useContext:Kt,useEffect:cm,useImperativeHandle:gm,useInsertionEffect:dm,useLayoutEffect:fm,useMemo:pm,useReducer:So,useRef:om,useState:function(){return So(Tr)},useDebugValue:Qc,useDeferredValue:function(t,r){var s=wt();return vm(s,Ye.memoizedState,t,r)},useTransition:function(){var t=So(Tr)[0],r=wt().memoizedState;return[typeof t=="boolean"?t:ks(t),r]},useSyncExternalStore:Gg,useId:wm,useHostTransitionStatus:ed,useFormState:im,useActionState:im,useOptimistic:function(t,r){var s=wt();return Zg(s,Ye,t,r)},useMemoCache:Gc,useCacheRefresh:Sm},H0={readContext:Kt,use:wo,useCallback:mm,useContext:Kt,useEffect:cm,useImperativeHandle:gm,useInsertionEffect:dm,useLayoutEffect:fm,useMemo:pm,useReducer:Kc,useRef:om,useState:function(){return Kc(Tr)},useDebugValue:Qc,useDeferredValue:function(t,r){var s=wt();return Ye===null?Zc(s,t,r):vm(s,Ye.memoizedState,t,r)},useTransition:function(){var t=Kc(Tr)[0],r=wt().memoizedState;return[typeof t=="boolean"?t:ks(t),r]},useSyncExternalStore:Gg,useId:wm,useHostTransitionStatus:ed,useFormState:lm,useActionState:lm,useOptimistic:function(t,r){var s=wt();return Ye!==null?Zg(s,Ye,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Gc,useCacheRefresh:Sm},Ei=null,Ps=0;function To(t){var r=Ps;return Ps+=1,Ei===null&&(Ei=[]),Hg(Ei,t,r)}function Hs(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Ao(t,r){throw r.$$typeof===y?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Am(t){var r=t._init;return r(t._payload)}function Om(t){function r(k,M){if(t){var P=k.deletions;P===null?(k.deletions=[M],k.flags|=16):P.push(M)}}function s(k,M){if(!t)return null;for(;M!==null;)r(k,M),M=M.sibling;return null}function u(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function d(k,M){return k=Sr(k,M),k.index=0,k.sibling=null,k}function g(k,M,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<M?(k.flags|=67108866,M):P):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function b(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,M,P,Y){return M===null||M.tag!==6?(M=Sc(P,k.mode,Y),M.return=k,M):(M=d(M,P),M.return=k,M)}function N(k,M,P,Y){var he=P.type;return he===S?q(k,M,P.props.children,Y,P.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===X&&Am(he)===M.type)?(M=d(M,P.props),Hs(M,P),M.return=k,M):(M=uo(P.type,P.key,P.props,null,k.mode,Y),Hs(M,P),M.return=k,M)}function z(k,M,P,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=Ec(P,k.mode,Y),M.return=k,M):(M=d(M,P.children||[]),M.return=k,M)}function q(k,M,P,Y,he){return M===null||M.tag!==7?(M=Na(P,k.mode,Y,he),M.return=k,M):(M=d(M,P),M.return=k,M)}function K(k,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Sc(""+M,k.mode,P),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case _:return P=uo(M.type,M.key,M.props,null,k.mode,P),Hs(P,M),P.return=k,P;case w:return M=Ec(M,k.mode,P),M.return=k,M;case X:var Y=M._init;return M=Y(M._payload),K(k,M,P)}if(we(M)||ie(M))return M=Na(M,k.mode,P,null),M.return=k,M;if(typeof M.then=="function")return K(k,To(M),P);if(M.$$typeof===A)return K(k,go(k,M),P);Ao(k,M)}return null}function F(k,M,P,Y){var he=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return he!==null?null:E(k,M,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case _:return P.key===he?N(k,M,P,Y):null;case w:return P.key===he?z(k,M,P,Y):null;case X:return he=P._init,P=he(P._payload),F(k,M,P,Y)}if(we(P)||ie(P))return he!==null?null:q(k,M,P,Y,null);if(typeof P.then=="function")return F(k,M,To(P),Y);if(P.$$typeof===A)return F(k,M,go(k,P),Y);Ao(k,P)}return null}function I(k,M,P,Y,he){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,E(M,k,""+Y,he);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return k=k.get(Y.key===null?P:Y.key)||null,N(M,k,Y,he);case w:return k=k.get(Y.key===null?P:Y.key)||null,z(M,k,Y,he);case X:var Me=Y._init;return Y=Me(Y._payload),I(k,M,P,Y,he)}if(we(Y)||ie(Y))return k=k.get(P)||null,q(M,k,Y,he,null);if(typeof Y.then=="function")return I(k,M,P,To(Y),he);if(Y.$$typeof===A)return I(k,M,P,go(M,Y),he);Ao(M,Y)}return null}function Ee(k,M,P,Y){for(var he=null,Me=null,pe=M,be=M=0,Ut=null;pe!==null&&be<P.length;be++){pe.index>be?(Ut=pe,pe=null):Ut=pe.sibling;var Ie=F(k,pe,P[be],Y);if(Ie===null){pe===null&&(pe=Ut);break}t&&pe&&Ie.alternate===null&&r(k,pe),M=g(Ie,M,be),Me===null?he=Ie:Me.sibling=Ie,Me=Ie,pe=Ut}if(be===P.length)return s(k,pe),Be&&Ma(k,be),he;if(pe===null){for(;be<P.length;be++)pe=K(k,P[be],Y),pe!==null&&(M=g(pe,M,be),Me===null?he=pe:Me.sibling=pe,Me=pe);return Be&&Ma(k,be),he}for(pe=u(pe);be<P.length;be++)Ut=I(pe,k,be,P[be],Y),Ut!==null&&(t&&Ut.alternate!==null&&pe.delete(Ut.key===null?be:Ut.key),M=g(Ut,M,be),Me===null?he=Ut:Me.sibling=Ut,Me=Ut);return t&&pe.forEach(function(ga){return r(k,ga)}),Be&&Ma(k,be),he}function ve(k,M,P,Y){if(P==null)throw Error(i(151));for(var he=null,Me=null,pe=M,be=M=0,Ut=null,Ie=P.next();pe!==null&&!Ie.done;be++,Ie=P.next()){pe.index>be?(Ut=pe,pe=null):Ut=pe.sibling;var ga=F(k,pe,Ie.value,Y);if(ga===null){pe===null&&(pe=Ut);break}t&&pe&&ga.alternate===null&&r(k,pe),M=g(ga,M,be),Me===null?he=ga:Me.sibling=ga,Me=ga,pe=Ut}if(Ie.done)return s(k,pe),Be&&Ma(k,be),he;if(pe===null){for(;!Ie.done;be++,Ie=P.next())Ie=K(k,Ie.value,Y),Ie!==null&&(M=g(Ie,M,be),Me===null?he=Ie:Me.sibling=Ie,Me=Ie);return Be&&Ma(k,be),he}for(pe=u(pe);!Ie.done;be++,Ie=P.next())Ie=I(pe,k,be,Ie.value,Y),Ie!==null&&(t&&Ie.alternate!==null&&pe.delete(Ie.key===null?be:Ie.key),M=g(Ie,M,be),Me===null?he=Ie:Me.sibling=Ie,Me=Ie);return t&&pe.forEach(function(zw){return r(k,zw)}),Be&&Ma(k,be),he}function Xe(k,M,P,Y){if(typeof P=="object"&&P!==null&&P.type===S&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case _:e:{for(var he=P.key;M!==null;){if(M.key===he){if(he=P.type,he===S){if(M.tag===7){s(k,M.sibling),Y=d(M,P.props.children),Y.return=k,k=Y;break e}}else if(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===X&&Am(he)===M.type){s(k,M.sibling),Y=d(M,P.props),Hs(Y,P),Y.return=k,k=Y;break e}s(k,M);break}else r(k,M);M=M.sibling}P.type===S?(Y=Na(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=uo(P.type,P.key,P.props,null,k.mode,Y),Hs(Y,P),Y.return=k,k=Y)}return b(k);case w:e:{for(he=P.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){s(k,M.sibling),Y=d(M,P.children||[]),Y.return=k,k=Y;break e}else{s(k,M);break}else r(k,M);M=M.sibling}Y=Ec(P,k.mode,Y),Y.return=k,k=Y}return b(k);case X:return he=P._init,P=he(P._payload),Xe(k,M,P,Y)}if(we(P))return Ee(k,M,P,Y);if(ie(P)){if(he=ie(P),typeof he!="function")throw Error(i(150));return P=he.call(P),ve(k,M,P,Y)}if(typeof P.then=="function")return Xe(k,M,To(P),Y);if(P.$$typeof===A)return Xe(k,M,go(k,P),Y);Ao(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(s(k,M.sibling),Y=d(M,P),Y.return=k,k=Y):(s(k,M),Y=Sc(P,k.mode,Y),Y.return=k,k=Y),b(k)):s(k,M)}return function(k,M,P,Y){try{Ps=0;var he=Xe(k,M,P,Y);return Ei=null,he}catch(pe){if(pe===As||pe===po)throw pe;var Me=pn(29,pe,null,k.mode);return Me.lanes=Y,Me.return=k,Me}finally{}}}var xi=Om(!0),Dm=Om(!1),jn=G(null),ir=null;function Jr(t){var r=t.alternate;B(Tt,Tt.current&1),B(jn,t),ir===null&&(r===null||_i.current!==null||r.memoizedState!==null)&&(ir=t)}function Nm(t){if(t.tag===22){if(B(Tt,Tt.current),B(jn,t),ir===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(ir=t)}}else ea()}function ea(){B(Tt,Tt.current),B(jn,jn.current)}function Ar(t){Q(jn),ir===t&&(ir=null),Q(Tt)}var Tt=G(0);function Oo(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||qd(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function nd(t,r,s,u){r=t.memoizedState,s=s(u,r),s=s==null?r:v({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var rd={enqueueSetState:function(t,r,s){t=t._reactInternals;var u=bn(),d=Wr(u);d.payload=r,s!=null&&(d.callback=s),r=Qr(t,d,u),r!==null&&(wn(r,t,u),Ds(r,t,u))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var u=bn(),d=Wr(u);d.tag=1,d.payload=r,s!=null&&(d.callback=s),r=Qr(t,d,u),r!==null&&(wn(r,t,u),Ds(r,t,u))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=bn(),u=Wr(s);u.tag=2,r!=null&&(u.callback=r),r=Qr(t,u,s),r!==null&&(wn(r,t,s),Ds(r,t,s))}};function jm(t,r,s,u,d,g,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,g,b):r.prototype&&r.prototype.isPureReactComponent?!bs(s,u)||!bs(d,g):!0}function Mm(t,r,s,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,u),r.state!==t&&rd.enqueueReplaceState(r,r.state,null)}function Fa(t,r){var s=r;if("ref"in r){s={};for(var u in r)u!=="ref"&&(s[u]=r[u])}if(t=t.defaultProps){s===r&&(s=v({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}var Do=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function km(t){Do(t)}function Um(t){console.error(t)}function Lm(t){Do(t)}function No(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Pm(t,r,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ad(t,r,s){return s=Wr(s),s.tag=3,s.payload={element:null},s.callback=function(){No(t,r)},s}function Hm(t){return t=Wr(t),t.tag=3,t}function zm(t,r,s,u){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;t.payload=function(){return d(g)},t.callback=function(){Pm(r,s,u)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Pm(r,s,u),typeof d!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function z0(t,r,s,u,d){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=s.alternate,r!==null&&Rs(r,s,d,!0),s=jn.current,s!==null){switch(s.tag){case 13:return ir===null?Ad():s.alternate===null&&gt===0&&(gt=3),s.flags&=-257,s.flags|=65536,s.lanes=d,u===Mc?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([u]):r.add(u),Dd(t,u,d)),!1;case 22:return s.flags|=65536,u===Mc?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([u]):s.add(u)),Dd(t,u,d)),!1}throw Error(i(435,s.tag))}return Dd(t,u,d),Ad(),!1}if(Be)return r=jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==Cc&&(t=Error(i(422),{cause:u}),xs(An(t,s)))):(u!==Cc&&(r=Error(i(423),{cause:u}),xs(An(r,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,u=An(u,s),d=ad(t.stateNode,u,d),Lc(t,d),gt!==4&&(gt=2)),!1;var g=Error(i(520),{cause:u});if(g=An(g,s),qs===null?qs=[g]:qs.push(g),gt!==4&&(gt=2),r===null)return!0;u=An(u,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=ad(s.stateNode,u,t),Lc(s,t),!1;case 1:if(r=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(sa===null||!sa.has(g))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Hm(d),zm(d,t,s,u),Lc(s,d),!1}s=s.return}while(s!==null);return!1}var Fm=Error(i(461)),Mt=!1;function It(t,r,s,u){r.child=t===null?Dm(r,null,s,u):xi(r,t.child,s,u)}function Im(t,r,s,u,d){s=s.render;var g=r.ref;if("ref"in u){var b={};for(var E in u)E!=="ref"&&(b[E]=u[E])}else b=u;return Pa(r),u=Ic(t,r,s,b,g,d),E=$c(),t!==null&&!Mt?(Bc(t,r,d),Or(t,r,d)):(Be&&E&&xc(r),r.flags|=1,It(t,r,u,d),r.child)}function $m(t,r,s,u,d){if(t===null){var g=s.type;return typeof g=="function"&&!wc(g)&&g.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=g,Bm(t,r,g,u,d)):(t=uo(s.type,null,u,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(g=t.child,!fd(t,d)){var b=g.memoizedProps;if(s=s.compare,s=s!==null?s:bs,s(b,u)&&t.ref===r.ref)return Or(t,r,d)}return r.flags|=1,t=Sr(g,u),t.ref=r.ref,t.return=r,r.child=t}function Bm(t,r,s,u,d){if(t!==null){var g=t.memoizedProps;if(bs(g,u)&&t.ref===r.ref)if(Mt=!1,r.pendingProps=u=g,fd(t,d))(t.flags&131072)!==0&&(Mt=!0);else return r.lanes=t.lanes,Or(t,r,d)}return id(t,r,s,u,d)}function Vm(t,r,s){var u=r.pendingProps,d=u.children,g=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|s:s,t!==null){for(d=r.child=t.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return qm(t,r,u,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&mo(r,g!==null?g.cachePool:null),g!==null?Bg(r,g):Hc(),Nm(r);else return r.lanes=r.childLanes=536870912,qm(t,r,g!==null?g.baseLanes|s:s,s)}else g!==null?(mo(r,g.cachePool),Bg(r,g),ea(),r.memoizedState=null):(t!==null&&mo(r,null),Hc(),ea());return It(t,r,d,s),r.child}function qm(t,r,s,u){var d=jc();return d=d===null?null:{parent:Ct._currentValue,pool:d},r.memoizedState={baseLanes:s,cachePool:d},t!==null&&mo(r,null),Hc(),Nm(r),t!==null&&Rs(t,r,u,!0),null}function jo(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function id(t,r,s,u,d){return Pa(r),s=Ic(t,r,s,u,void 0,d),u=$c(),t!==null&&!Mt?(Bc(t,r,d),Or(t,r,d)):(Be&&u&&xc(r),r.flags|=1,It(t,r,s,d),r.child)}function Gm(t,r,s,u,d,g){return Pa(r),r.updateQueue=null,s=qg(r,u,s,d),Vg(t),u=$c(),t!==null&&!Mt?(Bc(t,r,g),Or(t,r,g)):(Be&&u&&xc(r),r.flags|=1,It(t,r,s,g),r.child)}function Ym(t,r,s,u,d){if(Pa(r),r.stateNode===null){var g=gi,b=s.contextType;typeof b=="object"&&b!==null&&(g=Kt(b)),g=new s(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=rd,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},kc(r),b=s.contextType,g.context=typeof b=="object"&&b!==null?Kt(b):gi,g.state=r.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(nd(r,s,b,u),g.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&rd.enqueueReplaceState(g,g.state,null),js(r,u,g,d),Ns(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(t===null){g=r.stateNode;var E=r.memoizedProps,N=Fa(s,E);g.props=N;var z=g.context,q=s.contextType;b=gi,typeof q=="object"&&q!==null&&(b=Kt(q));var K=s.getDerivedStateFromProps;q=typeof K=="function"||typeof g.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,q||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E||z!==b)&&Mm(r,g,u,b),Xr=!1;var F=r.memoizedState;g.state=F,js(r,u,g,d),Ns(),z=r.memoizedState,E||F!==z||Xr?(typeof K=="function"&&(nd(r,s,K,u),z=r.memoizedState),(N=Xr||jm(r,s,N,u,F,z,b))?(q||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=z),g.props=u,g.state=z,g.context=b,u=N):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Uc(t,r),b=r.memoizedProps,q=Fa(s,b),g.props=q,K=r.pendingProps,F=g.context,z=s.contextType,N=gi,typeof z=="object"&&z!==null&&(N=Kt(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==K||F!==N)&&Mm(r,g,u,N),Xr=!1,F=r.memoizedState,g.state=F,js(r,u,g,d),Ns();var I=r.memoizedState;b!==K||F!==I||Xr||t!==null&&t.dependencies!==null&&ho(t.dependencies)?(typeof E=="function"&&(nd(r,s,E,u),I=r.memoizedState),(q=Xr||jm(r,s,q,u,F,I,N)||t!==null&&t.dependencies!==null&&ho(t.dependencies))?(z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,I,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,I,N)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=I),g.props=u,g.state=I,g.context=N,u=q):(typeof g.componentDidUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),u=!1)}return g=u,jo(t,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,t!==null&&u?(r.child=xi(r,t.child,null,d),r.child=xi(r,null,s,d)):It(t,r,s,d),r.memoizedState=g.state,t=r.child):t=Or(t,r,d),t}function Km(t,r,s,u){return Es(),r.flags|=256,It(t,r,s,u),r.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(t){return{baseLanes:t,cachePool:Ug()}}function od(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=Mn),t}function Xm(t,r,s){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=t!==null&&t.memoizedState===null?!1:(Tt.current&2)!==0),b&&(d=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(d?Jr(r):ea(),Be){var E=ht,N;if(N=E){e:{for(N=E,E=ar;N.nodeType!==8;){if(!E){E=null;break e}if(N=In(N.nextSibling),N===null){E=null;break e}}E=N}E!==null?(r.memoizedState={dehydrated:E,treeContext:ja!==null?{id:Er,overflow:xr}:null,retryLane:536870912,hydrationErrors:null},N=pn(18,null,null,0),N.stateNode=E,N.return=r,r.child=N,tn=r,ht=null,N=!0):N=!1}N||Ua(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return qd(E)?r.lanes=32:r.lanes=536870912,null;Ar(r)}return E=u.children,u=u.fallback,d?(ea(),d=r.mode,E=Mo({mode:"hidden",children:E},d),u=Na(u,d,s,null),E.return=r,u.return=r,E.sibling=u,r.child=E,d=r.child,d.memoizedState=ld(s),d.childLanes=od(t,b,s),r.memoizedState=sd,u):(Jr(r),ud(r,E))}if(N=t.memoizedState,N!==null&&(E=N.dehydrated,E!==null)){if(g)r.flags&256?(Jr(r),r.flags&=-257,r=cd(t,r,s)):r.memoizedState!==null?(ea(),r.child=t.child,r.flags|=128,r=null):(ea(),d=u.fallback,E=r.mode,u=Mo({mode:"visible",children:u.children},E),d=Na(d,E,s,null),d.flags|=2,u.return=r,d.return=r,u.sibling=d,r.child=u,xi(r,t.child,null,s),u=r.child,u.memoizedState=ld(s),u.childLanes=od(t,b,s),r.memoizedState=sd,r=d);else if(Jr(r),qd(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var z=b.dgst;b=z,u=Error(i(419)),u.stack="",u.digest=b,xs({value:u,source:null,stack:null}),r=cd(t,r,s)}else if(Mt||Rs(t,r,s,!1),b=(s&t.childLanes)!==0,Mt||b){if(b=tt,b!==null&&(u=s&-s,u=(u&42)!==0?1:Gt(u),u=(u&(b.suspendedLanes|s))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,hi(t,u),wn(b,t,u),Fm;E.data==="$?"||Ad(),r=cd(t,r,s)}else E.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=N.treeContext,ht=In(E.nextSibling),tn=r,Be=!0,ka=null,ar=!1,t!==null&&(Dn[Nn++]=Er,Dn[Nn++]=xr,Dn[Nn++]=ja,Er=t.id,xr=t.overflow,ja=r),r=ud(r,u.children),r.flags|=4096);return r}return d?(ea(),d=u.fallback,E=r.mode,N=t.child,z=N.sibling,u=Sr(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,z!==null?d=Sr(z,d):(d=Na(d,E,s,null),d.flags|=2),d.return=r,u.return=r,u.sibling=d,r.child=u,u=d,d=r.child,E=t.child.memoizedState,E===null?E=ld(s):(N=E.cachePool,N!==null?(z=Ct._currentValue,N=N.parent!==z?{parent:z,pool:z}:N):N=Ug(),E={baseLanes:E.baseLanes|s,cachePool:N}),d.memoizedState=E,d.childLanes=od(t,b,s),r.memoizedState=sd,u):(Jr(r),s=t.child,t=s.sibling,s=Sr(s,{mode:"visible",children:u.children}),s.return=r,s.sibling=null,t!==null&&(b=r.deletions,b===null?(r.deletions=[t],r.flags|=16):b.push(t)),r.child=s,r.memoizedState=null,s)}function ud(t,r){return r=Mo({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Mo(t,r){return t=pn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function cd(t,r,s){return xi(r,t.child,null,s),t=ud(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Wm(t,r,s){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Ac(t.return,r,s)}function dd(t,r,s,u,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:d}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=s,g.tailMode=d)}function Qm(t,r,s){var u=r.pendingProps,d=u.revealOrder,g=u.tail;if(It(t,r,u.children,s),u=Tt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wm(t,s,r);else if(t.tag===19)Wm(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(B(Tt,u),d){case"forwards":for(s=r.child,d=null;s!==null;)t=s.alternate,t!==null&&Oo(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=r.child,r.child=null):(d=s.sibling,s.sibling=null),dd(r,!1,d,s,g);break;case"backwards":for(s=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&Oo(t)===null){r.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}dd(r,!0,s,null,g);break;case"together":dd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Or(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),ia|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(Rs(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,s=Sr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=Sr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function fd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ho(t)))}function F0(t,r,s){switch(r.tag){case 3:ye(r,r.stateNode.containerInfo),Kr(r,Ct,t.memoizedState.cache),Es();break;case 27:case 5:rt(r);break;case 4:ye(r,r.stateNode.containerInfo);break;case 10:Kr(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Jr(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Xm(t,r,s):(Jr(r),t=Or(t,r,s),t!==null?t.sibling:null);Jr(r);break;case 19:var d=(t.flags&128)!==0;if(u=(s&r.childLanes)!==0,u||(Rs(t,r,s,!1),u=(s&r.childLanes)!==0),d){if(u)return Qm(t,r,s);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),B(Tt,Tt.current),u)break;return null;case 22:case 23:return r.lanes=0,Vm(t,r,s);case 24:Kr(r,Ct,t.memoizedState.cache)}return Or(t,r,s)}function Zm(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Mt=!0;else{if(!fd(t,s)&&(r.flags&128)===0)return Mt=!1,F0(t,r,s);Mt=(t.flags&131072)!==0}else Mt=!1,Be&&(r.flags&1048576)!==0&&Ag(r,fo,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var u=r.elementType,d=u._init;if(u=d(u._payload),r.type=u,typeof u=="function")wc(u)?(t=Fa(u,t),r.tag=1,r=Ym(null,r,u,t,s)):(r.tag=0,r=id(null,r,u,t,s));else{if(u!=null){if(d=u.$$typeof,d===$){r.tag=11,r=Im(null,r,u,t,s);break e}else if(d===J){r.tag=14,r=$m(null,r,u,t,s);break e}}throw r=fe(u)||u,Error(i(306,r,""))}}return r;case 0:return id(t,r,r.type,r.pendingProps,s);case 1:return u=r.type,d=Fa(u,r.pendingProps),Ym(t,r,u,d,s);case 3:e:{if(ye(r,r.stateNode.containerInfo),t===null)throw Error(i(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,Uc(t,r),js(r,u,null,s);var b=r.memoizedState;if(u=b.cache,Kr(r,Ct,u),u!==g.cache&&Oc(r,[Ct],s,!0),Ns(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Km(t,r,u,s);break e}else if(u!==d){d=An(Error(i(424)),r),xs(d),r=Km(t,r,u,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=In(t.firstChild),tn=r,Be=!0,ka=null,ar=!0,s=Dm(r,null,u,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Es(),u===d){r=Or(t,r,s);break e}It(t,r,u,s)}r=r.child}return r;case 26:return jo(t,r),t===null?(s=nv(r.type,null,r.pendingProps,null))?r.memoizedState=s:Be||(s=r.type,t=r.pendingProps,u=Yo(ce.current).createElement(s),u[at]=r,u[it]=t,Bt(u,s,t),jt(u),r.stateNode=u):r.memoizedState=nv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return rt(r),t===null&&Be&&(u=r.stateNode=Jp(r.type,r.pendingProps,ce.current),tn=r,ar=!0,d=ht,ua(r.type)?(Gd=d,ht=In(u.firstChild)):ht=d),It(t,r,r.pendingProps.children,s),jo(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((d=u=ht)&&(u=gw(u,r.type,r.pendingProps,ar),u!==null?(r.stateNode=u,tn=r,ht=In(u.firstChild),ar=!1,d=!0):d=!1),d||Ua(r)),rt(r),d=r.type,g=r.pendingProps,b=t!==null?t.memoizedProps:null,u=g.children,$d(d,g)?u=null:b!==null&&$d(d,b)&&(r.flags|=32),r.memoizedState!==null&&(d=Ic(t,r,j0,null,null,s),el._currentValue=d),jo(t,r),It(t,r,u,s),r.child;case 6:return t===null&&Be&&((t=s=ht)&&(s=mw(s,r.pendingProps,ar),s!==null?(r.stateNode=s,tn=r,ht=null,t=!0):t=!1),t||Ua(r)),null;case 13:return Xm(t,r,s);case 4:return ye(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=xi(r,null,u,s):It(t,r,u,s),r.child;case 11:return Im(t,r,r.type,r.pendingProps,s);case 7:return It(t,r,r.pendingProps,s),r.child;case 8:return It(t,r,r.pendingProps.children,s),r.child;case 12:return It(t,r,r.pendingProps.children,s),r.child;case 10:return u=r.pendingProps,Kr(r,r.type,u.value),It(t,r,u.children,s),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Pa(r),d=Kt(d),u=u(d),r.flags|=1,It(t,r,u,s),r.child;case 14:return $m(t,r,r.type,r.pendingProps,s);case 15:return Bm(t,r,r.type,r.pendingProps,s);case 19:return Qm(t,r,s);case 31:return u=r.pendingProps,s=r.mode,u={mode:u.mode,children:u.children},t===null?(s=Mo(u,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=Sr(t.child,u),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return Vm(t,r,s);case 24:return Pa(r),u=Kt(Ct),t===null?(d=jc(),d===null&&(d=tt,g=Dc(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=s),d=g),r.memoizedState={parent:u,cache:d},kc(r),Kr(r,Ct,d)):((t.lanes&s)!==0&&(Uc(t,r),js(r,null,null,s),Ns()),d=t.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Kr(r,Ct,u)):(u=g.cache,Kr(r,Ct,u),u!==d.cache&&Oc(r,[Ct],s,!0))),It(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Dr(t){t.flags|=4}function Jm(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!lv(r)){if(r=jn.current,r!==null&&((He&4194048)===He?ir!==null:(He&62914560)!==He&&(He&536870912)===0||r!==ir))throw Os=Mc,Lg;t.flags|=8192}}function ko(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Kl():536870912,t.lanes|=r,Ai|=r)}function zs(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(r)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=s,r}function I0(t,r,s){var u=r.pendingProps;switch(Rc(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(r),null;case 1:return dt(r),null;case 3:return s=r.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Cr(Ct),mt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ss(r)?Dr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ng())),dt(r),null;case 26:return s=r.memoizedState,t===null?(Dr(r),s!==null?(dt(r),Jm(r,s)):(dt(r),r.flags&=-16777217)):s?s!==t.memoizedState?(Dr(r),dt(r),Jm(r,s)):(dt(r),r.flags&=-16777217):(t.memoizedProps!==u&&Dr(r),dt(r),r.flags&=-16777217),null;case 27:sn(r),s=ce.current;var d=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==u&&Dr(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return dt(r),null}t=oe.current,Ss(r)?Og(r):(t=Jp(d,u,s),r.stateNode=t,Dr(r))}return dt(r),null;case 5:if(sn(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==u&&Dr(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return dt(r),null}if(t=oe.current,Ss(r))Og(r);else{switch(d=Yo(ce.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?d.createElement(s,{is:u.is}):d.createElement(s)}}t[at]=r,t[it]=u;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=t;e:switch(Bt(t,s,u),s){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Dr(r)}}return dt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==u&&Dr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(t=ce.current,Ss(r)){if(t=r.stateNode,s=r.memoizedProps,u=null,d=tn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}t[at]=r,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||Gp(t.nodeValue,s)),t||Ua(r)}else t=Yo(t).createTextNode(u),t[at]=r,r.stateNode=t}return dt(r),null;case 13:if(u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ss(r),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[at]=r}else Es(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;dt(r),d=!1}else d=Ng(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Ar(r),r):(Ar(r),null)}if(Ar(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=u!==null,t=t!==null&&t.memoizedState!==null,s){u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),ko(r,r.updateQueue),dt(r),null;case 4:return mt(),t===null&&Pd(r.stateNode.containerInfo),dt(r),null;case 10:return Cr(r.type),dt(r),null;case 19:if(Q(Tt),d=r.memoizedState,d===null)return dt(r),null;if(u=(r.flags&128)!==0,g=d.rendering,g===null)if(u)zs(d,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(g=Oo(t),g!==null){for(r.flags|=128,zs(d,!1),t=g.updateQueue,r.updateQueue=t,ko(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)Tg(s,t),s=s.sibling;return B(Tt,Tt.current&1|2),r.child}t=t.sibling}d.tail!==null&&Jt()>Po&&(r.flags|=128,u=!0,zs(d,!1),r.lanes=4194304)}else{if(!u)if(t=Oo(g),t!==null){if(r.flags|=128,u=!0,t=t.updateQueue,r.updateQueue=t,ko(r,t),zs(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Be)return dt(r),null}else 2*Jt()-d.renderingStartTime>Po&&s!==536870912&&(r.flags|=128,u=!0,zs(d,!1),r.lanes=4194304);d.isBackwards?(g.sibling=r.child,r.child=g):(t=d.last,t!==null?t.sibling=g:r.child=g,d.last=g)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Jt(),r.sibling=null,t=Tt.current,B(Tt,u?t&1|2:t&1),r):(dt(r),null);case 22:case 23:return Ar(r),zc(),u=r.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(s&536870912)!==0&&(r.flags&128)===0&&(dt(r),r.subtreeFlags&6&&(r.flags|=8192)):dt(r),s=r.updateQueue,s!==null&&ko(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==s&&(r.flags|=2048),t!==null&&Q(Ha),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Cr(Ct),dt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function $0(t,r){switch(Rc(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Cr(Ct),mt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return sn(r),null;case 13:if(Ar(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Es()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Q(Tt),null;case 4:return mt(),null;case 10:return Cr(r.type),null;case 22:case 23:return Ar(r),zc(),t!==null&&Q(Ha),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Cr(Ct),null;case 25:return null;default:return null}}function ep(t,r){switch(Rc(r),r.tag){case 3:Cr(Ct),mt();break;case 26:case 27:case 5:sn(r);break;case 4:mt();break;case 13:Ar(r);break;case 19:Q(Tt);break;case 10:Cr(r.type);break;case 22:case 23:Ar(r),zc(),t!==null&&Q(Ha);break;case 24:Cr(Ct)}}function Fs(t,r){try{var s=r.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var d=u.next;s=d;do{if((s.tag&t)===t){u=void 0;var g=s.create,b=s.inst;u=g(),b.destroy=u}s=s.next}while(s!==d)}}catch(E){Qe(r,r.return,E)}}function ta(t,r,s){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&t)===t){var b=u.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,d=r;var N=s,z=E;try{z()}catch(q){Qe(d,N,q)}}}u=u.next}while(u!==g)}}catch(q){Qe(r,r.return,q)}}function tp(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{$g(r,s)}catch(u){Qe(t,t.return,u)}}}function np(t,r,s){s.props=Fa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){Qe(t,r,u)}}function Is(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(d){Qe(t,r,d)}}function sr(t,r){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(d){Qe(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Qe(t,r,d)}else s.current=null}function rp(t){var r=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(d){Qe(t,t.return,d)}}function hd(t,r,s){try{var u=t.stateNode;uw(u,t.type,s,r),u[it]=r}catch(d){Qe(t,t.return,d)}}function ap(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ua(t.type)||t.tag===4}function gd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ap(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ua(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function md(t,r,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Go));else if(u!==4&&(u===27&&ua(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(md(t,r,s),t=t.sibling;t!==null;)md(t,r,s),t=t.sibling}function Uo(t,r,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(u!==4&&(u===27&&ua(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Uo(t,r,s),t=t.sibling;t!==null;)Uo(t,r,s),t=t.sibling}function ip(t){var r=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Bt(r,u,s),r[at]=t,r[it]=s}catch(g){Qe(t,t.return,g)}}var Nr=!1,vt=!1,pd=!1,sp=typeof WeakSet=="function"?WeakSet:Set,kt=null;function B0(t,r){if(t=t.containerInfo,Fd=Jo,t=vg(t),gc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var b=0,E=-1,N=-1,z=0,q=0,K=t,F=null;t:for(;;){for(var I;K!==s||d!==0&&K.nodeType!==3||(E=b+d),K!==g||u!==0&&K.nodeType!==3||(N=b+u),K.nodeType===3&&(b+=K.nodeValue.length),(I=K.firstChild)!==null;)F=K,K=I;for(;;){if(K===t)break t;if(F===s&&++z===d&&(E=b),F===g&&++q===u&&(N=b),(I=K.nextSibling)!==null)break;K=F,F=K.parentNode}K=I}s=E===-1||N===-1?null:{start:E,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(Id={focusedElem:t,selectionRange:s},Jo=!1,kt=r;kt!==null;)if(r=kt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,kt=t;else for(;kt!==null;){switch(r=kt,g=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,s=r,d=g.memoizedProps,g=g.memoizedState,u=s.stateNode;try{var Ee=Fa(s.type,d,s.elementType===s.type);t=u.getSnapshotBeforeUpdate(Ee,g),u.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Qe(s,s.return,ve)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Vd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,kt=t;break}kt=r.return}}function lp(t,r,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:na(t,s),u&4&&Fs(5,s);break;case 1:if(na(t,s),u&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(b){Qe(s,s.return,b)}else{var d=Fa(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Qe(s,s.return,b)}}u&64&&tp(s),u&512&&Is(s,s.return);break;case 3:if(na(t,s),u&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{$g(t,r)}catch(b){Qe(s,s.return,b)}}break;case 27:r===null&&u&4&&ip(s);case 26:case 5:na(t,s),r===null&&u&4&&rp(s),u&512&&Is(s,s.return);break;case 12:na(t,s);break;case 13:na(t,s),u&4&&cp(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Z0.bind(null,s),pw(t,s))));break;case 22:if(u=s.memoizedState!==null||Nr,!u){r=r!==null&&r.memoizedState!==null||vt,d=Nr;var g=vt;Nr=u,(vt=r)&&!g?ra(t,s,(s.subtreeFlags&8772)!==0):na(t,s),Nr=d,vt=g}break;case 30:break;default:na(t,s)}}function op(t){var r=t.alternate;r!==null&&(t.alternate=null,op(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Xu(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,cn=!1;function jr(t,r,s){for(s=s.child;s!==null;)up(t,r,s),s=s.sibling}function up(t,r,s){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(ge,s)}catch{}switch(s.tag){case 26:vt||sr(s,r),jr(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:vt||sr(s,r);var u=lt,d=cn;ua(s.type)&&(lt=s.stateNode,cn=!1),jr(t,r,s),Ws(s.stateNode),lt=u,cn=d;break;case 5:vt||sr(s,r);case 6:if(u=lt,d=cn,lt=null,jr(t,r,s),lt=u,cn=d,lt!==null)if(cn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(s.stateNode)}catch(g){Qe(s,r,g)}else try{lt.removeChild(s.stateNode)}catch(g){Qe(s,r,g)}break;case 18:lt!==null&&(cn?(t=lt,Qp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),al(t)):Qp(lt,s.stateNode));break;case 4:u=lt,d=cn,lt=s.stateNode.containerInfo,cn=!0,jr(t,r,s),lt=u,cn=d;break;case 0:case 11:case 14:case 15:vt||ta(2,s,r),vt||ta(4,s,r),jr(t,r,s);break;case 1:vt||(sr(s,r),u=s.stateNode,typeof u.componentWillUnmount=="function"&&np(s,r,u)),jr(t,r,s);break;case 21:jr(t,r,s);break;case 22:vt=(u=vt)||s.memoizedState!==null,jr(t,r,s),vt=u;break;default:jr(t,r,s)}}function cp(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{al(t)}catch(s){Qe(r,r.return,s)}}function V0(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new sp),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new sp),r;default:throw Error(i(435,t.tag))}}function vd(t,r){var s=V0(t);r.forEach(function(u){var d=J0.bind(null,t,u);s.has(u)||(s.add(u),u.then(d,d))})}function vn(t,r){var s=r.deletions;if(s!==null)for(var u=0;u<s.length;u++){var d=s[u],g=t,b=r,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(ua(E.type)){lt=E.stateNode,cn=!1;break e}break;case 5:lt=E.stateNode,cn=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,cn=!0;break e}E=E.return}if(lt===null)throw Error(i(160));up(g,b,d),lt=null,cn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)dp(r,t),r=r.sibling}var Fn=null;function dp(t,r){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(r,t),yn(t),u&4&&(ta(3,t,t.return),Fs(3,t),ta(5,t,t.return));break;case 1:vn(r,t),yn(t),u&512&&(vt||s===null||sr(s,s.return)),u&64&&Nr&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var d=Fn;if(vn(r,t),yn(t),u&512&&(vt||s===null||sr(s,s.return)),u&4){var g=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[_r]||g[at]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Bt(g,u,s),g[at]=t,jt(g),u=g;break e;case"link":var b=iv("link","href",d).get(u+(s.href||""));if(b){for(var E=0;E<b.length;E++)if(g=b[E],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(E,1);break t}}g=d.createElement(u),Bt(g,u,s),d.head.appendChild(g);break;case"meta":if(b=iv("meta","content",d).get(u+(s.content||""))){for(E=0;E<b.length;E++)if(g=b[E],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(E,1);break t}}g=d.createElement(u),Bt(g,u,s),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[at]=t,jt(g),u=g}t.stateNode=u}else sv(d,t.type,t.stateNode);else t.stateNode=av(d,u,t.memoizedProps);else g!==u?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,u===null?sv(d,t.type,t.stateNode):av(d,u,t.memoizedProps)):u===null&&t.stateNode!==null&&hd(t,t.memoizedProps,s.memoizedProps)}break;case 27:vn(r,t),yn(t),u&512&&(vt||s===null||sr(s,s.return)),s!==null&&u&4&&hd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(vn(r,t),yn(t),u&512&&(vt||s===null||sr(s,s.return)),t.flags&32){d=t.stateNode;try{si(d,"")}catch(I){Qe(t,t.return,I)}}u&4&&t.stateNode!=null&&(d=t.memoizedProps,hd(t,d,s!==null?s.memoizedProps:d)),u&1024&&(pd=!0);break;case 6:if(vn(r,t),yn(t),u&4){if(t.stateNode===null)throw Error(i(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(I){Qe(t,t.return,I)}}break;case 3:if(Wo=null,d=Fn,Fn=Ko(r.containerInfo),vn(r,t),Fn=d,yn(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{al(r.containerInfo)}catch(I){Qe(t,t.return,I)}pd&&(pd=!1,fp(t));break;case 4:u=Fn,Fn=Ko(t.stateNode.containerInfo),vn(r,t),yn(t),Fn=u;break;case 12:vn(r,t),yn(t);break;case 13:vn(r,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ed=Jt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,vd(t,u)));break;case 22:d=t.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,z=Nr,q=vt;if(Nr=z||d,vt=q||N,vn(r,t),vt=q,Nr=z,yn(t),u&8192)e:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(s===null||N||Nr||vt||Ia(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){N=s=r;try{if(g=N.stateNode,d)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=N.stateNode;var K=N.memoizedProps.style,F=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(I){Qe(N,N.return,I)}}}else if(r.tag===6){if(s===null){N=r;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(I){Qe(N,N.return,I)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,vd(t,s))));break;case 19:vn(r,t),yn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,vd(t,u)));break;case 30:break;case 21:break;default:vn(r,t),yn(t)}}function yn(t){var r=t.flags;if(r&2){try{for(var s,u=t.return;u!==null;){if(ap(u)){s=u;break}u=u.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var d=s.stateNode,g=gd(t);Uo(t,g,d);break;case 5:var b=s.stateNode;s.flags&32&&(si(b,""),s.flags&=-33);var E=gd(t);Uo(t,E,b);break;case 3:case 4:var N=s.stateNode.containerInfo,z=gd(t);md(t,z,N);break;default:throw Error(i(161))}}catch(q){Qe(t,t.return,q)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function fp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;fp(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function na(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)lp(t,r.alternate,r),r=r.sibling}function Ia(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ta(4,r,r.return),Ia(r);break;case 1:sr(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&np(r,r.return,s),Ia(r);break;case 27:Ws(r.stateNode);case 26:case 5:sr(r,r.return),Ia(r);break;case 22:r.memoizedState===null&&Ia(r);break;case 30:Ia(r);break;default:Ia(r)}t=t.sibling}}function ra(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=t,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:ra(d,g,s),Fs(4,g);break;case 1:if(ra(d,g,s),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(z){Qe(u,u.return,z)}if(u=g,d=u.updateQueue,d!==null){var E=u.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)Ig(N[d],E)}catch(z){Qe(u,u.return,z)}}s&&b&64&&tp(g),Is(g,g.return);break;case 27:ip(g);case 26:case 5:ra(d,g,s),s&&u===null&&b&4&&rp(g),Is(g,g.return);break;case 12:ra(d,g,s);break;case 13:ra(d,g,s),s&&b&4&&cp(d,g);break;case 22:g.memoizedState===null&&ra(d,g,s),Is(g,g.return);break;case 30:break;default:ra(d,g,s)}r=r.sibling}}function yd(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Cs(s))}function _d(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Cs(t))}function lr(t,r,s,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)hp(t,r,s,u),r=r.sibling}function hp(t,r,s,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:lr(t,r,s,u),d&2048&&Fs(9,r);break;case 1:lr(t,r,s,u);break;case 3:lr(t,r,s,u),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Cs(t)));break;case 12:if(d&2048){lr(t,r,s,u),t=r.stateNode;try{var g=r.memoizedProps,b=g.id,E=g.onPostCommit;typeof E=="function"&&E(b,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Qe(r,r.return,N)}}else lr(t,r,s,u);break;case 13:lr(t,r,s,u);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?lr(t,r,s,u):$s(t,r):g._visibility&2?lr(t,r,s,u):(g._visibility|=2,Ri(t,r,s,u,(r.subtreeFlags&10256)!==0)),d&2048&&yd(b,r);break;case 24:lr(t,r,s,u),d&2048&&_d(r.alternate,r);break;default:lr(t,r,s,u)}}function Ri(t,r,s,u,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=t,b=r,E=s,N=u,z=b.flags;switch(b.tag){case 0:case 11:case 15:Ri(g,b,E,N,d),Fs(8,b);break;case 23:break;case 22:var q=b.stateNode;b.memoizedState!==null?q._visibility&2?Ri(g,b,E,N,d):$s(g,b):(q._visibility|=2,Ri(g,b,E,N,d)),d&&z&2048&&yd(b.alternate,b);break;case 24:Ri(g,b,E,N,d),d&&z&2048&&_d(b.alternate,b);break;default:Ri(g,b,E,N,d)}r=r.sibling}}function $s(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,u=r,d=u.flags;switch(u.tag){case 22:$s(s,u),d&2048&&yd(u.alternate,u);break;case 24:$s(s,u),d&2048&&_d(u.alternate,u);break;default:$s(s,u)}r=r.sibling}}var Bs=8192;function Ci(t){if(t.subtreeFlags&Bs)for(t=t.child;t!==null;)gp(t),t=t.sibling}function gp(t){switch(t.tag){case 26:Ci(t),t.flags&Bs&&t.memoizedState!==null&&Ow(Fn,t.memoizedState,t.memoizedProps);break;case 5:Ci(t);break;case 3:case 4:var r=Fn;Fn=Ko(t.stateNode.containerInfo),Ci(t),Fn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Bs,Bs=16777216,Ci(t),Bs=r):Ci(t));break;default:Ci(t)}}function mp(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Vs(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];kt=u,vp(u,t)}mp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pp(t),t=t.sibling}function pp(t){switch(t.tag){case 0:case 11:case 15:Vs(t),t.flags&2048&&ta(9,t,t.return);break;case 3:Vs(t);break;case 12:Vs(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Lo(t)):Vs(t);break;default:Vs(t)}}function Lo(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];kt=u,vp(u,t)}mp(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ta(8,r,r.return),Lo(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Lo(r));break;default:Lo(r)}t=t.sibling}}function vp(t,r){for(;kt!==null;){var s=kt;switch(s.tag){case 0:case 11:case 15:ta(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Cs(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,kt=u;else e:for(s=t;kt!==null;){u=kt;var d=u.sibling,g=u.return;if(op(u),u===s){kt=null;break e}if(d!==null){d.return=g,kt=d;break e}kt=g}}}var q0={getCacheForType:function(t){var r=Kt(Ct),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},G0=typeof WeakMap=="function"?WeakMap:Map,Ve=0,tt=null,ke=null,He=0,qe=0,_n=null,aa=!1,Ti=!1,bd=!1,Mr=0,gt=0,ia=0,$a=0,wd=0,Mn=0,Ai=0,qs=null,dn=null,Sd=!1,Ed=0,Po=1/0,Ho=null,sa=null,$t=0,la=null,Oi=null,Di=0,xd=0,Rd=null,yp=null,Gs=0,Cd=null;function bn(){if((Ve&2)!==0&&He!==0)return He&-He;if(L.T!==null){var t=vi;return t!==0?t:Md()}return gn()}function _p(){Mn===0&&(Mn=(He&536870912)===0||Be?Yl():536870912);var t=jn.current;return t!==null&&(t.flags|=32),Mn}function wn(t,r,s){(t===tt&&(qe===2||qe===9)||t.cancelPendingCommit!==null)&&(Ni(t,0),oa(t,He,Mn,!1)),ft(t,s),((Ve&2)===0||t!==tt)&&(t===tt&&((Ve&2)===0&&($a|=s),gt===4&&oa(t,He,Mn,!1)),or(t))}function bp(t,r,s){if((Ve&6)!==0)throw Error(i(327));var u=!s&&(r&124)===0&&(r&t.expiredLanes)===0||vr(t,r),d=u?X0(t,r):Od(t,r,!0),g=u;do{if(d===0){Ti&&!u&&oa(t,r,0,!1);break}else{if(s=t.current.alternate,g&&!Y0(s)){d=Od(t,r,!1),g=!1;continue}if(d===2){if(g=r,t.errorRecoveryDisabledLanes&g)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var E=t;d=qs;var N=E.current.memoizedState.isDehydrated;if(N&&(Ni(E,b).flags|=256),b=Od(E,b,!1),b!==2){if(bd&&!N){E.errorRecoveryDisabledLanes|=g,$a|=g,d=4;break e}g=dn,dn=d,g!==null&&(dn===null?dn=g:dn.push.apply(dn,g))}d=b}if(g=!1,d!==2)continue}}if(d===1){Ni(t,0),oa(t,r,0,!0);break}e:{switch(u=t,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:oa(u,r,Mn,!aa);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(d=Ed+300-Jt(),10<d)){if(oa(u,r,Mn,!aa),nr(u,0,!0)!==0)break e;u.timeoutHandle=Xp(wp.bind(null,u,s,dn,Ho,Sd,r,Mn,$a,Ai,aa,g,2,-0,0),d);break e}wp(u,s,dn,Ho,Sd,r,Mn,$a,Ai,aa,g,0,-0,0)}}break}while(!0);or(t)}function wp(t,r,s,u,d,g,b,E,N,z,q,K,F,I){if(t.timeoutHandle=-1,K=r.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Js={stylesheets:null,count:0,unsuspend:Aw},gp(r),K=Dw(),K!==null)){t.cancelPendingCommit=K(Ap.bind(null,t,r,g,s,u,d,b,E,N,q,1,F,I)),oa(t,g,b,!z);return}Ap(t,r,g,s,u,d,b,E,N)}function Y0(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var d=s[u],g=d.getSnapshot;d=d.value;try{if(!mn(g(),d))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function oa(t,r,s,u){r&=~wd,r&=~$a,t.suspendedLanes|=r,t.pingedLanes&=~r,u&&(t.warmLanes|=r),u=t.expirationTimes;for(var d=r;0<d;){var g=31-Fe(d),b=1<<g;u[g]=-1,d&=~b}s!==0&&qt(t,s,r)}function zo(){return(Ve&6)===0?(Ys(0),!1):!0}function Td(){if(ke!==null){if(qe===0)var t=ke.return;else t=ke,Rr=La=null,Vc(t),Ei=null,Ps=0,t=ke;for(;t!==null;)ep(t.alternate,t),t=t.return;ke=null}}function Ni(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,dw(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Td(),tt=t,ke=s=Sr(t.current,null),He=r,qe=0,_n=null,aa=!1,Ti=vr(t,r),bd=!1,Ai=Mn=wd=$a=ia=gt=0,dn=qs=null,Sd=!1,(r&8)!==0&&(r|=r&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=r;0<u;){var d=31-Fe(u),g=1<<d;r|=t[d],u&=~g}return Mr=r,so(),s}function Sp(t,r){je=null,L.H=Co,r===As||r===po?(r=zg(),qe=3):r===Lg?(r=zg(),qe=4):qe=r===Fm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,_n=r,ke===null&&(gt=1,No(t,An(r,t.current)))}function Ep(){var t=L.H;return L.H=Co,t===null?Co:t}function xp(){var t=L.A;return L.A=q0,t}function Ad(){gt=4,aa||(He&4194048)!==He&&jn.current!==null||(Ti=!0),(ia&134217727)===0&&($a&134217727)===0||tt===null||oa(tt,He,Mn,!1)}function Od(t,r,s){var u=Ve;Ve|=2;var d=Ep(),g=xp();(tt!==t||He!==r)&&(Ho=null,Ni(t,r)),r=!1;var b=gt;e:do try{if(qe!==0&&ke!==null){var E=ke,N=_n;switch(qe){case 8:Td(),b=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(r=!0);var z=qe;if(qe=0,_n=null,ji(t,E,N,z),s&&Ti){b=0;break e}break;default:z=qe,qe=0,_n=null,ji(t,E,N,z)}}K0(),b=gt;break}catch(q){Sp(t,q)}while(!0);return r&&t.shellSuspendCounter++,Rr=La=null,Ve=u,L.H=d,L.A=g,ke===null&&(tt=null,He=0,so()),b}function K0(){for(;ke!==null;)Rp(ke)}function X0(t,r){var s=Ve;Ve|=2;var u=Ep(),d=xp();tt!==t||He!==r?(Ho=null,Po=Jt()+500,Ni(t,r)):Ti=vr(t,r);e:do try{if(qe!==0&&ke!==null){r=ke;var g=_n;t:switch(qe){case 1:qe=0,_n=null,ji(t,r,g,1);break;case 2:case 9:if(Pg(g)){qe=0,_n=null,Cp(r);break}r=function(){qe!==2&&qe!==9||tt!==t||(qe=7),or(t)},g.then(r,r);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:Pg(g)?(qe=0,_n=null,Cp(r)):(qe=0,_n=null,ji(t,r,g,7));break;case 5:var b=null;switch(ke.tag){case 26:b=ke.memoizedState;case 5:case 27:var E=ke;if(!b||lv(b)){qe=0,_n=null;var N=E.sibling;if(N!==null)ke=N;else{var z=E.return;z!==null?(ke=z,Fo(z)):ke=null}break t}}qe=0,_n=null,ji(t,r,g,5);break;case 6:qe=0,_n=null,ji(t,r,g,6);break;case 8:Td(),gt=6;break e;default:throw Error(i(462))}}W0();break}catch(q){Sp(t,q)}while(!0);return Rr=La=null,L.H=u,L.A=d,Ve=s,ke!==null?0:(tt=null,He=0,so(),gt)}function W0(){for(;ke!==null&&!gr();)Rp(ke)}function Rp(t){var r=Zm(t.alternate,t,Mr);t.memoizedProps=t.pendingProps,r===null?Fo(t):ke=r}function Cp(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=Gm(s,r,r.pendingProps,r.type,void 0,He);break;case 11:r=Gm(s,r,r.pendingProps,r.type.render,r.ref,He);break;case 5:Vc(r);default:ep(s,r),r=ke=Tg(r,Mr),r=Zm(s,r,Mr)}t.memoizedProps=t.pendingProps,r===null?Fo(t):ke=r}function ji(t,r,s,u){Rr=La=null,Vc(r),Ei=null,Ps=0;var d=r.return;try{if(z0(t,d,r,s,He)){gt=1,No(t,An(s,t.current)),ke=null;return}}catch(g){if(d!==null)throw ke=d,g;gt=1,No(t,An(s,t.current)),ke=null;return}r.flags&32768?(Be||u===1?t=!0:Ti||(He&536870912)!==0?t=!1:(aa=t=!0,(u===2||u===9||u===3||u===6)&&(u=jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Tp(r,t)):Fo(r)}function Fo(t){var r=t;do{if((r.flags&32768)!==0){Tp(r,aa);return}t=r.return;var s=I0(r.alternate,r,Mr);if(s!==null){ke=s;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=t}while(r!==null);gt===0&&(gt=5)}function Tp(t,r){do{var s=$0(t.alternate,t);if(s!==null){s.flags&=32767,ke=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){ke=t;return}ke=t=s}while(t!==null);gt=6,ke=null}function Ap(t,r,s,u,d,g,b,E,N){t.cancelPendingCommit=null;do Io();while($t!==0);if((Ve&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=_c,en(t,s,g,b,E,N),t===tt&&(ke=tt=null,He=0),Oi=r,la=t,Di=s,xd=g,Rd=d,yp=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ew(H,function(){return Mp(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,d=W.p,W.p=2,b=Ve,Ve|=4;try{B0(t,r,s)}finally{Ve=b,W.p=d,L.T=u}}$t=1,Op(),Dp(),Np()}}function Op(){if($t===1){$t=0;var t=la,r=Oi,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=L.T,L.T=null;var u=W.p;W.p=2;var d=Ve;Ve|=4;try{dp(r,t);var g=Id,b=vg(t.containerInfo),E=g.focusedElem,N=g.selectionRange;if(b!==E&&E&&E.ownerDocument&&pg(E.ownerDocument.documentElement,E)){if(N!==null&&gc(E)){var z=N.start,q=N.end;if(q===void 0&&(q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(q,E.value.length);else{var K=E.ownerDocument||document,F=K&&K.defaultView||window;if(F.getSelection){var I=F.getSelection(),Ee=E.textContent.length,ve=Math.min(N.start,Ee),Xe=N.end===void 0?ve:Math.min(N.end,Ee);!I.extend&&ve>Xe&&(b=Xe,Xe=ve,ve=b);var k=mg(E,ve),M=mg(E,Xe);if(k&&M&&(I.rangeCount!==1||I.anchorNode!==k.node||I.anchorOffset!==k.offset||I.focusNode!==M.node||I.focusOffset!==M.offset)){var P=K.createRange();P.setStart(k.node,k.offset),I.removeAllRanges(),ve>Xe?(I.addRange(P),I.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),I.addRange(P))}}}}for(K=[],I=E;I=I.parentNode;)I.nodeType===1&&K.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Y=K[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Jo=!!Fd,Id=Fd=null}finally{Ve=d,W.p=u,L.T=s}}t.current=r,$t=2}}function Dp(){if($t===2){$t=0;var t=la,r=Oi,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=L.T,L.T=null;var u=W.p;W.p=2;var d=Ve;Ve|=4;try{lp(t,r.alternate,r)}finally{Ve=d,W.p=u,L.T=s}}$t=3}}function Np(){if($t===4||$t===3){$t=0,Jn();var t=la,r=Oi,s=Di,u=yp;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$t=5:($t=0,Oi=la=null,jp(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(sa=null),Ft(s),r=r.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(ge,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=L.T,d=W.p,W.p=2,L.T=null;try{for(var g=t.onRecoverableError,b=0;b<u.length;b++){var E=u[b];g(E.value,{componentStack:E.stack})}}finally{L.T=r,W.p=d}}(Di&3)!==0&&Io(),or(t),d=t.pendingLanes,(s&4194090)!==0&&(d&42)!==0?t===Cd?Gs++:(Gs=0,Cd=t):Gs=0,Ys(0)}}function jp(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Cs(r)))}function Io(t){return Op(),Dp(),Np(),Mp()}function Mp(){if($t!==5)return!1;var t=la,r=xd;xd=0;var s=Ft(Di),u=L.T,d=W.p;try{W.p=32>s?32:s,L.T=null,s=Rd,Rd=null;var g=la,b=Di;if($t=0,Oi=la=null,Di=0,(Ve&6)!==0)throw Error(i(331));var E=Ve;if(Ve|=4,pp(g.current),hp(g,g.current,b,s),Ve=E,Ys(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(ge,g)}catch{}return!0}finally{W.p=d,L.T=u,jp(t,r)}}function kp(t,r,s){r=An(s,r),r=ad(t.stateNode,r,2),t=Qr(t,r,2),t!==null&&(ft(t,2),or(t))}function Qe(t,r,s){if(t.tag===3)kp(t,t,s);else for(;r!==null;){if(r.tag===3){kp(r,t,s);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(sa===null||!sa.has(u))){t=An(s,t),s=Hm(2),u=Qr(r,s,2),u!==null&&(zm(s,u,r,t),ft(u,2),or(u));break}}r=r.return}}function Dd(t,r,s){var u=t.pingCache;if(u===null){u=t.pingCache=new G0;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(s)||(bd=!0,d.add(s),t=Q0.bind(null,t,r,s),r.then(t,t))}function Q0(t,r,s){var u=t.pingCache;u!==null&&u.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,tt===t&&(He&s)===s&&(gt===4||gt===3&&(He&62914560)===He&&300>Jt()-Ed?(Ve&2)===0&&Ni(t,0):wd|=s,Ai===He&&(Ai=0)),or(t)}function Up(t,r){r===0&&(r=Kl()),t=hi(t,r),t!==null&&(ft(t,r),or(t))}function Z0(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),Up(t,s)}function J0(t,r){var s=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),Up(t,s)}function ew(t,r){return Vr(t,r)}var $o=null,Mi=null,Nd=!1,Bo=!1,jd=!1,Ba=0;function or(t){t!==Mi&&t.next===null&&(Mi===null?$o=Mi=t:Mi=Mi.next=t),Bo=!0,Nd||(Nd=!0,nw())}function Ys(t,r){if(!jd&&Bo){jd=!0;do for(var s=!1,u=$o;u!==null;){if(t!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var b=u.suspendedLanes,E=u.pingedLanes;g=(1<<31-Fe(42|t)+1)-1,g&=d&~(b&~E),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,zp(u,g))}else g=He,g=nr(u,u===tt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||vr(u,g)||(s=!0,zp(u,g));u=u.next}while(s);jd=!1}}function tw(){Lp()}function Lp(){Bo=Nd=!1;var t=0;Ba!==0&&(cw()&&(t=Ba),Ba=0);for(var r=Jt(),s=null,u=$o;u!==null;){var d=u.next,g=Pp(u,r);g===0?(u.next=null,s===null?$o=d:s.next=d,d===null&&(Mi=s)):(s=u,(t!==0||(g&3)!==0)&&(Bo=!0)),u=d}Ys(t)}function Pp(t,r){for(var s=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var b=31-Fe(g),E=1<<b,N=d[b];N===-1?((E&s)===0||(E&u)!==0)&&(d[b]=Ra(E,r)):N<=r&&(t.expiredLanes|=E),g&=~E}if(r=tt,s=He,s=nr(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===r&&(qe===2||qe===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&ln(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||vr(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(u!==null&&ln(u),Ft(s)){case 2:case 8:s=j;break;case 32:s=H;break;case 268435456:s=ue;break;default:s=H}return u=Hp.bind(null,t),s=Vr(s,u),t.callbackPriority=r,t.callbackNode=s,r}return u!==null&&u!==null&&ln(u),t.callbackPriority=2,t.callbackNode=null,2}function Hp(t,r){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Io()&&t.callbackNode!==s)return null;var u=He;return u=nr(t,t===tt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(bp(t,u,r),Pp(t,Jt()),t.callbackNode!=null&&t.callbackNode===s?Hp.bind(null,t):null)}function zp(t,r){if(Io())return null;bp(t,r,!0)}function nw(){fw(function(){(Ve&6)!==0?Vr(mr,tw):Lp()})}function Md(){return Ba===0&&(Ba=Yl()),Ba}function Fp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Jl(""+t)}function Ip(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function rw(t,r,s,u,d){if(r==="submit"&&s&&s.stateNode===d){var g=Fp((d[it]||null).action),b=u.submitter;b&&(r=(r=b[it]||null)?Fp(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var E=new ro("action","action",null,u,d);t.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ba!==0){var N=b?Ip(d,b):new FormData(d);Jc(s,{pending:!0,data:N,method:d.method,action:g},null,N)}}else typeof g=="function"&&(E.preventDefault(),N=b?Ip(d,b):new FormData(d),Jc(s,{pending:!0,data:N,method:d.method,action:g},g,N))},currentTarget:d}]})}}for(var kd=0;kd<yc.length;kd++){var Ud=yc[kd],aw=Ud.toLowerCase(),iw=Ud[0].toUpperCase()+Ud.slice(1);zn(aw,"on"+iw)}zn(bg,"onAnimationEnd"),zn(wg,"onAnimationIteration"),zn(Sg,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(S0,"onTransitionRun"),zn(E0,"onTransitionStart"),zn(x0,"onTransitionCancel"),zn(Eg,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ks));function $p(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],d=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var b=u.length-1;0<=b;b--){var E=u[b],N=E.instance,z=E.currentTarget;if(E=E.listener,N!==g&&d.isPropagationStopped())break e;g=E,d.currentTarget=z;try{g(d)}catch(q){Do(q)}d.currentTarget=null,g=N}else for(b=0;b<u.length;b++){if(E=u[b],N=E.instance,z=E.currentTarget,E=E.listener,N!==g&&d.isPropagationStopped())break e;g=E,d.currentTarget=z;try{g(d)}catch(q){Do(q)}d.currentTarget=null,g=N}}}}function Ue(t,r){var s=r[yr];s===void 0&&(s=r[yr]=new Set);var u=t+"__bubble";s.has(u)||(Bp(r,t,2,!1),s.add(u))}function Ld(t,r,s){var u=0;r&&(u|=4),Bp(s,t,u,r)}var Vo="_reactListening"+Math.random().toString(36).slice(2);function Pd(t){if(!t[Vo]){t[Vo]=!0,Lh.forEach(function(s){s!=="selectionchange"&&(sw.has(s)||Ld(s,!1,t),Ld(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Vo]||(r[Vo]=!0,Ld("selectionchange",!1,r))}}function Bp(t,r,s,u){switch(hv(r)){case 2:var d=Mw;break;case 8:d=kw;break;default:d=Qd}s=d.bind(null,r,s,t),d=void 0,!ic||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(r,s,{capture:!0,passive:d}):t.addEventListener(r,s,!0):d!==void 0?t.addEventListener(r,s,{passive:d}):t.addEventListener(r,s,!1)}function Hd(t,r,s,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var E=u.stateNode.containerInfo;if(E===d)break;if(b===4)for(b=u.return;b!==null;){var N=b.tag;if((N===3||N===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;E!==null;){if(b=ei(E),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){u=g=b;continue e}E=E.parentNode}}u=u.return}Wh(function(){var z=g,q=rc(s),K=[];e:{var F=xg.get(t);if(F!==void 0){var I=ro,Ee=t;switch(t){case"keypress":if(to(s)===0)break e;case"keydown":case"keyup":I=e0;break;case"focusin":Ee="focus",I=uc;break;case"focusout":Ee="blur",I=uc;break;case"beforeblur":case"afterblur":I=uc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=$b;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=r0;break;case bg:case wg:case Sg:I=qb;break;case Eg:I=i0;break;case"scroll":case"scrollend":I=Fb;break;case"wheel":I=l0;break;case"copy":case"cut":case"paste":I=Yb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=tg;break;case"toggle":case"beforetoggle":I=u0}var ve=(r&4)!==0,Xe=!ve&&(t==="scroll"||t==="scrollend"),k=ve?F!==null?F+"Capture":null:F;ve=[];for(var M=z,P;M!==null;){var Y=M;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=hs(M,k),Y!=null&&ve.push(Xs(M,Y,P))),Xe)break;M=M.return}0<ve.length&&(F=new I(F,Ee,null,s,q),K.push({event:F,listeners:ve}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",F&&s!==nc&&(Ee=s.relatedTarget||s.fromElement)&&(ei(Ee)||Ee[Yt]))break e;if((I||F)&&(F=q.window===q?q:(F=q.ownerDocument)?F.defaultView||F.parentWindow:window,I?(Ee=s.relatedTarget||s.toElement,I=z,Ee=Ee?ei(Ee):null,Ee!==null&&(Xe=o(Ee),ve=Ee.tag,Ee!==Xe||ve!==5&&ve!==27&&ve!==6)&&(Ee=null)):(I=null,Ee=z),I!==Ee)){if(ve=Jh,Y="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=tg,Y="onPointerLeave",k="onPointerEnter",M="pointer"),Xe=I==null?F:fs(I),P=Ee==null?F:fs(Ee),F=new ve(Y,M+"leave",I,s,q),F.target=Xe,F.relatedTarget=P,Y=null,ei(q)===z&&(ve=new ve(k,M+"enter",Ee,s,q),ve.target=P,ve.relatedTarget=Xe,Y=ve),Xe=Y,I&&Ee)t:{for(ve=I,k=Ee,M=0,P=ve;P;P=ki(P))M++;for(P=0,Y=k;Y;Y=ki(Y))P++;for(;0<M-P;)ve=ki(ve),M--;for(;0<P-M;)k=ki(k),P--;for(;M--;){if(ve===k||k!==null&&ve===k.alternate)break t;ve=ki(ve),k=ki(k)}ve=null}else ve=null;I!==null&&Vp(K,F,I,ve,!1),Ee!==null&&Xe!==null&&Vp(K,Xe,Ee,ve,!0)}}e:{if(F=z?fs(z):window,I=F.nodeName&&F.nodeName.toLowerCase(),I==="select"||I==="input"&&F.type==="file")var he=ug;else if(lg(F))if(cg)he=_0;else{he=v0;var Me=p0}else I=F.nodeName,!I||I.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?z&&tc(z.elementType)&&(he=ug):he=y0;if(he&&(he=he(t,z))){og(K,he,s,q);break e}Me&&Me(t,F,z),t==="focusout"&&z&&F.type==="number"&&z.memoizedProps.value!=null&&ec(F,"number",F.value)}switch(Me=z?fs(z):window,t){case"focusin":(lg(Me)||Me.contentEditable==="true")&&(ci=Me,mc=z,ws=null);break;case"focusout":ws=mc=ci=null;break;case"mousedown":pc=!0;break;case"contextmenu":case"mouseup":case"dragend":pc=!1,yg(K,s,q);break;case"selectionchange":if(w0)break;case"keydown":case"keyup":yg(K,s,q)}var pe;if(dc)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else ui?ig(t,s)&&(be="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(be="onCompositionStart");be&&(ng&&s.locale!=="ko"&&(ui||be!=="onCompositionStart"?be==="onCompositionEnd"&&ui&&(pe=Qh()):(Yr=q,sc="value"in Yr?Yr.value:Yr.textContent,ui=!0)),Me=qo(z,be),0<Me.length&&(be=new eg(be,t,null,s,q),K.push({event:be,listeners:Me}),pe?be.data=pe:(pe=sg(s),pe!==null&&(be.data=pe)))),(pe=d0?f0(t,s):h0(t,s))&&(be=qo(z,"onBeforeInput"),0<be.length&&(Me=new eg("onBeforeInput","beforeinput",null,s,q),K.push({event:Me,listeners:be}),Me.data=pe)),rw(K,t,z,s,q)}$p(K,r)})}function Xs(t,r,s){return{instance:t,listener:r,currentTarget:s}}function qo(t,r){for(var s=r+"Capture",u=[];t!==null;){var d=t,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=hs(t,s),d!=null&&u.unshift(Xs(t,d,g)),d=hs(t,r),d!=null&&u.push(Xs(t,d,g))),t.tag===3)return u;t=t.return}return[]}function ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vp(t,r,s,u,d){for(var g=r._reactName,b=[];s!==null&&s!==u;){var E=s,N=E.alternate,z=E.stateNode;if(E=E.tag,N!==null&&N===u)break;E!==5&&E!==26&&E!==27||z===null||(N=z,d?(z=hs(s,g),z!=null&&b.unshift(Xs(s,z,N))):d||(z=hs(s,g),z!=null&&b.push(Xs(s,z,N)))),s=s.return}b.length!==0&&t.push({event:r,listeners:b})}var lw=/\r\n?/g,ow=/\u0000|\uFFFD/g;function qp(t){return(typeof t=="string"?t:""+t).replace(lw,`
`).replace(ow,"")}function Gp(t,r){return r=qp(r),qp(t)===r}function Go(){}function Ke(t,r,s,u,d,g){switch(s){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||si(t,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&si(t,""+u);break;case"className":Wl(t,"class",u);break;case"tabIndex":Wl(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Wl(t,s,u);break;case"style":Kh(t,u,g);break;case"data":if(r!=="object"){Wl(t,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=Jl(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(r!=="input"&&Ke(t,r,"name",d.name,d,null),Ke(t,r,"formEncType",d.formEncType,d,null),Ke(t,r,"formMethod",d.formMethod,d,null),Ke(t,r,"formTarget",d.formTarget,d,null)):(Ke(t,r,"encType",d.encType,d,null),Ke(t,r,"method",d.method,d,null),Ke(t,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=Jl(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=Go);break;case"onScroll":u!=null&&Ue("scroll",t);break;case"onScrollEnd":u!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(s=u.__html,s!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=Jl(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Xl(t,"popover",u);break;case"xlinkActuate":br(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":br(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":br(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":br(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":br(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":br(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":br(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":br(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":br(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Xl(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Hb.get(s)||s,Xl(t,s,u))}}function zd(t,r,s,u,d,g){switch(s){case"style":Kh(t,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(s=u.__html,s!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof u=="string"?si(t,u):(typeof u=="number"||typeof u=="bigint")&&si(t,""+u);break;case"onScroll":u!=null&&Ue("scroll",t);break;case"onScrollEnd":u!=null&&Ue("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Go);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ph.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),r=s.slice(2,d?s.length-7:void 0),g=t[it]||null,g=g!=null?g[s]:null,typeof g=="function"&&t.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,u,d);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):Xl(t,s,u)}}}function Bt(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var u=!1,d=!1,g;for(g in s)if(s.hasOwnProperty(g)){var b=s[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ke(t,r,g,b,s,null)}}d&&Ke(t,r,"srcSet",s.srcSet,s,null),u&&Ke(t,r,"src",s.src,s,null);return;case"input":Ue("invalid",t);var E=g=b=d=null,N=null,z=null;for(u in s)if(s.hasOwnProperty(u)){var q=s[u];if(q!=null)switch(u){case"name":d=q;break;case"type":b=q;break;case"checked":N=q;break;case"defaultChecked":z=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,r));break;default:Ke(t,r,u,q,s,null)}}Vh(t,g,E,N,z,b,d,!1),Ql(t);return;case"select":Ue("invalid",t),u=b=g=null;for(d in s)if(s.hasOwnProperty(d)&&(E=s[d],E!=null))switch(d){case"value":g=E;break;case"defaultValue":b=E;break;case"multiple":u=E;default:Ke(t,r,d,E,s,null)}r=g,s=b,t.multiple=!!u,r!=null?ii(t,!!u,r,!1):s!=null&&ii(t,!!u,s,!0);return;case"textarea":Ue("invalid",t),g=d=u=null;for(b in s)if(s.hasOwnProperty(b)&&(E=s[b],E!=null))switch(b){case"value":u=E;break;case"defaultValue":d=E;break;case"children":g=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:Ke(t,r,b,E,s,null)}Gh(t,u,d,g),Ql(t);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(u=s[N],u!=null))switch(N){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ke(t,r,N,u,s,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(u=0;u<Ks.length;u++)Ue(Ks[u],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(u=s[z],u!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ke(t,r,z,u,s,null)}return;default:if(tc(r)){for(q in s)s.hasOwnProperty(q)&&(u=s[q],u!==void 0&&zd(t,r,q,u,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(u=s[E],u!=null&&Ke(t,r,E,u,s,null))}function uw(t,r,s,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,E=null,N=null,z=null,q=null;for(I in s){var K=s[I];if(s.hasOwnProperty(I)&&K!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":N=K;default:u.hasOwnProperty(I)||Ke(t,r,I,null,u,K)}}for(var F in u){var I=u[F];if(K=s[F],u.hasOwnProperty(F)&&(I!=null||K!=null))switch(F){case"type":g=I;break;case"name":d=I;break;case"checked":z=I;break;case"defaultChecked":q=I;break;case"value":b=I;break;case"defaultValue":E=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,r));break;default:I!==K&&Ke(t,r,F,I,u,K)}}Ju(t,b,E,N,z,q,g,d);return;case"select":I=b=E=F=null;for(g in s)if(N=s[g],s.hasOwnProperty(g)&&N!=null)switch(g){case"value":break;case"multiple":I=N;default:u.hasOwnProperty(g)||Ke(t,r,g,null,u,N)}for(d in u)if(g=u[d],N=s[d],u.hasOwnProperty(d)&&(g!=null||N!=null))switch(d){case"value":F=g;break;case"defaultValue":E=g;break;case"multiple":b=g;default:g!==N&&Ke(t,r,d,g,u,N)}r=E,s=b,u=I,F!=null?ii(t,!!s,F,!1):!!u!=!!s&&(r!=null?ii(t,!!s,r,!0):ii(t,!!s,s?[]:"",!1));return;case"textarea":I=F=null;for(E in s)if(d=s[E],s.hasOwnProperty(E)&&d!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ke(t,r,E,null,u,d)}for(b in u)if(d=u[b],g=s[b],u.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":F=d;break;case"defaultValue":I=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&Ke(t,r,b,d,u,g)}qh(t,F,I);return;case"option":for(var Ee in s)if(F=s[Ee],s.hasOwnProperty(Ee)&&F!=null&&!u.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:Ke(t,r,Ee,null,u,F)}for(N in u)if(F=u[N],I=s[N],u.hasOwnProperty(N)&&F!==I&&(F!=null||I!=null))switch(N){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Ke(t,r,N,F,u,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in s)F=s[ve],s.hasOwnProperty(ve)&&F!=null&&!u.hasOwnProperty(ve)&&Ke(t,r,ve,null,u,F);for(z in u)if(F=u[z],I=s[z],u.hasOwnProperty(z)&&F!==I&&(F!=null||I!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,r));break;default:Ke(t,r,z,F,u,I)}return;default:if(tc(r)){for(var Xe in s)F=s[Xe],s.hasOwnProperty(Xe)&&F!==void 0&&!u.hasOwnProperty(Xe)&&zd(t,r,Xe,void 0,u,F);for(q in u)F=u[q],I=s[q],!u.hasOwnProperty(q)||F===I||F===void 0&&I===void 0||zd(t,r,q,F,u,I);return}}for(var k in s)F=s[k],s.hasOwnProperty(k)&&F!=null&&!u.hasOwnProperty(k)&&Ke(t,r,k,null,u,F);for(K in u)F=u[K],I=s[K],!u.hasOwnProperty(K)||F===I||F==null&&I==null||Ke(t,r,K,F,u,I)}var Fd=null,Id=null;function Yo(t){return t.nodeType===9?t:t.ownerDocument}function Yp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kp(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function $d(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Bd=null;function cw(){var t=window.event;return t&&t.type==="popstate"?t===Bd?!1:(Bd=t,!0):(Bd=null,!1)}var Xp=typeof setTimeout=="function"?setTimeout:void 0,dw=typeof clearTimeout=="function"?clearTimeout:void 0,Wp=typeof Promise=="function"?Promise:void 0,fw=typeof queueMicrotask=="function"?queueMicrotask:typeof Wp<"u"?function(t){return Wp.resolve(null).then(t).catch(hw)}:Xp;function hw(t){setTimeout(function(){throw t})}function ua(t){return t==="head"}function Qp(t,r){var s=r,u=0,d=0;do{var g=s.nextSibling;if(t.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"){if(0<u&&8>u){s=u;var b=t.ownerDocument;if(s&1&&Ws(b.documentElement),s&2&&Ws(b.body),s&4)for(s=b.head,Ws(s),b=s.firstChild;b;){var E=b.nextSibling,N=b.nodeName;b[_r]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&b.rel.toLowerCase()==="stylesheet"||s.removeChild(b),b=E}}if(d===0){t.removeChild(g),al(r);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:u=s.charCodeAt(0)-48;else u=0;s=g}while(s);al(r)}function Vd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Vd(s),Xu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function gw(t,r,s,u){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[_r])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function mw(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=In(t.nextSibling),t===null))return null;return t}function qd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function pw(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var u=function(){r(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function In(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Gd=null;function Zp(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function Jp(t,r,s){switch(r=Yo(s),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Ws(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Xu(t)}var kn=new Map,ev=new Set;function Ko(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var kr=W.d;W.d={f:vw,r:yw,D:_w,C:bw,L:ww,m:Sw,X:xw,S:Ew,M:Rw};function vw(){var t=kr.f(),r=zo();return t||r}function yw(t){var r=ti(t);r!==null&&r.tag===5&&r.type==="form"?bm(r):kr.r(t)}var Ui=typeof document>"u"?null:document;function tv(t,r,s){var u=Ui;if(u&&typeof r=="string"&&r){var d=Tn(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),ev.has(d)||(ev.add(d),t={rel:t,crossOrigin:s,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),Bt(r,"link",t),jt(r),u.head.appendChild(r)))}}function _w(t){kr.D(t),tv("dns-prefetch",t,null)}function bw(t,r){kr.C(t,r),tv("preconnect",t,r)}function ww(t,r,s){kr.L(t,r,s);var u=Ui;if(u&&t&&r){var d='link[rel="preload"][as="'+Tn(r)+'"]';r==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Tn(s.imageSizes)+'"]')):d+='[href="'+Tn(t)+'"]';var g=d;switch(r){case"style":g=Li(t);break;case"script":g=Pi(t)}kn.has(g)||(t=v({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),kn.set(g,t),u.querySelector(d)!==null||r==="style"&&u.querySelector(Qs(g))||r==="script"&&u.querySelector(Zs(g))||(r=u.createElement("link"),Bt(r,"link",t),jt(r),u.head.appendChild(r)))}}function Sw(t,r){kr.m(t,r);var s=Ui;if(s&&t){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Tn(u)+'"][href="'+Tn(t)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Pi(t)}if(!kn.has(g)&&(t=v({rel:"modulepreload",href:t},r),kn.set(g,t),s.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Zs(g)))return}u=s.createElement("link"),Bt(u,"link",t),jt(u),s.head.appendChild(u)}}}function Ew(t,r,s){kr.S(t,r,s);var u=Ui;if(u&&t){var d=ni(u).hoistableStyles,g=Li(t);r=r||"default";var b=d.get(g);if(!b){var E={loading:0,preload:null};if(b=u.querySelector(Qs(g)))E.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":r},s),(s=kn.get(g))&&Yd(t,s);var N=b=u.createElement("link");jt(N),Bt(N,"link",t),N._p=new Promise(function(z,q){N.onload=z,N.onerror=q}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Xo(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:E},d.set(g,b)}}}function xw(t,r){kr.X(t,r);var s=Ui;if(s&&t){var u=ni(s).hoistableScripts,d=Pi(t),g=u.get(d);g||(g=s.querySelector(Zs(d)),g||(t=v({src:t,async:!0},r),(r=kn.get(d))&&Kd(t,r),g=s.createElement("script"),jt(g),Bt(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function Rw(t,r){kr.M(t,r);var s=Ui;if(s&&t){var u=ni(s).hoistableScripts,d=Pi(t),g=u.get(d);g||(g=s.querySelector(Zs(d)),g||(t=v({src:t,async:!0,type:"module"},r),(r=kn.get(d))&&Kd(t,r),g=s.createElement("script"),jt(g),Bt(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function nv(t,r,s,u){var d=(d=ce.current)?Ko(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Li(s.href),s=ni(d).hoistableStyles,u=s.get(r),u||(u={type:"style",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Li(s.href);var g=ni(d).hoistableStyles,b=g.get(t);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,b),(g=d.querySelector(Qs(t)))&&!g._p&&(b.instance=g,b.state.loading=5),kn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(t,s),g||Cw(d,t,s,b.state))),r&&u===null)throw Error(i(528,""));return b}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Pi(s),s=ni(d).hoistableScripts,u=s.get(r),u||(u={type:"script",instance:null,count:0,state:null},s.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Li(t){return'href="'+Tn(t)+'"'}function Qs(t){return'link[rel="stylesheet"]['+t+"]"}function rv(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Cw(t,r,s,u){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=t.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Bt(r,"link",s),jt(r),t.head.appendChild(r))}function Pi(t){return'[src="'+Tn(t)+'"]'}function Zs(t){return"script[async]"+t}function av(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var u=t.querySelector('style[data-href~="'+Tn(s.href)+'"]');if(u)return r.instance=u,jt(u),u;var d=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),jt(u),Bt(u,"style",d),Xo(u,s.precedence,t),r.instance=u;case"stylesheet":d=Li(s.href);var g=t.querySelector(Qs(d));if(g)return r.state.loading|=4,r.instance=g,jt(g),g;u=rv(s),(d=kn.get(d))&&Yd(u,d),g=(t.ownerDocument||t).createElement("link"),jt(g);var b=g;return b._p=new Promise(function(E,N){b.onload=E,b.onerror=N}),Bt(g,"link",u),r.state.loading|=4,Xo(g,s.precedence,t),r.instance=g;case"script":return g=Pi(s.src),(d=t.querySelector(Zs(g)))?(r.instance=d,jt(d),d):(u=s,(d=kn.get(g))&&(u=v({},s),Kd(u,d)),t=t.ownerDocument||t,d=t.createElement("script"),jt(d),Bt(d,"link",u),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Xo(u,s.precedence,t));return r.instance}function Xo(t,r,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,b=0;b<u.length;b++){var E=u[b];if(E.dataset.precedence===r)g=E;else if(g!==d)break}g?g.parentNode.insertBefore(t,g.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function Yd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Kd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Wo=null;function iv(t,r,s){if(Wo===null){var u=new Map,d=Wo=new Map;d.set(s,u)}else d=Wo,u=d.get(s),u||(u=new Map,d.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var g=s[d];if(!(g[_r]||g[at]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=t+b;var E=u.get(b);E?E.push(g):u.set(b,[g])}}return u}function sv(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function Tw(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function lv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Js=null;function Aw(){}function Ow(t,r,s){if(Js===null)throw Error(i(475));var u=Js;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Li(s.href),g=t.querySelector(Qs(d));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=Qo.bind(u),t.then(u,u)),r.state.loading|=4,r.instance=g,jt(g);return}g=t.ownerDocument||t,s=rv(s),(d=kn.get(d))&&Yd(s,d),g=g.createElement("link"),jt(g);var b=g;b._p=new Promise(function(E,N){b.onload=E,b.onerror=N}),Bt(g,"link",s),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Qo.bind(u),t.addEventListener("load",r),t.addEventListener("error",r))}}function Dw(){if(Js===null)throw Error(i(475));var t=Js;return t.stylesheets&&t.count===0&&Xd(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&Xd(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Qo(){if(this.count--,this.count===0){if(this.stylesheets)Xd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zo=null;function Xd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zo=new Map,r.forEach(Nw,t),Zo=null,Qo.call(t))}function Nw(t,r){if(!(r.state.loading&4)){var s=Zo.get(t);if(s)var u=s.get(null);else{s=new Map,Zo.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),u=b)}u&&s.set(null,u)}d=r.instance,b=d.getAttribute("data-precedence"),g=s.get(b)||u,g===u&&s.set(null,d),s.set(b,d),this.count++,u=Qo.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var el={$$typeof:A,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function jw(t,r,s,u,d,g,b,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ds(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ds(0),this.hiddenUpdates=ds(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ov(t,r,s,u,d,g,b,E,N,z,q,K){return t=new jw(t,r,s,b,E,N,z,K),r=1,g===!0&&(r|=24),g=pn(3,null,null,r),t.current=g,g.stateNode=t,r=Dc(),r.refCount++,t.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:s,cache:r},kc(g),t}function uv(t){return t?(t=gi,t):gi}function cv(t,r,s,u,d,g){d=uv(d),u.context===null?u.context=d:u.pendingContext=d,u=Wr(r),u.payload={element:s},g=g===void 0?null:g,g!==null&&(u.callback=g),s=Qr(t,u,r),s!==null&&(wn(s,t,r),Ds(s,t,r))}function dv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function Wd(t,r){dv(t,r),(t=t.alternate)&&dv(t,r)}function fv(t){if(t.tag===13){var r=hi(t,67108864);r!==null&&wn(r,t,67108864),Wd(t,67108864)}}var Jo=!0;function Mw(t,r,s,u){var d=L.T;L.T=null;var g=W.p;try{W.p=2,Qd(t,r,s,u)}finally{W.p=g,L.T=d}}function kw(t,r,s,u){var d=L.T;L.T=null;var g=W.p;try{W.p=8,Qd(t,r,s,u)}finally{W.p=g,L.T=d}}function Qd(t,r,s,u){if(Jo){var d=Zd(u);if(d===null)Hd(t,r,u,eu,s),gv(t,u);else if(Lw(d,t,r,s,u))u.stopPropagation();else if(gv(t,u),r&4&&-1<Uw.indexOf(t)){for(;d!==null;){var g=ti(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=hn(g.pendingLanes);if(b!==0){var E=g;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var N=1<<31-Fe(b);E.entanglements[1]|=N,b&=~N}or(g),(Ve&6)===0&&(Po=Jt()+500,Ys(0))}}break;case 13:E=hi(g,2),E!==null&&wn(E,g,2),zo(),Wd(g,2)}if(g=Zd(u),g===null&&Hd(t,r,u,eu,s),g===d)break;d=g}d!==null&&u.stopPropagation()}else Hd(t,r,u,null,s)}}function Zd(t){return t=rc(t),Jd(t)}var eu=null;function Jd(t){if(eu=null,t=ei(t),t!==null){var r=o(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=c(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return eu=t,null}function hv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case mr:return 2;case j:return 8;case H:case V:return 32;case ue:return 268435456;default:return 32}default:return 32}}var ef=!1,ca=null,da=null,fa=null,tl=new Map,nl=new Map,ha=[],Uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gv(t,r){switch(t){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":tl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(r.pointerId)}}function rl(t,r,s,u,d,g){return t===null||t.nativeEvent!==g?(t={blockedOn:r,domEventName:s,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=ti(r),r!==null&&fv(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function Lw(t,r,s,u,d){switch(r){case"focusin":return ca=rl(ca,t,r,s,u,d),!0;case"dragenter":return da=rl(da,t,r,s,u,d),!0;case"mouseover":return fa=rl(fa,t,r,s,u,d),!0;case"pointerover":var g=d.pointerId;return tl.set(g,rl(tl.get(g)||null,t,r,s,u,d)),!0;case"gotpointercapture":return g=d.pointerId,nl.set(g,rl(nl.get(g)||null,t,r,s,u,d)),!0}return!1}function mv(t){var r=ei(t.target);if(r!==null){var s=o(r);if(s!==null){if(r=s.tag,r===13){if(r=c(s),r!==null){t.blockedOn=r,qr(t.priority,function(){if(s.tag===13){var u=bn();u=Gt(u);var d=hi(s,u);d!==null&&wn(d,s,u),Wd(s,u)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=Zd(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);nc=u,s.target.dispatchEvent(u),nc=null}else return r=ti(s),r!==null&&fv(r),t.blockedOn=s,!1;r.shift()}return!0}function pv(t,r,s){tu(t)&&s.delete(r)}function Pw(){ef=!1,ca!==null&&tu(ca)&&(ca=null),da!==null&&tu(da)&&(da=null),fa!==null&&tu(fa)&&(fa=null),tl.forEach(pv),nl.forEach(pv)}function nu(t,r){t.blockedOn===r&&(t.blockedOn=null,ef||(ef=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pw)))}var ru=null;function vv(t){ru!==t&&(ru=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ru===t&&(ru=null);for(var r=0;r<t.length;r+=3){var s=t[r],u=t[r+1],d=t[r+2];if(typeof u!="function"){if(Jd(u||s)===null)continue;break}var g=ti(s);g!==null&&(t.splice(r,3),r-=3,Jc(g,{pending:!0,data:d,method:s.method,action:u},u,d))}}))}function al(t){function r(N){return nu(N,t)}ca!==null&&nu(ca,t),da!==null&&nu(da,t),fa!==null&&nu(fa,t),tl.forEach(r),nl.forEach(r);for(var s=0;s<ha.length;s++){var u=ha[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ha.length&&(s=ha[0],s.blockedOn===null);)mv(s),s.blockedOn===null&&ha.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var d=s[u],g=s[u+1],b=d[it]||null;if(typeof g=="function")b||vv(s);else if(b){var E=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[it]||null)E=b.formAction;else if(Jd(d)!==null)continue}else E=b.action;typeof E=="function"?s[u+1]=E:(s.splice(u,3),u-=3),vv(s)}}}function tf(t){this._internalRoot=t}au.prototype.render=tf.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var s=r.current,u=bn();cv(s,u,t,r,null,null)},au.prototype.unmount=tf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;cv(t.current,2,null,t,null,null),zo(),r[Yt]=null}};function au(t){this._internalRoot=t}au.prototype.unstable_scheduleHydration=function(t){if(t){var r=gn();t={blockedOn:null,target:t,priority:r};for(var s=0;s<ha.length&&r!==0&&r<ha[s].priority;s++);ha.splice(s,0,t),s===0&&mv(t)}};var yv=n.version;if(yv!=="19.1.1")throw Error(i(527,yv,"19.1.1"));W.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=h(r),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var Hw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{ge=iu.inject(Hw),_e=iu}catch{}}return sl.createRoot=function(t,r){if(!l(t))throw Error(i(299));var s=!1,u="",d=km,g=Um,b=Lm,E=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=ov(t,1,!1,null,null,s,u,d,g,b,E,null),t[Yt]=r.current,Pd(t),new tf(r)},sl.hydrateRoot=function(t,r,s){if(!l(t))throw Error(i(299));var u=!1,d="",g=km,b=Um,E=Lm,N=null,z=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks),s.formState!==void 0&&(z=s.formState)),r=ov(t,1,!0,r,s??null,u,d,g,b,E,N,z),r.context=uv(null),s=r.current,u=bn(),u=Gt(u),d=Wr(u),d.callback=null,Qr(s,d,u),s=u,r.current.lanes=s,ft(r,s),or(r),t[Yt]=r.current,Pd(t),new au(r)},sl.version="19.1.1",sl}var Av;function Kw(){if(Av)return af.exports;Av=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),af.exports=Yw(),af.exports}var Xw=Kw();const Ww=nh(Xw);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ov="popstate";function Qw(e={}){function n(i,l){let{pathname:o,search:c,hash:f}=i.location;return jf("",{pathname:o,search:c,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function a(i,l){return typeof l=="string"?l:Ol(l)}return Jw(n,a,null,e)}function ct(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Xn(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Zw(){return Math.random().toString(36).substring(2,10)}function Dv(e,n){return{usr:e.state,key:e.key,idx:n}}function jf(e,n,a=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?rs(n):n,state:a,key:n&&n.key||i||Zw()}}function Ol({pathname:e="/",search:n="",hash:a=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function rs(e){let n={};if(e){let a=e.indexOf("#");a>=0&&(n.hash=e.substring(a),e=e.substring(0,a));let i=e.indexOf("?");i>=0&&(n.search=e.substring(i),e=e.substring(0,i)),e&&(n.pathname=e)}return n}function Jw(e,n,a,i={}){let{window:l=document.defaultView,v5Compat:o=!1}=i,c=l.history,f="POP",h=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function y(){f="POP";let C=v(),T=C==null?null:C-m;m=C,h&&h({action:f,location:R.location,delta:T})}function _(C,T){f="PUSH";let D=jf(R.location,C,T);m=v()+1;let A=Dv(D,m),$=R.createHref(D);try{c.pushState(A,"",$)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;l.location.assign($)}o&&h&&h({action:f,location:R.location,delta:1})}function w(C,T){f="REPLACE";let D=jf(R.location,C,T);m=v();let A=Dv(D,m),$=R.createHref(D);c.replaceState(A,"",$),o&&h&&h({action:f,location:R.location,delta:0})}function S(C){return eS(C)}let R={get action(){return f},get location(){return e(l,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(Ov,y),h=C,()=>{l.removeEventListener(Ov,y),h=null}},createHref(C){return n(l,C)},createURL:S,encodeLocation(C){let T=S(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:_,replace:w,go(C){return c.go(C)}};return R}function eS(e,n=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),ct(a,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Ol(e);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=a+i),new URL(i,a)}function Qy(e,n,a="/"){return tS(e,n,a,!1)}function tS(e,n,a,i){let l=typeof n=="string"?rs(n):n,o=Ir(l.pathname||"/",a);if(o==null)return null;let c=Zy(e);nS(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=hS(o);f=dS(c[h],m,i)}return f}function Zy(e,n=[],a=[],i="",l=!1){let o=(c,f,h=l,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&h)return;ct(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let y=Fr([i,v.relativePath]),_=a.concat(v);c.children&&c.children.length>0&&(ct(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Zy(c.children,n,_,y,h)),!(c.path==null&&!c.index)&&n.push({path:y,score:uS(y,c.index),routesMeta:_})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))o(c,f);else for(let h of Jy(c.path))o(c,f,!0,h)}),n}function Jy(e){let n=e.split("/");if(n.length===0)return[];let[a,...i]=n,l=a.endsWith("?"),o=a.replace(/\?$/,"");if(i.length===0)return l?[o,""]:[o];let c=Jy(i.join("/")),f=[];return f.push(...c.map(h=>h===""?o:[o,h].join("/"))),l&&f.push(...c),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function nS(e){e.sort((n,a)=>n.score!==a.score?a.score-n.score:cS(n.routesMeta.map(i=>i.childrenIndex),a.routesMeta.map(i=>i.childrenIndex)))}var rS=/^:[\w-]+$/,aS=3,iS=2,sS=1,lS=10,oS=-2,Nv=e=>e==="*";function uS(e,n){let a=e.split("/"),i=a.length;return a.some(Nv)&&(i+=oS),n&&(i+=iS),a.filter(l=>!Nv(l)).reduce((l,o)=>l+(rS.test(o)?aS:o===""?sS:lS),i)}function cS(e,n){return e.length===n.length&&e.slice(0,-1).every((i,l)=>i===n[l])?e[e.length-1]-n[n.length-1]:0}function dS(e,n,a=!1){let{routesMeta:i}=e,l={},o="/",c=[];for(let f=0;f<i.length;++f){let h=i[f],m=f===i.length-1,v=o==="/"?n:n.slice(o.length)||"/",y=Su({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),_=h.route;if(!y&&m&&a&&!i[i.length-1].route.index&&(y=Su({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!y)return null;Object.assign(l,y.params),c.push({params:l,pathname:Fr([o,y.pathname]),pathnameBase:vS(Fr([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=Fr([o,y.pathnameBase]))}return c}function Su(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,i]=fS(e.path,e.caseSensitive,e.end),l=n.match(a);if(!l)return null;let o=l[0],c=o.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:y},_)=>{if(v==="*"){let S=f[_]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=f[_];return y&&!w?m[v]=void 0:m[v]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:e}}function fS(e,n=!1,a=!0){Xn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),i]}function hS(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Xn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function Ir(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,i=e.charAt(a);return i&&i!=="/"?null:e.slice(a)||"/"}function gS(e,n="/"){let{pathname:a,search:i="",hash:l=""}=typeof e=="string"?rs(e):e;return{pathname:a?a.startsWith("/")?a:mS(a,n):n,search:yS(i),hash:_S(l)}}function mS(e,n){let a=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?a.length>1&&a.pop():l!=="."&&a.push(l)}),a.length>1?a.join("/"):"/"}function uf(e,n,a,i){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pS(e){return e.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function ah(e){let n=pS(e);return n.map((a,i)=>i===n.length-1?a.pathname:a.pathnameBase)}function ih(e,n,a,i=!1){let l;typeof e=="string"?l=rs(e):(l={...e},ct(!l.pathname||!l.pathname.includes("?"),uf("?","pathname","search",l)),ct(!l.pathname||!l.pathname.includes("#"),uf("#","pathname","hash",l)),ct(!l.search||!l.search.includes("#"),uf("#","search","hash",l)));let o=e===""||l.pathname==="",c=o?"/":l.pathname,f;if(c==null)f=a;else{let y=n.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;l.pathname=_.join("/")}f=y>=0?n[y]:"/"}let h=gS(l,f),m=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&a.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}var Fr=e=>e.join("/").replace(/\/\/+/g,"/"),vS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_S=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var e_=["POST","PUT","PATCH","DELETE"];new Set(e_);var wS=["GET",...e_];new Set(wS);var as=x.createContext(null);as.displayName="DataRouter";var Pu=x.createContext(null);Pu.displayName="DataRouterState";x.createContext(!1);var t_=x.createContext({isTransitioning:!1});t_.displayName="ViewTransition";var SS=x.createContext(new Map);SS.displayName="Fetchers";var ES=x.createContext(null);ES.displayName="Await";var Zn=x.createContext(null);Zn.displayName="Navigation";var Pl=x.createContext(null);Pl.displayName="Location";var Pn=x.createContext({outlet:null,matches:[],isDataRoute:!1});Pn.displayName="Route";var sh=x.createContext(null);sh.displayName="RouteError";function xS(e,{relative:n}={}){ct(is(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:i}=x.useContext(Zn),{hash:l,pathname:o,search:c}=zl(e,{relative:n}),f=o;return a!=="/"&&(f=o==="/"?a:Fr([a,o])),i.createHref({pathname:f,search:c,hash:l})}function is(){return x.useContext(Pl)!=null}function hr(){return ct(is(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Pl).location}var n_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function r_(e){x.useContext(Zn).static||x.useLayoutEffect(e)}function Hl(){let{isDataRoute:e}=x.useContext(Pn);return e?FS():RS()}function RS(){ct(is(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(as),{basename:n,navigator:a}=x.useContext(Zn),{matches:i}=x.useContext(Pn),{pathname:l}=hr(),o=JSON.stringify(ah(i)),c=x.useRef(!1);return r_(()=>{c.current=!0}),x.useCallback((h,m={})=>{if(Xn(c.current,n_),!c.current)return;if(typeof h=="number"){a.go(h);return}let v=ih(h,JSON.parse(o),l,m.relative==="path");e==null&&n!=="/"&&(v.pathname=v.pathname==="/"?n:Fr([n,v.pathname])),(m.replace?a.replace:a.push)(v,m.state,m)},[n,a,o,l,e])}var CS=x.createContext(null);function TS(e){let n=x.useContext(Pn).outlet;return n&&x.createElement(CS.Provider,{value:e},n)}function AS(){let{matches:e}=x.useContext(Pn),n=e[e.length-1];return n?n.params:{}}function zl(e,{relative:n}={}){let{matches:a}=x.useContext(Pn),{pathname:i}=hr(),l=JSON.stringify(ah(a));return x.useMemo(()=>ih(e,JSON.parse(l),i,n==="path"),[e,l,i,n])}function OS(e,n){return a_(e,n)}function a_(e,n,a,i){ct(is(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=x.useContext(Zn),{matches:o}=x.useContext(Pn),c=o[o.length-1],f=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",v=c&&c.route;{let T=v&&v.path||"";i_(h,!v||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let y=hr(),_;if(n){let T=typeof n=="string"?rs(n):n;ct(m==="/"||T.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${T.pathname}" was given in the \`location\` prop.`),_=T}else _=y;let w=_.pathname||"/",S=w;if(m!=="/"){let T=m.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(T.length).join("/")}let R=Qy(e,{pathname:S});Xn(v||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Xn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=kS(R&&R.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:Fr([m,l.encodeLocation?l.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:Fr([m,l.encodeLocation?l.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,a,i);return n&&C?x.createElement(Pl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},C):C}function DS(){let e=zS(),n=bS(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},n),a?x.createElement("pre",{style:l},a):null,c)}var NS=x.createElement(DS,null),jS=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(Pn.Provider,{value:this.props.routeContext},x.createElement(sh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MS({routeContext:e,match:n,children:a}){let i=x.useContext(as);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Pn.Provider,{value:e},a)}function kS(e,n=[],a=null,i=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(n.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let l=e,o=a?.errors;if(o!=null){let h=l.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,f=-1;if(a)for(let h=0;h<l.length;h++){let m=l[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:v,errors:y}=a,_=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||_){c=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((h,m,v)=>{let y,_=!1,w=null,S=null;a&&(y=o&&m.route.id?o[m.route.id]:void 0,w=m.route.errorElement||NS,c&&(f<0&&v===0?(i_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):f===v&&(_=!0,S=m.route.hydrateFallbackElement||null)));let R=n.concat(l.slice(0,v+1)),C=()=>{let T;return y?T=w:_?T=S:m.route.Component?T=x.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=h,x.createElement(MS,{match:m,routeContext:{outlet:h,matches:R,isDataRoute:a!=null},children:T})};return a&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?x.createElement(jS,{location:a.location,revalidation:a.revalidation,component:w,error:y,children:C(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):C()},null)}function lh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function US(e){let n=x.useContext(as);return ct(n,lh(e)),n}function LS(e){let n=x.useContext(Pu);return ct(n,lh(e)),n}function PS(e){let n=x.useContext(Pn);return ct(n,lh(e)),n}function oh(e){let n=PS(e),a=n.matches[n.matches.length-1];return ct(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function HS(){return oh("useRouteId")}function zS(){let e=x.useContext(sh),n=LS("useRouteError"),a=oh("useRouteError");return e!==void 0?e:n.errors?.[a]}function FS(){let{router:e}=US("useNavigate"),n=oh("useNavigate"),a=x.useRef(!1);return r_(()=>{a.current=!0}),x.useCallback(async(l,o={})=>{Xn(a.current,n_),a.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:n,...o}))},[e,n])}var jv={};function i_(e,n,a){!n&&!jv[e]&&(jv[e]=!0,Xn(!1,a))}x.memo(IS);function IS({routes:e,future:n,state:a}){return a_(e,void 0,a,n)}function s_({to:e,replace:n,state:a,relative:i}){ct(is(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=x.useContext(Zn);Xn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(Pn),{pathname:c}=hr(),f=Hl(),h=ih(e,ah(o),c,i==="path"),m=JSON.stringify(h);return x.useEffect(()=>{f(JSON.parse(m),{replace:n,state:a,relative:i})},[f,m,i,n,a]),null}function l_(e){return TS(e.context)}function Sn(e){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $S({basename:e="/",children:n=null,location:a,navigationType:i="POP",navigator:l,static:o=!1}){ct(!is(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:c,navigator:l,static:o,future:{}}),[c,l,o]);typeof a=="string"&&(a=rs(a));let{pathname:h="/",search:m="",hash:v="",state:y=null,key:_="default"}=a,w=x.useMemo(()=>{let S=Ir(h,c);return S==null?null:{location:{pathname:S,search:m,hash:v,state:y,key:_},navigationType:i}},[c,h,m,v,y,_,i]);return Xn(w!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:x.createElement(Zn.Provider,{value:f},x.createElement(Pl.Provider,{children:n,value:w}))}function BS({children:e,location:n}){return OS(Mf(e),n)}function Mf(e,n=[]){let a=[];return x.Children.forEach(e,(i,l)=>{if(!x.isValidElement(i))return;let o=[...n,l];if(i.type===x.Fragment){a.push.apply(a,Mf(i.props.children,o));return}ct(i.type===Sn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Mf(i.props.children,o)),a.push(c)}),a}var yu="get",_u="application/x-www-form-urlencoded";function Hu(e){return e!=null&&typeof e.tagName=="string"}function VS(e){return Hu(e)&&e.tagName.toLowerCase()==="button"}function qS(e){return Hu(e)&&e.tagName.toLowerCase()==="form"}function GS(e){return Hu(e)&&e.tagName.toLowerCase()==="input"}function YS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KS(e,n){return e.button===0&&(!n||n==="_self")&&!YS(e)}var su=null;function XS(){if(su===null)try{new FormData(document.createElement("form"),0),su=!1}catch{su=!0}return su}var WS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cf(e){return e!=null&&!WS.has(e)?(Xn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_u}"`),null):e}function QS(e,n){let a,i,l,o,c;if(qS(e)){let f=e.getAttribute("action");i=f?Ir(f,n):null,a=e.getAttribute("method")||yu,l=cf(e.getAttribute("enctype"))||_u,o=new FormData(e)}else if(VS(e)||GS(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(i=h?Ir(h,n):null,a=e.getAttribute("formmethod")||f.getAttribute("method")||yu,l=cf(e.getAttribute("formenctype"))||cf(f.getAttribute("enctype"))||_u,o=new FormData(f,e),!XS()){let{name:m,type:v,value:y}=e;if(v==="image"){let _=m?`${m}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else m&&o.append(m,y)}}else{if(Hu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=yu,i=null,l=_u,c=e}return o&&l==="text/plain"&&(c=o,o=void 0),{action:i,method:a.toLowerCase(),encType:l,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uh(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function ZS(e,n,a){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${a}`:n&&Ir(i.pathname,n)==="/"?i.pathname=`${n.replace(/\/$/,"")}/_root.${a}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${a}`,i}async function JS(e,n){if(e.id in n)return n[e.id];try{let a=await import(e.module);return n[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eE(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function tE(e,n,a){let i=await Promise.all(e.map(async l=>{let o=n.routes[l.route.id];if(o){let c=await JS(o,a);return c.links?c.links():[]}return[]}));return iE(i.flat(1).filter(eE).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Mv(e,n,a,i,l,o){let c=(h,m)=>a[m]?h.route.id!==a[m].route.id:!0,f=(h,m)=>a[m].pathname!==h.pathname||a[m].route.path?.endsWith("*")&&a[m].params["*"]!==h.params["*"];return o==="assets"?n.filter((h,m)=>c(h,m)||f(h,m)):o==="data"?n.filter((h,m)=>{let v=i.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function nE(e,n,{includeHydrateFallback:a}={}){return rE(e.map(i=>{let l=n.routes[i.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),a&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function rE(e){return[...new Set(e)]}function aE(e){let n={},a=Object.keys(e).sort();for(let i of a)n[i]=e[i];return n}function iE(e,n){let a=new Set;return new Set(n),e.reduce((i,l)=>{let o=JSON.stringify(aE(l));return a.has(o)||(a.add(o),i.push({key:o,link:l})),i},[])}function o_(){let e=x.useContext(as);return uh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function sE(){let e=x.useContext(Pu);return uh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ch=x.createContext(void 0);ch.displayName="FrameworkContext";function u_(){let e=x.useContext(ch);return uh(e,"You must render this element inside a <HydratedRouter> element"),e}function lE(e,n){let a=x.useContext(ch),[i,l]=x.useState(!1),[o,c]=x.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=n,_=x.useRef(null);x.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let R=T=>{T.forEach(D=>{c(D.isIntersecting)})},C=new IntersectionObserver(R,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[e]),x.useEffect(()=>{if(i){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[i]);let w=()=>{l(!0)},S=()=>{l(!1),c(!1)};return a?e!=="intent"?[o,_,{}]:[o,_,{onFocus:ll(f,w),onBlur:ll(h,S),onMouseEnter:ll(m,w),onMouseLeave:ll(v,S),onTouchStart:ll(y,w)}]:[!1,_,{}]}function ll(e,n){return a=>{e&&e(a),a.defaultPrevented||n(a)}}function oE({page:e,...n}){let{router:a}=o_(),i=x.useMemo(()=>Qy(a.routes,e,a.basename),[a.routes,e,a.basename]);return i?x.createElement(cE,{page:e,matches:i,...n}):null}function uE(e){let{manifest:n,routeModules:a}=u_(),[i,l]=x.useState([]);return x.useEffect(()=>{let o=!1;return tE(e,n,a).then(c=>{o||l(c)}),()=>{o=!0}},[e,n,a]),i}function cE({page:e,matches:n,...a}){let i=hr(),{manifest:l,routeModules:o}=u_(),{basename:c}=o_(),{loaderData:f,matches:h}=sE(),m=x.useMemo(()=>Mv(e,n,h,l,i,"data"),[e,n,h,l,i]),v=x.useMemo(()=>Mv(e,n,h,l,i,"assets"),[e,n,h,l,i]),y=x.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let S=new Set,R=!1;if(n.forEach(T=>{let D=l.routes[T.route.id];!D||!D.hasLoader||(!m.some(A=>A.route.id===T.route.id)&&T.route.id in f&&o[T.route.id]?.shouldRevalidate||D.hasClientLoader?R=!0:S.add(T.route.id))}),S.size===0)return[];let C=ZS(e,c,"data");return R&&S.size>0&&C.searchParams.set("_routes",n.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[C.pathname+C.search]},[c,f,i,l,m,n,e,o]),_=x.useMemo(()=>nE(v,l),[v,l]),w=uE(v);return x.createElement(x.Fragment,null,y.map(S=>x.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...a})),_.map(S=>x.createElement("link",{key:S,rel:"modulepreload",href:S,...a})),w.map(({key:S,link:R})=>x.createElement("link",{key:S,nonce:a.nonce,...R})))}function dE(...e){return n=>{e.forEach(a=>{typeof a=="function"?a(n):a!=null&&(a.current=n)})}}var c_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{c_&&(window.__reactRouterVersion="7.8.1")}catch{}function fE({basename:e,children:n,window:a}){let i=x.useRef();i.current==null&&(i.current=Qw({window:a,v5Compat:!0}));let l=i.current,[o,c]=x.useState({action:l.action,location:l.location}),f=x.useCallback(h=>{x.startTransition(()=>c(h))},[c]);return x.useLayoutEffect(()=>l.listen(f),[l,f]),x.createElement($S,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:l})}var d_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xn=x.forwardRef(function({onClick:n,discover:a="render",prefetch:i="none",relative:l,reloadDocument:o,replace:c,state:f,target:h,to:m,preventScrollReset:v,viewTransition:y,..._},w){let{basename:S}=x.useContext(Zn),R=typeof m=="string"&&d_.test(m),C,T=!1;if(typeof m=="string"&&R&&(C=m,c_))try{let ne=new URL(window.location.href),ee=m.startsWith("//")?new URL(ne.protocol+m):new URL(m),te=Ir(ee.pathname,S);ee.origin===ne.origin&&te!=null?m=te+ee.search+ee.hash:T=!0}catch{Xn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=xS(m,{relative:l}),[A,$,U]=lE(i,_),Z=pE(m,{replace:c,state:f,target:h,preventScrollReset:v,relative:l,viewTransition:y});function J(ne){n&&n(ne),ne.defaultPrevented||Z(ne)}let X=x.createElement("a",{..._,...U,href:C||D,onClick:T||o?n:J,ref:dE(w,$),target:h,"data-discover":!R&&a==="render"?"true":void 0});return A&&!R?x.createElement(x.Fragment,null,X,x.createElement(oE,{page:D})):X});xn.displayName="Link";var hE=x.forwardRef(function({"aria-current":n="page",caseSensitive:a=!1,className:i="",end:l=!1,style:o,to:c,viewTransition:f,children:h,...m},v){let y=zl(c,{relative:m.relative}),_=hr(),w=x.useContext(Pu),{navigator:S,basename:R}=x.useContext(Zn),C=w!=null&&wE(y)&&f===!0,T=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,D=_.pathname,A=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(D=D.toLowerCase(),A=A?A.toLowerCase():null,T=T.toLowerCase()),A&&R&&(A=Ir(A,R)||A);const $=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let U=D===T||!l&&D.startsWith(T)&&D.charAt($)==="/",Z=A!=null&&(A===T||!l&&A.startsWith(T)&&A.charAt(T.length)==="/"),J={isActive:U,isPending:Z,isTransitioning:C},X=U?n:void 0,ne;typeof i=="function"?ne=i(J):ne=[i,U?"active":null,Z?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ee=typeof o=="function"?o(J):o;return x.createElement(xn,{...m,"aria-current":X,className:ne,ref:v,style:ee,to:c,viewTransition:f},typeof h=="function"?h(J):h)});hE.displayName="NavLink";var gE=x.forwardRef(({discover:e="render",fetcherKey:n,navigate:a,reloadDocument:i,replace:l,state:o,method:c=yu,action:f,onSubmit:h,relative:m,preventScrollReset:v,viewTransition:y,..._},w)=>{let S=_E(),R=bE(f,{relative:m}),C=c.toLowerCase()==="get"?"get":"post",T=typeof f=="string"&&d_.test(f),D=A=>{if(h&&h(A),A.defaultPrevented)return;A.preventDefault();let $=A.nativeEvent.submitter,U=$?.getAttribute("formmethod")||c;S($||A.currentTarget,{fetcherKey:n,method:U,navigate:a,replace:l,state:o,relative:m,preventScrollReset:v,viewTransition:y})};return x.createElement("form",{ref:w,method:C,action:R,onSubmit:i?h:D,..._,"data-discover":!T&&e==="render"?"true":void 0})});gE.displayName="Form";function mE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f_(e){let n=x.useContext(as);return ct(n,mE(e)),n}function pE(e,{target:n,replace:a,state:i,preventScrollReset:l,relative:o,viewTransition:c}={}){let f=Hl(),h=hr(),m=zl(e,{relative:o});return x.useCallback(v=>{if(KS(v,n)){v.preventDefault();let y=a!==void 0?a:Ol(h)===Ol(m);f(e,{replace:y,state:i,preventScrollReset:l,relative:o,viewTransition:c})}},[h,f,m,a,i,n,e,l,o,c])}var vE=0,yE=()=>`__${String(++vE)}__`;function _E(){let{router:e}=f_("useSubmit"),{basename:n}=x.useContext(Zn),a=HS();return x.useCallback(async(i,l={})=>{let{action:o,method:c,encType:f,formData:h,body:m}=QS(i,n);if(l.navigate===!1){let v=l.fetcherKey||yE();await e.fetch(v,a,l.action||o,{preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||c,formEncType:l.encType||f,flushSync:l.flushSync})}else await e.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||c,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:a,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,n,a])}function bE(e,{relative:n}={}){let{basename:a}=x.useContext(Zn),i=x.useContext(Pn);ct(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),o={...zl(e||".",{relative:n})},c=hr();if(e==null){o.search=c.search;let f=new URLSearchParams(o.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let v=f.toString();o.search=v?`?${v}`:""}}return(!e||e===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(o.pathname=o.pathname==="/"?a:Fr([a,o.pathname])),Ol(o)}function wE(e,{relative:n}={}){let a=x.useContext(t_);ct(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=f_("useViewTransitionState"),l=zl(e,{relative:n});if(!a.isTransitioning)return!1;let o=Ir(a.currentLocation.pathname,i)||a.currentLocation.pathname,c=Ir(a.nextLocation.pathname,i)||a.nextLocation.pathname;return Su(l.pathname,c)!=null||Su(l.pathname,o)!=null}var vl=Wy();const SE="modulepreload",EE=function(e){return"/flexi/"+e},kv={},Wa=function(n,a,i){let l=Promise.resolve();if(a&&a.length>0){let h=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");l=h(a.map(m=>{if(m=EE(m),m in kv)return;kv[m]=!0;const v=m.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":SE,v||(_.as="script"),_.crossOrigin="",_.href=m,f&&_.setAttribute("nonce",f),document.head.appendChild(_),v)return new Promise((w,S)=>{_.addEventListener("load",w),_.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return l.then(c=>{for(const f of c||[])f.status==="rejected"&&o(f.reason);return n().catch(o)})},xE=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...a)=>Wa(async()=>{const{default:i}=await Promise.resolve().then(()=>ss);return{default:i}},[]).then(({default:i})=>i(...a)):n=fetch,(...a)=>n(...a)};class dh extends Error{constructor(n,a="FunctionsError",i){super(n),this.name=a,this.context=i}}class RE extends dh{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Uv extends dh{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Lv extends dh{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var kf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(kf||(kf={}));var CE=function(e,n,a,i){function l(o){return o instanceof a?o:new a(function(c){c(o)})}return new(a||(a=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};class TE{constructor(n,{headers:a={},customFetch:i,region:l=kf.Any}={}){this.url=n,this.headers=a,this.region=l,this.fetch=xE(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,a={}){var i;return CE(this,void 0,void 0,function*(){try{const{headers:l,method:o,body:c}=a;let f={},{region:h}=a;h||(h=this.region);const m=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let v;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(f["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(f["Content-Type"]="application/json",v=JSON.stringify(c)));const y=yield this.fetch(m.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:v}).catch(R=>{throw new RE(R)}),_=y.headers.get("x-relay-error");if(_&&_==="true")throw new Uv(y);if(!y.ok)throw new Lv(y);let w=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield y.json():w==="application/octet-stream"?S=yield y.blob():w==="text/event-stream"?S=y:w==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof Lv||l instanceof Uv?l.context:void 0}}})}}var Lt={},Hi={},zi={},Fi={},Ii={},$i={},AE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ts=AE();const OE=ts.fetch,h_=ts.fetch.bind(ts),g_=ts.Headers,DE=ts.Request,NE=ts.Response,ss=Object.freeze(Object.defineProperty({__proto__:null,Headers:g_,Request:DE,Response:NE,default:h_,fetch:OE},Symbol.toStringTag,{value:"Module"})),jE=Fw(ss);var lu={},Pv;function m_(){if(Pv)return lu;Pv=1,Object.defineProperty(lu,"__esModule",{value:!0});class e extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return lu.default=e,lu}var Hv;function p_(){if(Hv)return $i;Hv=1;var e=$i&&$i.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty($i,"__esModule",{value:!0});const n=e(jE),a=e(m_());class i{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,c){return this.headers=Object.assign({},this.headers),this.headers[o]=c,this}then(o,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,y,_;let w=null,S=null,R=null,C=m.status,T=m.statusText;if(m.ok){if(this.method!=="HEAD"){const U=await m.text();U===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=U:S=JSON.parse(U))}const A=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),$=(y=m.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");A&&$&&$.length>1&&(R=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,R=null,C=406,T="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const A=await m.text();try{w=JSON.parse(A),Array.isArray(w)&&m.status===404&&(S=[],w=null,C=200,T="OK")}catch{m.status===404&&A===""?(C=204,T="No Content"):w={message:A}}if(w&&this.isMaybeSingle&&(!((_=w?.details)===null||_===void 0)&&_.includes("0 rows"))&&(w=null,C=200,T="OK"),w&&this.shouldThrowOnError)throw new a.default(w)}return{error:w,data:S,count:R,status:C,statusText:T}});return this.shouldThrowOnError||(h=h.catch(m=>{var v,y,_;return{error:{message:`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,details:`${(y=m?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(_=m?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,c)}returns(){return this}overrideTypes(){return this}}return $i.default=i,$i}var zv;function v_(){if(zv)return Ii;zv=1;var e=Ii&&Ii.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ii,"__esModule",{value:!0});const n=e(p_());class a extends n.default{select(l){let o=!1;const c=(l??"*").split("").map(f=>/\s/.test(f)&&!o?"":(f==='"'&&(o=!o),f)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:o=!0,nullsFirst:c,foreignTable:f,referencedTable:h=f}={}){const m=h?`${h}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${l}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:o,referencedTable:c=o}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,o,{foreignTable:c,referencedTable:f=c}={}){const h=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${l}`),this.url.searchParams.set(m,`${o-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:o=!1,settings:c=!1,buffers:f=!1,wal:h=!1,format:m="text"}={}){var v;const y=[l?"analyze":null,o?"verbose":null,c?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),_=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${_}"; options=${y};`,m==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Ii.default=a,Ii}var Fv;function fh(){if(Fv)return Fi;Fv=1;var e=Fi&&Fi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Fi,"__esModule",{value:!0});const n=e(v_());class a extends n.default{eq(l,o){return this.url.searchParams.append(l,`eq.${o}`),this}neq(l,o){return this.url.searchParams.append(l,`neq.${o}`),this}gt(l,o){return this.url.searchParams.append(l,`gt.${o}`),this}gte(l,o){return this.url.searchParams.append(l,`gte.${o}`),this}lt(l,o){return this.url.searchParams.append(l,`lt.${o}`),this}lte(l,o){return this.url.searchParams.append(l,`lte.${o}`),this}like(l,o){return this.url.searchParams.append(l,`like.${o}`),this}likeAllOf(l,o){return this.url.searchParams.append(l,`like(all).{${o.join(",")}}`),this}likeAnyOf(l,o){return this.url.searchParams.append(l,`like(any).{${o.join(",")}}`),this}ilike(l,o){return this.url.searchParams.append(l,`ilike.${o}`),this}ilikeAllOf(l,o){return this.url.searchParams.append(l,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(l,o){return this.url.searchParams.append(l,`ilike(any).{${o.join(",")}}`),this}is(l,o){return this.url.searchParams.append(l,`is.${o}`),this}in(l,o){const c=Array.from(new Set(o)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${c})`),this}contains(l,o){return typeof o=="string"?this.url.searchParams.append(l,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(l,`cs.{${o.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(o)}`),this}containedBy(l,o){return typeof o=="string"?this.url.searchParams.append(l,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(l,`cd.{${o.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(o)}`),this}rangeGt(l,o){return this.url.searchParams.append(l,`sr.${o}`),this}rangeGte(l,o){return this.url.searchParams.append(l,`nxl.${o}`),this}rangeLt(l,o){return this.url.searchParams.append(l,`sl.${o}`),this}rangeLte(l,o){return this.url.searchParams.append(l,`nxr.${o}`),this}rangeAdjacent(l,o){return this.url.searchParams.append(l,`adj.${o}`),this}overlaps(l,o){return typeof o=="string"?this.url.searchParams.append(l,`ov.${o}`):this.url.searchParams.append(l,`ov.{${o.join(",")}}`),this}textSearch(l,o,{config:c,type:f}={}){let h="";f==="plain"?h="pl":f==="phrase"?h="ph":f==="websearch"&&(h="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(l,`${h}fts${m}.${o}`),this}match(l){return Object.entries(l).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(l,o,c){return this.url.searchParams.append(l,`not.${o}.${c}`),this}or(l,{foreignTable:o,referencedTable:c=o}={}){const f=c?`${c}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,o,c){return this.url.searchParams.append(l,`${o}.${c}`),this}}return Fi.default=a,Fi}var Iv;function y_(){if(Iv)return zi;Iv=1;var e=zi&&zi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(zi,"__esModule",{value:!0});const n=e(fh());class a{constructor(l,{headers:o={},schema:c,fetch:f}){this.url=l,this.headers=o,this.schema=c,this.fetch=f}select(l,{head:o=!1,count:c}={}){const f=o?"HEAD":"GET";let h=!1;const m=(l??"*").split("").map(v=>/\s/.test(v)&&!h?"":(v==='"'&&(h=!h),v)).join("");return this.url.searchParams.set("select",m),c&&(this.headers.Prefer=`count=${c}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:o,defaultToNull:c=!0}={}){const f="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),o&&h.push(`count=${o}`),c||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(l)){const m=l.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(m.length>0){const v=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:o,ignoreDuplicates:c=!1,count:f,defaultToNull:h=!0}={}){const m="POST",v=[`resolution=${c?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&v.push(this.headers.Prefer),f&&v.push(`count=${f}`),h||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(l)){const y=l.reduce((_,w)=>_.concat(Object.keys(w)),[]);if(y.length>0){const _=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",_.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:o}={}){const c="PATCH",f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),o&&f.push(`count=${o}`),this.headers.Prefer=f.join(","),new n.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const o="DELETE",c=[];return l&&c.push(`count=${l}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new n.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return zi.default=a,zi}var ol={},ul={},$v;function ME(){return $v||($v=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.version=void 0,ul.version="0.0.0-automated"),ul}var Bv;function kE(){if(Bv)return ol;Bv=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.DEFAULT_HEADERS=void 0;const e=ME();return ol.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},ol}var Vv;function UE(){if(Vv)return Hi;Vv=1;var e=Hi&&Hi.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Hi,"__esModule",{value:!0});const n=e(y_()),a=e(fh()),i=kE();class l{constructor(c,{headers:f={},schema:h,fetch:m}={}){this.url=c,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),f),this.schemaName=h,this.fetch=m}from(c){const f=new URL(`${this.url}/${c}`);return new n.default(f,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new l(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,f={},{head:h=!1,get:m=!1,count:v}={}){let y;const _=new URL(`${this.url}/rpc/${c}`);let w;h||m?(y=h?"HEAD":"GET",Object.entries(f).filter(([R,C])=>C!==void 0).map(([R,C])=>[R,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([R,C])=>{_.searchParams.append(R,C)})):(y="POST",w=f);const S=Object.assign({},this.headers);return v&&(S.Prefer=`count=${v}`),new a.default({method:y,url:_,headers:S,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return Hi.default=l,Hi}var qv;function LE(){if(qv)return Lt;qv=1;var e=Lt&&Lt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.PostgrestError=Lt.PostgrestBuilder=Lt.PostgrestTransformBuilder=Lt.PostgrestFilterBuilder=Lt.PostgrestQueryBuilder=Lt.PostgrestClient=void 0;const n=e(UE());Lt.PostgrestClient=n.default;const a=e(y_());Lt.PostgrestQueryBuilder=a.default;const i=e(fh());Lt.PostgrestFilterBuilder=i.default;const l=e(v_());Lt.PostgrestTransformBuilder=l.default;const o=e(p_());Lt.PostgrestBuilder=o.default;const c=e(m_());return Lt.PostgrestError=c.default,Lt.default={PostgrestClient:n.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:o.default,PostgrestError:c.default},Lt}var PE=LE();const HE=nh(PE),{PostgrestClient:zE,PostgrestQueryBuilder:ZD,PostgrestFilterBuilder:JD,PostgrestTransformBuilder:e1,PostgrestBuilder:t1,PostgrestError:n1}=HE;class FE{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const a=parseInt(process.versions.node.split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let a=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(a+=`

Suggested solution: ${n.workaround}`),new Error(a)}static createWebSocket(n,a){const i=this.getWebSocketConstructor();return new i(n,a)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const IE="2.15.1",$E=`realtime-js/${IE}`,BE="1.0.0",Uf=1e4,VE=1e3,qE=100;var _l;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_l||(_l={}));var At;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(At||(At={}));var Bn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Bn||(Bn={}));var Lf;(function(e){e.websocket="websocket"})(Lf||(Lf={}));var Ka;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ka||(Ka={}));class GE{constructor(){this.HEADER_LENGTH=1}decode(n,a){return n.constructor===ArrayBuffer?a(this._binaryDecode(n)):a(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const a=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,a,i)}_decodeBroadcast(n,a,i){const l=a.getUint8(1),o=a.getUint8(2);let c=this.HEADER_LENGTH+2;const f=i.decode(n.slice(c,c+l));c=c+l;const h=i.decode(n.slice(c,c+o));c=c+o;const m=JSON.parse(i.decode(n.slice(c,n.byteLength)));return{ref:null,topic:f,event:h,payload:m}}}class __{constructor(n,a){this.callback=n,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(nt||(nt={}));const Gv=(e,n,a={})=>{var i;const l=(i=a.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(n).reduce((o,c)=>(o[c]=YE(c,e,n,l),o),{})},YE=(e,n,a,i)=>{const l=n.find(f=>f.name===e),o=l?.type,c=a[e];return o&&!i.includes(o)?b_(o,c):Pf(c)},b_=(e,n)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return QE(n,a)}switch(e){case nt.bool:return KE(n);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return XE(n);case nt.json:case nt.jsonb:return WE(n);case nt.timestamp:return ZE(n);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Pf(n);default:return Pf(n)}},Pf=e=>e,KE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},XE=e=>{if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},WE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},QE=(e,n)=>{if(typeof e!="string")return e;const a=e.length-1,i=e[a];if(e[0]==="{"&&i==="}"){let o;const c=e.slice(1,a);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(f=>b_(n,f))}return e},ZE=e=>typeof e=="string"?e.replace(" ","T"):e,w_=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class df{constructor(n,a,i={},l=Uf){this.channel=n,this.event=a,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,a){var i;return this._hasReceived(n)&&a((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:a}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(a))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Yv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Yv||(Yv={}));class bl{constructor(n,a){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:o,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bl.syncState(this.state,l,o,c),this.pendingDiffs.forEach(h=>{this.state=bl.syncDiff(this.state,h,o,c)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},l=>{const{onJoin:o,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=bl.syncDiff(this.state,l,o,c),f())}),this.onJoin((l,o,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:o,newPresences:c})}),this.onLeave((l,o,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,a,i,l){const o=this.cloneDeep(n),c=this.transformState(a),f={},h={};return this.map(o,(m,v)=>{c[m]||(h[m]=v)}),this.map(c,(m,v)=>{const y=o[m];if(y){const _=v.map(C=>C.presence_ref),w=y.map(C=>C.presence_ref),S=v.filter(C=>w.indexOf(C.presence_ref)<0),R=y.filter(C=>_.indexOf(C.presence_ref)<0);S.length>0&&(f[m]=S),R.length>0&&(h[m]=R)}else f[m]=v}),this.syncDiff(o,{joins:f,leaves:h},i,l)}static syncDiff(n,a,i,l){const{joins:o,leaves:c}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(o,(f,h)=>{var m;const v=(m=n[f])!==null&&m!==void 0?m:[];if(n[f]=this.cloneDeep(h),v.length>0){const y=n[f].map(w=>w.presence_ref),_=v.filter(w=>y.indexOf(w.presence_ref)<0);n[f].unshift(..._)}i(f,v,h)}),this.map(c,(f,h)=>{let m=n[f];if(!m)return;const v=h.map(y=>y.presence_ref);m=m.filter(y=>v.indexOf(y.presence_ref)<0),n[f]=m,l(f,m,h),m.length===0&&delete n[f]}),n}static map(n,a){return Object.getOwnPropertyNames(n).map(i=>a(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((a,i)=>{const l=n[i];return"metas"in l?a[i]=l.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):a[i]=l,a},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Kv||(Kv={}));var wl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(wl||(wl={}));var Pr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pr||(Pr={}));class hh{constructor(n,a={config:{}},i){this.topic=n,this.params=a,this.socket=i,this.bindings={},this.state=At.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new df(this,Bn.join,this.params,this.timeout),this.rejoinTimer=new __(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=At.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=At.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bn.reply,{},(l,o)=>{this._trigger(this._replyEventName(o),l)}),this.presence=new bl(this),this.broadcastEndpointURL=w_(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,a=this.timeout){var i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==At.closed){const{config:{broadcast:o,presence:c,private:f}}=this.params,h=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&l!==void 0?l:[],m=!!this.bindings[wl.PRESENCE]&&this.bindings[wl.PRESENCE].length>0,v={},y={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>n?.(Pr.CHANNEL_ERROR,_)),this._onClose(()=>n?.(Pr.CLOSED)),this.updateJoinPayload(Object.assign({config:y},v)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:_})=>{var w;if(this.socket.setAuth(),_===void 0){n?.(Pr.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,R=(w=S?.length)!==null&&w!==void 0?w:0,C=[];for(let T=0;T<R;T++){const D=S[T],{filter:{event:A,schema:$,table:U,filter:Z}}=D,J=_&&_[T];if(J&&J.event===A&&J.schema===$&&J.table===U&&J.filter===Z)C.push(Object.assign(Object.assign({},D),{id:J.id}));else{this.unsubscribe(),this.state=At.errored,n?.(Pr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,n&&n(Pr.SUBSCRIBED);return}}).receive("error",_=>{this.state=At.errored,n?.(Pr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{n?.(Pr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,a={}){return await this.send({type:"presence",event:"track",payload:n},a.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,a,i){return this.state===At.joined&&n===wl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,a,i)}async send(n,a={}){var i,l;if(!this._canPush()&&n.type==="broadcast"){const{event:o,payload:c}=n,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,f,h;const m=this._push(n.type,n,a.timeout||this.timeout);n.type==="broadcast"&&!(!((h=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=At.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new df(this,Bn.leave,{},n),i.receive("ok",()=>{a(),l("ok")}).receive("timeout",()=>{a(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=At.closed,this.bindings={}}async _fetchWithTimeout(n,a,i){const l=new AbortController,o=setTimeout(()=>l.abort(),i),c=await this.socket.fetch(n,Object.assign(Object.assign({},a),{signal:l.signal}));return clearTimeout(o),c}_push(n,a,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new df(this,n,a,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>qE){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(n,a,i){return a}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,a,i){var l,o;const c=n.toLocaleLowerCase(),{close:f,error:h,leave:m,join:v}=Bn;if(i&&[f,h,m,v].indexOf(c)>=0&&i!==this._joinRef())return;let _=this._onMessage(c,a,i);if(a&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(w=>{var S,R,C;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((C=(R=w.filter)===null||R===void 0?void 0:R.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(w=>w.callback(_,i)):(o=this.bindings[c])===null||o===void 0||o.filter(w=>{var S,R,C,T,D,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const $=w.id,U=(S=w.filter)===null||S===void 0?void 0:S.event;return $&&((R=a.ids)===null||R===void 0?void 0:R.includes($))&&(U==="*"||U?.toLocaleLowerCase()===((C=a.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const $=(D=(T=w?.filter)===null||T===void 0?void 0:T.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return $==="*"||$===((A=a?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof _=="object"&&"ids"in _){const S=_.data,{schema:R,table:C,commit_timestamp:T,type:D,errors:A}=S;_=Object.assign(Object.assign({},{schema:R,table:C,commit_timestamp:T,eventType:D,new:{},old:{},errors:A}),this._getPayloadRecords(S))}w.callback(_,i)})}_isClosed(){return this.state===At.closed}_isJoined(){return this.state===At.joined}_isJoining(){return this.state===At.joining}_isLeaving(){return this.state===At.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,a,i){const l=n.toLocaleLowerCase(),o={type:l,filter:a,callback:i};return this.bindings[l]?this.bindings[l].push(o):this.bindings[l]=[o],this}_off(n,a){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var o;return!(((o=l.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&hh.isEqual(l.filter,a))})),this}static isEqual(n,a){if(Object.keys(n).length!==Object.keys(a).length)return!1;for(const i in n)if(n[i]!==a[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Bn.close,{},n)}_onError(n){this._on(Bn.error,{},a=>n(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=At.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const a={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(a.new=Gv(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(a.old=Gv(n.columns,n.old_record)),a}}const Xv=()=>{},ou={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},JE=[1e3,2e3,5e3,1e4],ex=1e4,tx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nx{constructor(n,a){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uf,this.transport=null,this.heartbeatIntervalMs=ou.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xv,this.ref=0,this.reconnectTimer=null,this.logger=Xv,this.conn=null,this.sendBuffer=[],this.serializer=new GE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let o;return l?o=l:typeof fetch>"u"?o=(...c)=>Wa(async()=>{const{default:f}=await Promise.resolve().then(()=>ss);return{default:f}},void 0).then(({default:f})=>f(...c)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...c)=>o(...c)},!(!((i=a?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${n}/${Lf.websocket}`,this.httpEndpoint=w_(n),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=FE.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const a=n.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:BE}))}disconnect(n,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},n?this.conn.close(n,a??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const a=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const n=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,a,i){this.logger(n,a,i)}connectionState(){switch(this.conn&&this.conn.readyState){case _l.connecting:return Ka.Connecting;case _l.open:return Ka.Open;case _l.closing:return Ka.Closing;default:return Ka.Closed}}isConnected(){return this.connectionState()===Ka.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,a={config:{}}){const i=`realtime:${n}`,l=this.getChannels().find(o=>o.topic===i);if(l)return l;{const o=new hh(`realtime:${n}`,a,this);return this.channels.push(o),o}}push(n){const{topic:a,event:i,payload:l,ref:o}=n,c=()=>{this.encode(n,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${a} ${i} (${o})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(VE,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},ou.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let a=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${n}"`),a.unsubscribe())}_remove(n){this.channels=this.channels.filter(a=>a.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,a=>{a.topic==="phoenix"&&a.event==="phx_reply"&&this.heartbeatCallback(a.payload.status==="ok"?"ok":"error"),a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:l,payload:o,ref:c}=a,f=c?`(${c})`:"",h=o.status||"";this.log("receive",`${h} ${i} ${l} ${f}`.trim(),o),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(l,o,c)),this._triggerStateCallbacks("message",a)})}_clearTimer(n){var a;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var a;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Bn.error))}_appendParams(n,a){if(Object.keys(a).length===0)return n;const i=n.match(/\?/)?"&":"?",l=new URLSearchParams(a);return`${n}${i}${l}`}_workerObjectUrl(n){let a;if(n)a=n;else{const i=new Blob([tx],{type:"application/javascript"});a=URL.createObjectURL(i)}return a}_setConnectionState(n,a=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(n=null){let a;n?a=n:this.accessToken?a=await this.accessToken():a=this.accessTokenValue,this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(i=>{const l={access_token:a,version:$E};a&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(Bn.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(a=>{this.log("error",`error setting auth in ${n}`,a)})}_triggerStateCallbacks(n,a){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(a)}catch(l){this.log("error",`error in ${n} callback`,l)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new __(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ou.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var a,i,l,o,c,f,h,m;if(this.transport=(a=n?.transport)!==null&&a!==void 0?a:null,this.timeout=(i=n?.timeout)!==null&&i!==void 0?i:Uf,this.heartbeatIntervalMs=(l=n?.heartbeatIntervalMs)!==null&&l!==void 0?l:ou.HEARTBEAT_INTERVAL,this.worker=(o=n?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=n?.accessToken)!==null&&c!==void 0?c:null,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=n?.reconnectAfterMs)!==null&&f!==void 0?f:(v=>JE[v-1]||ex),this.encode=(h=n?.encode)!==null&&h!==void 0?h:((v,y)=>y(JSON.stringify(v))),this.decode=(m=n?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class gh extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Ot(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rx extends gh{constructor(n,a,i){super(n),this.name="StorageApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hf extends gh{constructor(n,a){super(n),this.name="StorageUnknownError",this.originalError=a}}var ax=function(e,n,a,i){function l(o){return o instanceof a?o:new a(function(c){c(o)})}return new(a||(a=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const S_=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...a)=>Wa(async()=>{const{default:i}=await Promise.resolve().then(()=>ss);return{default:i}},void 0).then(({default:i})=>i(...a)):n=fetch,(...a)=>n(...a)},ix=()=>ax(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wa(()=>Promise.resolve().then(()=>ss),void 0)).Response:Response}),zf=e=>{if(Array.isArray(e))return e.map(a=>zf(a));if(typeof e=="function"||e!==Object(e))return e;const n={};return Object.entries(e).forEach(([a,i])=>{const l=a.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[l]=zf(i)}),n},sx=e=>{if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Qa=function(e,n,a,i){function l(o){return o instanceof a?o:new a(function(c){c(o)})}return new(a||(a=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const ff=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lx=(e,n,a)=>Qa(void 0,void 0,void 0,function*(){const i=yield ix();e instanceof i&&!a?.noResolveJson?e.json().then(l=>{const o=e.status||500,c=l?.statusCode||o+"";n(new rx(ff(l),o,c))}).catch(l=>{n(new Hf(ff(l),l))}):n(new Hf(ff(e),e))}),ox=(e,n,a,i)=>{const l={method:e,headers:n?.headers||{}};return e==="GET"||!i?l:(sx(i)?(l.headers=Object.assign({"Content-Type":"application/json"},n?.headers),l.body=JSON.stringify(i)):l.body=i,n?.duplex&&(l.duplex=n.duplex),Object.assign(Object.assign({},l),a))};function Fl(e,n,a,i,l,o){return Qa(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(a,ox(n,i,l,o)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>lx(h,f,i))})})}function Eu(e,n,a,i){return Qa(this,void 0,void 0,function*(){return Fl(e,"GET",n,a,i)})}function cr(e,n,a,i,l){return Qa(this,void 0,void 0,function*(){return Fl(e,"POST",n,i,l,a)})}function Ff(e,n,a,i,l){return Qa(this,void 0,void 0,function*(){return Fl(e,"PUT",n,i,l,a)})}function ux(e,n,a,i){return Qa(this,void 0,void 0,function*(){return Fl(e,"HEAD",n,Object.assign(Object.assign({},a),{noResolveJson:!0}),i)})}function E_(e,n,a,i,l){return Qa(this,void 0,void 0,function*(){return Fl(e,"DELETE",n,i,l,a)})}var nn=function(e,n,a,i){function l(o){return o instanceof a?o:new a(function(c){c(o)})}return new(a||(a=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const cx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dx{constructor(n,a={},i,l){this.url=n,this.headers=a,this.bucketId=i,this.fetch=S_(l)}uploadOrUpdate(n,a,i,l){return nn(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},Wv),l);let f=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",this.encodeMetadata(h))):(o=i,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),l?.headers&&(f=Object.assign(Object.assign({},f),l.headers));const m=this._removeEmptyFolders(a),v=this._getFinalPath(m),y=yield(n=="PUT"?Ff:cr)(this.fetch,`${this.url}/object/${v}`,o,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(o){if(Ot(o))return{data:null,error:o};throw o}})}upload(n,a,i){return nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,a,i)})}uploadToSignedUrl(n,a,i,l){return nn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(n),c=this._getFinalPath(o),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",a);try{let h;const m=Object.assign({upsert:Wv.upsert},l),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",m.cacheControl)):(h=i,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const y=yield Ff(this.fetch,f.toString(),h,{headers:v});return{data:{path:o,fullPath:y.Key},error:null}}catch(h){if(Ot(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(n,a){return nn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const l=Object.assign({},this.headers);a?.upsert&&(l["x-upsert"]="true");const o=yield cr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),c=new URL(this.url+o.url),f=c.searchParams.get("token");if(!f)throw new gh("No token returned by API");return{data:{signedUrl:c.toString(),path:n,token:f},error:null}}catch(i){if(Ot(i))return{data:null,error:i};throw i}})}update(n,a,i){return nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,a,i)})}move(n,a,i){return nn(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:a,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(Ot(l))return{data:null,error:l};throw l}})}copy(n,a,i){return nn(this,void 0,void 0,function*(){try{return{data:{path:(yield cr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:a,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(Ot(l))return{data:null,error:l};throw l}})}createSignedUrl(n,a,i){return nn(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n),o=yield cr(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:a},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(l){if(Ot(l))return{data:null,error:l};throw l}})}createSignedUrls(n,a,i){return nn(this,void 0,void 0,function*(){try{const l=yield cr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:n},{headers:this.headers}),o=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(l){if(Ot(l))return{data:null,error:l};throw l}})}download(n,a){return nn(this,void 0,void 0,function*(){const l=typeof a?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(a?.transform||{}),c=o?`?${o}`:"";try{const f=this._getFinalPath(n);return{data:yield(yield Eu(this.fetch,`${this.url}/${l}/${f}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(Ot(f))return{data:null,error:f};throw f}})}info(n){return nn(this,void 0,void 0,function*(){const a=this._getFinalPath(n);try{const i=yield Eu(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:zf(i),error:null}}catch(i){if(Ot(i))return{data:null,error:i};throw i}})}exists(n){return nn(this,void 0,void 0,function*(){const a=this._getFinalPath(n);try{return yield ux(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Ot(i)&&i instanceof Hf){const l=i.originalError;if([400,404].includes(l?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,a){const i=this._getFinalPath(n),l=[],o=a?.download?`download=${a.download===!0?"":a.download}`:"";o!==""&&l.push(o);const f=typeof a?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(a?.transform||{});h!==""&&l.push(h);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${m}`)}}}remove(n){return nn(this,void 0,void 0,function*(){try{return{data:yield E_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(a){if(Ot(a))return{data:null,error:a};throw a}})}list(n,a,i){return nn(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},cx),a),{prefix:n||""});return{data:yield cr(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(Ot(l))return{data:null,error:l};throw l}})}listV2(n,a){return nn(this,void 0,void 0,function*(){try{const i=Object.assign({},n);return{data:yield cr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(Ot(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const a=[];return n.width&&a.push(`width=${n.width}`),n.height&&a.push(`height=${n.height}`),n.resize&&a.push(`resize=${n.resize}`),n.format&&a.push(`format=${n.format}`),n.quality&&a.push(`quality=${n.quality}`),a.join("&")}}const fx="2.11.0",hx={"X-Client-Info":`storage-js/${fx}`};var Bi=function(e,n,a,i){function l(o){return o instanceof a?o:new a(function(c){c(o)})}return new(a||(a=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};class gx{constructor(n,a={},i,l){const o=new URL(n);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},hx),a),this.fetch=S_(i)}listBuckets(){return Bi(this,void 0,void 0,function*(){try{return{data:yield Eu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}})}getBucket(n){return Bi(this,void 0,void 0,function*(){try{return{data:yield Eu(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(a){if(Ot(a))return{data:null,error:a};throw a}})}createBucket(n,a={public:!1}){return Bi(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ot(i))return{data:null,error:i};throw i}})}updateBucket(n,a){return Bi(this,void 0,void 0,function*(){try{return{data:yield Ff(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ot(i))return{data:null,error:i};throw i}})}emptyBucket(n){return Bi(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(Ot(a))return{data:null,error:a};throw a}})}deleteBucket(n){return Bi(this,void 0,void 0,function*(){try{return{data:yield E_(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(a){if(Ot(a))return{data:null,error:a};throw a}})}}class mx extends gx{constructor(n,a={},i,l){super(n,a,i,l)}from(n){return new dx(this.url,this.headers,n,this.fetch)}}const px="2.55.0";let yl="";typeof Deno<"u"?yl="deno":typeof document<"u"?yl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yl="react-native":yl="node";const vx={"X-Client-Info":`supabase-js-${yl}/${px}`},yx={headers:vx},_x={schema:"public"},bx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wx={};var Sx=function(e,n,a,i){function l(o){return o instanceof a?o:new a(function(c){c(o)})}return new(a||(a=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const Ex=e=>{let n;return e?n=e:typeof fetch>"u"?n=h_:n=fetch,(...a)=>n(...a)},xx=()=>typeof Headers>"u"?g_:Headers,Rx=(e,n,a)=>{const i=Ex(a),l=xx();return(o,c)=>Sx(void 0,void 0,void 0,function*(){var f;const h=(f=yield n())!==null&&f!==void 0?f:e;let m=new l(c?.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),i(o,Object.assign(Object.assign({},c),{headers:m}))})};var Cx=function(e,n,a,i){function l(o){return o instanceof a?o:new a(function(c){c(o)})}return new(a||(a=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};function Tx(e){return e.endsWith("/")?e:e+"/"}function Ax(e,n){var a,i;const{db:l,auth:o,realtime:c,global:f}=e,{db:h,auth:m,realtime:v,global:y}=n,_={db:Object.assign(Object.assign({},h),l),auth:Object.assign(Object.assign({},m),o),realtime:Object.assign(Object.assign({},v),c),storage:{},global:Object.assign(Object.assign(Object.assign({},y),f),{headers:Object.assign(Object.assign({},(a=y?.headers)!==null&&a!==void 0?a:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>Cx(this,void 0,void 0,function*(){return""})};return e.accessToken?_.accessToken=e.accessToken:delete _.accessToken,_}const x_="2.71.1",Wi=30*1e3,If=3,hf=If*Wi,Ox="http://localhost:9999",Dx="supabase.auth.token",Nx={"X-Client-Info":`gotrue-js/${x_}`},$f="X-Supabase-Api-Version",R_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mx=600*1e3;class mh extends Error{constructor(n,a,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=i}}function Oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class kx extends mh{constructor(n,a,i){super(n,a,i),this.name="AuthApiError",this.status=a,this.code=i}}function Ux(e){return Oe(e)&&e.name==="AuthApiError"}class C_ extends mh{constructor(n,a){super(n),this.name="AuthUnknownError",this.originalError=a}}class xa extends mh{constructor(n,a,i,l){super(n,i,l),this.name=a,this.status=i}}class va extends xa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Lx(e){return Oe(e)&&e.name==="AuthSessionMissingError"}class uu extends xa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cu extends xa{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class du extends xa{constructor(n,a=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Px(e){return Oe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Qv extends xa{constructor(n,a=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bf extends xa{constructor(n,a){super(n,"AuthRetryableFetchError",a,void 0)}}function gf(e){return Oe(e)&&e.name==="AuthRetryableFetchError"}class Zv extends xa{constructor(n,a,i){super(n,"AuthWeakPasswordError",a,"weak_password"),this.reasons=i}}class Vf extends xa{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const xu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jv=` 	
\r=`.split(""),Hx=(()=>{const e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<Jv.length;n+=1)e[Jv[n].charCodeAt(0)]=-2;for(let n=0;n<xu.length;n+=1)e[xu[n].charCodeAt(0)]=n;return e})();function ey(e,n,a){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;a(xu[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;a(xu[i]),n.queuedBits-=6}}function T_(e,n,a){const i=Hx[e];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)a(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ty(e){const n=[],a=c=>{n.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},o=c=>{Ix(c,i,a)};for(let c=0;c<e.length;c+=1)T_(e.charCodeAt(c),l,o);return n.join("")}function zx(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Fx(e,n){for(let a=0;a<e.length;a+=1){let i=e.charCodeAt(a);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(e.charCodeAt(a+1)-56320&65535|l)+65536,a+=1}zx(i,n)}}function Ix(e,n,a){if(n.utf8seq===0){if(e<=127){a(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&a(n.codepoint)}}function $x(e){const n=[],a={queue:0,queuedBits:0},i=l=>{n.push(l)};for(let l=0;l<e.length;l+=1)T_(e.charCodeAt(l),a,i);return new Uint8Array(n)}function Bx(e){const n=[];return Fx(e,a=>n.push(a)),new Uint8Array(n)}function Vx(e){const n=[],a={queue:0,queuedBits:0},i=l=>{n.push(l)};return e.forEach(l=>ey(l,a,i)),ey(null,a,i),n.join("")}function qx(e){return Math.round(Date.now()/1e3)+e}function Gx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}const $n=()=>typeof window<"u"&&typeof document<"u",Va={tested:!1,writable:!1},A_=()=>{if(!$n())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Va.tested)return Va.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Va.tested=!0,Va.writable=!0}catch{Va.tested=!0,Va.writable=!1}return Va.writable};function Yx(e){const n={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((l,o)=>{n[o]=l})}catch{}return a.searchParams.forEach((i,l)=>{n[l]=i}),n}const O_=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...a)=>Wa(async()=>{const{default:i}=await Promise.resolve().then(()=>ss);return{default:i}},void 0).then(({default:i})=>i(...a)):n=fetch,(...a)=>n(...a)},Kx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qi=async(e,n,a)=>{await e.setItem(n,JSON.stringify(a))},qa=async(e,n)=>{const a=await e.getItem(n);if(!a)return null;try{return JSON.parse(a)}catch{return a}},ma=async(e,n)=>{await e.removeItem(n)};class zu{constructor(){this.promise=new zu.promiseConstructor((n,a)=>{this.resolve=n,this.reject=a})}}zu.promiseConstructor=Promise;function mf(e){const n=e.split(".");if(n.length!==3)throw new Vf("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!jx.test(n[i]))throw new Vf("JWT not in base64url format");return{header:JSON.parse(ty(n[0])),payload:JSON.parse(ty(n[1])),signature:$x(n[2]),raw:{header:n[0],payload:n[1]}}}async function Xx(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}function Wx(e,n){return new Promise((i,l)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await e(o);if(!n(o,null,c)){i(c);return}}catch(c){if(!n(o,c)){l(c);return}}})()})}function Qx(e){return("0"+e.toString(16)).substr(-2)}function Zx(){const n=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=a.length;let l="";for(let o=0;o<56;o++)l+=a.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(n),Array.from(n,Qx).join("")}async function Jx(e){const a=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",a),l=new Uint8Array(i);return Array.from(l).map(o=>String.fromCharCode(o)).join("")}async function eR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await Jx(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vi(e,n,a=!1){const i=Zx();let l=i;a&&(l+="/PASSWORD_RECOVERY"),await Qi(e,`${n}-code-verifier`,l);const o=await eR(i);return[o,i===o?"plain":"s256"]}const tR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nR(e){const n=e.headers.get($f);if(!n||!n.match(tR))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function rR(e){if(!e)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function aR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qi(e){if(!iR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pf(){const e={};return new Proxy(e,{get:(n,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ny(e){return JSON.parse(JSON.stringify(e))}var sR=function(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]]);return a};const Ga=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lR=[502,503,504];async function ry(e){var n;if(!Kx(e))throw new Bf(Ga(e),0);if(lR.includes(e.status))throw new Bf(Ga(e),e.status);let a;try{a=await e.json()}catch(o){throw new C_(Ga(o),o)}let i;const l=nR(e);if(l&&l.getTime()>=R_["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?i=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(i=a.error_code),i){if(i==="weak_password")throw new Zv(Ga(a),e.status,((n=a.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new va}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new Zv(Ga(a),e.status,a.weak_password.reasons);throw new kx(Ga(a),e.status||500,i)}const oR=(e,n,a,i)=>{const l={method:e,headers:n?.headers||{}};return e==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),a))};async function Le(e,n,a,i){var l;const o=Object.assign({},i?.headers);o[$f]||(o[$f]=R_["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const c=(l=i?.query)!==null&&l!==void 0?l:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await uR(e,n,a+f,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function uR(e,n,a,i,l,o){const c=oR(n,i,l,o);let f;try{f=await e(a,Object.assign({},c))}catch(h){throw console.error(h),new Bf(Ga(h),0)}if(f.ok||await ry(f),i?.noResolveJson)return f;try{return await f.json()}catch(h){await ry(h)}}function Lr(e){var n;let a=null;hR(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=qx(e.expires_in)));const i=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:a,user:i},error:null}}function ay(e){const n=Lr(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0)&&(n.data.weak_password=e.weak_password),n}function _a(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function cR(e){return{data:e,error:null}}function dR(e){const{action_link:n,email_otp:a,hashed_token:i,redirect_to:l,verification_type:o}=e,c=sR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:n,email_otp:a,hashed_token:i,redirect_to:l,verification_type:o},h=Object.assign({},c);return{data:{properties:f,user:h},error:null}}function fR(e){return e}function hR(e){return e.access_token&&e.refresh_token&&e.expires_in}const vf=["global","local","others"];var gR=function(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]]);return a};class mR{constructor({url:n="",headers:a={},fetch:i}){this.url=n,this.headers=a,this.fetch=O_(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,a=vf[0]){if(vf.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vf.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Oe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,a={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:_a})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:a}=n,i=gR(n,["options"]),l=Object.assign(Object.assign({},i),a);return"newEmail"in i&&(l.new_email=i?.newEmail,delete l.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:dR,redirectTo:a?.redirectTo})}catch(a){if(Oe(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(n){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:_a})}catch(a){if(Oe(a))return{data:{user:null},error:a};throw a}}async listUsers(n){var a,i,l,o,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},v=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(a=n?.page)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:"",per_page:(o=(l=n?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:fR});if(v.error)throw v.error;const y=await v.json(),_=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(S=>{const R=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(S.split(";")[1].split("=")[1]);m[`${C}Page`]=R}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Oe(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){qi(n);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:_a})}catch(a){if(Oe(a))return{data:{user:null},error:a};throw a}}async updateUserById(n,a){qi(n);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:a,headers:this.headers,xform:_a})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,a=!1){qi(n);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:a},xform:_a})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){qi(n.userId);try{const{data:a,error:i}=await Le(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:a,error:i}}catch(a){if(Oe(a))return{data:null,error:a};throw a}}async _deleteFactor(n){qi(n.userId),qi(n.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(a){if(Oe(a))return{data:null,error:a};throw a}}}function iy(e={}){return{getItem:n=>e[n]||null,setItem:(n,a)=>{e[n]=a},removeItem:n=>{delete e[n]}}}function pR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gi={debug:!!(globalThis&&A_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class D_ extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class vR extends D_{}async function yR(e,n,a){Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,l.name);try{return await a()}finally{Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,l.name)}}else{if(n===0)throw Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}pR();const _R={url:Ox,storageKey:Dx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Nx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sy(e,n,a){return await a()}const Yi={};class Dl{constructor(n){var a,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Dl.nextInstanceID,Dl.nextInstanceID+=1,this.instanceID>0&&$n()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},_R),n);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new mR({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=O_(l.fetch),this.lock=l.lock||sy,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:$n()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=yR:this.lock=sy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:A_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=iy(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=iy(this.memoryStorage)),$n()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var n,a;return(a=(n=Yi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(n){Yi[this.storageKey]=Object.assign(Object.assign({},Yi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,a;return(a=(n=Yi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Yi[this.storageKey]=Object.assign(Object.assign({},Yi[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${x_}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const a=Yx(window.location.href);let i="none";if(this._isImplicitGrantCallback(a)?i="implicit":await this._isPKCECallback(a)&&(i="pkce"),$n()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:o}=await this._getSessionFromURL(a,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Px(o)){const h=(n=o.details)===null||n===void 0?void 0:n.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return Oe(a)?{error:a}:{error:new C_("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var a,i,l;try{const o=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(a=n?.options)===null||a===void 0?void 0:a.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=n?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Lr}),{data:c,error:f}=o;if(f||!c)return{data:{user:null,session:null},error:f};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(Oe(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(n){var a,i,l;try{let o;if("email"in n){const{email:v,password:y,options:_}=n;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await Vi(this.storage,this.storageKey)),o=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:v,password:y,data:(a=_?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:w,code_challenge_method:S},xform:Lr})}else if("phone"in n){const{phone:v,password:y,options:_}=n;o=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(i=_?.data)!==null&&i!==void 0?i:{},channel:(l=_?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Lr})}else throw new cu("You must provide either an email or phone number and a password");const{data:c,error:f}=o;if(f||!c)return{data:{user:null,session:null},error:f};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(Oe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(n){try{let a;if("email"in n){const{email:o,password:c,options:f}=n;a=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ay})}else if("phone"in n){const{phone:o,password:c,options:f}=n;a=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ay})}else throw new cu("You must provide either an email or phone number and a password");const{data:i,error:l}=a;return l?{data:{user:null,session:null},error:l}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new uu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(a){if(Oe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(n){var a,i,l,o;return await this._handleProviderSignIn(n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(o=n.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:a}=n;if(a==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(n){var a,i,l,o,c,f,h,m,v,y,_,w;let S,R;if("message"in n)S=n.message,R=n.signature;else{const{chain:C,wallet:T,statement:D,options:A}=n;let $;if($n())if(typeof T=="object")$=T;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))$=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=T}const U=new URL((a=A?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in $&&$.signIn){const Z=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),D?{statement:D}:null));let J;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")J=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)J=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)S=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),R=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${U.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(l=(i=A?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((o=A?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((h=A?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((m=A?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((y=(v=A?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...A.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const Z=await $.signMessage(new TextEncoder().encode(S),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=Z}}try{const{data:C,error:T}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Vx(R)},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Lr});if(T)throw T;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new uu}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:T})}catch(C){if(Oe(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(n){const a=await qa(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(a??"").split("/");try{const{data:o,error:c}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Lr});if(await ma(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new uu}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:l??null}),error:c})}catch(o){if(Oe(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(n){try{const{options:a,provider:i,token:l,access_token:o,nonce:c}=n,f=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Lr}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new uu}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(a){if(Oe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(n){var a,i,l,o,c;try{if("email"in n){const{email:f,options:h}=n;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Vi(this.storage,this.storageKey));const{error:y}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(a=h?.data)!==null&&a!==void 0?a:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in n){const{phone:f,options:h}=n,{data:m,error:v}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=h?.data)!==null&&l!==void 0?l:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new cu("You must provide either an email or phone number.")}catch(f){if(Oe(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(n){var a,i;try{let l,o;"options"in n&&(l=(a=n.options)===null||a===void 0?void 0:a.redirectTo,o=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:f}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:o}}),redirectTo:l,xform:Lr});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Oe(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(n){var a,i,l;try{let o=null,c=null;return this.flowType==="pkce"&&([o,c]=await Vi(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(a=n.options)===null||a===void 0?void 0:a.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=n?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:cR})}catch(o){if(Oe(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)throw i;if(!a)throw new va;const{error:l}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:l}})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const a=`${this.url}/resend`;if("email"in n){const{email:i,type:l,options:o}=n,{error:c}=await Le(this.fetch,"POST",a,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in n){const{phone:i,type:l,options:o}=n,{data:c,error:f}=await Le(this.fetch,"POST",a,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:f}}throw new cu("You must provide either an email or phone number and a type")}catch(a){if(Oe(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(n,a){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await a()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=a();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await n(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const a=await qa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?n=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<hf:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const c=await qa(this.userStorage,this.storageKey+"-user");c?.user?n.user=c.user:n.user=pf()}if(this.storage.isServer&&n.user){let c=this.suppressGetSessionWarning;n=new Proxy(n,{get:(h,m,v)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,v))})}return{data:{session:n},error:null}}const{session:l,error:o}=await this._callRefreshToken(n.refresh_token);return o?{data:{session:null},error:o}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:_a}):await this._useSession(async a=>{var i,l,o;const{data:c,error:f}=a;if(f)throw f;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new va}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0,xform:_a})})}catch(a){if(Oe(a))return Lx(a)&&(await this._removeSession(),await ma(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(n,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,a))}async _updateUser(n,a={}){try{return await this._useSession(async i=>{const{data:l,error:o}=i;if(o)throw o;if(!l.session)throw new va;const c=l.session;let f=null,h=null;this.flowType==="pkce"&&n.email!=null&&([f,h]=await Vi(this.storage,this.storageKey));const{data:m,error:v}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:f,code_challenge_method:h}),jwt:c.access_token,xform:_a});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new va;const a=Date.now()/1e3;let i=a,l=!0,o=null;const{payload:c}=mf(n.access_token);if(c.exp&&(i=c.exp,l=i<=a),l){const{session:f,error:h}=await this._callRefreshToken(n.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!f)return{data:{user:null,session:null},error:null};o=f}else{const{data:f,error:h}=await this._getUser(n.access_token);if(h)throw h;o={access_token:n.access_token,refresh_token:n.refresh_token,user:f.user,token_type:"bearer",expires_in:i-a,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(a){if(Oe(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async a=>{var i;if(!n){const{data:c,error:f}=a;if(f)throw f;n=(i=c.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new va;const{session:l,error:o}=await this._callRefreshToken(n.refresh_token);return o?{data:{user:null,session:null},error:o}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(Oe(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(n,a){try{if(!$n())throw new du("No browser detected.");if(n.error||n.error_description||n.error_code)throw new du(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Qv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new du("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Qv("No code detected.");const{data:D,error:A}=await this._exchangeCodeForSession(n.code);if(A)throw A;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:o,refresh_token:c,expires_in:f,expires_at:h,token_type:m}=n;if(!o||!f||!c||!m)throw new du("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(f);let _=v+y;h&&(_=parseInt(h));const w=_-v;w*1e3<=Wi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const S=_-y;v-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,_,v):v-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,_,v);const{data:R,error:C}=await this._getUser(o);if(C)throw C;const T={provider_token:i,provider_refresh_token:l,access_token:o,expires_in:y,expires_at:_,refresh_token:c,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:n.type},error:null}}catch(i){if(Oe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const a=await qa(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&a)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async a=>{var i;const{data:l,error:o}=a;if(o)return{error:o};const c=(i=l.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:f}=await this.admin.signOut(c,n);if(f&&!(Ux(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return n!=="others"&&(await this._removeSession(),await ma(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const a=Gx(),i={id:a,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async a=>{var i,l;try{const{data:{session:o},error:c}=a;if(c)throw c;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",n,"session",o)}catch(o){await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",o),console.error(o)}})}async resetPasswordForEmail(n,a={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await Vi(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(o){if(Oe(o))return{data:null,error:o};throw o}}async getUserIdentities(){var n;try{const{data:a,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(n=a.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(a){if(Oe(a))return{data:null,error:a};throw a}}async linkIdentity(n){var a;try{const{data:i,error:l}=await this._useSession(async o=>{var c,f,h,m,v;const{data:y,error:_}=o;if(_)throw _;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(c=n.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=n.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=n.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",w,{headers:this.headers,jwt:(v=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return $n()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:n.provider,url:i?.url},error:null}}catch(i){if(Oe(i))return{data:{provider:n.provider,url:null},error:i};throw i}}async unlinkIdentity(n){try{return await this._useSession(async a=>{var i,l;const{data:o,error:c}=a;if(c)throw c;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(l=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(a){if(Oe(a))return{data:null,error:a};throw a}}async _refreshAccessToken(n){const a=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(a,"begin");try{const i=Date.now();return await Wx(async l=>(l>0&&await Xx(200*Math.pow(2,l-1)),this._debug(a,"refreshing attempt",l),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Lr})),(l,o)=>{const c=200*Math.pow(2,l);return o&&gf(o)&&Date.now()+c-i<Wi})}catch(i){if(this._debug(a,"error",i),Oe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(a,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,a){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",a,"url",i),$n()&&!a.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,a;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await qa(this.storage,this.storageKey);if(l&&this.userStorage){let c=await qa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await Qi(this.userStorage,this.storageKey+"-user",c)),l.user=(n=c?.user)!==null&&n!==void 0?n:pf()}else if(l&&!l.user&&!l.user){const c=await qa(this.storage,this.storageKey+"-user");c&&c?.user?(l.user=c.user,await ma(this.storage,this.storageKey+"-user"),await Qi(this.storage,this.storageKey,l)):l.user=pf()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const o=((a=l.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<hf;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${hf}s`),o){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),gf(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(l.access_token);!f&&c?.user?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var a,i;if(!n)throw new va;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new zu;const{data:o,error:c}=await this._refreshAccessToken(n);if(c)throw c;if(!o.session)throw new va;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const f={session:o.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(o){if(this._debug(l,"error",o),Oe(o)){const c={session:null,error:o};return gf(o)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(n,a,i=!0){const l=`#_notifyAllSubscribers(${n})`;this._debug(l,"begin",a,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:a});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(n,a)}catch(h){o.push(h)}});if(await Promise.all(c),o.length>0){for(let f=0;f<o.length;f+=1)console.error(o[f]);throw o[0]}}finally{this._debug(l,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const a=Object.assign({},n),i=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&a.user&&await Qi(this.userStorage,this.storageKey+"-user",{user:a.user});const l=Object.assign({},a);delete l.user;const o=ny(l);await Qi(this.storage,this.storageKey,o)}else{const l=ny(a);await Qi(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await ma(this.storage,this.storageKey),await ma(this.storage,this.storageKey+"-code-verifier"),await ma(this.storage,this.storageKey+"-user"),this.userStorage&&await ma(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&$n()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Wi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async a=>{const{data:{session:i}}=a;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-n)/Wi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Wi}ms, refresh threshold is ${If} ticks`),l<=If&&await this._callRefreshToken(i.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof D_)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$n()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const a=`#_onVisibilityChanged(${n})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,a,i){const l=[`provider=${encodeURIComponent(a)}`];if(i?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,c]=await Vi(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(f.toString())}if(i?.queryParams){const o=new URLSearchParams(i.queryParams);l.push(o.toString())}return i?.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${l.join("&")}`}async _unenroll(n){try{return await this._useSession(async a=>{var i;const{data:l,error:o}=a;return o?{data:null,error:o}:await Le(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(a){if(Oe(a))return{data:null,error:a};throw a}}async _enroll(n){try{return await this._useSession(async a=>{var i,l;const{data:o,error:c}=a;if(c)return{data:null,error:c};const f=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:h,error:m}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(n.factorType==="totp"&&(!((l=h?.totp)===null||l===void 0)&&l.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(a){if(Oe(a))return{data:null,error:a};throw a}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var i;const{data:l,error:o}=a;if(o)return{data:null,error:o};const{data:c,error:f}=await Le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:f})})}catch(a){if(Oe(a))return{data:null,error:a};throw a}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var i;const{data:l,error:o}=a;return o?{data:null,error:o}:await Le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(a){if(Oe(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(n){const{data:a,error:i}=await this._challenge({factorId:n.factorId});return i?{data:null,error:i}:await this._verify({factorId:n.factorId,challengeId:a.id,code:n.code})}async _listFactors(){const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i=n?.factors||[],l=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),o=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:l,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var a,i;const{data:{session:l},error:o}=n;if(o)return{data:null,error:o};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=mf(l.access_token);let f=null;c.aal&&(f=c.aal);let h=f;((i=(a=l.user.factors)===null||a===void 0?void 0:a.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const v=c.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(n,a={keys:[]}){let i=a.keys.find(f=>f.kid===n);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(f=>f.kid===n),i&&this.jwks_cached_at+Mx>l)return i;const{data:o,error:c}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=l,i=o.keys.find(f=>f.kid===n),!i)?null:i}async getClaims(n,a={}){try{let i=n;if(!i){const{data:w,error:S}=await this.getSession();if(S||!w.session)return{data:null,error:S};i=w.session.access_token}const{header:l,payload:o,signature:c,raw:{header:f,payload:h}}=mf(i);a?.allowExpired||rR(o.exp);const m=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!m){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:o,header:l,signature:c},error:null}}const v=aR(l.alg),y=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,c,Bx(`${f}.${h}`)))throw new Vf("Invalid JWT signature");return{data:{claims:o,header:l,signature:c},error:null}}catch(i){if(Oe(i))return{data:null,error:i};throw i}}}Dl.nextInstanceID=0;const bR=Dl;class wR extends bR{constructor(n){super(n)}}var SR=function(e,n,a,i){function l(o){return o instanceof a?o:new a(function(c){c(o)})}return new(a||(a=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};class ER{constructor(n,a,i){var l,o,c;if(this.supabaseUrl=n,this.supabaseKey=a,!n)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const f=Tx(n),h=new URL(f);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,v={db:_x,realtime:wx,auth:Object.assign(Object.assign({},bx),{storageKey:m}),global:yx},y=Ax(i??{},v);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=y.global.headers)!==null&&o!==void 0?o:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=Rx(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new zE(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new mx(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new TE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,a={},i={}){return this.rest.rpc(n,a,i)}channel(n,a={config:{}}){return this.realtime.channel(n,a)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,a;return SR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:l,storageKey:o,flowType:c,lock:f,debug:h},m,v){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wR({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:o,autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:l,flowType:c,lock:f,debug:h,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new nx(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,i)=>{this._handleTokenChanged(a,"CLIENT",i?.access_token)})}_handleTokenChanged(n,a,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:n==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xR=(e,n,a)=>new ER(e,n,a);function RR(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}RR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const CR="https://jyrfznujcyqskpfthrsf.supabase.co",TR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp5cmZ6bnVqY3lxc2twZnRocnNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwODM1OTMsImV4cCI6MjA3MDY1OTU5M30.JOZLGHslSQO7wDeFSq7FHAV6_VNtD9DS-gMNUu4rEnM",Ze=xR(CR,TR,{auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}}),Vt=(e,n="")=>e.code==="23505"?"This record already exists":e.code==="23503"?"Cannot perform this operation due to related records":e.code==="PGRST116"?"No records found":e.message?.includes("JWT")?"Authentication error. Please refresh the page":e.message||"An unexpected error occurred",xt={PRINTING:"STAMPA",PACKAGING:"CONFEZIONAMENTO"},Ce={ZANICA:"ZANICA",BUSTO_GAROLFO:"BUSTO_GAROLFO",BOTH:"BOTH"},Ln={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",MAINTENANCE:"MAINTENANCE"},Zi={CREMA:"crema",LIQUIDO:"liquido",POLVERI:"polveri"},ur={T1:"T1",T2:"T2",T3:"T3"},Nl={THREE:"3",FOUR:"4"},ly={END_DATE_BEFORE_START:"End date cannot be before start date",END_TIME_BEFORE_START:"End time must be after start time when dates are the same"},ut={MACHINE:{DEPARTMENT:xt.PRINTING,WORK_CENTER:Ce.ZANICA,MIN_WEB_WIDTH:"100",MAX_WEB_WIDTH:"1000",MIN_BAG_HEIGHT:"50",MAX_BAG_HEIGHT:"500",SETUP_TIME_STANDARD:"0.5",CHANGEOVER_COLOR:"0.25",CHANGEOVER_MATERIAL:"0.75",ACTIVE_SHIFTS:[ur.T1],STATUS:Ln.ACTIVE},PHASE:{DEPARTMENT:xt.PRINTING,NUMERO_PERSONE:1,WORK_CENTER:Ce.ZANICA,V_STAMPA:6e3,T_SETUP_STAMPA:.5,COSTO_H_STAMPA:50,V_CONF:1e3,T_SETUP_CONF:.25,COSTO_H_CONF:40},ORDER:{SEAL_SIDES:Nl.THREE,QUANTITY_COMPLETED:0},OFF_TIME:{START_TIME:"09:00",END_TIME:"17:00"}},cl={DECIMAL_PRECISION:{ONE_DECIMAL:["setup_time_standard","changeover_color","changeover_material","t_setup_stampa","t_setup_conf"],TWO_DECIMAL:["costo_h_stampa","costo_h_conf"]},FIELD_STEPS:{TIME:.1,COST:.01}},N_=x.createContext(),AR=({children:e})=>{const[n,a]=x.useState(null),[i,l]=x.useState(null),[o,c]=x.useState(!0),[f,h]=x.useState(null);x.useEffect(()=>{(async()=>{try{const{data:{session:D},error:A}=await Ze.auth.getSession();A?h("Failed to initialize authentication"):(l(D),a(D?.user??null))}catch{h("Failed to initialize authentication")}finally{c(!1)}})();const{data:{subscription:T}}=Ze.auth.onAuthStateChange(async(D,A)=>{l(A),a(A?.user??null),c(!1),h(null)});return()=>T.unsubscribe()},[]);const R={user:n,session:i,loading:o,error:f,signIn:async(C,T)=>{try{h(null),c(!0);const{data:D,error:A}=await Ze.auth.signInWithPassword({email:C,password:T});if(A)throw A;return{success:!0,user:D.user}}catch(D){return h(D.message),{success:!1,error:D.message}}finally{c(!1)}},signUp:async(C,T,D={})=>{try{h(null),c(!0);const{data:A,error:$}=await Ze.auth.signUp({email:C,password:T,options:{data:D}});if($)throw $;return{success:!0,user:A.user}}catch(A){return h(A.message),{success:!1,error:A.message}}finally{c(!1)}},signOut:async()=>{try{h(null),c(!0);const{error:C}=await Ze.auth.signOut();if(C)throw C;return{success:!0}}catch(C){return h(C.message),{success:!1,error:C.message}}finally{c(!1)}},resetPassword:async C=>{try{h(null),c(!0);const{error:T}=await Ze.auth.resetPasswordForEmail(C,{redirectTo:`${window.location.origin}/reset-password`});if(T)throw T;return{success:!0}}catch(T){return h(T.message),{success:!1,error:T.message}}finally{c(!1)}},updateProfile:async C=>{try{h(null),c(!0);const{data:T,error:D}=await Ze.auth.updateUser({data:C});if(D)throw D;return{success:!0,user:T.user}}catch(T){return h(T.message),{success:!1,error:T.message}}finally{c(!1)}},getUserProfile:async()=>{if(!n)return null;try{const{data:C,error:T}=await Ze.from("profiles").select("*").eq("id",n.id).single();return T?null:C}catch{return null}},isAuthenticated:!!n};return p.jsx(N_.Provider,{value:R,children:e})},Il=()=>{const e=x.useContext(N_);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},oy=e=>{let n;const a=new Set,i=(m,v)=>{const y=typeof m=="function"?m(n):m;if(!Object.is(y,n)){const _=n;n=v??(typeof y!="object"||y===null)?y:Object.assign({},n,y),a.forEach(w=>w(n,_))}},l=()=>n,f={setState:i,getState:l,getInitialState:()=>h,subscribe:m=>(a.add(m),()=>a.delete(m))},h=n=e(i,l,f);return f},OR=(e=>e?oy(e):oy),DR=e=>e;function NR(e,n=DR){const a=Ne.useSyncExternalStore(e.subscribe,Ne.useCallback(()=>n(e.getState()),[e,n]),Ne.useCallback(()=>n(e.getInitialState()),[e,n]));return Ne.useDebugValue(a),a}const uy=e=>{const n=OR(e),a=i=>NR(n,i);return Object.assign(a,n),a},ls=(e=>e?uy(e):uy);class Qt extends Error{constructor(n,a="GENERIC_ERROR",i=500,l=null,o=""){super(n),this.name="AppError",this.code=a,this.statusCode=i,this.originalError=l,this.context=o,this.timestamp=new Date().toISOString(),this.id=this.generateErrorId(),this.userMessage=this.getUserFriendlyMessage()}generateErrorId(){return`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getUserFriendlyMessage(){return jR(this)}toJSON(){return{id:this.id,message:this.message,code:this.code,statusCode:this.statusCode,context:this.context,timestamp:this.timestamp,userMessage:this.userMessage,stack:this.stack}}}const Pe={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",NOT_FOUND_ERROR:"NOT_FOUND_ERROR",SERVER_ERROR:"SERVER_ERROR",CLIENT_ERROR:"CLIENT_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",TIMEOUT_ERROR:"TIMEOUT_ERROR",RATE_LIMIT_ERROR:"RATE_LIMIT_ERROR"},wa={LOW:"low",MEDIUM:"medium",HIGH:"high",CRITICAL:"critical"},En=(e,n="")=>{if(e instanceof Qt)return e;if(e?.code)switch(e.code){case"23505":return new Qt("This record already exists",Pe.VALIDATION_ERROR,409,e,n);case"23503":return new Qt("Cannot delete this record as it is referenced by other data",Pe.VALIDATION_ERROR,400,e,n);case"PGRST116":return new Qt("Record not found",Pe.NOT_FOUND_ERROR,404,e,n);case"PGRST301":return new Qt("Session expired. Please log in again.",Pe.AUTHENTICATION_ERROR,401,e,n);case"PGRST302":return new Qt("Invalid session. Please log in again.",Pe.AUTHENTICATION_ERROR,401,e,n);case"PGRST303":return new Qt("Authentication required. Please log in.",Pe.AUTHENTICATION_ERROR,401,e,n);default:return new Qt(e.message||"An unexpected error occurred",Pe.SERVER_ERROR,500,e,n)}return e.name==="NetworkError"||e.message?.includes("fetch")||e.message?.includes("network")?new Qt("Network error. Please check your connection and try again.",Pe.NETWORK_ERROR,0,e,n):e.name==="TimeoutError"||e.message?.includes("timeout")?new Qt("Request timed out. Please try again.",Pe.TIMEOUT_ERROR,408,e,n):e.status===429||e.message?.includes("rate limit")?new Qt("Too many requests. Please wait a moment and try again.",Pe.RATE_LIMIT_ERROR,429,e,n):e.name==="ValidationError"||e.message?.includes("validation")?new Qt(e.message,Pe.VALIDATION_ERROR,400,e,n):e.message?.includes("Cannot add")||e.message?.includes("work center")?new Qt(e.message,Pe.BUSINESS_LOGIC_ERROR,400,e,n):new Qt(e.message||"An unexpected error occurred",Pe.CLIENT_ERROR,e.status||500,e,n)},Vn=(e,n="")=>({id:e.id||`ERR_${Date.now()}`,message:e.message,code:e.code||"UNKNOWN_ERROR",context:n,timestamp:new Date().toISOString(),url:typeof window<"u"?window.location.href:"server",userAgent:typeof navigator<"u"?navigator.userAgent:"server",stack:e.stack,severity:j_(e)}),j_=e=>e.code===Pe.AUTHENTICATION_ERROR||e.code===Pe.AUTHORIZATION_ERROR?wa.HIGH:e.code===Pe.NETWORK_ERROR||e.code===Pe.SERVER_ERROR?wa.MEDIUM:e.code===Pe.VALIDATION_ERROR||e.code===Pe.BUSINESS_LOGIC_ERROR?wa.LOW:wa.MEDIUM,ph=e=>n=>{const a=En(n,e);return Vn(a,e),a},jR=e=>{switch(e.code){case Pe.NETWORK_ERROR:return"Please check your internet connection and try again.";case Pe.AUTHENTICATION_ERROR:return"Please log in to continue.";case Pe.AUTHORIZATION_ERROR:return"You don't have permission to perform this action.";case Pe.NOT_FOUND_ERROR:return"The requested item was not found.";case Pe.VALIDATION_ERROR:return"Please check your input and try again.";case Pe.BUSINESS_LOGIC_ERROR:return e.message||"This operation cannot be completed.";case Pe.TIMEOUT_ERROR:return"The request took too long. Please try again.";case Pe.RATE_LIMIT_ERROR:return"Too many requests. Please wait a moment and try again.";default:return"Something went wrong. Please try again or contact support if the problem persists."}},cy=async(e,n=3,a=1e3)=>{let i;for(let l=1;l<=n;l++)try{return await e()}catch(o){if(i=o,o.code===Pe.VALIDATION_ERROR||o.code===Pe.AUTHORIZATION_ERROR||o.code===Pe.BUSINESS_LOGIC_ERROR)throw o;l<n&&(await new Promise(c=>setTimeout(c,a)),a*=2)}throw i},qf=(e,n="")=>async(...a)=>{try{return await e(...a)}catch(i){const l=En(i,n);throw Vn(l,n),l}},M_=6048e5,MR=864e5,k_=6e4,vh=36e5,dy=Symbol.for("constructDateFrom");function Wn(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&dy in e?e[dy](n):e instanceof Date?new e.constructor(n):new Date(n)}function st(e,n){return Wn(n||e,e)}function kR(e,n,a){const i=st(e,a?.in);return isNaN(n)?Wn(e,NaN):(n&&i.setDate(i.getDate()+n),i)}function UR(e,n,a){return Wn(e,+st(e)+n)}function LR(e,n,a){return UR(e,n*vh)}let PR={};function Fu(){return PR}function ns(e,n){const a=Fu(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,l=st(e,n?.in),o=l.getDay(),c=(o<i?7:0)+o-i;return l.setDate(l.getDate()-c),l.setHours(0,0,0,0),l}function Ru(e,n){return ns(e,{...n,weekStartsOn:1})}function U_(e,n){const a=st(e,n?.in),i=a.getFullYear(),l=Wn(a,0);l.setFullYear(i+1,0,4),l.setHours(0,0,0,0);const o=Ru(l),c=Wn(a,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const f=Ru(c);return a.getTime()>=o.getTime()?i+1:a.getTime()>=f.getTime()?i:i-1}function fy(e){const n=st(e),a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return a.setUTCFullYear(n.getFullYear()),+e-+a}function L_(e,...n){const a=Wn.bind(null,n.find(i=>typeof i=="object"));return n.map(a)}function jl(e,n){const a=st(e,n?.in);return a.setHours(0,0,0,0),a}function HR(e,n,a){const[i,l]=L_(a?.in,e,n),o=jl(i),c=jl(l),f=+o-fy(o),h=+c-fy(c);return Math.round((f-h)/MR)}function zR(e,n){const a=U_(e,n),i=Wn(e,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),Ru(i)}function FR(e,n,a){const[i,l]=L_(a?.in,e,n);return+jl(i)==+jl(l)}function IR(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $R(e){return!(!IR(e)&&typeof e!="number"||isNaN(+st(e)))}function BR(e,n){const a=st(e,n?.in);return a.setHours(23,59,59,999),a}function VR(e,n){const a=st(e,n?.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function qR(e,n){const a=n?.weekStartsOn,i=st(e,n?.in),l=i.getDay(),o=(l<a?-7:0)+6-(l-a);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const GR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},YR=(e,n,a)=>{let i;const l=GR[e];return typeof l=="string"?i=l:n===1?i=l.one:i=l.other.replace("{{count}}",n.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+i:i+" ago":i};function yf(e){return(n={})=>{const a=n.width?String(n.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const KR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},WR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QR={date:yf({formats:KR,defaultWidth:"full"}),time:yf({formats:XR,defaultWidth:"full"}),dateTime:yf({formats:WR,defaultWidth:"full"})},ZR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JR=(e,n,a,i)=>ZR[e];function dl(e){return(n,a)=>{const i=a?.context?String(a.context):"standalone";let l;if(i==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,f=a?.width?String(a.width):c;l=e.formattingValues[f]||e.formattingValues[c]}else{const c=e.defaultWidth,f=a?.width?String(a.width):e.defaultWidth;l=e.values[f]||e.values[c]}const o=e.argumentCallback?e.argumentCallback(n):n;return l[o]}}const eC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sC=(e,n)=>{const a=Number(e),i=a%100;if(i>20||i<10)switch(i%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},lC={ordinalNumber:sC,era:dl({values:eC,defaultWidth:"wide"}),quarter:dl({values:tC,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dl({values:nC,defaultWidth:"wide"}),day:dl({values:rC,defaultWidth:"wide"}),dayPeriod:dl({values:aC,defaultWidth:"wide",formattingValues:iC,defaultFormattingWidth:"wide"})};function fl(e){return(n,a={})=>{const i=a.width,l=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],o=n.match(l);if(!o)return null;const c=o[0],f=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(f)?uC(f,y=>y.test(c)):oC(f,y=>y.test(c));let m;m=e.valueCallback?e.valueCallback(h):h,m=a.valueCallback?a.valueCallback(m):m;const v=n.slice(c.length);return{value:m,rest:v}}}function oC(e,n){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&n(e[a]))return a}function uC(e,n){for(let a=0;a<e.length;a++)if(n(e[a]))return a}function cC(e){return(n,a={})=>{const i=n.match(e.matchPattern);if(!i)return null;const l=i[0],o=n.match(e.parsePattern);if(!o)return null;let c=e.valueCallback?e.valueCallback(o[0]):o[0];c=a.valueCallback?a.valueCallback(c):c;const f=n.slice(l.length);return{value:c,rest:f}}}const dC=/^(\d+)(th|st|nd|rd)?/i,fC=/\d+/i,hC={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gC={any:[/^b/i,/^(a|c)/i]},mC={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pC={any:[/1/i,/2/i,/3/i,/4/i]},vC={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yC={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_C={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SC={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},EC={ordinalNumber:cC({matchPattern:dC,parsePattern:fC,valueCallback:e=>parseInt(e,10)}),era:fl({matchPatterns:hC,defaultMatchWidth:"wide",parsePatterns:gC,defaultParseWidth:"any"}),quarter:fl({matchPatterns:mC,defaultMatchWidth:"wide",parsePatterns:pC,defaultParseWidth:"any",valueCallback:e=>e+1}),month:fl({matchPatterns:vC,defaultMatchWidth:"wide",parsePatterns:yC,defaultParseWidth:"any"}),day:fl({matchPatterns:_C,defaultMatchWidth:"wide",parsePatterns:bC,defaultParseWidth:"any"}),dayPeriod:fl({matchPatterns:wC,defaultMatchWidth:"any",parsePatterns:SC,defaultParseWidth:"any"})},xC={code:"en-US",formatDistance:YR,formatLong:QR,formatRelative:JR,localize:lC,match:EC,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RC(e,n){const a=st(e,n?.in);return HR(a,VR(a))+1}function CC(e,n){const a=st(e,n?.in),i=+Ru(a)-+zR(a);return Math.round(i/M_)+1}function P_(e,n){const a=st(e,n?.in),i=a.getFullYear(),l=Fu(),o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,c=Wn(n?.in||e,0);c.setFullYear(i+1,0,o),c.setHours(0,0,0,0);const f=ns(c,n),h=Wn(n?.in||e,0);h.setFullYear(i,0,o),h.setHours(0,0,0,0);const m=ns(h,n);return+a>=+f?i+1:+a>=+m?i:i-1}function TC(e,n){const a=Fu(),i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=P_(e,n),o=Wn(n?.in||e,0);return o.setFullYear(l,0,i),o.setHours(0,0,0,0),ns(o,n)}function AC(e,n){const a=st(e,n?.in),i=+ns(a,n)-+TC(a,n);return Math.round(i/M_)+1}function Ge(e,n){const a=e<0?"-":"",i=Math.abs(e).toString().padStart(n,"0");return a+i}const pa={y(e,n){const a=e.getFullYear(),i=a>0?a:1-a;return Ge(n==="yy"?i%100:i,n.length)},M(e,n){const a=e.getMonth();return n==="M"?String(a+1):Ge(a+1,2)},d(e,n){return Ge(e.getDate(),n.length)},a(e,n){const a=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(e,n){return Ge(e.getHours()%12||12,n.length)},H(e,n){return Ge(e.getHours(),n.length)},m(e,n){return Ge(e.getMinutes(),n.length)},s(e,n){return Ge(e.getSeconds(),n.length)},S(e,n){const a=n.length,i=e.getMilliseconds(),l=Math.trunc(i*Math.pow(10,a-3));return Ge(l,n.length)}},Ki={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hy={G:function(e,n,a){const i=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return a.era(i,{width:"abbreviated"});case"GGGGG":return a.era(i,{width:"narrow"});case"GGGG":default:return a.era(i,{width:"wide"})}},y:function(e,n,a){if(n==="yo"){const i=e.getFullYear(),l=i>0?i:1-i;return a.ordinalNumber(l,{unit:"year"})}return pa.y(e,n)},Y:function(e,n,a,i){const l=P_(e,i),o=l>0?l:1-l;if(n==="YY"){const c=o%100;return Ge(c,2)}return n==="Yo"?a.ordinalNumber(o,{unit:"year"}):Ge(o,n.length)},R:function(e,n){const a=U_(e);return Ge(a,n.length)},u:function(e,n){const a=e.getFullYear();return Ge(a,n.length)},Q:function(e,n,a){const i=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Ge(i,2);case"Qo":return a.ordinalNumber(i,{unit:"quarter"});case"QQQ":return a.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,a){const i=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Ge(i,2);case"qo":return a.ordinalNumber(i,{unit:"quarter"});case"qqq":return a.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,a){const i=e.getMonth();switch(n){case"M":case"MM":return pa.M(e,n);case"Mo":return a.ordinalNumber(i+1,{unit:"month"});case"MMM":return a.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,a){const i=e.getMonth();switch(n){case"L":return String(i+1);case"LL":return Ge(i+1,2);case"Lo":return a.ordinalNumber(i+1,{unit:"month"});case"LLL":return a.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,a,i){const l=AC(e,i);return n==="wo"?a.ordinalNumber(l,{unit:"week"}):Ge(l,n.length)},I:function(e,n,a){const i=CC(e);return n==="Io"?a.ordinalNumber(i,{unit:"week"}):Ge(i,n.length)},d:function(e,n,a){return n==="do"?a.ordinalNumber(e.getDate(),{unit:"date"}):pa.d(e,n)},D:function(e,n,a){const i=RC(e);return n==="Do"?a.ordinalNumber(i,{unit:"dayOfYear"}):Ge(i,n.length)},E:function(e,n,a){const i=e.getDay();switch(n){case"E":case"EE":case"EEE":return a.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(i,{width:"short",context:"formatting"});case"EEEE":default:return a.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,a,i){const l=e.getDay(),o=(l-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Ge(o,2);case"eo":return a.ordinalNumber(o,{unit:"day"});case"eee":return a.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(l,{width:"short",context:"formatting"});case"eeee":default:return a.day(l,{width:"wide",context:"formatting"})}},c:function(e,n,a,i){const l=e.getDay(),o=(l-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Ge(o,n.length);case"co":return a.ordinalNumber(o,{unit:"day"});case"ccc":return a.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(l,{width:"narrow",context:"standalone"});case"cccccc":return a.day(l,{width:"short",context:"standalone"});case"cccc":default:return a.day(l,{width:"wide",context:"standalone"})}},i:function(e,n,a){const i=e.getDay(),l=i===0?7:i;switch(n){case"i":return String(l);case"ii":return Ge(l,n.length);case"io":return a.ordinalNumber(l,{unit:"day"});case"iii":return a.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(i,{width:"short",context:"formatting"});case"iiii":default:return a.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,a){const l=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,n,a){const i=e.getHours();let l;switch(i===12?l=Ki.noon:i===0?l=Ki.midnight:l=i/12>=1?"pm":"am",n){case"b":case"bb":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,n,a){const i=e.getHours();let l;switch(i>=17?l=Ki.evening:i>=12?l=Ki.afternoon:i>=4?l=Ki.morning:l=Ki.night,n){case"B":case"BB":case"BBB":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,n,a){if(n==="ho"){let i=e.getHours()%12;return i===0&&(i=12),a.ordinalNumber(i,{unit:"hour"})}return pa.h(e,n)},H:function(e,n,a){return n==="Ho"?a.ordinalNumber(e.getHours(),{unit:"hour"}):pa.H(e,n)},K:function(e,n,a){const i=e.getHours()%12;return n==="Ko"?a.ordinalNumber(i,{unit:"hour"}):Ge(i,n.length)},k:function(e,n,a){let i=e.getHours();return i===0&&(i=24),n==="ko"?a.ordinalNumber(i,{unit:"hour"}):Ge(i,n.length)},m:function(e,n,a){return n==="mo"?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):pa.m(e,n)},s:function(e,n,a){return n==="so"?a.ordinalNumber(e.getSeconds(),{unit:"second"}):pa.s(e,n)},S:function(e,n){return pa.S(e,n)},X:function(e,n,a){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return my(i);case"XXXX":case"XX":return Ya(i);case"XXXXX":case"XXX":default:return Ya(i,":")}},x:function(e,n,a){const i=e.getTimezoneOffset();switch(n){case"x":return my(i);case"xxxx":case"xx":return Ya(i);case"xxxxx":case"xxx":default:return Ya(i,":")}},O:function(e,n,a){const i=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+gy(i,":");case"OOOO":default:return"GMT"+Ya(i,":")}},z:function(e,n,a){const i=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+gy(i,":");case"zzzz":default:return"GMT"+Ya(i,":")}},t:function(e,n,a){const i=Math.trunc(+e/1e3);return Ge(i,n.length)},T:function(e,n,a){return Ge(+e,n.length)}};function gy(e,n=""){const a=e>0?"-":"+",i=Math.abs(e),l=Math.trunc(i/60),o=i%60;return o===0?a+String(l):a+String(l)+n+Ge(o,2)}function my(e,n){return e%60===0?(e>0?"-":"+")+Ge(Math.abs(e)/60,2):Ya(e,n)}function Ya(e,n=""){const a=e>0?"-":"+",i=Math.abs(e),l=Ge(Math.trunc(i/60),2),o=Ge(i%60,2);return a+l+n+o}const py=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},H_=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},OC=(e,n)=>{const a=e.match(/(P+)(p+)?/)||[],i=a[1],l=a[2];if(!l)return py(e,n);let o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",py(i,n)).replace("{{time}}",H_(l,n))},DC={p:H_,P:OC},NC=/^D+$/,jC=/^Y+$/,MC=["D","DD","YY","YYYY"];function kC(e){return NC.test(e)}function UC(e){return jC.test(e)}function LC(e,n,a){const i=PC(e,n,a);if(console.warn(i),MC.includes(e))throw new RangeError(i)}function PC(e,n,a){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${i} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const HC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,FC=/^'([^]*?)'?$/,IC=/''/g,$C=/[a-zA-Z]/;function BC(e,n,a){const i=Fu(),l=i.locale??xC,o=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f=st(e,a?.in);if(!$R(f))throw new RangeError("Invalid time value");let h=n.match(zC).map(v=>{const y=v[0];if(y==="p"||y==="P"){const _=DC[y];return _(v,l.formatLong)}return v}).join("").match(HC).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:VC(v)};if(hy[y])return{isToken:!0,value:v};if(y.match($C))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});l.localize.preprocessor&&(h=l.localize.preprocessor(f,h));const m={firstWeekContainsDate:o,weekStartsOn:c,locale:l};return h.map(v=>{if(!v.isToken)return v.value;const y=v.value;(UC(y)||kC(y))&&LC(y,n,String(e));const _=hy[y[0]];return _(f,y,l.localize,m)}).join("")}function VC(e){const n=e.match(FC);return n?n[1].replace(IC,"'"):e}function qC(e,n){return+st(e)>+st(n)}function GC(e,n){return+st(e)<+st(n)}function fu(e,n){const a=()=>Wn(n?.in,NaN),l=WC(e);let o;if(l.date){const m=QC(l.date,2);o=ZC(m.restDateString,m.year)}if(!o||isNaN(+o))return a();const c=+o;let f=0,h;if(l.time&&(f=JC(l.time),isNaN(f)))return a();if(l.timezone){if(h=eT(l.timezone),isNaN(h))return a()}else{const m=new Date(c+f),v=st(0,n?.in);return v.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),v.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),v}return st(c+f+h,n?.in)}const hu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},YC=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,KC=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,XC=/^([+-])(\d{2})(?::?(\d{2}))?$/;function WC(e){const n={},a=e.split(hu.dateTimeDelimiter);let i;if(a.length>2)return n;if(/:/.test(a[0])?i=a[0]:(n.date=a[0],i=a[1],hu.timeZoneDelimiter.test(n.date)&&(n.date=e.split(hu.timeZoneDelimiter)[0],i=e.substr(n.date.length,e.length))),i){const l=hu.timezone.exec(i);l?(n.time=i.replace(l[1],""),n.timezone=l[1]):n.time=i}return n}function QC(e,n){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),i=e.match(a);if(!i)return{year:NaN,restDateString:""};const l=i[1]?parseInt(i[1]):null,o=i[2]?parseInt(i[2]):null;return{year:o===null?l:o*100,restDateString:e.slice((i[1]||i[2]).length)}}function ZC(e,n){if(n===null)return new Date(NaN);const a=e.match(YC);if(!a)return new Date(NaN);const i=!!a[4],l=hl(a[1]),o=hl(a[2])-1,c=hl(a[3]),f=hl(a[4]),h=hl(a[5])-1;if(i)return iT(n,f,h)?tT(n,f,h):new Date(NaN);{const m=new Date(0);return!rT(n,o,c)||!aT(n,l)?new Date(NaN):(m.setUTCFullYear(n,o,Math.max(l,c)),m)}}function hl(e){return e?parseInt(e):1}function JC(e){const n=e.match(KC);if(!n)return NaN;const a=_f(n[1]),i=_f(n[2]),l=_f(n[3]);return sT(a,i,l)?a*vh+i*k_+l*1e3:NaN}function _f(e){return e&&parseFloat(e.replace(",","."))||0}function eT(e){if(e==="Z")return 0;const n=e.match(XC);if(!n)return 0;const a=n[1]==="+"?-1:1,i=parseInt(n[2]),l=n[3]&&parseInt(n[3])||0;return lT(i,l)?a*(i*vh+l*k_):NaN}function tT(e,n,a){const i=new Date(0);i.setUTCFullYear(e,0,4);const l=i.getUTCDay()||7,o=(n-1)*7+a+1-l;return i.setUTCDate(i.getUTCDate()+o),i}const nT=[31,null,31,30,31,30,31,31,30,31,30,31];function z_(e){return e%400===0||e%4===0&&e%100!==0}function rT(e,n,a){return n>=0&&n<=11&&a>=1&&a<=(nT[n]||(z_(e)?29:28))}function aT(e,n){return n>=1&&n<=(z_(e)?366:365)}function iT(e,n,a){return n>=1&&n<=53&&a>=0&&a<=6}function sT(e,n,a){return e===24?n===0&&a===0:a>=0&&a<60&&n>=0&&n<60&&e>=0&&e<25}function lT(e,n){return n>=0&&n<=59}function vy(e,n,a){const i=st(e,a?.in);return i.setHours(n),i}function yy(e,n,a){const i=st(e,a?.in);return i.setMilliseconds(n),i}function _y(e,n,a){const i=st(e,a?.in);return i.setMinutes(n),i}function by(e,n,a){const i=st(e,a?.in);return i.setSeconds(n),i}function Zt(e){return BC(e,"yyyy-MM-dd")}function oT(e,n,a){if(!e.scheduled_start_time||!e.scheduled_end_time)return!1;const i=fu(e.scheduled_start_time),l=fu(e.scheduled_end_time),o=yy(by(_y(vy(fu(n),a),0),0),0),c=yy(by(_y(vy(fu(n),a+1),0),0),0);return GC(i,c)&&qC(l,o)}function F_(e){return ns(e,{weekStartsOn:0})}function uT(e){return qR(e,{weekStartsOn:0})}function r1(e){return jl(e)}function a1(e){return BR(e)}function i1(e,n){return FR(e,n)}function wy(e,n){return LR(e,n)}function Ml(e,n){return kR(e,n)}class cT{async init(){try{const{error:n}=await Ze.from("machines").select("count").limit(1);if(n)throw new Error(`API initialization failed: ${n.message}`);return!0}catch(n){throw n}}async getMachines(){return qf(async()=>{const{data:n,error:a}=await Ze.from("machines").select("*").order("machine_name");if(a)throw a;return n||[]},"getMachines")()}async addMachine(n){try{const{data:a,error:i}=await Ze.from("machines").insert([n]).select().single();if(i)throw i;return a}catch(a){throw new Error(`Failed to add machine: ${Vt(a)}`)}}async updateMachine(n,a){try{const{data:i,error:l}=await Ze.from("machines").update(a).eq("id",n).select().single();if(l)throw l;return i}catch(i){throw new Error(`Failed to update machine: ${Vt(i)}`)}}async removeMachine(n){try{const{error:a}=await Ze.from("machines").delete().eq("id",n);if(a)throw a;return!0}catch(a){throw new Error(`Failed to remove machine: ${Vt(a)}`)}}async getOdpOrders(){try{const{data:n,error:a}=await Ze.from("odp_orders").select("*").order("created_at",{ascending:!1});if(a)throw a;return n||[]}catch(n){throw new Error(`Failed to fetch ODP orders: ${Vt(n)}`)}}async addOdpOrder(n){try{const{data:a,error:i}=await Ze.from("odp_orders").insert([n]).select().single();if(i)throw i;return a}catch(a){throw new Error(`Failed to add ODP order: ${Vt(a)}`)}}async updateOdpOrder(n,a){try{const{data:i,error:l}=await Ze.from("odp_orders").update(a).eq("id",n).select().single();if(l)throw l;return i}catch(i){throw new Error(`Failed to update ODP order: ${Vt(i)}`)}}async removeOdpOrder(n){try{const{error:a}=await Ze.from("odp_orders").delete().eq("id",n);if(a)throw a;return!0}catch(a){throw new Error(`Failed to remove ODP order: ${Vt(a)}`)}}async getPhases(){try{const{data:n,error:a}=await Ze.from("phases").select("*").order("name");if(a)throw a;return n||[]}catch(n){throw new Error(`Failed to fetch phases: ${Vt(n)}`)}}async addPhase(n){try{const{data:a,error:i}=await Ze.from("phases").insert([n]).select().single();if(i)throw i;return a}catch(a){throw new Error(`Failed to add phase: ${Vt(a)}`)}}async updatePhase(n,a){try{const{data:i,error:l}=await Ze.from("phases").update(a).eq("id",n).select().single();if(l)throw l;return i}catch(i){throw new Error(`Failed to update phase: ${Vt(i)}`)}}async removePhase(n){try{const{error:a}=await Ze.from("phases").delete().eq("id",n);if(a)throw a;return!0}catch(a){throw new Error(`Failed to remove phase: ${Vt(a)}`)}}async getMachineAvailabilityForDateRange(n,a,i){try{const{data:l,error:o}=await Ze.from("machine_availability").select("*").eq("machine_id",n).gte("date",a).lte("date",i).order("date");if(o)throw o;return l||[]}catch(l){throw new Error(`Failed to fetch machine availability for date range: ${Vt(l)}`)}}async getMachineAvailabilityForDate(n,a){try{const{data:i,error:l}=await Ze.from("machine_availability").select("*").eq("machine_id",n).eq("date",a).maybeSingle();if(l)throw l;return i||null}catch(i){throw new Error(`Failed to fetch machine availability: ${Vt(i)}`)}}async getMachineAvailability(n,a){try{return(await this.getMachineAvailabilityForDate(n,a))?.unavailable_hours||[]}catch{return[]}}async setMachineAvailability(n,a,i){try{const{data:l,error:o}=await Ze.from("machine_availability").upsert([{machine_id:n,date:a,unavailable_hours:i}],{onConflict:"machine_id,date"}).select().single();if(o)throw o;return l}catch(l){throw new Error(`Failed to set machine availability: ${Vt(l)}`)}}async getMachineAvailabilityForDateAllMachines(n){try{const{data:a,error:i}=await Ze.from("machine_availability").select("*").eq("date",n);if(i)throw i;return a||[]}catch(a){throw new Error(`Failed to fetch machine availability for all machines: ${Vt(a)}`)}}async getEventsByDate(n){try{const{data:a,error:i}=await Ze.from("machine_availability").select("*").eq("date",n);if(i)throw i;return a||[]}catch(a){throw new Error(`Failed to fetch events by date: ${Vt(a)}`)}}async setUnavailableHoursForRange(n,a,i,l,o){try{const c=parseInt(l.split(":")[0]),f=parseInt(o.split(":")[0]),h=[];for(let w=c;w<f;w++)h.push(w.toString());const m=new Date(a),v=new Date(i);let y=new Date(m);const _=[];for(;y<=v;){const w=Zt(y),R=(await this.getMachineAvailabilityForDate(n,w))?.unavailable_hours||[],C=[...new Set([...R,...h])].sort((D,A)=>parseInt(D)-parseInt(A)),T=await this.setMachineAvailability(n,w,C);_.push(T),y=Ml(y,1)}return _}catch(c){throw new Error(`Failed to set unavailable hours for range: ${Vt(c)}`)}}setupRealtimeSubscriptions(n,a,i){return Ze.channel("table-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"odp_orders"},n).on("postgres_changes",{event:"*",schema:"public",table:"machines"},a).on("postgres_changes",{event:"*",schema:"public",table:"phases"},i).subscribe(o=>{})}cleanupRealtimeSubscriptions(n){if(n)try{n.unsubscribe()}catch{}}}const We=new cT,Te=ls((e,n)=>({isLoading:!1,isInitialized:!1,selectedWorkCenter:Ce.BOTH,alert:{message:"",type:"info",isVisible:!1},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},getLoadingState:()=>n().isLoading,getInitializationState:()=>n().isInitialized,getSelectedWorkCenter:()=>n().selectedWorkCenter,getAlert:()=>n().alert,getConfirmDialog:()=>n().confirmDialog,setLoading:a=>e({isLoading:a}),setInitialized:a=>e({isInitialized:a}),setSelectedWorkCenter:a=>e({selectedWorkCenter:a}),showAlert:(a,i="info")=>e({alert:{message:a,type:i,isVisible:!0}}),hideAlert:()=>e({alert:{message:"",type:"info",isVisible:!1}}),showConfirmDialog:(a,i,l,o="danger")=>e({confirmDialog:{isOpen:!0,title:a,message:i,onConfirm:l,type:o}}),hideConfirmDialog:()=>e({confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}}),reset:()=>e({isLoading:!1,isInitialized:!1,selectedWorkCenter:Ce.BOTH,alert:{message:"",type:"info",isVisible:!1},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}})})),dT=(e,n)=>{const a=ph("Machine");return{addMachine:async i=>{try{const{selectedWorkCenter:l}=Te.getState();if(l&&l!==Ce.BOTH&&i.work_center&&i.work_center!==l)throw new Error(`Cannot add Machine with different work center. Selected: ${l}, Item: ${i.work_center}`);const o=await We.addMachine(i);return e(c=>({machines:[...c.machines,o]})),Te.getState().showAlert(`Machine "${i?.machine_name||"Unknown"}" added successfully`,"success"),o}catch(l){const o=a(l);throw Te.getState().showAlert(o.message,"error"),o}},updateMachine:async(i,l)=>{try{const o=n().machines.find(f=>f.id===i),c=await We.updateMachine(i,l);return e(f=>({machines:f.machines.map(h=>h.id===i?{...h,...c}:h)})),Te.getState().showAlert(`Machine "${o?.machine_name||"Unknown"}" updated successfully`,"success"),c}catch(o){const c=a(o);throw Te.getState().showAlert(c.message,"error"),c}},removeMachine:async i=>{try{const l=n().machines.find(o=>o.id===i);return await We.removeMachine(i),e(o=>({machines:o.machines.filter(c=>c.id!==i)})),Te.getState().showAlert(`Machine "${l?.machine_name||"Unknown"}" deleted successfully`,"success"),!0}catch(l){const o=a(l);throw Te.getState().showAlert(o.message,"error"),o}}}},zt=ls((e,n)=>({machines:[],getMachines:()=>n().machines,getMachineById:a=>n().machines.find(i=>i.id===a),getMachinesByWorkCenter:a=>a===Ce.BOTH?n().machines:n().machines.filter(i=>i.work_center===a),setMachines:a=>e({machines:a||[]}),...dT(e,n),cleanupDuplicateMachines:()=>{const a=n(),i=[],l=new Set;a.machines.forEach(o=>{l.has(o.id)||(l.add(o.id),i.push(o))}),e({machines:i})},reset:()=>e({machines:[]})})),fT=(e,n)=>{const a=ph("OdpOrder");return{addOdpOrder:async i=>{try{const{selectedWorkCenter:l}=Te.getState();if(l&&l!==Ce.BOTH&&i.work_center&&i.work_center!==l)throw new Error(`Cannot add ODP Order with different work center. Selected: ${l}, Item: ${i.work_center}`);const o=await We.addOdpOrder(i);return e(c=>({odpOrders:[...c.odpOrders,o]})),Te.getState().showAlert(`ODP Order "${i?.odp_number||"Unknown"}" added successfully`,"success"),o}catch(l){const o=a(l);throw Te.getState().showAlert(o.message,"error"),o}},updateOdpOrder:async(i,l)=>{try{const o=n().odpOrders.find(f=>f.id===i),c=await We.updateOdpOrder(i,l);return e(f=>({odpOrders:f.odpOrders.map(h=>h.id===i?{...h,...c}:h)})),Te.getState().showAlert(`ODP Order "${o?.odp_number||"Unknown"}" updated successfully`,"success"),c}catch(o){const c=a(o);throw Te.getState().showAlert(c.message,"error"),c}},removeOdpOrder:async i=>{try{const l=n().odpOrders.find(o=>o.id===i);return await We.removeOdpOrder(i),e(o=>({odpOrders:o.odpOrders.filter(c=>c.id!==i)})),Te.getState().showAlert(`ODP Order "${l?.odp_number||"Unknown"}" deleted successfully`,"success"),!0}catch(l){const o=a(l);throw Te.getState().showAlert(o.message,"error"),o}}}},Dt=ls((e,n)=>({odpOrders:[],getOdpOrders:()=>n().odpOrders,getOdpOrderById:a=>n().odpOrders.find(i=>i.id===a),getOdpOrdersByWorkCenter:a=>a===Ce.BOTH?n().odpOrders:n().odpOrders.filter(i=>i.work_center===a),getScheduledOrders:()=>n().odpOrders.filter(a=>a.status==="SCHEDULED"),getUnscheduledOrders:()=>n().odpOrders.filter(a=>a.status==="NOT SCHEDULED"),setOdpOrders:a=>e({odpOrders:a||[]}),...fT(e,n),cleanupDuplicateOrders:()=>{const a=n(),i=[],l=new Set;a.odpOrders.forEach(o=>{l.has(o.id)||(l.add(o.id),i.push(o))}),e({odpOrders:i})},reset:()=>e({odpOrders:[]})})),hT=(e,n)=>{const a=ph("Phase");return{addPhase:async i=>{try{const{selectedWorkCenter:l}=Te.getState();if(l&&l!==Ce.BOTH&&i.work_center&&i.work_center!==l)throw new Error(`Cannot add Phase with different work center. Selected: ${l}, Item: ${i.work_center}`);const o=await We.addPhase(i);return e(c=>({phases:[...c.phases,o]})),Te.getState().showAlert(`Phase "${i?.name||"Unknown"}" added successfully`,"success"),o}catch(l){const o=a(l);throw Te.getState().showAlert(o.message,"error"),o}},updatePhase:async(i,l)=>{try{const o=n().phases.find(f=>f.id===i),c=await We.updatePhase(i,l);return e(f=>({phases:f.phases.map(h=>h.id===i?{...h,...c}:h)})),Te.getState().showAlert(`Phase "${o?.name||"Unknown"}" updated successfully`,"success"),c}catch(o){const c=a(o);throw Te.getState().showAlert(c.message,"error"),c}},removePhase:async i=>{try{const l=n().phases.find(o=>o.id===i);return await We.removePhase(i),e(o=>({phases:o.phases.filter(c=>c.id!==i)})),Te.getState().showAlert(`Phase "${l?.name||"Unknown"}" deleted successfully`,"success"),!0}catch(l){const o=a(l);throw Te.getState().showAlert(o.message,"error"),o}}}},qn=ls((e,n)=>({phases:[],getPhases:()=>n().phases,getPhaseById:a=>n().phases.find(i=>i.id===a),getPhasesByWorkCenter:a=>a===Ce.BOTH?n().phases:n().phases.filter(i=>i.work_center===a),setPhases:a=>e({phases:a||[]}),...hT(e,n),cleanupDuplicatePhases:()=>{const a=n(),i=[],l=new Set;a.phases.forEach(o=>{l.has(o.id)||(l.add(o.id),i.push(o))}),e({phases:i})},reset:()=>e({phases:[]})})),Ji=ls((e,n)=>({machineAvailability:{},getMachineAvailability:()=>n().machineAvailability,setMachineAvailability:a=>e({machineAvailability:a}),scheduleTaskFromSlot:async(a,i,l,o,c)=>{try{const{getOdpOrderById:f}=Dt.getState(),{getMachineById:h}=zt.getState(),m=f(a),v=h(i.id);if(!m||!v)return{error:"Task or machine not found"};const y=new Date(l);y.setHours(o,c,0,0);const _=m.time_remaining||m.duration||1,w=wy(y,_),S={machine:i.id,start_time:y.toISOString(),end_time:w.toISOString()};return await n().scheduleTask(a,S)}catch{return{error:"An error occurred during scheduling"}}},rescheduleTaskToSlot:async(a,i,l,o,c)=>{try{const{getOdpOrderById:f}=Dt.getState(),{getMachineById:h}=zt.getState(),m=f(a),v=h(i.id);if(!m||!v)return{error:"Event or machine not found"};const y=new Date(l);y.setHours(o,c,0,0);const _=m.time_remaining||m.duration||1,w=wy(y,_),S={machine:i.id,start_time:y.toISOString(),end_time:w.toISOString()};return await n().scheduleTask(a,S)}catch{return{error:"An error occurred during rescheduling"}}},validateSlotAvailability:async(a,i,l,o)=>{try{const c=Zt(i);if(await n().isTimeSlotUnavailable(a.id,c,l))return{error:"Cannot schedule task on unavailable time slot"};const{getOdpOrders:h}=Dt.getState(),m=new Date(i);m.setHours(l,o,0,0);const v=new Date(m.getTime()+3600*1e3),y=h().filter(_=>_.scheduled_machine_id===a.id&&_.status==="SCHEDULED"&&_.scheduled_start_time);for(const _ of y){const w=new Date(_.scheduled_start_time),S=_.time_remaining||_.duration||1,R=new Date(w.getTime()+S*60*60*1e3);if(m<R&&v>w)return{error:"Cannot schedule task on occupied time slot"}}return{success:!0}}catch{return{error:"Error validating slot availability"}}},scheduleTask:async(a,i)=>{const{getOdpOrderById:l}=Dt.getState(),{getMachineById:o}=zt.getState(),c=l(a),f=o(i.machine);if(c&&f&&c.work_center&&f.work_center&&c.work_center!==f.work_center)return{error:`Work center mismatch: task requires '${c.work_center}' but machine is '${f.work_center}'`};const{getOdpOrders:h}=Dt.getState(),m=h().filter(C=>C.scheduled_machine_id===i.machine&&C.status==="SCHEDULED"&&C.id!==a),v=new Date(i.start_time),y=new Date(i.end_time);for(const C of m){const T=new Date(C.scheduled_start_time),D=C.time_remaining||C.duration||1,A=new Date(T.getTime()+D*60*60*1e3);if(v<A&&y>T)return{error:`Task overlaps with existing scheduled task: ${C.odp_number}`}}const _=Zt(v),w=n().machineAvailability[_];if(w&&Array.isArray(w)){const C=w.find(T=>T.machine_id===i.machine);if(C&&C.unavailable_hours&&Array.isArray(C.unavailable_hours)){const T=new Date(v.getFullYear(),v.getMonth(),v.getDate());for(const D of C.unavailable_hours){const A=new Date(T.getTime()+parseInt(D)*60*60*1e3),$=new Date(A.getTime()+3600*1e3);if(v<$&&y>A)return{error:`Task overlaps with unavailable slot at hour ${D}:00`}}}}const S={scheduled_machine_id:i.machine,scheduled_start_time:i.start_time,scheduled_end_time:i.end_time,production_start:i.start_time,production_end:i.end_time,color:i.color,status:"SCHEDULED"},{updateOdpOrder:R}=Dt.getState();return await R(a,S),{success:!0}},unscheduleTask:async a=>{const i={scheduled_machine_id:null,scheduled_start_time:null,scheduled_end_time:null,production_start:null,production_end:null,color:null,status:"NOT SCHEDULED"},{updateOdpOrder:l}=Dt.getState();await l(a,i)},loadMachineAvailabilityForDateRange:async(a,i,l)=>{const o=i instanceof Date?Zt(i):i,c=l instanceof Date?Zt(l):l;try{const f=await We.getMachineAvailabilityForDateRange(a,o,c);return e(h=>{const m={...h.machineAvailability};return Array.isArray(f)&&f.forEach(v=>{if(v.date&&v.unavailable_hours){const y=v.date;m[y]||(m[y]=[]);const _=m[y].find(w=>w.machine_id===a);_?_.unavailable_hours=v.unavailable_hours:m[y].push({machine_id:a,date:y,unavailable_hours:v.unavailable_hours})}}),{machineAvailability:m}}),f}catch(f){throw f}},getMachineAvailabilityForDate:async(a,i)=>{try{return await We.getMachineAvailabilityForDate(a,i)}catch{return[]}},setMachineAvailability:async(a,i,l)=>{try{const{getOdpOrders:o}=Dt.getState(),c=o().filter(v=>v.scheduled_machine_id===a&&v.status==="SCHEDULED"&&v.scheduled_start_time&&v.scheduled_end_time),f=new Date(i),h=new Date(f.getFullYear(),f.getMonth(),f.getDate()),m=new Date(h.getTime()+1440*60*1e3);for(const v of c){const y=new Date(v.scheduled_start_time),_=new Date(v.scheduled_end_time);if(y<m&&_>h)for(const w of l){const S=new Date(h.getTime()+parseInt(w)*60*60*1e3),R=new Date(S.getTime()+3600*1e3);if(S<_&&R>y)throw new Error(`Cannot set machine unavailable during scheduled task: ${v.odp_number}`)}}return await We.setMachineAvailability(a,i,l),e(v=>{const y={...v.machineAvailability};y[i]||(y[i]=[]);const _=y[i].find(w=>w.machine_id===a);return _?_.unavailable_hours=l:y[i].push({machine_id:a,date:i,unavailable_hours:l}),{machineAvailability:y}}),Te.getState().showAlert(`Machine availability updated successfully for ${i}`,"success"),!0}catch(o){const c=En(o,"Machine Availability");throw Te.getState().showAlert(c.message,"error"),c}},toggleMachineHourAvailability:async(a,i,l)=>{try{const o=await n().getMachineAvailability(a,i),c=l.toString();let f;return o.includes(c)?f=o.filter(h=>h!==c):f=[...o,c].sort((h,m)=>parseInt(h)-parseInt(m)),await We.setMachineAvailability(a,i,f),e(h=>{const m={...h.machineAvailability};m[i]||(m[i]=[]);const v=m[i].find(y=>y.machine_id===a);return v?v.unavailable_hours=f:m[i].push({machine_id:a,date:i,unavailable_hours:f}),{machineAvailability:m}}),Te.getState().showAlert(`Time slot ${c}:00 updated successfully`,"success"),!0}catch(o){const c=En(o,"Machine Availability");throw Te.getState().showAlert(c.message,"error"),c}},loadMachineAvailabilityForDate:async a=>{const{machineAvailability:i}=n();if(!i[a]?._loading&&!(i[a]&&i[a].length>=0)){e(l=>({machineAvailability:{...l.machineAvailability,[a]:{_loading:!0}}}));try{const l=await We.getMachineAvailabilityForDateAllMachines(a);e(o=>({machineAvailability:{...o.machineAvailability,[a]:l||[]}}))}catch(l){throw e(o=>{const c={...o.machineAvailability};return c[a]&&delete c[a]._loading,{machineAvailability:c}}),l}}},loadMachineAvailabilityForMachine:async(a,i,l)=>{const o={};try{try{await We.getMachineAvailabilityForDate("test","2025-01-01")}catch{return{}}let c=new Date(i);for(;c<=l;){const f=Zt(c);n().machineAvailability[f]||await n().loadMachineAvailabilityForDate(f);const m=n().machineAvailability[f];if(Array.isArray(m)){const v=m.find(y=>y.machine_id===a);v&&(o[f]=v.unavailable_hours||[])}c=Ml(c,1)}return o}catch{return{}}},getMachineAvailability:async(a,i)=>{try{const l=n().machineAvailability[i];if(l&&Array.isArray(l)){const c=l.find(f=>f.machine_id===a);if(c)return c.unavailable_hours||[]}const o=await We.getMachineAvailabilityForDate(a,i);if(o){const c=(o.unavailable_hours||[]).map(f=>f.toString());return e(f=>{const h={...f.machineAvailability};h[i]||(h[i]=[]);const m=h[i].find(v=>v.machine_id===a);return m?m.unavailable_hours=c:h[i].push({machine_id:a,date:i,unavailable_hours:c}),{machineAvailability:h}}),c}return[]}catch{return[]}},isTimeSlotUnavailable:async(a,i,l)=>(await n().getMachineAvailability(a,i)).includes(l.toString()),initializeEmptyMachineAvailability:()=>{const{machines:a}=zt.getState(),{machineAvailability:i}=n(),l={...i};a.forEach(o=>{l[o.id]||(l[o.id]={})}),e({machineAvailability:l})},getEventsByDate:async a=>{try{return await We.getEventsByDate(a)}catch{return[]}},setMachineUnavailability:async(a,i,l,o,c)=>{try{const f=await We.setUnavailableHoursForRange(a,i,l,o,c),h=new Date(i),m=new Date(l),v=await n().loadMachineAvailabilityForDateRange(a,h,m);return v&&Array.isArray(v)&&e(y=>{const _={...y.machineAvailability};return v.forEach(w=>{if(w.date&&w.unavailable_hours){const S=Zt(new Date(w.date));_[S]||(_[S]=[]);const R=_[S].find(C=>C.machine_id===a);R?R.unavailable_hours=w.unavailable_hours:_[S].push({machine_id:a,date:S,unavailable_hours:w.unavailable_hours})}}),{machineAvailability:_}}),f}catch(f){throw f}},isMachineAvailabilityAccessible:async()=>{try{return await We.getMachineAvailabilityForDateAllMachines("2025-01-01"),!0}catch{return!1}},getMachineAvailabilityStatus:async()=>{try{const a=await n().isMachineAvailabilityAccessible();return{accessible:a,message:a?"Table is accessible":"Table is not accessible - check permissions or table existence"}}catch(a){return{accessible:!1,message:`Error checking table: ${a.message}`}}},reset:()=>e({machineAvailability:{}})})),gT=(e,n)=>{const a=o=>{pT(o)},i=o=>{vT(o)},l=o=>{yT(o)};return We.setupRealtimeSubscriptions(a,i,l)},Gf=()=>{window.realtimeChannel&&(We.cleanupRealtimeSubscriptions(window.realtimeChannel),window.realtimeChannel=null)};let Sl=null;typeof window<"u"&&(Sl=()=>{Gf()},window.addEventListener("beforeunload",Sl));const mT=()=>{typeof window<"u"&&Sl&&(window.removeEventListener("beforeunload",Sl),Sl=null)},pT=(e,n,a)=>{const{eventType:i,newRecord:l,oldRecord:o}=e,{setOdpOrders:c,getOdpOrders:f}=Dt.getState();switch(i){case"INSERT":c([...f(),l]);break;case"UPDATE":c(f().map(h=>h.id===l.id?l:h));break;case"DELETE":c(f().filter(h=>h.id!==o.id));break}},vT=(e,n,a)=>{const{eventType:i,newRecord:l,oldRecord:o}=e,{setMachines:c,getMachines:f}=zt.getState();switch(i){case"INSERT":c([...f(),l]);break;case"UPDATE":c(f().map(h=>h.id===l.id?l:h));break;case"DELETE":c(f().filter(h=>h.id!==o.id));break}},yT=(e,n,a)=>{const{eventType:i,newRecord:l,oldRecord:o}=e,{setPhases:c,getPhases:f}=qn.getState();switch(i){case"INSERT":c([...f(),l]);break;case"UPDATE":c(f().map(h=>h.id===l.id?l:h));break;case"DELETE":c(f().filter(h=>h.id!==o.id));break}},Za=ls((e,n)=>({init:async()=>{const{getInitializationState:a,setLoading:i,setInitialized:l,showAlert:o}=Te.getState(),{setMachines:c}=zt.getState(),{setOdpOrders:f}=Dt.getState(),{setPhases:h}=qn.getState(),{initializeEmptyMachineAvailability:m}=Ji.getState();if(!a()){i(!0);try{let v=!1,y=0;const _=3;for(;!v&&y<_;)try{await We.init(),v=!0}catch(C){y++;const T=En(C,"API Service Initialization");if(y>=_)throw Vn(T,"API Service Initialization - Final Attempt Failed"),i(!1),l(!1),o("Unable to connect to the server. Please check your internet connection and refresh the page.","error"),new Qt("API service initialization failed after multiple attempts","CRITICAL_INIT_ERROR",503,T,"Store Initialization");const D=Math.min(1e3*Math.pow(2,y-1),1e4);await new Promise(A=>setTimeout(A,D)),o(`Connection attempt ${y} failed. Retrying...`,"warning")}let w=[],S=[],R=[];try{w=await We.getMachines()}catch(C){const T=En(C,"Machines Data Fetch");Vn(T,"Machines Data Fetch Failed"),o("Warning: Unable to load machine data. Some features may be limited.","warning")}try{S=await We.getOdpOrders()}catch(C){const T=En(C,"Orders Data Fetch");Vn(T,"Orders Data Fetch Failed"),o("Warning: Unable to load order data. Some features may be limited.","warning")}try{R=await We.getPhases()}catch(C){const T=En(C,"Phases Data Fetch");Vn(T,"Phases Data Fetch Failed"),o("Warning: Unable to load phase data. Some features may be limited.","warning")}try{const C=[],T=new Set;if(w&&w.length>0&&w.forEach(A=>{T.has(A.id)||(T.add(A.id),C.push(A))}),c(C),f(S||[]),h(R||[]),m(),!window.realtimeChannel)try{const A=gT(e,n);A&&(window.realtimeChannel=A)}catch(A){const $=En(A,"Real-time Subscriptions Setup");Vn($,"Real-time Subscriptions Setup Failed"),o("Warning: Real-time updates are not available. Data may not update automatically.","warning")}i(!1),l(!0);const D=C.length+(S?.length||0)+(R?.length||0);D>0?o(`Application initialized successfully. Loaded ${D} data items.`,"success"):o("Application initialized with limited functionality due to data loading issues.","warning")}catch(C){const T=En(C,"Data Processing");throw Vn(T,"Data Processing Failed"),i(!1),l(!1),o("Failed to process application data. Please refresh the page.","error"),T}}catch(v){const y=v instanceof Qt?v:En(v,"Store Initialization");throw Vn(y,"Store Initialization - Unexpected Error"),i(!1),l(!1),y.code==="CRITICAL_INIT_ERROR"?o("Critical initialization error. Please contact support if the problem persists.","error"):o("Application initialization failed. Please refresh the page or contact support.","error"),y}}},refreshData:async()=>{const{setLoading:a}=Te.getState(),{setMachines:i}=zt.getState(),{setOdpOrders:l}=Dt.getState(),{setPhases:o}=qn.getState();a(!0);try{const[c,f,h]=await Promise.all([We.getMachines(),We.getOdpOrders(),We.getPhases()]);i(c||[]),l(f||[]),o(h||[]),a(!1)}catch{a(!1)}},debugData:()=>{const{getMachines:a}=zt.getState(),{getOdpOrders:i}=Dt.getState(),{getPhases:l}=qn.getState(),o=a().map(h=>h.id);o.filter((h,m)=>o.indexOf(h)!==m);const c=i().map(h=>h.id);c.filter((h,m)=>c.indexOf(h)!==m);const f=l().map(h=>h.id);f.filter((h,m)=>f.indexOf(h)!==m)},cleanupDuplicates:()=>{const{cleanupDuplicateMachines:a}=zt.getState(),{cleanupDuplicateOrders:i}=Dt.getState(),{cleanupDuplicatePhases:l}=qn.getState();a(),i(),l()},reset:()=>{Gf();const{reset:a}=zt.getState(),{reset:i}=Dt.getState(),{reset:l}=qn.getState(),{reset:o}=Ji.getState(),{reset:c}=Te.getState();a(),i(),l(),o(),c()},cleanup:()=>{Gf(),mT()},getState:()=>{const{getMachines:a}=zt.getState(),{getOdpOrders:i}=Dt.getState(),{getPhases:l}=qn.getState(),{getMachineAvailability:o}=Ji.getState(),{getLoadingState:c,getInitializationState:f}=Te.getState();return{machines:a(),odpOrders:i(),phases:l(),machineAvailability:o(),isLoading:c(),isInitialized:f()}}}));function _T(){const{user:e,signOut:n}=Il(),{selectedWorkCenter:a}=Te(),i=hr(),l=Hl(),o=[{href:"/",label:"Home",icon:""},{href:"/machinery",label:"Machinery",icon:""},{href:"/phases",label:"Phases",icon:""},{href:"/backlog",label:"Backlog",icon:""},{href:"/scheduler",label:"Scheduler",icon:""}],c=async()=>{try{await n(),l("/login")}catch(f){console.error("Sign out error:",f)}};return e?p.jsxs("nav",{className:"sidebar",children:[p.jsx("div",{className:"sidebar-logo",children:p.jsxs(xn,{to:"/",children:[p.jsx("span",{style:{color:"#3498DB"},children:"flex"}),p.jsx("span",{style:{color:"#27AE60"},children:"i"})]})}),p.jsxs("div",{className:"sidebar-links",children:[p.jsx("h3",{className:"sidebar-section-title",children:"Navigation"}),o.map(f=>p.jsx(xn,{to:f.href,className:`sidebar-link ${i.pathname===f.href?"active":""}`,children:p.jsx("span",{children:f.label})},f.href))]}),p.jsxs("div",{className:"sidebar-user",children:[p.jsx("div",{className:"user-avatar",children:e.email?e.email.charAt(0).toUpperCase():"U"}),p.jsxs("div",{className:"user-info",children:[p.jsx("div",{className:"user-email",children:e.email}),a&&p.jsxs("div",{className:"work-center-badge",children:["WC: ",a]}),p.jsx("div",{className:"realtime-status",children:p.jsx("span",{className:"status-indicator disconnected",children:"OFFLINE"})})]})]}),p.jsxs("div",{className:"sidebar-actions",children:[p.jsx("h3",{className:"sidebar-section-title",children:"Account"}),p.jsx("button",{onClick:c,className:"sidebar-action-btn signout-btn",children:p.jsx("span",{children:"Sign Out"})})]})]}):p.jsxs("nav",{className:"sidebar",children:[p.jsx("div",{className:"sidebar-logo",children:p.jsxs(xn,{to:"/login",children:[p.jsx("span",{style:{color:"#3498DB"},children:"flex"}),p.jsx("span",{style:{color:"#27AE60"},children:"i"})]})}),p.jsxs("div",{className:"sidebar-links",children:[p.jsx("h3",{className:"sidebar-section-title",children:"Navigation"}),p.jsx(xn,{to:"/login",className:"sidebar-link",children:p.jsx("span",{children:"Login"})}),p.jsx(xn,{to:"/signup",className:"sidebar-link",children:p.jsx("span",{children:"Sign Up"})})]})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Sa(e,n){return typeof e=="function"?e(n):e}function Rn(e,n){return a=>{n.setState(i=>({...i,[e]:Sa(a,i[e])}))}}function Iu(e){return e instanceof Function}function bT(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function wT(e,n){const a=[],i=l=>{l.forEach(o=>{a.push(o);const c=n(o);c!=null&&c.length&&i(c)})};return i(e),a}function xe(e,n,a){let i=[],l;return o=>{let c;a.key&&a.debug&&(c=Date.now());const f=e(o);if(!(f.length!==i.length||f.some((v,y)=>i[y]!==v)))return l;i=f;let m;if(a.key&&a.debug&&(m=Date.now()),l=n(...f),a==null||a.onChange==null||a.onChange(l),a.key&&a.debug&&a!=null&&a.debug()){const v=Math.round((Date.now()-c)*100)/100,y=Math.round((Date.now()-m)*100)/100,_=y/16,w=(S,R)=>{for(S=String(S);S.length<R;)S=" "+S;return S};console.info(`%c ${w(y,5)} /${w(v,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*_,120))}deg 100% 31%);`,a?.key)}return l}}function Re(e,n,a,i){return{debug:()=>{var l;return(l=e?.debugAll)!=null?l:e[n]},key:!1,onChange:i}}function ST(e,n,a,i){const l=()=>{var c;return(c=o.getValue())!=null?c:e.options.renderFallbackValue},o={id:`${n.id}_${a.id}`,row:n,column:a,getValue:()=>n.getValue(i),renderValue:l,getContext:xe(()=>[e,a,n,o],(c,f,h,m)=>({table:c,column:f,row:h,cell:m,getValue:m.getValue,renderValue:m.renderValue}),Re(e.options,"debugCells"))};return e._features.forEach(c=>{c.createCell==null||c.createCell(o,a,n,e)},{}),o}function ET(e,n,a,i){var l,o;const f={...e._getDefaultColumnDef(),...n},h=f.accessorKey;let m=(l=(o=f.id)!=null?o:h?typeof String.prototype.replaceAll=="function"?h.replaceAll(".","_"):h.replace(/\./g,"_"):void 0)!=null?l:typeof f.header=="string"?f.header:void 0,v;if(f.accessorFn?v=f.accessorFn:h&&(h.includes(".")?v=_=>{let w=_;for(const R of h.split(".")){var S;w=(S=w)==null?void 0:S[R]}return w}:v=_=>_[f.accessorKey]),!m)throw new Error;let y={id:`${String(m)}`,accessorFn:v,parent:i,depth:a,columnDef:f,columns:[],getFlatColumns:xe(()=>[!0],()=>{var _;return[y,...(_=y.columns)==null?void 0:_.flatMap(w=>w.getFlatColumns())]},Re(e.options,"debugColumns")),getLeafColumns:xe(()=>[e._getOrderColumnsFn()],_=>{var w;if((w=y.columns)!=null&&w.length){let S=y.columns.flatMap(R=>R.getLeafColumns());return _(S)}return[y]},Re(e.options,"debugColumns"))};for(const _ of e._features)_.createColumn==null||_.createColumn(y,e);return y}const Wt="debugHeaders";function Sy(e,n,a){var i;let o={id:(i=a.id)!=null?i:n.id,column:n,index:a.index,isPlaceholder:!!a.isPlaceholder,placeholderId:a.placeholderId,depth:a.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const c=[],f=h=>{h.subHeaders&&h.subHeaders.length&&h.subHeaders.map(f),c.push(h)};return f(o),c},getContext:()=>({table:e,header:o,column:n})};return e._features.forEach(c=>{c.createHeader==null||c.createHeader(o,e)}),o}const xT={createTable:e=>{e.getHeaderGroups=xe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,a,i,l)=>{var o,c;const f=(o=i?.map(y=>a.find(_=>_.id===y)).filter(Boolean))!=null?o:[],h=(c=l?.map(y=>a.find(_=>_.id===y)).filter(Boolean))!=null?c:[],m=a.filter(y=>!(i!=null&&i.includes(y.id))&&!(l!=null&&l.includes(y.id)));return gu(n,[...f,...m,...h],e)},Re(e.options,Wt)),e.getCenterHeaderGroups=xe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,a,i,l)=>(a=a.filter(o=>!(i!=null&&i.includes(o.id))&&!(l!=null&&l.includes(o.id))),gu(n,a,e,"center")),Re(e.options,Wt)),e.getLeftHeaderGroups=xe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,a,i)=>{var l;const o=(l=i?.map(c=>a.find(f=>f.id===c)).filter(Boolean))!=null?l:[];return gu(n,o,e,"left")},Re(e.options,Wt)),e.getRightHeaderGroups=xe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,a,i)=>{var l;const o=(l=i?.map(c=>a.find(f=>f.id===c)).filter(Boolean))!=null?l:[];return gu(n,o,e,"right")},Re(e.options,Wt)),e.getFooterGroups=xe(()=>[e.getHeaderGroups()],n=>[...n].reverse(),Re(e.options,Wt)),e.getLeftFooterGroups=xe(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),Re(e.options,Wt)),e.getCenterFooterGroups=xe(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),Re(e.options,Wt)),e.getRightFooterGroups=xe(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),Re(e.options,Wt)),e.getFlatHeaders=xe(()=>[e.getHeaderGroups()],n=>n.map(a=>a.headers).flat(),Re(e.options,Wt)),e.getLeftFlatHeaders=xe(()=>[e.getLeftHeaderGroups()],n=>n.map(a=>a.headers).flat(),Re(e.options,Wt)),e.getCenterFlatHeaders=xe(()=>[e.getCenterHeaderGroups()],n=>n.map(a=>a.headers).flat(),Re(e.options,Wt)),e.getRightFlatHeaders=xe(()=>[e.getRightHeaderGroups()],n=>n.map(a=>a.headers).flat(),Re(e.options,Wt)),e.getCenterLeafHeaders=xe(()=>[e.getCenterFlatHeaders()],n=>n.filter(a=>{var i;return!((i=a.subHeaders)!=null&&i.length)}),Re(e.options,Wt)),e.getLeftLeafHeaders=xe(()=>[e.getLeftFlatHeaders()],n=>n.filter(a=>{var i;return!((i=a.subHeaders)!=null&&i.length)}),Re(e.options,Wt)),e.getRightLeafHeaders=xe(()=>[e.getRightFlatHeaders()],n=>n.filter(a=>{var i;return!((i=a.subHeaders)!=null&&i.length)}),Re(e.options,Wt)),e.getLeafHeaders=xe(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,a,i)=>{var l,o,c,f,h,m;return[...(l=(o=n[0])==null?void 0:o.headers)!=null?l:[],...(c=(f=a[0])==null?void 0:f.headers)!=null?c:[],...(h=(m=i[0])==null?void 0:m.headers)!=null?h:[]].map(v=>v.getLeafHeaders()).flat()},Re(e.options,Wt))}};function gu(e,n,a,i){var l,o;let c=0;const f=function(_,w){w===void 0&&(w=1),c=Math.max(c,w),_.filter(S=>S.getIsVisible()).forEach(S=>{var R;(R=S.columns)!=null&&R.length&&f(S.columns,w+1)},0)};f(e);let h=[];const m=(_,w)=>{const S={depth:w,id:[i,`${w}`].filter(Boolean).join("_"),headers:[]},R=[];_.forEach(C=>{const T=[...R].reverse()[0],D=C.column.depth===S.depth;let A,$=!1;if(D&&C.column.parent?A=C.column.parent:(A=C.column,$=!0),T&&T?.column===A)T.subHeaders.push(C);else{const U=Sy(a,A,{id:[i,w,A.id,C?.id].filter(Boolean).join("_"),isPlaceholder:$,placeholderId:$?`${R.filter(Z=>Z.column===A).length}`:void 0,depth:w,index:R.length});U.subHeaders.push(C),R.push(U)}S.headers.push(C),C.headerGroup=S}),h.push(S),w>0&&m(R,w-1)},v=n.map((_,w)=>Sy(a,_,{depth:c,index:w}));m(v,c-1),h.reverse();const y=_=>_.filter(S=>S.column.getIsVisible()).map(S=>{let R=0,C=0,T=[0];S.subHeaders&&S.subHeaders.length?(T=[],y(S.subHeaders).forEach(A=>{let{colSpan:$,rowSpan:U}=A;R+=$,T.push(U)})):R=1;const D=Math.min(...T);return C=C+D,S.colSpan=R,S.rowSpan=C,{colSpan:R,rowSpan:C}});return y((l=(o=h[0])==null?void 0:o.headers)!=null?l:[]),h}const RT=(e,n,a,i,l,o,c)=>{let f={id:n,index:i,original:a,depth:l,parentId:c,_valuesCache:{},_uniqueValuesCache:{},getValue:h=>{if(f._valuesCache.hasOwnProperty(h))return f._valuesCache[h];const m=e.getColumn(h);if(m!=null&&m.accessorFn)return f._valuesCache[h]=m.accessorFn(f.original,i),f._valuesCache[h]},getUniqueValues:h=>{if(f._uniqueValuesCache.hasOwnProperty(h))return f._uniqueValuesCache[h];const m=e.getColumn(h);if(m!=null&&m.accessorFn)return m.columnDef.getUniqueValues?(f._uniqueValuesCache[h]=m.columnDef.getUniqueValues(f.original,i),f._uniqueValuesCache[h]):(f._uniqueValuesCache[h]=[f.getValue(h)],f._uniqueValuesCache[h])},renderValue:h=>{var m;return(m=f.getValue(h))!=null?m:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>wT(f.subRows,h=>h.subRows),getParentRow:()=>f.parentId?e.getRow(f.parentId,!0):void 0,getParentRows:()=>{let h=[],m=f;for(;;){const v=m.getParentRow();if(!v)break;h.push(v),m=v}return h.reverse()},getAllCells:xe(()=>[e.getAllLeafColumns()],h=>h.map(m=>ST(e,f,m,m.id)),Re(e.options,"debugRows")),_getAllCellsByColumnId:xe(()=>[f.getAllCells()],h=>h.reduce((m,v)=>(m[v.column.id]=v,m),{}),Re(e.options,"debugRows"))};for(let h=0;h<e._features.length;h++){const m=e._features[h];m==null||m.createRow==null||m.createRow(f,e)}return f},CT={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},I_=(e,n,a)=>{var i,l;const o=a==null||(i=a.toString())==null?void 0:i.toLowerCase();return!!(!((l=e.getValue(n))==null||(l=l.toString())==null||(l=l.toLowerCase())==null)&&l.includes(o))};I_.autoRemove=e=>Kn(e);const $_=(e,n,a)=>{var i;return!!(!((i=e.getValue(n))==null||(i=i.toString())==null)&&i.includes(a))};$_.autoRemove=e=>Kn(e);const B_=(e,n,a)=>{var i;return((i=e.getValue(n))==null||(i=i.toString())==null?void 0:i.toLowerCase())===a?.toLowerCase()};B_.autoRemove=e=>Kn(e);const V_=(e,n,a)=>{var i;return(i=e.getValue(n))==null?void 0:i.includes(a)};V_.autoRemove=e=>Kn(e);const q_=(e,n,a)=>!a.some(i=>{var l;return!((l=e.getValue(n))!=null&&l.includes(i))});q_.autoRemove=e=>Kn(e)||!(e!=null&&e.length);const G_=(e,n,a)=>a.some(i=>{var l;return(l=e.getValue(n))==null?void 0:l.includes(i)});G_.autoRemove=e=>Kn(e)||!(e!=null&&e.length);const Y_=(e,n,a)=>e.getValue(n)===a;Y_.autoRemove=e=>Kn(e);const K_=(e,n,a)=>e.getValue(n)==a;K_.autoRemove=e=>Kn(e);const yh=(e,n,a)=>{let[i,l]=a;const o=e.getValue(n);return o>=i&&o<=l};yh.resolveFilterValue=e=>{let[n,a]=e,i=typeof n!="number"?parseFloat(n):n,l=typeof a!="number"?parseFloat(a):a,o=n===null||Number.isNaN(i)?-1/0:i,c=a===null||Number.isNaN(l)?1/0:l;if(o>c){const f=o;o=c,c=f}return[o,c]};yh.autoRemove=e=>Kn(e)||Kn(e[0])&&Kn(e[1]);const Hr={includesString:I_,includesStringSensitive:$_,equalsString:B_,arrIncludes:V_,arrIncludesAll:q_,arrIncludesSome:G_,equals:Y_,weakEquals:K_,inNumberRange:yh};function Kn(e){return e==null||e===""}const TT={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Rn("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const a=n.getCoreRowModel().flatRows[0],i=a?.getValue(e.id);return typeof i=="string"?Hr.includesString:typeof i=="number"?Hr.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?Hr.equals:Array.isArray(i)?Hr.arrIncludes:Hr.weakEquals},e.getFilterFn=()=>{var a,i;return Iu(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(a=(i=n.options.filterFns)==null?void 0:i[e.columnDef.filterFn])!=null?a:Hr[e.columnDef.filterFn]},e.getCanFilter=()=>{var a,i,l;return((a=e.columnDef.enableColumnFilter)!=null?a:!0)&&((i=n.options.enableColumnFilters)!=null?i:!0)&&((l=n.options.enableFilters)!=null?l:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var a;return(a=n.getState().columnFilters)==null||(a=a.find(i=>i.id===e.id))==null?void 0:a.value},e.getFilterIndex=()=>{var a,i;return(a=(i=n.getState().columnFilters)==null?void 0:i.findIndex(l=>l.id===e.id))!=null?a:-1},e.setFilterValue=a=>{n.setColumnFilters(i=>{const l=e.getFilterFn(),o=i?.find(v=>v.id===e.id),c=Sa(a,o?o.value:void 0);if(Ey(l,c,e)){var f;return(f=i?.filter(v=>v.id!==e.id))!=null?f:[]}const h={id:e.id,value:c};if(o){var m;return(m=i?.map(v=>v.id===e.id?h:v))!=null?m:[]}return i!=null&&i.length?[...i,h]:[h]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const a=e.getAllLeafColumns(),i=l=>{var o;return(o=Sa(n,l))==null?void 0:o.filter(c=>{const f=a.find(h=>h.id===c.id);if(f){const h=f.getFilterFn();if(Ey(h,c.value,f))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(i)},e.resetColumnFilters=n=>{var a,i;e.setColumnFilters(n?[]:(a=(i=e.initialState)==null?void 0:i.columnFilters)!=null?a:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Ey(e,n,a){return(e&&e.autoRemove?e.autoRemove(n,a):!1)||typeof n>"u"||typeof n=="string"&&!n}const AT=(e,n,a)=>a.reduce((i,l)=>{const o=l.getValue(e);return i+(typeof o=="number"?o:0)},0),OT=(e,n,a)=>{let i;return a.forEach(l=>{const o=l.getValue(e);o!=null&&(i>o||i===void 0&&o>=o)&&(i=o)}),i},DT=(e,n,a)=>{let i;return a.forEach(l=>{const o=l.getValue(e);o!=null&&(i<o||i===void 0&&o>=o)&&(i=o)}),i},NT=(e,n,a)=>{let i,l;return a.forEach(o=>{const c=o.getValue(e);c!=null&&(i===void 0?c>=c&&(i=l=c):(i>c&&(i=c),l<c&&(l=c)))}),[i,l]},jT=(e,n)=>{let a=0,i=0;if(n.forEach(l=>{let o=l.getValue(e);o!=null&&(o=+o)>=o&&(++a,i+=o)}),a)return i/a},MT=(e,n)=>{if(!n.length)return;const a=n.map(o=>o.getValue(e));if(!bT(a))return;if(a.length===1)return a[0];const i=Math.floor(a.length/2),l=a.sort((o,c)=>o-c);return a.length%2!==0?l[i]:(l[i-1]+l[i])/2},kT=(e,n)=>Array.from(new Set(n.map(a=>a.getValue(e))).values()),UT=(e,n)=>new Set(n.map(a=>a.getValue(e))).size,LT=(e,n)=>n.length,bf={sum:AT,min:OT,max:DT,extent:NT,mean:jT,median:MT,unique:kT,uniqueCount:UT,count:LT},PT={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,a;return(n=(a=e.getValue())==null||a.toString==null?void 0:a.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Rn("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(a=>a!=null&&a.includes(e.id)?a.filter(i=>i!==e.id):[...a??[],e.id])},e.getCanGroup=()=>{var a,i;return((a=e.columnDef.enableGrouping)!=null?a:!0)&&((i=n.options.enableGrouping)!=null?i:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var a;return(a=n.getState().grouping)==null?void 0:a.includes(e.id)},e.getGroupedIndex=()=>{var a;return(a=n.getState().grouping)==null?void 0:a.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const a=e.getCanGroup();return()=>{a&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const a=n.getCoreRowModel().flatRows[0],i=a?.getValue(e.id);if(typeof i=="number")return bf.sum;if(Object.prototype.toString.call(i)==="[object Date]")return bf.extent},e.getAggregationFn=()=>{var a,i;if(!e)throw new Error;return Iu(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(a=(i=n.options.aggregationFns)==null?void 0:i[e.columnDef.aggregationFn])!=null?a:bf[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var a,i;e.setGrouping(n?[]:(a=(i=e.initialState)==null?void 0:i.grouping)!=null?a:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=a=>{if(e._groupingValuesCache.hasOwnProperty(a))return e._groupingValuesCache[a];const i=n.getColumn(a);return i!=null&&i.columnDef.getGroupingValue?(e._groupingValuesCache[a]=i.columnDef.getGroupingValue(e.original),e._groupingValuesCache[a]):e.getValue(a)},e._groupingValuesCache={}},createCell:(e,n,a,i)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===a.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var l;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((l=a.subRows)!=null&&l.length)}}};function HT(e,n,a){if(!(n!=null&&n.length)||!a)return e;const i=e.filter(o=>!n.includes(o.id));return a==="remove"?i:[...n.map(o=>e.find(c=>c.id===o)).filter(Boolean),...i]}const zT={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Rn("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=xe(a=>[El(n,a)],a=>a.findIndex(i=>i.id===e.id),Re(n.options,"debugColumns")),e.getIsFirstColumn=a=>{var i;return((i=El(n,a)[0])==null?void 0:i.id)===e.id},e.getIsLastColumn=a=>{var i;const l=El(n,a);return((i=l[l.length-1])==null?void 0:i.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var a;e.setColumnOrder(n?[]:(a=e.initialState.columnOrder)!=null?a:[])},e._getOrderColumnsFn=xe(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,a,i)=>l=>{let o=[];if(!(n!=null&&n.length))o=l;else{const c=[...n],f=[...l];for(;f.length&&c.length;){const h=c.shift(),m=f.findIndex(v=>v.id===h);m>-1&&o.push(f.splice(m,1)[0])}o=[...o,...f]}return HT(o,a,i)},Re(e.options,"debugTable"))}},wf=()=>({left:[],right:[]}),FT={getInitialState:e=>({columnPinning:wf(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Rn("columnPinning",e)}),createColumn:(e,n)=>{e.pin=a=>{const i=e.getLeafColumns().map(l=>l.id).filter(Boolean);n.setColumnPinning(l=>{var o,c;if(a==="right"){var f,h;return{left:((f=l?.left)!=null?f:[]).filter(y=>!(i!=null&&i.includes(y))),right:[...((h=l?.right)!=null?h:[]).filter(y=>!(i!=null&&i.includes(y))),...i]}}if(a==="left"){var m,v;return{left:[...((m=l?.left)!=null?m:[]).filter(y=>!(i!=null&&i.includes(y))),...i],right:((v=l?.right)!=null?v:[]).filter(y=>!(i!=null&&i.includes(y)))}}return{left:((o=l?.left)!=null?o:[]).filter(y=>!(i!=null&&i.includes(y))),right:((c=l?.right)!=null?c:[]).filter(y=>!(i!=null&&i.includes(y)))}})},e.getCanPin=()=>e.getLeafColumns().some(i=>{var l,o,c;return((l=i.columnDef.enablePinning)!=null?l:!0)&&((o=(c=n.options.enableColumnPinning)!=null?c:n.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const a=e.getLeafColumns().map(f=>f.id),{left:i,right:l}=n.getState().columnPinning,o=a.some(f=>i?.includes(f)),c=a.some(f=>l?.includes(f));return o?"left":c?"right":!1},e.getPinnedIndex=()=>{var a,i;const l=e.getIsPinned();return l?(a=(i=n.getState().columnPinning)==null||(i=i[l])==null?void 0:i.indexOf(e.id))!=null?a:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=xe(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(a,i,l)=>{const o=[...i??[],...l??[]];return a.filter(c=>!o.includes(c.column.id))},Re(n.options,"debugRows")),e.getLeftVisibleCells=xe(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(a,i)=>(i??[]).map(o=>a.find(c=>c.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),Re(n.options,"debugRows")),e.getRightVisibleCells=xe(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(a,i)=>(i??[]).map(o=>a.find(c=>c.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),Re(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var a,i;return e.setColumnPinning(n?wf():(a=(i=e.initialState)==null?void 0:i.columnPinning)!=null?a:wf())},e.getIsSomeColumnsPinned=n=>{var a;const i=e.getState().columnPinning;if(!n){var l,o;return!!((l=i.left)!=null&&l.length||(o=i.right)!=null&&o.length)}return!!((a=i[n])!=null&&a.length)},e.getLeftLeafColumns=xe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,a)=>(a??[]).map(i=>n.find(l=>l.id===i)).filter(Boolean),Re(e.options,"debugColumns")),e.getRightLeafColumns=xe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,a)=>(a??[]).map(i=>n.find(l=>l.id===i)).filter(Boolean),Re(e.options,"debugColumns")),e.getCenterLeafColumns=xe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,a,i)=>{const l=[...a??[],...i??[]];return n.filter(o=>!l.includes(o.id))},Re(e.options,"debugColumns"))}};function IT(e){return e||(typeof document<"u"?document:null)}const mu={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Sf=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),$T={getDefaultColumnDef:()=>mu,getInitialState:e=>({columnSizing:{},columnSizingInfo:Sf(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Rn("columnSizing",e),onColumnSizingInfoChange:Rn("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var a,i,l;const o=n.getState().columnSizing[e.id];return Math.min(Math.max((a=e.columnDef.minSize)!=null?a:mu.minSize,(i=o??e.columnDef.size)!=null?i:mu.size),(l=e.columnDef.maxSize)!=null?l:mu.maxSize)},e.getStart=xe(a=>[a,El(n,a),n.getState().columnSizing],(a,i)=>i.slice(0,e.getIndex(a)).reduce((l,o)=>l+o.getSize(),0),Re(n.options,"debugColumns")),e.getAfter=xe(a=>[a,El(n,a),n.getState().columnSizing],(a,i)=>i.slice(e.getIndex(a)+1).reduce((l,o)=>l+o.getSize(),0),Re(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(a=>{let{[e.id]:i,...l}=a;return l})},e.getCanResize=()=>{var a,i;return((a=e.columnDef.enableResizing)!=null?a:!0)&&((i=n.options.enableColumnResizing)!=null?i:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let a=0;const i=l=>{if(l.subHeaders.length)l.subHeaders.forEach(i);else{var o;a+=(o=l.column.getSize())!=null?o:0}};return i(e),a},e.getStart=()=>{if(e.index>0){const a=e.headerGroup.headers[e.index-1];return a.getStart()+a.getSize()}return 0},e.getResizeHandler=a=>{const i=n.getColumn(e.column.id),l=i?.getCanResize();return o=>{if(!i||!l||(o.persist==null||o.persist(),Ef(o)&&o.touches&&o.touches.length>1))return;const c=e.getSize(),f=e?e.getLeafHeaders().map(T=>[T.column.id,T.column.getSize()]):[[i.id,i.getSize()]],h=Ef(o)?Math.round(o.touches[0].clientX):o.clientX,m={},v=(T,D)=>{typeof D=="number"&&(n.setColumnSizingInfo(A=>{var $,U;const Z=n.options.columnResizeDirection==="rtl"?-1:1,J=(D-(($=A?.startOffset)!=null?$:0))*Z,X=Math.max(J/((U=A?.startSize)!=null?U:0),-.999999);return A.columnSizingStart.forEach(ne=>{let[ee,te]=ne;m[ee]=Math.round(Math.max(te+te*X,0)*100)/100}),{...A,deltaOffset:J,deltaPercentage:X}}),(n.options.columnResizeMode==="onChange"||T==="end")&&n.setColumnSizing(A=>({...A,...m})))},y=T=>v("move",T),_=T=>{v("end",T),n.setColumnSizingInfo(D=>({...D,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},w=IT(a),S={moveHandler:T=>y(T.clientX),upHandler:T=>{w?.removeEventListener("mousemove",S.moveHandler),w?.removeEventListener("mouseup",S.upHandler),_(T.clientX)}},R={moveHandler:T=>(T.cancelable&&(T.preventDefault(),T.stopPropagation()),y(T.touches[0].clientX),!1),upHandler:T=>{var D;w?.removeEventListener("touchmove",R.moveHandler),w?.removeEventListener("touchend",R.upHandler),T.cancelable&&(T.preventDefault(),T.stopPropagation()),_((D=T.touches[0])==null?void 0:D.clientX)}},C=BT()?{passive:!1}:!1;Ef(o)?(w?.addEventListener("touchmove",R.moveHandler,C),w?.addEventListener("touchend",R.upHandler,C)):(w?.addEventListener("mousemove",S.moveHandler,C),w?.addEventListener("mouseup",S.upHandler,C)),n.setColumnSizingInfo(T=>({...T,startOffset:h,startSize:c,deltaOffset:0,deltaPercentage:0,columnSizingStart:f,isResizingColumn:i.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var a;e.setColumnSizing(n?{}:(a=e.initialState.columnSizing)!=null?a:{})},e.resetHeaderSizeInfo=n=>{var a;e.setColumnSizingInfo(n?Sf():(a=e.initialState.columnSizingInfo)!=null?a:Sf())},e.getTotalSize=()=>{var n,a;return(n=(a=e.getHeaderGroups()[0])==null?void 0:a.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,a;return(n=(a=e.getLeftHeaderGroups()[0])==null?void 0:a.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,a;return(n=(a=e.getCenterHeaderGroups()[0])==null?void 0:a.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,a;return(n=(a=e.getRightHeaderGroups()[0])==null?void 0:a.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0}}};let pu=null;function BT(){if(typeof pu=="boolean")return pu;let e=!1;try{const n={get passive(){return e=!0,!1}},a=()=>{};window.addEventListener("test",a,n),window.removeEventListener("test",a)}catch{e=!1}return pu=e,pu}function Ef(e){return e.type==="touchstart"}const VT={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Rn("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=a=>{e.getCanHide()&&n.setColumnVisibility(i=>({...i,[e.id]:a??!e.getIsVisible()}))},e.getIsVisible=()=>{var a,i;const l=e.columns;return(a=l.length?l.some(o=>o.getIsVisible()):(i=n.getState().columnVisibility)==null?void 0:i[e.id])!=null?a:!0},e.getCanHide=()=>{var a,i;return((a=e.columnDef.enableHiding)!=null?a:!0)&&((i=n.options.enableHiding)!=null?i:!0)},e.getToggleVisibilityHandler=()=>a=>{e.toggleVisibility==null||e.toggleVisibility(a.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=xe(()=>[e.getAllCells(),n.getState().columnVisibility],a=>a.filter(i=>i.column.getIsVisible()),Re(n.options,"debugRows")),e.getVisibleCells=xe(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(a,i,l)=>[...a,...i,...l],Re(n.options,"debugRows"))},createTable:e=>{const n=(a,i)=>xe(()=>[i(),i().filter(l=>l.getIsVisible()).map(l=>l.id).join("_")],l=>l.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),Re(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=a=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(a),e.resetColumnVisibility=a=>{var i;e.setColumnVisibility(a?{}:(i=e.initialState.columnVisibility)!=null?i:{})},e.toggleAllColumnsVisible=a=>{var i;a=(i=a)!=null?i:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((l,o)=>({...l,[o.id]:a||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(a=>!(a.getIsVisible!=null&&a.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(a=>a.getIsVisible==null?void 0:a.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>a=>{var i;e.toggleAllColumnsVisible((i=a.target)==null?void 0:i.checked)}}};function El(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const qT={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},GT={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Rn("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var a;const i=(a=e.getCoreRowModel().flatRows[0])==null||(a=a._getAllCellsByColumnId()[n.id])==null?void 0:a.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var a,i,l,o;return((a=e.columnDef.enableGlobalFilter)!=null?a:!0)&&((i=n.options.enableGlobalFilter)!=null?i:!0)&&((l=n.options.enableFilters)!=null?l:!0)&&((o=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Hr.includesString,e.getGlobalFilterFn=()=>{var n,a;const{globalFilterFn:i}=e.options;return Iu(i)?i:i==="auto"?e.getGlobalAutoFilterFn():(n=(a=e.options.filterFns)==null?void 0:a[i])!=null?n:Hr[i]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},YT={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Rn("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,a=!1;e._autoResetExpanded=()=>{var i,l;if(!n){e._queue(()=>{n=!0});return}if((i=(l=e.options.autoResetAll)!=null?l:e.options.autoResetExpanded)!=null?i:!e.options.manualExpanding){if(a)return;a=!0,e._queue(()=>{e.resetExpanded(),a=!1})}},e.setExpanded=i=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(i),e.toggleAllRowsExpanded=i=>{i??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=i=>{var l,o;e.setExpanded(i?{}:(l=(o=e.initialState)==null?void 0:o.expanded)!=null?l:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const i=e.getState().expanded;return i===!0||Object.values(i).some(Boolean)},e.getIsAllRowsExpanded=()=>{const i=e.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||e.getRowModel().flatRows.some(l=>!l.getIsExpanded()))},e.getExpandedDepth=()=>{let i=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const c=o.split(".");i=Math.max(i,c.length)}),i},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=a=>{n.setExpanded(i=>{var l;const o=i===!0?!0:!!(i!=null&&i[e.id]);let c={};if(i===!0?Object.keys(n.getRowModel().rowsById).forEach(f=>{c[f]=!0}):c=i,a=(l=a)!=null?l:!o,!o&&a)return{...c,[e.id]:!0};if(o&&!a){const{[e.id]:f,...h}=c;return h}return i})},e.getIsExpanded=()=>{var a;const i=n.getState().expanded;return!!((a=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?a:i===!0||i?.[e.id])},e.getCanExpand=()=>{var a,i,l;return(a=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?a:((i=n.options.enableExpanding)!=null?i:!0)&&!!((l=e.subRows)!=null&&l.length)},e.getIsAllParentsExpanded=()=>{let a=!0,i=e;for(;a&&i.parentId;)i=n.getRow(i.parentId,!0),a=i.getIsExpanded();return a},e.getToggleExpandedHandler=()=>{const a=e.getCanExpand();return()=>{a&&e.toggleExpanded()}}}},Yf=0,Kf=10,xf=()=>({pageIndex:Yf,pageSize:Kf}),KT={getInitialState:e=>({...e,pagination:{...xf(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:Rn("pagination",e)}),createTable:e=>{let n=!1,a=!1;e._autoResetPageIndex=()=>{var i,l;if(!n){e._queue(()=>{n=!0});return}if((i=(l=e.options.autoResetAll)!=null?l:e.options.autoResetPageIndex)!=null?i:!e.options.manualPagination){if(a)return;a=!0,e._queue(()=>{e.resetPageIndex(),a=!1})}},e.setPagination=i=>{const l=o=>Sa(i,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(l)},e.resetPagination=i=>{var l;e.setPagination(i?xf():(l=e.initialState.pagination)!=null?l:xf())},e.setPageIndex=i=>{e.setPagination(l=>{let o=Sa(i,l.pageIndex);const c=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,c)),{...l,pageIndex:o}})},e.resetPageIndex=i=>{var l,o;e.setPageIndex(i?Yf:(l=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?l:Yf)},e.resetPageSize=i=>{var l,o;e.setPageSize(i?Kf:(l=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?l:Kf)},e.setPageSize=i=>{e.setPagination(l=>{const o=Math.max(1,Sa(i,l.pageSize)),c=l.pageSize*l.pageIndex,f=Math.floor(c/o);return{...l,pageIndex:f,pageSize:o}})},e.setPageCount=i=>e.setPagination(l=>{var o;let c=Sa(i,(o=e.options.pageCount)!=null?o:-1);return typeof c=="number"&&(c=Math.max(-1,c)),{...l,pageCount:c}}),e.getPageOptions=xe(()=>[e.getPageCount()],i=>{let l=[];return i&&i>0&&(l=[...new Array(i)].fill(null).map((o,c)=>c)),l},Re(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:i}=e.getState().pagination,l=e.getPageCount();return l===-1?!0:l===0?!1:i<l-1},e.previousPage=()=>e.setPageIndex(i=>i-1),e.nextPage=()=>e.setPageIndex(i=>i+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var i;return(i=e.options.pageCount)!=null?i:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var i;return(i=e.options.rowCount)!=null?i:e.getPrePaginationRowModel().rows.length}}},Rf=()=>({top:[],bottom:[]}),XT={getInitialState:e=>({rowPinning:Rf(),...e}),getDefaultOptions:e=>({onRowPinningChange:Rn("rowPinning",e)}),createRow:(e,n)=>{e.pin=(a,i,l)=>{const o=i?e.getLeafRows().map(h=>{let{id:m}=h;return m}):[],c=l?e.getParentRows().map(h=>{let{id:m}=h;return m}):[],f=new Set([...c,e.id,...o]);n.setRowPinning(h=>{var m,v;if(a==="bottom"){var y,_;return{top:((y=h?.top)!=null?y:[]).filter(R=>!(f!=null&&f.has(R))),bottom:[...((_=h?.bottom)!=null?_:[]).filter(R=>!(f!=null&&f.has(R))),...Array.from(f)]}}if(a==="top"){var w,S;return{top:[...((w=h?.top)!=null?w:[]).filter(R=>!(f!=null&&f.has(R))),...Array.from(f)],bottom:((S=h?.bottom)!=null?S:[]).filter(R=>!(f!=null&&f.has(R)))}}return{top:((m=h?.top)!=null?m:[]).filter(R=>!(f!=null&&f.has(R))),bottom:((v=h?.bottom)!=null?v:[]).filter(R=>!(f!=null&&f.has(R)))}})},e.getCanPin=()=>{var a;const{enableRowPinning:i,enablePinning:l}=n.options;return typeof i=="function"?i(e):(a=i??l)!=null?a:!0},e.getIsPinned=()=>{const a=[e.id],{top:i,bottom:l}=n.getState().rowPinning,o=a.some(f=>i?.includes(f)),c=a.some(f=>l?.includes(f));return o?"top":c?"bottom":!1},e.getPinnedIndex=()=>{var a,i;const l=e.getIsPinned();if(!l)return-1;const o=(a=l==="top"?n.getTopRows():n.getBottomRows())==null?void 0:a.map(c=>{let{id:f}=c;return f});return(i=o?.indexOf(e.id))!=null?i:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var a,i;return e.setRowPinning(n?Rf():(a=(i=e.initialState)==null?void 0:i.rowPinning)!=null?a:Rf())},e.getIsSomeRowsPinned=n=>{var a;const i=e.getState().rowPinning;if(!n){var l,o;return!!((l=i.top)!=null&&l.length||(o=i.bottom)!=null&&o.length)}return!!((a=i[n])!=null&&a.length)},e._getPinnedRows=(n,a,i)=>{var l;return((l=e.options.keepPinnedRows)==null||l?(a??[]).map(c=>{const f=e.getRow(c,!0);return f.getIsAllParentsExpanded()?f:null}):(a??[]).map(c=>n.find(f=>f.id===c))).filter(Boolean).map(c=>({...c,position:i}))},e.getTopRows=xe(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,a)=>e._getPinnedRows(n,a,"top"),Re(e.options,"debugRows")),e.getBottomRows=xe(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,a)=>e._getPinnedRows(n,a,"bottom"),Re(e.options,"debugRows")),e.getCenterRows=xe(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,a,i)=>{const l=new Set([...a??[],...i??[]]);return n.filter(o=>!l.has(o.id))},Re(e.options,"debugRows"))}},WT={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Rn("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var a;return e.setRowSelection(n?{}:(a=e.initialState.rowSelection)!=null?a:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(a=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const i={...a},l=e.getPreGroupedRowModel().flatRows;return n?l.forEach(o=>{o.getCanSelect()&&(i[o.id]=!0)}):l.forEach(o=>{delete i[o.id]}),i})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(a=>{const i=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),l={...a};return e.getRowModel().rows.forEach(o=>{Xf(l,o.id,i,!0,e)}),l}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=xe(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,a)=>Object.keys(n).length?Cf(e,a):{rows:[],flatRows:[],rowsById:{}},Re(e.options,"debugTable")),e.getFilteredSelectedRowModel=xe(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,a)=>Object.keys(n).length?Cf(e,a):{rows:[],flatRows:[],rowsById:{}},Re(e.options,"debugTable")),e.getGroupedSelectedRowModel=xe(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,a)=>Object.keys(n).length?Cf(e,a):{rows:[],flatRows:[],rowsById:{}},Re(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:a}=e.getState();let i=!!(n.length&&Object.keys(a).length);return i&&n.some(l=>l.getCanSelect()&&!a[l.id])&&(i=!1),i},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(l=>l.getCanSelect()),{rowSelection:a}=e.getState();let i=!!n.length;return i&&n.some(l=>!a[l.id])&&(i=!1),i},e.getIsSomeRowsSelected=()=>{var n;const a=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return a>0&&a<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(a=>a.getCanSelect()).some(a=>a.getIsSelected()||a.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(a,i)=>{const l=e.getIsSelected();n.setRowSelection(o=>{var c;if(a=typeof a<"u"?a:!l,e.getCanSelect()&&l===a)return o;const f={...o};return Xf(f,e.id,a,(c=i?.selectChildren)!=null?c:!0,n),f})},e.getIsSelected=()=>{const{rowSelection:a}=n.getState();return _h(e,a)},e.getIsSomeSelected=()=>{const{rowSelection:a}=n.getState();return Wf(e,a)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:a}=n.getState();return Wf(e,a)==="all"},e.getCanSelect=()=>{var a;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(a=n.options.enableRowSelection)!=null?a:!0},e.getCanSelectSubRows=()=>{var a;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(a=n.options.enableSubRowSelection)!=null?a:!0},e.getCanMultiSelect=()=>{var a;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(a=n.options.enableMultiRowSelection)!=null?a:!0},e.getToggleSelectedHandler=()=>{const a=e.getCanSelect();return i=>{var l;a&&e.toggleSelected((l=i.target)==null?void 0:l.checked)}}}},Xf=(e,n,a,i,l)=>{var o;const c=l.getRow(n,!0);a?(c.getCanMultiSelect()||Object.keys(e).forEach(f=>delete e[f]),c.getCanSelect()&&(e[n]=!0)):delete e[n],i&&(o=c.subRows)!=null&&o.length&&c.getCanSelectSubRows()&&c.subRows.forEach(f=>Xf(e,f.id,a,i,l))};function Cf(e,n){const a=e.getState().rowSelection,i=[],l={},o=function(c,f){return c.map(h=>{var m;const v=_h(h,a);if(v&&(i.push(h),l[h.id]=h),(m=h.subRows)!=null&&m.length&&(h={...h,subRows:o(h.subRows)}),v)return h}).filter(Boolean)};return{rows:o(n.rows),flatRows:i,rowsById:l}}function _h(e,n){var a;return(a=n[e.id])!=null?a:!1}function Wf(e,n,a){var i;if(!((i=e.subRows)!=null&&i.length))return!1;let l=!0,o=!1;return e.subRows.forEach(c=>{if(!(o&&!l)&&(c.getCanSelect()&&(_h(c,n)?o=!0:l=!1),c.subRows&&c.subRows.length)){const f=Wf(c,n);f==="all"?o=!0:(f==="some"&&(o=!0),l=!1)}}),l?"all":o?"some":!1}const Qf=/([0-9]+)/gm,QT=(e,n,a)=>X_(Ea(e.getValue(a)).toLowerCase(),Ea(n.getValue(a)).toLowerCase()),ZT=(e,n,a)=>X_(Ea(e.getValue(a)),Ea(n.getValue(a))),JT=(e,n,a)=>bh(Ea(e.getValue(a)).toLowerCase(),Ea(n.getValue(a)).toLowerCase()),eA=(e,n,a)=>bh(Ea(e.getValue(a)),Ea(n.getValue(a))),tA=(e,n,a)=>{const i=e.getValue(a),l=n.getValue(a);return i>l?1:i<l?-1:0},nA=(e,n,a)=>bh(e.getValue(a),n.getValue(a));function bh(e,n){return e===n?0:e>n?1:-1}function Ea(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function X_(e,n){const a=e.split(Qf).filter(Boolean),i=n.split(Qf).filter(Boolean);for(;a.length&&i.length;){const l=a.shift(),o=i.shift(),c=parseInt(l,10),f=parseInt(o,10),h=[c,f].sort();if(isNaN(h[0])){if(l>o)return 1;if(o>l)return-1;continue}if(isNaN(h[1]))return isNaN(c)?-1:1;if(c>f)return 1;if(f>c)return-1}return a.length-i.length}const gl={alphanumeric:QT,alphanumericCaseSensitive:ZT,text:JT,textCaseSensitive:eA,datetime:tA,basic:nA},rA={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Rn("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const a=n.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const l of a){const o=l?.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return gl.datetime;if(typeof o=="string"&&(i=!0,o.split(Qf).length>1))return gl.alphanumeric}return i?gl.text:gl.basic},e.getAutoSortDir=()=>{const a=n.getFilteredRowModel().flatRows[0];return typeof a?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var a,i;if(!e)throw new Error;return Iu(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(a=(i=n.options.sortingFns)==null?void 0:i[e.columnDef.sortingFn])!=null?a:gl[e.columnDef.sortingFn]},e.toggleSorting=(a,i)=>{const l=e.getNextSortingOrder(),o=typeof a<"u"&&a!==null;n.setSorting(c=>{const f=c?.find(w=>w.id===e.id),h=c?.findIndex(w=>w.id===e.id);let m=[],v,y=o?a:l==="desc";if(c!=null&&c.length&&e.getCanMultiSort()&&i?f?v="toggle":v="add":c!=null&&c.length&&h!==c.length-1?v="replace":f?v="toggle":v="replace",v==="toggle"&&(o||l||(v="remove")),v==="add"){var _;m=[...c,{id:e.id,desc:y}],m.splice(0,m.length-((_=n.options.maxMultiSortColCount)!=null?_:Number.MAX_SAFE_INTEGER))}else v==="toggle"?m=c.map(w=>w.id===e.id?{...w,desc:y}:w):v==="remove"?m=c.filter(w=>w.id!==e.id):m=[{id:e.id,desc:y}];return m})},e.getFirstSortDir=()=>{var a,i;return((a=(i=e.columnDef.sortDescFirst)!=null?i:n.options.sortDescFirst)!=null?a:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=a=>{var i,l;const o=e.getFirstSortDir(),c=e.getIsSorted();return c?c!==o&&((i=n.options.enableSortingRemoval)==null||i)&&(!(a&&(l=n.options.enableMultiRemove)!=null)||l)?!1:c==="desc"?"asc":"desc":o},e.getCanSort=()=>{var a,i;return((a=e.columnDef.enableSorting)!=null?a:!0)&&((i=n.options.enableSorting)!=null?i:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var a,i;return(a=(i=e.columnDef.enableMultiSort)!=null?i:n.options.enableMultiSort)!=null?a:!!e.accessorFn},e.getIsSorted=()=>{var a;const i=(a=n.getState().sorting)==null?void 0:a.find(l=>l.id===e.id);return i?i.desc?"desc":"asc":!1},e.getSortIndex=()=>{var a,i;return(a=(i=n.getState().sorting)==null?void 0:i.findIndex(l=>l.id===e.id))!=null?a:-1},e.clearSorting=()=>{n.setSorting(a=>a!=null&&a.length?a.filter(i=>i.id!==e.id):[])},e.getToggleSortingHandler=()=>{const a=e.getCanSort();return i=>{a&&(i.persist==null||i.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(i):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var a,i;e.setSorting(n?[]:(a=(i=e.initialState)==null?void 0:i.sorting)!=null?a:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},aA=[xT,VT,zT,FT,CT,TT,qT,GT,rA,PT,YT,KT,XT,WT,$T];function iA(e){var n,a;const i=[...aA,...(n=e._features)!=null?n:[]];let l={_features:i};const o=l._features.reduce((_,w)=>Object.assign(_,w.getDefaultOptions==null?void 0:w.getDefaultOptions(l)),{}),c=_=>l.options.mergeOptions?l.options.mergeOptions(o,_):{...o,..._};let h={...{},...(a=e.initialState)!=null?a:{}};l._features.forEach(_=>{var w;h=(w=_.getInitialState==null?void 0:_.getInitialState(h))!=null?w:h});const m=[];let v=!1;const y={_features:i,options:{...o,...e},initialState:h,_queue:_=>{m.push(_),v||(v=!0,Promise.resolve().then(()=>{for(;m.length;)m.shift()();v=!1}).catch(w=>setTimeout(()=>{throw w})))},reset:()=>{l.setState(l.initialState)},setOptions:_=>{const w=Sa(_,l.options);l.options=c(w)},getState:()=>l.options.state,setState:_=>{l.options.onStateChange==null||l.options.onStateChange(_)},_getRowId:(_,w,S)=>{var R;return(R=l.options.getRowId==null?void 0:l.options.getRowId(_,w,S))!=null?R:`${S?[S.id,w].join("."):w}`},getCoreRowModel:()=>(l._getCoreRowModel||(l._getCoreRowModel=l.options.getCoreRowModel(l)),l._getCoreRowModel()),getRowModel:()=>l.getPaginationRowModel(),getRow:(_,w)=>{let S=(w?l.getPrePaginationRowModel():l.getRowModel()).rowsById[_];if(!S&&(S=l.getCoreRowModel().rowsById[_],!S))throw new Error;return S},_getDefaultColumnDef:xe(()=>[l.options.defaultColumn],_=>{var w;return _=(w=_)!=null?w:{},{header:S=>{const R=S.header.column.columnDef;return R.accessorKey?R.accessorKey:R.accessorFn?R.id:null},cell:S=>{var R,C;return(R=(C=S.renderValue())==null||C.toString==null?void 0:C.toString())!=null?R:null},...l._features.reduce((S,R)=>Object.assign(S,R.getDefaultColumnDef==null?void 0:R.getDefaultColumnDef()),{}),..._}},Re(e,"debugColumns")),_getColumnDefs:()=>l.options.columns,getAllColumns:xe(()=>[l._getColumnDefs()],_=>{const w=function(S,R,C){return C===void 0&&(C=0),S.map(T=>{const D=ET(l,T,C,R),A=T;return D.columns=A.columns?w(A.columns,D,C+1):[],D})};return w(_)},Re(e,"debugColumns")),getAllFlatColumns:xe(()=>[l.getAllColumns()],_=>_.flatMap(w=>w.getFlatColumns()),Re(e,"debugColumns")),_getAllFlatColumnsById:xe(()=>[l.getAllFlatColumns()],_=>_.reduce((w,S)=>(w[S.id]=S,w),{}),Re(e,"debugColumns")),getAllLeafColumns:xe(()=>[l.getAllColumns(),l._getOrderColumnsFn()],(_,w)=>{let S=_.flatMap(R=>R.getLeafColumns());return w(S)},Re(e,"debugColumns")),getColumn:_=>l._getAllFlatColumnsById()[_]};Object.assign(l,y);for(let _=0;_<l._features.length;_++){const w=l._features[_];w==null||w.createTable==null||w.createTable(l)}return l}function sA(){return e=>xe(()=>[e.options.data],n=>{const a={rows:[],flatRows:[],rowsById:{}},i=function(l,o,c){o===void 0&&(o=0);const f=[];for(let m=0;m<l.length;m++){const v=RT(e,e._getRowId(l[m],m,c),l[m],m,o,void 0,c?.id);if(a.flatRows.push(v),a.rowsById[v.id]=v,f.push(v),e.options.getSubRows){var h;v.originalSubRows=e.options.getSubRows(l[m],m),(h=v.originalSubRows)!=null&&h.length&&(v.subRows=i(v.originalSubRows,o+1,v))}}return f};return a.rows=i(n),a},Re(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function lA(){return e=>xe(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,a)=>{if(!a.rows.length||!(n!=null&&n.length))return a;const i=e.getState().sorting,l=[],o=i.filter(h=>{var m;return(m=e.getColumn(h.id))==null?void 0:m.getCanSort()}),c={};o.forEach(h=>{const m=e.getColumn(h.id);m&&(c[h.id]={sortUndefined:m.columnDef.sortUndefined,invertSorting:m.columnDef.invertSorting,sortingFn:m.getSortingFn()})});const f=h=>{const m=h.map(v=>({...v}));return m.sort((v,y)=>{for(let w=0;w<o.length;w+=1){var _;const S=o[w],R=c[S.id],C=R.sortUndefined,T=(_=S?.desc)!=null?_:!1;let D=0;if(C){const A=v.getValue(S.id),$=y.getValue(S.id),U=A===void 0,Z=$===void 0;if(U||Z){if(C==="first")return U?-1:1;if(C==="last")return U?1:-1;D=U&&Z?0:U?C:-C}}if(D===0&&(D=R.sortingFn(v,y,S.id)),D!==0)return T&&(D*=-1),R.invertSorting&&(D*=-1),D}return v.index-y.index}),m.forEach(v=>{var y;l.push(v),(y=v.subRows)!=null&&y.length&&(v.subRows=f(v.subRows))}),m};return{rows:f(a.rows),flatRows:l,rowsById:a.rowsById}},Re(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function xy(e,n){return e?oA(e)?x.createElement(e,n):e:null}function oA(e){return uA(e)||typeof e=="function"||cA(e)}function uA(e){return typeof e=="function"&&(()=>{const n=Object.getPrototypeOf(e);return n.prototype&&n.prototype.isReactComponent})()}function cA(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function dA(e){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[a]=x.useState(()=>({current:iA(n)})),[i,l]=x.useState(()=>a.current.initialState);return a.current.setOptions(o=>({...o,...e,state:{...i,...e.state},onStateChange:c=>{l(c),e.onStateChange==null||e.onStateChange(c)}})),a.current}function wh({data:e,columns:n,onSaveRow:a,onDeleteRow:i}){const[l,o]=x.useState(null),[c,f]=x.useState({}),h=x.useMemo(()=>{const y=w=>{const S={};Object.keys(c).forEach(D=>{c[D]!==void 0&&c[D]!==""&&(S[D]=c[D])});const R={...w.original};["machines","progress","n_boxes","time_remaining"].forEach(D=>{delete R[D]});const T={...R,...S};a(T),o(null),f({})},_={id:"actions",header:"Actions",cell:({row:w})=>{const S=w.id===l;return p.jsx("div",{className:"action-buttons",children:S?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>y(w),className:"nav-btn today",children:"Save"}),p.jsx("button",{onClick:()=>o(null),className:"nav-btn today",children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>o(w.id),className:"nav-btn today",children:"Edit"}),p.jsx("button",{onClick:()=>i(w.original),className:"nav-btn today",children:"Delete"})]})})}};return[...n,_]},[n,l,c,a,i]),m=x.useMemo(()=>{if(e&&e.length>0){const y=e.map(R=>R.id);y.filter((R,C)=>y.indexOf(R)!==C).length>0;const w=new Set,S=[];e.forEach((R,C)=>{w.has(R.id)?S.push({id:R.id,index:C,item:R}):w.add(R.id)})}return e},[e]),v=dA({data:m,columns:h,getCoreRowModel:sA(),getSortedRowModel:lA(),meta:{editingRowId:l,setEditedData:f}});return p.jsx("div",{className:"table-container",children:p.jsxs("table",{className:"modern-table",children:[p.jsx("thead",{children:v.getHeaderGroups().map(y=>p.jsx("tr",{children:y.headers.map((_,w)=>{const S=`${y.id}_${_.id}_${w}`;return p.jsxs("th",{onClick:_.column.getToggleSortingHandler(),children:[xy(_.column.columnDef.header,_.getContext()),{asc:" ",desc:" "}[_.column.getIsSorted()]??null]},S)})},y.id))}),p.jsx("tbody",{children:v.getRowModel().rows.map(y=>{const _=y.original.id||y.id;return p.jsx("tr",{children:y.getVisibleCells().map((w,S)=>{const R=`${_}_${w.column.id}_${S}`;return p.jsx("td",{children:xy(w.column.columnDef.cell,w.getContext())},R)})},_)})})]})})}var $l=e=>e.type==="checkbox",Xa=e=>e instanceof Date,rn=e=>e==null;const W_=e=>typeof e=="object";var yt=e=>!rn(e)&&!Array.isArray(e)&&W_(e)&&!Xa(e),fA=e=>yt(e)&&e.target?$l(e.target)?e.target.checked:e.target.value:e,hA=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,gA=(e,n)=>e.has(hA(n)),mA=e=>{const n=e.constructor&&e.constructor.prototype;return yt(n)&&n.hasOwnProperty("isPrototypeOf")},Sh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pt(e){let n;const a=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(Sh&&(e instanceof Blob||i))&&(a||yt(e)))if(n=a?[]:Object.create(Object.getPrototypeOf(e)),!a&&!mA(e))n=e;else for(const l in e)e.hasOwnProperty(l)&&(n[l]=Pt(e[l]));else return e;return n}var $u=e=>/^\w*$/.test(e),Et=e=>e===void 0,Eh=e=>Array.isArray(e)?e.filter(Boolean):[],xh=e=>Eh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),me=(e,n,a)=>{if(!n||!yt(e))return a;const i=($u(n)?[n]:xh(n)).reduce((l,o)=>rn(l)?l:l[o],e);return Et(i)||i===e?Et(e[n])?a:e[n]:i},dr=e=>typeof e=="boolean",ot=(e,n,a)=>{let i=-1;const l=$u(n)?[n]:xh(n),o=l.length,c=o-1;for(;++i<o;){const f=l[i];let h=a;if(i!==c){const m=e[f];h=yt(m)||Array.isArray(m)?m:isNaN(+l[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=h,e=e[f]}};const Ry={BLUR:"blur",FOCUS_OUT:"focusout"},Gn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ur={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},pA=Ne.createContext(null);pA.displayName="HookFormContext";var vA=(e,n,a,i=!0)=>{const l={defaultValues:n._defaultValues};for(const o in e)Object.defineProperty(l,o,{get:()=>{const c=o;return n._proxyFormState[c]!==Gn.all&&(n._proxyFormState[c]=!i||Gn.all),e[c]}});return l};const yA=typeof window<"u"?Ne.useLayoutEffect:Ne.useEffect;var fr=e=>typeof e=="string",_A=(e,n,a,i,l)=>fr(e)?(i&&n.watch.add(e),me(a,e,l)):Array.isArray(e)?e.map(o=>(i&&n.watch.add(o),me(a,o))):(i&&(n.watchAll=!0),a),Zf=e=>rn(e)||!W_(e);function ba(e,n,a=new WeakSet){if(Zf(e)||Zf(n))return e===n;if(Xa(e)&&Xa(n))return e.getTime()===n.getTime();const i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;if(a.has(e)||a.has(n))return!0;a.add(e),a.add(n);for(const o of i){const c=e[o];if(!l.includes(o))return!1;if(o!=="ref"){const f=n[o];if(Xa(c)&&Xa(f)||yt(c)&&yt(f)||Array.isArray(c)&&Array.isArray(f)?!ba(c,f,a):c!==f)return!1}}return!0}var bA=(e,n,a,i,l)=>n?{...a[e],types:{...a[e]&&a[e].types?a[e].types:{},[i]:l||!0}}:{},xl=e=>Array.isArray(e)?e:[e],Cy=()=>{let e=[];return{get observers(){return e},next:l=>{for(const o of e)o.next&&o.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(o=>o!==l)}}),unsubscribe:()=>{e=[]}}},fn=e=>yt(e)&&!Object.keys(e).length,Rh=e=>e.type==="file",Yn=e=>typeof e=="function",Cu=e=>{if(!Sh)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},Q_=e=>e.type==="select-multiple",Ch=e=>e.type==="radio",wA=e=>Ch(e)||$l(e),Tf=e=>Cu(e)&&e.isConnected;function SA(e,n){const a=n.slice(0,-1).length;let i=0;for(;i<a;)e=Et(e)?i++:e[n[i++]];return e}function EA(e){for(const n in e)if(e.hasOwnProperty(n)&&!Et(e[n]))return!1;return!0}function St(e,n){const a=Array.isArray(n)?n:$u(n)?[n]:xh(n),i=a.length===1?e:SA(e,a),l=a.length-1,o=a[l];return i&&delete i[o],l!==0&&(yt(i)&&fn(i)||Array.isArray(i)&&EA(i))&&St(e,a.slice(0,-1)),e}var Z_=e=>{for(const n in e)if(Yn(e[n]))return!0;return!1};function Tu(e,n={}){const a=Array.isArray(e);if(yt(e)||a)for(const i in e)Array.isArray(e[i])||yt(e[i])&&!Z_(e[i])?(n[i]=Array.isArray(e[i])?[]:{},Tu(e[i],n[i])):rn(e[i])||(n[i]=!0);return n}function J_(e,n,a){const i=Array.isArray(e);if(yt(e)||i)for(const l in e)Array.isArray(e[l])||yt(e[l])&&!Z_(e[l])?Et(n)||Zf(a[l])?a[l]=Array.isArray(e[l])?Tu(e[l],[]):{...Tu(e[l])}:J_(e[l],rn(n)?{}:n[l],a[l]):a[l]=!ba(e[l],n[l]);return a}var ml=(e,n)=>J_(e,n,Tu(n));const Ty={value:!1,isValid:!1},Ay={value:!0,isValid:!0};var eb=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Et(e[0].attributes.value)?Et(e[0].value)||e[0].value===""?Ay:{value:e[0].value,isValid:!0}:Ay:Ty}return Ty},tb=(e,{valueAsNumber:n,valueAsDate:a,setValueAs:i})=>Et(e)?e:n?e===""?NaN:e&&+e:a&&fr(e)?new Date(e):i?i(e):e;const Oy={isValid:!1,value:null};var nb=e=>Array.isArray(e)?e.reduce((n,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:n,Oy):Oy;function Dy(e){const n=e.ref;return Rh(n)?n.files:Ch(n)?nb(e.refs).value:Q_(n)?[...n.selectedOptions].map(({value:a})=>a):$l(n)?eb(e.refs).value:tb(Et(n.value)?e.ref.value:n.value,e)}var xA=(e,n,a,i)=>{const l={};for(const o of e){const c=me(n,o);c&&ot(l,o,c._f)}return{criteriaMode:a,names:[...e],fields:l,shouldUseNativeValidation:i}},Au=e=>e instanceof RegExp,pl=e=>Et(e)?e:Au(e)?e.source:yt(e)?Au(e.value)?e.value.source:e.value:e,Ny=e=>({isOnSubmit:!e||e===Gn.onSubmit,isOnBlur:e===Gn.onBlur,isOnChange:e===Gn.onChange,isOnAll:e===Gn.all,isOnTouch:e===Gn.onTouched});const jy="AsyncFunction";var RA=e=>!!e&&!!e.validate&&!!(Yn(e.validate)&&e.validate.constructor.name===jy||yt(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===jy)),CA=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),My=(e,n,a)=>!a&&(n.watchAll||n.watch.has(e)||[...n.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Rl=(e,n,a,i)=>{for(const l of a||Object.keys(e)){const o=me(e,l);if(o){const{_f:c,...f}=o;if(c){if(c.refs&&c.refs[0]&&n(c.refs[0],l)&&!i)return!0;if(c.ref&&n(c.ref,c.name)&&!i)return!0;if(Rl(f,n))break}else if(yt(f)&&Rl(f,n))break}}};function ky(e,n,a){const i=me(e,a);if(i||$u(a))return{error:i,name:a};const l=a.split(".");for(;l.length;){const o=l.join("."),c=me(n,o),f=me(e,o);if(c&&!Array.isArray(c)&&a!==o)return{name:a};if(f&&f.type)return{name:o,error:f};if(f&&f.root&&f.root.type)return{name:`${o}.root`,error:f.root};l.pop()}return{name:a}}var TA=(e,n,a,i)=>{a(e);const{name:l,...o}=e;return fn(o)||Object.keys(o).length>=Object.keys(n).length||Object.keys(o).find(c=>n[c]===(!i||Gn.all))},AA=(e,n,a)=>!e||!n||e===n||xl(e).some(i=>i&&(a?i===n:i.startsWith(n)||n.startsWith(i))),OA=(e,n,a,i,l)=>l.isOnAll?!1:!a&&l.isOnTouch?!(n||e):(a?i.isOnBlur:l.isOnBlur)?!e:(a?i.isOnChange:l.isOnChange)?e:!0,DA=(e,n)=>!Eh(me(e,n)).length&&St(e,n),NA=(e,n,a)=>{const i=xl(me(e,a));return ot(i,"root",n[a]),ot(e,a,i),e},bu=e=>fr(e);function Uy(e,n,a="validate"){if(bu(e)||Array.isArray(e)&&e.every(bu)||dr(e)&&!e)return{type:a,message:bu(e)?e:"",ref:n}}var Xi=e=>yt(e)&&!Au(e)?e:{value:e,message:""},Ly=async(e,n,a,i,l,o)=>{const{ref:c,refs:f,required:h,maxLength:m,minLength:v,min:y,max:_,pattern:w,validate:S,name:R,valueAsNumber:C,mount:T}=e._f,D=me(a,R);if(!T||n.has(R))return{};const A=f?f[0]:c,$=ie=>{l&&A.reportValidity&&(A.setCustomValidity(dr(ie)?"":ie||""),A.reportValidity())},U={},Z=Ch(c),J=$l(c),X=Z||J,ne=(C||Rh(c))&&Et(c.value)&&Et(D)||Cu(c)&&c.value===""||D===""||Array.isArray(D)&&!D.length,ee=bA.bind(null,R,i,U),te=(ie,de,fe,we=Ur.maxLength,L=Ur.minLength)=>{const W=ie?de:fe;U[R]={type:ie?we:L,message:W,ref:c,...ee(ie?we:L,W)}};if(o?!Array.isArray(D)||!D.length:h&&(!X&&(ne||rn(D))||dr(D)&&!D||J&&!eb(f).isValid||Z&&!nb(f).isValid)){const{value:ie,message:de}=bu(h)?{value:!!h,message:h}:Xi(h);if(ie&&(U[R]={type:Ur.required,message:de,ref:A,...ee(Ur.required,de)},!i))return $(de),U}if(!ne&&(!rn(y)||!rn(_))){let ie,de;const fe=Xi(_),we=Xi(y);if(!rn(D)&&!isNaN(D)){const L=c.valueAsNumber||D&&+D;rn(fe.value)||(ie=L>fe.value),rn(we.value)||(de=L<we.value)}else{const L=c.valueAsDate||new Date(D),W=O=>new Date(new Date().toDateString()+" "+O),re=c.type=="time",se=c.type=="week";fr(fe.value)&&D&&(ie=re?W(D)>W(fe.value):se?D>fe.value:L>new Date(fe.value)),fr(we.value)&&D&&(de=re?W(D)<W(we.value):se?D<we.value:L<new Date(we.value))}if((ie||de)&&(te(!!ie,fe.message,we.message,Ur.max,Ur.min),!i))return $(U[R].message),U}if((m||v)&&!ne&&(fr(D)||o&&Array.isArray(D))){const ie=Xi(m),de=Xi(v),fe=!rn(ie.value)&&D.length>+ie.value,we=!rn(de.value)&&D.length<+de.value;if((fe||we)&&(te(fe,ie.message,de.message),!i))return $(U[R].message),U}if(w&&!ne&&fr(D)){const{value:ie,message:de}=Xi(w);if(Au(ie)&&!D.match(ie)&&(U[R]={type:Ur.pattern,message:de,ref:c,...ee(Ur.pattern,de)},!i))return $(de),U}if(S){if(Yn(S)){const ie=await S(D,a),de=Uy(ie,A);if(de&&(U[R]={...de,...ee(Ur.validate,de.message)},!i))return $(de.message),U}else if(yt(S)){let ie={};for(const de in S){if(!fn(ie)&&!i)break;const fe=Uy(await S[de](D,a),A,de);fe&&(ie={...fe,...ee(de,fe.message)},$(fe.message),i&&(U[R]=ie))}if(!fn(ie)&&(U[R]={ref:A,...ie},!i))return U}}return $(!0),U};const jA={mode:Gn.onSubmit,reValidateMode:Gn.onChange,shouldFocusError:!0};function MA(e={}){let n={...jA,...e},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Yn(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},l=yt(n.defaultValues)||yt(n.values)?Pt(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:Pt(l),c={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,m=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...v};const _={array:Cy(),state:Cy()},w=n.criteriaMode===Gn.all,S=j=>H=>{clearTimeout(m),m=setTimeout(j,H)},R=async j=>{if(!n.disabled&&(v.isValid||y.isValid||j)){const H=n.resolver?fn((await J()).errors):await ne(i,!0);H!==a.isValid&&_.state.next({isValid:H})}},C=(j,H)=>{!n.disabled&&(v.isValidating||v.validatingFields||y.isValidating||y.validatingFields)&&((j||Array.from(f.mount)).forEach(V=>{V&&(H?ot(a.validatingFields,V,H):St(a.validatingFields,V))}),_.state.next({validatingFields:a.validatingFields,isValidating:!fn(a.validatingFields)}))},T=(j,H=[],V,ue,le=!0,ae=!0)=>{if(ue&&V&&!n.disabled){if(c.action=!0,ae&&Array.isArray(me(i,j))){const ge=V(me(i,j),ue.argA,ue.argB);le&&ot(i,j,ge)}if(ae&&Array.isArray(me(a.errors,j))){const ge=V(me(a.errors,j),ue.argA,ue.argB);le&&ot(a.errors,j,ge),DA(a.errors,j)}if((v.touchedFields||y.touchedFields)&&ae&&Array.isArray(me(a.touchedFields,j))){const ge=V(me(a.touchedFields,j),ue.argA,ue.argB);le&&ot(a.touchedFields,j,ge)}(v.dirtyFields||y.dirtyFields)&&(a.dirtyFields=ml(l,o)),_.state.next({name:j,isDirty:te(j,H),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else ot(o,j,H)},D=(j,H)=>{ot(a.errors,j,H),_.state.next({errors:a.errors})},A=j=>{a.errors=j,_.state.next({errors:a.errors,isValid:!1})},$=(j,H,V,ue)=>{const le=me(i,j);if(le){const ae=me(o,j,Et(V)?me(l,j):V);Et(ae)||ue&&ue.defaultChecked||H?ot(o,j,H?ae:Dy(le._f)):fe(j,ae),c.mount&&R()}},U=(j,H,V,ue,le)=>{let ae=!1,ge=!1;const _e={name:j};if(!n.disabled){if(!V||ue){(v.isDirty||y.isDirty)&&(ge=a.isDirty,a.isDirty=_e.isDirty=te(),ae=ge!==_e.isDirty);const Ae=ba(me(l,j),H);ge=!!me(a.dirtyFields,j),Ae?St(a.dirtyFields,j):ot(a.dirtyFields,j,!0),_e.dirtyFields=a.dirtyFields,ae=ae||(v.dirtyFields||y.dirtyFields)&&ge!==!Ae}if(V){const Ae=me(a.touchedFields,j);Ae||(ot(a.touchedFields,j,V),_e.touchedFields=a.touchedFields,ae=ae||(v.touchedFields||y.touchedFields)&&Ae!==V)}ae&&le&&_.state.next(_e)}return ae?_e:{}},Z=(j,H,V,ue)=>{const le=me(a.errors,j),ae=(v.isValid||y.isValid)&&dr(H)&&a.isValid!==H;if(n.delayError&&V?(h=S(()=>D(j,V)),h(n.delayError)):(clearTimeout(m),h=null,V?ot(a.errors,j,V):St(a.errors,j)),(V?!ba(le,V):le)||!fn(ue)||ae){const ge={...ue,...ae&&dr(H)?{isValid:H}:{},errors:a.errors,name:j};a={...a,...ge},_.state.next(ge)}},J=async j=>{C(j,!0);const H=await n.resolver(o,n.context,xA(j||f.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return C(j),H},X=async j=>{const{errors:H}=await J(j);if(j)for(const V of j){const ue=me(H,V);ue?ot(a.errors,V,ue):St(a.errors,V)}else a.errors=H;return H},ne=async(j,H,V={valid:!0})=>{for(const ue in j){const le=j[ue];if(le){const{_f:ae,...ge}=le;if(ae){const _e=f.array.has(ae.name),Ae=le._f&&RA(le._f);Ae&&v.validatingFields&&C([ue],!0);const Fe=await Ly(le,f.disabled,o,w,n.shouldUseNativeValidation&&!H,_e);if(Ae&&v.validatingFields&&C([ue]),Fe[ae.name]&&(V.valid=!1,H))break;!H&&(me(Fe,ae.name)?_e?NA(a.errors,Fe,ae.name):ot(a.errors,ae.name,Fe[ae.name]):St(a.errors,ae.name))}!fn(ge)&&await ne(ge,H,V)}}return V.valid},ee=()=>{for(const j of f.unMount){const H=me(i,j);H&&(H._f.refs?H._f.refs.every(V=>!Tf(V)):!Tf(H._f.ref))&&ze(j)}f.unMount=new Set},te=(j,H)=>!n.disabled&&(j&&H&&ot(o,j,H),!ba(O(),l)),ie=(j,H,V)=>_A(j,f,{...c.mount?o:Et(H)?l:fr(j)?{[j]:H}:H},V,H),de=j=>Eh(me(c.mount?o:l,j,n.shouldUnregister?me(l,j,[]):[])),fe=(j,H,V={})=>{const ue=me(i,j);let le=H;if(ue){const ae=ue._f;ae&&(!ae.disabled&&ot(o,j,tb(H,ae)),le=Cu(ae.ref)&&rn(H)?"":H,Q_(ae.ref)?[...ae.ref.options].forEach(ge=>ge.selected=le.includes(ge.value)):ae.refs?$l(ae.ref)?ae.refs.forEach(ge=>{(!ge.defaultChecked||!ge.disabled)&&(Array.isArray(le)?ge.checked=!!le.find(_e=>_e===ge.value):ge.checked=le===ge.value||!!le)}):ae.refs.forEach(ge=>ge.checked=ge.value===le):Rh(ae.ref)?ae.ref.value="":(ae.ref.value=le,ae.ref.type||_.state.next({name:j,values:Pt(o)})))}(V.shouldDirty||V.shouldTouch)&&U(j,le,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&se(j)},we=(j,H,V)=>{for(const ue in H){if(!H.hasOwnProperty(ue))return;const le=H[ue],ae=j+"."+ue,ge=me(i,ae);(f.array.has(j)||yt(le)||ge&&!ge._f)&&!Xa(le)?we(ae,le,V):fe(ae,le,V)}},L=(j,H,V={})=>{const ue=me(i,j),le=f.array.has(j),ae=Pt(H);ot(o,j,ae),le?(_.array.next({name:j,values:Pt(o)}),(v.isDirty||v.dirtyFields||y.isDirty||y.dirtyFields)&&V.shouldDirty&&_.state.next({name:j,dirtyFields:ml(l,o),isDirty:te(j,ae)})):ue&&!ue._f&&!rn(ae)?we(j,ae,V):fe(j,ae,V),My(j,f)&&_.state.next({...a,name:j}),_.state.next({name:c.mount?j:void 0,values:Pt(o)})},W=async j=>{c.mount=!0;const H=j.target;let V=H.name,ue=!0;const le=me(i,V),ae=Ae=>{ue=Number.isNaN(Ae)||Xa(Ae)&&isNaN(Ae.getTime())||ba(Ae,me(o,V,Ae))},ge=Ny(n.mode),_e=Ny(n.reValidateMode);if(le){let Ae,Fe;const pr=H.type?Dy(le._f):fA(j),Rt=j.type===Ry.BLUR||j.type===Ry.FOCUS_OUT,Ja=!CA(le._f)&&!n.resolver&&!me(a.errors,V)&&!le._f.deps||OA(Rt,me(a.touchedFields,V),a.isSubmitted,_e,ge),er=My(V,f,Rt);ot(o,V,pr),Rt?(!H||!H.readOnly)&&(le._f.onBlur&&le._f.onBlur(j),h&&h(0)):le._f.onChange&&le._f.onChange(j);const tr=U(V,pr,Rt),hn=!fn(tr)||er;if(!Rt&&_.state.next({name:V,type:j.type,values:Pt(o)}),Ja)return(v.isValid||y.isValid)&&(n.mode==="onBlur"?Rt&&R():Rt||R()),hn&&_.state.next({name:V,...er?{}:tr});if(!Rt&&er&&_.state.next({...a}),n.resolver){const{errors:nr}=await J([V]);if(ae(pr),ue){const vr=ky(a.errors,i,V),Ra=ky(nr,i,vr.name||V);Ae=Ra.error,V=Ra.name,Fe=fn(nr)}}else C([V],!0),Ae=(await Ly(le,f.disabled,o,w,n.shouldUseNativeValidation))[V],C([V]),ae(pr),ue&&(Ae?Fe=!1:(v.isValid||y.isValid)&&(Fe=await ne(i,!0)));ue&&(le._f.deps&&se(le._f.deps),Z(V,Fe,Ae,tr))}},re=(j,H)=>{if(me(a.errors,H)&&j.focus)return j.focus(),1},se=async(j,H={})=>{let V,ue;const le=xl(j);if(n.resolver){const ae=await X(Et(j)?j:le);V=fn(ae),ue=j?!le.some(ge=>me(ae,ge)):V}else j?(ue=(await Promise.all(le.map(async ae=>{const ge=me(i,ae);return await ne(ge&&ge._f?{[ae]:ge}:ge)}))).every(Boolean),!(!ue&&!a.isValid)&&R()):ue=V=await ne(i);return _.state.next({...!fr(j)||(v.isValid||y.isValid)&&V!==a.isValid?{}:{name:j},...n.resolver||!j?{isValid:V}:{},errors:a.errors}),H.shouldFocus&&!ue&&Rl(i,re,j?le:f.mount),ue},O=j=>{const H={...c.mount?o:l};return Et(j)?H:fr(j)?me(H,j):j.map(V=>me(H,V))},G=(j,H)=>({invalid:!!me((H||a).errors,j),isDirty:!!me((H||a).dirtyFields,j),error:me((H||a).errors,j),isValidating:!!me(a.validatingFields,j),isTouched:!!me((H||a).touchedFields,j)}),Q=j=>{j&&xl(j).forEach(H=>St(a.errors,H)),_.state.next({errors:j?a.errors:{}})},B=(j,H,V)=>{const ue=(me(i,j,{_f:{}})._f||{}).ref,le=me(a.errors,j)||{},{ref:ae,message:ge,type:_e,...Ae}=le;ot(a.errors,j,{...Ae,...H,ref:ue}),_.state.next({name:j,errors:a.errors,isValid:!1}),V&&V.shouldFocus&&ue&&ue.focus&&ue.focus()},oe=(j,H)=>Yn(j)?_.state.subscribe({next:V=>"values"in V&&j(ie(void 0,H),V)}):ie(j,H,!0),Se=j=>_.state.subscribe({next:H=>{AA(j.name,H.name,j.exact)&&TA(H,j.formState||v,Jt,j.reRenderRoot)&&j.callback({values:{...o},...a,...H,defaultValues:l})}}).unsubscribe,ce=j=>(c.mount=!0,y={...y,...j.formState},Se({...j,formState:y})),ze=(j,H={})=>{for(const V of j?xl(j):f.mount)f.mount.delete(V),f.array.delete(V),H.keepValue||(St(i,V),St(o,V)),!H.keepError&&St(a.errors,V),!H.keepDirty&&St(a.dirtyFields,V),!H.keepTouched&&St(a.touchedFields,V),!H.keepIsValidating&&St(a.validatingFields,V),!n.shouldUnregister&&!H.keepDefaultValue&&St(l,V);_.state.next({values:Pt(o)}),_.state.next({...a,...H.keepDirty?{isDirty:te()}:{}}),!H.keepIsValid&&R()},ye=({disabled:j,name:H})=>{(dr(j)&&c.mount||j||f.disabled.has(H))&&(j?f.disabled.add(H):f.disabled.delete(H))},mt=(j,H={})=>{let V=me(i,j);const ue=dr(H.disabled)||dr(n.disabled);return ot(i,j,{...V||{},_f:{...V&&V._f?V._f:{ref:{name:j}},name:j,mount:!0,...H}}),f.mount.add(j),V?ye({disabled:dr(H.disabled)?H.disabled:n.disabled,name:j}):$(j,!0,H.value),{...ue?{disabled:H.disabled||n.disabled}:{},...n.progressive?{required:!!H.required,min:pl(H.min),max:pl(H.max),minLength:pl(H.minLength),maxLength:pl(H.maxLength),pattern:pl(H.pattern)}:{},name:j,onChange:W,onBlur:W,ref:le=>{if(le){mt(j,H),V=me(i,j);const ae=Et(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,ge=wA(ae),_e=V._f.refs||[];if(ge?_e.find(Ae=>Ae===ae):ae===V._f.ref)return;ot(i,j,{_f:{...V._f,...ge?{refs:[..._e.filter(Tf),ae,...Array.isArray(me(l,j))?[{}]:[]],ref:{type:ae.type,name:j}}:{ref:ae}}}),$(j,!1,void 0,ae)}else V=me(i,j,{}),V._f&&(V._f.mount=!1),(n.shouldUnregister||H.shouldUnregister)&&!(gA(f.array,j)&&c.action)&&f.unMount.add(j)}}},rt=()=>n.shouldFocusError&&Rl(i,re,f.mount),sn=j=>{dr(j)&&(_.state.next({disabled:j}),Rl(i,(H,V)=>{const ue=me(i,V);ue&&(H.disabled=ue._f.disabled||j,Array.isArray(ue._f.refs)&&ue._f.refs.forEach(le=>{le.disabled=ue._f.disabled||j}))},0,!1))},_t=(j,H)=>async V=>{let ue;V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let le=Pt(o);if(_.state.next({isSubmitting:!0}),n.resolver){const{errors:ae,values:ge}=await J();a.errors=ae,le=Pt(ge)}else await ne(i);if(f.disabled.size)for(const ae of f.disabled)St(le,ae);if(St(a.errors,"root"),fn(a.errors)){_.state.next({errors:{}});try{await j(le,V)}catch(ae){ue=ae}}else H&&await H({...a.errors},V),rt(),setTimeout(rt);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:fn(a.errors)&&!ue,submitCount:a.submitCount+1,errors:a.errors}),ue)throw ue},Vr=(j,H={})=>{me(i,j)&&(Et(H.defaultValue)?L(j,Pt(me(l,j))):(L(j,H.defaultValue),ot(l,j,Pt(H.defaultValue))),H.keepTouched||St(a.touchedFields,j),H.keepDirty||(St(a.dirtyFields,j),a.isDirty=H.defaultValue?te(j,Pt(me(l,j))):te()),H.keepError||(St(a.errors,j),v.isValid&&R()),_.state.next({...a}))},ln=(j,H={})=>{const V=j?Pt(j):l,ue=Pt(V),le=fn(j),ae=le?l:ue;if(H.keepDefaultValues||(l=V),!H.keepValues){if(H.keepDirtyValues){const ge=new Set([...f.mount,...Object.keys(ml(l,o))]);for(const _e of Array.from(ge))me(a.dirtyFields,_e)?ot(ae,_e,me(o,_e)):L(_e,me(ae,_e))}else{if(Sh&&Et(j))for(const ge of f.mount){const _e=me(i,ge);if(_e&&_e._f){const Ae=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(Cu(Ae)){const Fe=Ae.closest("form");if(Fe){Fe.reset();break}}}}if(H.keepFieldsRef)for(const ge of f.mount)L(ge,me(ae,ge));else i={}}o=n.shouldUnregister?H.keepDefaultValues?Pt(l):{}:Pt(ae),_.array.next({values:{...ae}}),_.state.next({values:{...ae}})}f={mount:H.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!v.isValid||!!H.keepIsValid||!!H.keepDirtyValues,c.watch=!!n.shouldUnregister,_.state.next({submitCount:H.keepSubmitCount?a.submitCount:0,isDirty:le?!1:H.keepDirty?a.isDirty:!!(H.keepDefaultValues&&!ba(j,l)),isSubmitted:H.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:le?{}:H.keepDirtyValues?H.keepDefaultValues&&o?ml(l,o):a.dirtyFields:H.keepDefaultValues&&j?ml(l,j):H.keepDirty?a.dirtyFields:{},touchedFields:H.keepTouched?a.touchedFields:{},errors:H.keepErrors?a.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},gr=(j,H)=>ln(Yn(j)?j(o):j,H),Jn=(j,H={})=>{const V=me(i,j),ue=V&&V._f;if(ue){const le=ue.refs?ue.refs[0]:ue.ref;le.focus&&(le.focus(),H.shouldSelect&&Yn(le.select)&&le.select())}},Jt=j=>{a={...a,...j}},mr={control:{register:mt,unregister:ze,getFieldState:G,handleSubmit:_t,setError:B,_subscribe:Se,_runSchema:J,_focusError:rt,_getWatch:ie,_getDirty:te,_setValid:R,_setFieldArray:T,_setDisabledField:ye,_setErrors:A,_getFieldArray:de,_reset:ln,_resetDefaultValues:()=>Yn(n.defaultValues)&&n.defaultValues().then(j=>{gr(j,n.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:ee,_disableForm:sn,_subjects:_,_proxyFormState:v,get _fields(){return i},get _formValues(){return o},get _state(){return c},set _state(j){c=j},get _defaultValues(){return l},get _names(){return f},set _names(j){f=j},get _formState(){return a},get _options(){return n},set _options(j){n={...n,...j}}},subscribe:ce,trigger:se,register:mt,handleSubmit:_t,watch:oe,setValue:L,getValues:O,reset:gr,resetField:Vr,clearErrors:Q,unregister:ze,setError:B,setFocus:Jn,getFieldState:G};return{...mr,formControl:mr}}function Bu(e={}){const n=Ne.useRef(void 0),a=Ne.useRef(void 0),[i,l]=Ne.useState({isDirty:!1,isValidating:!1,isLoading:Yn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Yn(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:i},e.defaultValues&&!Yn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...f}=MA(e);n.current={...f,formState:i}}const o=n.current.control;return o._options=e,yA(()=>{const c=o._subscribe({formState:o._proxyFormState,callback:()=>l({...o._formState}),reRenderRoot:!0});return l(f=>({...f,isReady:!0})),o._formState.isReady=!0,c},[o]),Ne.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),Ne.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),Ne.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),Ne.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),Ne.useEffect(()=>{if(o._proxyFormState.isDirty){const c=o._getDirty();c!==i.isDirty&&o._subjects.state.next({isDirty:c})}},[o,i.isDirty]),Ne.useEffect(()=>{e.values&&!ba(e.values,a.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),a.current=e.values,l(c=>({...c}))):o._resetDefaultValues()},[o,e.values]),Ne.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),n.current.formState=vA(i,o),n.current}const rb=()=>{const e=x.useCallback((h,m,v)=>{if(!h||!m||!v)return null;try{const{department:y}=h;if(y==="STAMPA"){const _=m/(h.v_stampa||1),w=h.t_setup_stampa||0,S=_+w,R=S*(h.costo_h_stampa||0);return{totals:{duration:S,cost:R},breakdown:{print:{time:_,cost:_*(h.costo_h_stampa||0)},setup:{time:w,cost:w*(h.costo_h_stampa||0)}}}}else if(y==="CONFEZIONAMENTO"){const _=m/(h.v_conf||1),w=h.t_setup_conf||0,S=_+w,R=S*(h.costo_h_conf||0);return{totals:{duration:S,cost:R},breakdown:{package:{time:_,cost:_*(h.costo_h_conf||0)},setup:{time:w,cost:w*(h.costo_h_conf||0)}}}}return null}catch{return null}},[]),n=x.useCallback(h=>h&&(h.startsWith("P05")||h.startsWith("ISP05"))?"BUSTO_GAROLFO":"ZANICA",[]),a=x.useCallback(h=>h&&h.startsWith("P0")?"CONFEZIONAMENTO":"STAMPA",[]),i=x.useCallback(h=>({STAMPA:["DIGITAL_PRINT","FLEXO_PRINT","ROTOGRAVURE"],CONFEZIONAMENTO:["DOYPACK","PLURI_PIU","MONO_PIU","CONFEZIONAMENTO_TRADIZIONALE","CONFEZIONAMENTO_POLVERI"]})[h]||[],[]),l=x.useCallback((h,m)=>{const y={DIGITAL_PRINT:"DIGI",FLEXO_PRINT:"FLEX",ROTOGRAVURE:"ROTO",DOYPACK:"DOYP",PLURI_PIU:"PLUR",MONO_PIU:"MONO",CONFEZIONAMENTO_TRADIZIONALE:"CONFTRAD",CONFEZIONAMENTO_POLVERI:"CONFPOL"}[h]||"MACH",_=m==="BUSTO_GAROLFO"?"BGF":"ZAN",w=Date.now().toString(36);return`${y}_${_}_${w}`},[]),o=x.useCallback((h,m)=>!(m<0||m>h),[]),c=x.useCallback((h,m)=>!h||h===0?0:Math.round(m*100/h),[]),f=x.useCallback((h,m)=>!h||h===0?0:!m||m===0?h:Math.round(h*(1-m/100)*100)/100,[]);return{calculateProductionMetrics:e,autoDetermineWorkCenter:n,autoDetermineDepartment:a,getValidMachineTypes:i,generateMachineId:l,validateQuantityCompleted:o,calculateCompletionRate:c,calculateTimeRemaining:f}},Ou={PHASE:{STAMPA:{v_stampa:{min:0,message:"Printing speed must be greater than 0"},t_setup_stampa:{min:0,message:"Setup time cannot be negative"},costo_h_stampa:{min:0,message:"Hourly cost cannot be negative"}},CONFEZIONAMENTO:{v_conf:{min:0,message:"Packaging speed must be greater than 0"},t_setup_conf:{min:0,message:"Setup time cannot be negative"},costo_h_conf:{min:0,message:"Hourly cost cannot be negative"}}},MACHINE:{min_web_width:{min:0,message:"Minimum web width cannot be negative"},max_web_width:{min:0,message:"Maximum web width cannot be negative"},min_bag_height:{min:0,message:"Minimum bag height cannot be negative"},max_bag_height:{min:0,message:"Maximum bag height cannot be negative"},standard_speed:{min:0,message:"Standard speed cannot be negative"},setup_time_standard:{min:0,message:"Setup time cannot be negative"},changeover_color:{min:0,message:"Color changeover time cannot be negative"},changeover_material:{min:0,message:"Material changeover time cannot be negative"}},ORDER:{bag_height:{min:0,message:"Bag height must be greater than 0"},bag_width:{min:0,message:"Bag width must be greater than 0"},bag_step:{min:0,message:"Bag step must be greater than 0"},quantity:{min:0,message:"Quantity must be greater than 0"},quantity_per_box:{min:0,message:"Quantity per box cannot be negative"},quantity_completed:{min:0,message:"Quantity completed cannot be negative"}}},ab=(e,n)=>{const a={};return n.forEach(i=>{if(!Ah(e[i])){const l=i.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase());a[i]=`${l} is required`}}),a},Th=(e,n)=>{const a={};return Object.entries(n).forEach(([i,l])=>{e[i]!==void 0&&e[i]!==null&&e[i]!==""&&(lb(e[i],l.min,l.max)||(a[i]=l.message))}),a},ib=(e,n,a="PHASE")=>{const i=Ou[a]?.[n];return i?Th(e,i):{}},sb=(e,n)=>{const a={};return n.forEach(i=>{const{condition:l,errorField:o,message:c}=i;l(e)&&(a[o]=c)}),a},kA=(e,n)=>{const a={};return n.required&&Object.assign(a,ab(e,n.required)),n.numeric&&Object.assign(a,Th(e,n.numeric)),n.department&&e.department&&Object.assign(a,ib(e,e.department,n.departmentSchema)),n.logical&&Object.assign(a,sb(e,n.logical)),a},UA={PHASE:{required:["name","department","work_center"],numeric:{numero_persone:{min:1,message:"Number of people must be at least 1"}},departmentSchema:"PHASE",logical:[{condition:e=>e.bag_width&&e.bag_step&&parseFloat(e.bag_width)<parseFloat(e.bag_step),errorField:"bag_width",message:"Bag width cannot be less than bag step"}]},MACHINE:{required:["machine_name","machine_type","department","work_center"],numeric:Ou.MACHINE,logical:[{condition:e=>e.min_web_width&&e.max_web_width&&parseFloat(e.min_web_width)>parseFloat(e.max_web_width),errorField:"min_web_width",message:"Minimum web width cannot exceed maximum web width"},{condition:e=>e.min_bag_height&&e.max_bag_height&&parseFloat(e.min_bag_height)>parseFloat(e.max_bag_height),errorField:"min_bag_height",message:"Minimum bag height cannot exceed maximum bag height"}]},ORDER:{required:["odp_number","article_code","production_lot","bag_height","bag_width","bag_step","product_type","quantity","delivery_date"],numeric:Ou.ORDER,logical:[{condition:e=>e.bag_width&&e.bag_step&&parseFloat(e.bag_width)<parseFloat(e.bag_step),errorField:"bag_width",message:"Bag width cannot be less than bag step"},{condition:e=>e.quantity&&e.quantity_completed&&parseFloat(e.quantity_completed)>parseFloat(e.quantity),errorField:"quantity_completed",message:"Quantity completed cannot exceed total quantity"},{condition:e=>e.delivery_date&&e.scheduled_start_time&&new Date(e.scheduled_start_time)>new Date(e.delivery_date),errorField:"scheduled_start_time",message:"Production start cannot be after delivery date"}]},OFF_TIME:{required:["startDate","startTime","endDate","endTime"],logical:[{condition:e=>e.startDate&&e.endDate&&new Date(e.startDate)>new Date(e.endDate),errorField:"endDate",message:"End date cannot be before start date"},{condition:e=>e.startDate&&e.endDate&&e.startDate===e.endDate&&e.startTime&&e.endTime&&e.startTime>=e.endTime,errorField:"endTime",message:"End time must be after start time when dates are the same"}]}},Ah=e=>typeof e=="string"?e.trim().length>0:Array.isArray(e)?e.length>0:typeof e=="object"&&e!==null?Object.keys(e).length>0:!!e,LA=e=>!e||typeof e!="string"?!1:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),PA=e=>!e||typeof e!="string"?!1:/^[+]?[1-9][\d]{0,15}$/.test(e.replace(/\s/g,"")),HA=e=>{if(!e)return!1;const n=new Date(e);return n instanceof Date&&!isNaN(n)},lb=(e,n=null,a=null)=>{const i=typeof e=="string"?parseFloat(e):e;return!(typeof i!="number"||isNaN(i)||n!==null&&i<n||a!==null&&i>a)},zA=(e,n=null,a=null)=>{const i=typeof e=="string"?parseInt(e,10):e;return!(!Number.isInteger(i)||n!==null&&i<n||a!==null&&i>a)},FA=e=>{if(!e||typeof e!="string")return!1;try{return new URL(e),!0}catch{return!1}},ob=(e,n)=>!e||!n?!1:typeof n=="string"?new RegExp(n).test(e):n instanceof RegExp?n.test(e):!1,ub=(e,n)=>!e||typeof e!="string"?!1:e.length>=n,cb=(e,n)=>!e||typeof e!="string"?!1:e.length<=n,db=(e,n,a)=>typeof e!="number"||isNaN(e)?!1:e>=n&&e<=a,IA=e=>!e||typeof e!="string"?!1:/^[a-zA-Z0-9\s\-_]{2,100}$/.test(e.trim()),$A=e=>!e||typeof e!="string"?!1:/^[a-zA-Z0-9]{3,20}$/.test(e.trim()),BA=e=>!e||typeof e!="string"?!1:/^[a-zA-Z0-9-]{3,50}$/.test(e.trim()),VA=e=>["ZANICA","BUSTO_GAROLFO"].includes(e),qA=e=>["STAMPA","CONFEZIONAMENTO"].includes(e),GA=e=>["ACTIVE","INACTIVE","MAINTENANCE"].includes(e),YA=e=>["crema","liquido","polveri"].includes(e),KA=e=>["3","4"].includes(e),XA=(e,n)=>{const a={};return Object.keys(n).forEach(i=>{const l=e[i],o=n[i];if(o.required&&!Ah(l))a[i]=o.required;else if(l&&o.pattern&&!ob(l,o.pattern))a[i]=o.pattern;else if(l&&o.minLength&&!ub(l,o.minLength))a[i]=o.minLength;else if(l&&o.maxLength&&!cb(l,o.maxLength))a[i]=o.maxLength;else if(l&&o.min!==void 0&&!db(l,o.min,o.max||1/0))a[i]=o.min;else if(l&&o.custom){const c=o.custom(l,e);c&&(a[i]=c)}}),a},zr={validateRequiredFields:ab,validateNumericFields:Th,validateDepartmentFields:ib,validateLogicalRelations:sb,validateAll:kA,VALIDATION_CONFIGS:UA,VALIDATION_SCHEMAS:Ou,isNotEmpty:Ah,isValidEmail:LA,isValidPhone:PA,isValidDate:HA,isValidNumber:lb,isValidInteger:zA,isValidUrl:FA,matchesPattern:ob,hasMinLength:ub,hasMaxLength:cb,isInRange:db,isValidMachineName:IA,isValidOdpNumber:$A,isValidArticleCode:BA,isValidWorkCenter:VA,isValidDepartment:qA,isValidMachineStatus:GA,isValidProductType:YA,isValidSealSides:KA,validateFormData:XA},WA=()=>{const e=x.useCallback(l=>{const o=zr.validateAll(l,zr.VALIDATION_CONFIGS.MACHINE);return Object.values(o)},[]),n=x.useCallback((l,o)=>{const c=[];return o.some(h=>h.scheduled_machine_id===l)&&c.push("Cannot delete machine with scheduled tasks. Please unschedule all tasks first."),c},[]),a=x.useCallback(l=>({name:l?.machine_name||"Unknown Machine",type:l?.machine_type||"Unknown Type",department:l?.department||"Unknown Department",workCenter:l?.work_center||"Unknown Work Center",status:l?.status||"UNKNOWN",isActive:l?.status==="ACTIVE"}),[]),i=x.useCallback((l,o)=>{if(l.status!=="ACTIVE")return!1;const c=l.active_shifts||[];if(c.length===0)return!1;const f=o.getHours();return c.some(m=>{switch(m){case"T1":return f>=6&&f<14;case"T2":return f>=14&&f<22;case"T3":return f>=22||f<6;default:return!1}})},[]);return{validateMachine:e,validateMachineDeletion:n,getMachineDisplayInfo:a,isMachineAvailable:i}},QA=()=>{const e=x.useCallback(l=>{const o=zr.validateAll(l,zr.VALIDATION_CONFIGS.ORDER);return Object.values(o)},[]),n=x.useCallback((l,o)=>{const c=[];if(!l)return c.push("Please select a production phase"),c;o.department&&l.department!==o.department&&c.push(`Selected phase is for ${l.department} department, but order is for ${o.department}`),o.work_center&&l.work_center!==o.work_center&&c.push(`Selected phase is for ${l.work_center} work center, but order is for ${o.work_center}`);const f=zr.validateDepartmentFields(l,l.department,"PHASE");return Object.values(f).forEach(h=>c.push(h)),c},[]),a=x.useCallback((l,o,c,f)=>{const h=[];return l?o?!c||!f?(h.push("Start and end times are required"),h):(o.status!=="ACTIVE"&&h.push(`Machine ${o.machine_name} is not active`),l.scheduled_machine_id&&l.scheduled_machine_id!==o.id&&h.push("Order is already scheduled on a different machine"),l.fase||h.push("Order must have a production phase selected"),(!l.quantity||l.quantity<=0)&&h.push("Order must have a valid quantity"),(!l.duration||l.duration<=0)&&h.push("Order must have calculated duration"),h):(h.push("Machine is required"),h):(h.push("Order is required"),h)},[]),i=x.useCallback(l=>{const o=[];return l?(l.quantity_completed>0&&o.push("Cannot delete order that has started production"),l.scheduled_machine_id&&o.push("Cannot delete scheduled order. Please unschedule first."),o):(o.push("Order is required"),o)},[]);return{validateOrder:e,validatePhaseSelection:n,validateOrderScheduling:a,validateOrderDeletion:i}},ZA=()=>({validatePhase:a=>{const i=zr.validateAll(a,zr.VALIDATION_CONFIGS.PHASE);return Object.values(i)},validateForm:a=>zr.validateAll(a,zr.VALIDATION_CONFIGS.PHASE)}),Br=(e="")=>{const{showAlert:n,showConfirmDialog:a}=Te(),i=x.useCallback((_,w={})=>{const{showUserAlert:S=!0,alertType:R="error",logError:C=!0,context:T=e,fallbackMessage:D="An unexpected error occurred"}=w,A=En(_,T);if(C&&Vn(A,T),S){const $=A.userMessage||D;n($,R)}return A},[e,n]),l=x.useCallback(async(_,w={})=>{const{showUserAlert:S=!0,alertType:R="error",context:C=e,fallbackMessage:T="Operation failed",retry:D=!1,maxRetries:A=3}=w;try{return D?await cy(_,A):await _()}catch($){throw i($,{showUserAlert:S,alertType:R,context:C,fallbackMessage:T})}},[e,i]),o=x.useCallback((_,w)=>{const S=i(_,{showUserAlert:!1});S.code===Pe.VALIDATION_ERROR?S.fieldErrors?Object.entries(S.fieldErrors).forEach(([R,C])=>{w(R,{type:"server",message:C})}):w("root",{type:"server",message:S.userMessage}):w("root",{type:"server",message:S.userMessage})},[i]),c=x.useCallback((_,w,S)=>{const R=i(_,{context:`${w} ${S}`,fallbackMessage:`Failed to ${w} ${S}`});return R.code===Pe.VALIDATION_ERROR?n(`Please check the ${S} information and try again.`,"error"):R.code===Pe.NOT_FOUND_ERROR?n(`${S} not found. It may have been deleted.`,"error"):R.code===Pe.AUTHORIZATION_ERROR&&n(`You don't have permission to ${w} ${S}.`,"error"),R},[i,n]),f=x.useCallback((_,w)=>{const S=i(_,{context:"Network Operation",fallbackMessage:"Network error occurred"});return S.code===Pe.NETWORK_ERROR&&w&&a("Network Error","Your connection seems to be unstable. Would you like to retry?",w,"warning"),S},[i,a]),h=x.useCallback(_=>{const w=i(_,{context:"Authentication",fallbackMessage:"Authentication error occurred"});return w.code===Pe.AUTHENTICATION_ERROR&&n("Please log in again to continue.","warning"),w},[i,n]),m=x.useCallback((_,w="")=>qf(_,w||e),[e]),v=x.useCallback(_=>En(_,e).severity||"medium",[e]),y=x.useMemo(()=>Pe,[]);return{handleError:i,handleAsync:l,handleFormError:o,handleCrudError:c,handleNetworkError:f,handleAuthError:h,createSafeAsync:m,getErrorSeverity:v,errorTypes:y,withRetry:cy,safeAsync:qf}},JA=(e,n)=>{const{phases:a}=qn(),[i,l]=x.useState(""),[o,c]=x.useState(!1),[f,h]=x.useState(null),[m,v]=x.useState({}),y=x.useRef(null),_=x.useMemo(()=>!a||a.length===0?[]:e||n?a.filter(A=>(!e||A.department===e)&&(!n||A.work_center===n)).filter(A=>A.name.toLowerCase().includes(i.toLowerCase())):[],[i,e,n,a]);x.useEffect(()=>()=>{y.current&&clearTimeout(y.current)},[]);const w=x.useCallback((D,A)=>{v($=>({...$,[D]:A}))},[]),S=x.useCallback((D,A,$)=>{A("fase",D.id),h(D),l(D.name),c(!1),$("fase"),v({v_stampa:D.v_stampa||"",t_setup_stampa:D.t_setup_stampa||"",costo_h_stampa:D.costo_h_stampa||"",v_conf:D.v_conf||"",t_setup_conf:D.t_setup_conf||"",costo_h_conf:D.costo_h_conf||""})},[]),R=x.useCallback(()=>{l(""),h(null),v({})},[]),C=x.useCallback(()=>{y.current&&clearTimeout(y.current),y.current=setTimeout(()=>c(!1),150)},[]);return x.useMemo(()=>({phaseSearch:i,setPhaseSearch:l,isDropdownVisible:o,setIsDropdownVisible:c,selectedPhase:f,setSelectedPhase:h,filteredPhases:_,editablePhaseParams:m,setEditablePhaseParams:v,handlePhaseParamChange:w,handlePhaseSelect:S,resetPhaseData:R,handleBlur:C,blurTimeoutRef:y}),[i,o,f,_,m,v,w,S,R,C])};function eO(){const{selectedWorkCenter:e}=Te(),{addMachine:n}=zt(),a={department:ut.MACHINE.DEPARTMENT,machine_type:"",machine_name:"",work_center:e===Ce.BOTH?"":e||ut.MACHINE.WORK_CENTER,min_web_width:ut.MACHINE.MIN_WEB_WIDTH,max_web_width:ut.MACHINE.MAX_WEB_WIDTH,min_bag_height:ut.MACHINE.MIN_BAG_HEIGHT,max_bag_height:ut.MACHINE.MAX_BAG_HEIGHT,standard_speed:"",setup_time_standard:ut.MACHINE.SETUP_TIME_STANDARD,changeover_color:ut.MACHINE.CHANGEOVER_COLOR,changeover_material:ut.MACHINE.CHANGEOVER_MATERIAL,active_shifts:ut.MACHINE.ACTIVE_SHIFTS,status:ut.MACHINE.STATUS},{getValidMachineTypes:i}=rb(),{register:l,handleSubmit:o,formState:{errors:c,isSubmitting:f},watch:h,setValue:m,getValues:v}=Bu({defaultValues:a}),y=h("department");x.useEffect(()=>{i(y).includes(v("machine_type"))||m("machine_type","")},[y,i,v,m]);const _=w=>{const{value:S,checked:R}=w.target,C=v("active_shifts")||[];R?m("active_shifts",[...C,S]):m("active_shifts",C.filter(T=>T!==S))};return p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Create Machine"}),p.jsxs("form",{onSubmit:o(n),children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Identificazione"}),p.jsxs("div",{className:"form-grid form-grid--4-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"department",children:"Department *"}),p.jsxs("select",{id:"department",...l("department"),className:c.department?"error":"",children:[p.jsx("option",{value:xt.PRINTING,children:xt.PRINTING}),p.jsx("option",{value:xt.PACKAGING,children:xt.PACKAGING})]}),c.department&&p.jsx("span",{className:"error-message",children:c.department.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"machine_type",children:"Machine Type *"}),p.jsxs("select",{id:"machine_type",...l("machine_type"),className:c.machine_type?"error":"",children:[p.jsx("option",{value:"",children:"Select machine type"}),i(y).map(w=>p.jsx("option",{value:w,children:w},w))]}),c.machine_type&&p.jsx("span",{className:"error-message",children:c.machine_type.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"machine_name",children:"Machine Name *"}),p.jsx("input",{type:"text",id:"machine_name",...l("machine_name"),placeholder:"Descriptive name",className:c.machine_name?"error":""}),c.machine_name&&p.jsx("span",{className:"error-message",children:c.machine_name.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"work_center",children:"Work Center *"}),e===Ce.BOTH?p.jsxs("select",{...l("work_center",{required:"Work center is required"}),id:"work_center",className:c.work_center?"error":"",children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Ce.ZANICA,children:Ce.ZANICA}),p.jsx("option",{value:Ce.BUSTO_GAROLFO,children:Ce.BUSTO_GAROLFO})]}):p.jsx("input",{type:"text",id:"work_center",value:e||"No work center selected",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),e===Ce.BOTH?c.work_center&&p.jsx("span",{className:"error-message",children:c.work_center.message}):p.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Work center is set based on your login selection"})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Capacit Tecniche"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"min_web_width",children:"Min Web Width (mm)"}),p.jsx("input",{type:"number",id:"min_web_width",...l("min_web_width"),min:"0",step:"1",className:c.min_web_width?"error":""}),c.min_web_width&&p.jsx("span",{className:"error-message",children:c.min_web_width.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"max_web_width",children:"Max Web Width (mm) *"}),p.jsx("input",{type:"number",id:"max_web_width",...l("max_web_width"),min:"0",step:"1",className:c.max_web_width?"error":""}),c.max_web_width&&p.jsx("span",{className:"error-message",children:c.max_web_width.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"min_bag_height",children:"Min Bag Height (mm)"}),p.jsx("input",{type:"number",id:"min_bag_height",...l("min_bag_height"),min:"0",step:"1",className:c.min_bag_height?"error":""}),c.min_bag_height&&p.jsx("span",{className:"error-message",children:c.min_bag_height.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"max_bag_height",children:"Max Bag Height (mm) *"}),p.jsx("input",{type:"number",id:"max_bag_height",...l("max_bag_height"),min:"0",step:"1",className:c.max_bag_height?"error":""}),c.max_bag_height&&p.jsx("span",{className:"error-message",children:c.max_bag_height.message})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Performance"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"standard_speed",children:"Standard Speed"}),p.jsx("input",{type:"number",id:"standard_speed",...l("standard_speed"),placeholder:"pz/h or mt/h",min:"0",step:"1",className:c.standard_speed?"error":""}),c.standard_speed&&p.jsx("span",{className:"error-message",children:c.standard_speed.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"setup_time_standard",children:"Setup Time Standard (h)"}),p.jsx("input",{type:"number",id:"setup_time_standard",...l("setup_time_standard"),min:"0",step:"0.1",className:c.setup_time_standard?"error":""}),c.setup_time_standard&&p.jsx("span",{className:"error-message",children:c.setup_time_standard.message})]}),y===xt.PRINTING&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"changeover_color",children:"Changeover Color (h)"}),p.jsx("input",{type:"number",id:"changeover_color",...l("changeover_color"),min:"0",step:"0.1",className:c.changeover_color?"error":""}),c.changeover_color&&p.jsx("span",{className:"error-message",children:c.changeover_color.message})]}),y===xt.PACKAGING&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"changeover_material",children:"Material Changeover (h)"}),p.jsx("input",{type:"number",id:"changeover_material",...l("changeover_material"),min:"0",step:"0.1",className:c.changeover_material?"error":""}),c.changeover_material&&p.jsx("span",{className:"error-message",children:c.changeover_material.message})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Disponibilit"}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Active Shifts"}),p.jsxs("div",{className:"checkbox-group",children:[p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",value:ur.T1,checked:v("active_shifts")?.includes(ur.T1),onChange:_})," ",ur.T1]}),p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",value:ur.T2,checked:v("active_shifts")?.includes(ur.T2),onChange:_})," ",ur.T2]}),p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",value:ur.T3,checked:v("active_shifts")?.includes(ur.T3),onChange:_})," ",ur.T3]})]})]})]}),p.jsx("div",{className:"form-actions",style:{marginTop:"20px"},children:p.jsx("button",{type:"submit",className:"nav-btn today",disabled:f,children:f?"Adding Machine...":"Add Machine"})})]})]})}function $e({row:e,column:n,table:a,value:i,isEditing:l,onChange:o,type:c="auto",options:f=[],parseValue:h=null,min:m=null,max:v=null,step:y=null}){const _=l??a?.options?.meta?.editingRowId===e?.id,w=i??e?.original?.[n?.id],S=c==="auto"?C(n?.id):c,R=A=>{const $=A.target.value;let U=$;h?U=h($):S==="number"?U=parseFloat($)||0:S==="integer"&&(U=parseInt($)||0),a?.options?.meta?.setEditedData?a.options.meta.setEditedData(Z=>({...Z,[n?.id]:U})):o&&o(A)};function C(A){if(!A)return"text";if(A==="status")return"select";if(["quantity","quantity_completed","quantity_per_box","numero_persone","bag_height","bag_width","bag_step","min_web_width","max_web_width","min_bag_height","max_bag_height"].includes(A))return"integer";const U=["setup_time_standard","changeover_color","changeover_material","t_setup_stampa","t_setup_conf"],Z=["costo_h_stampa","costo_h_conf"],J=["standard_speed","v_stampa","v_conf"];return U.includes(A)||Z.includes(A)||J.includes(A)?"number":"text"}function T(A){return A==="status"?[{value:Ln.ACTIVE,label:Ln.ACTIVE},{value:Ln.INACTIVE,label:Ln.INACTIVE},{value:Ln.MAINTENANCE,label:Ln.MAINTENANCE}]:A==="department"?[{value:xt.PRINTING,label:xt.PRINTING},{value:xt.PACKAGING,label:xt.PACKAGING}]:A==="work_center"?[{value:Ce.ZANICA,label:Ce.ZANICA},{value:Ce.BUSTO_GAROLFO,label:Ce.BUSTO_GAROLFO}]:A==="product_type"?[{value:Zi.CREMA,label:"Crema"},{value:Zi.LIQUIDO,label:"Liquido"},{value:Zi.POLVERI,label:"Polveri"}]:A==="seal_sides"?[{value:Nl.THREE,label:"3 sides"},{value:Nl.FOUR,label:"4 sides"}]:f}if(_)switch(S){case"select":{const A=T(n?.id);return p.jsx("select",{defaultValue:w,onChange:R,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"},children:A.map($=>p.jsx("option",{value:$.value,children:$.label},$.value))})}case"number":{const A=cl.DECIMAL_PRECISION.TWO_DECIMAL.includes(n?.id)?cl.FIELD_STEPS.COST:(cl.DECIMAL_PRECISION.ONE_DECIMAL.includes(n?.id),cl.FIELD_STEPS.TIME);return p.jsx("input",{type:"number",defaultValue:w,onChange:R,min:m,max:v,step:y||A,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}})}case"integer":return p.jsx("input",{type:"number",defaultValue:w,onChange:R,min:m||0,max:v,step:1,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}});default:return p.jsx("input",{type:"text",defaultValue:w,onChange:R,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}})}const D=w??"";return S==="number"||S==="integer"?p.jsx("span",{children:D}):p.jsx("span",{children:D})}function tO(){const{machines:e,updateMachine:n,removeMachine:a}=zt(),{selectedWorkCenter:i,isLoading:l,isInitialized:o,showAlert:c,showConfirmDialog:f}=Te(),{init:h,cleanup:m}=Za(),v=x.useMemo(()=>i?i===Ce.BOTH?e:e.filter(C=>C.work_center===i):[],[e,i]),{validateMachine:y}=WA(),{handleAsync:_}=Br("MachineryPage");x.useEffect(()=>(o||h(),()=>{m()}),[h,o,m]);const w=x.useMemo(()=>[{header:"Machine ID",accessorKey:"id"},{header:"Machine Type",accessorKey:"machine_type"},{header:"Machine Name",accessorKey:"machine_name",cell:$e},{header:"Work Center",accessorKey:"work_center"},{header:"Department",accessorKey:"department"},{header:"Status",accessorKey:"status",cell:$e},{header:"Min Web (mm)",accessorKey:"min_web_width",cell:$e},{header:"Max Web (mm)",accessorKey:"max_web_width",cell:$e},{header:"Min Bag (mm)",accessorKey:"min_bag_height",cell:$e},{header:"Max Bag (mm)",accessorKey:"max_bag_height",cell:$e},{header:"Std Speed",accessorKey:"standard_speed",cell:$e},{header:"Setup (h)",accessorKey:"setup_time_standard",cell:$e},{header:"Color Change (h)",accessorKey:"changeover_color",cell:$e},{header:"Material Change (h)",accessorKey:"changeover_material",cell:$e},{header:"Active Shifts",accessorKey:"active_shifts",cell:C=>Array.isArray(C.getValue())?C.getValue().join(", "):""},{header:"Created At",accessorKey:"created_at",cell:C=>new Date(C.getValue()).toLocaleDateString()},{header:"Updated At",accessorKey:"updated_at",cell:C=>new Date(C.getValue()).toLocaleDateString()},{header:"Calendar",accessorKey:"id",cell:C=>p.jsx(xn,{to:`/machinery/${C.getValue()}/calendar`,className:"nav-btn today",style:{textDecoration:"none"},children:"View Calendar"})}],[]),S=async C=>{const T=y(C);if(T.length>0){c(`Validation errors:
${T.join(`
`)}`,"error");return}await _(()=>n(C.id,C),{context:"Update Machine",fallbackMessage:"Failed to update machine"})},R=async C=>{f("Delete Machine",`Are you sure you want to delete "${C.machine_name}"? This action cannot be undone.`,async()=>{await _(()=>a(C.id),{context:"Delete Machine",fallbackMessage:"Failed to delete machine"})},"danger")};return l?p.jsx("div",{children:"Loading machinery data..."}):i?p.jsxs(p.Fragment,{children:[p.jsx(eO,{}),p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Machinery Catalog"}),p.jsx(wh,{columns:w,data:v,onSaveRow:S,onDeleteRow:R})]})]}):p.jsx("div",{className:"error",children:"Please select a work center to view machinery data."})}function nO({currentDate:e,currentView:n,onDateChange:a,onViewChange:i}){const l=()=>{a(new Date)},o=()=>{let h;n==="Month"?(h=new Date(e),h.setMonth(h.getMonth()-1)):n==="Week"?h=Ml(e,-7):n==="Year"&&(h=new Date(e),h.setFullYear(h.getFullYear()-1)),a(h)},c=()=>{let h;n==="Month"?(h=new Date(e),h.setMonth(h.getMonth()+1)):n==="Week"?h=Ml(e,7):n==="Year"&&(h=new Date(e),h.setFullYear(h.getFullYear()+1)),a(h)},f=()=>{if(n==="Month")return e.toLocaleDateString("en-US",{month:"long",year:"numeric"});if(n==="Week"){const h=F_(e),m=uT(e);return`${h.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${m.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}else if(n==="Year")return e.getFullYear().toString();return""};return p.jsxs("div",{className:"calendar-controls-container",children:[p.jsxs("div",{className:"calendar-navigation",children:[p.jsx("button",{className:"nav-btn today",onClick:o,"aria-label":"Previous",children:" Previous"}),p.jsx("button",{className:"nav-btn today",onClick:l,children:"Today"}),p.jsx("button",{className:"nav-btn today",onClick:c,"aria-label":"Next",children:"Next "})]}),p.jsxs("div",{className:"calendar-view-selector",children:[p.jsx("h3",{children:f()}),p.jsxs("select",{value:n,onChange:h=>i(h.target.value),children:[p.jsx("option",{value:"Month",children:"Month"}),p.jsx("option",{value:"Week",children:"Week"}),p.jsx("option",{value:"Year",children:"Year"})]})]})]})}function rO({machineId:e,currentDate:n,onSuccess:a}){const{setMachineUnavailability:i}=Ji(),{showAlert:l}=Te(),{handleAsync:o}=Br("OffTimeForm"),c=R=>{const C={};if(R.startDate&&R.endDate){const T=new Date(R.startDate);new Date(R.endDate)<T&&(C.endDate={type:"validation",message:ly.END_DATE_BEFORE_START}),R.startDate===R.endDate&&R.startTime&&R.endTime&&R.startTime>=R.endTime&&(C.endTime={type:"validation",message:ly.END_TIME_BEFORE_START})}return{values:R,errors:Object.keys(C).length>0?C:{}}},f=async R=>{await o(async()=>{await i(e,R.startDate,R.endDate,R.startTime,R.endTime),l("Machine unavailability set successfully!","success"),a&&a(),w()},{context:"Set Machine Unavailability",fallbackMessage:"Failed to set machine unavailability"})},{register:h,handleSubmit:m,formState:{errors:v,isSubmitting:y},setValue:_,reset:w}=Bu({defaultValues:{startDate:"",startTime:"",endDate:"",endTime:""},resolver:c});x.useEffect(()=>{const R=new Date,C=Ml(R,1);_("startDate",Zt(R)),_("endDate",Zt(C)),_("startTime",ut.OFF_TIME.START_TIME),_("endTime",ut.OFF_TIME.END_TIME)},[n,_]);const S=R=>{const C=v[R];return C?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:C.message}):null};return p.jsxs("div",{className:"off-time-section",children:[p.jsx("h3",{children:"Set Off-Time Period"}),p.jsxs("form",{onSubmit:m(f),className:"off-time-form",children:[p.jsxs("div",{className:"form-grid form-grid--4-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"startDate",children:"Start Date"}),p.jsx("input",{type:"date",id:"startDate",...h("startDate"),className:`date-input ${v.startDate?"error":""}`}),S("startDate")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"startTime",children:"Start Time"}),p.jsx("input",{type:"time",id:"startTime",...h("startTime"),className:`time-input ${v.startTime?"error":""}`}),S("startTime")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"endDate",children:"End Date"}),p.jsx("input",{type:"date",id:"endDate",...h("endDate"),className:`date-input ${v.endDate?"error":""}`}),S("endDate")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"endTime",children:"End Time"}),p.jsx("input",{type:"time",id:"endTime",...h("endTime"),className:`time-input ${v.endTime?"error":""}`}),S("endTime")]})]}),p.jsx("div",{className:"form-actions",children:p.jsx("button",{type:"submit",className:"nav-btn today",disabled:y,children:y?"Setting...":"Set Off-Time"})})]})]})}function aO({machineId:e,currentDate:n,currentView:a,refreshTrigger:i}){const[l,o]=x.useState(!1),[c,f]=x.useState({}),{machines:h}=zt(),{odpOrders:m}=Dt(),{machineAvailability:v,getMachineAvailability:y,loadMachineAvailabilityForDateRange:_,toggleMachineHourAvailability:w}=Ji(),{showAlert:S}=Te();Br("CalendarGrid");const R=h.find(X=>X.id===e);if(!R)return p.jsx("div",{className:"loading",children:"Loading machine data..."});const C=x.useMemo(()=>{if(!n)return{dates:[],dateStrings:[]};let X=[],ne=[];if(a==="Month"){const ee=n.getFullYear(),te=n.getMonth(),ie=new Date(ee,te,1),de=new Date(ee,te+1,0),fe=new Date(ie);for(;fe<=de;)X.push(new Date(fe)),ne.push(Zt(fe)),fe.setDate(fe.getDate()+1)}else if(a==="Week"){const ee=F_(n);for(let te=0;te<7;te++){const ie=new Date(ee);ie.setDate(ee.getDate()+te),X.push(ie),ne.push(Zt(ie))}}else if(a==="Year"){const ee=n.getFullYear();for(let te=0;te<12;te++){const ie=new Date(ee,te+1,0).getDate();for(let de=1;de<=ie;de++){const fe=new Date(ee,te,de);X.push(fe),ne.push(Zt(fe))}}}else X.push(n),ne.push(Zt(n));return{dates:X,dateStrings:ne}},[n,a]);x.useEffect(()=>{(async()=>{if(!(!e||!C.dateStrings.length)){o(!0);try{const ne=C.dateStrings[0],ee=C.dateStrings[C.dateStrings.length-1];await _(e,ne,ee)}catch(ne){console.error("Failed to load machine availability data:",ne)}finally{o(!1)}}})()},[e,C.dateStrings,_,i]);const T=x.useMemo(()=>R?m.filter(X=>X.status==="SCHEDULED"&&X.scheduled_machine_id===R.id):[],[R,m]),D=x.useCallback((X,ne)=>!R||T.length===0?!1:T.some(ee=>oT(ee,X,ne)),[R,T]),A=x.useCallback(X=>{const ne=v[X];if(Array.isArray(ne)){const ee=ne.find(te=>te.machine_id===e);if(ee&&ee.unavailable_hours)return Array.isArray(ee.unavailable_hours)?ee.unavailable_hours.map(te=>te.toString()):[]}return[]},[v,e]),$=x.useCallback(async(X,ne)=>{if(D(X,ne)){S("Cannot mark time slot as unavailable - it has scheduled tasks","error");return}if(!R)return;const ee=`${X}-${ne}`;f(te=>({...te,[ee]:!0}));try{await w(R.id,X,ne)}catch(te){console.error("Failed to toggle machine hour availability:",te),S("An unexpected error occurred.","error")}finally{f(te=>({...te,[ee]:!1}))}},[D,S,R,w]),U=x.useCallback(()=>{const{dates:X}=C;if(X.length===0)return null;const ne=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return p.jsxs("div",{className:"calendar-month-grid",children:[p.jsx("div",{className:"calendar-week-header",children:ne.map(ee=>p.jsx("div",{className:"week-day-header",children:ee},ee))}),p.jsx("div",{className:"calendar-days-grid",children:X.map((ee,te)=>{const ie=Zt(ee),de=A(ie),fe=ee.getMonth()===n.getMonth(),we=ee.toDateString()===new Date().toDateString(),L=Array.from({length:24},(re,se)=>se).some(re=>D(ie,re));let W="calendar-day";return fe||(W+=" other-month"),we&&(W+=" today"),de.length>0&&(W+=de.length===24?" unavailable":" partially-unavailable"),L&&(W+=" has-scheduled-tasks"),p.jsxs("div",{className:W,children:[p.jsx("span",{className:"day-number",children:ee.getDate()}),de.length>0&&p.jsx("div",{className:"availability-indicator",children:de.length===24?"All Day":`${de.length}h`}),L&&p.jsx("div",{className:"scheduled-tasks-indicator",children:""})]},ie)})})]})},[C,A,n,D]),Z=x.useCallback(()=>{const{dates:X}=C;if(X.length===0)return null;const ne=Array.from({length:24},(ee,te)=>te);return p.jsxs("div",{className:"calendar-week-grid",children:[p.jsxs("div",{className:"time-column-header",children:[p.jsx("div",{className:"time-header-cell",children:"Time"}),X.map(ee=>p.jsx("div",{className:"day-header-cell",children:ee.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},ee.toISOString()))]}),ne.map(ee=>p.jsxs("div",{className:"time-row",children:[p.jsxs("div",{className:"time-label",children:[ee.toString().padStart(2,"0"),":00"]}),X.map(te=>{const ie=Zt(te),de=A(ie),fe=ee.toString(),we=de.includes(fe),L=D(ie,ee),W=`${ie}-${ee}`,re=c[W];let se="time-slot";return we&&(se+=" unavailable"),L&&(se+=" has-scheduled-task"),re&&(se+=" updating"),p.jsx("div",{className:se,onClick:()=>!re&&$(ie,ee),children:p.jsx("div",{className:"time-slot-content",children:re?"...":we?"":L?"":""})},`${ie}-${ee}`)})]},ee))]})},[C,A,D,$,c]),J=x.useCallback(()=>{const X=n.getFullYear(),ne=Array.from({length:12},(ee,te)=>te);return p.jsx("div",{className:"calendar-year-grid",children:ne.map(ee=>{const ie=new Date(X,ee,1).toLocaleDateString("en-US",{month:"short"}),de=new Date(X,ee+1,0).getDate(),fe=new Date(X,ee,1).getDay(),we=[];for(let L=0;L<fe;L++)we.push(null);for(let L=1;L<=de;L++)we.push(L);return p.jsxs("div",{className:"month-mini-calendar",children:[p.jsx("h4",{children:ie}),p.jsxs("div",{className:"mini-month-grid",children:[["S","M","T","W","T","F","S"].map((L,W)=>p.jsx("div",{className:"mini-day-header",children:L},`${ee}-${W}-${L}`)),we.map((L,W)=>{if(L===null)return p.jsx("div",{className:"mini-day empty"},`empty-${ee}-${W}`);const re=Zt(new Date(X,ee,L)),se=A(re),O=se.length>0;return p.jsx("div",{className:`mini-day ${O?"unavailable":""}`,title:O?`${se.length} unavailable hours`:"Available",children:L},re)})]})]},ee)})})},[n,A]);return l?p.jsx("div",{className:"loading",children:"Loading calendar data..."}):p.jsxs("div",{className:"calendar-grid-container",children:[a==="Month"&&U(),a==="Week"&&Z(),a==="Year"&&J()]})}function iO(){const{machineId:e}=AS(),[n,a]=x.useState(new Date),[i,l]=x.useState("Month"),[o,c]=x.useState(0),{getMachineById:f}=zt(),{getLoadingState:h,getInitializationState:m}=Te(),{init:v,cleanup:y}=Za(),_=f(e),w=h(),S=m();if(x.useEffect(()=>(S||v(),()=>{y()}),[v,S,y]),w||!S)return p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"loading",children:"Loading machine calendar..."})});if(!_)return p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"error",children:"Machine not found"})});const R=D=>{a(D)},C=D=>{l(D)},T=()=>{c(D=>D+1)};return p.jsxs("div",{className:"content-section",children:[p.jsxs("div",{className:"calendar-header",children:[p.jsx("h1",{children:"Machine Availability Calendar"}),p.jsx("h2",{children:_.machine_name})]}),p.jsx(nO,{currentDate:n,currentView:i,onDateChange:R,onViewChange:C}),p.jsx(rO,{machineId:_.id,currentDate:n,onSuccess:T}),p.jsx(aO,{machineId:_.id,currentDate:n,currentView:i,refreshTrigger:o})]})}function sO(){const{selectedWorkCenter:e}=Te(),{addPhase:n}=qn(),a={name:"",department:ut.PHASE.DEPARTMENT,numero_persone:ut.PHASE.NUMERO_PERSONE,work_center:e===Ce.BOTH?"":e||ut.PHASE.WORK_CENTER,v_stampa:ut.PHASE.V_STAMPA,t_setup_stampa:ut.PHASE.T_SETUP_STAMPA,costo_h_stampa:ut.PHASE.COSTO_H_STAMPA,v_conf:ut.PHASE.V_CONF,t_setup_conf:ut.PHASE.T_SETUP_CONF,costo_h_conf:ut.PHASE.COSTO_H_CONF,contenuto_fase:""},{register:i,handleSubmit:l,formState:{errors:o,isSubmitting:c},watch:f,setValue:h}=Bu({defaultValues:a}),m=f("department");x.useEffect(()=>{m===xt.PRINTING&&(h("v_conf",0),h("t_setup_conf",0),h("costo_h_conf",0))},[m,h]);const v=y=>o[y]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:o[y].message}):null;return p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Create Phases"}),p.jsxs("form",{onSubmit:l(n),children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Add New Phase"}),p.jsxs("div",{className:"form-grid form-grid--4-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"name",children:"Phase Name *"}),p.jsx("input",{type:"text",id:"name",...i("name"),placeholder:"e.g., High-Speed Printing",className:o.name?"error":"",required:!0}),v("name")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"department",children:"Phase Type *"}),p.jsxs("select",{id:"department",...i("department"),className:o.department?"error":"",children:[p.jsx("option",{value:xt.PRINTING,children:xt.PRINTING}),p.jsx("option",{value:xt.PACKAGING,children:xt.PACKAGING})]}),v("department")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"numero_persone",children:"Number of People Required *"}),p.jsx("input",{type:"number",id:"numero_persone",...i("numero_persone"),min:"1",step:"1",className:o.numero_persone?"error":""}),v("numero_persone")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"work_center",children:"Work Center *"}),e===Ce.BOTH?p.jsxs("select",{...i("work_center",{required:"Work center is required"}),id:"work_center",className:o.work_center?"error":"",children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Ce.ZANICA,children:Ce.ZANICA}),p.jsx("option",{value:Ce.BUSTO_GAROLFO,children:Ce.BUSTO_GAROLFO})]}):p.jsx("input",{type:"text",id:"work_center",value:e||"No work center selected",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),e===Ce.BOTH?o.work_center&&p.jsx("span",{className:"error-message",children:o.work_center.message}):p.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Work center is set based on your login selection"})]})]})]}),m===xt.PRINTING&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Printing Parameters"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_stampa",children:"Printing Speed (mt/h) *"}),p.jsx("input",{type:"number",id:"v_stampa",...i("v_stampa"),min:"0",step:"1",className:o.v_stampa?"error":""}),v("v_stampa")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_stampa",children:"Setup Time (hours)"}),p.jsx("input",{type:"number",id:"t_setup_stampa",...i("t_setup_stampa"),min:"0",step:"0.1",className:o.t_setup_stampa?"error":""}),v("t_setup_stampa")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_stampa",children:"Hourly Cost (/h)"}),p.jsx("input",{type:"number",id:"costo_h_stampa",...i("costo_h_stampa"),min:"0",step:"0.01",className:o.costo_h_stampa?"error":""}),v("costo_h_stampa")]})]})]}),m===xt.PACKAGING&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Packaging Parameters"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_conf",children:"Packaging Speed (pz/h) *"}),p.jsx("input",{type:"number",id:"v_conf",...i("v_conf"),min:"0",step:"1",className:o.v_conf?"error":""}),v("v_conf")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_conf",children:"Setup Time (hours)"}),p.jsx("input",{type:"number",id:"t_setup_conf",...i("t_setup_conf"),min:"0",step:"0.1",className:o.t_setup_conf?"error":""}),v("t_setup_conf")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_conf",children:"Hourly Cost (/h)"}),p.jsx("input",{type:"number",id:"costo_h_conf",...i("costo_h_conf"),min:"0",step:"0.01",className:o.costo_h_conf?"error":""}),v("costo_h_conf")]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"contenuto_fase",children:"Phase Content Description"}),p.jsx("textarea",{id:"contenuto_fase",...i("contenuto_fase"),rows:"3",placeholder:"Describe the phase content and requirements..."})]})]}),p.jsx("div",{className:"form-actions",style:{marginTop:"20px"},children:p.jsx("button",{type:"submit",className:"nav-btn today",disabled:c,children:c?"Adding Phase...":"Add Phase"})})]})]})}function lO(){const{phases:e,updatePhase:n,removePhase:a}=qn(),{selectedWorkCenter:i,isLoading:l,isInitialized:o,showAlert:c,showConfirmDialog:f}=Te(),{init:h,cleanup:m}=Za(),v=x.useMemo(()=>i?i===Ce.BOTH?e:e.filter(C=>C.work_center===i):[],[e,i]),{validatePhase:y}=ZA(),{handleAsync:_}=Br("PhasesPage");x.useEffect(()=>(o||h(),()=>{m()}),[h,o,m]);const w=x.useMemo(()=>[{header:"ID",accessorKey:"id"},{header:"Phase Name",accessorKey:"name",cell:$e},{header:"Department",accessorKey:"department",cell:$e},{header:"Work Center",accessorKey:"work_center",cell:$e},{header:"Print Speed (mt/h)",accessorKey:"v_stampa",cell:$e},{header:"Print Setup (h)",accessorKey:"t_setup_stampa",cell:$e},{header:"Print Cost (/h)",accessorKey:"costo_h_stampa",cell:$e},{header:"Package Speed (pz/h)",accessorKey:"v_conf",cell:$e},{header:"Package Setup (h)",accessorKey:"t_setup_conf",cell:$e},{header:"Package Cost (/h)",accessorKey:"costo_h_conf",cell:$e},{header:"# People",accessorKey:"numero_persone",cell:$e},{header:"Created At",accessorKey:"created_at",cell:C=>new Date(C.getValue()).toLocaleDateString()}],[]),S=async C=>{const T=y(C);if(T.length>0){c(`Validation errors:
${T.join(`
`)}`,"error");return}await _(()=>n(C.id,C),{context:"Update Phase",fallbackMessage:"Failed to update phase"})},R=async C=>{f("Delete Phase",`Are you sure you want to delete "${C.name}"? This action cannot be undone.`,async()=>{await _(()=>a(C.id),{context:"Delete Phase",fallbackMessage:"Failed to delete phase"})},"danger")};return l?p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"loading",children:"Loading phases data..."})}):i?p.jsxs(p.Fragment,{children:[p.jsx(sO,{}),p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Production Phases"}),p.jsx(wh,{columns:w,data:v,onSaveRow:S,onDeleteRow:R})]})]}):p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"error",children:"Please select a work center to view phases data."})})}const oO=({onSuccess:e})=>{const{addOdpOrder:n}=Dt(),{showAlert:a,selectedWorkCenter:i}=Te(),{calculateProductionMetrics:l,autoDetermineWorkCenter:o,autoDetermineDepartment:c}=rb(),{handleAsync:f}=Br("BacklogForm"),[h,m]=x.useState(null),v=x.useMemo(()=>({odp_number:"",article_code:"",production_lot:"",work_center:i===Ce.BOTH?"":i||"",nome_cliente:"",description:"",delivery_date:"",bag_height:"",bag_width:"",bag_step:"",seal_sides:ut.ORDER.SEAL_SIDES,product_type:"",quantity:"",quantity_per_box:"",quantity_completed:ut.ORDER.QUANTITY_COMPLETED,internal_customer_code:"",external_customer_code:"",customer_order_ref:"",department:"",fase:""}),[i]),{register:y,handleSubmit:_,formState:{errors:w,isSubmitting:S},watch:R,setValue:C,getValues:T,reset:D,clearErrors:A}=Bu({defaultValues:v}),$=R("article_code"),U=R("department"),Z=R("work_center"),{phaseSearch:J,setPhaseSearch:X,isDropdownVisible:ne,setIsDropdownVisible:ee,selectedPhase:te,setSelectedPhase:ie,filteredPhases:de,editablePhaseParams:fe,setEditablePhaseParams:we,handlePhaseParamChange:L,handlePhaseSelect:W,handleBlur:re}=JA(U,Z);x.useEffect(()=>{if($){const B=c($),oe=o($);C("department",B),i===Ce.BOTH&&C("work_center",oe),C("fase",""),X(""),ie(null),we({}),m(null)}},[$,c,o,C,i]);const se=async B=>{if(!h){a("Please calculate production metrics before adding to the backlog.","warning");return}await f(async()=>{const oe={...B,duration:h.totals.duration,cost:h.totals.cost,status:"NOT SCHEDULED"};await n(oe),e&&e(),D(v),X(""),ie(null),we({}),m(null)},{context:"Add Order",fallbackMessage:"Failed to add order to backlog"})},O=B=>{W(B,C,A),m(null)},G=()=>{if(!te||!T("quantity")||!T("bag_step")){a("Please select a phase and enter Quantity and Bag Step to calculate.","warning");return}const B={...te,...fe},oe=l(B,T("quantity"),T("bag_step"));m(oe)},Q=B=>w[B]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:w[B].message}):null;return p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Create ODP"}),p.jsxs("form",{onSubmit:_(se),children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Identificazione"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"odp_number",children:"ODP Number *"}),p.jsx("input",{type:"text",id:"odp_number",...y("odp_number",{required:"ODP Number is required"}),placeholder:"ODP Number",className:w.odp_number?"error":""}),Q("odp_number")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"article_code",children:"Article Code *"}),p.jsx("input",{type:"text",id:"article_code",...y("article_code",{required:"Article Code is required"}),placeholder:"Article Code",className:w.article_code?"error":""}),Q("article_code")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"production_lot",children:"External Article Code *"}),p.jsx("input",{type:"text",id:"production_lot",...y("production_lot",{required:"External Article Code is required"}),placeholder:"External Article Code",className:w.production_lot?"error":""}),Q("production_lot")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"work_center",children:"Work Center"}),i===Ce.BOTH?p.jsxs("select",{...y("work_center",{required:"Work center is required"}),id:"work_center",className:w.work_center?"error":"",children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Ce.ZANICA,children:Ce.ZANICA}),p.jsx("option",{value:Ce.BUSTO_GAROLFO,children:Ce.BUSTO_GAROLFO})]}):p.jsx("input",{type:"text",id:"work_center",value:i||"No work center selected",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),i===Ce.BOTH?w.work_center&&p.jsx("span",{className:"error-message",children:w.work_center.message}):p.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Work center is set based on your login selection"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"nome_cliente",children:"Customer Name"}),p.jsx("input",{type:"text",id:"nome_cliente",...y("nome_cliente"),placeholder:"Customer Name"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"description",children:"Description"}),p.jsx("textarea",{id:"description",...y("description"),placeholder:"Description",rows:"2"})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Specifiche Tecniche"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"bag_height",children:"Bag Height (mm) *"}),p.jsx("input",{type:"number",id:"bag_height",...y("bag_height",{required:"Bag Height is required",min:{value:0,message:"Bag Height must be at least 0"}}),placeholder:"Bag Height",min:"0",step:"1",className:w.bag_height?"error":""}),Q("bag_height")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"bag_width",children:"Bag Width (mm) *"}),p.jsx("input",{type:"number",id:"bag_width",...y("bag_width",{required:"Bag Width is required",min:{value:0,message:"Bag Width must be at least 0"}}),placeholder:"Bag Width",min:"0",step:"1",className:w.bag_width?"error":""}),Q("bag_width")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"bag_step",children:"Bag Step (mm) *"}),p.jsx("input",{type:"number",id:"bag_step",...y("bag_step",{required:"Bag Step is required",min:{value:0,message:"Bag Step must be at least 0"}}),placeholder:"Bag Step",min:"0",step:"1",className:w.bag_step?"error":""}),Q("bag_step")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"seal_sides",children:"Seal Sides"}),p.jsxs("select",{id:"seal_sides",...y("seal_sides"),children:[p.jsx("option",{value:Nl.THREE,children:"3 sides"}),p.jsx("option",{value:Nl.FOUR,children:"4 sides"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"product_type",children:"Product Type *"}),p.jsxs("select",{id:"product_type",...y("product_type",{required:"Product Type is required"}),className:w.product_type?"error":"",children:[p.jsx("option",{value:"",children:"Select product type"}),p.jsx("option",{value:Zi.CREMA,children:"Crema"}),p.jsx("option",{value:Zi.LIQUIDO,children:"Liquido"}),p.jsx("option",{value:Zi.POLVERI,children:"Polveri"})]}),Q("product_type")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity",children:"Quantity *"}),p.jsx("input",{type:"number",id:"quantity",...y("quantity",{required:"Quantity is required",min:{value:0,message:"Quantity must be at least 0"}}),placeholder:"Quantity",min:"0",step:"1",className:w.quantity?"error":""}),Q("quantity")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity_per_box",children:"Qty per Box"}),p.jsx("input",{type:"number",id:"quantity_per_box",...y("quantity_per_box",{min:{value:0,message:"Quantity per Box must be at least 0"}}),placeholder:"Qty per Box",min:"0",step:"1"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity_completed",children:"Qty Completed"}),p.jsx("input",{type:"number",id:"quantity_completed",...y("quantity_completed",{min:{value:0,message:"Quantity Completed must be at least 0"}}),placeholder:"Qty Completed",min:"0",step:"1",className:w.quantity_completed?"error":""}),Q("quantity_completed")]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Dati Commerciali"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"internal_customer_code",children:"FLEXI Lot"}),p.jsx("input",{type:"text",id:"internal_customer_code",...y("internal_customer_code"),placeholder:"FLEXI Lot"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"external_customer_code",children:"Customer Lot"}),p.jsx("input",{type:"text",id:"external_customer_code",...y("external_customer_code"),placeholder:"Customer Lot"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"customer_order_ref",children:"Customer Ref"}),p.jsx("input",{type:"text",id:"customer_order_ref",...y("customer_order_ref"),placeholder:"Customer Reference"})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Dati Lavorazione & Pianificazione"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"department",children:"Department"}),p.jsx("input",{type:"text",id:"department",...y("department"),placeholder:"Department",readOnly:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"phase_search",children:"Search Production Phase *"}),p.jsxs("div",{className:"searchable-dropdown",children:[p.jsx("input",{type:"text",id:"phase_search",value:J,onChange:B=>X(B.target.value),onFocus:()=>ee(!0),onBlur:re,placeholder:"Search Production Phase",className:w.fase?"error":""}),p.jsx("input",{type:"hidden",...y("fase",{required:"Production Phase is required"})}),Q("fase"),ne&&de.length>0&&p.jsx("div",{className:"dropdown-options",children:de.map(B=>p.jsxs("div",{className:"dropdown-option",onMouseDown:()=>O(B),children:[p.jsx("span",{className:"phase-name",children:B.name}),p.jsx("span",{className:"phase-description",children:B.contenuto_fase||"No description"})]},B.id))})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"delivery_date",children:"Delivery Date *"}),p.jsx("input",{type:"datetime-local",id:"delivery_date",...y("delivery_date",{required:"Delivery Date is required"}),className:w.delivery_date?"error":""}),Q("delivery_date")]})]})]}),te&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"Selected Phase Parameters"}),p.jsx("div",{className:"form-grid form-grid--3-cols",children:te.department===xt.PRINTING?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_stampa",children:"Print Speed:"}),p.jsx("input",{type:"number",id:"v_stampa",value:fe.v_stampa||te.v_stampa||"",onChange:B=>L("v_stampa",B.target.value),placeholder:"Print Speed",min:"0"}),p.jsx("span",{className:"unit-label",children:"mt/h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_stampa",children:"Print Setup:"}),p.jsx("input",{type:"number",id:"t_setup_stampa",value:fe.t_setup_stampa||te.t_setup_stampa||"",onChange:B=>L("t_setup_stampa",B.target.value),placeholder:"Setup Time",min:"0",step:"0.1"}),p.jsx("span",{className:"unit-label",children:"h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_stampa",children:"Print Cost:"}),p.jsx("input",{type:"number",id:"costo_h_stampa",value:fe.costo_h_stampa||te.costo_h_stampa||"",onChange:B=>L("costo_h_stampa",B.target.value),placeholder:"Hourly Cost",min:"0",step:"0.01"}),p.jsx("span",{className:"unit-label",children:"/h"})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_conf",children:"Package Speed:"}),p.jsx("input",{type:"number",id:"v_conf",value:fe.v_conf||te.v_conf||"",onChange:B=>L("v_conf",B.target.value),placeholder:"Package Speed",min:"0"}),p.jsx("span",{className:"unit-label",children:"pz/h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_conf",children:"Package Setup:"}),p.jsx("input",{type:"number",id:"t_setup_conf",value:fe.t_setup_conf||te.t_setup_conf||"",onChange:B=>L("t_setup_conf",B.target.value),placeholder:"Setup Time",min:"0",step:"0.1"}),p.jsx("span",{className:"unit-label",children:"h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_conf",children:"Package Cost:"}),p.jsx("input",{type:"number",id:"costo_h_conf",value:fe.costo_h_conf||te.costo_h_conf||"",onChange:B=>L("costo_h_conf",B.target.value),placeholder:"Hourly Cost",min:"0",step:"0.01"}),p.jsx("span",{className:"unit-label",children:"/h"})]})]})})]}),h&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:" Production Calculation Results"}),p.jsxs("div",{className:"form-grid form-grid--2-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Total Duration (hours):"}),p.jsx("div",{className:"result-value",children:h.totals.duration.toFixed(2)})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Total Cost ():"}),p.jsx("div",{className:"result-value",children:h.totals.cost.toFixed(2)})]})]})]}),p.jsxs("div",{className:"form-actions",style:{marginTop:"20px"},children:[p.jsx("button",{type:"button",className:"nav-btn today",onClick:G,disabled:!te,children:"Calculate"}),p.jsx("button",{type:"submit",className:"nav-btn today",disabled:!h||S,children:S?"Adding to Backlog...":"Add to Backlog"})]})]})]})};function uO(){const{odpOrders:e,updateOdpOrder:n,removeOdpOrder:a}=Dt(),{machines:i}=zt(),{phases:l}=qn(),{selectedWorkCenter:o,isLoading:c,isInitialized:f,showAlert:h,showConfirmDialog:m}=Te(),{init:v,cleanup:y}=Za(),_=x.useMemo(()=>o?o===Ce.BOTH?e:e.filter(U=>U.work_center===o):[],[e,o]),[w,S]=Ne.useState(0),{validateOrder:R}=QA(),{handleAsync:C}=Br("BacklogPage");x.useEffect(()=>(f||v(),()=>{y()}),[v,f,y]);const T=()=>{S(U=>U+1)},D=x.useMemo(()=>[{header:"ID",accessorKey:"id"},{header:"ODP Number",accessorKey:"odp_number",cell:$e},{header:"Article Code",accessorKey:"article_code",cell:$e},{header:"External Article Code",accessorKey:"production_lot"},{header:"Work Center",accessorKey:"work_center",cell:$e},{header:"Customer",accessorKey:"nome_cliente"},{header:"Bag H (mm)",accessorKey:"bag_height",cell:$e},{header:"Bag W (mm)",accessorKey:"bag_width",cell:$e},{header:"Bag Step (mm)",accessorKey:"bag_step",cell:$e},{header:"Seals",accessorKey:"seal_sides",cell:$e},{header:"Product",accessorKey:"product_type",cell:$e},{header:"Qty",accessorKey:"quantity",cell:$e},{header:"Completed",accessorKey:"quantity_completed",cell:$e},{header:"Qty/Box",accessorKey:"quantity_per_box",cell:$e},{header:"N Boxes",accessorKey:"n_boxes"},{header:"Prod Start",accessorKey:"scheduled_start_time",cell:U=>U.getValue()?new Date(U.getValue()).toLocaleString():"-"},{header:"Prod End",accessorKey:"scheduled_start_time",cell:U=>{const Z=U.getValue();if(!Z)return"-";const J=U.row.original,X=J.time_remaining||J.duration||0;if(X<=0)return"-";const ne=new Date(Z),ee=ne.getTime()+X*60*60*1e3;return ne.setTime(ee),ne.toLocaleString()}},{header:"Delivery",accessorKey:"delivery_date",cell:U=>U.getValue()?new Date(U.getValue()).toLocaleString():"-"},{header:"FLEXI Lot",accessorKey:"internal_customer_code"},{header:"Customer Lot",accessorKey:"external_customer_code"},{header:"Customer Ref",accessorKey:"customer_order_ref"},{header:"Department",accessorKey:"department",cell:$e},{header:"Phase",accessorKey:"fase",cell:U=>{const Z=U.getValue(),J=l.find(X=>X.id===Z);return J?J.name:Z||"-"}},{header:"Duration (h)",accessorKey:"duration"},{header:"Cost ()",accessorKey:"cost"},{header:"Progress",accessorKey:"progress",cell:U=>`${U.getValue()||0}%`},{header:"Time Rem. (h)",accessorKey:"time_remaining"},{header:"Priority",accessorKey:"priority"},{header:"Status",accessorKey:"status"},{header:"Machine",accessorKey:"scheduled_machine_id",cell:U=>{const Z=U.getValue(),J=i.find(X=>X.id===Z);return J?J.machine_name:Z||"-"}}],[i,l]),A=async U=>{const Z=R(U);if(Z.length>0){h(`Validation errors:
${Z.join(`
`)}`,"error");return}U.scheduled_machine_id&&(U.scheduled_machine_id,U.original?.scheduled_machine_id),await C(()=>n(U.id,U),{context:"Update Order",fallbackMessage:"Failed to update order"})},$=async U=>{m("Delete Order",`Are you sure you want to delete ODP "${U.odp_number||U.id}"? This action cannot be undone.`,async()=>{await C(()=>a(U.id),{context:"Delete Order",fallbackMessage:"Failed to delete order"})},"danger")};return c?p.jsx("div",{children:"Loading backlog data..."}):o?p.jsxs(p.Fragment,{children:[p.jsx(oO,{onSuccess:T}),p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Production Backlog"}),p.jsx(wh,{columns:D,data:_,onSaveRow:A,onDeleteRow:$})]})]}):p.jsx("div",{className:"error",children:"Please select a work center to view backlog data."})}const Vu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function os(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function Oh(e){return"nodeType"in e}function an(e){var n,a;return e?os(e)?e:Oh(e)&&(n=(a=e.ownerDocument)==null?void 0:a.defaultView)!=null?n:window:window}function Dh(e){const{Document:n}=an(e);return e instanceof n}function Bl(e){return os(e)?!1:e instanceof an(e).HTMLElement}function fb(e){return e instanceof an(e).SVGElement}function us(e){return e?os(e)?e.document:Oh(e)?Dh(e)?e:Bl(e)||fb(e)?e.ownerDocument:document:document:document}const $r=Vu?x.useLayoutEffect:x.useEffect;function qu(e){const n=x.useRef(e);return $r(()=>{n.current=e}),x.useCallback(function(){for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return n.current==null?void 0:n.current(...i)},[])}function cO(){const e=x.useRef(null),n=x.useCallback((i,l)=>{e.current=setInterval(i,l)},[]),a=x.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,a]}function kl(e,n){n===void 0&&(n=[e]);const a=x.useRef(e);return $r(()=>{a.current!==e&&(a.current=e)},n),a}function Vl(e,n){const a=x.useRef();return x.useMemo(()=>{const i=e(a.current);return a.current=i,i},[...n])}function Du(e){const n=qu(e),a=x.useRef(null),i=x.useCallback(l=>{l!==a.current&&n?.(l,a.current),a.current=l},[]);return[a,i]}function Nu(e){const n=x.useRef();return x.useEffect(()=>{n.current=e},[e]),n.current}let Af={};function Gu(e,n){return x.useMemo(()=>{if(n)return n;const a=Af[e]==null?0:Af[e]+1;return Af[e]=a,e+"-"+a},[e,n])}function hb(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];return i.reduce((o,c)=>{const f=Object.entries(c);for(const[h,m]of f){const v=o[h];v!=null&&(o[h]=v+e*m)}return o},{...n})}}const es=hb(1),ju=hb(-1);function dO(e){return"clientX"in e&&"clientY"in e}function Nh(e){if(!e)return!1;const{KeyboardEvent:n}=an(e.target);return n&&e instanceof n}function fO(e){if(!e)return!1;const{TouchEvent:n}=an(e.target);return n&&e instanceof n}function Mu(e){if(fO(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:a}=e.touches[0];return{x:n,y:a}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:a}=e.changedTouches[0];return{x:n,y:a}}}return dO(e)?{x:e.clientX,y:e.clientY}:null}const Ul=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:a}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(a?Math.round(a):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:a}=e;return"scaleX("+n+") scaleY("+a+")"}},Transform:{toString(e){if(e)return[Ul.Translate.toString(e),Ul.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:a,easing:i}=e;return n+" "+a+"ms "+i}}}),Py="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function hO(e){return e.matches(Py)?e:e.querySelector(Py)}const gO={display:"none"};function mO(e){let{id:n,value:a}=e;return Ne.createElement("div",{id:n,style:gO},a)}function pO(e){let{id:n,announcement:a,ariaLiveType:i="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ne.createElement("div",{id:n,style:l,role:"status","aria-live":i,"aria-atomic":!0},a)}function vO(){const[e,n]=x.useState("");return{announce:x.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const gb=x.createContext(null);function yO(e){const n=x.useContext(gb);x.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function _O(){const[e]=x.useState(()=>new Set),n=x.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[x.useCallback(i=>{let{type:l,event:o}=i;e.forEach(c=>{var f;return(f=c[l])==null?void 0:f.call(c,o)})},[e]),n]}const bO={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},wO={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:a}=e;return a?"Draggable item "+n.id+" was moved over droppable area "+a.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:a}=e;return a?"Draggable item "+n.id+" was dropped over droppable area "+a.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function SO(e){let{announcements:n=wO,container:a,hiddenTextDescribedById:i,screenReaderInstructions:l=bO}=e;const{announce:o,announcement:c}=vO(),f=Gu("DndLiveRegion"),[h,m]=x.useState(!1);if(x.useEffect(()=>{m(!0)},[]),yO(x.useMemo(()=>({onDragStart(y){let{active:_}=y;o(n.onDragStart({active:_}))},onDragMove(y){let{active:_,over:w}=y;n.onDragMove&&o(n.onDragMove({active:_,over:w}))},onDragOver(y){let{active:_,over:w}=y;o(n.onDragOver({active:_,over:w}))},onDragEnd(y){let{active:_,over:w}=y;o(n.onDragEnd({active:_,over:w}))},onDragCancel(y){let{active:_,over:w}=y;o(n.onDragCancel({active:_,over:w}))}}),[o,n])),!h)return null;const v=Ne.createElement(Ne.Fragment,null,Ne.createElement(mO,{id:i,value:l.draggable}),Ne.createElement(pO,{id:f,announcement:c}));return a?vl.createPortal(v,a):v}var Nt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Nt||(Nt={}));function ku(){}const Qn=Object.freeze({x:0,y:0});function EO(e,n){const a=Mu(e);if(!a)return"0 0";const i={x:(a.x-n.left)/n.width*100,y:(a.y-n.top)/n.height*100};return i.x+"% "+i.y+"%"}function xO(e,n){let{data:{value:a}}=e,{data:{value:i}}=n;return i-a}function RO(e,n){if(!e||e.length===0)return null;const[a]=e;return a[n]}function CO(e,n){const a=Math.max(n.top,e.top),i=Math.max(n.left,e.left),l=Math.min(n.left+n.width,e.left+e.width),o=Math.min(n.top+n.height,e.top+e.height),c=l-i,f=o-a;if(i<l&&a<o){const h=n.width*n.height,m=e.width*e.height,v=c*f,y=v/(h+m-v);return Number(y.toFixed(4))}return 0}const TO=e=>{let{collisionRect:n,droppableRects:a,droppableContainers:i}=e;const l=[];for(const o of i){const{id:c}=o,f=a.get(c);if(f){const h=CO(f,n);h>0&&l.push({id:c,data:{droppableContainer:o,value:h}})}}return l.sort(xO)};function AO(e,n,a){return{...e,scaleX:n&&a?n.width/a.width:1,scaleY:n&&a?n.height/a.height:1}}function mb(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:Qn}function OO(e){return function(a){for(var i=arguments.length,l=new Array(i>1?i-1:0),o=1;o<i;o++)l[o-1]=arguments[o];return l.reduce((c,f)=>({...c,top:c.top+e*f.y,bottom:c.bottom+e*f.y,left:c.left+e*f.x,right:c.right+e*f.x}),{...a})}}const DO=OO(1);function pb(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function NO(e,n,a){const i=pb(n);if(!i)return e;const{scaleX:l,scaleY:o,x:c,y:f}=i,h=e.left-c-(1-l)*parseFloat(a),m=e.top-f-(1-o)*parseFloat(a.slice(a.indexOf(" ")+1)),v=l?e.width/l:e.width,y=o?e.height/o:e.height;return{width:v,height:y,top:m,right:h+v,bottom:m+y,left:h}}const jO={ignoreTransform:!1};function ql(e,n){n===void 0&&(n=jO);let a=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:m,transformOrigin:v}=an(e).getComputedStyle(e);m&&(a=NO(a,m,v))}const{top:i,left:l,width:o,height:c,bottom:f,right:h}=a;return{top:i,left:l,width:o,height:c,bottom:f,right:h}}function Hy(e){return ql(e,{ignoreTransform:!0})}function MO(e){const n=e.innerWidth,a=e.innerHeight;return{top:0,left:0,right:n,bottom:a,width:n,height:a}}function kO(e,n){return n===void 0&&(n=an(e).getComputedStyle(e)),n.position==="fixed"}function UO(e,n){n===void 0&&(n=an(e).getComputedStyle(e));const a=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const o=n[l];return typeof o=="string"?a.test(o):!1})}function jh(e,n){const a=[];function i(l){if(n!=null&&a.length>=n||!l)return a;if(Dh(l)&&l.scrollingElement!=null&&!a.includes(l.scrollingElement))return a.push(l.scrollingElement),a;if(!Bl(l)||fb(l)||a.includes(l))return a;const o=an(e).getComputedStyle(l);return l!==e&&UO(l,o)&&a.push(l),kO(l,o)?a:i(l.parentNode)}return e?i(e):a}function vb(e){const[n]=jh(e,1);return n??null}function Of(e){return!Vu||!e?null:os(e)?e:Oh(e)?Dh(e)||e===us(e).scrollingElement?window:Bl(e)?e:null:null}function yb(e){return os(e)?e.scrollX:e.scrollLeft}function _b(e){return os(e)?e.scrollY:e.scrollTop}function Jf(e){return{x:yb(e),y:_b(e)}}var Ht;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ht||(Ht={}));function bb(e){return!Vu||!e?!1:e===document.scrollingElement}function wb(e){const n={x:0,y:0},a=bb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-a.width,y:e.scrollHeight-a.height},l=e.scrollTop<=n.y,o=e.scrollLeft<=n.x,c=e.scrollTop>=i.y,f=e.scrollLeft>=i.x;return{isTop:l,isLeft:o,isBottom:c,isRight:f,maxScroll:i,minScroll:n}}const LO={x:.2,y:.2};function PO(e,n,a,i,l){let{top:o,left:c,right:f,bottom:h}=a;i===void 0&&(i=10),l===void 0&&(l=LO);const{isTop:m,isBottom:v,isLeft:y,isRight:_}=wb(e),w={x:0,y:0},S={x:0,y:0},R={height:n.height*l.y,width:n.width*l.x};return!m&&o<=n.top+R.height?(w.y=Ht.Backward,S.y=i*Math.abs((n.top+R.height-o)/R.height)):!v&&h>=n.bottom-R.height&&(w.y=Ht.Forward,S.y=i*Math.abs((n.bottom-R.height-h)/R.height)),!_&&f>=n.right-R.width?(w.x=Ht.Forward,S.x=i*Math.abs((n.right-R.width-f)/R.width)):!y&&c<=n.left+R.width&&(w.x=Ht.Backward,S.x=i*Math.abs((n.left+R.width-c)/R.width)),{direction:w,speed:S}}function HO(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:c}=window;return{top:0,left:0,right:o,bottom:c,width:o,height:c}}const{top:n,left:a,right:i,bottom:l}=e.getBoundingClientRect();return{top:n,left:a,right:i,bottom:l,width:e.clientWidth,height:e.clientHeight}}function Sb(e){return e.reduce((n,a)=>es(n,Jf(a)),Qn)}function zO(e){return e.reduce((n,a)=>n+yb(a),0)}function FO(e){return e.reduce((n,a)=>n+_b(a),0)}function Eb(e,n){if(n===void 0&&(n=ql),!e)return;const{top:a,left:i,bottom:l,right:o}=n(e);vb(e)&&(l<=0||o<=0||a>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const IO=[["x",["left","right"],zO],["y",["top","bottom"],FO]];class Mh{constructor(n,a){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=jh(a),l=Sb(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[o,c,f]of IO)for(const h of c)Object.defineProperty(this,h,{get:()=>{const m=f(i),v=l[o]-m;return this.rect[h]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Cl{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...a)})},this.target=n}add(n,a,i){var l;(l=this.target)==null||l.addEventListener(n,a,i),this.listeners.push([n,a,i])}}function $O(e){const{EventTarget:n}=an(e);return e instanceof n?e:us(e)}function Df(e,n){const a=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(a**2+i**2)>n:"x"in n&&"y"in n?a>n.x&&i>n.y:"x"in n?a>n.x:"y"in n?i>n.y:!1}var Un;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Un||(Un={}));function zy(e){e.preventDefault()}function BO(e){e.stopPropagation()}var Je;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Je||(Je={}));const xb={start:[Je.Space,Je.Enter],cancel:[Je.Esc],end:[Je.Space,Je.Enter,Je.Tab]},VO=(e,n)=>{let{currentCoordinates:a}=n;switch(e.code){case Je.Right:return{...a,x:a.x+25};case Je.Left:return{...a,x:a.x-25};case Je.Down:return{...a,y:a.y+25};case Je.Up:return{...a,y:a.y-25}}};class Rb{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:a}}=n;this.props=n,this.listeners=new Cl(us(a)),this.windowListeners=new Cl(an(a)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Un.Resize,this.handleCancel),this.windowListeners.add(Un.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Un.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:a}=this.props,i=n.node.current;i&&Eb(i),a(Qn)}handleKeyDown(n){if(Nh(n)){const{active:a,context:i,options:l}=this.props,{keyboardCodes:o=xb,coordinateGetter:c=VO,scrollBehavior:f="smooth"}=l,{code:h}=n;if(o.end.includes(h)){this.handleEnd(n);return}if(o.cancel.includes(h)){this.handleCancel(n);return}const{collisionRect:m}=i.current,v=m?{x:m.left,y:m.top}:Qn;this.referenceCoordinates||(this.referenceCoordinates=v);const y=c(n,{active:a,context:i.current,currentCoordinates:v});if(y){const _=ju(y,v),w={x:0,y:0},{scrollableAncestors:S}=i.current;for(const R of S){const C=n.code,{isTop:T,isRight:D,isLeft:A,isBottom:$,maxScroll:U,minScroll:Z}=wb(R),J=HO(R),X={x:Math.min(C===Je.Right?J.right-J.width/2:J.right,Math.max(C===Je.Right?J.left:J.left+J.width/2,y.x)),y:Math.min(C===Je.Down?J.bottom-J.height/2:J.bottom,Math.max(C===Je.Down?J.top:J.top+J.height/2,y.y))},ne=C===Je.Right&&!D||C===Je.Left&&!A,ee=C===Je.Down&&!$||C===Je.Up&&!T;if(ne&&X.x!==y.x){const te=R.scrollLeft+_.x,ie=C===Je.Right&&te<=U.x||C===Je.Left&&te>=Z.x;if(ie&&!_.y){R.scrollTo({left:te,behavior:f});return}ie?w.x=R.scrollLeft-te:w.x=C===Je.Right?R.scrollLeft-U.x:R.scrollLeft-Z.x,w.x&&R.scrollBy({left:-w.x,behavior:f});break}else if(ee&&X.y!==y.y){const te=R.scrollTop+_.y,ie=C===Je.Down&&te<=U.y||C===Je.Up&&te>=Z.y;if(ie&&!_.x){R.scrollTo({top:te,behavior:f});return}ie?w.y=R.scrollTop-te:w.y=C===Je.Down?R.scrollTop-U.y:R.scrollTop-Z.y,w.y&&R.scrollBy({top:-w.y,behavior:f});break}}this.handleMove(n,es(ju(y,this.referenceCoordinates),w))}}}handleMove(n,a){const{onMove:i}=this.props;n.preventDefault(),i(a)}handleEnd(n){const{onEnd:a}=this.props;n.preventDefault(),this.detach(),a()}handleCancel(n){const{onCancel:a}=this.props;n.preventDefault(),this.detach(),a()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Rb.activators=[{eventName:"onKeyDown",handler:(e,n,a)=>{let{keyboardCodes:i=xb,onActivation:l}=n,{active:o}=a;const{code:c}=e.nativeEvent;if(i.start.includes(c)){const f=o.activatorNode.current;return f&&e.target!==f?!1:(e.preventDefault(),l?.({event:e.nativeEvent}),!0)}return!1}}];function Fy(e){return!!(e&&"distance"in e)}function Iy(e){return!!(e&&"delay"in e)}class kh{constructor(n,a,i){var l;i===void 0&&(i=$O(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=a;const{event:o}=n,{target:c}=o;this.props=n,this.events=a,this.document=us(c),this.documentListeners=new Cl(this.document),this.listeners=new Cl(i),this.windowListeners=new Cl(an(c)),this.initialCoordinates=(l=Mu(o))!=null?l:Qn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:a,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(Un.Resize,this.handleCancel),this.windowListeners.add(Un.DragStart,zy),this.windowListeners.add(Un.VisibilityChange,this.handleCancel),this.windowListeners.add(Un.ContextMenu,zy),this.documentListeners.add(Un.Keydown,this.handleKeydown),a){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Iy(a)){this.timeoutId=setTimeout(this.handleStart,a.delay),this.handlePending(a);return}if(Fy(a)){this.handlePending(a);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,a){const{active:i,onPending:l}=this.props;l(i,n,this.initialCoordinates,a)}handleStart(){const{initialCoordinates:n}=this,{onStart:a}=this.props;n&&(this.activated=!0,this.documentListeners.add(Un.Click,BO,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Un.SelectionChange,this.removeTextSelection),a(n))}handleMove(n){var a;const{activated:i,initialCoordinates:l,props:o}=this,{onMove:c,options:{activationConstraint:f}}=o;if(!l)return;const h=(a=Mu(n))!=null?a:Qn,m=ju(l,h);if(!i&&f){if(Fy(f)){if(f.tolerance!=null&&Df(m,f.tolerance))return this.handleCancel();if(Df(m,f.distance))return this.handleStart()}if(Iy(f)&&Df(m,f.tolerance))return this.handleCancel();this.handlePending(f,m);return}n.cancelable&&n.preventDefault(),c(h)}handleEnd(){const{onAbort:n,onEnd:a}=this.props;this.detach(),this.activated||n(this.props.active),a()}handleCancel(){const{onAbort:n,onCancel:a}=this.props;this.detach(),this.activated||n(this.props.active),a()}handleKeydown(n){n.code===Je.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const qO={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Cb extends kh{constructor(n){const{event:a}=n,i=us(a.target);super(n,qO,i)}}Cb.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;return!a.isPrimary||a.button!==0?!1:(i?.({event:a}),!0)}}];const GO={move:{name:"mousemove"},end:{name:"mouseup"}};var eh;(function(e){e[e.RightClick=2]="RightClick"})(eh||(eh={}));class YO extends kh{constructor(n){super(n,GO,us(n.event.target))}}YO.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;return a.button===eh.RightClick?!1:(i?.({event:a}),!0)}}];const Nf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class KO extends kh{constructor(n){super(n,Nf)}static setup(){return window.addEventListener(Nf.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Nf.move.name,n)};function n(){}}}KO.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;const{touches:l}=a;return l.length>1?!1:(i?.({event:a}),!0)}}];var Tl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Tl||(Tl={}));var Uu;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Uu||(Uu={}));function XO(e){let{acceleration:n,activator:a=Tl.Pointer,canScroll:i,draggingRect:l,enabled:o,interval:c=5,order:f=Uu.TreeOrder,pointerCoordinates:h,scrollableAncestors:m,scrollableAncestorRects:v,delta:y,threshold:_}=e;const w=QO({delta:y,disabled:!o}),[S,R]=cO(),C=x.useRef({x:0,y:0}),T=x.useRef({x:0,y:0}),D=x.useMemo(()=>{switch(a){case Tl.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case Tl.DraggableRect:return l}},[a,l,h]),A=x.useRef(null),$=x.useCallback(()=>{const Z=A.current;if(!Z)return;const J=C.current.x*T.current.x,X=C.current.y*T.current.y;Z.scrollBy(J,X)},[]),U=x.useMemo(()=>f===Uu.TreeOrder?[...m].reverse():m,[f,m]);x.useEffect(()=>{if(!o||!m.length||!D){R();return}for(const Z of U){if(i?.(Z)===!1)continue;const J=m.indexOf(Z),X=v[J];if(!X)continue;const{direction:ne,speed:ee}=PO(Z,X,D,n,_);for(const te of["x","y"])w[te][ne[te]]||(ee[te]=0,ne[te]=0);if(ee.x>0||ee.y>0){R(),A.current=Z,S($,c),C.current=ee,T.current=ne;return}}C.current={x:0,y:0},T.current={x:0,y:0},R()},[n,$,i,R,o,c,JSON.stringify(D),JSON.stringify(w),S,m,U,v,JSON.stringify(_)])}const WO={x:{[Ht.Backward]:!1,[Ht.Forward]:!1},y:{[Ht.Backward]:!1,[Ht.Forward]:!1}};function QO(e){let{delta:n,disabled:a}=e;const i=Nu(n);return Vl(l=>{if(a||!i||!l)return WO;const o={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[Ht.Backward]:l.x[Ht.Backward]||o.x===-1,[Ht.Forward]:l.x[Ht.Forward]||o.x===1},y:{[Ht.Backward]:l.y[Ht.Backward]||o.y===-1,[Ht.Forward]:l.y[Ht.Forward]||o.y===1}}},[a,n,i])}function ZO(e,n){const a=n!=null?e.get(n):void 0,i=a?a.node.current:null;return Vl(l=>{var o;return n==null?null:(o=i??l)!=null?o:null},[i,n])}function JO(e,n){return x.useMemo(()=>e.reduce((a,i)=>{const{sensor:l}=i,o=l.activators.map(c=>({eventName:c.eventName,handler:n(c.handler,i)}));return[...a,...o]},[]),[e,n])}var Ll;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ll||(Ll={}));var th;(function(e){e.Optimized="optimized"})(th||(th={}));const $y=new Map;function eD(e,n){let{dragging:a,dependencies:i,config:l}=n;const[o,c]=x.useState(null),{frequency:f,measure:h,strategy:m}=l,v=x.useRef(e),y=C(),_=kl(y),w=x.useCallback(function(T){T===void 0&&(T=[]),!_.current&&c(D=>D===null?T:D.concat(T.filter(A=>!D.includes(A))))},[_]),S=x.useRef(null),R=Vl(T=>{if(y&&!a)return $y;if(!T||T===$y||v.current!==e||o!=null){const D=new Map;for(let A of e){if(!A)continue;if(o&&o.length>0&&!o.includes(A.id)&&A.rect.current){D.set(A.id,A.rect.current);continue}const $=A.node.current,U=$?new Mh(h($),$):null;A.rect.current=U,U&&D.set(A.id,U)}return D}return T},[e,o,a,y,h]);return x.useEffect(()=>{v.current=e},[e]),x.useEffect(()=>{y||w()},[a,y]),x.useEffect(()=>{o&&o.length>0&&c(null)},[JSON.stringify(o)]),x.useEffect(()=>{y||typeof f!="number"||S.current!==null||(S.current=setTimeout(()=>{w(),S.current=null},f))},[f,y,w,...i]),{droppableRects:R,measureDroppableContainers:w,measuringScheduled:o!=null};function C(){switch(m){case Ll.Always:return!1;case Ll.BeforeDragging:return a;default:return!a}}}function Uh(e,n){return Vl(a=>e?a||(typeof n=="function"?n(e):e):null,[n,e])}function tD(e,n){return Uh(e,n)}function nD(e){let{callback:n,disabled:a}=e;const i=qu(n),l=x.useMemo(()=>{if(a||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(i)},[i,a]);return x.useEffect(()=>()=>l?.disconnect(),[l]),l}function Yu(e){let{callback:n,disabled:a}=e;const i=qu(n),l=x.useMemo(()=>{if(a||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(i)},[a]);return x.useEffect(()=>()=>l?.disconnect(),[l]),l}function rD(e){return new Mh(ql(e),e)}function By(e,n,a){n===void 0&&(n=rD);const[i,l]=x.useState(null);function o(){l(h=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=h??a)!=null?m:null}const v=n(e);return JSON.stringify(h)===JSON.stringify(v)?h:v})}const c=nD({callback(h){if(e)for(const m of h){const{type:v,target:y}=m;if(v==="childList"&&y instanceof HTMLElement&&y.contains(e)){o();break}}}}),f=Yu({callback:o});return $r(()=>{o(),e?(f?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(f?.disconnect(),c?.disconnect())},[e]),i}function aD(e){const n=Uh(e);return mb(e,n)}const Vy=[];function iD(e){const n=x.useRef(e),a=Vl(i=>e?i&&i!==Vy&&e&&n.current&&e.parentNode===n.current.parentNode?i:jh(e):Vy,[e]);return x.useEffect(()=>{n.current=e},[e]),a}function sD(e){const[n,a]=x.useState(null),i=x.useRef(e),l=x.useCallback(o=>{const c=Of(o.target);c&&a(f=>f?(f.set(c,Jf(c)),new Map(f)):null)},[]);return x.useEffect(()=>{const o=i.current;if(e!==o){c(o);const f=e.map(h=>{const m=Of(h);return m?(m.addEventListener("scroll",l,{passive:!0}),[m,Jf(m)]):null}).filter(h=>h!=null);a(f.length?new Map(f):null),i.current=e}return()=>{c(e),c(o)};function c(f){f.forEach(h=>{const m=Of(h);m?.removeEventListener("scroll",l)})}},[l,e]),x.useMemo(()=>e.length?n?Array.from(n.values()).reduce((o,c)=>es(o,c),Qn):Sb(e):Qn,[e,n])}function qy(e,n){n===void 0&&(n=[]);const a=x.useRef(null);return x.useEffect(()=>{a.current=null},n),x.useEffect(()=>{const i=e!==Qn;i&&!a.current&&(a.current=e),!i&&a.current&&(a.current=null)},[e]),a.current?ju(e,a.current):Qn}function lD(e){x.useEffect(()=>{if(!Vu)return;const n=e.map(a=>{let{sensor:i}=a;return i.setup==null?void 0:i.setup()});return()=>{for(const a of n)a?.()}},e.map(n=>{let{sensor:a}=n;return a}))}function oD(e,n){return x.useMemo(()=>e.reduce((a,i)=>{let{eventName:l,handler:o}=i;return a[l]=c=>{o(c,n)},a},{}),[e,n])}function Tb(e){return x.useMemo(()=>e?MO(e):null,[e])}const Gy=[];function uD(e,n){n===void 0&&(n=ql);const[a]=e,i=Tb(a?an(a):null),[l,o]=x.useState(Gy);function c(){o(()=>e.length?e.map(h=>bb(h)?i:new Mh(n(h),h)):Gy)}const f=Yu({callback:c});return $r(()=>{f?.disconnect(),c(),e.forEach(h=>f?.observe(h))},[e]),l}function Ab(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return Bl(n)?n:e}function cD(e){let{measure:n}=e;const[a,i]=x.useState(null),l=x.useCallback(m=>{for(const{target:v}of m)if(Bl(v)){i(y=>{const _=n(v);return y?{...y,width:_.width,height:_.height}:_});break}},[n]),o=Yu({callback:l}),c=x.useCallback(m=>{const v=Ab(m);o?.disconnect(),v&&o?.observe(v),i(v?n(v):null)},[n,o]),[f,h]=Du(c);return x.useMemo(()=>({nodeRef:f,rect:a,setRef:h}),[a,f,h])}const dD=[{sensor:Cb,options:{}},{sensor:Rb,options:{}}],fD={current:{}},wu={draggable:{measure:Hy},droppable:{measure:Hy,strategy:Ll.WhileDragging,frequency:th.Optimized},dragOverlay:{measure:ql}};class Al extends Map{get(n){var a;return n!=null&&(a=super.get(n))!=null?a:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:a}=n;return!a})}getNodeFor(n){var a,i;return(a=(i=this.get(n))==null?void 0:i.node.current)!=null?a:void 0}}const hD={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Al,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ku},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:wu,measureDroppableContainers:ku,windowRect:null,measuringScheduled:!1},Ob={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ku,draggableNodes:new Map,over:null,measureDroppableContainers:ku},Gl=x.createContext(Ob),Db=x.createContext(hD);function gD(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Al}}}function mD(e,n){switch(n.type){case Nt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case Nt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case Nt.DragEnd:case Nt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Nt.RegisterDroppable:{const{element:a}=n,{id:i}=a,l=new Al(e.droppable.containers);return l.set(i,a),{...e,droppable:{...e.droppable,containers:l}}}case Nt.SetDroppableDisabled:{const{id:a,key:i,disabled:l}=n,o=e.droppable.containers.get(a);if(!o||i!==o.key)return e;const c=new Al(e.droppable.containers);return c.set(a,{...o,disabled:l}),{...e,droppable:{...e.droppable,containers:c}}}case Nt.UnregisterDroppable:{const{id:a,key:i}=n,l=e.droppable.containers.get(a);if(!l||i!==l.key)return e;const o=new Al(e.droppable.containers);return o.delete(a),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function pD(e){let{disabled:n}=e;const{active:a,activatorEvent:i,draggableNodes:l}=x.useContext(Gl),o=Nu(i),c=Nu(a?.id);return x.useEffect(()=>{if(!n&&!i&&o&&c!=null){if(!Nh(o)||document.activeElement===o.target)return;const f=l.get(c);if(!f)return;const{activatorNode:h,node:m}=f;if(!h.current&&!m.current)return;requestAnimationFrame(()=>{for(const v of[h.current,m.current]){if(!v)continue;const y=hO(v);if(y){y.focus();break}}})}},[i,n,l,c,o]),null}function Nb(e,n){let{transform:a,...i}=n;return e!=null&&e.length?e.reduce((l,o)=>o({transform:l,...i}),a):a}function vD(e){return x.useMemo(()=>({draggable:{...wu.draggable,...e?.draggable},droppable:{...wu.droppable,...e?.droppable},dragOverlay:{...wu.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function yD(e){let{activeNode:n,measure:a,initialRect:i,config:l=!0}=e;const o=x.useRef(!1),{x:c,y:f}=typeof l=="boolean"?{x:l,y:l}:l;$r(()=>{if(!c&&!f||!n){o.current=!1;return}if(o.current||!i)return;const m=n?.node.current;if(!m||m.isConnected===!1)return;const v=a(m),y=mb(v,i);if(c||(y.x=0),f||(y.y=0),o.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const _=vb(m);_&&_.scrollBy({top:y.y,left:y.x})}},[n,c,f,i,a])}const Ku=x.createContext({...Qn,scaleX:1,scaleY:1});var ya;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ya||(ya={}));const _D=x.memo(function(n){var a,i,l,o;let{id:c,accessibility:f,autoScroll:h=!0,children:m,sensors:v=dD,collisionDetection:y=TO,measuring:_,modifiers:w,...S}=n;const R=x.useReducer(mD,void 0,gD),[C,T]=R,[D,A]=_O(),[$,U]=x.useState(ya.Uninitialized),Z=$===ya.Initialized,{draggable:{active:J,nodes:X,translate:ne},droppable:{containers:ee}}=C,te=J!=null?X.get(J):null,ie=x.useRef({initial:null,translated:null}),de=x.useMemo(()=>{var ft;return J!=null?{id:J,data:(ft=te?.data)!=null?ft:fD,rect:ie}:null},[J,te]),fe=x.useRef(null),[we,L]=x.useState(null),[W,re]=x.useState(null),se=kl(S,Object.values(S)),O=Gu("DndDescribedBy",c),G=x.useMemo(()=>ee.getEnabled(),[ee]),Q=vD(_),{droppableRects:B,measureDroppableContainers:oe,measuringScheduled:Se}=eD(G,{dragging:Z,dependencies:[ne.x,ne.y],config:Q.droppable}),ce=ZO(X,J),ze=x.useMemo(()=>W?Mu(W):null,[W]),ye=ds(),mt=tD(ce,Q.draggable.measure);yD({activeNode:J!=null?X.get(J):null,config:ye.layoutShiftCompensation,initialRect:mt,measure:Q.draggable.measure});const rt=By(ce,Q.draggable.measure,mt),sn=By(ce?ce.parentElement:null),_t=x.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:B,draggableNodes:X,draggingNode:null,draggingNodeRect:null,droppableContainers:ee,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Vr=ee.getNodeFor((a=_t.current.over)==null?void 0:a.id),ln=cD({measure:Q.dragOverlay.measure}),gr=(i=ln.nodeRef.current)!=null?i:ce,Jn=Z?(l=ln.rect)!=null?l:rt:null,Jt=!!(ln.nodeRef.current&&ln.rect),cs=aD(Jt?null:rt),mr=Tb(gr?an(gr):null),j=iD(Z?Vr??ce:null),H=uD(j),V=Nb(w,{transform:{x:ne.x-cs.x,y:ne.y-cs.y,scaleX:1,scaleY:1},activatorEvent:W,active:de,activeNodeRect:rt,containerNodeRect:sn,draggingNodeRect:Jn,over:_t.current.over,overlayNodeRect:ln.rect,scrollableAncestors:j,scrollableAncestorRects:H,windowRect:mr}),ue=ze?es(ze,ne):null,le=sD(j),ae=qy(le),ge=qy(le,[rt]),_e=es(V,ae),Ae=Jn?DO(Jn,V):null,Fe=de&&Ae?y({active:de,collisionRect:Ae,droppableRects:B,droppableContainers:G,pointerCoordinates:ue}):null,pr=RO(Fe,"id"),[Rt,Ja]=x.useState(null),er=Jt?V:es(V,ge),tr=AO(er,(o=Rt?.rect)!=null?o:null,rt),hn=x.useRef(null),nr=x.useCallback((ft,en)=>{let{sensor:qt,options:Hn}=en;if(fe.current==null)return;const Gt=X.get(fe.current);if(!Gt)return;const Ft=ft.nativeEvent,gn=new qt({active:fe.current,activeNode:Gt,event:Ft,options:Hn,context:_t,onAbort(et){if(!X.get(et))return;const{onDragAbort:it}=se.current,Yt={id:et};it?.(Yt),D({type:"onDragAbort",event:Yt})},onPending(et,at,it,Yt){if(!X.get(et))return;const{onDragPending:Ca}=se.current,rr={id:et,constraint:at,initialCoordinates:it,offset:Yt};Ca?.(rr),D({type:"onDragPending",event:rr})},onStart(et){const at=fe.current;if(at==null)return;const it=X.get(at);if(!it)return;const{onDragStart:Yt}=se.current,yr={activatorEvent:Ft,active:{id:at,data:it.data,rect:ie}};vl.unstable_batchedUpdates(()=>{Yt?.(yr),U(ya.Initializing),T({type:Nt.DragStart,initialCoordinates:et,active:at}),D({type:"onDragStart",event:yr}),L(hn.current),re(Ft)})},onMove(et){T({type:Nt.DragMove,coordinates:et})},onEnd:qr(Nt.DragEnd),onCancel:qr(Nt.DragCancel)});hn.current=gn;function qr(et){return async function(){const{active:it,collisions:Yt,over:yr,scrollAdjustedTranslate:Ca}=_t.current;let rr=null;if(it&&Ca){const{cancelDrop:Gr}=se.current;rr={activatorEvent:Ft,active:it,collisions:Yt,delta:Ca,over:yr},et===Nt.DragEnd&&typeof Gr=="function"&&await Promise.resolve(Gr(rr))&&(et=Nt.DragCancel)}fe.current=null,vl.unstable_batchedUpdates(()=>{T({type:et}),U(ya.Uninitialized),Ja(null),L(null),re(null),hn.current=null;const Gr=et===Nt.DragEnd?"onDragEnd":"onDragCancel";if(rr){const _r=se.current[Gr];_r?.(rr),D({type:Gr,event:rr})}})}}},[X]),vr=x.useCallback((ft,en)=>(qt,Hn)=>{const Gt=qt.nativeEvent,Ft=X.get(Hn);if(fe.current!==null||!Ft||Gt.dndKit||Gt.defaultPrevented)return;const gn={active:Ft};ft(qt,en.options,gn)===!0&&(Gt.dndKit={capturedBy:en.sensor},fe.current=Hn,nr(qt,en))},[X,nr]),Ra=JO(v,vr);lD(v),$r(()=>{rt&&$===ya.Initializing&&U(ya.Initialized)},[rt,$]),x.useEffect(()=>{const{onDragMove:ft}=se.current,{active:en,activatorEvent:qt,collisions:Hn,over:Gt}=_t.current;if(!en||!qt)return;const Ft={active:en,activatorEvent:qt,collisions:Hn,delta:{x:_e.x,y:_e.y},over:Gt};vl.unstable_batchedUpdates(()=>{ft?.(Ft),D({type:"onDragMove",event:Ft})})},[_e.x,_e.y]),x.useEffect(()=>{const{active:ft,activatorEvent:en,collisions:qt,droppableContainers:Hn,scrollAdjustedTranslate:Gt}=_t.current;if(!ft||fe.current==null||!en||!Gt)return;const{onDragOver:Ft}=se.current,gn=Hn.get(pr),qr=gn&&gn.rect.current?{id:gn.id,rect:gn.rect.current,data:gn.data,disabled:gn.disabled}:null,et={active:ft,activatorEvent:en,collisions:qt,delta:{x:Gt.x,y:Gt.y},over:qr};vl.unstable_batchedUpdates(()=>{Ja(qr),Ft?.(et),D({type:"onDragOver",event:et})})},[pr]),$r(()=>{_t.current={activatorEvent:W,active:de,activeNode:ce,collisionRect:Ae,collisions:Fe,droppableRects:B,draggableNodes:X,draggingNode:gr,draggingNodeRect:Jn,droppableContainers:ee,over:Rt,scrollableAncestors:j,scrollAdjustedTranslate:_e},ie.current={initial:Jn,translated:Ae}},[de,ce,Fe,Ae,X,gr,Jn,B,ee,Rt,j,_e]),XO({...ye,delta:ne,draggingRect:Ae,pointerCoordinates:ue,scrollableAncestors:j,scrollableAncestorRects:H});const Yl=x.useMemo(()=>({active:de,activeNode:ce,activeNodeRect:rt,activatorEvent:W,collisions:Fe,containerNodeRect:sn,dragOverlay:ln,draggableNodes:X,droppableContainers:ee,droppableRects:B,over:Rt,measureDroppableContainers:oe,scrollableAncestors:j,scrollableAncestorRects:H,measuringConfiguration:Q,measuringScheduled:Se,windowRect:mr}),[de,ce,rt,W,Fe,sn,ln,X,ee,B,Rt,oe,j,H,Q,Se,mr]),Kl=x.useMemo(()=>({activatorEvent:W,activators:Ra,active:de,activeNodeRect:rt,ariaDescribedById:{draggable:O},dispatch:T,draggableNodes:X,over:Rt,measureDroppableContainers:oe}),[W,Ra,de,rt,T,O,X,Rt,oe]);return Ne.createElement(gb.Provider,{value:A},Ne.createElement(Gl.Provider,{value:Kl},Ne.createElement(Db.Provider,{value:Yl},Ne.createElement(Ku.Provider,{value:tr},m)),Ne.createElement(pD,{disabled:f?.restoreFocus===!1})),Ne.createElement(SO,{...f,hiddenTextDescribedById:O}));function ds(){const ft=we?.autoScrollEnabled===!1,en=typeof h=="object"?h.enabled===!1:h===!1,qt=Z&&!ft&&!en;return typeof h=="object"?{...h,enabled:qt}:{enabled:qt}}}),bD=x.createContext(null),Yy="button",wD="Draggable";function s1(e){let{id:n,data:a,disabled:i=!1,attributes:l}=e;const o=Gu(wD),{activators:c,activatorEvent:f,active:h,activeNodeRect:m,ariaDescribedById:v,draggableNodes:y,over:_}=x.useContext(Gl),{role:w=Yy,roleDescription:S="draggable",tabIndex:R=0}=l??{},C=h?.id===n,T=x.useContext(C?Ku:bD),[D,A]=Du(),[$,U]=Du(),Z=oD(c,n),J=kl(a);$r(()=>(y.set(n,{id:n,key:o,node:D,activatorNode:$,data:J}),()=>{const ne=y.get(n);ne&&ne.key===o&&y.delete(n)}),[y,n]);const X=x.useMemo(()=>({role:w,tabIndex:R,"aria-disabled":i,"aria-pressed":C&&w===Yy?!0:void 0,"aria-roledescription":S,"aria-describedby":v.draggable}),[i,w,R,C,S,v.draggable]);return{active:h,activatorEvent:f,activeNodeRect:m,attributes:X,isDragging:C,listeners:i?void 0:Z,node:D,over:_,setNodeRef:A,setActivatorNodeRef:U,transform:T}}function SD(){return x.useContext(Db)}const ED="Droppable",xD={timeout:25};function l1(e){let{data:n,disabled:a=!1,id:i,resizeObserverConfig:l}=e;const o=Gu(ED),{active:c,dispatch:f,over:h,measureDroppableContainers:m}=x.useContext(Gl),v=x.useRef({disabled:a}),y=x.useRef(!1),_=x.useRef(null),w=x.useRef(null),{disabled:S,updateMeasurementsFor:R,timeout:C}={...xD,...l},T=kl(R??i),D=x.useCallback(()=>{if(!y.current){y.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{m(Array.isArray(T.current)?T.current:[T.current]),w.current=null},C)},[C]),A=Yu({callback:D,disabled:S||!c}),$=x.useCallback((X,ne)=>{A&&(ne&&(A.unobserve(ne),y.current=!1),X&&A.observe(X))},[A]),[U,Z]=Du($),J=kl(n);return x.useEffect(()=>{!A||!U.current||(A.disconnect(),y.current=!1,A.observe(U.current))},[U,A]),x.useEffect(()=>(f({type:Nt.RegisterDroppable,element:{id:i,key:o,disabled:a,node:U,rect:_,data:J}}),()=>f({type:Nt.UnregisterDroppable,key:o,id:i})),[i]),x.useEffect(()=>{a!==v.current.disabled&&(f({type:Nt.SetDroppableDisabled,id:i,key:o,disabled:a}),v.current.disabled=a)},[i,o,a,f]),{active:c,rect:_,isOver:h?.id===i,node:U,over:h,setNodeRef:Z}}function RD(e){let{animation:n,children:a}=e;const[i,l]=x.useState(null),[o,c]=x.useState(null),f=Nu(a);return!a&&!i&&f&&l(f),$r(()=>{if(!o)return;const h=i?.key,m=i?.props.id;if(h==null||m==null){l(null);return}Promise.resolve(n(m,o)).then(()=>{l(null)})},[n,i,o]),Ne.createElement(Ne.Fragment,null,a,i?x.cloneElement(i,{ref:c}):null)}const CD={x:0,y:0,scaleX:1,scaleY:1};function TD(e){let{children:n}=e;return Ne.createElement(Gl.Provider,{value:Ob},Ne.createElement(Ku.Provider,{value:CD},n))}const AD={position:"fixed",touchAction:"none"},OD=e=>Nh(e)?"transform 250ms ease":void 0,DD=x.forwardRef((e,n)=>{let{as:a,activatorEvent:i,adjustScale:l,children:o,className:c,rect:f,style:h,transform:m,transition:v=OD}=e;if(!f)return null;const y=l?m:{...m,scaleX:1,scaleY:1},_={...AD,width:f.width,height:f.height,top:f.top,left:f.left,transform:Ul.Transform.toString(y),transformOrigin:l&&i?EO(i,f):void 0,transition:typeof v=="function"?v(i):v,...h};return Ne.createElement(a,{className:c,style:_,ref:n},o)}),ND=e=>n=>{let{active:a,dragOverlay:i}=n;const l={},{styles:o,className:c}=e;if(o!=null&&o.active)for(const[f,h]of Object.entries(o.active))h!==void 0&&(l[f]=a.node.style.getPropertyValue(f),a.node.style.setProperty(f,h));if(o!=null&&o.dragOverlay)for(const[f,h]of Object.entries(o.dragOverlay))h!==void 0&&i.node.style.setProperty(f,h);return c!=null&&c.active&&a.node.classList.add(c.active),c!=null&&c.dragOverlay&&i.node.classList.add(c.dragOverlay),function(){for(const[h,m]of Object.entries(l))a.node.style.setProperty(h,m);c!=null&&c.active&&a.node.classList.remove(c.active)}},jD=e=>{let{transform:{initial:n,final:a}}=e;return[{transform:Ul.Transform.toString(n)},{transform:Ul.Transform.toString(a)}]},MD={duration:250,easing:"ease",keyframes:jD,sideEffects:ND({styles:{active:{opacity:"0"}}})};function kD(e){let{config:n,draggableNodes:a,droppableContainers:i,measuringConfiguration:l}=e;return qu((o,c)=>{if(n===null)return;const f=a.get(o);if(!f)return;const h=f.node.current;if(!h)return;const m=Ab(c);if(!m)return;const{transform:v}=an(c).getComputedStyle(c),y=pb(v);if(!y)return;const _=typeof n=="function"?n:UD(n);return Eb(h,l.draggable.measure),_({active:{id:o,data:f.data,node:h,rect:l.draggable.measure(h)},draggableNodes:a,dragOverlay:{node:c,rect:l.dragOverlay.measure(m)},droppableContainers:i,measuringConfiguration:l,transform:y})})}function UD(e){const{duration:n,easing:a,sideEffects:i,keyframes:l}={...MD,...e};return o=>{let{active:c,dragOverlay:f,transform:h,...m}=o;if(!n)return;const v={x:f.rect.left-c.rect.left,y:f.rect.top-c.rect.top},y={scaleX:h.scaleX!==1?c.rect.width*h.scaleX/f.rect.width:1,scaleY:h.scaleY!==1?c.rect.height*h.scaleY/f.rect.height:1},_={x:h.x-v.x,y:h.y-v.y,...y},w=l({...m,active:c,dragOverlay:f,transform:{initial:h,final:_}}),[S]=w,R=w[w.length-1];if(JSON.stringify(S)===JSON.stringify(R))return;const C=i?.({active:c,dragOverlay:f,...m}),T=f.node.animate(w,{duration:n,easing:a,fill:"forwards"});return new Promise(D=>{T.onfinish=()=>{C?.(),D()}})}}let Ky=0;function LD(e){return x.useMemo(()=>{if(e!=null)return Ky++,Ky},[e])}const PD=Ne.memo(e=>{let{adjustScale:n=!1,children:a,dropAnimation:i,style:l,transition:o,modifiers:c,wrapperElement:f="div",className:h,zIndex:m=999}=e;const{activatorEvent:v,active:y,activeNodeRect:_,containerNodeRect:w,draggableNodes:S,droppableContainers:R,dragOverlay:C,over:T,measuringConfiguration:D,scrollableAncestors:A,scrollableAncestorRects:$,windowRect:U}=SD(),Z=x.useContext(Ku),J=LD(y?.id),X=Nb(c,{activatorEvent:v,active:y,activeNodeRect:_,containerNodeRect:w,draggingNodeRect:C.rect,over:T,overlayNodeRect:C.rect,scrollableAncestors:A,scrollableAncestorRects:$,transform:Z,windowRect:U}),ne=Uh(_),ee=kD({config:i,draggableNodes:S,droppableContainers:R,measuringConfiguration:D}),te=ne?C.setRef:void 0;return Ne.createElement(TD,null,Ne.createElement(RD,{animation:ee},y&&J?Ne.createElement(DD,{key:J,id:y.id,ref:te,as:f,activatorEvent:v,adjustScale:n,className:h,transition:o,rect:ne,style:{zIndex:m,...l},transform:X},a):null))});function vu({label:e,options:n,selectedOptions:a,onSelectionChange:i,searchPlaceholder:l,id:o,width:c="200px"}){const[f,h]=x.useState(!1),[m,v]=x.useState(""),y=x.useRef(null);x.useEffect(()=>{const D=A=>{y.current&&!y.current.contains(A.target)&&h(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const _=n.filter(D=>D.toLowerCase().includes(m.toLowerCase())),w=_.length>0&&_.every(D=>a.includes(D)),S=D=>{if(D.preventDefault(),D.stopPropagation(),w){const A=a.filter($=>!_.includes($));i(A)}else{const A=[...new Set([...a,..._])];i(A)}},R=(D,A)=>{if(D.preventDefault(),D.stopPropagation(),a.includes(A)){const $=a.filter(U=>U!==A);i($)}else{const $=[...a.filter(U=>U!==""),A];i($)}},C=()=>{h(!0)},T=D=>{v(D.target.value)};return p.jsxs("div",{className:"searchable-dropdown",ref:y,style:{width:c},children:[p.jsxs("label",{htmlFor:o,children:[e,":"]}),p.jsx("input",{type:"text",id:o,value:m,onChange:T,onFocus:C,placeholder:l}),f&&n.length>0&&p.jsxs("div",{className:"dropdown-options",children:[p.jsxs("div",{className:`dropdown-option ${w?"selected":""}`,onMouseDown:S,children:[p.jsxs("span",{className:"phase-name",children:["All ",e,"s"]}),p.jsxs("span",{className:"phase-description",children:["Show all ",e.toLowerCase(),"s"]})]}),_.map(D=>p.jsxs("div",{className:`dropdown-option ${a.includes(D)?"selected":""}`,onMouseDown:A=>R(A,D),children:[p.jsx("span",{className:"phase-name",children:D}),p.jsx("span",{className:"phase-description",children:e})]},D))]})]})}const HD=x.lazy(()=>Wa(()=>import("./TaskPool-fDXcwYFG.js"),[])),zD=x.lazy(()=>Wa(()=>import("./GanttChart-olR7b-Ca.js"),[])),Xy=()=>p.jsx("div",{className:"loading-fallback",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",fontSize:"16px",color:"#666"},children:"Loading scheduler components..."});function FD(){const{machines:e}=zt(),{selectedWorkCenter:n,isLoading:a,isInitialized:i,showAlert:l}=Te(),{scheduleTask:o,unscheduleTask:c,scheduleTaskFromSlot:f,rescheduleTaskToSlot:h,validateSlotAvailability:m}=Ji(),{init:v,cleanup:y}=Za(),[_,w]=x.useState(new Date),[S,R]=x.useState(null),[C,T]=x.useState([]),[D,A]=x.useState([]),[$,U]=x.useState([]),[Z,J]=x.useState([]);x.useEffect(()=>(i||v(),()=>{y()}),[v,i,y]);const X=x.useMemo(()=>{if(performance.now(),!e||e.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};let re=e;n&&n!==Ce.BOTH&&(re=e.filter(ye=>ye.work_center===n));const se=re.filter(ye=>ye.status===Ln.ACTIVE);if(se.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};const O=new Set,G=new Set,Q=new Set,B=new Set;for(const ye of se)ye.work_center&&O.add(ye.work_center),ye.department&&G.add(ye.department),ye.machine_type&&Q.add(ye.machine_type),ye.machine_name&&B.add(ye.machine_name);const oe=Array.from(O).sort(),Se=Array.from(G).sort(),ce=Array.from(Q).sort(),ze=Array.from(B).sort();return performance.now(),{activeMachines:se,workCenters:oe,departments:Se,machineTypes:ce,machineNames:ze}},[e,n]),ne=x.useMemo(()=>{const{activeMachines:re}=X;let se=re;return C.length>0&&(se=se.filter(O=>C.includes(O.work_center))),D.length>0&&(se=se.filter(O=>D.includes(O.department))),$.length>0&&(se=se.filter(O=>$.includes(O.machine_type))),Z.length>0&&(se=se.filter(O=>Z.includes(O.machine_name))),se},[X,C,D,$,Z]),ee=x.useCallback(re=>{w(se=>{const O=new Date(se);return re==="today"?new Date:re==="prev"?(O.setDate(O.getDate()-1),O):re==="next"?(O.setDate(O.getDate()+1),O):se})},[]),te=x.useCallback(()=>{const re=new Date;return _.toDateString()===re.toDateString()?"Today":_.toLocaleDateString("en-US",{month:"long",day:"numeric"})},[_]),ie=x.useCallback(()=>{T([]),A([]),U([]),J([])},[]),de=x.useRef(null),fe=x.useRef(!1),we=x.useCallback(re=>{performance.now();const se=re.active.data.current;se.type==="task"?R(se.task):se.type==="event"&&R(se.event)},[]),L=x.useCallback(re=>{const{over:se}=re;if(document.querySelectorAll(".drop-indicator").forEach(G=>G.remove()),se&&se.data.current?.type==="slot"){const{machine:G,hour:Q,minute:B,isUnavailable:oe,hasScheduledTask:Se}=se.data.current;if(oe||Se)return;const ce=document.querySelector(`[data-hour="${Q}"][data-minute="${B}"][data-machine-id="${G.id}"]`);if(ce){const ze=document.createElement("div");ze.className="drop-indicator",ze.style.cssText=`
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          border: 3px dashed #007bff;
          background: rgba(0, 123, 255, 0.1);
          pointer-events: none;
          z-index: 1000;
          border-radius: 4px;
        `,ce.style.position="relative",ce.appendChild(ze)}}},[]),W=x.useCallback(async re=>{if(performance.now(),de.current&&clearTimeout(de.current),fe.current)return;R(null),document.querySelectorAll(".drop-indicator").forEach(oe=>oe.remove());const{over:O,active:G}=re;if(!O)return;const Q=G.data.current,B=O.data.current;if(!(!Q||!B)){fe.current=!0;try{await new Promise(oe=>{requestAnimationFrame(async()=>{const Se=performance.now();if(Q.type==="task"&&B.type==="slot"){const ce=Q.task,{machine:ze,hour:ye,minute:mt,isUnavailable:rt,hasScheduledTask:sn}=B;if(rt)return l("Cannot schedule task on unavailable time slot","error"),oe();if(sn)return l("Cannot schedule task on occupied time slot","error"),oe();const _t=await f(ce.id,ze,_,ye,mt);_t?.error&&l(_t.error,"error")}else if(Q.type==="event"&&B.type==="slot"){const ce=Q.event,{machine:ze,hour:ye,minute:mt,isUnavailable:rt,hasScheduledTask:sn}=B;if(rt)return l("Cannot reschedule task to unavailable time slot","error"),oe();if(sn)return l("Cannot reschedule task to occupied time slot","error"),oe();const _t=await h(ce.id,ze,_,ye,mt);_t?.error&&l(_t.error,"error")}else if(Q.type==="event"&&B.type==="pool"){const ce=Q.event;c(ce.id)}oe()})})}catch{l("An error occurred during the drag operation","error")}finally{fe.current=!1}}},[_,f,h,c,l]);return a?p.jsx("div",{className:"scheduler-loading",children:p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("h3",{children:"Loading Production Scheduler..."}),p.jsx("p",{children:"Initializing components and data"})]})}):n?p.jsxs(_D,{onDragStart:we,onDragOver:L,onDragEnd:W,children:[p.jsxs("div",{className:"scheduler-container",children:[p.jsx(x.Suspense,{fallback:p.jsx(Xy,{}),children:p.jsx(HD,{})}),p.jsxs("div",{className:"scheduler-controls-section",children:[p.jsx("h2",{className:"scheduler-title",children:"Production Schedule"}),p.jsxs("div",{className:"scheduler-controls",children:[p.jsxs("div",{className:"machine-filters",children:[p.jsx(vu,{label:"Work Center",options:X.workCenters,selectedOptions:C,onSelectionChange:T,searchPlaceholder:"Search Work Centers",id:"work_center_filter"}),p.jsx(vu,{label:"Department",options:X.departments,selectedOptions:D,onSelectionChange:A,searchPlaceholder:"Search Departments",id:"department_filter"}),p.jsx(vu,{label:"Machine Type",options:X.machineTypes,selectedOptions:$,onSelectionChange:U,searchPlaceholder:"Search Machine Types",id:"machine_type_filter"}),p.jsx(vu,{label:"Machine Name",options:X.machineNames,selectedOptions:Z,onSelectionChange:J,searchPlaceholder:"Search Machine Names",id:"machine_name_filter"})]}),p.jsxs("div",{className:"scheduler-actions",children:[p.jsx("button",{className:"nav-btn today",onClick:ie,title:"Clear all filters",children:"Clear Filters"}),p.jsxs("div",{className:"calendar-navigation",children:[p.jsx("button",{className:"nav-btn today",onClick:()=>ee("today"),children:"Today"}),p.jsx("button",{className:"nav-btn",onClick:()=>ee("prev"),children:"<"}),p.jsx("span",{className:"current-date",children:te()}),p.jsx("button",{className:"nav-btn",onClick:()=>ee("next"),children:">"})]}),p.jsx("button",{className:"nav-btn today",onClick:()=>{const re=document.querySelector(".calendar-section .calendar-grid");if(!re){alert("Gantt chart not found. Make sure the chart is visible on screen.");return}const se=Array.from(document.styleSheets);let O="";se.forEach(ye=>{try{Array.from(ye.cssRules||ye.rules||[]).forEach(rt=>{O+=rt.cssText+`
`})}catch{}});const G=re.cloneNode(!0),Q=`
                  <!DOCTYPE html>
                  <html>
                    <head>
                      <title>Gantt Chart - ${te()}</title>
                      <style>
                        ${O}
                        body { 
                          margin: 0; 
                          padding: 20px; 
                          font-family: Arial, sans-serif;
                        }
                        .calendar-section {
                          width: 100%;
                          overflow-x: auto;
                        }
                      </style>
                    </head>
                    <body>
                      <div style="text-align: center; margin-bottom: 20px; font-size: 16px; font-weight: bold;">
                        Gantt Chart - ${te()}
                      </div>
                      <div class="calendar-section">
                        ${G.outerHTML}
                      </div>
                    </body>
                  </html>
                `,B=new Blob([Q],{type:"text/html"}),oe=window.URL.createObjectURL(B),Se=document.createElement("a");Se.href=oe;const ce=_.toISOString().split("T")[0],ze=new Date().toTimeString().split(" ")[0].replace(/:/g,"-");Se.download=`gantt-chart-${ce}-${ze}.html`,document.body.appendChild(Se),Se.click(),document.body.removeChild(Se),window.URL.revokeObjectURL(oe)},title:"Download exact Gantt chart as HTML file",children:"Download HTML"})]})]})]}),p.jsx(x.Suspense,{fallback:p.jsx(Xy,{}),children:p.jsx(zD,{machines:ne,currentDate:_})})]}),p.jsx(PD,{children:S?p.jsxs("div",{className:"task-item drag-overlay",style:{boxShadow:"0 8px 25px rgba(0,0,0,0.3)",transform:"rotate(3deg) scale(1.05)",opacity:.9,zIndex:1002,pointerEvents:"none"},children:[p.jsx("span",{children:S.odp_number}),p.jsxs("span",{className:"task-duration",children:[S.duration||1,"h"]})]}):null})]}):p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"error",children:"Please select a work center to view scheduler data."})})}function ID(){const{machines:e}=zt(),{odpOrders:n}=Dt(),{isLoading:a,isInitialized:i}=Te(),{init:l,cleanup:o}=Za();x.useEffect(()=>(i||l(),()=>{o()}),[l,i,o]);const c=x.useMemo(()=>{if(a)return{};const f=e.reduce((S,R)=>{const C=R.work_center||"Unknown";return S[C]||(S[C]={[Ln.ACTIVE]:0,[Ln.INACTIVE]:0,[Ln.MAINTENANCE]:0}),S[C][R.status]=(S[C][R.status]||0)+1,S},{}),h=new Date,m=new Date(h);m.setDate(h.getDate()-h.getDay()),m.setHours(0,0,0,0);const v=n.filter(S=>S.completion_date?new Date(S.completion_date)>=m:!1).length,y=n.filter(S=>S.status==="IN PROGRESS"||S.status==="SCHEDULED").length,_=n.filter(S=>S.due_date?new Date(S.due_date)<h&&S.quantity_completed<S.quantity:!1).length,w=e.filter(S=>S.status===Ln.ACTIVE).length;return{machinesByWorkCenter:f,completedThisWeek:v,tasksInWip:y,delayedTasks:_,activeMachines:w,totalMachines:e.length,totalOrders:n.length}},[e,n,a]);return a?p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"loading",children:"Loading dashboard..."})}):p.jsxs("div",{className:"content-section",children:[p.jsxs("div",{className:"page-header",children:[p.jsx("h1",{children:"Production Dashboard"}),p.jsx("p",{children:"Overview of your production operations and key metrics"})]}),p.jsxs("div",{className:"metrics-grid",children:[p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Total Machines"}),p.jsx("div",{className:"metric-value",children:c.totalMachines}),p.jsxs("div",{className:"metric-subtitle",children:["Active: ",c.activeMachines]})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Total Orders"}),p.jsx("div",{className:"metric-value",children:c.totalOrders})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Completed This Week"}),p.jsx("div",{className:"metric-value",children:c.completedThisWeek})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Tasks in WIP"}),p.jsx("div",{className:"metric-value",children:c.tasksInWip})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Delayed Tasks"}),p.jsx("div",{className:"metric-value delayed",children:c.delayedTasks})]})]}),p.jsxs("div",{className:"charts-container",children:[p.jsxs("div",{className:"chart-section",children:[p.jsx("h3",{children:"Machines by Work Center"}),p.jsx("div",{className:"work-center-chart",children:Object.entries(c.machinesByWorkCenter||{}).map(([f,h])=>p.jsxs("div",{className:"work-center-group",children:[p.jsx("h4",{children:f}),p.jsx("div",{className:"status-bars",children:Object.entries(h).map(([m,v])=>p.jsxs("div",{className:"status-bar",children:[p.jsx("span",{className:"status-label",children:m}),p.jsx("div",{className:"status-bar-fill",style:{width:`${v/Math.max(...Object.values(h))*100}%`},children:v})]},m))})]},f))})]}),p.jsxs("div",{className:"chart-section",children:[p.jsx("h3",{children:"Weekly Task Completion"}),p.jsxs("div",{className:"simple-chart",children:[p.jsx("div",{className:"chart-bar",style:{height:`${c.completedThisWeek/Math.max(c.totalOrders,1)*200}px`},children:p.jsx("span",{className:"chart-label",children:c.completedThisWeek})}),p.jsx("div",{className:"chart-x-axis",children:"This Week"})]})]})]})]})}function $D(){const[e,n]=x.useState({email:"",password:"",workCenter:""}),[a,i]=x.useState(!1),[l,o]=x.useState({}),{signIn:c,error:f}=Il(),{setSelectedWorkCenter:h}=Te(),m=Hl(),{handleAsync:v}=Br("LoginPage"),y=R=>{const{name:C,value:T}=R.target;n(D=>({...D,[C]:T})),l[C]&&o(D=>({...D,[C]:""}))},_=()=>{const R={};return e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(R.email="Please enter a valid email address"):R.email="Email is required",e.password?e.password.length<6&&(R.password="Password must be at least 6 characters"):R.password="Password is required",e.workCenter||(R.workCenter="Work center is required"),o(R),Object.keys(R).length===0},w=async R=>{R.preventDefault(),_()&&(i(!0),await v(async()=>{(await c(e.email,e.password)).success&&(h(e.workCenter),m("/",{replace:!0}))},{context:"Login",fallbackMessage:"Failed to sign in. Please try again.",onFinally:()=>i(!1)}))},S=R=>l[R]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:l[R]}):null;return p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Welcome Back"}),p.jsx("p",{children:"Sign in to your account to continue"})]}),p.jsxs("form",{onSubmit:w,className:"auth-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:y,placeholder:"Enter your email",className:l.email?"error":"",disabled:a,autoComplete:"email"}),S("email")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Password"}),p.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:y,placeholder:"Enter your password",className:l.password?"error":"",disabled:a,autoComplete:"current-password"}),S("password")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"workCenter",children:"Work Center *"}),p.jsxs("select",{id:"workCenter",name:"workCenter",value:e.workCenter,onChange:y,className:l.workCenter?"error":"",disabled:a,children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Ce.ZANICA,children:Ce.ZANICA}),p.jsx("option",{value:Ce.BUSTO_GAROLFO,children:Ce.BUSTO_GAROLFO}),p.jsx("option",{value:Ce.BOTH,children:Ce.BOTH})]}),S("workCenter")]}),f&&p.jsxs("div",{className:"auth-error",children:[p.jsx("span",{className:"error-icon",children:""}),f]}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:a,children:a?"Signing In...":"Sign In"})]}),p.jsxs("div",{className:"auth-links",children:[p.jsx(xn,{to:"/forgot-password",className:"auth-link",children:"Forgot your password?"}),p.jsx("div",{className:"auth-divider",children:p.jsx("span",{children:"Don't have an account?"})}),p.jsx(xn,{to:"/signup",className:"btn btn-secondary",children:"Create Account"})]}),!1]})})}function BD(){const[e,n]=x.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[a,i]=x.useState(!1),[l,o]=x.useState({}),{signUp:c,error:f}=Il(),h=Hl(),{handleAsync:m}=Br("SignupPage"),v=S=>{const{name:R,value:C}=S.target;n(T=>({...T,[R]:C})),l[R]&&o(T=>({...T,[R]:""}))},y=()=>{const S={};return e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(S.email="Please enter a valid email address"):S.email="Email is required",e.password?e.password.length<6&&(S.password="Password must be at least 6 characters"):S.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(S.confirmPassword="Passwords do not match"):S.confirmPassword="Please confirm your password",e.firstName.trim()||(S.firstName="First name is required"),e.lastName.trim()||(S.lastName="Last name is required"),o(S),Object.keys(S).length===0},_=async S=>{S.preventDefault(),y()&&(i(!0),await m(async()=>{const R={first_name:e.firstName,last_name:e.lastName,full_name:`${e.firstName} ${e.lastName}`};(await c(e.email,e.password,R)).success&&h("/",{replace:!0})},{context:"Signup",fallbackMessage:"Failed to create account. Please try again.",onFinally:()=>i(!1)}))},w=S=>l[S]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:l[S]}):null;return p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Create Account"}),p.jsx("p",{children:"Sign up to get started with your account"})]}),p.jsxs("form",{onSubmit:_,className:"auth-form",children:[p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"firstName",children:"First Name"}),p.jsx("input",{type:"text",id:"firstName",name:"firstName",value:e.firstName,onChange:v,placeholder:"Enter your first name",className:l.firstName?"error":"",disabled:a,autoComplete:"given-name"}),w("firstName")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"lastName",children:"Last Name"}),p.jsx("input",{type:"text",id:"lastName",name:"lastName",value:e.lastName,onChange:v,placeholder:"Enter your last name",className:l.lastName?"error":"",disabled:a,autoComplete:"family-name"}),w("lastName")]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:v,placeholder:"Enter your email",className:l.email?"error":"",disabled:a,autoComplete:"email"}),w("email")]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Password"}),p.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:v,placeholder:"Create a password",className:l.password?"error":"",disabled:a,autoComplete:"new-password"}),w("password")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),p.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:v,placeholder:"Confirm your password",className:l.confirmPassword?"error":"",disabled:a,autoComplete:"new-password"}),w("confirmPassword")]})]}),f&&p.jsxs("div",{className:"auth-error",children:[p.jsx("span",{className:"error-icon",children:""}),f]}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:a,children:a?"Creating Account...":"Create Account"})]}),p.jsxs("div",{className:"auth-links",children:[p.jsx("div",{className:"auth-divider",children:p.jsx("span",{children:"Already have an account?"})}),p.jsx(xn,{to:"/login",className:"btn btn-secondary",children:"Sign In"})]})]})})}function VD(){const[e,n]=x.useState(""),[a,i]=x.useState(!1),[l,o]=x.useState(!1),[c,f]=x.useState(""),{resetPassword:h}=Il(),{handleAsync:m}=Br("ForgotPasswordPage"),v=async y=>{if(y.preventDefault(),!e.trim()){f("Please enter your email address");return}if(!/\S+@\S+\.\S+/.test(e)){f("Please enter a valid email address");return}i(!0),f(""),await m(async()=>{const _=await h(e);_.success?o(!0):f(_.error||"Failed to send reset email")},{context:"Password Reset",fallbackMessage:"Failed to send reset email. Please try again.",onFinally:()=>i(!1)})};return l?p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Check Your Email"}),p.jsxs("p",{children:["We've sent a password reset link to ",e]})]}),p.jsxs("div",{className:"auth-success",children:[p.jsx("div",{className:"success-icon",children:""}),p.jsx("p",{children:"If you don't see the email, check your spam folder."})]}),p.jsx("div",{className:"auth-links",children:p.jsx(xn,{to:"/login",className:"btn btn-primary",children:"Back to Sign In"})})]})}):p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Reset Password"}),p.jsx("p",{children:"Enter your email to receive a password reset link"})]}),p.jsxs("form",{onSubmit:v,className:"auth-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:e,onChange:y=>n(y.target.value),placeholder:"Enter your email",disabled:a,autoComplete:"email"})]}),c&&p.jsxs("div",{className:"auth-error",children:[p.jsx("span",{className:"error-icon",children:""}),c]}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:a,children:a?"Sending...":"Send Reset Link"})]}),p.jsx("div",{className:"auth-links",children:p.jsx(xn,{to:"/login",className:"auth-link",children:"Back to Sign In"})})]})})}class Lu extends Ne.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static generateErrorId(){return`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorId:Lu.generateErrorId()}}componentDidCatch(n,a){this.setState({errorInfo:a,errorId:this.state.errorId||Lu.generateErrorId()}),Vn(n,"ErrorBoundary"),this.logErrorToService(n,a)}logErrorToService(n,a){}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null}),window.location.reload()};handleGoHome=()=>{window.location.href="/"};handleReportIssue=()=>{const n=encodeURIComponent(`App Error Report - ${this.state.errorId}`),a=encodeURIComponent(`
Error Report Details:
- Error ID: ${this.state.errorId}
- Error: ${this.state.error?.message||"Unknown error"}
- URL: ${window.location.href}
- User Agent: ${navigator.userAgent}
- Timestamp: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:
    `);window.open(`mailto:support@company.com?subject=${n}&body=${a}`)};getErrorRecommendations=n=>{switch(j_(n)){case wa.CRITICAL:return p.jsxs("div",{className:"error-boundary__recommendation critical",children:[p.jsx("strong",{children:"Critical Error:"})," This is a serious issue. Please contact support immediately."]});case wa.HIGH:return p.jsxs("div",{className:"error-boundary__recommendation high",children:[p.jsx("strong",{children:"High Priority:"})," Please try refreshing the page or contact support if the problem persists."]});case wa.MEDIUM:return p.jsxs("div",{className:"error-boundary__recommendation medium",children:[p.jsx("strong",{children:"Medium Priority:"})," Try refreshing the page or navigating to a different section."]});case wa.LOW:return p.jsxs("div",{className:"error-boundary__recommendation low",children:[p.jsx("strong",{children:"Low Priority:"})," This error should resolve itself. Try continuing with your task."]});default:return null}};render(){return this.state.hasError?p.jsx("div",{className:"error-boundary",children:p.jsxs("div",{className:"error-boundary__container",children:[p.jsx("div",{className:"error-boundary__icon",children:""}),p.jsx("h1",{className:"error-boundary__title",children:"Oops! Something went wrong"}),p.jsx("p",{className:"error-boundary__message",children:"We're sorry, but something unexpected happened. Our team has been notified and is working to fix this issue."}),!1,p.jsxs("div",{className:"error-boundary__actions",children:[p.jsx("button",{onClick:this.handleRetry,className:"btn-primary",children:"Try Again"}),p.jsx("button",{onClick:this.handleGoHome,className:"btn-secondary",children:"Go to Home"}),p.jsx("button",{onClick:this.handleReportIssue,className:"error-boundary__button error-boundary__button--secondary",children:" Report Issue"})]}),this.state.error&&p.jsx("div",{className:"error-boundary__recommendations",children:this.getErrorRecommendations(this.state.error)}),p.jsxs("div",{className:"error-boundary__footer",children:[p.jsxs("p",{className:"error-boundary__error-id",children:["Error ID: ",p.jsx("code",{children:this.state.errorId})]}),p.jsx("p",{className:"error-boundary__help",children:"If this problem persists, please contact support with the Error ID above."})]})]})}):this.props.children}}const qD=()=>{const{user:e,loading:n}=Il();return n?p.jsx("div",{className:"auth-loading",children:p.jsxs("div",{className:"auth-loading__container",children:[p.jsx("div",{className:"auth-loading__spinner"}),p.jsx("p",{children:"Checking authentication..."})]})}):e?p.jsx(l_,{}):p.jsx(s_,{to:"/login",replace:!0})},GD=({message:e,type:n="info",isVisible:a,onClose:i,autoClose:l=!0,duration:o=5e3})=>{if(x.useEffect(()=>{if(l&&a){const h=setTimeout(()=>{i()},o);return()=>clearTimeout(h)}},[a,l,o,i]),!a)return null;const c="alert",f={success:"alert--success",error:"alert--error",warning:"alert--warning",info:"alert--info"};return p.jsx("div",{className:`${c} ${f[n]||f.info}`,children:p.jsxs("div",{className:"alert__content",children:[p.jsx("span",{className:"alert__message",children:e}),p.jsx("button",{onClick:i,className:"alert__close","aria-label":"Close",children:""})]})})},YD=({isOpen:e,title:n,message:a,onConfirm:i,onCancel:l,confirmText:o="Delete",cancelText:c="Cancel",type:f="danger"})=>{if(!e)return null;const h="confirm-dialog",m={danger:"confirm-dialog--danger",warning:"confirm-dialog--warning",info:"confirm-dialog--info"};return p.jsxs("div",{className:`${h} ${m[f]||m.danger}`,children:[p.jsx("div",{className:"confirm-dialog__overlay",onClick:l}),p.jsxs("div",{className:"confirm-dialog__content",children:[p.jsx("div",{className:"confirm-dialog__header",children:p.jsx("h3",{className:"confirm-dialog__title",children:n})}),p.jsx("div",{className:"confirm-dialog__body",children:p.jsx("p",{className:"confirm-dialog__message",children:a})}),p.jsxs("div",{className:"confirm-dialog__footer",children:[p.jsx("button",{onClick:l,className:"confirm-dialog__button confirm-dialog__button--secondary",children:c}),p.jsx("button",{onClick:i,className:"confirm-dialog__button confirm-dialog__button--primary",children:o})]})]})]})},KD=()=>{const e=hr(),n=()=>{const a=e.pathname;return a==="/"?"Home":a==="/machinery"?"Machinery":a==="/phases"?"Phases":a==="/backlog"?"Backlog":a==="/scheduler"?"Scheduler":a.includes("/machinery/")&&a.includes("/calendar")?"Machine Calendar":"Flexi Scheduler"};return p.jsx("header",{className:"app-header",children:p.jsx("div",{className:"header-content",children:p.jsx("h1",{className:"header-title",children:n()})})})},XD=()=>{const{alert:e,hideAlert:n,confirmDialog:a,hideConfirmDialog:i}=Te(),{cleanup:l}=Za();return x.useEffect(()=>()=>{l()},[l]),p.jsxs("div",{className:"main-content",children:[p.jsx(_T,{}),p.jsxs("div",{className:"page-container",children:[p.jsx(KD,{}),p.jsx("main",{children:p.jsx(l_,{})})]}),p.jsx(GD,{message:e.message,type:e.type,isVisible:e.isVisible,onClose:n}),p.jsx(YD,{isOpen:a.isOpen,title:a.title,message:a.message,onConfirm:()=>{a.onConfirm?.(),i()},onCancel:i,type:a.type})]})};function WD(){return p.jsx(Lu,{children:p.jsxs(BS,{children:[p.jsx(Sn,{path:"/login",element:p.jsx($D,{})}),p.jsx(Sn,{path:"/signup",element:p.jsx(BD,{})}),p.jsx(Sn,{path:"/forgot-password",element:p.jsx(VD,{})}),p.jsx(Sn,{path:"/",element:p.jsx(qD,{}),children:p.jsxs(Sn,{element:p.jsx(XD,{}),children:[p.jsx(Sn,{index:!0,element:p.jsx(ID,{})}),p.jsx(Sn,{path:"machinery",element:p.jsx(tO,{})}),p.jsx(Sn,{path:"machinery/:machineId/calendar",element:p.jsx(iO,{})}),p.jsx(Sn,{path:"phases",element:p.jsx(lO,{})}),p.jsx(Sn,{path:"backlog",element:p.jsx(uO,{})}),p.jsx(Sn,{path:"scheduler",element:p.jsx(FD,{})})]})}),p.jsx(Sn,{path:"*",element:p.jsx(s_,{to:"/",replace:!0})})]})})}const QD="/flexi/";Ww.createRoot(document.getElementById("root")).render(p.jsx(Ne.StrictMode,{children:p.jsx(fE,{basename:QD,children:p.jsx(AR,{children:p.jsx(WD,{})})})}));export{Ne as R,Dt as a,l1 as b,Br as c,s1 as d,Ji as e,a1 as f,r1 as g,i1 as i,p as j,x as r,Zt as t,Te as u};
