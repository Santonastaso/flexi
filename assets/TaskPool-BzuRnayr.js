import{u as m,a as c,b as x,r as i,j as e,R as p,c as g,d as k}from"./index-DSSOZrWT.js";const j=p.memo(({task:s})=>{const[t,l]=i.useState(!0),{updateOdpOrder:o}=c();g("TaskPool");const{attributes:a,listeners:r,setNodeRef:n,transform:d}=k({id:`task-${s.id}`,data:{task:s,type:"task"},disabled:t}),h=d?{transform:`translate3d(${d.x}px, ${d.y}px, 0)`}:void 0,u=v=>{v.stopPropagation(),l(!t)};return e.jsxs("div",{ref:n,style:h,className:"task-item",children:[e.jsxs("div",{className:"task-content",children:[e.jsx("span",{className:"task-label",children:s.odp_number}),e.jsxs("span",{className:"task-duration",children:[s.duration||1,"h"]})]}),e.jsxs("div",{className:"task-controls",children:[e.jsx("button",{className:"task-btn info-btn",title:`Delivery Date: ${s.delivery_date?new Date(s.delivery_date).toLocaleDateString():"Not set"}
Quantity: ${s.quantity||"Not specified"}
${s.scheduled_start_time?`Scheduled: ${new Date(s.scheduled_start_time).toLocaleString()}`:""}`,children:e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})})}),e.jsx("button",{className:`task-btn lock-btn ${t?"locked":"unlocked"}`,onClick:u,title:t?"Unlock to enable dragging":"Lock to disable dragging",children:t?e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6z"})}):e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 17c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm6-9h-1V6c0-2.76-2.24-5-5-5-2.28 0-4.27 1.54-4.84 3.75-.14.54.18 1.08.72 1.22.53.14 1.08-.18 1.22-.72C9.44 6.06 10.72 5 12 5c1.66 0 3 1.34 3 3v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2z"})})}),!t&&e.jsx("div",{className:"drag-handle",...r,...a,title:"Drag to schedule",children:e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})})})]})]})});function b(){const{selectedWorkCenter:s}=m(),{odpOrders:t}=c(),{setNodeRef:l}=x({id:"task-pool",data:{type:"pool"}}),o=i.useMemo(()=>{let a=t.filter(r=>r.status!=="SCHEDULED");return s&&s!=="BOTH"&&(a=a.filter(r=>r.work_center===s)),a},[t,s]);return e.jsxs("div",{className:"task-pool-section",children:[e.jsx("h2",{children:"Task Pool"}),e.jsx("p",{children:"Drag tasks from here to schedule them, or drag scheduled events back here to unschedule them."}),e.jsx("div",{ref:l,id:"task_pool",className:"task-pool-grid",children:o.length>0?o.map(a=>e.jsx(j,{task:a},a.id)):e.jsx("div",{className:"empty-state",children:"No unscheduled tasks available"})})]})}export{b as default};
