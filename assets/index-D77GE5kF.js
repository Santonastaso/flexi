(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function dm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gR(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var a=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:function(){return t[i]}})}),n}var Kf={exports:{}},il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb;function mR(){if(Gb)return il;Gb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:t,type:i,key:l,ref:a!==void 0?a:null,props:o}}return il.Fragment=e,il.jsx=n,il.jsxs=n,il}var Yb;function pR(){return Yb||(Yb=1,Kf.exports=mR()),Kf.exports}var b=pR(),Xf={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function vR(){if(Wb)return ke;Wb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.iterator;function y(N){return N===null||typeof N!="object"?null:(N=p&&N[p]||N["@@iterator"],typeof N=="function"?N:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function x(N,ee,ae){this.props=N,this.context=ee,this.refs=S,this.updater=ae||_}x.prototype.isReactComponent={},x.prototype.setState=function(N,ee){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ee,"setState")},x.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function C(){}C.prototype=x.prototype;function A(N,ee,ae){this.props=N,this.context=ee,this.refs=S,this.updater=ae||_}var T=A.prototype=new C;T.constructor=A,w(T,x.prototype),T.isPureReactComponent=!0;var k=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function F(N,ee,ae,K,se,le){return ae=le.ref,{$$typeof:t,type:N,key:ee,ref:ae!==void 0?ae:null,props:le}}function L(N,ee){return F(N.type,ee,void 0,void 0,void 0,N.props)}function $(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function G(N){var ee={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ae){return ee[ae]})}var Q=/\/+/g;function Z(N,ee){return typeof N=="object"&&N!==null&&N.key!=null?G(""+N.key):ee.toString(36)}function ce(){}function ue(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ce,ce):(N.status="pending",N.then(function(ee){N.status==="pending"&&(N.status="fulfilled",N.value=ee)},function(ee){N.status==="pending"&&(N.status="rejected",N.reason=ee)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function he(N,ee,ae,K,se){var le=typeof N;(le==="undefined"||le==="boolean")&&(N=null);var ie=!1;if(N===null)ie=!0;else switch(le){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(N.$$typeof){case t:case e:ie=!0;break;case g:return ie=N._init,he(ie(N._payload),ee,ae,K,se)}}if(ie)return se=se(N),ie=K===""?"."+Z(N,0):K,k(se)?(ae="",ie!=null&&(ae=ie.replace(Q,"$&/")+"/"),he(se,ee,ae,"",function(qe){return qe})):se!=null&&($(se)&&(se=L(se,ae+(se.key==null||N&&N.key===se.key?"":(""+se.key).replace(Q,"$&/")+"/")+ie)),ee.push(se)),1;ie=0;var Oe=K===""?".":K+":";if(k(N))for(var Ae=0;Ae<N.length;Ae++)K=N[Ae],le=Oe+Z(K,Ae),ie+=he(K,ee,ae,le,se);else if(Ae=y(N),typeof Ae=="function")for(N=Ae.call(N),Ae=0;!(K=N.next()).done;)K=K.value,le=Oe+Z(K,Ae++),ie+=he(K,ee,ae,le,se);else if(le==="object"){if(typeof N.then=="function")return he(ue(N),ee,ae,K,se);throw ee=String(N),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ie}function z(N,ee,ae){if(N==null)return N;var K=[],se=0;return he(N,K,"","",function(le){return ee.call(ae,le,se++)}),K}function W(N){if(N._status===-1){var ee=N._result;ee=ee(),ee.then(function(ae){(N._status===0||N._status===-1)&&(N._status=1,N._result=ae)},function(ae){(N._status===0||N._status===-1)&&(N._status=2,N._result=ae)}),N._status===-1&&(N._status=0,N._result=ee)}if(N._status===1)return N._result.default;throw N._result}var oe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function fe(){}return ke.Children={map:z,forEach:function(N,ee,ae){z(N,function(){ee.apply(this,arguments)},ae)},count:function(N){var ee=0;return z(N,function(){ee++}),ee},toArray:function(N){return z(N,function(ee){return ee})||[]},only:function(N){if(!$(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ke.Component=x,ke.Fragment=n,ke.Profiler=a,ke.PureComponent=A,ke.StrictMode=i,ke.Suspense=d,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ke.__COMPILER_RUNTIME={__proto__:null,c:function(N){return D.H.useMemoCache(N)}},ke.cache=function(N){return function(){return N.apply(null,arguments)}},ke.cloneElement=function(N,ee,ae){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var K=w({},N.props),se=N.key,le=void 0;if(ee!=null)for(ie in ee.ref!==void 0&&(le=void 0),ee.key!==void 0&&(se=""+ee.key),ee)!V.call(ee,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&ee.ref===void 0||(K[ie]=ee[ie]);var ie=arguments.length-2;if(ie===1)K.children=ae;else if(1<ie){for(var Oe=Array(ie),Ae=0;Ae<ie;Ae++)Oe[Ae]=arguments[Ae+2];K.children=Oe}return F(N.type,se,void 0,void 0,le,K)},ke.createContext=function(N){return N={$$typeof:l,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:o,_context:N},N},ke.createElement=function(N,ee,ae){var K,se={},le=null;if(ee!=null)for(K in ee.key!==void 0&&(le=""+ee.key),ee)V.call(ee,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(se[K]=ee[K]);var ie=arguments.length-2;if(ie===1)se.children=ae;else if(1<ie){for(var Oe=Array(ie),Ae=0;Ae<ie;Ae++)Oe[Ae]=arguments[Ae+2];se.children=Oe}if(N&&N.defaultProps)for(K in ie=N.defaultProps,ie)se[K]===void 0&&(se[K]=ie[K]);return F(N,le,void 0,void 0,null,se)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(N){return{$$typeof:u,render:N}},ke.isValidElement=$,ke.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:W}},ke.memo=function(N,ee){return{$$typeof:f,type:N,compare:ee===void 0?null:ee}},ke.startTransition=function(N){var ee=D.T,ae={};D.T=ae;try{var K=N(),se=D.S;se!==null&&se(ae,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(fe,oe)}catch(le){oe(le)}finally{D.T=ee}},ke.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ke.use=function(N){return D.H.use(N)},ke.useActionState=function(N,ee,ae){return D.H.useActionState(N,ee,ae)},ke.useCallback=function(N,ee){return D.H.useCallback(N,ee)},ke.useContext=function(N){return D.H.useContext(N)},ke.useDebugValue=function(){},ke.useDeferredValue=function(N,ee){return D.H.useDeferredValue(N,ee)},ke.useEffect=function(N,ee,ae){var K=D.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(N,ee)},ke.useId=function(){return D.H.useId()},ke.useImperativeHandle=function(N,ee,ae){return D.H.useImperativeHandle(N,ee,ae)},ke.useInsertionEffect=function(N,ee){return D.H.useInsertionEffect(N,ee)},ke.useLayoutEffect=function(N,ee){return D.H.useLayoutEffect(N,ee)},ke.useMemo=function(N,ee){return D.H.useMemo(N,ee)},ke.useOptimistic=function(N,ee){return D.H.useOptimistic(N,ee)},ke.useReducer=function(N,ee,ae){return D.H.useReducer(N,ee,ae)},ke.useRef=function(N){return D.H.useRef(N)},ke.useState=function(N){return D.H.useState(N)},ke.useSyncExternalStore=function(N,ee,ae){return D.H.useSyncExternalStore(N,ee,ae)},ke.useTransition=function(){return D.H.useTransition()},ke.version="19.1.1",ke}var Kb;function hm(){return Kb||(Kb=1,Xf.exports=vR()),Xf.exports}var R=hm();const Me=dm(R);var Qf={exports:{}},sl={},Zf={exports:{}},Jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb;function yR(){return Xb||(Xb=1,(function(t){function e(z,W){var oe=z.length;z.push(W);e:for(;0<oe;){var fe=oe-1>>>1,N=z[fe];if(0<a(N,W))z[fe]=W,z[oe]=N,oe=fe;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var W=z[0],oe=z.pop();if(oe!==W){z[0]=oe;e:for(var fe=0,N=z.length,ee=N>>>1;fe<ee;){var ae=2*(fe+1)-1,K=z[ae],se=ae+1,le=z[se];if(0>a(K,oe))se<N&&0>a(le,K)?(z[fe]=le,z[se]=oe,fe=se):(z[fe]=K,z[ae]=oe,fe=ae);else if(se<N&&0>a(le,oe))z[fe]=le,z[se]=oe,fe=se;else break e}}return W}function a(z,W){var oe=z.sortIndex-W.sortIndex;return oe!==0?oe:z.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],f=[],g=1,p=null,y=3,_=!1,w=!1,S=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function k(z){for(var W=n(f);W!==null;){if(W.callback===null)i(f);else if(W.startTime<=z)i(f),W.sortIndex=W.expirationTime,e(d,W);else break;W=n(f)}}function D(z){if(S=!1,k(z),!w)if(n(d)!==null)w=!0,V||(V=!0,Z());else{var W=n(f);W!==null&&he(D,W.startTime-z)}}var V=!1,F=-1,L=5,$=-1;function G(){return x?!0:!(t.unstable_now()-$<L)}function Q(){if(x=!1,V){var z=t.unstable_now();$=z;var W=!0;try{e:{w=!1,S&&(S=!1,A(F),F=-1),_=!0;var oe=y;try{t:{for(k(z),p=n(d);p!==null&&!(p.expirationTime>z&&G());){var fe=p.callback;if(typeof fe=="function"){p.callback=null,y=p.priorityLevel;var N=fe(p.expirationTime<=z);if(z=t.unstable_now(),typeof N=="function"){p.callback=N,k(z),W=!0;break t}p===n(d)&&i(d),k(z)}else i(d);p=n(d)}if(p!==null)W=!0;else{var ee=n(f);ee!==null&&he(D,ee.startTime-z),W=!1}}break e}finally{p=null,y=oe,_=!1}W=void 0}}finally{W?Z():V=!1}}}var Z;if(typeof T=="function")Z=function(){T(Q)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ue=ce.port2;ce.port1.onmessage=Q,Z=function(){ue.postMessage(null)}}else Z=function(){C(Q,0)};function he(z,W){F=C(function(){z(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(z){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var oe=y;y=W;try{return z()}finally{y=oe}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var oe=y;y=z;try{return W()}finally{y=oe}},t.unstable_scheduleCallback=function(z,W,oe){var fe=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?fe+oe:fe):oe=fe,z){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=oe+N,z={id:g++,callback:W,priorityLevel:z,startTime:oe,expirationTime:N,sortIndex:-1},oe>fe?(z.sortIndex=oe,e(f,z),n(d)===null&&z===n(f)&&(S?(A(F),F=-1):S=!0,he(D,oe-fe))):(z.sortIndex=N,e(d,z),w||_||(w=!0,V||(V=!0,Z()))),z},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(z){var W=y;return function(){var oe=y;y=W;try{return z.apply(this,arguments)}finally{y=oe}}}})(Jf)),Jf}var Qb;function bR(){return Qb||(Qb=1,Zf.exports=yR()),Zf.exports}var eg={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb;function _R(){if(Zb)return dn;Zb=1;var t=hm();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,f,g){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:d,containerInfo:f,implementation:g}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,dn.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,g)},dn.flushSync=function(d){var f=l.T,g=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=f,i.p=g,i.d.f()}},dn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},dn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},dn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,p=u(g,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:_}):g==="script"&&i.d.X(d,{crossOrigin:p,integrity:y,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},dn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=u(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},dn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,p=u(g,f.crossOrigin);i.d.L(d,g,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},dn.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=u(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},dn.requestFormReset=function(d){i.d.r(d)},dn.unstable_batchedUpdates=function(d,f){return d(f)},dn.useFormState=function(d,f,g){return l.H.useFormState(d,f,g)},dn.useFormStatus=function(){return l.H.useHostTransitionStatus()},dn.version="19.1.1",dn}var Jb;function Iw(){if(Jb)return eg.exports;Jb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),eg.exports=_R(),eg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function wR(){if(e_)return sl;e_=1;var t=bR(),e=hm(),n=Iw();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)r+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,c=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(c=r.return),s=r.return;while(s)}return r.tag===3?c:null}function l(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function u(s){if(o(s)!==s)throw Error(i(188))}function d(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var c=s,h=r;;){var m=c.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===c)return u(m),s;if(v===h)return u(m),r;v=v.sibling}throw Error(i(188))}if(c.return!==h.return)c=m,h=v;else{for(var E=!1,O=m.child;O;){if(O===c){E=!0,c=m,h=v;break}if(O===h){E=!0,h=m,c=v;break}O=O.sibling}if(!E){for(O=v.child;O;){if(O===c){E=!0,c=v,h=m;break}if(O===h){E=!0,h=v,c=m;break}O=O.sibling}if(!E)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:r}function f(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=f(s),r!==null)return r;s=s.sibling}return null}var g=Object.assign,p=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),T=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var ce=Symbol.for("react.client.reference");function ue(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ce?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case x:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case V:return"SuspenseList";case $:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case _:return"Portal";case T:return(s.displayName||"Context")+".Provider";case A:return(s._context.displayName||"Context")+".Consumer";case k:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return r=s.displayName||null,r!==null?r:ue(s.type)||"Memo";case L:r=s._payload,s=s._init;try{return ue(s(r))}catch{}}return null}var he=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},fe=[],N=-1;function ee(s){return{current:s}}function ae(s){0>N||(s.current=fe[N],fe[N]=null,N--)}function K(s,r){N++,fe[N]=s.current,s.current=r}var se=ee(null),le=ee(null),ie=ee(null),Oe=ee(null);function Ae(s,r){switch(K(ie,r),K(le,s),K(se,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?_b(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=_b(r),s=wb(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(se),K(se,s)}function qe(){ae(se),ae(le),ae(ie)}function Ye(s){s.memoizedState!==null&&K(Oe,s);var r=se.current,c=wb(r,s.type);r!==c&&(K(le,s),K(se,c))}function pt(s){le.current===s&&(ae(se),ae(le)),Oe.current===s&&(ae(Oe),Zo._currentValue=oe)}var ot=Object.prototype.hasOwnProperty,Je=t.unstable_scheduleCallback,kt=t.unstable_cancelCallback,vn=t.unstable_shouldYield,Cn=t.unstable_requestPaint,Rt=t.unstable_now,oo=t.unstable_getCurrentPriorityLevel,Fi=t.unstable_ImmediatePriority,j=t.unstable_UserBlockingPriority,H=t.unstable_NormalPriority,X=t.unstable_LowPriority,ge=t.unstable_IdlePriority,de=t.log,re=t.unstable_setDisableYieldValue,pe=null,_e=null;function Te(s){if(typeof de=="function"&&re(s),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(pe,s)}catch{}}var Be=Math.clz32?Math.clz32:Ba,Ui=Math.log,It=Math.LN2;function Ba(s){return s>>>=0,s===0?32:31-(Ui(s)/It|0)|0}var Si=256,xi=4194304;function Nn(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ei(s,r,c){var h=s.pendingLanes;if(h===0)return 0;var m=0,v=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var O=h&134217727;return O!==0?(h=O&~v,h!==0?m=Nn(h):(E&=O,E!==0?m=Nn(E):c||(c=O&~s,c!==0&&(m=Nn(c))))):(O=h&~v,O!==0?m=Nn(O):E!==0?m=Nn(E):c||(c=h&~s,c!==0&&(m=Nn(c)))),m===0?0:r!==0&&r!==m&&(r&v)===0&&(v=m&-m,c=r&-r,v>=c||v===32&&(c&4194048)!==0)?r:m}function Hi(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function ra(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hc(){var s=Si;return Si<<=1,(Si&4194048)===0&&(Si=256),s}function fc(){var s=xi;return xi<<=1,(xi&62914560)===0&&(xi=4194304),s}function lo(s){for(var r=[],c=0;31>c;c++)r.push(s);return r}function St(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function yn(s,r,c,h,m,v){var E=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var O=s.entanglements,M=s.expirationTimes,B=s.hiddenUpdates;for(c=E&~c;0<c;){var J=31-Be(c),ne=1<<J;O[J]=0,M[J]=-1;var q=B[J];if(q!==null)for(B[J]=null,J=0;J<q.length;J++){var Y=q[J];Y!==null&&(Y.lane&=-536870913)}c&=~ne}h!==0&&on(s,h,0),v!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=v&~(E&~r))}function on(s,r,c){s.pendingLanes|=r,s.suspendedLanes&=~r;var h=31-Be(r);s.entangledLanes|=r,s.entanglements[h]=s.entanglements[h]|1073741824|c&4194090}function ri(s,r){var c=s.entangledLanes|=r;for(s=s.entanglements;c;){var h=31-Be(c),m=1<<h;m&r|s[h]&r&&(s[h]|=r),c&=~m}}function ln(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function tn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function jn(){var s=W.p;return s!==0?s:(s=window.event,s===void 0?32:Ub(s.type))}function ws(s,r){var c=W.p;try{return W.p=s,r()}finally{W.p=c}}var lt=Math.random().toString(36).slice(2),ht="__reactFiber$"+lt,ft="__reactProps$"+lt,cn="__reactContainer$"+lt,Bi="__reactEvents$"+lt,oa="__reactListeners$"+lt,Ci="__reactHandles$"+lt,Ss="__reactResources$"+lt,Vi="__reactMarker$"+lt;function Hd(s){delete s[ht],delete s[ft],delete s[Bi],delete s[oa],delete s[Ci]}function Va(s){var r=s[ht];if(r)return r;for(var c=s.parentNode;c;){if(r=c[cn]||c[ht]){if(c=r.alternate,r.child!==null||c!==null&&c.child!==null)for(s=Cb(s);s!==null;){if(c=s[ht])return c;s=Cb(s)}return r}s=c,c=s.parentNode}return null}function $a(s){if(s=s[ht]||s[cn]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function co(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function qa(s){var r=s[Ss];return r||(r=s[Ss]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Gt(s){s[Vi]=!0}var cp=new Set,up={};function la(s,r){Ga(s,r),Ga(s+"Capture",r)}function Ga(s,r){for(up[s]=r,s=0;s<r.length;s++)cp.add(r[s])}var rE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dp={},hp={};function oE(s){return ot.call(hp,s)?!0:ot.call(dp,s)?!1:rE.test(s)?hp[s]=!0:(dp[s]=!0,!1)}function gc(s,r,c){if(oE(r))if(c===null)s.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+c)}}function mc(s,r,c){if(c===null)s.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+c)}}function $i(s,r,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(r,c,""+h)}}var Bd,fp;function Ya(s){if(Bd===void 0)try{throw Error()}catch(c){var r=c.stack.trim().match(/\n( *(at )?)/);Bd=r&&r[1]||"",fp=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bd+s+fp}var Vd=!1;function $d(s,r){if(!s||Vd)return"";Vd=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Y){var q=Y}Reflect.construct(s,[],ne)}else{try{ne.call()}catch(Y){q=Y}s.call(ne.prototype)}}else{try{throw Error()}catch(Y){q=Y}(ne=s())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Y){if(Y&&q&&typeof Y.stack=="string")return[Y.stack,q.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),E=v[0],O=v[1];if(E&&O){var M=E.split(`
`),B=O.split(`
`);for(m=h=0;h<M.length&&!M[h].includes("DetermineComponentFrameRoot");)h++;for(;m<B.length&&!B[m].includes("DetermineComponentFrameRoot");)m++;if(h===M.length||m===B.length)for(h=M.length-1,m=B.length-1;1<=h&&0<=m&&M[h]!==B[m];)m--;for(;1<=h&&0<=m;h--,m--)if(M[h]!==B[m]){if(h!==1||m!==1)do if(h--,m--,0>m||M[h]!==B[m]){var J=`
`+M[h].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=h&&0<=m);break}}}finally{Vd=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Ya(c):""}function lE(s){switch(s.tag){case 26:case 27:case 5:return Ya(s.type);case 16:return Ya("Lazy");case 13:return Ya("Suspense");case 19:return Ya("SuspenseList");case 0:case 15:return $d(s.type,!1);case 11:return $d(s.type.render,!1);case 1:return $d(s.type,!0);case 31:return Ya("Activity");default:return""}}function gp(s){try{var r="";do r+=lE(s),s=s.return;while(s);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function $n(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function mp(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function cE(s){var r=mp(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),h=""+s[r];if(!s.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,v=c.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(E){h=""+E,v.call(this,E)}}),Object.defineProperty(s,r,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function pc(s){s._valueTracker||(s._valueTracker=cE(s))}function pp(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var c=r.getValue(),h="";return s&&(h=mp(s)?s.checked?"true":"false":s.value),s=h,s!==c?(r.setValue(s),!0):!1}function vc(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var uE=/[\n"\\]/g;function qn(s){return s.replace(uE,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function qd(s,r,c,h,m,v,E,O){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),r!=null?E==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+$n(r)):s.value!==""+$n(r)&&(s.value=""+$n(r)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),r!=null?Gd(s,E,$n(r)):c!=null?Gd(s,E,$n(c)):h!=null&&s.removeAttribute("value"),m==null&&v!=null&&(s.defaultChecked=!!v),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.name=""+$n(O):s.removeAttribute("name")}function vp(s,r,c,h,m,v,E,O){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),r!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||r!=null))return;c=c!=null?""+$n(c):"",r=r!=null?""+$n(r):c,O||r===s.value||(s.value=r),s.defaultValue=r}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=O?s.checked:!!h,s.defaultChecked=!!h,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E)}function Gd(s,r,c){r==="number"&&vc(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Wa(s,r,c,h){if(s=s.options,r){r={};for(var m=0;m<c.length;m++)r["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=r.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&h&&(s[c].defaultSelected=!0)}else{for(c=""+$n(c),r=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function yp(s,r,c){if(r!=null&&(r=""+$n(r),r!==s.value&&(s.value=r),c==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=c!=null?""+$n(c):""}function bp(s,r,c,h){if(r==null){if(h!=null){if(c!=null)throw Error(i(92));if(he(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),r=c}c=$n(r),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h)}function Ka(s,r){if(r){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=r;return}}s.textContent=r}var dE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _p(s,r,c){var h=r.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":h?s.setProperty(r,c):typeof c!="number"||c===0||dE.has(r)?r==="float"?s.cssFloat=c:s[r]=(""+c).trim():s[r]=c+"px"}function wp(s,r,c){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var m in r)h=r[m],r.hasOwnProperty(m)&&c[m]!==h&&_p(s,m,h)}else for(var v in r)r.hasOwnProperty(v)&&_p(s,v,r[v])}function Yd(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yc(s){return fE.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Wd=null;function Kd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Xa=null,Qa=null;function Sp(s){var r=$a(s);if(r&&(s=r.stateNode)){var c=s[ft]||null;e:switch(s=r.stateNode,r.type){case"input":if(qd(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),r=c.name,c.type==="radio"&&r!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+qn(""+r)+'"][type="radio"]'),r=0;r<c.length;r++){var h=c[r];if(h!==s&&h.form===s.form){var m=h[ft]||null;if(!m)throw Error(i(90));qd(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<c.length;r++)h=c[r],h.form===s.form&&pp(h)}break e;case"textarea":yp(s,c.value,c.defaultValue);break e;case"select":r=c.value,r!=null&&Wa(s,!!c.multiple,r,!1)}}}var Xd=!1;function xp(s,r,c){if(Xd)return s(r,c);Xd=!0;try{var h=s(r);return h}finally{if(Xd=!1,(Xa!==null||Qa!==null)&&(iu(),Xa&&(r=Xa,s=Qa,Qa=Xa=null,Sp(r),s)))for(r=0;r<s.length;r++)Sp(s[r])}}function uo(s,r){var c=s.stateNode;if(c===null)return null;var h=c[ft]||null;if(h===null)return null;c=h[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,r,typeof c));return c}var qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qd=!1;if(qi)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){Qd=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{Qd=!1}var xs=null,Zd=null,bc=null;function Ep(){if(bc)return bc;var s,r=Zd,c=r.length,h,m="value"in xs?xs.value:xs.textContent,v=m.length;for(s=0;s<c&&r[s]===m[s];s++);var E=c-s;for(h=1;h<=E&&r[c-h]===m[v-h];h++);return bc=m.slice(s,1<h?1-h:void 0)}function _c(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function wc(){return!0}function Cp(){return!1}function Rn(s){function r(c,h,m,v,E){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(c=s[O],this[O]=c?c(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?wc:Cp,this.isPropagationStopped=Cp,this}return g(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=wc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=wc)},persist:function(){},isPersistent:wc}),r}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sc=Rn(ca),fo=g({},ca,{view:0,detail:0}),gE=Rn(fo),Jd,eh,go,xc=g({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==go&&(go&&s.type==="mousemove"?(Jd=s.screenX-go.screenX,eh=s.screenY-go.screenY):eh=Jd=0,go=s),Jd)},movementY:function(s){return"movementY"in s?s.movementY:eh}}),Rp=Rn(xc),mE=g({},xc,{dataTransfer:0}),pE=Rn(mE),vE=g({},fo,{relatedTarget:0}),th=Rn(vE),yE=g({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),bE=Rn(yE),_E=g({},ca,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),wE=Rn(_E),SE=g({},ca,{data:0}),Ap=Rn(SE),xE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RE(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=CE[s])?!!r[s]:!1}function nh(){return RE}var AE=g({},fo,{key:function(s){if(s.key){var r=xE[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=_c(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?EE[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nh,charCode:function(s){return s.type==="keypress"?_c(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_c(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),OE=Rn(AE),TE=g({},xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Op=Rn(TE),DE=g({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nh}),ME=Rn(DE),kE=g({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),NE=Rn(kE),jE=g({},xc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),LE=Rn(jE),PE=g({},ca,{newState:0,oldState:0}),zE=Rn(PE),IE=[9,13,27,32],ih=qi&&"CompositionEvent"in window,mo=null;qi&&"documentMode"in document&&(mo=document.documentMode);var FE=qi&&"TextEvent"in window&&!mo,Tp=qi&&(!ih||mo&&8<mo&&11>=mo),Dp=" ",Mp=!1;function kp(s,r){switch(s){case"keyup":return IE.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Np(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Za=!1;function UE(s,r){switch(s){case"compositionend":return Np(r);case"keypress":return r.which!==32?null:(Mp=!0,Dp);case"textInput":return s=r.data,s===Dp&&Mp?null:s;default:return null}}function HE(s,r){if(Za)return s==="compositionend"||!ih&&kp(s,r)?(s=Ep(),bc=Zd=xs=null,Za=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Tp&&r.locale!=="ko"?null:r.data;default:return null}}var BE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jp(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!BE[s.type]:r==="textarea"}function Lp(s,r,c,h){Xa?Qa?Qa.push(h):Qa=[h]:Xa=h,r=cu(r,"onChange"),0<r.length&&(c=new Sc("onChange","change",null,c,h),s.push({event:c,listeners:r}))}var po=null,vo=null;function VE(s){mb(s,0)}function Ec(s){var r=co(s);if(pp(r))return s}function Pp(s,r){if(s==="change")return r}var zp=!1;if(qi){var sh;if(qi){var ah="oninput"in document;if(!ah){var Ip=document.createElement("div");Ip.setAttribute("oninput","return;"),ah=typeof Ip.oninput=="function"}sh=ah}else sh=!1;zp=sh&&(!document.documentMode||9<document.documentMode)}function Fp(){po&&(po.detachEvent("onpropertychange",Up),vo=po=null)}function Up(s){if(s.propertyName==="value"&&Ec(vo)){var r=[];Lp(r,vo,s,Kd(s)),xp(VE,r)}}function $E(s,r,c){s==="focusin"?(Fp(),po=r,vo=c,po.attachEvent("onpropertychange",Up)):s==="focusout"&&Fp()}function qE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ec(vo)}function GE(s,r){if(s==="click")return Ec(r)}function YE(s,r){if(s==="input"||s==="change")return Ec(r)}function WE(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Ln=typeof Object.is=="function"?Object.is:WE;function yo(s,r){if(Ln(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var c=Object.keys(s),h=Object.keys(r);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!ot.call(r,m)||!Ln(s[m],r[m]))return!1}return!0}function Hp(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Bp(s,r){var c=Hp(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=r&&h>=r)return{node:c,offset:r-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Hp(c)}}function Vp(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Vp(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function $p(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=vc(s.document);r instanceof s.HTMLIFrameElement;){try{var c=typeof r.contentWindow.location.href=="string"}catch{c=!1}if(c)s=r.contentWindow;else break;r=vc(s.document)}return r}function rh(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var KE=qi&&"documentMode"in document&&11>=document.documentMode,Ja=null,oh=null,bo=null,lh=!1;function qp(s,r,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;lh||Ja==null||Ja!==vc(h)||(h=Ja,"selectionStart"in h&&rh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),bo&&yo(bo,h)||(bo=h,h=cu(oh,"onSelect"),0<h.length&&(r=new Sc("onSelect","select",null,r,c),s.push({event:r,listeners:h}),r.target=Ja)))}function ua(s,r){var c={};return c[s.toLowerCase()]=r.toLowerCase(),c["Webkit"+s]="webkit"+r,c["Moz"+s]="moz"+r,c}var er={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},ch={},Gp={};qi&&(Gp=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function da(s){if(ch[s])return ch[s];if(!er[s])return s;var r=er[s],c;for(c in r)if(r.hasOwnProperty(c)&&c in Gp)return ch[s]=r[c];return s}var Yp=da("animationend"),Wp=da("animationiteration"),Kp=da("animationstart"),XE=da("transitionrun"),QE=da("transitionstart"),ZE=da("transitioncancel"),Xp=da("transitionend"),Qp=new Map,uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uh.push("scrollEnd");function oi(s,r){Qp.set(s,r),la(r,[s])}var Zp=new WeakMap;function Gn(s,r){if(typeof s=="object"&&s!==null){var c=Zp.get(s);return c!==void 0?c:(r={value:s,source:r,stack:gp(r)},Zp.set(s,r),r)}return{value:s,source:r,stack:gp(r)}}var Yn=[],tr=0,dh=0;function Cc(){for(var s=tr,r=dh=tr=0;r<s;){var c=Yn[r];Yn[r++]=null;var h=Yn[r];Yn[r++]=null;var m=Yn[r];Yn[r++]=null;var v=Yn[r];if(Yn[r++]=null,h!==null&&m!==null){var E=h.pending;E===null?m.next=m:(m.next=E.next,E.next=m),h.pending=m}v!==0&&Jp(c,m,v)}}function Rc(s,r,c,h){Yn[tr++]=s,Yn[tr++]=r,Yn[tr++]=c,Yn[tr++]=h,dh|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function hh(s,r,c,h){return Rc(s,r,c,h),Ac(s)}function nr(s,r){return Rc(s,null,null,r),Ac(s)}function Jp(s,r,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var m=!1,v=s.return;v!==null;)v.childLanes|=c,h=v.alternate,h!==null&&(h.childLanes|=c),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(m=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,m&&r!==null&&(m=31-Be(c),s=v.hiddenUpdates,h=s[m],h===null?s[m]=[r]:h.push(r),r.lane=c|536870912),v):null}function Ac(s){if(50<$o)throw $o=0,bf=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var ir={};function JE(s,r,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(s,r,c,h){return new JE(s,r,c,h)}function fh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Gi(s,r){var c=s.alternate;return c===null?(c=Pn(s.tag,r,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=r,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,r=s.dependencies,c.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function ev(s,r){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,r=c.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Oc(s,r,c,h,m,v){var E=0;if(h=s,typeof s=="function")fh(s)&&(E=1);else if(typeof s=="string")E=tR(s,c,se.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case $:return s=Pn(31,c,r,m),s.elementType=$,s.lanes=v,s;case w:return ha(c.children,m,v,r);case S:E=8,m|=24;break;case x:return s=Pn(12,c,r,m|2),s.elementType=x,s.lanes=v,s;case D:return s=Pn(13,c,r,m),s.elementType=D,s.lanes=v,s;case V:return s=Pn(19,c,r,m),s.elementType=V,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case C:case T:E=10;break e;case A:E=9;break e;case k:E=11;break e;case F:E=14;break e;case L:E=16,h=null;break e}E=29,c=Error(i(130,s===null?"null":typeof s,"")),h=null}return r=Pn(E,c,r,m),r.elementType=s,r.type=h,r.lanes=v,r}function ha(s,r,c,h){return s=Pn(7,s,h,r),s.lanes=c,s}function gh(s,r,c){return s=Pn(6,s,null,r),s.lanes=c,s}function mh(s,r,c){return r=Pn(4,s.children!==null?s.children:[],s.key,r),r.lanes=c,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var sr=[],ar=0,Tc=null,Dc=0,Wn=[],Kn=0,fa=null,Yi=1,Wi="";function ga(s,r){sr[ar++]=Dc,sr[ar++]=Tc,Tc=s,Dc=r}function tv(s,r,c){Wn[Kn++]=Yi,Wn[Kn++]=Wi,Wn[Kn++]=fa,fa=s;var h=Yi;s=Wi;var m=32-Be(h)-1;h&=~(1<<m),c+=1;var v=32-Be(r)+m;if(30<v){var E=m-m%5;v=(h&(1<<E)-1).toString(32),h>>=E,m-=E,Yi=1<<32-Be(r)+m|c<<m|h,Wi=v+s}else Yi=1<<v|c<<m|h,Wi=s}function ph(s){s.return!==null&&(ga(s,1),tv(s,1,0))}function vh(s){for(;s===Tc;)Tc=sr[--ar],sr[ar]=null,Dc=sr[--ar],sr[ar]=null;for(;s===fa;)fa=Wn[--Kn],Wn[Kn]=null,Wi=Wn[--Kn],Wn[Kn]=null,Yi=Wn[--Kn],Wn[Kn]=null}var bn=null,xt=null,Ge=!1,ma=null,Ri=!1,yh=Error(i(519));function pa(s){var r=Error(i(418,""));throw So(Gn(r,s)),yh}function nv(s){var r=s.stateNode,c=s.type,h=s.memoizedProps;switch(r[ht]=s,r[ft]=h,c){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(c=0;c<Go.length;c++)Pe(Go[c],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),vp(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),pc(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),bp(r,h.value,h.defaultValue,h.children),pc(r)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||r.textContent===""+c||h.suppressHydrationWarning===!0||bb(r.textContent,c)?(h.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),h.onScroll!=null&&Pe("scroll",r),h.onScrollEnd!=null&&Pe("scrollend",r),h.onClick!=null&&(r.onclick=uu),r=!0):r=!1,r||pa(s)}function iv(s){for(bn=s.return;bn;)switch(bn.tag){case 5:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:bn=bn.return}}function _o(s){if(s!==bn)return!1;if(!Ge)return iv(s),Ge=!0,!1;var r=s.tag,c;if((c=r!==3&&r!==27)&&((c=r===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Lf(s.type,s.memoizedProps)),c=!c),c&&xt&&pa(s),iv(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(r===0){xt=ci(s.nextSibling);break e}r--}else c!=="$"&&c!=="$!"&&c!=="$?"||r++;s=s.nextSibling}xt=null}}else r===27?(r=xt,Fs(s.type)?(s=Ff,Ff=null,xt=s):xt=r):xt=bn?ci(s.stateNode.nextSibling):null;return!0}function wo(){xt=bn=null,Ge=!1}function sv(){var s=ma;return s!==null&&(Tn===null?Tn=s:Tn.push.apply(Tn,s),ma=null),s}function So(s){ma===null?ma=[s]:ma.push(s)}var bh=ee(null),va=null,Ki=null;function Es(s,r,c){K(bh,r._currentValue),r._currentValue=c}function Xi(s){s._currentValue=bh.current,ae(bh)}function _h(s,r,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),s===c)break;s=s.return}}function wh(s,r,c,h){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var v=m.dependencies;if(v!==null){var E=m.child;v=v.firstContext;e:for(;v!==null;){var O=v;v=m;for(var M=0;M<r.length;M++)if(O.context===r[M]){v.lanes|=c,O=v.alternate,O!==null&&(O.lanes|=c),_h(v.return,c,s),h||(E=null);break e}v=O.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(i(341));E.lanes|=c,v=E.alternate,v!==null&&(v.lanes|=c),_h(E,c,s),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===s){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function xo(s,r,c,h){s=null;for(var m=r,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var O=m.type;Ln(m.pendingProps.value,E.value)||(s!==null?s.push(O):s=[O])}}else if(m===Oe.current){if(E=m.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Zo):s=[Zo])}m=m.return}s!==null&&wh(r,s,c,h),r.flags|=262144}function Mc(s){for(s=s.firstContext;s!==null;){if(!Ln(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ya(s){va=s,Ki=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function un(s){return av(va,s)}function kc(s,r){return va===null&&ya(s),av(s,r)}function av(s,r){var c=r._currentValue;if(r={context:r,memoizedValue:c,next:null},Ki===null){if(s===null)throw Error(i(308));Ki=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Ki=Ki.next=r;return c}var eC=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){r.aborted=!0,s.forEach(function(c){return c()})}},tC=t.unstable_scheduleCallback,nC=t.unstable_NormalPriority,Ft={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sh(){return{controller:new eC,data:new Map,refCount:0}}function Eo(s){s.refCount--,s.refCount===0&&tC(nC,function(){s.controller.abort()})}var Co=null,xh=0,rr=0,or=null;function iC(s,r){if(Co===null){var c=Co=[];xh=0,rr=Rf(),or={status:"pending",value:void 0,then:function(h){c.push(h)}}}return xh++,r.then(rv,rv),r}function rv(){if(--xh===0&&Co!==null){or!==null&&(or.status="fulfilled");var s=Co;Co=null,rr=0,or=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function sC(s,r){var c=[],h={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return s.then(function(){h.status="fulfilled",h.value=r;for(var m=0;m<c.length;m++)(0,c[m])(r)},function(m){for(h.status="rejected",h.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),h}var ov=z.S;z.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&iC(s,r),ov!==null&&ov(s,r)};var ba=ee(null);function Eh(){var s=ba.current;return s!==null?s:ct.pooledCache}function Nc(s,r){r===null?K(ba,ba.current):K(ba,r.pool)}function lv(){var s=Eh();return s===null?null:{parent:Ft._currentValue,pool:s}}var Ro=Error(i(460)),cv=Error(i(474)),jc=Error(i(542)),Ch={then:function(){}};function uv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Lc(){}function dv(s,r,c){switch(c=s[c],c===void 0?s.push(r):c!==r&&(r.then(Lc,Lc),r=c),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,fv(s),s;default:if(typeof r.status=="string")r.then(Lc,Lc);else{if(s=ct,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(h){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=h}},function(h){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,fv(s),s}throw Ao=r,Ro}}var Ao=null;function hv(){if(Ao===null)throw Error(i(459));var s=Ao;return Ao=null,s}function fv(s){if(s===Ro||s===jc)throw Error(i(483))}var Cs=!1;function Rh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ah(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Rs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function As(s,r,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(We&2)!==0){var m=h.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),h.pending=r,r=Ac(s),Jp(s,null,c),r}return Rc(s,h,r,c),Ac(s)}function Oo(s,r,c){if(r=r.updateQueue,r!==null&&(r=r.shared,(c&4194048)!==0)){var h=r.lanes;h&=s.pendingLanes,c|=h,r.lanes=c,ri(s,c)}}function Oh(s,r){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var E={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?m=v=E:v=v.next=E,c=c.next}while(c!==null);v===null?m=v=r:v=v.next=r}else m=v=r;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=r:s.next=r,c.lastBaseUpdate=r}var Th=!1;function To(){if(Th){var s=or;if(s!==null)throw s}}function Do(s,r,c,h){Th=!1;var m=s.updateQueue;Cs=!1;var v=m.firstBaseUpdate,E=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var M=O,B=M.next;M.next=null,E===null?v=B:E.next=B,E=M;var J=s.alternate;J!==null&&(J=J.updateQueue,O=J.lastBaseUpdate,O!==E&&(O===null?J.firstBaseUpdate=B:O.next=B,J.lastBaseUpdate=M))}if(v!==null){var ne=m.baseState;E=0,J=B=M=null,O=v;do{var q=O.lane&-536870913,Y=q!==O.lane;if(Y?(Ue&q)===q:(h&q)===q){q!==0&&q===rr&&(Th=!0),J!==null&&(J=J.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Se=s,be=O;q=r;var nt=c;switch(be.tag){case 1:if(Se=be.payload,typeof Se=="function"){ne=Se.call(nt,ne,q);break e}ne=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=be.payload,q=typeof Se=="function"?Se.call(nt,ne,q):Se,q==null)break e;ne=g({},ne,q);break e;case 2:Cs=!0}}q=O.callback,q!==null&&(s.flags|=64,Y&&(s.flags|=8192),Y=m.callbacks,Y===null?m.callbacks=[q]:Y.push(q))}else Y={lane:q,tag:O.tag,payload:O.payload,callback:O.callback,next:null},J===null?(B=J=Y,M=ne):J=J.next=Y,E|=q;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;Y=O,O=Y.next,Y.next=null,m.lastBaseUpdate=Y,m.shared.pending=null}}while(!0);J===null&&(M=ne),m.baseState=M,m.firstBaseUpdate=B,m.lastBaseUpdate=J,v===null&&(m.shared.lanes=0),Ls|=E,s.lanes=E,s.memoizedState=ne}}function gv(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function mv(s,r){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)gv(c[s],r)}var lr=ee(null),Pc=ee(0);function pv(s,r){s=is,K(Pc,s),K(lr,r),is=s|r.baseLanes}function Dh(){K(Pc,is),K(lr,lr.current)}function Mh(){is=Pc.current,ae(lr),ae(Pc)}var Os=0,Ne=null,et=null,Nt=null,zc=!1,cr=!1,_a=!1,Ic=0,Mo=0,ur=null,aC=0;function At(){throw Error(i(321))}function kh(s,r){if(r===null)return!1;for(var c=0;c<r.length&&c<s.length;c++)if(!Ln(s[c],r[c]))return!1;return!0}function Nh(s,r,c,h,m,v){return Os=v,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,z.H=s===null||s.memoizedState===null?Jv:ey,_a=!1,v=c(h,m),_a=!1,cr&&(v=yv(r,c,h,m)),vv(s),v}function vv(s){z.H=$c;var r=et!==null&&et.next!==null;if(Os=0,Nt=et=Ne=null,zc=!1,Mo=0,ur=null,r)throw Error(i(300));s===null||Yt||(s=s.dependencies,s!==null&&Mc(s)&&(Yt=!0))}function yv(s,r,c,h){Ne=s;var m=0;do{if(cr&&(ur=null),Mo=0,cr=!1,25<=m)throw Error(i(301));if(m+=1,Nt=et=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}z.H=hC,v=r(c,h)}while(cr);return v}function rC(){var s=z.H,r=s.useState()[0];return r=typeof r.then=="function"?ko(r):r,s=s.useState()[0],(et!==null?et.memoizedState:null)!==s&&(Ne.flags|=1024),r}function jh(){var s=Ic!==0;return Ic=0,s}function Lh(s,r,c){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~c}function Ph(s){if(zc){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}zc=!1}Os=0,Nt=et=Ne=null,cr=!1,Mo=Ic=0,ur=null}function An(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ne.memoizedState=Nt=s:Nt=Nt.next=s,Nt}function jt(){if(et===null){var s=Ne.alternate;s=s!==null?s.memoizedState:null}else s=et.next;var r=Nt===null?Ne.memoizedState:Nt.next;if(r!==null)Nt=r,et=s;else{if(s===null)throw Ne.alternate===null?Error(i(467)):Error(i(310));et=s,s={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Nt===null?Ne.memoizedState=Nt=s:Nt=Nt.next=s}return Nt}function zh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(s){var r=Mo;return Mo+=1,ur===null&&(ur=[]),s=dv(ur,s,r),r=Ne,(Nt===null?r.memoizedState:Nt.next)===null&&(r=r.alternate,z.H=r===null||r.memoizedState===null?Jv:ey),s}function Fc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ko(s);if(s.$$typeof===T)return un(s)}throw Error(i(438,String(s)))}function Ih(s){var r=null,c=Ne.updateQueue;if(c!==null&&(r=c.memoCache),r==null){var h=Ne.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),c===null&&(c=zh(),Ne.updateQueue=c),c.memoCache=r,c=r.data[r.index],c===void 0)for(c=r.data[r.index]=Array(s),h=0;h<s;h++)c[h]=G;return r.index++,c}function Qi(s,r){return typeof r=="function"?r(s):r}function Uc(s){var r=jt();return Fh(r,et,s)}function Fh(s,r,c){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var m=s.baseQueue,v=h.pending;if(v!==null){if(m!==null){var E=m.next;m.next=v.next,v.next=E}r.baseQueue=m=v,h.pending=null}if(v=s.baseState,m===null)s.memoizedState=v;else{r=m.next;var O=E=null,M=null,B=r,J=!1;do{var ne=B.lane&-536870913;if(ne!==B.lane?(Ue&ne)===ne:(Os&ne)===ne){var q=B.revertLane;if(q===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ne===rr&&(J=!0);else if((Os&q)===q){B=B.next,q===rr&&(J=!0);continue}else ne={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(O=M=ne,E=v):M=M.next=ne,Ne.lanes|=q,Ls|=q;ne=B.action,_a&&c(v,ne),v=B.hasEagerState?B.eagerState:c(v,ne)}else q={lane:ne,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(O=M=q,E=v):M=M.next=q,Ne.lanes|=ne,Ls|=ne;B=B.next}while(B!==null&&B!==r);if(M===null?E=v:M.next=O,!Ln(v,s.memoizedState)&&(Yt=!0,J&&(c=or,c!==null)))throw c;s.memoizedState=v,s.baseState=E,s.baseQueue=M,h.lastRenderedState=v}return m===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Uh(s){var r=jt(),c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var h=c.dispatch,m=c.pending,v=r.memoizedState;if(m!==null){c.pending=null;var E=m=m.next;do v=s(v,E.action),E=E.next;while(E!==m);Ln(v,r.memoizedState)||(Yt=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),c.lastRenderedState=v}return[v,h]}function bv(s,r,c){var h=Ne,m=jt(),v=Ge;if(v){if(c===void 0)throw Error(i(407));c=c()}else c=r();var E=!Ln((et||m).memoizedState,c);E&&(m.memoizedState=c,Yt=!0),m=m.queue;var O=Sv.bind(null,h,m,s);if(No(2048,8,O,[s]),m.getSnapshot!==r||E||Nt!==null&&Nt.memoizedState.tag&1){if(h.flags|=2048,dr(9,Hc(),wv.bind(null,h,m,c,r),null),ct===null)throw Error(i(349));v||(Os&124)!==0||_v(h,r,c)}return c}function _v(s,r,c){s.flags|=16384,s={getSnapshot:r,value:c},r=Ne.updateQueue,r===null?(r=zh(),Ne.updateQueue=r,r.stores=[s]):(c=r.stores,c===null?r.stores=[s]:c.push(s))}function wv(s,r,c,h){r.value=c,r.getSnapshot=h,xv(r)&&Ev(s)}function Sv(s,r,c){return c(function(){xv(r)&&Ev(s)})}function xv(s){var r=s.getSnapshot;s=s.value;try{var c=r();return!Ln(s,c)}catch{return!0}}function Ev(s){var r=nr(s,2);r!==null&&Hn(r,s,2)}function Hh(s){var r=An();if(typeof s=="function"){var c=s;if(s=c(),_a){Te(!0);try{c()}finally{Te(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:s},r}function Cv(s,r,c,h){return s.baseState=c,Fh(s,et,typeof h=="function"?h:Qi)}function oC(s,r,c,h,m){if(Vc(s))throw Error(i(485));if(s=r.action,s!==null){var v={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};z.T!==null?c(!0):v.isTransition=!1,h(v),c=r.pending,c===null?(v.next=r.pending=v,Rv(r,v)):(v.next=c.next,r.pending=c.next=v)}}function Rv(s,r){var c=r.action,h=r.payload,m=s.state;if(r.isTransition){var v=z.T,E={};z.T=E;try{var O=c(m,h),M=z.S;M!==null&&M(E,O),Av(s,r,O)}catch(B){Bh(s,r,B)}finally{z.T=v}}else try{v=c(m,h),Av(s,r,v)}catch(B){Bh(s,r,B)}}function Av(s,r,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){Ov(s,r,h)},function(h){return Bh(s,r,h)}):Ov(s,r,c)}function Ov(s,r,c){r.status="fulfilled",r.value=c,Tv(r),s.state=c,r=s.pending,r!==null&&(c=r.next,c===r?s.pending=null:(c=c.next,r.next=c,Rv(s,c)))}function Bh(s,r,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=c,Tv(r),r=r.next;while(r!==h)}s.action=null}function Tv(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Dv(s,r){return r}function Mv(s,r){if(Ge){var c=ct.formState;if(c!==null){e:{var h=Ne;if(Ge){if(xt){t:{for(var m=xt,v=Ri;m.nodeType!==8;){if(!v){m=null;break t}if(m=ci(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){xt=ci(m.nextSibling),h=m.data==="F!";break e}}pa(h)}h=!1}h&&(r=c[0])}}return c=An(),c.memoizedState=c.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dv,lastRenderedState:r},c.queue=h,c=Xv.bind(null,Ne,h),h.dispatch=c,h=Hh(!1),v=Yh.bind(null,Ne,!1,h.queue),h=An(),m={state:r,dispatch:null,action:s,pending:null},h.queue=m,c=oC.bind(null,Ne,m,v,c),m.dispatch=c,h.memoizedState=s,[r,c,!1]}function kv(s){var r=jt();return Nv(r,et,s)}function Nv(s,r,c){if(r=Fh(s,r,Dv)[0],s=Uc(Qi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=ko(r)}catch(E){throw E===Ro?jc:E}else h=r;r=jt();var m=r.queue,v=m.dispatch;return c!==r.memoizedState&&(Ne.flags|=2048,dr(9,Hc(),lC.bind(null,m,c),null)),[h,v,s]}function lC(s,r){s.action=r}function jv(s){var r=jt(),c=et;if(c!==null)return Nv(r,c,s);jt(),r=r.memoizedState,c=jt();var h=c.queue.dispatch;return c.memoizedState=s,[r,h,!1]}function dr(s,r,c,h){return s={tag:s,create:c,deps:h,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=zh(),Ne.updateQueue=r),c=r.lastEffect,c===null?r.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,r.lastEffect=s),s}function Hc(){return{destroy:void 0,resource:void 0}}function Lv(){return jt().memoizedState}function Bc(s,r,c,h){var m=An();h=h===void 0?null:h,Ne.flags|=s,m.memoizedState=dr(1|r,Hc(),c,h)}function No(s,r,c,h){var m=jt();h=h===void 0?null:h;var v=m.memoizedState.inst;et!==null&&h!==null&&kh(h,et.memoizedState.deps)?m.memoizedState=dr(r,v,c,h):(Ne.flags|=s,m.memoizedState=dr(1|r,v,c,h))}function Pv(s,r){Bc(8390656,8,s,r)}function zv(s,r){No(2048,8,s,r)}function Iv(s,r){return No(4,2,s,r)}function Fv(s,r){return No(4,4,s,r)}function Uv(s,r){if(typeof r=="function"){s=s();var c=r(s);return function(){typeof c=="function"?c():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Hv(s,r,c){c=c!=null?c.concat([s]):null,No(4,4,Uv.bind(null,r,s),c)}function Vh(){}function Bv(s,r){var c=jt();r=r===void 0?null:r;var h=c.memoizedState;return r!==null&&kh(r,h[1])?h[0]:(c.memoizedState=[s,r],s)}function Vv(s,r){var c=jt();r=r===void 0?null:r;var h=c.memoizedState;if(r!==null&&kh(r,h[1]))return h[0];if(h=s(),_a){Te(!0);try{s()}finally{Te(!1)}}return c.memoizedState=[h,r],h}function $h(s,r,c){return c===void 0||(Os&1073741824)!==0?s.memoizedState=r:(s.memoizedState=c,s=Gy(),Ne.lanes|=s,Ls|=s,c)}function $v(s,r,c,h){return Ln(c,r)?c:lr.current!==null?(s=$h(s,c,h),Ln(s,r)||(Yt=!0),s):(Os&42)===0?(Yt=!0,s.memoizedState=c):(s=Gy(),Ne.lanes|=s,Ls|=s,r)}function qv(s,r,c,h,m){var v=W.p;W.p=v!==0&&8>v?v:8;var E=z.T,O={};z.T=O,Yh(s,!1,r,c);try{var M=m(),B=z.S;if(B!==null&&B(O,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=sC(M,h);jo(s,r,J,Un(s))}else jo(s,r,h,Un(s))}catch(ne){jo(s,r,{then:function(){},status:"rejected",reason:ne},Un())}finally{W.p=v,z.T=E}}function cC(){}function qh(s,r,c,h){if(s.tag!==5)throw Error(i(476));var m=Gv(s).queue;qv(s,m,r,oe,c===null?cC:function(){return Yv(s),c(h)})}function Gv(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:oe},next:null};var c={};return r.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:c},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Yv(s){var r=Gv(s).next.queue;jo(s,r,{},Un())}function Gh(){return un(Zo)}function Wv(){return jt().memoizedState}function Kv(){return jt().memoizedState}function uC(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var c=Un();s=Rs(c);var h=As(r,s,c);h!==null&&(Hn(h,r,c),Oo(h,r,c)),r={cache:Sh()},s.payload=r;return}r=r.return}}function dC(s,r,c){var h=Un();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Vc(s)?Qv(r,c):(c=hh(s,r,c,h),c!==null&&(Hn(c,s,h),Zv(c,r,h)))}function Xv(s,r,c){var h=Un();jo(s,r,c,h)}function jo(s,r,c,h){var m={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Vc(s))Qv(r,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var E=r.lastRenderedState,O=v(E,c);if(m.hasEagerState=!0,m.eagerState=O,Ln(O,E))return Rc(s,r,m,0),ct===null&&Cc(),!1}catch{}finally{}if(c=hh(s,r,m,h),c!==null)return Hn(c,s,h),Zv(c,r,h),!0}return!1}function Yh(s,r,c,h){if(h={lane:2,revertLane:Rf(),action:h,hasEagerState:!1,eagerState:null,next:null},Vc(s)){if(r)throw Error(i(479))}else r=hh(s,c,h,2),r!==null&&Hn(r,s,2)}function Vc(s){var r=s.alternate;return s===Ne||r!==null&&r===Ne}function Qv(s,r){cr=zc=!0;var c=s.pending;c===null?r.next=r:(r.next=c.next,c.next=r),s.pending=r}function Zv(s,r,c){if((c&4194048)!==0){var h=r.lanes;h&=s.pendingLanes,c|=h,r.lanes=c,ri(s,c)}}var $c={readContext:un,use:Fc,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},Jv={readContext:un,use:Fc,useCallback:function(s,r){return An().memoizedState=[s,r===void 0?null:r],s},useContext:un,useEffect:Pv,useImperativeHandle:function(s,r,c){c=c!=null?c.concat([s]):null,Bc(4194308,4,Uv.bind(null,r,s),c)},useLayoutEffect:function(s,r){return Bc(4194308,4,s,r)},useInsertionEffect:function(s,r){Bc(4,2,s,r)},useMemo:function(s,r){var c=An();r=r===void 0?null:r;var h=s();if(_a){Te(!0);try{s()}finally{Te(!1)}}return c.memoizedState=[h,r],h},useReducer:function(s,r,c){var h=An();if(c!==void 0){var m=c(r);if(_a){Te(!0);try{c(r)}finally{Te(!1)}}}else m=r;return h.memoizedState=h.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},h.queue=s,s=s.dispatch=dC.bind(null,Ne,s),[h.memoizedState,s]},useRef:function(s){var r=An();return s={current:s},r.memoizedState=s},useState:function(s){s=Hh(s);var r=s.queue,c=Xv.bind(null,Ne,r);return r.dispatch=c,[s.memoizedState,c]},useDebugValue:Vh,useDeferredValue:function(s,r){var c=An();return $h(c,s,r)},useTransition:function(){var s=Hh(!1);return s=qv.bind(null,Ne,s.queue,!0,!1),An().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,c){var h=Ne,m=An();if(Ge){if(c===void 0)throw Error(i(407));c=c()}else{if(c=r(),ct===null)throw Error(i(349));(Ue&124)!==0||_v(h,r,c)}m.memoizedState=c;var v={value:c,getSnapshot:r};return m.queue=v,Pv(Sv.bind(null,h,v,s),[s]),h.flags|=2048,dr(9,Hc(),wv.bind(null,h,v,c,r),null),c},useId:function(){var s=An(),r=ct.identifierPrefix;if(Ge){var c=Wi,h=Yi;c=(h&~(1<<32-Be(h)-1)).toString(32)+c,r="«"+r+"R"+c,c=Ic++,0<c&&(r+="H"+c.toString(32)),r+="»"}else c=aC++,r="«"+r+"r"+c.toString(32)+"»";return s.memoizedState=r},useHostTransitionStatus:Gh,useFormState:Mv,useActionState:Mv,useOptimistic:function(s){var r=An();r.memoizedState=r.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=c,r=Yh.bind(null,Ne,!0,c),c.dispatch=r,[s,r]},useMemoCache:Ih,useCacheRefresh:function(){return An().memoizedState=uC.bind(null,Ne)}},ey={readContext:un,use:Fc,useCallback:Bv,useContext:un,useEffect:zv,useImperativeHandle:Hv,useInsertionEffect:Iv,useLayoutEffect:Fv,useMemo:Vv,useReducer:Uc,useRef:Lv,useState:function(){return Uc(Qi)},useDebugValue:Vh,useDeferredValue:function(s,r){var c=jt();return $v(c,et.memoizedState,s,r)},useTransition:function(){var s=Uc(Qi)[0],r=jt().memoizedState;return[typeof s=="boolean"?s:ko(s),r]},useSyncExternalStore:bv,useId:Wv,useHostTransitionStatus:Gh,useFormState:kv,useActionState:kv,useOptimistic:function(s,r){var c=jt();return Cv(c,et,s,r)},useMemoCache:Ih,useCacheRefresh:Kv},hC={readContext:un,use:Fc,useCallback:Bv,useContext:un,useEffect:zv,useImperativeHandle:Hv,useInsertionEffect:Iv,useLayoutEffect:Fv,useMemo:Vv,useReducer:Uh,useRef:Lv,useState:function(){return Uh(Qi)},useDebugValue:Vh,useDeferredValue:function(s,r){var c=jt();return et===null?$h(c,s,r):$v(c,et.memoizedState,s,r)},useTransition:function(){var s=Uh(Qi)[0],r=jt().memoizedState;return[typeof s=="boolean"?s:ko(s),r]},useSyncExternalStore:bv,useId:Wv,useHostTransitionStatus:Gh,useFormState:jv,useActionState:jv,useOptimistic:function(s,r){var c=jt();return et!==null?Cv(c,et,s,r):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Ih,useCacheRefresh:Kv},hr=null,Lo=0;function qc(s){var r=Lo;return Lo+=1,hr===null&&(hr=[]),dv(hr,s,r)}function Po(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Gc(s,r){throw r.$$typeof===p?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function ty(s){var r=s._init;return r(s._payload)}function ny(s){function r(I,P){if(s){var U=I.deletions;U===null?(I.deletions=[P],I.flags|=16):U.push(P)}}function c(I,P){if(!s)return null;for(;P!==null;)r(I,P),P=P.sibling;return null}function h(I){for(var P=new Map;I!==null;)I.key!==null?P.set(I.key,I):P.set(I.index,I),I=I.sibling;return P}function m(I,P){return I=Gi(I,P),I.index=0,I.sibling=null,I}function v(I,P,U){return I.index=U,s?(U=I.alternate,U!==null?(U=U.index,U<P?(I.flags|=67108866,P):U):(I.flags|=67108866,P)):(I.flags|=1048576,P)}function E(I){return s&&I.alternate===null&&(I.flags|=67108866),I}function O(I,P,U,te){return P===null||P.tag!==6?(P=gh(U,I.mode,te),P.return=I,P):(P=m(P,U),P.return=I,P)}function M(I,P,U,te){var me=U.type;return me===w?J(I,P,U.props.children,te,U.key):P!==null&&(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===L&&ty(me)===P.type)?(P=m(P,U.props),Po(P,U),P.return=I,P):(P=Oc(U.type,U.key,U.props,null,I.mode,te),Po(P,U),P.return=I,P)}function B(I,P,U,te){return P===null||P.tag!==4||P.stateNode.containerInfo!==U.containerInfo||P.stateNode.implementation!==U.implementation?(P=mh(U,I.mode,te),P.return=I,P):(P=m(P,U.children||[]),P.return=I,P)}function J(I,P,U,te,me){return P===null||P.tag!==7?(P=ha(U,I.mode,te,me),P.return=I,P):(P=m(P,U),P.return=I,P)}function ne(I,P,U){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=gh(""+P,I.mode,U),P.return=I,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case y:return U=Oc(P.type,P.key,P.props,null,I.mode,U),Po(U,P),U.return=I,U;case _:return P=mh(P,I.mode,U),P.return=I,P;case L:var te=P._init;return P=te(P._payload),ne(I,P,U)}if(he(P)||Z(P))return P=ha(P,I.mode,U,null),P.return=I,P;if(typeof P.then=="function")return ne(I,qc(P),U);if(P.$$typeof===T)return ne(I,kc(I,P),U);Gc(I,P)}return null}function q(I,P,U,te){var me=P!==null?P.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return me!==null?null:O(I,P,""+U,te);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case y:return U.key===me?M(I,P,U,te):null;case _:return U.key===me?B(I,P,U,te):null;case L:return me=U._init,U=me(U._payload),q(I,P,U,te)}if(he(U)||Z(U))return me!==null?null:J(I,P,U,te,null);if(typeof U.then=="function")return q(I,P,qc(U),te);if(U.$$typeof===T)return q(I,P,kc(I,U),te);Gc(I,U)}return null}function Y(I,P,U,te,me){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return I=I.get(U)||null,O(P,I,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case y:return I=I.get(te.key===null?U:te.key)||null,M(P,I,te,me);case _:return I=I.get(te.key===null?U:te.key)||null,B(P,I,te,me);case L:var je=te._init;return te=je(te._payload),Y(I,P,U,te,me)}if(he(te)||Z(te))return I=I.get(U)||null,J(P,I,te,me,null);if(typeof te.then=="function")return Y(I,P,U,qc(te),me);if(te.$$typeof===T)return Y(I,P,U,kc(P,te),me);Gc(P,te)}return null}function Se(I,P,U,te){for(var me=null,je=null,ye=P,we=P=0,Kt=null;ye!==null&&we<U.length;we++){ye.index>we?(Kt=ye,ye=null):Kt=ye.sibling;var Ve=q(I,ye,U[we],te);if(Ve===null){ye===null&&(ye=Kt);break}s&&ye&&Ve.alternate===null&&r(I,ye),P=v(Ve,P,we),je===null?me=Ve:je.sibling=Ve,je=Ve,ye=Kt}if(we===U.length)return c(I,ye),Ge&&ga(I,we),me;if(ye===null){for(;we<U.length;we++)ye=ne(I,U[we],te),ye!==null&&(P=v(ye,P,we),je===null?me=ye:je.sibling=ye,je=ye);return Ge&&ga(I,we),me}for(ye=h(ye);we<U.length;we++)Kt=Y(ye,I,we,U[we],te),Kt!==null&&(s&&Kt.alternate!==null&&ye.delete(Kt.key===null?we:Kt.key),P=v(Kt,P,we),je===null?me=Kt:je.sibling=Kt,je=Kt);return s&&ye.forEach(function($s){return r(I,$s)}),Ge&&ga(I,we),me}function be(I,P,U,te){if(U==null)throw Error(i(151));for(var me=null,je=null,ye=P,we=P=0,Kt=null,Ve=U.next();ye!==null&&!Ve.done;we++,Ve=U.next()){ye.index>we?(Kt=ye,ye=null):Kt=ye.sibling;var $s=q(I,ye,Ve.value,te);if($s===null){ye===null&&(ye=Kt);break}s&&ye&&$s.alternate===null&&r(I,ye),P=v($s,P,we),je===null?me=$s:je.sibling=$s,je=$s,ye=Kt}if(Ve.done)return c(I,ye),Ge&&ga(I,we),me;if(ye===null){for(;!Ve.done;we++,Ve=U.next())Ve=ne(I,Ve.value,te),Ve!==null&&(P=v(Ve,P,we),je===null?me=Ve:je.sibling=Ve,je=Ve);return Ge&&ga(I,we),me}for(ye=h(ye);!Ve.done;we++,Ve=U.next())Ve=Y(ye,I,we,Ve.value,te),Ve!==null&&(s&&Ve.alternate!==null&&ye.delete(Ve.key===null?we:Ve.key),P=v(Ve,P,we),je===null?me=Ve:je.sibling=Ve,je=Ve);return s&&ye.forEach(function(fR){return r(I,fR)}),Ge&&ga(I,we),me}function nt(I,P,U,te){if(typeof U=="object"&&U!==null&&U.type===w&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case y:e:{for(var me=U.key;P!==null;){if(P.key===me){if(me=U.type,me===w){if(P.tag===7){c(I,P.sibling),te=m(P,U.props.children),te.return=I,I=te;break e}}else if(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===L&&ty(me)===P.type){c(I,P.sibling),te=m(P,U.props),Po(te,U),te.return=I,I=te;break e}c(I,P);break}else r(I,P);P=P.sibling}U.type===w?(te=ha(U.props.children,I.mode,te,U.key),te.return=I,I=te):(te=Oc(U.type,U.key,U.props,null,I.mode,te),Po(te,U),te.return=I,I=te)}return E(I);case _:e:{for(me=U.key;P!==null;){if(P.key===me)if(P.tag===4&&P.stateNode.containerInfo===U.containerInfo&&P.stateNode.implementation===U.implementation){c(I,P.sibling),te=m(P,U.children||[]),te.return=I,I=te;break e}else{c(I,P);break}else r(I,P);P=P.sibling}te=mh(U,I.mode,te),te.return=I,I=te}return E(I);case L:return me=U._init,U=me(U._payload),nt(I,P,U,te)}if(he(U))return Se(I,P,U,te);if(Z(U)){if(me=Z(U),typeof me!="function")throw Error(i(150));return U=me.call(U),be(I,P,U,te)}if(typeof U.then=="function")return nt(I,P,qc(U),te);if(U.$$typeof===T)return nt(I,P,kc(I,U),te);Gc(I,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,P!==null&&P.tag===6?(c(I,P.sibling),te=m(P,U),te.return=I,I=te):(c(I,P),te=gh(U,I.mode,te),te.return=I,I=te),E(I)):c(I,P)}return function(I,P,U,te){try{Lo=0;var me=nt(I,P,U,te);return hr=null,me}catch(ye){if(ye===Ro||ye===jc)throw ye;var je=Pn(29,ye,null,I.mode);return je.lanes=te,je.return=I,je}finally{}}}var fr=ny(!0),iy=ny(!1),Xn=ee(null),Ai=null;function Ts(s){var r=s.alternate;K(Ut,Ut.current&1),K(Xn,s),Ai===null&&(r===null||lr.current!==null||r.memoizedState!==null)&&(Ai=s)}function sy(s){if(s.tag===22){if(K(Ut,Ut.current),K(Xn,s),Ai===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(Ai=s)}}else Ds()}function Ds(){K(Ut,Ut.current),K(Xn,Xn.current)}function Zi(s){ae(Xn),Ai===s&&(Ai=null),ae(Ut)}var Ut=ee(0);function Yc(s){for(var r=s;r!==null;){if(r.tag===13){var c=r.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||If(c)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Wh(s,r,c,h){r=s.memoizedState,c=c(h,r),c=c==null?r:g({},r,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Kh={enqueueSetState:function(s,r,c){s=s._reactInternals;var h=Un(),m=Rs(h);m.payload=r,c!=null&&(m.callback=c),r=As(s,m,h),r!==null&&(Hn(r,s,h),Oo(r,s,h))},enqueueReplaceState:function(s,r,c){s=s._reactInternals;var h=Un(),m=Rs(h);m.tag=1,m.payload=r,c!=null&&(m.callback=c),r=As(s,m,h),r!==null&&(Hn(r,s,h),Oo(r,s,h))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var c=Un(),h=Rs(c);h.tag=2,r!=null&&(h.callback=r),r=As(s,h,c),r!==null&&(Hn(r,s,c),Oo(r,s,c))}};function ay(s,r,c,h,m,v,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,v,E):r.prototype&&r.prototype.isPureReactComponent?!yo(c,h)||!yo(m,v):!0}function ry(s,r,c,h){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(c,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(c,h),r.state!==s&&Kh.enqueueReplaceState(r,r.state,null)}function wa(s,r){var c=r;if("ref"in r){c={};for(var h in r)h!=="ref"&&(c[h]=r[h])}if(s=s.defaultProps){c===r&&(c=g({},c));for(var m in s)c[m]===void 0&&(c[m]=s[m])}return c}var Wc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function oy(s){Wc(s)}function ly(s){console.error(s)}function cy(s){Wc(s)}function Kc(s,r){try{var c=s.onUncaughtError;c(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function uy(s,r,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Xh(s,r,c){return c=Rs(c),c.tag=3,c.payload={element:null},c.callback=function(){Kc(s,r)},c}function dy(s){return s=Rs(s),s.tag=3,s}function hy(s,r,c,h){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var v=h.value;s.payload=function(){return m(v)},s.callback=function(){uy(r,c,h)}}var E=c.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){uy(r,c,h),typeof m!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var O=h.stack;this.componentDidCatch(h.value,{componentStack:O!==null?O:""})})}function fC(s,r,c,h,m){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=c.alternate,r!==null&&xo(r,c,m,!0),c=Xn.current,c!==null){switch(c.tag){case 13:return Ai===null?wf():c.alternate===null&&Et===0&&(Et=3),c.flags&=-257,c.flags|=65536,c.lanes=m,h===Ch?c.flags|=16384:(r=c.updateQueue,r===null?c.updateQueue=new Set([h]):r.add(h),xf(s,h,m)),!1;case 22:return c.flags|=65536,h===Ch?c.flags|=16384:(r=c.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=r):(c=r.retryQueue,c===null?r.retryQueue=new Set([h]):c.add(h)),xf(s,h,m)),!1}throw Error(i(435,c.tag))}return xf(s,h,m),wf(),!1}if(Ge)return r=Xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,h!==yh&&(s=Error(i(422),{cause:h}),So(Gn(s,c)))):(h!==yh&&(r=Error(i(423),{cause:h}),So(Gn(r,c))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,h=Gn(h,c),m=Xh(s.stateNode,h,m),Oh(s,m),Et!==4&&(Et=2)),!1;var v=Error(i(520),{cause:h});if(v=Gn(v,c),Vo===null?Vo=[v]:Vo.push(v),Et!==4&&(Et=2),r===null)return!0;h=Gn(h,c),c=r;do{switch(c.tag){case 3:return c.flags|=65536,s=m&-m,c.lanes|=s,s=Xh(c.stateNode,h,s),Oh(c,s),!1;case 1:if(r=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ps===null||!Ps.has(v))))return c.flags|=65536,m&=-m,c.lanes|=m,m=dy(m),hy(m,s,c,h),Oh(c,m),!1}c=c.return}while(c!==null);return!1}var fy=Error(i(461)),Yt=!1;function nn(s,r,c,h){r.child=s===null?iy(r,null,c,h):fr(r,s.child,c,h)}function gy(s,r,c,h,m){c=c.render;var v=r.ref;if("ref"in h){var E={};for(var O in h)O!=="ref"&&(E[O]=h[O])}else E=h;return ya(r),h=Nh(s,r,c,E,v,m),O=jh(),s!==null&&!Yt?(Lh(s,r,m),Ji(s,r,m)):(Ge&&O&&ph(r),r.flags|=1,nn(s,r,h,m),r.child)}function my(s,r,c,h,m){if(s===null){var v=c.type;return typeof v=="function"&&!fh(v)&&v.defaultProps===void 0&&c.compare===null?(r.tag=15,r.type=v,py(s,r,v,h,m)):(s=Oc(c.type,null,h,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(v=s.child,!af(s,m)){var E=v.memoizedProps;if(c=c.compare,c=c!==null?c:yo,c(E,h)&&s.ref===r.ref)return Ji(s,r,m)}return r.flags|=1,s=Gi(v,h),s.ref=r.ref,s.return=r,r.child=s}function py(s,r,c,h,m){if(s!==null){var v=s.memoizedProps;if(yo(v,h)&&s.ref===r.ref)if(Yt=!1,r.pendingProps=h=v,af(s,m))(s.flags&131072)!==0&&(Yt=!0);else return r.lanes=s.lanes,Ji(s,r,m)}return Qh(s,r,c,h,m)}function vy(s,r,c){var h=r.pendingProps,m=h.children,v=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((r.flags&128)!==0){if(h=v!==null?v.baseLanes|c:c,s!==null){for(m=r.child=s.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;r.childLanes=v&~h}else r.childLanes=0,r.child=null;return yy(s,r,h,c)}if((c&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Nc(r,v!==null?v.cachePool:null),v!==null?pv(r,v):Dh(),sy(r);else return r.lanes=r.childLanes=536870912,yy(s,r,v!==null?v.baseLanes|c:c,c)}else v!==null?(Nc(r,v.cachePool),pv(r,v),Ds(),r.memoizedState=null):(s!==null&&Nc(r,null),Dh(),Ds());return nn(s,r,m,c),r.child}function yy(s,r,c,h){var m=Eh();return m=m===null?null:{parent:Ft._currentValue,pool:m},r.memoizedState={baseLanes:c,cachePool:m},s!==null&&Nc(r,null),Dh(),sy(r),s!==null&&xo(s,r,h,!0),null}function Xc(s,r){var c=r.ref;if(c===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(r.flags|=4194816)}}function Qh(s,r,c,h,m){return ya(r),c=Nh(s,r,c,h,void 0,m),h=jh(),s!==null&&!Yt?(Lh(s,r,m),Ji(s,r,m)):(Ge&&h&&ph(r),r.flags|=1,nn(s,r,c,m),r.child)}function by(s,r,c,h,m,v){return ya(r),r.updateQueue=null,c=yv(r,h,c,m),vv(s),h=jh(),s!==null&&!Yt?(Lh(s,r,v),Ji(s,r,v)):(Ge&&h&&ph(r),r.flags|=1,nn(s,r,c,v),r.child)}function _y(s,r,c,h,m){if(ya(r),r.stateNode===null){var v=ir,E=c.contextType;typeof E=="object"&&E!==null&&(v=un(E)),v=new c(h,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Kh,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=h,v.state=r.memoizedState,v.refs={},Rh(r),E=c.contextType,v.context=typeof E=="object"&&E!==null?un(E):ir,v.state=r.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(Wh(r,c,E,h),v.state=r.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&Kh.enqueueReplaceState(v,v.state,null),Do(r,h,v,m),To(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(s===null){v=r.stateNode;var O=r.memoizedProps,M=wa(c,O);v.props=M;var B=v.context,J=c.contextType;E=ir,typeof J=="object"&&J!==null&&(E=un(J));var ne=c.getDerivedStateFromProps;J=typeof ne=="function"||typeof v.getSnapshotBeforeUpdate=="function",O=r.pendingProps!==O,J||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(O||B!==E)&&ry(r,v,h,E),Cs=!1;var q=r.memoizedState;v.state=q,Do(r,h,v,m),To(),B=r.memoizedState,O||q!==B||Cs?(typeof ne=="function"&&(Wh(r,c,ne,h),B=r.memoizedState),(M=Cs||ay(r,c,M,h,q,B,E))?(J||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=B),v.props=h,v.state=B,v.context=E,h=M):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{v=r.stateNode,Ah(s,r),E=r.memoizedProps,J=wa(c,E),v.props=J,ne=r.pendingProps,q=v.context,B=c.contextType,M=ir,typeof B=="object"&&B!==null&&(M=un(B)),O=c.getDerivedStateFromProps,(B=typeof O=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==ne||q!==M)&&ry(r,v,h,M),Cs=!1,q=r.memoizedState,v.state=q,Do(r,h,v,m),To();var Y=r.memoizedState;E!==ne||q!==Y||Cs||s!==null&&s.dependencies!==null&&Mc(s.dependencies)?(typeof O=="function"&&(Wh(r,c,O,h),Y=r.memoizedState),(J=Cs||ay(r,c,J,h,q,Y,M)||s!==null&&s.dependencies!==null&&Mc(s.dependencies))?(B||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,Y,M),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,Y,M)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===s.memoizedProps&&q===s.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&q===s.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=Y),v.props=h,v.state=Y,v.context=M,h=J):(typeof v.componentDidUpdate!="function"||E===s.memoizedProps&&q===s.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&q===s.memoizedState||(r.flags|=1024),h=!1)}return v=h,Xc(s,r),h=(r.flags&128)!==0,v||h?(v=r.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,s!==null&&h?(r.child=fr(r,s.child,null,m),r.child=fr(r,null,c,m)):nn(s,r,c,m),r.memoizedState=v.state,s=r.child):s=Ji(s,r,m),s}function wy(s,r,c,h){return wo(),r.flags|=256,nn(s,r,c,h),r.child}var Zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jh(s){return{baseLanes:s,cachePool:lv()}}function ef(s,r,c){return s=s!==null?s.childLanes&~c:0,r&&(s|=Qn),s}function Sy(s,r,c){var h=r.pendingProps,m=!1,v=(r.flags&128)!==0,E;if((E=v)||(E=s!==null&&s.memoizedState===null?!1:(Ut.current&2)!==0),E&&(m=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ge){if(m?Ts(r):Ds(),Ge){var O=xt,M;if(M=O){e:{for(M=O,O=Ri;M.nodeType!==8;){if(!O){O=null;break e}if(M=ci(M.nextSibling),M===null){O=null;break e}}O=M}O!==null?(r.memoizedState={dehydrated:O,treeContext:fa!==null?{id:Yi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},M=Pn(18,null,null,0),M.stateNode=O,M.return=r,r.child=M,bn=r,xt=null,M=!0):M=!1}M||pa(r)}if(O=r.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return If(O)?r.lanes=32:r.lanes=536870912,null;Zi(r)}return O=h.children,h=h.fallback,m?(Ds(),m=r.mode,O=Qc({mode:"hidden",children:O},m),h=ha(h,m,c,null),O.return=r,h.return=r,O.sibling=h,r.child=O,m=r.child,m.memoizedState=Jh(c),m.childLanes=ef(s,E,c),r.memoizedState=Zh,h):(Ts(r),tf(r,O))}if(M=s.memoizedState,M!==null&&(O=M.dehydrated,O!==null)){if(v)r.flags&256?(Ts(r),r.flags&=-257,r=nf(s,r,c)):r.memoizedState!==null?(Ds(),r.child=s.child,r.flags|=128,r=null):(Ds(),m=h.fallback,O=r.mode,h=Qc({mode:"visible",children:h.children},O),m=ha(m,O,c,null),m.flags|=2,h.return=r,m.return=r,h.sibling=m,r.child=h,fr(r,s.child,null,c),h=r.child,h.memoizedState=Jh(c),h.childLanes=ef(s,E,c),r.memoizedState=Zh,r=m);else if(Ts(r),If(O)){if(E=O.nextSibling&&O.nextSibling.dataset,E)var B=E.dgst;E=B,h=Error(i(419)),h.stack="",h.digest=E,So({value:h,source:null,stack:null}),r=nf(s,r,c)}else if(Yt||xo(s,r,c,!1),E=(c&s.childLanes)!==0,Yt||E){if(E=ct,E!==null&&(h=c&-c,h=(h&42)!==0?1:ln(h),h=(h&(E.suspendedLanes|c))!==0?0:h,h!==0&&h!==M.retryLane))throw M.retryLane=h,nr(s,h),Hn(E,s,h),fy;O.data==="$?"||wf(),r=nf(s,r,c)}else O.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=M.treeContext,xt=ci(O.nextSibling),bn=r,Ge=!0,ma=null,Ri=!1,s!==null&&(Wn[Kn++]=Yi,Wn[Kn++]=Wi,Wn[Kn++]=fa,Yi=s.id,Wi=s.overflow,fa=r),r=tf(r,h.children),r.flags|=4096);return r}return m?(Ds(),m=h.fallback,O=r.mode,M=s.child,B=M.sibling,h=Gi(M,{mode:"hidden",children:h.children}),h.subtreeFlags=M.subtreeFlags&65011712,B!==null?m=Gi(B,m):(m=ha(m,O,c,null),m.flags|=2),m.return=r,h.return=r,h.sibling=m,r.child=h,h=m,m=r.child,O=s.child.memoizedState,O===null?O=Jh(c):(M=O.cachePool,M!==null?(B=Ft._currentValue,M=M.parent!==B?{parent:B,pool:B}:M):M=lv(),O={baseLanes:O.baseLanes|c,cachePool:M}),m.memoizedState=O,m.childLanes=ef(s,E,c),r.memoizedState=Zh,h):(Ts(r),c=s.child,s=c.sibling,c=Gi(c,{mode:"visible",children:h.children}),c.return=r,c.sibling=null,s!==null&&(E=r.deletions,E===null?(r.deletions=[s],r.flags|=16):E.push(s)),r.child=c,r.memoizedState=null,c)}function tf(s,r){return r=Qc({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Qc(s,r){return s=Pn(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function nf(s,r,c){return fr(r,s.child,null,c),s=tf(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function xy(s,r,c){s.lanes|=r;var h=s.alternate;h!==null&&(h.lanes|=r),_h(s.return,r,c)}function sf(s,r,c,h,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=c,v.tailMode=m)}function Ey(s,r,c){var h=r.pendingProps,m=h.revealOrder,v=h.tail;if(nn(s,r,h.children,c),h=Ut.current,(h&2)!==0)h=h&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&xy(s,c,r);else if(s.tag===19)xy(s,c,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(K(Ut,h),m){case"forwards":for(c=r.child,m=null;c!==null;)s=c.alternate,s!==null&&Yc(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=r.child,r.child=null):(m=c.sibling,c.sibling=null),sf(r,!1,m,c,v);break;case"backwards":for(c=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&Yc(s)===null){r.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}sf(r,!0,c,null,v);break;case"together":sf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ji(s,r,c){if(s!==null&&(r.dependencies=s.dependencies),Ls|=r.lanes,(c&r.childLanes)===0)if(s!==null){if(xo(s,r,c,!1),(c&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,c=Gi(s,s.pendingProps),r.child=c,c.return=r;s.sibling!==null;)s=s.sibling,c=c.sibling=Gi(s,s.pendingProps),c.return=r;c.sibling=null}return r.child}function af(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Mc(s)))}function gC(s,r,c){switch(r.tag){case 3:Ae(r,r.stateNode.containerInfo),Es(r,Ft,s.memoizedState.cache),wo();break;case 27:case 5:Ye(r);break;case 4:Ae(r,r.stateNode.containerInfo);break;case 10:Es(r,r.type,r.memoizedProps.value);break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(Ts(r),r.flags|=128,null):(c&r.child.childLanes)!==0?Sy(s,r,c):(Ts(r),s=Ji(s,r,c),s!==null?s.sibling:null);Ts(r);break;case 19:var m=(s.flags&128)!==0;if(h=(c&r.childLanes)!==0,h||(xo(s,r,c,!1),h=(c&r.childLanes)!==0),m){if(h)return Ey(s,r,c);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),K(Ut,Ut.current),h)break;return null;case 22:case 23:return r.lanes=0,vy(s,r,c);case 24:Es(r,Ft,s.memoizedState.cache)}return Ji(s,r,c)}function Cy(s,r,c){if(s!==null)if(s.memoizedProps!==r.pendingProps)Yt=!0;else{if(!af(s,c)&&(r.flags&128)===0)return Yt=!1,gC(s,r,c);Yt=(s.flags&131072)!==0}else Yt=!1,Ge&&(r.flags&1048576)!==0&&tv(r,Dc,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var h=r.elementType,m=h._init;if(h=m(h._payload),r.type=h,typeof h=="function")fh(h)?(s=wa(h,s),r.tag=1,r=_y(null,r,h,s,c)):(r.tag=0,r=Qh(null,r,h,s,c));else{if(h!=null){if(m=h.$$typeof,m===k){r.tag=11,r=gy(null,r,h,s,c);break e}else if(m===F){r.tag=14,r=my(null,r,h,s,c);break e}}throw r=ue(h)||h,Error(i(306,r,""))}}return r;case 0:return Qh(s,r,r.type,r.pendingProps,c);case 1:return h=r.type,m=wa(h,r.pendingProps),_y(s,r,h,m,c);case 3:e:{if(Ae(r,r.stateNode.containerInfo),s===null)throw Error(i(387));h=r.pendingProps;var v=r.memoizedState;m=v.element,Ah(s,r),Do(r,h,null,c);var E=r.memoizedState;if(h=E.cache,Es(r,Ft,h),h!==v.cache&&wh(r,[Ft],c,!0),To(),h=E.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=wy(s,r,h,c);break e}else if(h!==m){m=Gn(Error(i(424)),r),So(m),r=wy(s,r,h,c);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(xt=ci(s.firstChild),bn=r,Ge=!0,ma=null,Ri=!0,c=iy(r,null,h,c),r.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(wo(),h===m){r=Ji(s,r,c);break e}nn(s,r,h,c)}r=r.child}return r;case 26:return Xc(s,r),s===null?(c=Tb(r.type,null,r.pendingProps,null))?r.memoizedState=c:Ge||(c=r.type,s=r.pendingProps,h=du(ie.current).createElement(c),h[ht]=r,h[ft]=s,an(h,c,s),Gt(h),r.stateNode=h):r.memoizedState=Tb(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Ye(r),s===null&&Ge&&(h=r.stateNode=Rb(r.type,r.pendingProps,ie.current),bn=r,Ri=!0,m=xt,Fs(r.type)?(Ff=m,xt=ci(h.firstChild)):xt=m),nn(s,r,r.pendingProps.children,c),Xc(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ge&&((m=h=xt)&&(h=BC(h,r.type,r.pendingProps,Ri),h!==null?(r.stateNode=h,bn=r,xt=ci(h.firstChild),Ri=!1,m=!0):m=!1),m||pa(r)),Ye(r),m=r.type,v=r.pendingProps,E=s!==null?s.memoizedProps:null,h=v.children,Lf(m,v)?h=null:E!==null&&Lf(m,E)&&(r.flags|=32),r.memoizedState!==null&&(m=Nh(s,r,rC,null,null,c),Zo._currentValue=m),Xc(s,r),nn(s,r,h,c),r.child;case 6:return s===null&&Ge&&((s=c=xt)&&(c=VC(c,r.pendingProps,Ri),c!==null?(r.stateNode=c,bn=r,xt=null,s=!0):s=!1),s||pa(r)),null;case 13:return Sy(s,r,c);case 4:return Ae(r,r.stateNode.containerInfo),h=r.pendingProps,s===null?r.child=fr(r,null,h,c):nn(s,r,h,c),r.child;case 11:return gy(s,r,r.type,r.pendingProps,c);case 7:return nn(s,r,r.pendingProps,c),r.child;case 8:return nn(s,r,r.pendingProps.children,c),r.child;case 12:return nn(s,r,r.pendingProps.children,c),r.child;case 10:return h=r.pendingProps,Es(r,r.type,h.value),nn(s,r,h.children,c),r.child;case 9:return m=r.type._context,h=r.pendingProps.children,ya(r),m=un(m),h=h(m),r.flags|=1,nn(s,r,h,c),r.child;case 14:return my(s,r,r.type,r.pendingProps,c);case 15:return py(s,r,r.type,r.pendingProps,c);case 19:return Ey(s,r,c);case 31:return h=r.pendingProps,c=r.mode,h={mode:h.mode,children:h.children},s===null?(c=Qc(h,c),c.ref=r.ref,r.child=c,c.return=r,r=c):(c=Gi(s.child,h),c.ref=r.ref,r.child=c,c.return=r,r=c),r;case 22:return vy(s,r,c);case 24:return ya(r),h=un(Ft),s===null?(m=Eh(),m===null&&(m=ct,v=Sh(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=c),m=v),r.memoizedState={parent:h,cache:m},Rh(r),Es(r,Ft,m)):((s.lanes&c)!==0&&(Ah(s,r),Do(r,null,null,c),To()),m=s.memoizedState,v=r.memoizedState,m.parent!==h?(m={parent:h,cache:h},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Es(r,Ft,h)):(h=v.cache,Es(r,Ft,h),h!==m.cache&&wh(r,[Ft],c,!0))),nn(s,r,r.pendingProps.children,c),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function es(s){s.flags|=4}function Ry(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!jb(r)){if(r=Xn.current,r!==null&&((Ue&4194048)===Ue?Ai!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==Ai))throw Ao=Ch,cv;s.flags|=8192}}function Zc(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?fc():536870912,s.lanes|=r,vr|=r)}function zo(s,r){if(!Ge)switch(s.tailMode){case"hidden":r=s.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function wt(s){var r=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(r)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=c,r}function mC(s,r,c){var h=r.pendingProps;switch(vh(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(r),null;case 1:return wt(r),null;case 3:return c=r.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),Xi(Ft),qe(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(_o(r)?es(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,sv())),wt(r),null;case 26:return c=r.memoizedState,s===null?(es(r),c!==null?(wt(r),Ry(r,c)):(wt(r),r.flags&=-16777217)):c?c!==s.memoizedState?(es(r),wt(r),Ry(r,c)):(wt(r),r.flags&=-16777217):(s.memoizedProps!==h&&es(r),wt(r),r.flags&=-16777217),null;case 27:pt(r),c=ie.current;var m=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==h&&es(r);else{if(!h){if(r.stateNode===null)throw Error(i(166));return wt(r),null}s=se.current,_o(r)?nv(r):(s=Rb(m,h,c),r.stateNode=s,es(r))}return wt(r),null;case 5:if(pt(r),c=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==h&&es(r);else{if(!h){if(r.stateNode===null)throw Error(i(166));return wt(r),null}if(s=se.current,_o(r))nv(r);else{switch(m=du(ie.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?m.createElement("select",{is:h.is}):m.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?m.createElement(c,{is:h.is}):m.createElement(c)}}s[ht]=r,s[ft]=h;e:for(m=r.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===r)break e;for(;m.sibling===null;){if(m.return===null||m.return===r)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}r.stateNode=s;e:switch(an(s,c,h),c){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&es(r)}}return wt(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==h&&es(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(i(166));if(s=ie.current,_o(r)){if(s=r.stateNode,c=r.memoizedProps,h=null,m=bn,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}s[ht]=r,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||bb(s.nodeValue,c)),s||pa(r)}else s=du(s).createTextNode(h),s[ht]=r,r.stateNode=s}return wt(r),null;case 13:if(h=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=_o(r),h!==null&&h.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[ht]=r}else wo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;wt(r),m=!1}else m=sv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Zi(r),r):(Zi(r),null)}if(Zi(r),(r.flags&128)!==0)return r.lanes=c,r;if(c=h!==null,s=s!==null&&s.memoizedState!==null,c){h=r.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool);var v=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==m&&(h.flags|=2048)}return c!==s&&c&&(r.child.flags|=8192),Zc(r,r.updateQueue),wt(r),null;case 4:return qe(),s===null&&Df(r.stateNode.containerInfo),wt(r),null;case 10:return Xi(r.type),wt(r),null;case 19:if(ae(Ut),m=r.memoizedState,m===null)return wt(r),null;if(h=(r.flags&128)!==0,v=m.rendering,v===null)if(h)zo(m,!1);else{if(Et!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(v=Yc(s),v!==null){for(r.flags|=128,zo(m,!1),s=v.updateQueue,r.updateQueue=s,Zc(r,s),r.subtreeFlags=0,s=c,c=r.child;c!==null;)ev(c,s),c=c.sibling;return K(Ut,Ut.current&1|2),r.child}s=s.sibling}m.tail!==null&&Rt()>tu&&(r.flags|=128,h=!0,zo(m,!1),r.lanes=4194304)}else{if(!h)if(s=Yc(v),s!==null){if(r.flags|=128,h=!0,s=s.updateQueue,r.updateQueue=s,Zc(r,s),zo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Ge)return wt(r),null}else 2*Rt()-m.renderingStartTime>tu&&c!==536870912&&(r.flags|=128,h=!0,zo(m,!1),r.lanes=4194304);m.isBackwards?(v.sibling=r.child,r.child=v):(s=m.last,s!==null?s.sibling=v:r.child=v,m.last=v)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Rt(),r.sibling=null,s=Ut.current,K(Ut,h?s&1|2:s&1),r):(wt(r),null);case 22:case 23:return Zi(r),Mh(),h=r.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(c&536870912)!==0&&(r.flags&128)===0&&(wt(r),r.subtreeFlags&6&&(r.flags|=8192)):wt(r),c=r.updateQueue,c!==null&&Zc(r,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==c&&(r.flags|=2048),s!==null&&ae(ba),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Xi(Ft),wt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function pC(s,r){switch(vh(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Xi(Ft),qe(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return pt(r),null;case 13:if(Zi(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));wo()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return ae(Ut),null;case 4:return qe(),null;case 10:return Xi(r.type),null;case 22:case 23:return Zi(r),Mh(),s!==null&&ae(ba),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Xi(Ft),null;case 25:return null;default:return null}}function Ay(s,r){switch(vh(r),r.tag){case 3:Xi(Ft),qe();break;case 26:case 27:case 5:pt(r);break;case 4:qe();break;case 13:Zi(r);break;case 19:ae(Ut);break;case 10:Xi(r.type);break;case 22:case 23:Zi(r),Mh(),s!==null&&ae(ba);break;case 24:Xi(Ft)}}function Io(s,r){try{var c=r.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&s)===s){h=void 0;var v=c.create,E=c.inst;h=v(),E.destroy=h}c=c.next}while(c!==m)}}catch(O){st(r,r.return,O)}}function Ms(s,r,c){try{var h=r.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var v=m.next;h=v;do{if((h.tag&s)===s){var E=h.inst,O=E.destroy;if(O!==void 0){E.destroy=void 0,m=r;var M=c,B=O;try{B()}catch(J){st(m,M,J)}}}h=h.next}while(h!==v)}}catch(J){st(r,r.return,J)}}function Oy(s){var r=s.updateQueue;if(r!==null){var c=s.stateNode;try{mv(r,c)}catch(h){st(s,s.return,h)}}}function Ty(s,r,c){c.props=wa(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){st(s,r,h)}}function Fo(s,r){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(m){st(s,r,m)}}function Oi(s,r){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(m){st(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){st(s,r,m)}else c.current=null}function Dy(s){var r=s.type,c=s.memoizedProps,h=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(m){st(s,s.return,m)}}function rf(s,r,c){try{var h=s.stateNode;zC(h,s.type,c,r),h[ft]=r}catch(m){st(s,s.return,m)}}function My(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Fs(s.type)||s.tag===4}function of(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||My(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Fs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function lf(s,r,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,r?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,r):(r=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,r.appendChild(s),c=c._reactRootContainer,c!=null||r.onclick!==null||(r.onclick=uu));else if(h!==4&&(h===27&&Fs(s.type)&&(c=s.stateNode,r=null),s=s.child,s!==null))for(lf(s,r,c),s=s.sibling;s!==null;)lf(s,r,c),s=s.sibling}function Jc(s,r,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,r?c.insertBefore(s,r):c.appendChild(s);else if(h!==4&&(h===27&&Fs(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Jc(s,r,c),s=s.sibling;s!==null;)Jc(s,r,c),s=s.sibling}function ky(s){var r=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);an(r,h,c),r[ht]=s,r[ft]=c}catch(v){st(s,s.return,v)}}var ts=!1,Ot=!1,cf=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function vC(s,r){if(s=s.containerInfo,Nf=vu,s=$p(s),rh(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var E=0,O=-1,M=-1,B=0,J=0,ne=s,q=null;t:for(;;){for(var Y;ne!==c||m!==0&&ne.nodeType!==3||(O=E+m),ne!==v||h!==0&&ne.nodeType!==3||(M=E+h),ne.nodeType===3&&(E+=ne.nodeValue.length),(Y=ne.firstChild)!==null;)q=ne,ne=Y;for(;;){if(ne===s)break t;if(q===c&&++B===m&&(O=E),q===v&&++J===h&&(M=E),(Y=ne.nextSibling)!==null)break;ne=q,q=ne.parentNode}ne=Y}c=O===-1||M===-1?null:{start:O,end:M}}else c=null}c=c||{start:0,end:0}}else c=null;for(jf={focusedElem:s,selectionRange:c},vu=!1,Wt=r;Wt!==null;)if(r=Wt,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,Wt=s;else for(;Wt!==null;){switch(r=Wt,v=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,c=r,m=v.memoizedProps,v=v.memoizedState,h=c.stateNode;try{var Se=wa(c.type,m,c.elementType===c.type);s=h.getSnapshotBeforeUpdate(Se,v),h.__reactInternalSnapshotBeforeUpdate=s}catch(be){st(c,c.return,be)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,c=s.nodeType,c===9)zf(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":zf(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Wt=s;break}Wt=r.return}}function jy(s,r,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:ks(s,c),h&4&&Io(5,c);break;case 1:if(ks(s,c),h&4)if(s=c.stateNode,r===null)try{s.componentDidMount()}catch(E){st(c,c.return,E)}else{var m=wa(c.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(E){st(c,c.return,E)}}h&64&&Oy(c),h&512&&Fo(c,c.return);break;case 3:if(ks(s,c),h&64&&(s=c.updateQueue,s!==null)){if(r=null,c.child!==null)switch(c.child.tag){case 27:case 5:r=c.child.stateNode;break;case 1:r=c.child.stateNode}try{mv(s,r)}catch(E){st(c,c.return,E)}}break;case 27:r===null&&h&4&&ky(c);case 26:case 5:ks(s,c),r===null&&h&4&&Dy(c),h&512&&Fo(c,c.return);break;case 12:ks(s,c);break;case 13:ks(s,c),h&4&&zy(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=RC.bind(null,c),$C(s,c))));break;case 22:if(h=c.memoizedState!==null||ts,!h){r=r!==null&&r.memoizedState!==null||Ot,m=ts;var v=Ot;ts=h,(Ot=r)&&!v?Ns(s,c,(c.subtreeFlags&8772)!==0):ks(s,c),ts=m,Ot=v}break;case 30:break;default:ks(s,c)}}function Ly(s){var r=s.alternate;r!==null&&(s.alternate=null,Ly(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Hd(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var vt=null,On=!1;function ns(s,r,c){for(c=c.child;c!==null;)Py(s,r,c),c=c.sibling}function Py(s,r,c){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(pe,c)}catch{}switch(c.tag){case 26:Ot||Oi(c,r),ns(s,r,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ot||Oi(c,r);var h=vt,m=On;Fs(c.type)&&(vt=c.stateNode,On=!1),ns(s,r,c),Wo(c.stateNode),vt=h,On=m;break;case 5:Ot||Oi(c,r);case 6:if(h=vt,m=On,vt=null,ns(s,r,c),vt=h,On=m,vt!==null)if(On)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(c.stateNode)}catch(v){st(c,r,v)}else try{vt.removeChild(c.stateNode)}catch(v){st(c,r,v)}break;case 18:vt!==null&&(On?(s=vt,Eb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),nl(s)):Eb(vt,c.stateNode));break;case 4:h=vt,m=On,vt=c.stateNode.containerInfo,On=!0,ns(s,r,c),vt=h,On=m;break;case 0:case 11:case 14:case 15:Ot||Ms(2,c,r),Ot||Ms(4,c,r),ns(s,r,c);break;case 1:Ot||(Oi(c,r),h=c.stateNode,typeof h.componentWillUnmount=="function"&&Ty(c,r,h)),ns(s,r,c);break;case 21:ns(s,r,c);break;case 22:Ot=(h=Ot)||c.memoizedState!==null,ns(s,r,c),Ot=h;break;default:ns(s,r,c)}}function zy(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{nl(s)}catch(c){st(r,r.return,c)}}function yC(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Ny),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Ny),r;default:throw Error(i(435,s.tag))}}function uf(s,r){var c=yC(s);r.forEach(function(h){var m=AC.bind(null,s,h);c.has(h)||(c.add(h),h.then(m,m))})}function zn(s,r){var c=r.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h],v=s,E=r,O=E;e:for(;O!==null;){switch(O.tag){case 27:if(Fs(O.type)){vt=O.stateNode,On=!1;break e}break;case 5:vt=O.stateNode,On=!1;break e;case 3:case 4:vt=O.stateNode.containerInfo,On=!0;break e}O=O.return}if(vt===null)throw Error(i(160));Py(v,E,m),vt=null,On=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Iy(r,s),r=r.sibling}var li=null;function Iy(s,r){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:zn(r,s),In(s),h&4&&(Ms(3,s,s.return),Io(3,s),Ms(5,s,s.return));break;case 1:zn(r,s),In(s),h&512&&(Ot||c===null||Oi(c,c.return)),h&64&&ts&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var m=li;if(zn(r,s),In(s),h&512&&(Ot||c===null||Oi(c,c.return)),h&4){var v=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){e:{h=s.type,c=s.memoizedProps,m=m.ownerDocument||m;t:switch(h){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Vi]||v[ht]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(h),m.head.insertBefore(v,m.querySelector("head > title"))),an(v,h,c),v[ht]=s,Gt(v),h=v;break e;case"link":var E=kb("link","href",m).get(h+(c.href||""));if(E){for(var O=0;O<E.length;O++)if(v=E[O],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){E.splice(O,1);break t}}v=m.createElement(h),an(v,h,c),m.head.appendChild(v);break;case"meta":if(E=kb("meta","content",m).get(h+(c.content||""))){for(O=0;O<E.length;O++)if(v=E[O],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){E.splice(O,1);break t}}v=m.createElement(h),an(v,h,c),m.head.appendChild(v);break;default:throw Error(i(468,h))}v[ht]=s,Gt(v),h=v}s.stateNode=h}else Nb(m,s.type,s.stateNode);else s.stateNode=Mb(m,h,s.memoizedProps);else v!==h?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,h===null?Nb(m,s.type,s.stateNode):Mb(m,h,s.memoizedProps)):h===null&&s.stateNode!==null&&rf(s,s.memoizedProps,c.memoizedProps)}break;case 27:zn(r,s),In(s),h&512&&(Ot||c===null||Oi(c,c.return)),c!==null&&h&4&&rf(s,s.memoizedProps,c.memoizedProps);break;case 5:if(zn(r,s),In(s),h&512&&(Ot||c===null||Oi(c,c.return)),s.flags&32){m=s.stateNode;try{Ka(m,"")}catch(Y){st(s,s.return,Y)}}h&4&&s.stateNode!=null&&(m=s.memoizedProps,rf(s,m,c!==null?c.memoizedProps:m)),h&1024&&(cf=!0);break;case 6:if(zn(r,s),In(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(Y){st(s,s.return,Y)}}break;case 3:if(gu=null,m=li,li=hu(r.containerInfo),zn(r,s),li=m,In(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{nl(r.containerInfo)}catch(Y){st(s,s.return,Y)}cf&&(cf=!1,Fy(s));break;case 4:h=li,li=hu(s.stateNode.containerInfo),zn(r,s),In(s),li=h;break;case 12:zn(r,s),In(s);break;case 13:zn(r,s),In(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(pf=Rt()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,uf(s,h)));break;case 22:m=s.memoizedState!==null;var M=c!==null&&c.memoizedState!==null,B=ts,J=Ot;if(ts=B||m,Ot=J||M,zn(r,s),Ot=J,ts=B,In(s),h&8192)e:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(c===null||M||ts||Ot||Sa(s)),c=null,r=s;;){if(r.tag===5||r.tag===26){if(c===null){M=c=r;try{if(v=M.stateNode,m)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{O=M.stateNode;var ne=M.memoizedProps.style,q=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;O.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(Y){st(M,M.return,Y)}}}else if(r.tag===6){if(c===null){M=r;try{M.stateNode.nodeValue=m?"":M.memoizedProps}catch(Y){st(M,M.return,Y)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;c===r&&(c=null),r=r.return}c===r&&(c=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,uf(s,c))));break;case 19:zn(r,s),In(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,uf(s,h)));break;case 30:break;case 21:break;default:zn(r,s),In(s)}}function In(s){var r=s.flags;if(r&2){try{for(var c,h=s.return;h!==null;){if(My(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var m=c.stateNode,v=of(s);Jc(s,v,m);break;case 5:var E=c.stateNode;c.flags&32&&(Ka(E,""),c.flags&=-33);var O=of(s);Jc(s,O,E);break;case 3:case 4:var M=c.stateNode.containerInfo,B=of(s);lf(s,B,M);break;default:throw Error(i(161))}}catch(J){st(s,s.return,J)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Fy(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Fy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function ks(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)jy(s,r.alternate,r),r=r.sibling}function Sa(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Ms(4,r,r.return),Sa(r);break;case 1:Oi(r,r.return);var c=r.stateNode;typeof c.componentWillUnmount=="function"&&Ty(r,r.return,c),Sa(r);break;case 27:Wo(r.stateNode);case 26:case 5:Oi(r,r.return),Sa(r);break;case 22:r.memoizedState===null&&Sa(r);break;case 30:Sa(r);break;default:Sa(r)}s=s.sibling}}function Ns(s,r,c){for(c=c&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,m=s,v=r,E=v.flags;switch(v.tag){case 0:case 11:case 15:Ns(m,v,c),Io(4,v);break;case 1:if(Ns(m,v,c),h=v,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(B){st(h,h.return,B)}if(h=v,m=h.updateQueue,m!==null){var O=h.stateNode;try{var M=m.shared.hiddenCallbacks;if(M!==null)for(m.shared.hiddenCallbacks=null,m=0;m<M.length;m++)gv(M[m],O)}catch(B){st(h,h.return,B)}}c&&E&64&&Oy(v),Fo(v,v.return);break;case 27:ky(v);case 26:case 5:Ns(m,v,c),c&&h===null&&E&4&&Dy(v),Fo(v,v.return);break;case 12:Ns(m,v,c);break;case 13:Ns(m,v,c),c&&E&4&&zy(m,v);break;case 22:v.memoizedState===null&&Ns(m,v,c),Fo(v,v.return);break;case 30:break;default:Ns(m,v,c)}r=r.sibling}}function df(s,r){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Eo(c))}function hf(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Eo(s))}function Ti(s,r,c,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Uy(s,r,c,h),r=r.sibling}function Uy(s,r,c,h){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Ti(s,r,c,h),m&2048&&Io(9,r);break;case 1:Ti(s,r,c,h);break;case 3:Ti(s,r,c,h),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Eo(s)));break;case 12:if(m&2048){Ti(s,r,c,h),s=r.stateNode;try{var v=r.memoizedProps,E=v.id,O=v.onPostCommit;typeof O=="function"&&O(E,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(M){st(r,r.return,M)}}else Ti(s,r,c,h);break;case 13:Ti(s,r,c,h);break;case 23:break;case 22:v=r.stateNode,E=r.alternate,r.memoizedState!==null?v._visibility&2?Ti(s,r,c,h):Uo(s,r):v._visibility&2?Ti(s,r,c,h):(v._visibility|=2,gr(s,r,c,h,(r.subtreeFlags&10256)!==0)),m&2048&&df(E,r);break;case 24:Ti(s,r,c,h),m&2048&&hf(r.alternate,r);break;default:Ti(s,r,c,h)}}function gr(s,r,c,h,m){for(m=m&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var v=s,E=r,O=c,M=h,B=E.flags;switch(E.tag){case 0:case 11:case 15:gr(v,E,O,M,m),Io(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?gr(v,E,O,M,m):Uo(v,E):(J._visibility|=2,gr(v,E,O,M,m)),m&&B&2048&&df(E.alternate,E);break;case 24:gr(v,E,O,M,m),m&&B&2048&&hf(E.alternate,E);break;default:gr(v,E,O,M,m)}r=r.sibling}}function Uo(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var c=s,h=r,m=h.flags;switch(h.tag){case 22:Uo(c,h),m&2048&&df(h.alternate,h);break;case 24:Uo(c,h),m&2048&&hf(h.alternate,h);break;default:Uo(c,h)}r=r.sibling}}var Ho=8192;function mr(s){if(s.subtreeFlags&Ho)for(s=s.child;s!==null;)Hy(s),s=s.sibling}function Hy(s){switch(s.tag){case 26:mr(s),s.flags&Ho&&s.memoizedState!==null&&iR(li,s.memoizedState,s.memoizedProps);break;case 5:mr(s);break;case 3:case 4:var r=li;li=hu(s.stateNode.containerInfo),mr(s),li=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=Ho,Ho=16777216,mr(s),Ho=r):mr(s));break;default:mr(s)}}function By(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Bo(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var c=0;c<r.length;c++){var h=r[c];Wt=h,$y(h,s)}By(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Vy(s),s=s.sibling}function Vy(s){switch(s.tag){case 0:case 11:case 15:Bo(s),s.flags&2048&&Ms(9,s,s.return);break;case 3:Bo(s);break;case 12:Bo(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,eu(s)):Bo(s);break;default:Bo(s)}}function eu(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var c=0;c<r.length;c++){var h=r[c];Wt=h,$y(h,s)}By(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Ms(8,r,r.return),eu(r);break;case 22:c=r.stateNode,c._visibility&2&&(c._visibility&=-3,eu(r));break;default:eu(r)}s=s.sibling}}function $y(s,r){for(;Wt!==null;){var c=Wt;switch(c.tag){case 0:case 11:case 15:Ms(8,c,r);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Eo(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Wt=h;else e:for(c=s;Wt!==null;){h=Wt;var m=h.sibling,v=h.return;if(Ly(h),h===c){Wt=null;break e}if(m!==null){m.return=v,Wt=m;break e}Wt=v}}}var bC={getCacheForType:function(s){var r=un(Ft),c=r.data.get(s);return c===void 0&&(c=s(),r.data.set(s,c)),c}},_C=typeof WeakMap=="function"?WeakMap:Map,We=0,ct=null,Le=null,Ue=0,Ke=0,Fn=null,js=!1,pr=!1,ff=!1,is=0,Et=0,Ls=0,xa=0,gf=0,Qn=0,vr=0,Vo=null,Tn=null,mf=!1,pf=0,tu=1/0,nu=null,Ps=null,sn=0,zs=null,yr=null,br=0,vf=0,yf=null,qy=null,$o=0,bf=null;function Un(){if((We&2)!==0&&Ue!==0)return Ue&-Ue;if(z.T!==null){var s=rr;return s!==0?s:Rf()}return jn()}function Gy(){Qn===0&&(Qn=(Ue&536870912)===0||Ge?hc():536870912);var s=Xn.current;return s!==null&&(s.flags|=32),Qn}function Hn(s,r,c){(s===ct&&(Ke===2||Ke===9)||s.cancelPendingCommit!==null)&&(_r(s,0),Is(s,Ue,Qn,!1)),St(s,c),((We&2)===0||s!==ct)&&(s===ct&&((We&2)===0&&(xa|=c),Et===4&&Is(s,Ue,Qn,!1)),Di(s))}function Yy(s,r,c){if((We&6)!==0)throw Error(i(327));var h=!c&&(r&124)===0&&(r&s.expiredLanes)===0||Hi(s,r),m=h?xC(s,r):Sf(s,r,!0),v=h;do{if(m===0){pr&&!h&&Is(s,r,0,!1);break}else{if(c=s.current.alternate,v&&!wC(c)){m=Sf(s,r,!1),v=!1;continue}if(m===2){if(v=r,s.errorRecoveryDisabledLanes&v)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var O=s;m=Vo;var M=O.current.memoizedState.isDehydrated;if(M&&(_r(O,E).flags|=256),E=Sf(O,E,!1),E!==2){if(ff&&!M){O.errorRecoveryDisabledLanes|=v,xa|=v,m=4;break e}v=Tn,Tn=m,v!==null&&(Tn===null?Tn=v:Tn.push.apply(Tn,v))}m=E}if(v=!1,m!==2)continue}}if(m===1){_r(s,0),Is(s,r,0,!0);break}e:{switch(h=s,v=m,v){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Is(h,r,Qn,!js);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=pf+300-Rt(),10<m)){if(Is(h,r,Qn,!js),Ei(h,0,!0)!==0)break e;h.timeoutHandle=Sb(Wy.bind(null,h,c,Tn,nu,mf,r,Qn,xa,vr,js,v,2,-0,0),m);break e}Wy(h,c,Tn,nu,mf,r,Qn,xa,vr,js,v,0,-0,0)}}break}while(!0);Di(s)}function Wy(s,r,c,h,m,v,E,O,M,B,J,ne,q,Y){if(s.timeoutHandle=-1,ne=r.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(Qo={stylesheets:null,count:0,unsuspend:nR},Hy(r),ne=sR(),ne!==null)){s.cancelPendingCommit=ne(tb.bind(null,s,r,v,c,h,m,E,O,M,J,1,q,Y)),Is(s,v,E,!B);return}tb(s,r,v,c,h,m,E,O,M)}function wC(s){for(var r=s;;){var c=r.tag;if((c===0||c===11||c===15)&&r.flags&16384&&(c=r.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var m=c[h],v=m.getSnapshot;m=m.value;try{if(!Ln(v(),m))return!1}catch{return!1}}if(c=r.child,r.subtreeFlags&16384&&c!==null)c.return=r,r=c;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Is(s,r,c,h){r&=~gf,r&=~xa,s.suspendedLanes|=r,s.pingedLanes&=~r,h&&(s.warmLanes|=r),h=s.expirationTimes;for(var m=r;0<m;){var v=31-Be(m),E=1<<v;h[v]=-1,m&=~E}c!==0&&on(s,c,r)}function iu(){return(We&6)===0?(qo(0),!1):!0}function _f(){if(Le!==null){if(Ke===0)var s=Le.return;else s=Le,Ki=va=null,Ph(s),hr=null,Lo=0,s=Le;for(;s!==null;)Ay(s.alternate,s),s=s.return;Le=null}}function _r(s,r){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,FC(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),_f(),ct=s,Le=c=Gi(s.current,null),Ue=r,Ke=0,Fn=null,js=!1,pr=Hi(s,r),ff=!1,vr=Qn=gf=xa=Ls=Et=0,Tn=Vo=null,mf=!1,(r&8)!==0&&(r|=r&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=r;0<h;){var m=31-Be(h),v=1<<m;r|=s[m],h&=~v}return is=r,Cc(),c}function Ky(s,r){Ne=null,z.H=$c,r===Ro||r===jc?(r=hv(),Ke=3):r===cv?(r=hv(),Ke=4):Ke=r===fy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Fn=r,Le===null&&(Et=1,Kc(s,Gn(r,s.current)))}function Xy(){var s=z.H;return z.H=$c,s===null?$c:s}function Qy(){var s=z.A;return z.A=bC,s}function wf(){Et=4,js||(Ue&4194048)!==Ue&&Xn.current!==null||(pr=!0),(Ls&134217727)===0&&(xa&134217727)===0||ct===null||Is(ct,Ue,Qn,!1)}function Sf(s,r,c){var h=We;We|=2;var m=Xy(),v=Qy();(ct!==s||Ue!==r)&&(nu=null,_r(s,r)),r=!1;var E=Et;e:do try{if(Ke!==0&&Le!==null){var O=Le,M=Fn;switch(Ke){case 8:_f(),E=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(r=!0);var B=Ke;if(Ke=0,Fn=null,wr(s,O,M,B),c&&pr){E=0;break e}break;default:B=Ke,Ke=0,Fn=null,wr(s,O,M,B)}}SC(),E=Et;break}catch(J){Ky(s,J)}while(!0);return r&&s.shellSuspendCounter++,Ki=va=null,We=h,z.H=m,z.A=v,Le===null&&(ct=null,Ue=0,Cc()),E}function SC(){for(;Le!==null;)Zy(Le)}function xC(s,r){var c=We;We|=2;var h=Xy(),m=Qy();ct!==s||Ue!==r?(nu=null,tu=Rt()+500,_r(s,r)):pr=Hi(s,r);e:do try{if(Ke!==0&&Le!==null){r=Le;var v=Fn;t:switch(Ke){case 1:Ke=0,Fn=null,wr(s,r,v,1);break;case 2:case 9:if(uv(v)){Ke=0,Fn=null,Jy(r);break}r=function(){Ke!==2&&Ke!==9||ct!==s||(Ke=7),Di(s)},v.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:uv(v)?(Ke=0,Fn=null,Jy(r)):(Ke=0,Fn=null,wr(s,r,v,7));break;case 5:var E=null;switch(Le.tag){case 26:E=Le.memoizedState;case 5:case 27:var O=Le;if(!E||jb(E)){Ke=0,Fn=null;var M=O.sibling;if(M!==null)Le=M;else{var B=O.return;B!==null?(Le=B,su(B)):Le=null}break t}}Ke=0,Fn=null,wr(s,r,v,5);break;case 6:Ke=0,Fn=null,wr(s,r,v,6);break;case 8:_f(),Et=6;break e;default:throw Error(i(462))}}EC();break}catch(J){Ky(s,J)}while(!0);return Ki=va=null,z.H=h,z.A=m,We=c,Le!==null?0:(ct=null,Ue=0,Cc(),Et)}function EC(){for(;Le!==null&&!vn();)Zy(Le)}function Zy(s){var r=Cy(s.alternate,s,is);s.memoizedProps=s.pendingProps,r===null?su(s):Le=r}function Jy(s){var r=s,c=r.alternate;switch(r.tag){case 15:case 0:r=by(c,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=by(c,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:Ph(r);default:Ay(c,r),r=Le=ev(r,is),r=Cy(c,r,is)}s.memoizedProps=s.pendingProps,r===null?su(s):Le=r}function wr(s,r,c,h){Ki=va=null,Ph(r),hr=null,Lo=0;var m=r.return;try{if(fC(s,m,r,c,Ue)){Et=1,Kc(s,Gn(c,s.current)),Le=null;return}}catch(v){if(m!==null)throw Le=m,v;Et=1,Kc(s,Gn(c,s.current)),Le=null;return}r.flags&32768?(Ge||h===1?s=!0:pr||(Ue&536870912)!==0?s=!1:(js=s=!0,(h===2||h===9||h===3||h===6)&&(h=Xn.current,h!==null&&h.tag===13&&(h.flags|=16384))),eb(r,s)):su(r)}function su(s){var r=s;do{if((r.flags&32768)!==0){eb(r,js);return}s=r.return;var c=mC(r.alternate,r,is);if(c!==null){Le=c;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=s}while(r!==null);Et===0&&(Et=5)}function eb(s,r){do{var c=pC(s.alternate,s);if(c!==null){c.flags&=32767,Le=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!r&&(s=s.sibling,s!==null)){Le=s;return}Le=s=c}while(s!==null);Et=6,Le=null}function tb(s,r,c,h,m,v,E,O,M){s.cancelPendingCommit=null;do au();while(sn!==0);if((We&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(v=r.lanes|r.childLanes,v|=dh,yn(s,c,v,E,O,M),s===ct&&(Le=ct=null,Ue=0),yr=r,zs=s,br=c,vf=v,yf=m,qy=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,OC(H,function(){return rb(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=z.T,z.T=null,m=W.p,W.p=2,E=We,We|=4;try{vC(s,r,c)}finally{We=E,W.p=m,z.T=h}}sn=1,nb(),ib(),sb()}}function nb(){if(sn===1){sn=0;var s=zs,r=yr,c=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||c){c=z.T,z.T=null;var h=W.p;W.p=2;var m=We;We|=4;try{Iy(r,s);var v=jf,E=$p(s.containerInfo),O=v.focusedElem,M=v.selectionRange;if(E!==O&&O&&O.ownerDocument&&Vp(O.ownerDocument.documentElement,O)){if(M!==null&&rh(O)){var B=M.start,J=M.end;if(J===void 0&&(J=B),"selectionStart"in O)O.selectionStart=B,O.selectionEnd=Math.min(J,O.value.length);else{var ne=O.ownerDocument||document,q=ne&&ne.defaultView||window;if(q.getSelection){var Y=q.getSelection(),Se=O.textContent.length,be=Math.min(M.start,Se),nt=M.end===void 0?be:Math.min(M.end,Se);!Y.extend&&be>nt&&(E=nt,nt=be,be=E);var I=Bp(O,be),P=Bp(O,nt);if(I&&P&&(Y.rangeCount!==1||Y.anchorNode!==I.node||Y.anchorOffset!==I.offset||Y.focusNode!==P.node||Y.focusOffset!==P.offset)){var U=ne.createRange();U.setStart(I.node,I.offset),Y.removeAllRanges(),be>nt?(Y.addRange(U),Y.extend(P.node,P.offset)):(U.setEnd(P.node,P.offset),Y.addRange(U))}}}}for(ne=[],Y=O;Y=Y.parentNode;)Y.nodeType===1&&ne.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ne.length;O++){var te=ne[O];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}vu=!!Nf,jf=Nf=null}finally{We=m,W.p=h,z.T=c}}s.current=r,sn=2}}function ib(){if(sn===2){sn=0;var s=zs,r=yr,c=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||c){c=z.T,z.T=null;var h=W.p;W.p=2;var m=We;We|=4;try{jy(s,r.alternate,r)}finally{We=m,W.p=h,z.T=c}}sn=3}}function sb(){if(sn===4||sn===3){sn=0,Cn();var s=zs,r=yr,c=br,h=qy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?sn=5:(sn=0,yr=zs=null,ab(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Ps=null),tn(c),r=r.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(pe,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=z.T,m=W.p,W.p=2,z.T=null;try{for(var v=s.onRecoverableError,E=0;E<h.length;E++){var O=h[E];v(O.value,{componentStack:O.stack})}}finally{z.T=r,W.p=m}}(br&3)!==0&&au(),Di(s),m=s.pendingLanes,(c&4194090)!==0&&(m&42)!==0?s===bf?$o++:($o=0,bf=s):$o=0,qo(0)}}function ab(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Eo(r)))}function au(s){return nb(),ib(),sb(),rb()}function rb(){if(sn!==5)return!1;var s=zs,r=vf;vf=0;var c=tn(br),h=z.T,m=W.p;try{W.p=32>c?32:c,z.T=null,c=yf,yf=null;var v=zs,E=br;if(sn=0,yr=zs=null,br=0,(We&6)!==0)throw Error(i(331));var O=We;if(We|=4,Vy(v.current),Uy(v,v.current,E,c),We=O,qo(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(pe,v)}catch{}return!0}finally{W.p=m,z.T=h,ab(s,r)}}function ob(s,r,c){r=Gn(c,r),r=Xh(s.stateNode,r,2),s=As(s,r,2),s!==null&&(St(s,2),Di(s))}function st(s,r,c){if(s.tag===3)ob(s,s,c);else for(;r!==null;){if(r.tag===3){ob(r,s,c);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ps===null||!Ps.has(h))){s=Gn(c,s),c=dy(2),h=As(r,c,2),h!==null&&(hy(c,h,r,s),St(h,2),Di(h));break}}r=r.return}}function xf(s,r,c){var h=s.pingCache;if(h===null){h=s.pingCache=new _C;var m=new Set;h.set(r,m)}else m=h.get(r),m===void 0&&(m=new Set,h.set(r,m));m.has(c)||(ff=!0,m.add(c),s=CC.bind(null,s,r,c),r.then(s,s))}function CC(s,r,c){var h=s.pingCache;h!==null&&h.delete(r),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,ct===s&&(Ue&c)===c&&(Et===4||Et===3&&(Ue&62914560)===Ue&&300>Rt()-pf?(We&2)===0&&_r(s,0):gf|=c,vr===Ue&&(vr=0)),Di(s)}function lb(s,r){r===0&&(r=fc()),s=nr(s,r),s!==null&&(St(s,r),Di(s))}function RC(s){var r=s.memoizedState,c=0;r!==null&&(c=r.retryLane),lb(s,c)}function AC(s,r){var c=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(r),lb(s,c)}function OC(s,r){return Je(s,r)}var ru=null,Sr=null,Ef=!1,ou=!1,Cf=!1,Ea=0;function Di(s){s!==Sr&&s.next===null&&(Sr===null?ru=Sr=s:Sr=Sr.next=s),ou=!0,Ef||(Ef=!0,DC())}function qo(s,r){if(!Cf&&ou){Cf=!0;do for(var c=!1,h=ru;h!==null;){if(s!==0){var m=h.pendingLanes;if(m===0)var v=0;else{var E=h.suspendedLanes,O=h.pingedLanes;v=(1<<31-Be(42|s)+1)-1,v&=m&~(E&~O),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,hb(h,v))}else v=Ue,v=Ei(h,h===ct?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||Hi(h,v)||(c=!0,hb(h,v));h=h.next}while(c);Cf=!1}}function TC(){cb()}function cb(){ou=Ef=!1;var s=0;Ea!==0&&(IC()&&(s=Ea),Ea=0);for(var r=Rt(),c=null,h=ru;h!==null;){var m=h.next,v=ub(h,r);v===0?(h.next=null,c===null?ru=m:c.next=m,m===null&&(Sr=c)):(c=h,(s!==0||(v&3)!==0)&&(ou=!0)),h=m}qo(s)}function ub(s,r){for(var c=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var E=31-Be(v),O=1<<E,M=m[E];M===-1?((O&c)===0||(O&h)!==0)&&(m[E]=ra(O,r)):M<=r&&(s.expiredLanes|=O),v&=~O}if(r=ct,c=Ue,c=Ei(s,s===r?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===r&&(Ke===2||Ke===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&kt(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Hi(s,c)){if(r=c&-c,r===s.callbackPriority)return r;switch(h!==null&&kt(h),tn(c)){case 2:case 8:c=j;break;case 32:c=H;break;case 268435456:c=ge;break;default:c=H}return h=db.bind(null,s),c=Je(c,h),s.callbackPriority=r,s.callbackNode=c,r}return h!==null&&h!==null&&kt(h),s.callbackPriority=2,s.callbackNode=null,2}function db(s,r){if(sn!==0&&sn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(au()&&s.callbackNode!==c)return null;var h=Ue;return h=Ei(s,s===ct?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(Yy(s,h,r),ub(s,Rt()),s.callbackNode!=null&&s.callbackNode===c?db.bind(null,s):null)}function hb(s,r){if(au())return null;Yy(s,r,!0)}function DC(){UC(function(){(We&6)!==0?Je(Fi,TC):cb()})}function Rf(){return Ea===0&&(Ea=hc()),Ea}function fb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:yc(""+s)}function gb(s,r){var c=r.ownerDocument.createElement("input");return c.name=r.name,c.value=r.value,s.id&&c.setAttribute("form",s.id),r.parentNode.insertBefore(c,r),s=new FormData(s),c.parentNode.removeChild(c),s}function MC(s,r,c,h,m){if(r==="submit"&&c&&c.stateNode===m){var v=fb((m[ft]||null).action),E=h.submitter;E&&(r=(r=E[ft]||null)?fb(r.formAction):E.getAttribute("formAction"),r!==null&&(v=r,E=null));var O=new Sc("action","action",null,h,m);s.push({event:O,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ea!==0){var M=E?gb(m,E):new FormData(m);qh(c,{pending:!0,data:M,method:m.method,action:v},null,M)}}else typeof v=="function"&&(O.preventDefault(),M=E?gb(m,E):new FormData(m),qh(c,{pending:!0,data:M,method:m.method,action:v},v,M))},currentTarget:m}]})}}for(var Af=0;Af<uh.length;Af++){var Of=uh[Af],kC=Of.toLowerCase(),NC=Of[0].toUpperCase()+Of.slice(1);oi(kC,"on"+NC)}oi(Yp,"onAnimationEnd"),oi(Wp,"onAnimationIteration"),oi(Kp,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(XE,"onTransitionRun"),oi(QE,"onTransitionStart"),oi(ZE,"onTransitionCancel"),oi(Xp,"onTransitionEnd"),Ga("onMouseEnter",["mouseout","mouseover"]),Ga("onMouseLeave",["mouseout","mouseover"]),Ga("onPointerEnter",["pointerout","pointerover"]),Ga("onPointerLeave",["pointerout","pointerover"]),la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),la("onBeforeInput",["compositionend","keypress","textInput","paste"]),la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Go));function mb(s,r){r=(r&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],m=h.event;h=h.listeners;e:{var v=void 0;if(r)for(var E=h.length-1;0<=E;E--){var O=h[E],M=O.instance,B=O.currentTarget;if(O=O.listener,M!==v&&m.isPropagationStopped())break e;v=O,m.currentTarget=B;try{v(m)}catch(J){Wc(J)}m.currentTarget=null,v=M}else for(E=0;E<h.length;E++){if(O=h[E],M=O.instance,B=O.currentTarget,O=O.listener,M!==v&&m.isPropagationStopped())break e;v=O,m.currentTarget=B;try{v(m)}catch(J){Wc(J)}m.currentTarget=null,v=M}}}}function Pe(s,r){var c=r[Bi];c===void 0&&(c=r[Bi]=new Set);var h=s+"__bubble";c.has(h)||(pb(r,s,2,!1),c.add(h))}function Tf(s,r,c){var h=0;r&&(h|=4),pb(c,s,h,r)}var lu="_reactListening"+Math.random().toString(36).slice(2);function Df(s){if(!s[lu]){s[lu]=!0,cp.forEach(function(c){c!=="selectionchange"&&(jC.has(c)||Tf(c,!1,s),Tf(c,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[lu]||(r[lu]=!0,Tf("selectionchange",!1,r))}}function pb(s,r,c,h){switch(Ub(r)){case 2:var m=oR;break;case 8:m=lR;break;default:m=$f}c=m.bind(null,r,c,s),m=void 0,!Qd||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(r,c,{capture:!0,passive:m}):s.addEventListener(r,c,!0):m!==void 0?s.addEventListener(r,c,{passive:m}):s.addEventListener(r,c,!1)}function Mf(s,r,c,h,m){var v=h;if((r&1)===0&&(r&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var O=h.stateNode.containerInfo;if(O===m)break;if(E===4)for(E=h.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;O!==null;){if(E=Va(O),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){h=v=E;continue e}O=O.parentNode}}h=h.return}xp(function(){var B=v,J=Kd(c),ne=[];e:{var q=Qp.get(s);if(q!==void 0){var Y=Sc,Se=s;switch(s){case"keypress":if(_c(c)===0)break e;case"keydown":case"keyup":Y=OE;break;case"focusin":Se="focus",Y=th;break;case"focusout":Se="blur",Y=th;break;case"beforeblur":case"afterblur":Y=th;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=pE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=ME;break;case Yp:case Wp:case Kp:Y=bE;break;case Xp:Y=NE;break;case"scroll":case"scrollend":Y=gE;break;case"wheel":Y=LE;break;case"copy":case"cut":case"paste":Y=wE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Op;break;case"toggle":case"beforetoggle":Y=zE}var be=(r&4)!==0,nt=!be&&(s==="scroll"||s==="scrollend"),I=be?q!==null?q+"Capture":null:q;be=[];for(var P=B,U;P!==null;){var te=P;if(U=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||U===null||I===null||(te=uo(P,I),te!=null&&be.push(Yo(P,te,U))),nt)break;P=P.return}0<be.length&&(q=new Y(q,Se,null,c,J),ne.push({event:q,listeners:be}))}}if((r&7)===0){e:{if(q=s==="mouseover"||s==="pointerover",Y=s==="mouseout"||s==="pointerout",q&&c!==Wd&&(Se=c.relatedTarget||c.fromElement)&&(Va(Se)||Se[cn]))break e;if((Y||q)&&(q=J.window===J?J:(q=J.ownerDocument)?q.defaultView||q.parentWindow:window,Y?(Se=c.relatedTarget||c.toElement,Y=B,Se=Se?Va(Se):null,Se!==null&&(nt=o(Se),be=Se.tag,Se!==nt||be!==5&&be!==27&&be!==6)&&(Se=null)):(Y=null,Se=B),Y!==Se)){if(be=Rp,te="onMouseLeave",I="onMouseEnter",P="mouse",(s==="pointerout"||s==="pointerover")&&(be=Op,te="onPointerLeave",I="onPointerEnter",P="pointer"),nt=Y==null?q:co(Y),U=Se==null?q:co(Se),q=new be(te,P+"leave",Y,c,J),q.target=nt,q.relatedTarget=U,te=null,Va(J)===B&&(be=new be(I,P+"enter",Se,c,J),be.target=U,be.relatedTarget=nt,te=be),nt=te,Y&&Se)t:{for(be=Y,I=Se,P=0,U=be;U;U=xr(U))P++;for(U=0,te=I;te;te=xr(te))U++;for(;0<P-U;)be=xr(be),P--;for(;0<U-P;)I=xr(I),U--;for(;P--;){if(be===I||I!==null&&be===I.alternate)break t;be=xr(be),I=xr(I)}be=null}else be=null;Y!==null&&vb(ne,q,Y,be,!1),Se!==null&&nt!==null&&vb(ne,nt,Se,be,!0)}}e:{if(q=B?co(B):window,Y=q.nodeName&&q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&q.type==="file")var me=Pp;else if(jp(q))if(zp)me=YE;else{me=qE;var je=$E}else Y=q.nodeName,!Y||Y.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Yd(B.elementType)&&(me=Pp):me=GE;if(me&&(me=me(s,B))){Lp(ne,me,c,J);break e}je&&je(s,q,B),s==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Gd(q,"number",q.value)}switch(je=B?co(B):window,s){case"focusin":(jp(je)||je.contentEditable==="true")&&(Ja=je,oh=B,bo=null);break;case"focusout":bo=oh=Ja=null;break;case"mousedown":lh=!0;break;case"contextmenu":case"mouseup":case"dragend":lh=!1,qp(ne,c,J);break;case"selectionchange":if(KE)break;case"keydown":case"keyup":qp(ne,c,J)}var ye;if(ih)e:{switch(s){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Za?kp(s,c)&&(we="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(we="onCompositionStart");we&&(Tp&&c.locale!=="ko"&&(Za||we!=="onCompositionStart"?we==="onCompositionEnd"&&Za&&(ye=Ep()):(xs=J,Zd="value"in xs?xs.value:xs.textContent,Za=!0)),je=cu(B,we),0<je.length&&(we=new Ap(we,s,null,c,J),ne.push({event:we,listeners:je}),ye?we.data=ye:(ye=Np(c),ye!==null&&(we.data=ye)))),(ye=FE?UE(s,c):HE(s,c))&&(we=cu(B,"onBeforeInput"),0<we.length&&(je=new Ap("onBeforeInput","beforeinput",null,c,J),ne.push({event:je,listeners:we}),je.data=ye)),MC(ne,s,B,c,J)}mb(ne,r)})}function Yo(s,r,c){return{instance:s,listener:r,currentTarget:c}}function cu(s,r){for(var c=r+"Capture",h=[];s!==null;){var m=s,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=uo(s,c),m!=null&&h.unshift(Yo(s,m,v)),m=uo(s,r),m!=null&&h.push(Yo(s,m,v))),s.tag===3)return h;s=s.return}return[]}function xr(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function vb(s,r,c,h,m){for(var v=r._reactName,E=[];c!==null&&c!==h;){var O=c,M=O.alternate,B=O.stateNode;if(O=O.tag,M!==null&&M===h)break;O!==5&&O!==26&&O!==27||B===null||(M=B,m?(B=uo(c,v),B!=null&&E.unshift(Yo(c,B,M))):m||(B=uo(c,v),B!=null&&E.push(Yo(c,B,M)))),c=c.return}E.length!==0&&s.push({event:r,listeners:E})}var LC=/\r\n?/g,PC=/\u0000|\uFFFD/g;function yb(s){return(typeof s=="string"?s:""+s).replace(LC,`
`).replace(PC,"")}function bb(s,r){return r=yb(r),yb(s)===r}function uu(){}function tt(s,r,c,h,m,v){switch(c){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||Ka(s,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&Ka(s,""+h);break;case"className":mc(s,"class",h);break;case"tabIndex":mc(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":mc(s,c,h);break;case"style":wp(s,h,v);break;case"data":if(r!=="object"){mc(s,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=yc(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(r!=="input"&&tt(s,r,"name",m.name,m,null),tt(s,r,"formEncType",m.formEncType,m,null),tt(s,r,"formMethod",m.formMethod,m,null),tt(s,r,"formTarget",m.formTarget,m,null)):(tt(s,r,"encType",m.encType,m,null),tt(s,r,"method",m.method,m,null),tt(s,r,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=yc(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=uu);break;case"onScroll":h!=null&&Pe("scroll",s);break;case"onScrollEnd":h!=null&&Pe("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=yc(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Pe("beforetoggle",s),Pe("toggle",s),gc(s,"popover",h);break;case"xlinkActuate":$i(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":$i(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":$i(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":$i(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":$i(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":$i(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":$i(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":$i(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":$i(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":gc(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=hE.get(c)||c,gc(s,c,h))}}function kf(s,r,c,h,m,v){switch(c){case"style":wp(s,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof h=="string"?Ka(s,h):(typeof h=="number"||typeof h=="bigint")&&Ka(s,""+h);break;case"onScroll":h!=null&&Pe("scroll",s);break;case"onScrollEnd":h!=null&&Pe("scrollend",s);break;case"onClick":h!=null&&(s.onclick=uu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!up.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),r=c.slice(2,m?c.length-7:void 0),v=s[ft]||null,v=v!=null?v[c]:null,typeof v=="function"&&s.removeEventListener(r,v,m),typeof h=="function")){typeof v!="function"&&v!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(r,h,m);break e}c in s?s[c]=h:h===!0?s.setAttribute(c,""):gc(s,c,h)}}}function an(s,r,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",s),Pe("load",s);var h=!1,m=!1,v;for(v in c)if(c.hasOwnProperty(v)){var E=c[v];if(E!=null)switch(v){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:tt(s,r,v,E,c,null)}}m&&tt(s,r,"srcSet",c.srcSet,c,null),h&&tt(s,r,"src",c.src,c,null);return;case"input":Pe("invalid",s);var O=v=E=m=null,M=null,B=null;for(h in c)if(c.hasOwnProperty(h)){var J=c[h];if(J!=null)switch(h){case"name":m=J;break;case"type":E=J;break;case"checked":M=J;break;case"defaultChecked":B=J;break;case"value":v=J;break;case"defaultValue":O=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:tt(s,r,h,J,c,null)}}vp(s,v,O,M,B,E,m,!1),pc(s);return;case"select":Pe("invalid",s),h=E=v=null;for(m in c)if(c.hasOwnProperty(m)&&(O=c[m],O!=null))switch(m){case"value":v=O;break;case"defaultValue":E=O;break;case"multiple":h=O;default:tt(s,r,m,O,c,null)}r=v,c=E,s.multiple=!!h,r!=null?Wa(s,!!h,r,!1):c!=null&&Wa(s,!!h,c,!0);return;case"textarea":Pe("invalid",s),v=m=h=null;for(E in c)if(c.hasOwnProperty(E)&&(O=c[E],O!=null))switch(E){case"value":h=O;break;case"defaultValue":m=O;break;case"children":v=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:tt(s,r,E,O,c,null)}bp(s,h,m,v),pc(s);return;case"option":for(M in c)if(c.hasOwnProperty(M)&&(h=c[M],h!=null))switch(M){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:tt(s,r,M,h,c,null)}return;case"dialog":Pe("beforetoggle",s),Pe("toggle",s),Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":Pe("load",s);break;case"video":case"audio":for(h=0;h<Go.length;h++)Pe(Go[h],s);break;case"image":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"embed":case"source":case"link":Pe("error",s),Pe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in c)if(c.hasOwnProperty(B)&&(h=c[B],h!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:tt(s,r,B,h,c,null)}return;default:if(Yd(r)){for(J in c)c.hasOwnProperty(J)&&(h=c[J],h!==void 0&&kf(s,r,J,h,c,void 0));return}}for(O in c)c.hasOwnProperty(O)&&(h=c[O],h!=null&&tt(s,r,O,h,c,null))}function zC(s,r,c,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,E=null,O=null,M=null,B=null,J=null;for(Y in c){var ne=c[Y];if(c.hasOwnProperty(Y)&&ne!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":M=ne;default:h.hasOwnProperty(Y)||tt(s,r,Y,null,h,ne)}}for(var q in h){var Y=h[q];if(ne=c[q],h.hasOwnProperty(q)&&(Y!=null||ne!=null))switch(q){case"type":v=Y;break;case"name":m=Y;break;case"checked":B=Y;break;case"defaultChecked":J=Y;break;case"value":E=Y;break;case"defaultValue":O=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,r));break;default:Y!==ne&&tt(s,r,q,Y,h,ne)}}qd(s,E,O,M,B,J,v,m);return;case"select":Y=E=O=q=null;for(v in c)if(M=c[v],c.hasOwnProperty(v)&&M!=null)switch(v){case"value":break;case"multiple":Y=M;default:h.hasOwnProperty(v)||tt(s,r,v,null,h,M)}for(m in h)if(v=h[m],M=c[m],h.hasOwnProperty(m)&&(v!=null||M!=null))switch(m){case"value":q=v;break;case"defaultValue":O=v;break;case"multiple":E=v;default:v!==M&&tt(s,r,m,v,h,M)}r=O,c=E,h=Y,q!=null?Wa(s,!!c,q,!1):!!h!=!!c&&(r!=null?Wa(s,!!c,r,!0):Wa(s,!!c,c?[]:"",!1));return;case"textarea":Y=q=null;for(O in c)if(m=c[O],c.hasOwnProperty(O)&&m!=null&&!h.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:tt(s,r,O,null,h,m)}for(E in h)if(m=h[E],v=c[E],h.hasOwnProperty(E)&&(m!=null||v!=null))switch(E){case"value":q=m;break;case"defaultValue":Y=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==v&&tt(s,r,E,m,h,v)}yp(s,q,Y);return;case"option":for(var Se in c)if(q=c[Se],c.hasOwnProperty(Se)&&q!=null&&!h.hasOwnProperty(Se))switch(Se){case"selected":s.selected=!1;break;default:tt(s,r,Se,null,h,q)}for(M in h)if(q=h[M],Y=c[M],h.hasOwnProperty(M)&&q!==Y&&(q!=null||Y!=null))switch(M){case"selected":s.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:tt(s,r,M,q,h,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in c)q=c[be],c.hasOwnProperty(be)&&q!=null&&!h.hasOwnProperty(be)&&tt(s,r,be,null,h,q);for(B in h)if(q=h[B],Y=c[B],h.hasOwnProperty(B)&&q!==Y&&(q!=null||Y!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,r));break;default:tt(s,r,B,q,h,Y)}return;default:if(Yd(r)){for(var nt in c)q=c[nt],c.hasOwnProperty(nt)&&q!==void 0&&!h.hasOwnProperty(nt)&&kf(s,r,nt,void 0,h,q);for(J in h)q=h[J],Y=c[J],!h.hasOwnProperty(J)||q===Y||q===void 0&&Y===void 0||kf(s,r,J,q,h,Y);return}}for(var I in c)q=c[I],c.hasOwnProperty(I)&&q!=null&&!h.hasOwnProperty(I)&&tt(s,r,I,null,h,q);for(ne in h)q=h[ne],Y=c[ne],!h.hasOwnProperty(ne)||q===Y||q==null&&Y==null||tt(s,r,ne,q,h,Y)}var Nf=null,jf=null;function du(s){return s.nodeType===9?s:s.ownerDocument}function _b(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wb(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Lf(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Pf=null;function IC(){var s=window.event;return s&&s.type==="popstate"?s===Pf?!1:(Pf=s,!0):(Pf=null,!1)}var Sb=typeof setTimeout=="function"?setTimeout:void 0,FC=typeof clearTimeout=="function"?clearTimeout:void 0,xb=typeof Promise=="function"?Promise:void 0,UC=typeof queueMicrotask=="function"?queueMicrotask:typeof xb<"u"?function(s){return xb.resolve(null).then(s).catch(HC)}:Sb;function HC(s){setTimeout(function(){throw s})}function Fs(s){return s==="head"}function Eb(s,r){var c=r,h=0,m=0;do{var v=c.nextSibling;if(s.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<h&&8>h){c=h;var E=s.ownerDocument;if(c&1&&Wo(E.documentElement),c&2&&Wo(E.body),c&4)for(c=E.head,Wo(c),E=c.firstChild;E;){var O=E.nextSibling,M=E.nodeName;E[Vi]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&E.rel.toLowerCase()==="stylesheet"||c.removeChild(E),E=O}}if(m===0){s.removeChild(v),nl(r);return}m--}else c==="$"||c==="$?"||c==="$!"?m++:h=c.charCodeAt(0)-48;else h=0;c=v}while(c);nl(r)}function zf(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var c=r;switch(r=r.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":zf(c),Hd(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function BC(s,r,c,h){for(;s.nodeType===1;){var m=c;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[Vi])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=ci(s.nextSibling),s===null)break}return null}function VC(s,r,c){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ci(s.nextSibling),s===null))return null;return s}function If(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function $C(s,r){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")r();else{var h=function(){r(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function ci(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var Ff=null;function Cb(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(r===0)return s;r--}else c==="/$"&&r++}s=s.previousSibling}return null}function Rb(s,r,c){switch(r=du(c),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Wo(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Hd(s)}var Zn=new Map,Ab=new Set;function hu(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ss=W.d;W.d={f:qC,r:GC,D:YC,C:WC,L:KC,m:XC,X:ZC,S:QC,M:JC};function qC(){var s=ss.f(),r=iu();return s||r}function GC(s){var r=$a(s);r!==null&&r.tag===5&&r.type==="form"?Yv(r):ss.r(s)}var Er=typeof document>"u"?null:document;function Ob(s,r,c){var h=Er;if(h&&typeof r=="string"&&r){var m=qn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),Ab.has(m)||(Ab.add(m),s={rel:s,crossOrigin:c,href:r},h.querySelector(m)===null&&(r=h.createElement("link"),an(r,"link",s),Gt(r),h.head.appendChild(r)))}}function YC(s){ss.D(s),Ob("dns-prefetch",s,null)}function WC(s,r){ss.C(s,r),Ob("preconnect",s,r)}function KC(s,r,c){ss.L(s,r,c);var h=Er;if(h&&s&&r){var m='link[rel="preload"][as="'+qn(r)+'"]';r==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+qn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+qn(c.imageSizes)+'"]')):m+='[href="'+qn(s)+'"]';var v=m;switch(r){case"style":v=Cr(s);break;case"script":v=Rr(s)}Zn.has(v)||(s=g({rel:"preload",href:r==="image"&&c&&c.imageSrcSet?void 0:s,as:r},c),Zn.set(v,s),h.querySelector(m)!==null||r==="style"&&h.querySelector(Ko(v))||r==="script"&&h.querySelector(Xo(v))||(r=h.createElement("link"),an(r,"link",s),Gt(r),h.head.appendChild(r)))}}function XC(s,r){ss.m(s,r);var c=Er;if(c&&s){var h=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+qn(h)+'"][href="'+qn(s)+'"]',v=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Rr(s)}if(!Zn.has(v)&&(s=g({rel:"modulepreload",href:s},r),Zn.set(v,s),c.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Xo(v)))return}h=c.createElement("link"),an(h,"link",s),Gt(h),c.head.appendChild(h)}}}function QC(s,r,c){ss.S(s,r,c);var h=Er;if(h&&s){var m=qa(h).hoistableStyles,v=Cr(s);r=r||"default";var E=m.get(v);if(!E){var O={loading:0,preload:null};if(E=h.querySelector(Ko(v)))O.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":r},c),(c=Zn.get(v))&&Uf(s,c);var M=E=h.createElement("link");Gt(M),an(M,"link",s),M._p=new Promise(function(B,J){M.onload=B,M.onerror=J}),M.addEventListener("load",function(){O.loading|=1}),M.addEventListener("error",function(){O.loading|=2}),O.loading|=4,fu(E,r,h)}E={type:"stylesheet",instance:E,count:1,state:O},m.set(v,E)}}}function ZC(s,r){ss.X(s,r);var c=Er;if(c&&s){var h=qa(c).hoistableScripts,m=Rr(s),v=h.get(m);v||(v=c.querySelector(Xo(m)),v||(s=g({src:s,async:!0},r),(r=Zn.get(m))&&Hf(s,r),v=c.createElement("script"),Gt(v),an(v,"link",s),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(m,v))}}function JC(s,r){ss.M(s,r);var c=Er;if(c&&s){var h=qa(c).hoistableScripts,m=Rr(s),v=h.get(m);v||(v=c.querySelector(Xo(m)),v||(s=g({src:s,async:!0,type:"module"},r),(r=Zn.get(m))&&Hf(s,r),v=c.createElement("script"),Gt(v),an(v,"link",s),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(m,v))}}function Tb(s,r,c,h){var m=(m=ie.current)?hu(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(r=Cr(c.href),c=qa(m).hoistableStyles,h=c.get(r),h||(h={type:"style",instance:null,count:0,state:null},c.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Cr(c.href);var v=qa(m).hoistableStyles,E=v.get(s);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,E),(v=m.querySelector(Ko(s)))&&!v._p&&(E.instance=v,E.state.loading=5),Zn.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Zn.set(s,c),v||eR(m,s,c,E.state))),r&&h===null)throw Error(i(528,""));return E}if(r&&h!==null)throw Error(i(529,""));return null;case"script":return r=c.async,c=c.src,typeof c=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Rr(c),c=qa(m).hoistableScripts,h=c.get(r),h||(h={type:"script",instance:null,count:0,state:null},c.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Cr(s){return'href="'+qn(s)+'"'}function Ko(s){return'link[rel="stylesheet"]['+s+"]"}function Db(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function eR(s,r,c,h){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=s.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),an(r,"link",c),Gt(r),s.head.appendChild(r))}function Rr(s){return'[src="'+qn(s)+'"]'}function Xo(s){return"script[async]"+s}function Mb(s,r,c){if(r.count++,r.instance===null)switch(r.type){case"style":var h=s.querySelector('style[data-href~="'+qn(c.href)+'"]');if(h)return r.instance=h,Gt(h),h;var m=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Gt(h),an(h,"style",m),fu(h,c.precedence,s),r.instance=h;case"stylesheet":m=Cr(c.href);var v=s.querySelector(Ko(m));if(v)return r.state.loading|=4,r.instance=v,Gt(v),v;h=Db(c),(m=Zn.get(m))&&Uf(h,m),v=(s.ownerDocument||s).createElement("link"),Gt(v);var E=v;return E._p=new Promise(function(O,M){E.onload=O,E.onerror=M}),an(v,"link",h),r.state.loading|=4,fu(v,c.precedence,s),r.instance=v;case"script":return v=Rr(c.src),(m=s.querySelector(Xo(v)))?(r.instance=m,Gt(m),m):(h=c,(m=Zn.get(v))&&(h=g({},c),Hf(h,m)),s=s.ownerDocument||s,m=s.createElement("script"),Gt(m),an(m,"link",h),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,fu(h,c.precedence,s));return r.instance}function fu(s,r,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,v=m,E=0;E<h.length;E++){var O=h[E];if(O.dataset.precedence===r)v=O;else if(v!==m)break}v?v.parentNode.insertBefore(s,v.nextSibling):(r=c.nodeType===9?c.head:c,r.insertBefore(s,r.firstChild))}function Uf(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Hf(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var gu=null;function kb(s,r,c){if(gu===null){var h=new Map,m=gu=new Map;m.set(c,h)}else m=gu,h=m.get(c),h||(h=new Map,m.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),m=0;m<c.length;m++){var v=c[m];if(!(v[Vi]||v[ht]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(r)||"";E=s+E;var O=h.get(E);O?O.push(v):h.set(E,[v])}}return h}function Nb(s,r,c){s=s.ownerDocument||s,s.head.insertBefore(c,r==="title"?s.querySelector("head > title"):null)}function tR(s,r,c){if(c===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function jb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Qo=null;function nR(){}function iR(s,r,c){if(Qo===null)throw Error(i(475));var h=Qo;if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=Cr(c.href),v=s.querySelector(Ko(m));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=mu.bind(h),s.then(h,h)),r.state.loading|=4,r.instance=v,Gt(v);return}v=s.ownerDocument||s,c=Db(c),(m=Zn.get(m))&&Uf(c,m),v=v.createElement("link"),Gt(v);var E=v;E._p=new Promise(function(O,M){E.onload=O,E.onerror=M}),an(v,"link",c),r.instance=v}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(h.count++,r=mu.bind(h),s.addEventListener("load",r),s.addEventListener("error",r))}}function sR(){if(Qo===null)throw Error(i(475));var s=Qo;return s.stylesheets&&s.count===0&&Bf(s,s.stylesheets),0<s.count?function(r){var c=setTimeout(function(){if(s.stylesheets&&Bf(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(c)}}:null}function mu(){if(this.count--,this.count===0){if(this.stylesheets)Bf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var pu=null;function Bf(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,pu=new Map,r.forEach(aR,s),pu=null,mu.call(s))}function aR(s,r){if(!(r.state.loading&4)){var c=pu.get(s);if(c)var h=c.get(null);else{c=new Map,pu.set(s,c);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var E=m[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(c.set(E.dataset.precedence,E),h=E)}h&&c.set(null,h)}m=r.instance,E=m.getAttribute("data-precedence"),v=c.get(E)||h,v===h&&c.set(null,m),c.set(E,m),this.count++,h=mu.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),v?v.parentNode.insertBefore(m,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var Zo={$$typeof:T,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function rR(s,r,c,h,m,v,E,O){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.hiddenUpdates=lo(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Lb(s,r,c,h,m,v,E,O,M,B,J,ne){return s=new rR(s,r,c,E,O,M,B,ne),r=1,v===!0&&(r|=24),v=Pn(3,null,null,r),s.current=v,v.stateNode=s,r=Sh(),r.refCount++,s.pooledCache=r,r.refCount++,v.memoizedState={element:h,isDehydrated:c,cache:r},Rh(v),s}function Pb(s){return s?(s=ir,s):ir}function zb(s,r,c,h,m,v){m=Pb(m),h.context===null?h.context=m:h.pendingContext=m,h=Rs(r),h.payload={element:c},v=v===void 0?null:v,v!==null&&(h.callback=v),c=As(s,h,r),c!==null&&(Hn(c,s,r),Oo(c,s,r))}function Ib(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<r?c:r}}function Vf(s,r){Ib(s,r),(s=s.alternate)&&Ib(s,r)}function Fb(s){if(s.tag===13){var r=nr(s,67108864);r!==null&&Hn(r,s,67108864),Vf(s,67108864)}}var vu=!0;function oR(s,r,c,h){var m=z.T;z.T=null;var v=W.p;try{W.p=2,$f(s,r,c,h)}finally{W.p=v,z.T=m}}function lR(s,r,c,h){var m=z.T;z.T=null;var v=W.p;try{W.p=8,$f(s,r,c,h)}finally{W.p=v,z.T=m}}function $f(s,r,c,h){if(vu){var m=qf(h);if(m===null)Mf(s,r,h,yu,c),Hb(s,h);else if(uR(m,s,r,c,h))h.stopPropagation();else if(Hb(s,h),r&4&&-1<cR.indexOf(s)){for(;m!==null;){var v=$a(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=Nn(v.pendingLanes);if(E!==0){var O=v;for(O.pendingLanes|=2,O.entangledLanes|=2;E;){var M=1<<31-Be(E);O.entanglements[1]|=M,E&=~M}Di(v),(We&6)===0&&(tu=Rt()+500,qo(0))}}break;case 13:O=nr(v,2),O!==null&&Hn(O,v,2),iu(),Vf(v,2)}if(v=qf(h),v===null&&Mf(s,r,h,yu,c),v===m)break;m=v}m!==null&&h.stopPropagation()}else Mf(s,r,h,null,c)}}function qf(s){return s=Kd(s),Gf(s)}var yu=null;function Gf(s){if(yu=null,s=Va(s),s!==null){var r=o(s);if(r===null)s=null;else{var c=r.tag;if(c===13){if(s=l(r),s!==null)return s;s=null}else if(c===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return yu=s,null}function Ub(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oo()){case Fi:return 2;case j:return 8;case H:case X:return 32;case ge:return 268435456;default:return 32}default:return 32}}var Yf=!1,Us=null,Hs=null,Bs=null,Jo=new Map,el=new Map,Vs=[],cR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hb(s,r){switch(s){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Jo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(r.pointerId)}}function tl(s,r,c,h,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:r,domEventName:c,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},r!==null&&(r=$a(r),r!==null&&Fb(r)),s):(s.eventSystemFlags|=h,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function uR(s,r,c,h,m){switch(r){case"focusin":return Us=tl(Us,s,r,c,h,m),!0;case"dragenter":return Hs=tl(Hs,s,r,c,h,m),!0;case"mouseover":return Bs=tl(Bs,s,r,c,h,m),!0;case"pointerover":var v=m.pointerId;return Jo.set(v,tl(Jo.get(v)||null,s,r,c,h,m)),!0;case"gotpointercapture":return v=m.pointerId,el.set(v,tl(el.get(v)||null,s,r,c,h,m)),!0}return!1}function Bb(s){var r=Va(s.target);if(r!==null){var c=o(r);if(c!==null){if(r=c.tag,r===13){if(r=l(c),r!==null){s.blockedOn=r,ws(s.priority,function(){if(c.tag===13){var h=Un();h=ln(h);var m=nr(c,h);m!==null&&Hn(m,c,h),Vf(c,h)}});return}}else if(r===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function bu(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var c=qf(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Wd=h,c.target.dispatchEvent(h),Wd=null}else return r=$a(c),r!==null&&Fb(r),s.blockedOn=c,!1;r.shift()}return!0}function Vb(s,r,c){bu(s)&&c.delete(r)}function dR(){Yf=!1,Us!==null&&bu(Us)&&(Us=null),Hs!==null&&bu(Hs)&&(Hs=null),Bs!==null&&bu(Bs)&&(Bs=null),Jo.forEach(Vb),el.forEach(Vb)}function _u(s,r){s.blockedOn===r&&(s.blockedOn=null,Yf||(Yf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,dR)))}var wu=null;function $b(s){wu!==s&&(wu=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wu===s&&(wu=null);for(var r=0;r<s.length;r+=3){var c=s[r],h=s[r+1],m=s[r+2];if(typeof h!="function"){if(Gf(h||c)===null)continue;break}var v=$a(c);v!==null&&(s.splice(r,3),r-=3,qh(v,{pending:!0,data:m,method:c.method,action:h},h,m))}}))}function nl(s){function r(M){return _u(M,s)}Us!==null&&_u(Us,s),Hs!==null&&_u(Hs,s),Bs!==null&&_u(Bs,s),Jo.forEach(r),el.forEach(r);for(var c=0;c<Vs.length;c++){var h=Vs[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Vs.length&&(c=Vs[0],c.blockedOn===null);)Bb(c),c.blockedOn===null&&Vs.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var m=c[h],v=c[h+1],E=m[ft]||null;if(typeof v=="function")E||$b(c);else if(E){var O=null;if(v&&v.hasAttribute("formAction")){if(m=v,E=v[ft]||null)O=E.formAction;else if(Gf(m)!==null)continue}else O=E.action;typeof O=="function"?c[h+1]=O:(c.splice(h,3),h-=3),$b(c)}}}function Wf(s){this._internalRoot=s}Su.prototype.render=Wf.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var c=r.current,h=Un();zb(c,h,s,r,null,null)},Su.prototype.unmount=Wf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;zb(s.current,2,null,s,null,null),iu(),r[cn]=null}};function Su(s){this._internalRoot=s}Su.prototype.unstable_scheduleHydration=function(s){if(s){var r=jn();s={blockedOn:null,target:s,priority:r};for(var c=0;c<Vs.length&&r!==0&&r<Vs[c].priority;c++);Vs.splice(c,0,s),c===0&&Bb(s)}};var qb=e.version;if(qb!=="19.1.1")throw Error(i(527,qb,"19.1.1"));W.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(r),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var hR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{pe=xu.inject(hR),_e=xu}catch{}}return sl.createRoot=function(s,r){if(!a(s))throw Error(i(299));var c=!1,h="",m=oy,v=ly,E=cy,O=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(O=r.unstable_transitionCallbacks)),r=Lb(s,1,!1,null,null,c,h,m,v,E,O,null),s[cn]=r.current,Df(s),new Wf(r)},sl.hydrateRoot=function(s,r,c){if(!a(s))throw Error(i(299));var h=!1,m="",v=oy,E=ly,O=cy,M=null,B=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(M=c.unstable_transitionCallbacks),c.formState!==void 0&&(B=c.formState)),r=Lb(s,1,!0,r,c??null,h,m,v,E,O,M,B),r.context=Pb(null),c=r.current,h=Un(),h=ln(h),m=Rs(h),m.callback=null,As(c,m,h),c=h,r.current.lanes=c,St(r,c),Di(r),s[cn]=r.current,Df(s),new Su(r)},sl.version="19.1.1",sl}var t_;function SR(){if(t_)return Qf.exports;t_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qf.exports=wR(),Qf.exports}var xR=SR();const ER=dm(xR);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var n_="popstate";function CR(t={}){function e(i,a){let{pathname:o,search:l,hash:u}=i.location;return Ng("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Ul(a)}return AR(e,n,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RR(){return Math.random().toString(36).substring(2,10)}function i_(t,e){return{usr:t.state,key:t.key,idx:e}}function Ng(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Jr(e):e,state:n,key:e&&e.key||i||RR()}}function Ul({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Jr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function AR(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,l=a.history,u="POP",d=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function p(){u="POP";let x=g(),C=x==null?null:x-f;f=x,d&&d({action:u,location:S.location,delta:C})}function y(x,C){u="PUSH";let A=Ng(S.location,x,C);f=g()+1;let T=i_(A,f),k=S.createHref(A);try{l.pushState(T,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(k)}o&&d&&d({action:u,location:S.location,delta:1})}function _(x,C){u="REPLACE";let A=Ng(S.location,x,C);f=g();let T=i_(A,f),k=S.createHref(A);l.replaceState(T,"",k),o&&d&&d({action:u,location:S.location,delta:0})}function w(x){return OR(x)}let S={get action(){return u},get location(){return t(a,l)},listen(x){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(n_,p),d=x,()=>{a.removeEventListener(n_,p),d=null}},createHref(x){return e(a,x)},createURL:w,encodeLocation(x){let C=w(x);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:_,go(x){return l.go(x)}};return S}function OR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_t(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Ul(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Fw(t,e,n="/"){return TR(t,e,n,!1)}function TR(t,e,n,i){let a=typeof e=="string"?Jr(e):e,o=ps(a.pathname||"/",n);if(o==null)return null;let l=Uw(t);DR(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=HR(o);u=FR(l[d],f,i)}return u}function Uw(t,e=[],n=[],i="",a=!1){let o=(l,u,d=a,f)=>{let g={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&d)return;_t(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let p=ms([i,g.relativePath]),y=n.concat(g);l.children&&l.children.length>0&&(_t(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Uw(l.children,e,y,p,d)),!(l.path==null&&!l.index)&&e.push({path:p,score:zR(p,l.index),routesMeta:y})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let d of Hw(l.path))o(l,u,!0,d)}),e}function Hw(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let l=Hw(i.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),a&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function DR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:IR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var MR=/^:[\w-]+$/,kR=3,NR=2,jR=1,LR=10,PR=-2,s_=t=>t==="*";function zR(t,e){let n=t.split("/"),i=n.length;return n.some(s_)&&(i+=PR),e&&(i+=NR),n.filter(a=>!s_(a)).reduce((a,o)=>a+(MR.test(o)?kR:o===""?jR:LR),i)}function IR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function FR(t,e,n=!1){let{routesMeta:i}=t,a={},o="/",l=[];for(let u=0;u<i.length;++u){let d=i[u],f=u===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",p=nd({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),y=d.route;if(!p&&f&&n&&!i[i.length-1].route.index&&(p=nd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!p)return null;Object.assign(a,p.params),l.push({params:a,pathname:ms([o,p.pathname]),pathnameBase:qR(ms([o,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(o=ms([o,p.pathnameBase]))}return l}function nd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=UR(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:i.reduce((f,{paramName:g,isOptional:p},y)=>{if(g==="*"){let w=u[y]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const _=u[y];return p&&!_?f[g]=void 0:f[g]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function UR(t,e=!1,n=!0){yi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function HR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ps(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function BR(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Jr(t):t;return{pathname:n?n.startsWith("/")?n:VR(n,e):e,search:GR(i),hash:YR(a)}}function VR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function tg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $R(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fm(t){let e=$R(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function gm(t,e,n,i=!1){let a;typeof t=="string"?a=Jr(t):(a={...t},_t(!a.pathname||!a.pathname.includes("?"),tg("?","pathname","search",a)),_t(!a.pathname||!a.pathname.includes("#"),tg("#","pathname","hash",a)),_t(!a.search||!a.search.includes("#"),tg("#","search","hash",a)));let o=t===""||a.pathname==="",l=o?"/":a.pathname,u;if(l==null)u=n;else{let p=e.length-1;if(!i&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),p-=1;a.pathname=y.join("/")}u=p>=0?e[p]:"/"}let d=BR(a,u),f=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var ms=t=>t.join("/").replace(/\/\/+/g,"/"),qR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function WR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Bw=["POST","PUT","PATCH","DELETE"];new Set(Bw);var KR=["GET",...Bw];new Set(KR);var eo=R.createContext(null);eo.displayName="DataRouter";var Ed=R.createContext(null);Ed.displayName="DataRouterState";R.createContext(!1);var Vw=R.createContext({isTransitioning:!1});Vw.displayName="ViewTransition";var XR=R.createContext(new Map);XR.displayName="Fetchers";var QR=R.createContext(null);QR.displayName="Await";var wi=R.createContext(null);wi.displayName="Navigation";var nc=R.createContext(null);nc.displayName="Location";var ai=R.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var mm=R.createContext(null);mm.displayName="RouteError";function ZR(t,{relative:e}={}){_t(to(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=R.useContext(wi),{hash:a,pathname:o,search:l}=ic(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:ms([n,o])),i.createHref({pathname:u,search:l,hash:a})}function to(){return R.useContext(nc)!=null}function ys(){return _t(to(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(nc).location}var $w="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qw(t){R.useContext(wi).static||R.useLayoutEffect(t)}function ia(){let{isDataRoute:t}=R.useContext(ai);return t?fA():JR()}function JR(){_t(to(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(eo),{basename:e,navigator:n}=R.useContext(wi),{matches:i}=R.useContext(ai),{pathname:a}=ys(),o=JSON.stringify(fm(i)),l=R.useRef(!1);return qw(()=>{l.current=!0}),R.useCallback((d,f={})=>{if(yi(l.current,$w),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=gm(d,JSON.parse(o),a,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ms([e,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[e,n,o,a,t])}var eA=R.createContext(null);function tA(t){let e=R.useContext(ai).outlet;return e&&R.createElement(eA.Provider,{value:t},e)}function Cd(){let{matches:t}=R.useContext(ai),e=t[t.length-1];return e?e.params:{}}function ic(t,{relative:e}={}){let{matches:n}=R.useContext(ai),{pathname:i}=ys(),a=JSON.stringify(fm(n));return R.useMemo(()=>gm(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function nA(t,e){return Gw(t,e)}function Gw(t,e,n,i){_t(to(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=R.useContext(wi),{matches:o}=R.useContext(ai),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",g=l&&l.route;{let C=g&&g.path||"";Yw(d,!g||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let p=ys(),y;if(e){let C=typeof e=="string"?Jr(e):e;_t(f==="/"||C.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${C.pathname}" was given in the \`location\` prop.`),y=C}else y=p;let _=y.pathname||"/",w=_;if(f!=="/"){let C=f.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=Fw(t,{pathname:w});yi(g||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),yi(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=oA(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:ms([f,a.encodeLocation?a.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:ms([f,a.encodeLocation?a.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,i);return e&&x?R.createElement(nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},x):x}function iA(){let t=hA(),e=WR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:o},"ErrorBoundary")," or"," ",R.createElement("code",{style:o},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:a},n):null,l)}var sA=R.createElement(iA,null),aA=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?R.createElement(ai.Provider,{value:this.props.routeContext},R.createElement(mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rA({routeContext:t,match:e,children:n}){let i=R.useContext(eo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(ai.Provider,{value:t},n)}function oA(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n?.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);_t(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:g,errors:p}=n,y=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,g)=>{let p,y=!1,_=null,w=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,_=f.route.errorElement||sA,l&&(u<0&&g===0?(Yw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):u===g&&(y=!0,w=f.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,g+1)),x=()=>{let C;return p?C=_:y?C=w:f.route.Component?C=R.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=d,R.createElement(rA,{match:f,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:C})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?R.createElement(aA,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:x(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):x()},null)}function pm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lA(t){let e=R.useContext(eo);return _t(e,pm(t)),e}function cA(t){let e=R.useContext(Ed);return _t(e,pm(t)),e}function uA(t){let e=R.useContext(ai);return _t(e,pm(t)),e}function vm(t){let e=uA(t),n=e.matches[e.matches.length-1];return _t(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function dA(){return vm("useRouteId")}function hA(){let t=R.useContext(mm),e=cA("useRouteError"),n=vm("useRouteError");return t!==void 0?t:e.errors?.[n]}function fA(){let{router:t}=lA("useNavigate"),e=vm("useNavigate"),n=R.useRef(!1);return qw(()=>{n.current=!0}),R.useCallback(async(a,o={})=>{yi(n.current,$w),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var a_={};function Yw(t,e,n){!e&&!a_[t]&&(a_[t]=!0,yi(!1,n))}R.memo(gA);function gA({routes:t,future:e,state:n}){return Gw(t,void 0,n,e)}function Ww({to:t,replace:e,state:n,relative:i}){_t(to(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=R.useContext(wi);yi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=R.useContext(ai),{pathname:l}=ys(),u=ia(),d=gm(t,fm(o),l,i==="path"),f=JSON.stringify(d);return R.useEffect(()=>{u(JSON.parse(f),{replace:e,state:n,relative:i})},[u,f,i,e,n]),null}function Kw(t){return tA(t.context)}function Ht(t){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mA({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:o=!1}){_t(!to(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof n=="string"&&(n=Jr(n));let{pathname:d="/",search:f="",hash:g="",state:p=null,key:y="default"}=n,_=R.useMemo(()=>{let w=ps(d,l);return w==null?null:{location:{pathname:w,search:f,hash:g,state:p,key:y},navigationType:i}},[l,d,f,g,p,y,i]);return yi(_!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:R.createElement(wi.Provider,{value:u},R.createElement(nc.Provider,{children:e,value:_}))}function pA({children:t,location:e}){return nA(jg(t),e)}function jg(t,e=[]){let n=[];return R.Children.forEach(t,(i,a)=>{if(!R.isValidElement(i))return;let o=[...e,a];if(i.type===R.Fragment){n.push.apply(n,jg(i.props.children,o));return}_t(i.type===Ht,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=jg(i.props.children,o)),n.push(l)}),n}var Xu="get",Qu="application/x-www-form-urlencoded";function Rd(t){return t!=null&&typeof t.tagName=="string"}function vA(t){return Rd(t)&&t.tagName.toLowerCase()==="button"}function yA(t){return Rd(t)&&t.tagName.toLowerCase()==="form"}function bA(t){return Rd(t)&&t.tagName.toLowerCase()==="input"}function _A(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wA(t,e){return t.button===0&&(!e||e==="_self")&&!_A(t)}var Eu=null;function SA(){if(Eu===null)try{new FormData(document.createElement("form"),0),Eu=!1}catch{Eu=!0}return Eu}var xA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ng(t){return t!=null&&!xA.has(t)?(yi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qu}"`),null):t}function EA(t,e){let n,i,a,o,l;if(yA(t)){let u=t.getAttribute("action");i=u?ps(u,e):null,n=t.getAttribute("method")||Xu,a=ng(t.getAttribute("enctype"))||Qu,o=new FormData(t)}else if(vA(t)||bA(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(i=d?ps(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Xu,a=ng(t.getAttribute("formenctype"))||ng(u.getAttribute("enctype"))||Qu,o=new FormData(u,t),!SA()){let{name:f,type:g,value:p}=t;if(g==="image"){let y=f?`${f}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else f&&o.append(f,p)}}else{if(Rd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xu,i=null,a=Qu,l=t}return o&&a==="text/plain"&&(l=o,o=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ym(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function CA(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&ps(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function RA(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function OA(t,e,n){let i=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let l=await RA(o,n);return l.links?l.links():[]}return[]}));return kA(i.flat(1).filter(AA).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function r_(t,e,n,i,a,o){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?e.filter((d,f)=>{let g=i.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function TA(t,e,{includeHydrateFallback:n}={}){return DA(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function DA(t){return[...new Set(t)]}function MA(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function kA(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let o=JSON.stringify(MA(a));return n.has(o)||(n.add(o),i.push({key:o,link:a})),i},[])}function Xw(){let t=R.useContext(eo);return ym(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function NA(){let t=R.useContext(Ed);return ym(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var bm=R.createContext(void 0);bm.displayName="FrameworkContext";function Qw(){let t=R.useContext(bm);return ym(t,"You must render this element inside a <HydratedRouter> element"),t}function jA(t,e){let n=R.useContext(bm),[i,a]=R.useState(!1),[o,l]=R.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:p}=e,y=R.useRef(null);R.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let S=C=>{C.forEach(A=>{l(A.isIntersecting)})},x=new IntersectionObserver(S,{threshold:.5});return y.current&&x.observe(y.current),()=>{x.disconnect()}}},[t]),R.useEffect(()=>{if(i){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[i]);let _=()=>{a(!0)},w=()=>{a(!1),l(!1)};return n?t!=="intent"?[o,y,{}]:[o,y,{onFocus:al(u,_),onBlur:al(d,w),onMouseEnter:al(f,_),onMouseLeave:al(g,w),onTouchStart:al(p,_)}]:[!1,y,{}]}function al(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function LA({page:t,...e}){let{router:n}=Xw(),i=R.useMemo(()=>Fw(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?R.createElement(zA,{page:t,matches:i,...e}):null}function PA(t){let{manifest:e,routeModules:n}=Qw(),[i,a]=R.useState([]);return R.useEffect(()=>{let o=!1;return OA(t,e,n).then(l=>{o||a(l)}),()=>{o=!0}},[t,e,n]),i}function zA({page:t,matches:e,...n}){let i=ys(),{manifest:a,routeModules:o}=Qw(),{basename:l}=Xw(),{loaderData:u,matches:d}=NA(),f=R.useMemo(()=>r_(t,e,d,a,i,"data"),[t,e,d,a,i]),g=R.useMemo(()=>r_(t,e,d,a,i,"assets"),[t,e,d,a,i]),p=R.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let w=new Set,S=!1;if(e.forEach(C=>{let A=a.routes[C.route.id];!A||!A.hasLoader||(!f.some(T=>T.route.id===C.route.id)&&C.route.id in u&&o[C.route.id]?.shouldRevalidate||A.hasClientLoader?S=!0:w.add(C.route.id))}),w.size===0)return[];let x=CA(t,l,"data");return S&&w.size>0&&x.searchParams.set("_routes",e.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[x.pathname+x.search]},[l,u,i,a,f,e,t,o]),y=R.useMemo(()=>TA(g,a),[g,a]),_=PA(g);return R.createElement(R.Fragment,null,p.map(w=>R.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),y.map(w=>R.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),_.map(({key:w,link:S})=>R.createElement("link",{key:w,nonce:n.nonce,...S})))}function IA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Zw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zw&&(window.__reactRouterVersion="7.8.1")}catch{}function FA({basename:t,children:e,window:n}){let i=R.useRef();i.current==null&&(i.current=CR({window:n,v5Compat:!0}));let a=i.current,[o,l]=R.useState({action:a.action,location:a.location}),u=R.useCallback(d=>{R.startTransition(()=>l(d))},[l]);return R.useLayoutEffect(()=>a.listen(u),[a,u]),R.createElement(mA,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}var Jw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sn=R.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:g,viewTransition:p,...y},_){let{basename:w}=R.useContext(wi),S=typeof f=="string"&&Jw.test(f),x,C=!1;if(typeof f=="string"&&S&&(x=f,Zw))try{let $=new URL(window.location.href),G=f.startsWith("//")?new URL($.protocol+f):new URL(f),Q=ps(G.pathname,w);G.origin===$.origin&&Q!=null?f=Q+G.search+G.hash:C=!0}catch{yi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=ZR(f,{relative:a}),[T,k,D]=jA(i,y),V=VA(f,{replace:l,state:u,target:d,preventScrollReset:g,relative:a,viewTransition:p});function F($){e&&e($),$.defaultPrevented||V($)}let L=R.createElement("a",{...y,...D,href:x||A,onClick:C||o?e:F,ref:IA(_,k),target:d,"data-discover":!S&&n==="render"?"true":void 0});return T&&!S?R.createElement(R.Fragment,null,L,R.createElement(LA,{page:A})):L});Sn.displayName="Link";var UA=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:o,to:l,viewTransition:u,children:d,...f},g){let p=ic(l,{relative:f.relative}),y=ys(),_=R.useContext(Ed),{navigator:w,basename:S}=R.useContext(wi),x=_!=null&&WA(p)&&u===!0,C=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,A=y.pathname,T=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(A=A.toLowerCase(),T=T?T.toLowerCase():null,C=C.toLowerCase()),T&&S&&(T=ps(T,S)||T);const k=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let D=A===C||!a&&A.startsWith(C)&&A.charAt(k)==="/",V=T!=null&&(T===C||!a&&T.startsWith(C)&&T.charAt(C.length)==="/"),F={isActive:D,isPending:V,isTransitioning:x},L=D?e:void 0,$;typeof i=="function"?$=i(F):$=[i,D?"active":null,V?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let G=typeof o=="function"?o(F):o;return R.createElement(Sn,{...f,"aria-current":L,className:$,ref:g,style:G,to:l,viewTransition:u},typeof d=="function"?d(F):d)});UA.displayName="NavLink";var HA=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:o,method:l=Xu,action:u,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:p,...y},_)=>{let w=GA(),S=YA(u,{relative:f}),x=l.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&Jw.test(u),A=T=>{if(d&&d(T),T.defaultPrevented)return;T.preventDefault();let k=T.nativeEvent.submitter,D=k?.getAttribute("formmethod")||l;w(k||T.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:a,state:o,relative:f,preventScrollReset:g,viewTransition:p})};return R.createElement("form",{ref:_,method:x,action:S,onSubmit:i?d:A,...y,"data-discover":!C&&t==="render"?"true":void 0})});HA.displayName="Form";function BA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eS(t){let e=R.useContext(eo);return _t(e,BA(t)),e}function VA(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}={}){let u=ia(),d=ys(),f=ic(t,{relative:o});return R.useCallback(g=>{if(wA(g,e)){g.preventDefault();let p=n!==void 0?n:Ul(d)===Ul(f);u(t,{replace:p,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,u,f,n,i,e,t,a,o,l])}var $A=0,qA=()=>`__${String(++$A)}__`;function GA(){let{router:t}=eS("useSubmit"),{basename:e}=R.useContext(wi),n=dA();return R.useCallback(async(i,a={})=>{let{action:o,method:l,encType:u,formData:d,body:f}=EA(i,e);if(a.navigate===!1){let g=a.fetcherKey||qA();await t.fetch(g,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function YA(t,{relative:e}={}){let{basename:n}=R.useContext(wi),i=R.useContext(ai);_t(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...ic(t||".",{relative:e})},l=ys();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(g=>g==="")){u.delete("index"),d.filter(p=>p).forEach(p=>u.append("index",p));let g=u.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ms([n,o.pathname])),Ul(o)}function WA(t,{relative:e}={}){let n=R.useContext(Vw);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=eS("useViewTransitionState"),a=ic(t,{relative:e});if(!n.isTransitioning)return!1;let o=ps(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=ps(n.nextLocation.pathname,i)||n.nextLocation.pathname;return nd(a.pathname,l)!=null||nd(a.pathname,o)!=null}var _l=Iw();const KA="modulepreload",XA=function(t){return"/flexi/"+t},o_={},Fa=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let d=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");a=d(n.map(f=>{if(f=XA(f),f in o_)return;o_[f]=!0;const g=f.endsWith(".css"),p=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const y=document.createElement("link");if(y.rel=g?"stylesheet":KA,g||(y.as="script"),y.crossOrigin="",y.href=f,u&&y.setAttribute("nonce",u),document.head.appendChild(y),g)return new Promise((_,w)=>{y.addEventListener("load",_),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return a.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},QA=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fa(async()=>{const{default:i}=await Promise.resolve().then(()=>no);return{default:i}},[]).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class _m extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class ZA extends _m{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class l_ extends _m{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class c_ extends _m{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Lg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Lg||(Lg={}));var JA=function(t,e,n,i){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(g){try{f(i.next(g))}catch(p){l(p)}}function d(g){try{f(i.throw(g))}catch(p){l(p)}}function f(g){g.done?o(g.value):a(g.value).then(u,d)}f((i=i.apply(t,e||[])).next())})};class eO{constructor(e,{headers:n={},customFetch:i,region:a=Lg.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=QA(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return JA(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:l}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${e}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let g;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",g=l):typeof l=="string"?(u["Content-Type"]="text/plain",g=l):typeof FormData<"u"&&l instanceof FormData?g=l:(u["Content-Type"]="application/json",g=JSON.stringify(l)));const p=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:g}).catch(S=>{throw new ZA(S)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new l_(p);if(!p.ok)throw new c_(p);let _=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return _==="application/json"?w=yield p.json():_==="application/octet-stream"?w=yield p.blob():_==="text/event-stream"?w=p:_==="multipart/form-data"?w=yield p.formData():w=yield p.text(),{data:w,error:null,response:p}}catch(a){return{data:null,error:a,response:a instanceof c_||a instanceof l_?a.context:void 0}}})}}var Xt={},Ar={},Or={},Tr={},Dr={},Mr={},tO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wr=tO();const nO=Wr.fetch,tS=Wr.fetch.bind(Wr),nS=Wr.Headers,iO=Wr.Request,sO=Wr.Response,no=Object.freeze(Object.defineProperty({__proto__:null,Headers:nS,Request:iO,Response:sO,default:tS,fetch:nO},Symbol.toStringTag,{value:"Module"})),aO=gR(no);var Cu={},u_;function iS(){if(u_)return Cu;u_=1,Object.defineProperty(Cu,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Cu.default=t,Cu}var d_;function sS(){if(d_)return Mr;d_=1;var t=Mr&&Mr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Mr,"__esModule",{value:!0});const e=t(aO),n=t(iS());class i{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=Object.assign({},this.headers),this.headers[o]=l,this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var g,p,y;let _=null,w=null,S=null,x=f.status,C=f.statusText;if(f.ok){if(this.method!=="HEAD"){const D=await f.text();D===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=D:w=JSON.parse(D))}const T=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),k=(p=f.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");T&&k&&k.length>1&&(S=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(_={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,S=null,x=406,C="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const T=await f.text();try{_=JSON.parse(T),Array.isArray(_)&&f.status===404&&(w=[],_=null,x=200,C="OK")}catch{f.status===404&&T===""?(x=204,C="No Content"):_={message:T}}if(_&&this.isMaybeSingle&&(!((y=_?.details)===null||y===void 0)&&y.includes("0 rows"))&&(_=null,x=200,C="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:w,count:S,status:x,statusText:C}});return this.shouldThrowOnError||(d=d.catch(f=>{var g,p,y;return{error:{message:`${(g=f?.name)!==null&&g!==void 0?g:"FetchError"}: ${f?.message}`,details:`${(p=f?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(y=f?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),d.then(o,l)}returns(){return this}overrideTypes(){return this}}return Mr.default=i,Mr}var h_;function aS(){if(h_)return Dr;h_=1;var t=Dr&&Dr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Dr,"__esModule",{value:!0});const e=t(sS());class n extends e.default{select(a){let o=!1;const l=(a??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${a}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,o,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(f,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var g;const p=[a?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${y}"; options=${p};`,f==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Dr.default=n,Dr}var f_;function wm(){if(f_)return Tr;f_=1;var t=Tr&&Tr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Tr,"__esModule",{value:!0});const e=t(aS());class n extends e.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${d}fts${f}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}}return Tr.default=n,Tr}var g_;function rS(){if(g_)return Or;g_=1;var t=Or&&Or.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Or,"__esModule",{value:!0});const e=t(wm());class n{constructor(a,{headers:o={},schema:l,fetch:u}){this.url=a,this.headers=o,this.schema=l,this.fetch=u}select(a,{head:o=!1,count:l}={}){const u=o?"HEAD":"GET";let d=!1;const f=(a??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",f),l&&(this.headers.Prefer=`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:o,defaultToNull:l=!0}={}){const u="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),o&&d.push(`count=${o}`),l||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(a)){const f=a.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(f.length>0){const g=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){const f="POST",g=[`resolution=${l?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&g.push(this.headers.Prefer),u&&g.push(`count=${u}`),d||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(a)){const p=a.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(p.length>0){const y=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:o}={}){const l="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),this.headers.Prefer=u.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const o="DELETE",l=[];return a&&l.push(`count=${a}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Or.default=n,Or}var rl={},ol={},m_;function rO(){return m_||(m_=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.version=void 0,ol.version="0.0.0-automated"),ol}var p_;function oO(){if(p_)return rl;p_=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.DEFAULT_HEADERS=void 0;const t=rO();return rl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},rl}var v_;function lO(){if(v_)return Ar;v_=1;var t=Ar&&Ar.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ar,"__esModule",{value:!0});const e=t(rS()),n=t(wm()),i=oO();class a{constructor(l,{headers:u={},schema:d,fetch:f}={}){this.url=l,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),u),this.schemaName=d,this.fetch=f}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:d=!1,get:f=!1,count:g}={}){let p;const y=new URL(`${this.url}/rpc/${l}`);let _;d||f?(p=d?"HEAD":"GET",Object.entries(u).filter(([S,x])=>x!==void 0).map(([S,x])=>[S,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([S,x])=>{y.searchParams.append(S,x)})):(p="POST",_=u);const w=Object.assign({},this.headers);return g&&(w.Prefer=`count=${g}`),new n.default({method:p,url:y,headers:w,schema:this.schemaName,body:_,fetch:this.fetch,allowEmpty:!1})}}return Ar.default=a,Ar}var y_;function cO(){if(y_)return Xt;y_=1;var t=Xt&&Xt.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.PostgrestError=Xt.PostgrestBuilder=Xt.PostgrestTransformBuilder=Xt.PostgrestFilterBuilder=Xt.PostgrestQueryBuilder=Xt.PostgrestClient=void 0;const e=t(lO());Xt.PostgrestClient=e.default;const n=t(rS());Xt.PostgrestQueryBuilder=n.default;const i=t(wm());Xt.PostgrestFilterBuilder=i.default;const a=t(aS());Xt.PostgrestTransformBuilder=a.default;const o=t(sS());Xt.PostgrestBuilder=o.default;const l=t(iS());return Xt.PostgrestError=l.default,Xt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:l.default},Xt}var uO=cO();const dO=dm(uO),{PostgrestClient:hO,PostgrestQueryBuilder:Vz,PostgrestFilterBuilder:$z,PostgrestTransformBuilder:qz,PostgrestBuilder:Gz,PostgrestError:Yz}=dO;class fO{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const gO="2.15.1",mO=`realtime-js/${gO}`,pO="1.0.0",Pg=1e4,vO=1e3,yO=100;var Cl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Cl||(Cl={}));var Bt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Bt||(Bt={}));var di;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(di||(di={}));var zg;(function(t){t.websocket="websocket"})(zg||(zg={}));var ja;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ja||(ja={}));class bO{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const a=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=i.decode(e.slice(l,l+a));l=l+a;const d=i.decode(e.slice(l,l+o));l=l+o;const f=JSON.parse(i.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:d,payload:f}}}class oS{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ut;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ut||(ut={}));const b_=(t,e,n={})=>{var i;const a=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((o,l)=>(o[l]=_O(l,t,e,a),o),{})},_O=(t,e,n,i)=>{const a=e.find(u=>u.name===t),o=a?.type,l=n[t];return o&&!i.includes(o)?lS(o,l):Ig(l)},lS=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return EO(e,n)}switch(t){case ut.bool:return wO(e);case ut.float4:case ut.float8:case ut.int2:case ut.int4:case ut.int8:case ut.numeric:case ut.oid:return SO(e);case ut.json:case ut.jsonb:return xO(e);case ut.timestamp:return CO(e);case ut.abstime:case ut.date:case ut.daterange:case ut.int4range:case ut.int8range:case ut.money:case ut.reltime:case ut.text:case ut.time:case ut.timestamptz:case ut.timetz:case ut.tsrange:case ut.tstzrange:return Ig(e);default:return Ig(e)}},Ig=t=>t,wO=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},SO=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},xO=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},EO=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let o;const l=t.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>lS(e,u))}return t},CO=t=>typeof t=="string"?t.replace(" ","T"):t,cS=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class ig{constructor(e,n,i={},a=Pg){this.channel=e,this.event=n,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var __;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(__||(__={}));class Rl{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rl.syncState(this.state,a,o,l),this.pendingDiffs.forEach(d=>{this.state=Rl.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(i.diff,{},a=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Rl.syncDiff(this.state,a,o,l),u())}),this.onJoin((a,o,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:l})}),this.onLeave((a,o,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,a){const o=this.cloneDeep(e),l=this.transformState(n),u={},d={};return this.map(o,(f,g)=>{l[f]||(d[f]=g)}),this.map(l,(f,g)=>{const p=o[f];if(p){const y=g.map(x=>x.presence_ref),_=p.map(x=>x.presence_ref),w=g.filter(x=>_.indexOf(x.presence_ref)<0),S=p.filter(x=>y.indexOf(x.presence_ref)<0);w.length>0&&(u[f]=w),S.length>0&&(d[f]=S)}else u[f]=g}),this.syncDiff(o,{joins:u,leaves:d},i,a)}static syncDiff(e,n,i,a){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(o,(u,d)=>{var f;const g=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(d),g.length>0){const p=e[u].map(_=>_.presence_ref),y=g.filter(_=>p.indexOf(_.presence_ref)<0);e[u].unshift(...y)}i(u,g,d)}),this.map(l,(u,d)=>{let f=e[u];if(!f)return;const g=d.map(p=>p.presence_ref);f=f.filter(p=>g.indexOf(p.presence_ref)<0),e[u]=f,a(u,f,d),f.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const a=e[i];return"metas"in a?n[i]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[i]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var w_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(w_||(w_={}));var Al;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Al||(Al={}));var us;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(us||(us={}));class Sm{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ig(this,di.join,this.params,this.timeout),this.rejoinTimer=new oS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(di.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Rl(this),this.broadcastEndpointURL=cS(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,d=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&a!==void 0?a:[],f=!!this.bindings[Al.PRESENCE]&&this.bindings[Al.PRESENCE].length>0,g={},p={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(us.CHANNEL_ERROR,y)),this._onClose(()=>e?.(us.CLOSED)),this.updateJoinPayload(Object.assign({config:p},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var _;if(this.socket.setAuth(),y===void 0){e?.(us.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,S=(_=w?.length)!==null&&_!==void 0?_:0,x=[];for(let C=0;C<S;C++){const A=w[C],{filter:{event:T,schema:k,table:D,filter:V}}=A,F=y&&y[C];if(F&&F.event===T&&F.schema===k&&F.table===D&&F.filter===V)x.push(Object.assign(Object.assign({},A),{id:F.id}));else{this.unsubscribe(),this.state=Bt.errored,e?.(us.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(us.SUBSCRIBED);return}}).receive("error",y=>{this.state=Bt.errored,e?.(us.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(us.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===Bt.joined&&e===Al.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,i)}async send(e,n={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,d;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Bt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(di.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new ig(this,di.leave,{},e),i.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const a=new AbortController,o=setTimeout(()=>a.abort(),i),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(o),l}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ig(this,e,n,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>yO){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var a,o;const l=e.toLocaleLowerCase(),{close:u,error:d,leave:f,join:g}=di;if(i&&[u,d,f,g].indexOf(l)>=0&&i!==this._joinRef())return;let y=this._onMessage(l,n,i);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var w,S,x;return((w=_.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(S=_.filter)===null||S===void 0?void 0:S.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===l}).map(_=>_.callback(y,i)):(o=this.bindings[l])===null||o===void 0||o.filter(_=>{var w,S,x,C,A,T;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const k=_.id,D=(w=_.filter)===null||w===void 0?void 0:w.event;return k&&((S=n.ids)===null||S===void 0?void 0:S.includes(k))&&(D==="*"||D?.toLocaleLowerCase()===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const k=(A=(C=_?.filter)===null||C===void 0?void 0:C.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return k==="*"||k===((T=n?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof y=="object"&&"ids"in y){const w=y.data,{schema:S,table:x,commit_timestamp:C,type:A,errors:T}=w;y=Object.assign(Object.assign({},{schema:S,table:x,commit_timestamp:C,eventType:A,new:{},old:{},errors:T}),this._getPayloadRecords(w))}_.callback(y,i)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const a=e.toLocaleLowerCase(),o={type:a,filter:n,callback:i};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&Sm.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(di.close,{},e)}_onError(e){this._on(di.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=b_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=b_(e.columns,e.old_record)),n}}const S_=()=>{},Ru={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RO=[1e3,2e3,5e3,1e4],AO=1e4,OO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class TO{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pg,this.transport=null,this.heartbeatIntervalMs=Ru.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=S_,this.ref=0,this.reconnectTimer=null,this.logger=S_,this.conn=null,this.sendBuffer=[],this.serializer=new bO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>Fa(async()=>{const{default:u}=await Promise.resolve().then(()=>no);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${zg.websocket}`,this.httpEndpoint=cS(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fO.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pO}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Cl.connecting:return ja.Connecting;case Cl.open:return ja.Open;case Cl.closing:return ja.Closing;default:return ja.Closed}}isConnected(){return this.connectionState()===ja.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===i);if(a)return a;{const o=new Sm(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:i,payload:a,ref:o}=e,l=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${i} (${o})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(vO,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ru.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:o,ref:l}=n,u=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${i} ${a} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(i)).forEach(f=>f._trigger(a,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(di.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${i}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([OO],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:mO};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(di.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new oS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ru.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,a,o,l,u,d,f;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Pg,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Ru.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e?.reconnectAfterMs)!==null&&u!==void 0?u:(g=>RO[g-1]||AO),this.encode=(d=e?.encode)!==null&&d!==void 0?d:((g,p)=>p(JSON.stringify(g))),this.decode=(f=e?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class xm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Vt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class DO extends xm{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fg extends xm{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var MO=function(t,e,n,i){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(g){try{f(i.next(g))}catch(p){l(p)}}function d(g){try{f(i.throw(g))}catch(p){l(p)}}function f(g){g.done?o(g.value):a(g.value).then(u,d)}f((i=i.apply(t,e||[])).next())})};const uS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fa(async()=>{const{default:i}=await Promise.resolve().then(()=>no);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},kO=()=>MO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fa(()=>Promise.resolve().then(()=>no),void 0)).Response:Response}),Ug=t=>{if(Array.isArray(t))return t.map(n=>Ug(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const a=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=Ug(i)}),e},NO=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Ua=function(t,e,n,i){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(g){try{f(i.next(g))}catch(p){l(p)}}function d(g){try{f(i.throw(g))}catch(p){l(p)}}function f(g){g.done?o(g.value):a(g.value).then(u,d)}f((i=i.apply(t,e||[])).next())})};const sg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jO=(t,e,n)=>Ua(void 0,void 0,void 0,function*(){const i=yield kO();t instanceof i&&!n?.noResolveJson?t.json().then(a=>{const o=t.status||500,l=a?.statusCode||o+"";e(new DO(sg(a),o,l))}).catch(a=>{e(new Fg(sg(a),a))}):e(new Fg(sg(t),t))}),LO=(t,e,n,i)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||!i?a:(NO(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),n))};function sc(t,e,n,i,a,o){return Ua(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(n,LO(e,i,a,o)).then(d=>{if(!d.ok)throw d;return i?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>jO(d,u,i))})})}function id(t,e,n,i){return Ua(this,void 0,void 0,function*(){return sc(t,"GET",e,n,i)})}function ji(t,e,n,i,a){return Ua(this,void 0,void 0,function*(){return sc(t,"POST",e,i,a,n)})}function Hg(t,e,n,i,a){return Ua(this,void 0,void 0,function*(){return sc(t,"PUT",e,i,a,n)})}function PO(t,e,n,i){return Ua(this,void 0,void 0,function*(){return sc(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function dS(t,e,n,i,a){return Ua(this,void 0,void 0,function*(){return sc(t,"DELETE",e,i,a,n)})}var _n=function(t,e,n,i){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(g){try{f(i.next(g))}catch(p){l(p)}}function d(g){try{f(i.throw(g))}catch(p){l(p)}}function f(g){g.done?o(g.value):a(g.value).then(u,d)}f((i=i.apply(t,e||[])).next())})};const zO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},x_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class IO{constructor(e,n={},i,a){this.url=e,this.headers=n,this.bucketId=i,this.fetch=uS(a)}uploadOrUpdate(e,n,i,a){return _n(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},x_),a);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d))):(o=i,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),a?.headers&&(u=Object.assign(Object.assign({},u),a.headers));const f=this._removeEmptyFolders(n),g=this._getFinalPath(f),p=yield(e=="PUT"?Hg:ji)(this.fetch,`${this.url}/object/${g}`,o,Object.assign({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(Vt(o))return{data:null,error:o};throw o}})}upload(e,n,i){return _n(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,a){return _n(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:x_.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.append("cacheControl",f.cacheControl)):(d=i,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType);const p=yield Hg(this.fetch,u.toString(),d,{headers:g});return{data:{path:o,fullPath:p.Key},error:null}}catch(d){if(Vt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return _n(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);n?.upsert&&(a["x-upsert"]="true");const o=yield ji(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new xm("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(i){if(Vt(i))return{data:null,error:i};throw i}})}update(e,n,i){return _n(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return _n(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Vt(a))return{data:null,error:a};throw a}})}copy(e,n,i){return _n(this,void 0,void 0,function*(){try{return{data:{path:(yield ji(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Vt(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,i){return _n(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),o=yield ji(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(a){if(Vt(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,i){return _n(this,void 0,void 0,function*(){try{const a=yield ji(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(a){if(Vt(a))return{data:null,error:a};throw a}})}download(e,n){return _n(this,void 0,void 0,function*(){const a=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),l=o?`?${o}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield id(this.fetch,`${this.url}/${a}/${u}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Vt(u))return{data:null,error:u};throw u}})}info(e){return _n(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield id(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ug(i),error:null}}catch(i){if(Vt(i))return{data:null,error:i};throw i}})}exists(e){return _n(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield PO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Vt(i)&&i instanceof Fg){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),a=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&a.push(o);const u=typeof n?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(n?.transform||{});d!==""&&a.push(d);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${i}${f}`)}}}remove(e){return _n(this,void 0,void 0,function*(){try{return{data:yield dS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Vt(n))return{data:null,error:n};throw n}})}list(e,n,i){return _n(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},zO),n),{prefix:e||""});return{data:yield ji(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(Vt(a))return{data:null,error:a};throw a}})}listV2(e,n){return _n(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield ji(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Vt(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const FO="2.11.0",UO={"X-Client-Info":`storage-js/${FO}`};var kr=function(t,e,n,i){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(g){try{f(i.next(g))}catch(p){l(p)}}function d(g){try{f(i.throw(g))}catch(p){l(p)}}function f(g){g.done?o(g.value):a(g.value).then(u,d)}f((i=i.apply(t,e||[])).next())})};class HO{constructor(e,n={},i,a){const o=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},UO),n),this.fetch=uS(i)}listBuckets(){return kr(this,void 0,void 0,function*(){try{return{data:yield id(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Vt(e))return{data:null,error:e};throw e}})}getBucket(e){return kr(this,void 0,void 0,function*(){try{return{data:yield id(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Vt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return kr(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Vt(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return kr(this,void 0,void 0,function*(){try{return{data:yield Hg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Vt(i))return{data:null,error:i};throw i}})}emptyBucket(e){return kr(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Vt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return kr(this,void 0,void 0,function*(){try{return{data:yield dS(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Vt(n))return{data:null,error:n};throw n}})}}class BO extends HO{constructor(e,n={},i,a){super(e,n,i,a)}from(e){return new IO(this.url,this.headers,e,this.fetch)}}const VO="2.55.0";let wl="";typeof Deno<"u"?wl="deno":typeof document<"u"?wl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wl="react-native":wl="node";const $O={"X-Client-Info":`supabase-js-${wl}/${VO}`},qO={headers:$O},GO={schema:"public"},YO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},WO={};var KO=function(t,e,n,i){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(g){try{f(i.next(g))}catch(p){l(p)}}function d(g){try{f(i.throw(g))}catch(p){l(p)}}function f(g){g.done?o(g.value):a(g.value).then(u,d)}f((i=i.apply(t,e||[])).next())})};const XO=t=>{let e;return t?e=t:typeof fetch>"u"?e=tS:e=fetch,(...n)=>e(...n)},QO=()=>typeof Headers>"u"?nS:Headers,ZO=(t,e,n)=>{const i=XO(n),a=QO();return(o,l)=>KO(void 0,void 0,void 0,function*(){var u;const d=(u=yield e())!==null&&u!==void 0?u:t;let f=new a(l?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),i(o,Object.assign(Object.assign({},l),{headers:f}))})};var JO=function(t,e,n,i){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(g){try{f(i.next(g))}catch(p){l(p)}}function d(g){try{f(i.throw(g))}catch(p){l(p)}}function f(g){g.done?o(g.value):a(g.value).then(u,d)}f((i=i.apply(t,e||[])).next())})};function eT(t){return t.endsWith("/")?t:t+"/"}function tT(t,e){var n,i;const{db:a,auth:o,realtime:l,global:u}=t,{db:d,auth:f,realtime:g,global:p}=e,y={db:Object.assign(Object.assign({},d),a),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},g),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(n=p?.headers)!==null&&n!==void 0?n:{}),(i=u?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>JO(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}const hS="2.71.1",Hr=30*1e3,Bg=3,ag=Bg*Hr,nT="http://localhost:9999",iT="supabase.auth.token",sT={"X-Client-Info":`gotrue-js/${hS}`},Vg="X-Supabase-Api-Version",fS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rT=600*1e3;class Em extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function De(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class oT extends Em{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function lT(t){return De(t)&&t.name==="AuthApiError"}class gS extends Em{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class sa extends Em{constructor(e,n,i,a){super(e,i,a),this.name=n,this.status=i}}class Ys extends sa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cT(t){return De(t)&&t.name==="AuthSessionMissingError"}class Au extends sa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ou extends sa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Tu extends sa{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uT(t){return De(t)&&t.name==="AuthImplicitGrantRedirectError"}class E_ extends sa{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $g extends sa{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function rg(t){return De(t)&&t.name==="AuthRetryableFetchError"}class C_ extends sa{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class qg extends sa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),R_=` 	
\r=`.split(""),dT=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<R_.length;e+=1)t[R_[e].charCodeAt(0)]=-2;for(let e=0;e<sd.length;e+=1)t[sd[e].charCodeAt(0)]=e;return t})();function A_(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(sd[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(sd[i]),e.queuedBits-=6}}function mS(t,e,n){const i=dT[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function O_(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=l=>{gT(l,i,n)};for(let l=0;l<t.length;l+=1)mS(t.charCodeAt(l),a,o);return e.join("")}function hT(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function fT(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}hT(i,e)}}function gT(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function mT(t){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)mS(t.charCodeAt(a),n,i);return new Uint8Array(e)}function pT(t){const e=[];return fT(t,n=>e.push(n)),new Uint8Array(e)}function vT(t){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};return t.forEach(a=>A_(a,n,i)),A_(null,n,i),e.join("")}function yT(t){return Math.round(Date.now()/1e3)+t}function bT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ui=()=>typeof window<"u"&&typeof document<"u",Ca={tested:!1,writable:!1},pS=()=>{if(!ui())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ca.tested)return Ca.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ca.tested=!0,Ca.writable=!0}catch{Ca.tested=!0,Ca.writable=!1}return Ca.writable};function _T(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return n.searchParams.forEach((i,a)=>{e[a]=i}),e}const vS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fa(async()=>{const{default:i}=await Promise.resolve().then(()=>no);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},wT=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Br=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ra=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},qs=async(t,e)=>{await t.removeItem(e)};class Ad{constructor(){this.promise=new Ad.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ad.promiseConstructor=Promise;function og(t){const e=t.split(".");if(e.length!==3)throw new qg("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!aT.test(e[i]))throw new qg("JWT not in base64url format");return{header:JSON.parse(O_(e[0])),payload:JSON.parse(O_(e[1])),signature:mT(e[2]),raw:{header:e[0],payload:e[1]}}}async function ST(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function xT(t,e){return new Promise((i,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await t(o);if(!e(o,null,l)){i(l);return}}catch(l){if(!e(o,l)){a(l);return}}})()})}function ET(t){return("0"+t.toString(16)).substr(-2)}function CT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let a="";for(let o=0;o<56;o++)a+=n.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,ET).join("")}async function RT(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(i);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function AT(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await RT(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nr(t,e,n=!1){const i=CT();let a=i;n&&(a+="/PASSWORD_RECOVERY"),await Br(t,`${e}-code-verifier`,a);const o=await AT(i);return[o,i===o?"plain":"s256"]}const OT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function TT(t){const e=t.headers.get(Vg);if(!e||!e.match(OT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function DT(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function MT(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jr(t){if(!kT.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lg(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function T_(t){return JSON.parse(JSON.stringify(t))}var NT=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n};const Da=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jT=[502,503,504];async function D_(t){var e;if(!wT(t))throw new $g(Da(t),0);if(jT.includes(t.status))throw new $g(Da(t),t.status);let n;try{n=await t.json()}catch(o){throw new gS(Da(o),o)}let i;const a=TT(t);if(a&&a.getTime()>=fS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new C_(Da(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Ys}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new C_(Da(n),t.status,n.weak_password.reasons);throw new oT(Da(n),t.status||500,i)}const LT=(t,e,n,i)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),n))};async function ze(t,e,n,i){var a;const o=Object.assign({},i?.headers);o[Vg]||(o[Vg]=fS["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const l=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(l.redirect_to=i.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await PT(t,e,n+u,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(d):{data:Object.assign({},d),error:null}}async function PT(t,e,n,i,a,o){const l=LT(e,i,a,o);let u;try{u=await t(n,Object.assign({},l))}catch(d){throw console.error(d),new $g(Da(d),0)}if(u.ok||await D_(u),i?.noResolveJson)return u;try{return await u.json()}catch(d){await D_(d)}}function os(t){var e;let n=null;UT(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=yT(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function M_(t){const e=os(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ks(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function zT(t){return{data:t,error:null}}function IT(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:o}=t,l=NT(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:o},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function FT(t){return t}function UT(t){return t.access_token&&t.refresh_token&&t.expires_in}const cg=["global","local","others"];var HT=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n};class BT{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=vS(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=cg[0]){if(cg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cg.join(", ")}`);try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(De(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ks})}catch(i){if(De(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=HT(e,["options"]),a=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:IT,redirectTo:n?.redirectTo})}catch(n){if(De(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ks})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,a,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},g=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:FT});if(g.error)throw g.error;const p=await g.json(),y=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);f[`${x}Page`]=S}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(De(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){jr(e);try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ks})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){jr(e);try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ks})}catch(i){if(De(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){jr(e);try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ks})}catch(i){if(De(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){jr(e.userId);try{const{data:n,error:i}=await ze(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:i}}catch(n){if(De(n))return{data:null,error:n};throw n}}async _deleteFactor(e){jr(e.userId),jr(e.id);try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}}function k_(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function VT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Lr={debug:!!(globalThis&&pS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $T extends yS{}async function qT(t,e,n){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $T(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Lr.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}VT();const GT={url:nT,storageKey:iT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function N_(t,e,n){return await n()}const Pr={};class Hl{constructor(e){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hl.nextInstanceID,Hl.nextInstanceID+=1,this.instanceID>0&&ui()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},GT),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new BT({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=vS(a.fetch),this.lock=a.lock||N_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:ui()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=qT:this.lock=N_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:pS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=k_(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=k_(this.memoryStorage)),ui()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Pr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Pr[this.storageKey]=Object.assign(Object.assign({},Pr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Pr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Pr[this.storageKey]=Object.assign(Object.assign({},Pr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hS}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=_T(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),ui()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:o}=await this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),uT(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return De(n)?{error:n}:{error:new gS("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,a;try{const o=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:os}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(o){if(De(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var n,i,a;try{let o;if("email"in e){const{email:g,password:p,options:y}=e;let _=null,w=null;this.flowType==="pkce"&&([_,w]=await Nr(this.storage,this.storageKey)),o=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:g,password:p,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:_,code_challenge_method:w},xform:os})}else if("phone"in e){const{phone:g,password:p,options:y}=e;o=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:p,data:(i=y?.data)!==null&&i!==void 0?i:{},channel:(a=y?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:os})}else throw new Ou("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(o){if(De(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:l,options:u}=e;n=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:M_})}else if("phone"in e){const{phone:o,password:l,options:u}=e;n=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:M_})}else throw new Ou("You must provide either an email or phone number and a password");const{data:i,error:a}=n;return a?{data:{user:null,session:null},error:a}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Au}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(n){if(De(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,i,a,o,l,u,d,f,g,p,y,_;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:x,wallet:C,statement:A,options:T}=e;let k;if(ui())if(typeof C=="object")k=C;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))k=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=C}const D=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const V=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),A?{statement:A}:null));let F;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")F=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)F=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)w=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),S=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${D.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(a=(i=T?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=T?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((l=T?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((u=T?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((p=(g=T?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||p===void 0)&&p.length?["Resources",...T.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const V=await k.signMessage(new TextEncoder().encode(w),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=V}}try{const{data:x,error:C}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:vT(S)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:os});if(C)throw C;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Au}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:C})}catch(x){if(De(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const n=await Ra(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(n??"").split("/");try{const{data:o,error:l}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:os});if(await qs(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Au}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:l})}catch(o){if(De(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:n,provider:i,token:a,access_token:o,nonce:l}=e,u=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:os}),{data:d,error:f}=u;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Au}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(n){if(De(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,a,o,l;try{if("email"in e){const{email:u,options:d}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Nr(this.storage,this.storageKey));const{error:p}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:u,options:d}=e,{data:f,error:g}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f?.message_id},error:g}}throw new Ou("You must provide either an email or phone number.")}catch(u){if(De(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,i;try{let a,o;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:u}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:os});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(a){if(De(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var n,i,a;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await Nr(this.storage,this.storageKey)),await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:zT})}catch(o){if(De(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new Ys;const{error:a}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(De(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:o}=e,{error:l}=await ze(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:i,type:a,options:o}=e,{data:l,error:u}=await ze(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:u}}throw new Ou("You must provide either an email or phone number and a type")}catch(n){if(De(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ra(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<ag:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const l=await Ra(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=lg()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,f,g)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,g))})}return{data:{session:e},error:null}}const{session:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ks}):await this._useSession(async n=>{var i,a,o;const{data:l,error:u}=n;if(u)throw u;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ys}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Ks})})}catch(n){if(De(n))return cT(n)&&(await this._removeSession(),await qs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:a,error:o}=i;if(o)throw o;if(!a.session)throw new Ys;const l=a.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await Nr(this.storage,this.storageKey));const{data:f,error:g}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:Ks});if(g)throw g;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(i){if(De(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ys;const n=Date.now()/1e3;let i=n,a=!0,o=null;const{payload:l}=og(e.access_token);if(l.exp&&(i=l.exp,a=i<=n),a){const{session:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(De(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:l,error:u}=n;if(u)throw u;e=(i=l.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Ys;const{session:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(De(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ui())throw new Tu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Tu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new E_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Tu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new E_("No code detected.");const{data:A,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:o,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=e;if(!o||!u||!l||!f)throw new Tu("No session defined in URL");const g=Math.round(Date.now()/1e3),p=parseInt(u);let y=g+p;d&&(y=parseInt(d));const _=y-g;_*1e3<=Hr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${p}s`);const w=y-p;g-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,y,g):g-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,y,g);const{data:S,error:x}=await this._getUser(o);if(x)throw x;const C={provider_token:i,provider_refresh_token:a,access_token:o,expires_in:p,expires_at:y,refresh_token:l,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(i){if(De(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ra(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:a,error:o}=n;if(o)return{error:o};const l=(i=a.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(lT(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await qs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=bT(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,a;try{const{data:{session:o},error:l}=n;if(l)throw l;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Nr(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(De(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:a}=await this._useSession(async o=>{var l,u,d,f,g;const{data:p,error:y}=o;if(y)throw y;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return ui()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(De(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,a;const{data:o,error:l}=n;if(l)throw l;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await xT(async a=>(a>0&&await ST(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:os})),(a,o)=>{const l=200*Math.pow(2,a);return o&&rg(o)&&Date.now()+l-i<Hr})}catch(i){if(this._debug(n,"error",i),De(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),ui()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await Ra(this.storage,this.storageKey);if(a&&this.userStorage){let l=await Ra(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Br(this.userStorage,this.storageKey+"-user",l)),a.user=(e=l?.user)!==null&&e!==void 0?e:lg()}else if(a&&!a.user&&!a.user){const l=await Ra(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await qs(this.storage,this.storageKey+"-user"),await Br(this.storage,this.storageKey,a)):a.user=lg()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const o=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ag;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${ag}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),rg(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(a.access_token);!u&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new Ys;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ad;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new Ys;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={session:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(a,"error",o),De(o)){const l={session:null,error:o};return rg(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Br(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const o=T_(a);await Br(this.storage,this.storageKey,o)}else{const a=T_(n);await Br(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await qs(this.storage,this.storageKey),await qs(this.storage,this.storageKey+"-code-verifier"),await qs(this.storage,this.storageKey+"-user"),this.userStorage&&await qs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ui()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Hr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Hr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Hr}ms, refresh threshold is ${Bg} ticks`),a<=Bg&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yS)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ui()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const a=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,l]=await Nr(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(u.toString())}if(i?.queryParams){const o=new URLSearchParams(i.queryParams);a.push(o.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:a,error:o}=n;return o?{data:null,error:o}:await ze(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,a;const{data:o,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:f}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:u}=await ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(n){if(De(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:o}=n;return o?{data:null,error:o}:await ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(De(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=e?.factors||[],a=i.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=i.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:i,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:a},error:o}=e;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=og(a.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((i=(n=a.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const g=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(u=>u.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(u=>u.kid===e),i&&this.jwks_cached_at+rT>a)return i;const{data:o,error:l}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,i=o.keys.find(u=>u.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:_,error:w}=await this.getSession();if(w||!_.session)return{data:null,error:w};i=_.session.access_token}const{header:a,payload:o,signature:l,raw:{header:u,payload:d}}=og(i);n?.allowExpired||DT(o.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:o,header:a,signature:l},error:null}}const g=MT(a.alg),p=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,p,l,pT(`${u}.${d}`)))throw new qg("Invalid JWT signature");return{data:{claims:o,header:a,signature:l},error:null}}catch(i){if(De(i))return{data:null,error:i};throw i}}}Hl.nextInstanceID=0;const YT=Hl;class WT extends YT{constructor(e){super(e)}}var KT=function(t,e,n,i){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(g){try{f(i.next(g))}catch(p){l(p)}}function d(g){try{f(i.throw(g))}catch(p){l(p)}}function f(g){g.done?o(g.value):a(g.value).then(u,d)}f((i=i.apply(t,e||[])).next())})};class XT{constructor(e,n,i){var a,o,l;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=eT(e),d=new URL(u);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:GO,realtime:WO,auth:Object.assign(Object.assign({},YO),{storageKey:f}),global:qO},p=tT(i??{},g);this.storageKey=(a=p.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=ZO(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new hO(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new BO(this.storageUrl.href,this.headers,this.fetch,i?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new eO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return KT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:a,storageKey:o,flowType:l,lock:u,debug:d},f,g){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new WT({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:a,flowType:l,lock:u,debug:d,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new TO(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const QT=(t,e,n)=>new XT(t,e,n);function ZT(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ZT()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const JT="https://jyrfznujcyqskpfthrsf.supabase.co",e1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp5cmZ6bnVqY3lxc2twZnRocnNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwODM1OTMsImV4cCI6MjA3MDY1OTU5M30.JOZLGHslSQO7wDeFSq7FHAV6_VNtD9DS-gMNUu4rEnM",at=QT(JT,e1,{auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}}),rn=(t,e="")=>t.code==="23505"?"This record already exists":t.code==="23503"?"Cannot perform this operation due to related records":t.code==="PGRST116"?"No records found":t.message?.includes("JWT")?"Authentication error. Please refresh the page":t.message||"An unexpected error occurred",zt={PRINTING:"STAMPA",PACKAGING:"CONFEZIONAMENTO"},Re={ZANICA:"ZANICA",BUSTO_GAROLFO:"BUSTO_GAROLFO",BOTH:"BOTH"},ti={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",MAINTENANCE:"MAINTENANCE"},$r={CREMA:"crema",LIQUIDO:"liquido",POLVERI:"polveri"},ki={T1:"T1",T2:"T2",T3:"T3"},Bl={THREE:"3",FOUR:"4"},j_={END_DATE_BEFORE_START:"End date cannot be before start date",END_TIME_BEFORE_START:"End time must be after start time when dates are the same"},bt={MACHINE:{DEPARTMENT:zt.PRINTING,WORK_CENTER:Re.ZANICA,MIN_WEB_WIDTH:"100",MAX_WEB_WIDTH:"1000",MIN_BAG_HEIGHT:"50",MAX_BAG_HEIGHT:"500",SETUP_TIME_STANDARD:"0.5",CHANGEOVER_COLOR:"0.25",CHANGEOVER_MATERIAL:"0.75",ACTIVE_SHIFTS:[ki.T1],STATUS:ti.ACTIVE},PHASE:{DEPARTMENT:zt.PRINTING,NUMERO_PERSONE:1,WORK_CENTER:Re.ZANICA,V_STAMPA:6e3,T_SETUP_STAMPA:.5,COSTO_H_STAMPA:50,V_CONF:1e3,T_SETUP_CONF:.25,COSTO_H_CONF:40},ORDER:{SEAL_SIDES:Bl.THREE,QUANTITY_COMPLETED:0},OFF_TIME:{START_TIME:"09:00",END_TIME:"17:00"}},ll={DECIMAL_PRECISION:{ONE_DECIMAL:["setup_time_standard","changeover_color","changeover_material","t_setup_stampa","t_setup_conf"],TWO_DECIMAL:["costo_h_stampa","costo_h_conf"]},FIELD_STEPS:{TIME:.1,COST:.01}},bS=R.createContext(),t1=({children:t})=>{const[e,n]=R.useState(null),[i,a]=R.useState(null),[o,l]=R.useState(!0),[u,d]=R.useState(null);R.useEffect(()=>{(async()=>{try{const{data:{session:A},error:T}=await at.auth.getSession();T?d("Failed to initialize authentication"):(a(A),n(A?.user??null))}catch{d("Failed to initialize authentication")}finally{l(!1)}})();const{data:{subscription:C}}=at.auth.onAuthStateChange(async(A,T)=>{a(T),n(T?.user??null),l(!1),d(null)});return()=>C.unsubscribe()},[]);const S={user:e,session:i,loading:o,error:u,signIn:async(x,C)=>{try{d(null),l(!0);const{data:A,error:T}=await at.auth.signInWithPassword({email:x,password:C});if(T)throw T;return{success:!0,user:A.user}}catch(A){return d(A.message),{success:!1,error:A.message}}finally{l(!1)}},signUp:async(x,C,A={})=>{try{d(null),l(!0);const{data:T,error:k}=await at.auth.signUp({email:x,password:C,options:{data:A}});if(k)throw k;return{success:!0,user:T.user}}catch(T){return d(T.message),{success:!1,error:T.message}}finally{l(!1)}},signOut:async()=>{try{d(null),l(!0);const{error:x}=await at.auth.signOut();if(x)throw x;return{success:!0}}catch(x){return d(x.message),{success:!1,error:x.message}}finally{l(!1)}},resetPassword:async x=>{try{d(null),l(!0);const{error:C}=await at.auth.resetPasswordForEmail(x,{redirectTo:`${window.location.origin}/reset-password`});if(C)throw C;return{success:!0}}catch(C){return d(C.message),{success:!1,error:C.message}}finally{l(!1)}},updateProfile:async x=>{try{d(null),l(!0);const{data:C,error:A}=await at.auth.updateUser({data:x});if(A)throw A;return{success:!0,user:C.user}}catch(C){return d(C.message),{success:!1,error:C.message}}finally{l(!1)}},getUserProfile:async()=>{if(!e)return null;try{const{data:x,error:C}=await at.from("profiles").select("*").eq("id",e.id).single();return C?null:x}catch{return null}},isAuthenticated:!!e};return b.jsx(bS.Provider,{value:S,children:t})},ac=()=>{const t=R.useContext(bS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},L_=t=>{let e;const n=new Set,i=(f,g)=>{const p=typeof f=="function"?f(e):f;if(!Object.is(p,e)){const y=e;e=g??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(_=>_(e,y))}},a=()=>e,u={setState:i,getState:a,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=e=t(i,a,u);return u},n1=(t=>t?L_(t):L_),i1=t=>t;function s1(t,e=i1){const n=Me.useSyncExternalStore(t.subscribe,Me.useCallback(()=>e(t.getState()),[t,e]),Me.useCallback(()=>e(t.getInitialState()),[t,e]));return Me.useDebugValue(n),n}const P_=t=>{const e=n1(t),n=i=>s1(e,i);return Object.assign(n,e),n},io=(t=>t?P_(t):P_);class fn extends Error{constructor(e,n="GENERIC_ERROR",i=500,a=null,o=""){super(e),this.name="AppError",this.code=n,this.statusCode=i,this.originalError=a,this.context=o,this.timestamp=new Date().toISOString(),this.id=this.generateErrorId(),this.userMessage=this.getUserFriendlyMessage()}generateErrorId(){return`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getUserFriendlyMessage(){return a1(this)}toJSON(){return{id:this.id,message:this.message,code:this.code,statusCode:this.statusCode,context:this.context,timestamp:this.timestamp,userMessage:this.userMessage,stack:this.stack}}}const Ie={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",NOT_FOUND_ERROR:"NOT_FOUND_ERROR",SERVER_ERROR:"SERVER_ERROR",CLIENT_ERROR:"CLIENT_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",TIMEOUT_ERROR:"TIMEOUT_ERROR",RATE_LIMIT_ERROR:"RATE_LIMIT_ERROR"},Qs={LOW:"low",MEDIUM:"medium",HIGH:"high",CRITICAL:"critical"},Bn=(t,e="")=>{if(t instanceof fn)return t;if(t?.code)switch(t.code){case"23505":return new fn("This record already exists",Ie.VALIDATION_ERROR,409,t,e);case"23503":return new fn("Cannot delete this record as it is referenced by other data",Ie.VALIDATION_ERROR,400,t,e);case"PGRST116":return new fn("Record not found",Ie.NOT_FOUND_ERROR,404,t,e);case"PGRST301":return new fn("Session expired. Please log in again.",Ie.AUTHENTICATION_ERROR,401,t,e);case"PGRST302":return new fn("Invalid session. Please log in again.",Ie.AUTHENTICATION_ERROR,401,t,e);case"PGRST303":return new fn("Authentication required. Please log in.",Ie.AUTHENTICATION_ERROR,401,t,e);default:return new fn(t.message||"An unexpected error occurred",Ie.SERVER_ERROR,500,t,e)}return t.name==="NetworkError"||t.message?.includes("fetch")||t.message?.includes("network")?new fn("Network error. Please check your connection and try again.",Ie.NETWORK_ERROR,0,t,e):t.name==="TimeoutError"||t.message?.includes("timeout")?new fn("Request timed out. Please try again.",Ie.TIMEOUT_ERROR,408,t,e):t.status===429||t.message?.includes("rate limit")?new fn("Too many requests. Please wait a moment and try again.",Ie.RATE_LIMIT_ERROR,429,t,e):t.name==="ValidationError"||t.message?.includes("validation")?new fn(t.message,Ie.VALIDATION_ERROR,400,t,e):t.message?.includes("Cannot add")||t.message?.includes("work center")?new fn(t.message,Ie.BUSINESS_LOGIC_ERROR,400,t,e):new fn(t.message||"An unexpected error occurred",Ie.CLIENT_ERROR,t.status||500,t,e)},hi=(t,e="")=>({id:t.id||`ERR_${Date.now()}`,message:t.message,code:t.code||"UNKNOWN_ERROR",context:e,timestamp:new Date().toISOString(),url:typeof window<"u"?window.location.href:"server",userAgent:typeof navigator<"u"?navigator.userAgent:"server",stack:t.stack,severity:_S(t)}),_S=t=>t.code===Ie.AUTHENTICATION_ERROR||t.code===Ie.AUTHORIZATION_ERROR?Qs.HIGH:t.code===Ie.NETWORK_ERROR||t.code===Ie.SERVER_ERROR?Qs.MEDIUM:t.code===Ie.VALIDATION_ERROR||t.code===Ie.BUSINESS_LOGIC_ERROR?Qs.LOW:Qs.MEDIUM,Cm=t=>e=>{const n=Bn(e,t);return hi(n,t),n},a1=t=>{switch(t.code){case Ie.NETWORK_ERROR:return"Please check your internet connection and try again.";case Ie.AUTHENTICATION_ERROR:return"Please log in to continue.";case Ie.AUTHORIZATION_ERROR:return"You don't have permission to perform this action.";case Ie.NOT_FOUND_ERROR:return"The requested item was not found.";case Ie.VALIDATION_ERROR:return"Please check your input and try again.";case Ie.BUSINESS_LOGIC_ERROR:return t.message||"This operation cannot be completed.";case Ie.TIMEOUT_ERROR:return"The request took too long. Please try again.";case Ie.RATE_LIMIT_ERROR:return"Too many requests. Please wait a moment and try again.";default:return"Something went wrong. Please try again or contact support if the problem persists."}},z_=async(t,e=3,n=1e3)=>{let i;for(let a=1;a<=e;a++)try{return await t()}catch(o){if(i=o,o.code===Ie.VALIDATION_ERROR||o.code===Ie.AUTHORIZATION_ERROR||o.code===Ie.BUSINESS_LOGIC_ERROR)throw o;a<e&&(await new Promise(l=>setTimeout(l,n)),n*=2)}throw i},Gg=(t,e="")=>async(...n)=>{try{return await t(...n)}catch(i){const a=Bn(i,e);throw hi(a,e),a}},wS=6048e5,r1=864e5,SS=6e4,Rm=36e5,I_=Symbol.for("constructDateFrom");function bi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&I_ in t?t[I_](e):t instanceof Date?new t.constructor(e):new Date(e)}function mt(t,e){return bi(e||t,t)}function o1(t,e,n){const i=mt(t,n?.in);return isNaN(e)?bi(t,NaN):(e&&i.setDate(i.getDate()+e),i)}function l1(t,e,n){return bi(t,+mt(t)+e)}function c1(t,e,n){return l1(t,e*Rm)}let u1={};function Od(){return u1}function Kr(t,e){const n=Od(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=mt(t,e?.in),o=a.getDay(),l=(o<i?7:0)+o-i;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function ad(t,e){return Kr(t,{...e,weekStartsOn:1})}function xS(t,e){const n=mt(t,e?.in),i=n.getFullYear(),a=bi(n,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const o=ad(a),l=bi(n,0);l.setFullYear(i,0,4),l.setHours(0,0,0,0);const u=ad(l);return n.getTime()>=o.getTime()?i+1:n.getTime()>=u.getTime()?i:i-1}function F_(t){const e=mt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ES(t,...e){const n=bi.bind(null,e.find(i=>typeof i=="object"));return e.map(n)}function Vl(t,e){const n=mt(t,e?.in);return n.setHours(0,0,0,0),n}function d1(t,e,n){const[i,a]=ES(n?.in,t,e),o=Vl(i),l=Vl(a),u=+o-F_(o),d=+l-F_(l);return Math.round((u-d)/r1)}function h1(t,e){const n=xS(t,e),i=bi(t,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),ad(i)}function f1(t,e,n){const[i,a]=ES(n?.in,t,e);return+Vl(i)==+Vl(a)}function g1(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function m1(t){return!(!g1(t)&&typeof t!="number"||isNaN(+mt(t)))}function p1(t,e){const n=mt(t,e?.in);return n.setHours(23,59,59,999),n}function v1(t,e){const n=mt(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function y1(t,e){const n=e?.weekStartsOn,i=mt(t,e?.in),a=i.getDay(),o=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const b1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_1=(t,e,n)=>{let i;const a=b1[t];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function ug(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const w1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},S1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},x1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},E1={date:ug({formats:w1,defaultWidth:"full"}),time:ug({formats:S1,defaultWidth:"full"}),dateTime:ug({formats:x1,defaultWidth:"full"})},C1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},R1=(t,e,n,i)=>C1[t];function cl(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let a;if(i==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,u=n?.width?String(n.width):l;a=t.formattingValues[u]||t.formattingValues[l]}else{const l=t.defaultWidth,u=n?.width?String(n.width):t.defaultWidth;a=t.values[u]||t.values[l]}const o=t.argumentCallback?t.argumentCallback(e):e;return a[o]}}const A1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},O1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},T1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},D1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},M1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},k1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},N1=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},j1={ordinalNumber:N1,era:cl({values:A1,defaultWidth:"wide"}),quarter:cl({values:O1,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cl({values:T1,defaultWidth:"wide"}),day:cl({values:D1,defaultWidth:"wide"}),dayPeriod:cl({values:M1,defaultWidth:"wide",formattingValues:k1,defaultFormattingWidth:"wide"})};function ul(t){return(e,n={})=>{const i=n.width,a=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],o=e.match(a);if(!o)return null;const l=o[0],u=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(u)?P1(u,p=>p.test(l)):L1(u,p=>p.test(l));let f;f=t.valueCallback?t.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const g=e.slice(l.length);return{value:f,rest:g}}}function L1(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function P1(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function z1(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const a=i[0],o=e.match(t.parsePattern);if(!o)return null;let l=t.valueCallback?t.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const u=e.slice(a.length);return{value:l,rest:u}}}const I1=/^(\d+)(th|st|nd|rd)?/i,F1=/\d+/i,U1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},H1={any:[/^b/i,/^(a|c)/i]},B1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},V1={any:[/1/i,/2/i,/3/i,/4/i]},$1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},q1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},G1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Y1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},W1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},K1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},X1={ordinalNumber:z1({matchPattern:I1,parsePattern:F1,valueCallback:t=>parseInt(t,10)}),era:ul({matchPatterns:U1,defaultMatchWidth:"wide",parsePatterns:H1,defaultParseWidth:"any"}),quarter:ul({matchPatterns:B1,defaultMatchWidth:"wide",parsePatterns:V1,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ul({matchPatterns:$1,defaultMatchWidth:"wide",parsePatterns:q1,defaultParseWidth:"any"}),day:ul({matchPatterns:G1,defaultMatchWidth:"wide",parsePatterns:Y1,defaultParseWidth:"any"}),dayPeriod:ul({matchPatterns:W1,defaultMatchWidth:"any",parsePatterns:K1,defaultParseWidth:"any"})},Q1={code:"en-US",formatDistance:_1,formatLong:E1,formatRelative:R1,localize:j1,match:X1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Z1(t,e){const n=mt(t,e?.in);return d1(n,v1(n))+1}function J1(t,e){const n=mt(t,e?.in),i=+ad(n)-+h1(n);return Math.round(i/wS)+1}function CS(t,e){const n=mt(t,e?.in),i=n.getFullYear(),a=Od(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=bi(e?.in||t,0);l.setFullYear(i+1,0,o),l.setHours(0,0,0,0);const u=Kr(l,e),d=bi(e?.in||t,0);d.setFullYear(i,0,o),d.setHours(0,0,0,0);const f=Kr(d,e);return+n>=+u?i+1:+n>=+f?i:i-1}function eD(t,e){const n=Od(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=CS(t,e),o=bi(e?.in||t,0);return o.setFullYear(a,0,i),o.setHours(0,0,0,0),Kr(o,e)}function tD(t,e){const n=mt(t,e?.in),i=+Kr(n,e)-+eD(n,e);return Math.round(i/wS)+1}function Xe(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const Gs={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return Xe(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Xe(n+1,2)},d(t,e){return Xe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Xe(t.getHours()%12||12,e.length)},H(t,e){return Xe(t.getHours(),e.length)},m(t,e){return Xe(t.getMinutes(),e.length)},s(t,e){return Xe(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),a=Math.trunc(i*Math.pow(10,n-3));return Xe(a,e.length)}},zr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},U_={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return Gs.y(t,e)},Y:function(t,e,n,i){const a=CS(t,i),o=a>0?a:1-a;if(e==="YY"){const l=o%100;return Xe(l,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Xe(o,e.length)},R:function(t,e){const n=xS(t);return Xe(n,e.length)},u:function(t,e){const n=t.getFullYear();return Xe(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Xe(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Xe(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return Gs.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return Xe(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const a=tD(t,i);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):Xe(a,e.length)},I:function(t,e,n){const i=J1(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):Xe(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Gs.d(t,e)},D:function(t,e,n){const i=Z1(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Xe(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const a=t.getDay(),o=(a-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Xe(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const a=t.getDay(),o=(a-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Xe(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),a=i===0?7:i;switch(e){case"i":return String(a);case"ii":return Xe(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let a;switch(i===12?a=zr.noon:i===0?a=zr.midnight:a=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let a;switch(i>=17?a=zr.evening:i>=12?a=zr.afternoon:i>=4?a=zr.morning:a=zr.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Gs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Gs.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Xe(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):Xe(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Gs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Gs.s(t,e)},S:function(t,e){return Gs.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return B_(i);case"XXXX":case"XX":return Ma(i);case"XXXXX":case"XXX":default:return Ma(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return B_(i);case"xxxx":case"xx":return Ma(i);case"xxxxx":case"xxx":default:return Ma(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+H_(i,":");case"OOOO":default:return"GMT"+Ma(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+H_(i,":");case"zzzz":default:return"GMT"+Ma(i,":")}},t:function(t,e,n){const i=Math.trunc(+t/1e3);return Xe(i,e.length)},T:function(t,e,n){return Xe(+t,e.length)}};function H_(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),a=Math.trunc(i/60),o=i%60;return o===0?n+String(a):n+String(a)+e+Xe(o,2)}function B_(t,e){return t%60===0?(t>0?"-":"+")+Xe(Math.abs(t)/60,2):Ma(t,e)}function Ma(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),a=Xe(Math.trunc(i/60),2),o=Xe(i%60,2);return n+a+e+o}const V_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},RS=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},nD=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return V_(t,e);let o;switch(i){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",V_(i,e)).replace("{{time}}",RS(a,e))},iD={p:RS,P:nD},sD=/^D+$/,aD=/^Y+$/,rD=["D","DD","YY","YYYY"];function oD(t){return sD.test(t)}function lD(t){return aD.test(t)}function cD(t,e,n){const i=uD(t,e,n);if(console.warn(i),rD.includes(t))throw new RangeError(i)}function uD(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fD=/^'([^]*?)'?$/,gD=/''/g,mD=/[a-zA-Z]/;function pD(t,e,n){const i=Od(),a=i.locale??Q1,o=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,u=mt(t,n?.in);if(!m1(u))throw new RangeError("Invalid time value");let d=e.match(hD).map(g=>{const p=g[0];if(p==="p"||p==="P"){const y=iD[p];return y(g,a.formatLong)}return g}).join("").match(dD).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:vD(g)};if(U_[p])return{isToken:!0,value:g};if(p.match(mD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(d=a.localize.preprocessor(u,d));const f={firstWeekContainsDate:o,weekStartsOn:l,locale:a};return d.map(g=>{if(!g.isToken)return g.value;const p=g.value;(lD(p)||oD(p))&&cD(p,e,String(t));const y=U_[p[0]];return y(u,p,a.localize,f)}).join("")}function vD(t){const e=t.match(fD);return e?e[1].replace(gD,"'"):t}function yD(t,e){return+mt(t)>+mt(e)}function bD(t,e){return+mt(t)<+mt(e)}function Du(t,e){const n=()=>bi(e?.in,NaN),a=xD(t);let o;if(a.date){const f=ED(a.date,2);o=CD(f.restDateString,f.year)}if(!o||isNaN(+o))return n();const l=+o;let u=0,d;if(a.time&&(u=RD(a.time),isNaN(u)))return n();if(a.timezone){if(d=AD(a.timezone),isNaN(d))return n()}else{const f=new Date(l+u),g=mt(0,e?.in);return g.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),g.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),g}return mt(l+u+d,e?.in)}const Mu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},_D=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,wD=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,SD=/^([+-])(\d{2})(?::?(\d{2}))?$/;function xD(t){const e={},n=t.split(Mu.dateTimeDelimiter);let i;if(n.length>2)return e;if(/:/.test(n[0])?i=n[0]:(e.date=n[0],i=n[1],Mu.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Mu.timeZoneDelimiter)[0],i=t.substr(e.date.length,t.length))),i){const a=Mu.timezone.exec(i);a?(e.time=i.replace(a[1],""),e.timezone=a[1]):e.time=i}return e}function ED(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=t.match(n);if(!i)return{year:NaN,restDateString:""};const a=i[1]?parseInt(i[1]):null,o=i[2]?parseInt(i[2]):null;return{year:o===null?a:o*100,restDateString:t.slice((i[1]||i[2]).length)}}function CD(t,e){if(e===null)return new Date(NaN);const n=t.match(_D);if(!n)return new Date(NaN);const i=!!n[4],a=dl(n[1]),o=dl(n[2])-1,l=dl(n[3]),u=dl(n[4]),d=dl(n[5])-1;if(i)return kD(e,u,d)?OD(e,u,d):new Date(NaN);{const f=new Date(0);return!DD(e,o,l)||!MD(e,a)?new Date(NaN):(f.setUTCFullYear(e,o,Math.max(a,l)),f)}}function dl(t){return t?parseInt(t):1}function RD(t){const e=t.match(wD);if(!e)return NaN;const n=dg(e[1]),i=dg(e[2]),a=dg(e[3]);return ND(n,i,a)?n*Rm+i*SS+a*1e3:NaN}function dg(t){return t&&parseFloat(t.replace(",","."))||0}function AD(t){if(t==="Z")return 0;const e=t.match(SD);if(!e)return 0;const n=e[1]==="+"?-1:1,i=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return jD(i,a)?n*(i*Rm+a*SS):NaN}function OD(t,e,n){const i=new Date(0);i.setUTCFullYear(t,0,4);const a=i.getUTCDay()||7,o=(e-1)*7+n+1-a;return i.setUTCDate(i.getUTCDate()+o),i}const TD=[31,null,31,30,31,30,31,31,30,31,30,31];function AS(t){return t%400===0||t%4===0&&t%100!==0}function DD(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(TD[e]||(AS(t)?29:28))}function MD(t,e){return e>=1&&e<=(AS(t)?366:365)}function kD(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function ND(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function jD(t,e){return e>=0&&e<=59}function $_(t,e,n){const i=mt(t,n?.in);return i.setHours(e),i}function q_(t,e,n){const i=mt(t,n?.in);return i.setMilliseconds(e),i}function G_(t,e,n){const i=mt(t,n?.in);return i.setMinutes(e),i}function Y_(t,e,n){const i=mt(t,n?.in);return i.setSeconds(e),i}function mn(t){return pD(t,"yyyy-MM-dd")}function LD(t,e,n){if(!t.scheduled_start_time||!t.scheduled_end_time)return!1;const i=Du(t.scheduled_start_time),a=Du(t.scheduled_end_time),o=q_(Y_(G_($_(Du(e),n),0),0),0),l=q_(Y_(G_($_(Du(e),n+1),0),0),0);return bD(i,l)&&yD(a,o)}function OS(t){return Kr(t,{weekStartsOn:0})}function PD(t){return y1(t,{weekStartsOn:0})}function Wz(t){return Vl(t)}function Kz(t){return p1(t)}function Xz(t,e){return f1(t,e)}function W_(t,e){return c1(t,e)}function $l(t,e){return o1(t,e)}class zD{async init(){try{const{error:e}=await at.from("machines").select("count").limit(1);if(e)throw new Error(`API initialization failed: ${e.message}`);return!0}catch(e){throw e}}async getMachines(){return Gg(async()=>{const{data:e,error:n}=await at.from("machines").select("*").order("machine_name");if(n)throw n;return e||[]},"getMachines")()}async addMachine(e){try{const{data:n,error:i}=await at.from("machines").insert([e]).select().single();if(i)throw i;return n}catch(n){throw new Error(`Failed to add machine: ${rn(n)}`)}}async updateMachine(e,n){try{const{data:i,error:a}=await at.from("machines").update(n).eq("id",e).select().single();if(a)throw a;return i}catch(i){throw new Error(`Failed to update machine: ${rn(i)}`)}}async removeMachine(e){try{const{error:n}=await at.from("machines").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new Error(`Failed to remove machine: ${rn(n)}`)}}async getOdpOrders(){try{const{data:e,error:n}=await at.from("odp_orders").select("*").order("created_at",{ascending:!1});if(n)throw n;return e||[]}catch(e){throw new Error(`Failed to fetch ODP orders: ${rn(e)}`)}}async addOdpOrder(e){try{const{data:n,error:i}=await at.from("odp_orders").insert([e]).select().single();if(i)throw i;return n}catch(n){throw new Error(`Failed to add ODP order: ${rn(n)}`)}}async updateOdpOrder(e,n){try{const{data:i,error:a}=await at.from("odp_orders").update(n).eq("id",e).select().single();if(a)throw a;return i}catch(i){throw new Error(`Failed to update ODP order: ${rn(i)}`)}}async removeOdpOrder(e){try{const{error:n}=await at.from("odp_orders").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new Error(`Failed to remove ODP order: ${rn(n)}`)}}async getPhases(){try{const{data:e,error:n}=await at.from("phases").select("*").order("name");if(n)throw n;return e||[]}catch(e){throw new Error(`Failed to fetch phases: ${rn(e)}`)}}async addPhase(e){try{const{data:n,error:i}=await at.from("phases").insert([e]).select().single();if(i)throw i;return n}catch(n){throw new Error(`Failed to add phase: ${rn(n)}`)}}async updatePhase(e,n){try{const{data:i,error:a}=await at.from("phases").update(n).eq("id",e).select().single();if(a)throw a;return i}catch(i){throw new Error(`Failed to update phase: ${rn(i)}`)}}async removePhase(e){try{const{error:n}=await at.from("phases").delete().eq("id",e);if(n)throw n;return!0}catch(n){throw new Error(`Failed to remove phase: ${rn(n)}`)}}async getMachineAvailabilityForDateRange(e,n,i){try{const{data:a,error:o}=await at.from("machine_availability").select("*").eq("machine_id",e).gte("date",n).lte("date",i).order("date");if(o)throw o;return a||[]}catch(a){throw new Error(`Failed to fetch machine availability for date range: ${rn(a)}`)}}async getMachineAvailabilityForDate(e,n){try{const{data:i,error:a}=await at.from("machine_availability").select("*").eq("machine_id",e).eq("date",n).maybeSingle();if(a)throw a;return i||null}catch(i){throw new Error(`Failed to fetch machine availability: ${rn(i)}`)}}async getMachineAvailability(e,n){try{return(await this.getMachineAvailabilityForDate(e,n))?.unavailable_hours||[]}catch{return[]}}async setMachineAvailability(e,n,i){try{const{data:a,error:o}=await at.from("machine_availability").upsert([{machine_id:e,date:n,unavailable_hours:i}],{onConflict:"machine_id,date"}).select().single();if(o)throw o;return a}catch(a){throw new Error(`Failed to set machine availability: ${rn(a)}`)}}async getMachineAvailabilityForDateAllMachines(e){try{const{data:n,error:i}=await at.from("machine_availability").select("*").eq("date",e);if(i)throw i;return n||[]}catch(n){throw new Error(`Failed to fetch machine availability for all machines: ${rn(n)}`)}}async getEventsByDate(e){try{const{data:n,error:i}=await at.from("machine_availability").select("*").eq("date",e);if(i)throw i;return n||[]}catch(n){throw new Error(`Failed to fetch events by date: ${rn(n)}`)}}async setUnavailableHoursForRange(e,n,i,a,o){try{const l=parseInt(a.split(":")[0]),u=parseInt(o.split(":")[0]),d=[];for(let _=l;_<u;_++)d.push(_.toString());const f=new Date(n),g=new Date(i);let p=new Date(f);const y=[];for(;p<=g;){const _=mn(p),S=(await this.getMachineAvailabilityForDate(e,_))?.unavailable_hours||[],x=[...new Set([...S,...d])].sort((A,T)=>parseInt(A)-parseInt(T)),C=await this.setMachineAvailability(e,_,x);y.push(C),p=$l(p,1)}return y}catch(l){throw new Error(`Failed to set unavailable hours for range: ${rn(l)}`)}}setupRealtimeSubscriptions(e,n,i){return at.channel("table-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"odp_orders"},e).on("postgres_changes",{event:"*",schema:"public",table:"machines"},n).on("postgres_changes",{event:"*",schema:"public",table:"phases"},i).subscribe(o=>{})}cleanupRealtimeSubscriptions(e){if(e)try{e.unsubscribe()}catch{}}}const it=new zD,Ce=io((t,e)=>({isLoading:!1,isInitialized:!1,selectedWorkCenter:Re.BOTH,alert:{message:"",type:"info",isVisible:!1},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},getLoadingState:()=>e().isLoading,getInitializationState:()=>e().isInitialized,getSelectedWorkCenter:()=>e().selectedWorkCenter,getAlert:()=>e().alert,getConfirmDialog:()=>e().confirmDialog,setLoading:n=>t({isLoading:n}),setInitialized:n=>t({isInitialized:n}),setSelectedWorkCenter:n=>t({selectedWorkCenter:n}),showAlert:(n,i="info")=>t({alert:{message:n,type:i,isVisible:!0}}),hideAlert:()=>t({alert:{message:"",type:"info",isVisible:!1}}),showConfirmDialog:(n,i,a,o="danger")=>t({confirmDialog:{isOpen:!0,title:n,message:i,onConfirm:a,type:o}}),hideConfirmDialog:()=>t({confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}}),reset:()=>t({isLoading:!1,isInitialized:!1,selectedWorkCenter:Re.BOTH,alert:{message:"",type:"info",isVisible:!1},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}})})),ID=(t,e)=>{const n=Cm("Machine");return{addMachine:async i=>{try{const{selectedWorkCenter:a}=Ce.getState();if(a&&a!==Re.BOTH&&i.work_center&&i.work_center!==a)throw new Error(`Cannot add Machine with different work center. Selected: ${a}, Item: ${i.work_center}`);const o=await it.addMachine(i);return t(l=>({machines:[...l.machines,o]})),Ce.getState().showAlert(`Machine "${i?.machine_name||"Unknown"}" added successfully`,"success"),o}catch(a){const o=n(a);throw Ce.getState().showAlert(o.message,"error"),o}},updateMachine:async(i,a)=>{try{const o=e().machines.find(u=>u.id===i),l=await it.updateMachine(i,a);return t(u=>({machines:u.machines.map(d=>d.id===i?{...d,...l}:d)})),Ce.getState().showAlert(`Machine "${o?.machine_name||"Unknown"}" updated successfully`,"success"),l}catch(o){const l=n(o);throw Ce.getState().showAlert(l.message,"error"),l}},removeMachine:async i=>{try{const a=e().machines.find(o=>o.id===i);return await it.removeMachine(i),t(o=>({machines:o.machines.filter(l=>l.id!==i)})),Ce.getState().showAlert(`Machine "${a?.machine_name||"Unknown"}" deleted successfully`,"success"),!0}catch(a){const o=n(a);throw Ce.getState().showAlert(o.message,"error"),o}}}},Jt=io((t,e)=>({machines:[],getMachines:()=>e().machines,getMachineById:n=>e().machines.find(i=>i.id===n),getMachinesByWorkCenter:n=>n===Re.BOTH?e().machines:e().machines.filter(i=>i.work_center===n),setMachines:n=>t({machines:n||[]}),...ID(t,e),cleanupDuplicateMachines:()=>{const n=e(),i=[],a=new Set;n.machines.forEach(o=>{a.has(o.id)||(a.add(o.id),i.push(o))}),t({machines:i})},reset:()=>t({machines:[]})})),FD=(t,e)=>{const n=Cm("OdpOrder");return{addOdpOrder:async i=>{try{const{selectedWorkCenter:a}=Ce.getState();if(a&&a!==Re.BOTH&&i.work_center&&i.work_center!==a)throw new Error(`Cannot add ODP Order with different work center. Selected: ${a}, Item: ${i.work_center}`);const o=await it.addOdpOrder(i);return t(l=>({odpOrders:[...l.odpOrders,o]})),Ce.getState().showAlert(`ODP Order "${i?.odp_number||"Unknown"}" added successfully`,"success"),o}catch(a){const o=n(a);throw Ce.getState().showAlert(o.message,"error"),o}},updateOdpOrder:async(i,a)=>{try{const o=e().odpOrders.find(u=>u.id===i),l=await it.updateOdpOrder(i,a);return t(u=>({odpOrders:u.odpOrders.map(d=>d.id===i?{...d,...l}:d)})),Ce.getState().showAlert(`ODP Order "${o?.odp_number||"Unknown"}" updated successfully`,"success"),l}catch(o){const l=n(o);throw Ce.getState().showAlert(l.message,"error"),l}},removeOdpOrder:async i=>{try{const a=e().odpOrders.find(o=>o.id===i);return await it.removeOdpOrder(i),t(o=>({odpOrders:o.odpOrders.filter(l=>l.id!==i)})),Ce.getState().showAlert(`ODP Order "${a?.odp_number||"Unknown"}" deleted successfully`,"success"),!0}catch(a){const o=n(a);throw Ce.getState().showAlert(o.message,"error"),o}}}},Tt=io((t,e)=>({odpOrders:[],getOdpOrders:()=>e().odpOrders,getOdpOrderById:n=>e().odpOrders.find(i=>i.id===n),getOdpOrdersByWorkCenter:n=>n===Re.BOTH?e().odpOrders:e().odpOrders.filter(i=>i.work_center===n),getScheduledOrders:()=>e().odpOrders.filter(n=>n.status==="SCHEDULED"),getUnscheduledOrders:()=>e().odpOrders.filter(n=>n.status==="NOT SCHEDULED"),setOdpOrders:n=>t({odpOrders:n||[]}),...FD(t,e),cleanupDuplicateOrders:()=>{const n=e(),i=[],a=new Set;n.odpOrders.forEach(o=>{a.has(o.id)||(a.add(o.id),i.push(o))}),t({odpOrders:i})},reset:()=>t({odpOrders:[]})})),UD=(t,e)=>{const n=Cm("Phase");return{addPhase:async i=>{try{const{selectedWorkCenter:a}=Ce.getState();if(a&&a!==Re.BOTH&&i.work_center&&i.work_center!==a)throw new Error(`Cannot add Phase with different work center. Selected: ${a}, Item: ${i.work_center}`);const o=await it.addPhase(i);return t(l=>({phases:[...l.phases,o]})),Ce.getState().showAlert(`Phase "${i?.name||"Unknown"}" added successfully`,"success"),o}catch(a){const o=n(a);throw Ce.getState().showAlert(o.message,"error"),o}},updatePhase:async(i,a)=>{try{const o=e().phases.find(u=>u.id===i),l=await it.updatePhase(i,a);return t(u=>({phases:u.phases.map(d=>d.id===i?{...d,...l}:d)})),Ce.getState().showAlert(`Phase "${o?.name||"Unknown"}" updated successfully`,"success"),l}catch(o){const l=n(o);throw Ce.getState().showAlert(l.message,"error"),l}},removePhase:async i=>{try{const a=e().phases.find(o=>o.id===i);return await it.removePhase(i),t(o=>({phases:o.phases.filter(l=>l.id!==i)})),Ce.getState().showAlert(`Phase "${a?.name||"Unknown"}" deleted successfully`,"success"),!0}catch(a){const o=n(a);throw Ce.getState().showAlert(o.message,"error"),o}}}},gi=io((t,e)=>({phases:[],getPhases:()=>e().phases,getPhaseById:n=>e().phases.find(i=>i.id===n),getPhasesByWorkCenter:n=>n===Re.BOTH?e().phases:e().phases.filter(i=>i.work_center===n),setPhases:n=>t({phases:n||[]}),...UD(t,e),cleanupDuplicatePhases:()=>{const n=e(),i=[],a=new Set;n.phases.forEach(o=>{a.has(o.id)||(a.add(o.id),i.push(o))}),t({phases:i})},reset:()=>t({phases:[]})})),qr=io((t,e)=>({machineAvailability:{},getMachineAvailabilityState:()=>e().machineAvailability,setMachineAvailabilityState:n=>t({machineAvailability:n}),scheduleTaskFromSlot:async(n,i,a,o,l)=>{try{const{getOdpOrderById:u}=Tt.getState(),{getMachineById:d}=Jt.getState(),f=u(n),g=d(i.id);if(!f||!g)return{error:"Task or machine not found"};const p=new Date(a);p.setHours(o,l,0,0);const y=f.time_remaining||f.duration||1,_=W_(p,y),w={machine:i.id,start_time:p.toISOString(),end_time:_.toISOString()};return await e().scheduleTask(n,w)}catch{return{error:"An error occurred during scheduling"}}},rescheduleTaskToSlot:async(n,i,a,o,l)=>{try{const{getOdpOrderById:u}=Tt.getState(),{getMachineById:d}=Jt.getState(),f=u(n),g=d(i.id);if(!f||!g)return{error:"Event or machine not found"};const p=new Date(a);p.setHours(o,l,0,0);const y=f.time_remaining||f.duration||1,_=W_(p,y),w={machine:i.id,start_time:p.toISOString(),end_time:_.toISOString()};return await e().scheduleTask(n,w)}catch{return{error:"An error occurred during rescheduling"}}},validateSlotAvailability:async(n,i,a,o)=>{try{const l=mn(i);if(await e().isTimeSlotUnavailable(n.id,l,a))return{error:"Cannot schedule task on unavailable time slot"};const{getOdpOrders:d}=Tt.getState(),f=new Date(i);f.setHours(a,o,0,0);const g=new Date(f.getTime()+3600*1e3),p=d().filter(y=>y.scheduled_machine_id===n.id&&y.status==="SCHEDULED"&&y.scheduled_start_time);for(const y of p){const _=new Date(y.scheduled_start_time),w=y.time_remaining||y.duration||1,S=new Date(_.getTime()+w*60*60*1e3);if(f<S&&g>_)return{error:"Cannot schedule task on occupied time slot"}}return{success:!0}}catch{return{error:"Error validating slot availability"}}},scheduleTask:async(n,i)=>{const{getOdpOrderById:a}=Tt.getState(),{getMachineById:o}=Jt.getState(),l=a(n),u=o(i.machine);if(l&&u&&l.work_center&&u.work_center&&l.work_center!==u.work_center)return{error:`Work center mismatch: task requires '${l.work_center}' but machine is '${u.work_center}'`};const{getOdpOrders:d}=Tt.getState(),f=d().filter(A=>A.scheduled_machine_id===i.machine&&A.status==="SCHEDULED"&&A.id!==n),g=new Date(i.start_time),p=new Date(i.end_time);for(const A of f){const T=new Date(A.scheduled_start_time),k=A.time_remaining||A.duration||1,D=new Date(T.getTime()+k*60*60*1e3);if(g<D&&p>T)return{error:`Task overlaps with existing scheduled task: ${A.odp_number}`}}const y=new Date(g.getFullYear(),g.getMonth(),g.getDate()),_=new Date(p.getFullYear(),p.getMonth(),p.getDate()),w=[];let S=new Date(y);for(;S<=_;)w.push(mn(S)),S.setDate(S.getDate()+1);for(const A of w){const T=e().machineAvailability[A];if(T&&Array.isArray(T)){const k=T.find(D=>D.machine_id===i.machine);if(k&&k.unavailable_hours&&Array.isArray(k.unavailable_hours)){const D=new Date(new Date(A).getFullYear(),new Date(A).getMonth(),new Date(A).getDate());for(const V of k.unavailable_hours){const F=new Date(D.getTime()+parseInt(V)*60*60*1e3),L=new Date(F.getTime()+3600*1e3);if(g<L&&p>F){const G=new Date(A).toLocaleDateString("en-GB");return{error:`Task overlaps with unavailable slot at hour ${V}:00 on ${G}`}}}}}}const x={scheduled_machine_id:i.machine,scheduled_start_time:i.start_time,scheduled_end_time:i.end_time,production_start:i.start_time,production_end:i.end_time,color:i.color,status:"SCHEDULED"},{updateOdpOrder:C}=Tt.getState();return await C(n,x),{success:!0}},unscheduleTask:async n=>{const i={scheduled_machine_id:null,scheduled_start_time:null,scheduled_end_time:null,production_start:null,production_end:null,color:null,status:"NOT SCHEDULED"},{updateOdpOrder:a}=Tt.getState();await a(n,i)},loadMachineAvailabilityForDateRange:async(n,i,a)=>{const o=i instanceof Date?mn(i):i,l=a instanceof Date?mn(a):a;try{const u=await it.getMachineAvailabilityForDateRange(n,o,l);return t(d=>{const f={...d.machineAvailability};return Array.isArray(u)&&u.forEach(g=>{if(g.date&&g.unavailable_hours){const p=g.date;f[p]||(f[p]=[]);const y=f[p].find(_=>_.machine_id===n);y?y.unavailable_hours=g.unavailable_hours:f[p].push({machine_id:n,date:p,unavailable_hours:g.unavailable_hours})}}),{machineAvailability:f}}),u}catch(u){throw u}},getMachineAvailabilityForDate:async(n,i)=>{try{return await it.getMachineAvailabilityForDate(n,i)}catch{return[]}},setMachineAvailability:async(n,i,a)=>{try{const{getOdpOrders:o}=Tt.getState(),l=o().filter(g=>g.scheduled_machine_id===n&&g.status==="SCHEDULED"&&g.scheduled_start_time&&g.scheduled_end_time),u=new Date(i),d=new Date(u.getFullYear(),u.getMonth(),u.getDate()),f=new Date(d.getTime()+1440*60*1e3);for(const g of l){const p=new Date(g.scheduled_start_time),y=new Date(g.scheduled_end_time);if(p<f&&y>d)for(const _ of a){const w=new Date(d.getTime()+parseInt(_)*60*60*1e3),S=new Date(w.getTime()+3600*1e3);if(w<y&&S>p)throw new Error(`Cannot set machine unavailable during scheduled task: ${g.odp_number}`)}}return await it.setMachineAvailability(n,i,a),t(g=>{const p={...g.machineAvailability};p[i]||(p[i]=[]);const y=p[i].find(_=>_.machine_id===n);return y?y.unavailable_hours=a:p[i].push({machine_id:n,date:i,unavailable_hours:a}),{machineAvailability:p}}),Ce.getState().showAlert(`Machine availability updated successfully for ${i}`,"success"),!0}catch(o){const l=Bn(o,"Machine Availability");throw Ce.getState().showAlert(l.message,"error"),l}},toggleMachineHourAvailability:async(n,i,a)=>{try{const o=await e().getMachineAvailability(n,i),l=a.toString();let u;return o.includes(l)?u=o.filter(d=>d!==l):u=[...o,l].sort((d,f)=>parseInt(d)-parseInt(f)),await it.setMachineAvailability(n,i,u),t(d=>{const f={...d.machineAvailability};f[i]||(f[i]=[]);const g=f[i].find(p=>p.machine_id===n);return g?g.unavailable_hours=u:f[i].push({machine_id:n,date:i,unavailable_hours:u}),{machineAvailability:f}}),Ce.getState().showAlert(`Time slot ${l}:00 updated successfully`,"success"),!0}catch(o){const l=Bn(o,"Machine Availability");throw Ce.getState().showAlert(l.message,"error"),l}},loadMachineAvailabilityForDate:async n=>{const{machineAvailability:i}=e();if(!i[n]?._loading&&!(i[n]&&i[n].length>=0)){t(a=>({machineAvailability:{...a.machineAvailability,[n]:{_loading:!0}}}));try{const a=await it.getMachineAvailabilityForDateAllMachines(n);t(o=>({machineAvailability:{...o.machineAvailability,[n]:a||[]}}))}catch(a){throw t(o=>{const l={...o.machineAvailability};return l[n]&&delete l[n]._loading,{machineAvailability:l}}),a}}},loadMachineAvailabilityForMachine:async(n,i,a)=>{const o={};try{try{await it.getMachineAvailabilityForDate("test","2025-01-01")}catch{return{}}let l=new Date(i);for(;l<=a;){const u=mn(l);e().machineAvailability[u]||await e().loadMachineAvailabilityForDate(u);const f=e().machineAvailability[u];if(Array.isArray(f)){const g=f.find(p=>p.machine_id===n);g&&(o[u]=g.unavailable_hours||[])}l=$l(l,1)}return o}catch{return{}}},getMachineAvailability:async(n,i)=>{try{const a=e().machineAvailability[i];if(a&&Array.isArray(a)){const l=a.find(u=>u.machine_id===n);if(l)return l.unavailable_hours||[]}const o=await it.getMachineAvailabilityForDate(n,i);if(o){const l=(o.unavailable_hours||[]).map(u=>u.toString());return t(u=>{const d={...u.machineAvailability};d[i]||(d[i]=[]);const f=d[i].find(g=>g.machine_id===n);return f?f.unavailable_hours=l:d[i].push({machine_id:n,date:i,unavailable_hours:l}),{machineAvailability:d}}),l}return[]}catch{return[]}},isTimeSlotUnavailable:async(n,i,a)=>(await e().getMachineAvailability(n,i)).includes(a.toString()),initializeEmptyMachineAvailability:()=>{const{machines:n}=Jt.getState(),{machineAvailability:i}=e(),a={...i};n.forEach(o=>{a[o.id]||(a[o.id]={})}),t({machineAvailability:a})},getEventsByDate:async n=>{try{return await it.getEventsByDate(n)}catch{return[]}},setMachineUnavailability:async(n,i,a,o,l)=>{try{const u=await it.setUnavailableHoursForRange(n,i,a,o,l),d=new Date(i),f=new Date(a),g=await e().loadMachineAvailabilityForDateRange(n,d,f);return g&&Array.isArray(g)&&t(p=>{const y={...p.machineAvailability};return g.forEach(_=>{if(_.date&&_.unavailable_hours){const w=mn(new Date(_.date));y[w]||(y[w]=[]);const S=y[w].find(x=>x.machine_id===n);S?S.unavailable_hours=_.unavailable_hours:y[w].push({machine_id:n,date:w,unavailable_hours:_.unavailable_hours})}}),{machineAvailability:y}}),u}catch(u){throw u}},isMachineAvailabilityAccessible:async()=>{try{return await it.getMachineAvailabilityForDateAllMachines("2025-01-01"),!0}catch{return!1}},getMachineAvailabilityStatus:async()=>{try{const n=await e().isMachineAvailabilityAccessible();return{accessible:n,message:n?"Table is accessible":"Table is not accessible - check permissions or table existence"}}catch(n){return{accessible:!1,message:`Error checking table: ${n.message}`}}},reset:()=>t({machineAvailability:{}})})),HD=(t,e)=>{const n=o=>{VD(o)},i=o=>{$D(o)},a=o=>{qD(o)};return it.setupRealtimeSubscriptions(n,i,a)},Yg=()=>{window.realtimeChannel&&(it.cleanupRealtimeSubscriptions(window.realtimeChannel),window.realtimeChannel=null)};let Ol=null;typeof window<"u"&&(Ol=()=>{Yg()},window.addEventListener("beforeunload",Ol));const BD=()=>{typeof window<"u"&&Ol&&(window.removeEventListener("beforeunload",Ol),Ol=null)},VD=(t,e,n)=>{const{eventType:i,newRecord:a,oldRecord:o}=t,{setOdpOrders:l,getOdpOrders:u}=Tt.getState();switch(i){case"INSERT":l([...u(),a]);break;case"UPDATE":l(u().map(d=>d.id===a.id?a:d));break;case"DELETE":l(u().filter(d=>d.id!==o.id));break}},$D=(t,e,n)=>{const{eventType:i,newRecord:a,oldRecord:o}=t,{setMachines:l,getMachines:u}=Jt.getState();switch(i){case"INSERT":l([...u(),a]);break;case"UPDATE":l(u().map(d=>d.id===a.id?a:d));break;case"DELETE":l(u().filter(d=>d.id!==o.id));break}},qD=(t,e,n)=>{const{eventType:i,newRecord:a,oldRecord:o}=t,{setPhases:l,getPhases:u}=gi.getState();switch(i){case"INSERT":l([...u(),a]);break;case"UPDATE":l(u().map(d=>d.id===a.id?a:d));break;case"DELETE":l(u().filter(d=>d.id!==o.id));break}},Ii=io((t,e)=>({init:async()=>{const{getInitializationState:n,setLoading:i,setInitialized:a,showAlert:o}=Ce.getState(),{setMachines:l}=Jt.getState(),{setOdpOrders:u}=Tt.getState(),{setPhases:d}=gi.getState(),{initializeEmptyMachineAvailability:f}=qr.getState();if(!n()){i(!0);try{let g=!1,p=0;const y=3;for(;!g&&p<y;)try{await it.init(),g=!0}catch(x){p++;const C=Bn(x,"API Service Initialization");if(p>=y)throw hi(C,"API Service Initialization - Final Attempt Failed"),i(!1),a(!1),o("Unable to connect to the server. Please check your internet connection and refresh the page.","error"),new fn("API service initialization failed after multiple attempts","CRITICAL_INIT_ERROR",503,C,"Store Initialization");const A=Math.min(1e3*Math.pow(2,p-1),1e4);await new Promise(T=>setTimeout(T,A)),o(`Connection attempt ${p} failed. Retrying...`,"warning")}let _=[],w=[],S=[];try{_=await it.getMachines()}catch(x){const C=Bn(x,"Machines Data Fetch");hi(C,"Machines Data Fetch Failed"),o("Warning: Unable to load machine data. Some features may be limited.","warning")}try{w=await it.getOdpOrders()}catch(x){const C=Bn(x,"Orders Data Fetch");hi(C,"Orders Data Fetch Failed"),o("Warning: Unable to load order data. Some features may be limited.","warning")}try{S=await it.getPhases()}catch(x){const C=Bn(x,"Phases Data Fetch");hi(C,"Phases Data Fetch Failed"),o("Warning: Unable to load phase data. Some features may be limited.","warning")}try{const x=[],C=new Set;if(_&&_.length>0&&_.forEach(T=>{C.has(T.id)||(C.add(T.id),x.push(T))}),l(x),u(w||[]),d(S||[]),f(),!window.realtimeChannel)try{const T=HD(t,e);T&&(window.realtimeChannel=T)}catch(T){const k=Bn(T,"Real-time Subscriptions Setup");hi(k,"Real-time Subscriptions Setup Failed"),o("Warning: Real-time updates are not available. Data may not update automatically.","warning")}i(!1),a(!0);const A=x.length+(w?.length||0)+(S?.length||0);A>0?o(`Application initialized successfully. Loaded ${A} data items.`,"success"):o("Application initialized with limited functionality due to data loading issues.","warning")}catch(x){const C=Bn(x,"Data Processing");throw hi(C,"Data Processing Failed"),i(!1),a(!1),o("Failed to process application data. Please refresh the page.","error"),C}}catch(g){const p=g instanceof fn?g:Bn(g,"Store Initialization");throw hi(p,"Store Initialization - Unexpected Error"),i(!1),a(!1),p.code==="CRITICAL_INIT_ERROR"?o("Critical initialization error. Please contact support if the problem persists.","error"):o("Application initialization failed. Please refresh the page or contact support.","error"),p}}},refreshData:async()=>{const{setLoading:n}=Ce.getState(),{setMachines:i}=Jt.getState(),{setOdpOrders:a}=Tt.getState(),{setPhases:o}=gi.getState();n(!0);try{const[l,u,d]=await Promise.all([it.getMachines(),it.getOdpOrders(),it.getPhases()]);i(l||[]),a(u||[]),o(d||[]),n(!1)}catch{n(!1)}},debugData:()=>{const{getMachines:n}=Jt.getState(),{getOdpOrders:i}=Tt.getState(),{getPhases:a}=gi.getState(),o=n().map(d=>d.id);o.filter((d,f)=>o.indexOf(d)!==f);const l=i().map(d=>d.id);l.filter((d,f)=>l.indexOf(d)!==f);const u=a().map(d=>d.id);u.filter((d,f)=>u.indexOf(d)!==f)},cleanupDuplicates:()=>{const{cleanupDuplicateMachines:n}=Jt.getState(),{cleanupDuplicateOrders:i}=Tt.getState(),{cleanupDuplicatePhases:a}=gi.getState();n(),i(),a()},reset:()=>{Yg();const{reset:n}=Jt.getState(),{reset:i}=Tt.getState(),{reset:a}=gi.getState(),{reset:o}=qr.getState(),{reset:l}=Ce.getState();n(),i(),a(),o(),l()},cleanup:()=>{Yg(),BD()},getState:()=>{const{getMachines:n}=Jt.getState(),{getOdpOrders:i}=Tt.getState(),{getPhases:a}=gi.getState(),{getMachineAvailability:o}=qr.getState(),{getLoadingState:l,getInitializationState:u}=Ce.getState();return{machines:n(),odpOrders:i(),phases:a(),machineAvailability:getMachineAvailabilityState(),isLoading:l(),isInitialized:u()}}}));function GD(){const{user:t,signOut:e}=ac(),{selectedWorkCenter:n}=Ce(),i=ys(),a=ia(),o=[{href:"/",label:"Home"},{href:"/machinery",label:"Macchine",subLinks:[{href:"/machinery",label:"Lista"},{href:"/machinery/add",label:"Aggiungi"}]},{href:"/phases",label:"Fasi",subLinks:[{href:"/phases",label:"Lista"},{href:"/phases/add",label:"Aggiungi"}]},{href:"/backlog",label:"Backlog",subLinks:[{href:"/backlog",label:"Lista"},{href:"/backlog/add",label:"Aggiungi"}]},{href:"/scheduler",label:"Scheduler"}],l=async()=>{try{await e(),a("/login")}catch(u){console.error("Sign out error:",u)}};return t?b.jsxs("nav",{className:"sidebar",children:[b.jsx("div",{className:"sidebar-logo",children:b.jsxs(Sn,{to:"/",children:[b.jsx("span",{className:"logo-flex",children:"flex"}),b.jsx("span",{className:"logo-i",children:"i"})]})}),b.jsxs("div",{className:"sidebar-links",children:[b.jsx("h3",{className:"sidebar-section-title",children:"NAVIGATION"}),o.map(u=>{const d=i.pathname===u.href||u.subLinks&&u.subLinks.some(f=>i.pathname===f.href);return b.jsxs("div",{className:"nav-item",children:[b.jsx(Sn,{to:u.href,className:`sidebar-link ${d?"active":""}`,children:b.jsx("span",{children:u.label})}),u.subLinks&&b.jsx("div",{className:"sub-nav",children:u.subLinks.map(f=>b.jsx(Sn,{to:f.href,className:`sub-nav-link ${i.pathname===f.href?"active":""}`,children:b.jsx("span",{children:f.label})},f.href))})]},u.href)})]}),b.jsxs("div",{className:"sidebar-user",children:[b.jsx("div",{className:"user-avatar",children:t.email?t.email.charAt(0).toUpperCase():"U"}),b.jsxs("div",{className:"user-info",children:[b.jsx("div",{className:"user-email",children:t.email}),n&&b.jsxs("div",{className:"work-center-badge",children:["WC: ",n]}),b.jsx("div",{className:"realtime-status",children:b.jsx("span",{className:"status-indicator offline",children:"OFFLINE"})})]})]}),b.jsxs("div",{className:"sidebar-actions",children:[b.jsx("h3",{className:"sidebar-section-title",children:"ACCOUNT"}),b.jsx("button",{onClick:l,className:"sidebar-action-btn signout-btn",children:b.jsx("span",{children:"Esci"})})]})]}):b.jsxs("nav",{className:"sidebar",children:[b.jsx("div",{className:"sidebar-logo",children:b.jsxs(Sn,{to:"/login",children:[b.jsx("span",{className:"logo-flex",children:"flex"}),b.jsx("span",{className:"logo-i",children:"i"})]})}),b.jsxs("div",{className:"sidebar-links",children:[b.jsx("h3",{className:"sidebar-section-title",children:"NAVIGATION"}),b.jsx(Sn,{to:"/login",className:"sidebar-link",children:b.jsx("span",{children:"Accedi"})}),b.jsx(Sn,{to:"/signup",className:"sidebar-link",children:b.jsx("span",{children:"Registrati"})})]})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Zs(t,e){return typeof t=="function"?t(e):t}function Vn(t,e){return n=>{e.setState(i=>({...i,[t]:Zs(n,i[t])}))}}function Td(t){return t instanceof Function}function YD(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function WD(t,e){const n=[],i=a=>{a.forEach(o=>{n.push(o);const l=e(o);l!=null&&l.length&&i(l)})};return i(t),n}function xe(t,e,n){let i=[],a;return o=>{let l;n.key&&n.debug&&(l=Date.now());const u=t(o);if(!(u.length!==i.length||u.some((g,p)=>i[p]!==g)))return a;i=u;let f;if(n.key&&n.debug&&(f=Date.now()),a=e(...u),n==null||n.onChange==null||n.onChange(a),n.key&&n.debug&&n!=null&&n.debug()){const g=Math.round((Date.now()-l)*100)/100,p=Math.round((Date.now()-f)*100)/100,y=p/16,_=(w,S)=>{for(w=String(w);w.length<S;)w=" "+w;return w};console.info(`%c⏱ ${_(p,5)} /${_(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,n?.key)}return a}}function Ee(t,e,n,i){return{debug:()=>{var a;return(a=t?.debugAll)!=null?a:t[e]},key:!1,onChange:i}}function KD(t,e,n,i){const a=()=>{var l;return(l=o.getValue())!=null?l:t.options.renderFallbackValue},o={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(i),renderValue:a,getContext:xe(()=>[t,n,e,o],(l,u,d,f)=>({table:l,column:u,row:d,cell:f,getValue:f.getValue,renderValue:f.renderValue}),Ee(t.options,"debugCells"))};return t._features.forEach(l=>{l.createCell==null||l.createCell(o,n,e,t)},{}),o}function XD(t,e,n,i){var a,o;const u={...t._getDefaultColumnDef(),...e},d=u.accessorKey;let f=(a=(o=u.id)!=null?o:d?typeof String.prototype.replaceAll=="function"?d.replaceAll(".","_"):d.replace(/\./g,"_"):void 0)!=null?a:typeof u.header=="string"?u.header:void 0,g;if(u.accessorFn?g=u.accessorFn:d&&(d.includes(".")?g=y=>{let _=y;for(const S of d.split(".")){var w;_=(w=_)==null?void 0:w[S]}return _}:g=y=>y[u.accessorKey]),!f)throw new Error;let p={id:`${String(f)}`,accessorFn:g,parent:i,depth:n,columnDef:u,columns:[],getFlatColumns:xe(()=>[!0],()=>{var y;return[p,...(y=p.columns)==null?void 0:y.flatMap(_=>_.getFlatColumns())]},Ee(t.options,"debugColumns")),getLeafColumns:xe(()=>[t._getOrderColumnsFn()],y=>{var _;if((_=p.columns)!=null&&_.length){let w=p.columns.flatMap(S=>S.getLeafColumns());return y(w)}return[p]},Ee(t.options,"debugColumns"))};for(const y of t._features)y.createColumn==null||y.createColumn(p,t);return p}const hn="debugHeaders";function K_(t,e,n){var i;let o={id:(i=n.id)!=null?i:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],u=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(u),l.push(d)};return u(o),l},getContext:()=>({table:t,header:o,column:e})};return t._features.forEach(l=>{l.createHeader==null||l.createHeader(o,t)}),o}const QD={createTable:t=>{t.getHeaderGroups=xe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,a)=>{var o,l;const u=(o=i?.map(p=>n.find(y=>y.id===p)).filter(Boolean))!=null?o:[],d=(l=a?.map(p=>n.find(y=>y.id===p)).filter(Boolean))!=null?l:[],f=n.filter(p=>!(i!=null&&i.includes(p.id))&&!(a!=null&&a.includes(p.id)));return ku(e,[...u,...f,...d],t)},Ee(t.options,hn)),t.getCenterHeaderGroups=xe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i,a)=>(n=n.filter(o=>!(i!=null&&i.includes(o.id))&&!(a!=null&&a.includes(o.id))),ku(e,n,t,"center")),Ee(t.options,hn)),t.getLeftHeaderGroups=xe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,i)=>{var a;const o=(a=i?.map(l=>n.find(u=>u.id===l)).filter(Boolean))!=null?a:[];return ku(e,o,t,"left")},Ee(t.options,hn)),t.getRightHeaderGroups=xe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,i)=>{var a;const o=(a=i?.map(l=>n.find(u=>u.id===l)).filter(Boolean))!=null?a:[];return ku(e,o,t,"right")},Ee(t.options,hn)),t.getFooterGroups=xe(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Ee(t.options,hn)),t.getLeftFooterGroups=xe(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Ee(t.options,hn)),t.getCenterFooterGroups=xe(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Ee(t.options,hn)),t.getRightFooterGroups=xe(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Ee(t.options,hn)),t.getFlatHeaders=xe(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ee(t.options,hn)),t.getLeftFlatHeaders=xe(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ee(t.options,hn)),t.getCenterFlatHeaders=xe(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ee(t.options,hn)),t.getRightFlatHeaders=xe(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ee(t.options,hn)),t.getCenterLeafHeaders=xe(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Ee(t.options,hn)),t.getLeftLeafHeaders=xe(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Ee(t.options,hn)),t.getRightLeafHeaders=xe(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var i;return!((i=n.subHeaders)!=null&&i.length)}),Ee(t.options,hn)),t.getLeafHeaders=xe(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,i)=>{var a,o,l,u,d,f;return[...(a=(o=e[0])==null?void 0:o.headers)!=null?a:[],...(l=(u=n[0])==null?void 0:u.headers)!=null?l:[],...(d=(f=i[0])==null?void 0:f.headers)!=null?d:[]].map(g=>g.getLeafHeaders()).flat()},Ee(t.options,hn))}};function ku(t,e,n,i){var a,o;let l=0;const u=function(y,_){_===void 0&&(_=1),l=Math.max(l,_),y.filter(w=>w.getIsVisible()).forEach(w=>{var S;(S=w.columns)!=null&&S.length&&u(w.columns,_+1)},0)};u(t);let d=[];const f=(y,_)=>{const w={depth:_,id:[i,`${_}`].filter(Boolean).join("_"),headers:[]},S=[];y.forEach(x=>{const C=[...S].reverse()[0],A=x.column.depth===w.depth;let T,k=!1;if(A&&x.column.parent?T=x.column.parent:(T=x.column,k=!0),C&&C?.column===T)C.subHeaders.push(x);else{const D=K_(n,T,{id:[i,_,T.id,x?.id].filter(Boolean).join("_"),isPlaceholder:k,placeholderId:k?`${S.filter(V=>V.column===T).length}`:void 0,depth:_,index:S.length});D.subHeaders.push(x),S.push(D)}w.headers.push(x),x.headerGroup=w}),d.push(w),_>0&&f(S,_-1)},g=e.map((y,_)=>K_(n,y,{depth:l,index:_}));f(g,l-1),d.reverse();const p=y=>y.filter(w=>w.column.getIsVisible()).map(w=>{let S=0,x=0,C=[0];w.subHeaders&&w.subHeaders.length?(C=[],p(w.subHeaders).forEach(T=>{let{colSpan:k,rowSpan:D}=T;S+=k,C.push(D)})):S=1;const A=Math.min(...C);return x=x+A,w.colSpan=S,w.rowSpan=x,{colSpan:S,rowSpan:x}});return p((a=(o=d[0])==null?void 0:o.headers)!=null?a:[]),d}const ZD=(t,e,n,i,a,o,l)=>{let u={id:e,index:i,original:n,depth:a,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(u._valuesCache.hasOwnProperty(d))return u._valuesCache[d];const f=t.getColumn(d);if(f!=null&&f.accessorFn)return u._valuesCache[d]=f.accessorFn(u.original,i),u._valuesCache[d]},getUniqueValues:d=>{if(u._uniqueValuesCache.hasOwnProperty(d))return u._uniqueValuesCache[d];const f=t.getColumn(d);if(f!=null&&f.accessorFn)return f.columnDef.getUniqueValues?(u._uniqueValuesCache[d]=f.columnDef.getUniqueValues(u.original,i),u._uniqueValuesCache[d]):(u._uniqueValuesCache[d]=[u.getValue(d)],u._uniqueValuesCache[d])},renderValue:d=>{var f;return(f=u.getValue(d))!=null?f:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>WD(u.subRows,d=>d.subRows),getParentRow:()=>u.parentId?t.getRow(u.parentId,!0):void 0,getParentRows:()=>{let d=[],f=u;for(;;){const g=f.getParentRow();if(!g)break;d.push(g),f=g}return d.reverse()},getAllCells:xe(()=>[t.getAllLeafColumns()],d=>d.map(f=>KD(t,u,f,f.id)),Ee(t.options,"debugRows")),_getAllCellsByColumnId:xe(()=>[u.getAllCells()],d=>d.reduce((f,g)=>(f[g.column.id]=g,f),{}),Ee(t.options,"debugRows"))};for(let d=0;d<t._features.length;d++){const f=t._features[d];f==null||f.createRow==null||f.createRow(u,t)}return u},JD={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},TS=(t,e,n)=>{var i,a;const o=n==null||(i=n.toString())==null?void 0:i.toLowerCase();return!!(!((a=t.getValue(e))==null||(a=a.toString())==null||(a=a.toLowerCase())==null)&&a.includes(o))};TS.autoRemove=t=>vi(t);const DS=(t,e,n)=>{var i;return!!(!((i=t.getValue(e))==null||(i=i.toString())==null)&&i.includes(n))};DS.autoRemove=t=>vi(t);const MS=(t,e,n)=>{var i;return((i=t.getValue(e))==null||(i=i.toString())==null?void 0:i.toLowerCase())===n?.toLowerCase()};MS.autoRemove=t=>vi(t);const kS=(t,e,n)=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(n)};kS.autoRemove=t=>vi(t);const NS=(t,e,n)=>!n.some(i=>{var a;return!((a=t.getValue(e))!=null&&a.includes(i))});NS.autoRemove=t=>vi(t)||!(t!=null&&t.length);const jS=(t,e,n)=>n.some(i=>{var a;return(a=t.getValue(e))==null?void 0:a.includes(i)});jS.autoRemove=t=>vi(t)||!(t!=null&&t.length);const LS=(t,e,n)=>t.getValue(e)===n;LS.autoRemove=t=>vi(t);const PS=(t,e,n)=>t.getValue(e)==n;PS.autoRemove=t=>vi(t);const Am=(t,e,n)=>{let[i,a]=n;const o=t.getValue(e);return o>=i&&o<=a};Am.resolveFilterValue=t=>{let[e,n]=t,i=typeof e!="number"?parseFloat(e):e,a=typeof n!="number"?parseFloat(n):n,o=e===null||Number.isNaN(i)?-1/0:i,l=n===null||Number.isNaN(a)?1/0:a;if(o>l){const u=o;o=l,l=u}return[o,l]};Am.autoRemove=t=>vi(t)||vi(t[0])&&vi(t[1]);const ds={includesString:TS,includesStringSensitive:DS,equalsString:MS,arrIncludes:kS,arrIncludesAll:NS,arrIncludesSome:jS,equals:LS,weakEquals:PS,inNumberRange:Am};function vi(t){return t==null||t===""}const eM={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Vn("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n?.getValue(t.id);return typeof i=="string"?ds.includesString:typeof i=="number"?ds.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?ds.equals:Array.isArray(i)?ds.arrIncludes:ds.weakEquals},t.getFilterFn=()=>{var n,i;return Td(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(i=e.options.filterFns)==null?void 0:i[t.columnDef.filterFn])!=null?n:ds[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,i,a;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((i=e.options.enableColumnFilters)!=null?i:!0)&&((a=e.options.enableFilters)!=null?a:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(i=>i.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,i;return(n=(i=e.getState().columnFilters)==null?void 0:i.findIndex(a=>a.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(i=>{const a=t.getFilterFn(),o=i?.find(g=>g.id===t.id),l=Zs(n,o?o.value:void 0);if(X_(a,l,t)){var u;return(u=i?.filter(g=>g.id!==t.id))!=null?u:[]}const d={id:t.id,value:l};if(o){var f;return(f=i?.map(g=>g.id===t.id?d:g))!=null?f:[]}return i!=null&&i.length?[...i,d]:[d]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),i=a=>{var o;return(o=Zs(e,a))==null?void 0:o.filter(l=>{const u=n.find(d=>d.id===l.id);if(u){const d=u.getFilterFn();if(X_(d,l.value,u))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(i)},t.resetColumnFilters=e=>{var n,i;t.setColumnFilters(e?[]:(n=(i=t.initialState)==null?void 0:i.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function X_(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const tM=(t,e,n)=>n.reduce((i,a)=>{const o=a.getValue(t);return i+(typeof o=="number"?o:0)},0),nM=(t,e,n)=>{let i;return n.forEach(a=>{const o=a.getValue(t);o!=null&&(i>o||i===void 0&&o>=o)&&(i=o)}),i},iM=(t,e,n)=>{let i;return n.forEach(a=>{const o=a.getValue(t);o!=null&&(i<o||i===void 0&&o>=o)&&(i=o)}),i},sM=(t,e,n)=>{let i,a;return n.forEach(o=>{const l=o.getValue(t);l!=null&&(i===void 0?l>=l&&(i=a=l):(i>l&&(i=l),a<l&&(a=l)))}),[i,a]},aM=(t,e)=>{let n=0,i=0;if(e.forEach(a=>{let o=a.getValue(t);o!=null&&(o=+o)>=o&&(++n,i+=o)}),n)return i/n},rM=(t,e)=>{if(!e.length)return;const n=e.map(o=>o.getValue(t));if(!YD(n))return;if(n.length===1)return n[0];const i=Math.floor(n.length/2),a=n.sort((o,l)=>o-l);return n.length%2!==0?a[i]:(a[i-1]+a[i])/2},oM=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),lM=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,cM=(t,e)=>e.length,hg={sum:tM,min:nM,max:iM,extent:sM,mean:aM,median:rM,unique:oM,uniqueCount:lM,count:cM},uM={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Vn("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(i=>i!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,i;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((i=e.options.enableGrouping)!=null?i:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],i=n?.getValue(t.id);if(typeof i=="number")return hg.sum;if(Object.prototype.toString.call(i)==="[object Date]")return hg.extent},t.getAggregationFn=()=>{var n,i;if(!t)throw new Error;return Td(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(i=e.options.aggregationFns)==null?void 0:i[t.columnDef.aggregationFn])!=null?n:hg[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,i;t.setGrouping(e?[]:(n=(i=t.initialState)==null?void 0:i.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const i=e.getColumn(n);return i!=null&&i.columnDef.getGroupingValue?(t._groupingValuesCache[n]=i.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,i)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var a;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((a=n.subRows)!=null&&a.length)}}};function dM(t,e,n){if(!(e!=null&&e.length)||!n)return t;const i=t.filter(o=>!e.includes(o.id));return n==="remove"?i:[...e.map(o=>t.find(l=>l.id===o)).filter(Boolean),...i]}const hM={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Vn("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=xe(n=>[Tl(e,n)],n=>n.findIndex(i=>i.id===t.id),Ee(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var i;return((i=Tl(e,n)[0])==null?void 0:i.id)===t.id},t.getIsLastColumn=n=>{var i;const a=Tl(e,n);return((i=a[a.length-1])==null?void 0:i.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=xe(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,i)=>a=>{let o=[];if(!(e!=null&&e.length))o=a;else{const l=[...e],u=[...a];for(;u.length&&l.length;){const d=l.shift(),f=u.findIndex(g=>g.id===d);f>-1&&o.push(u.splice(f,1)[0])}o=[...o,...u]}return dM(o,n,i)},Ee(t.options,"debugTable"))}},fg=()=>({left:[],right:[]}),fM={getInitialState:t=>({columnPinning:fg(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Vn("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const i=t.getLeafColumns().map(a=>a.id).filter(Boolean);e.setColumnPinning(a=>{var o,l;if(n==="right"){var u,d;return{left:((u=a?.left)!=null?u:[]).filter(p=>!(i!=null&&i.includes(p))),right:[...((d=a?.right)!=null?d:[]).filter(p=>!(i!=null&&i.includes(p))),...i]}}if(n==="left"){var f,g;return{left:[...((f=a?.left)!=null?f:[]).filter(p=>!(i!=null&&i.includes(p))),...i],right:((g=a?.right)!=null?g:[]).filter(p=>!(i!=null&&i.includes(p)))}}return{left:((o=a?.left)!=null?o:[]).filter(p=>!(i!=null&&i.includes(p))),right:((l=a?.right)!=null?l:[]).filter(p=>!(i!=null&&i.includes(p)))}})},t.getCanPin=()=>t.getLeafColumns().some(i=>{var a,o,l;return((a=i.columnDef.enablePinning)!=null?a:!0)&&((o=(l=e.options.enableColumnPinning)!=null?l:e.options.enablePinning)!=null?o:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(u=>u.id),{left:i,right:a}=e.getState().columnPinning,o=n.some(u=>i?.includes(u)),l=n.some(u=>a?.includes(u));return o?"left":l?"right":!1},t.getPinnedIndex=()=>{var n,i;const a=t.getIsPinned();return a?(n=(i=e.getState().columnPinning)==null||(i=i[a])==null?void 0:i.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=xe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,i,a)=>{const o=[...i??[],...a??[]];return n.filter(l=>!o.includes(l.column.id))},Ee(e.options,"debugRows")),t.getLeftVisibleCells=xe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,i)=>(i??[]).map(o=>n.find(l=>l.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),Ee(e.options,"debugRows")),t.getRightVisibleCells=xe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,i)=>(i??[]).map(o=>n.find(l=>l.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),Ee(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,i;return t.setColumnPinning(e?fg():(n=(i=t.initialState)==null?void 0:i.columnPinning)!=null?n:fg())},t.getIsSomeColumnsPinned=e=>{var n;const i=t.getState().columnPinning;if(!e){var a,o;return!!((a=i.left)!=null&&a.length||(o=i.right)!=null&&o.length)}return!!((n=i[e])!=null&&n.length)},t.getLeftLeafColumns=xe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(i=>e.find(a=>a.id===i)).filter(Boolean),Ee(t.options,"debugColumns")),t.getRightLeafColumns=xe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(i=>e.find(a=>a.id===i)).filter(Boolean),Ee(t.options,"debugColumns")),t.getCenterLeafColumns=xe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,i)=>{const a=[...n??[],...i??[]];return e.filter(o=>!a.includes(o.id))},Ee(t.options,"debugColumns"))}};function gM(t){return t||(typeof document<"u"?document:null)}const Nu={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},gg=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),mM={getDefaultColumnDef:()=>Nu,getInitialState:t=>({columnSizing:{},columnSizingInfo:gg(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Vn("columnSizing",t),onColumnSizingInfoChange:Vn("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,i,a;const o=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:Nu.minSize,(i=o??t.columnDef.size)!=null?i:Nu.size),(a=t.columnDef.maxSize)!=null?a:Nu.maxSize)},t.getStart=xe(n=>[n,Tl(e,n),e.getState().columnSizing],(n,i)=>i.slice(0,t.getIndex(n)).reduce((a,o)=>a+o.getSize(),0),Ee(e.options,"debugColumns")),t.getAfter=xe(n=>[n,Tl(e,n),e.getState().columnSizing],(n,i)=>i.slice(t.getIndex(n)+1).reduce((a,o)=>a+o.getSize(),0),Ee(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:i,...a}=n;return a})},t.getCanResize=()=>{var n,i;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((i=e.options.enableColumnResizing)!=null?i:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const i=a=>{if(a.subHeaders.length)a.subHeaders.forEach(i);else{var o;n+=(o=a.column.getSize())!=null?o:0}};return i(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const i=e.getColumn(t.column.id),a=i?.getCanResize();return o=>{if(!i||!a||(o.persist==null||o.persist(),mg(o)&&o.touches&&o.touches.length>1))return;const l=t.getSize(),u=t?t.getLeafHeaders().map(C=>[C.column.id,C.column.getSize()]):[[i.id,i.getSize()]],d=mg(o)?Math.round(o.touches[0].clientX):o.clientX,f={},g=(C,A)=>{typeof A=="number"&&(e.setColumnSizingInfo(T=>{var k,D;const V=e.options.columnResizeDirection==="rtl"?-1:1,F=(A-((k=T?.startOffset)!=null?k:0))*V,L=Math.max(F/((D=T?.startSize)!=null?D:0),-.999999);return T.columnSizingStart.forEach($=>{let[G,Q]=$;f[G]=Math.round(Math.max(Q+Q*L,0)*100)/100}),{...T,deltaOffset:F,deltaPercentage:L}}),(e.options.columnResizeMode==="onChange"||C==="end")&&e.setColumnSizing(T=>({...T,...f})))},p=C=>g("move",C),y=C=>{g("end",C),e.setColumnSizingInfo(A=>({...A,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},_=gM(n),w={moveHandler:C=>p(C.clientX),upHandler:C=>{_?.removeEventListener("mousemove",w.moveHandler),_?.removeEventListener("mouseup",w.upHandler),y(C.clientX)}},S={moveHandler:C=>(C.cancelable&&(C.preventDefault(),C.stopPropagation()),p(C.touches[0].clientX),!1),upHandler:C=>{var A;_?.removeEventListener("touchmove",S.moveHandler),_?.removeEventListener("touchend",S.upHandler),C.cancelable&&(C.preventDefault(),C.stopPropagation()),y((A=C.touches[0])==null?void 0:A.clientX)}},x=pM()?{passive:!1}:!1;mg(o)?(_?.addEventListener("touchmove",S.moveHandler,x),_?.addEventListener("touchend",S.upHandler,x)):(_?.addEventListener("mousemove",w.moveHandler,x),_?.addEventListener("mouseup",w.upHandler,x)),e.setColumnSizingInfo(C=>({...C,startOffset:d,startSize:l,deltaOffset:0,deltaPercentage:0,columnSizingStart:u,isResizingColumn:i.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?gg():(n=t.initialState.columnSizingInfo)!=null?n:gg())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((i,a)=>i+a.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((i,a)=>i+a.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((i,a)=>i+a.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((i,a)=>i+a.getSize(),0))!=null?e:0}}};let ju=null;function pM(){if(typeof ju=="boolean")return ju;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return ju=t,ju}function mg(t){return t.type==="touchstart"}const vM={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Vn("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(i=>({...i,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,i;const a=t.columns;return(n=a.length?a.some(o=>o.getIsVisible()):(i=e.getState().columnVisibility)==null?void 0:i[t.id])!=null?n:!0},t.getCanHide=()=>{var n,i;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((i=e.options.enableHiding)!=null?i:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=xe(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(i=>i.column.getIsVisible()),Ee(e.options,"debugRows")),t.getVisibleCells=xe(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,i,a)=>[...n,...i,...a],Ee(e.options,"debugRows"))},createTable:t=>{const e=(n,i)=>xe(()=>[i(),i().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),Ee(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var i;t.setColumnVisibility(n?{}:(i=t.initialState.columnVisibility)!=null?i:{})},t.toggleAllColumnsVisible=n=>{var i;n=(i=n)!=null?i:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((a,o)=>({...a,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var i;t.toggleAllColumnsVisible((i=n.target)==null?void 0:i.checked)}}};function Tl(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const yM={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},bM={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Vn("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const i=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,i,a,o;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((i=e.options.enableGlobalFilter)!=null?i:!0)&&((a=e.options.enableFilters)!=null?a:!0)&&((o=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?o:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>ds.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:i}=t.options;return Td(i)?i:i==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[i])!=null?e:ds[i]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},_M={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Vn("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var i,a;if(!e){t._queue(()=>{e=!0});return}if((i=(a=t.options.autoResetAll)!=null?a:t.options.autoResetExpanded)!=null?i:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=i=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(i),t.toggleAllRowsExpanded=i=>{i??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=i=>{var a,o;t.setExpanded(i?{}:(a=(o=t.initialState)==null?void 0:o.expanded)!=null?a:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const i=t.getState().expanded;return i===!0||Object.values(i).some(Boolean)},t.getIsAllRowsExpanded=()=>{const i=t.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||t.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},t.getExpandedDepth=()=>{let i=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(o=>{const l=o.split(".");i=Math.max(i,l.length)}),i},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(i=>{var a;const o=i===!0?!0:!!(i!=null&&i[t.id]);let l={};if(i===!0?Object.keys(e.getRowModel().rowsById).forEach(u=>{l[u]=!0}):l=i,n=(a=n)!=null?a:!o,!o&&n)return{...l,[t.id]:!0};if(o&&!n){const{[t.id]:u,...d}=l;return d}return i})},t.getIsExpanded=()=>{var n;const i=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:i===!0||i?.[t.id])},t.getCanExpand=()=>{var n,i,a;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((i=e.options.enableExpanding)!=null?i:!0)&&!!((a=t.subRows)!=null&&a.length)},t.getIsAllParentsExpanded=()=>{let n=!0,i=t;for(;n&&i.parentId;)i=e.getRow(i.parentId,!0),n=i.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},Wg=0,Kg=10,pg=()=>({pageIndex:Wg,pageSize:Kg}),wM={getInitialState:t=>({...t,pagination:{...pg(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:Vn("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var i,a;if(!e){t._queue(()=>{e=!0});return}if((i=(a=t.options.autoResetAll)!=null?a:t.options.autoResetPageIndex)!=null?i:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=i=>{const a=o=>Zs(i,o);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(a)},t.resetPagination=i=>{var a;t.setPagination(i?pg():(a=t.initialState.pagination)!=null?a:pg())},t.setPageIndex=i=>{t.setPagination(a=>{let o=Zs(i,a.pageIndex);const l=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return o=Math.max(0,Math.min(o,l)),{...a,pageIndex:o}})},t.resetPageIndex=i=>{var a,o;t.setPageIndex(i?Wg:(a=(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?a:Wg)},t.resetPageSize=i=>{var a,o;t.setPageSize(i?Kg:(a=(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?a:Kg)},t.setPageSize=i=>{t.setPagination(a=>{const o=Math.max(1,Zs(i,a.pageSize)),l=a.pageSize*a.pageIndex,u=Math.floor(l/o);return{...a,pageIndex:u,pageSize:o}})},t.setPageCount=i=>t.setPagination(a=>{var o;let l=Zs(i,(o=t.options.pageCount)!=null?o:-1);return typeof l=="number"&&(l=Math.max(-1,l)),{...a,pageCount:l}}),t.getPageOptions=xe(()=>[t.getPageCount()],i=>{let a=[];return i&&i>0&&(a=[...new Array(i)].fill(null).map((o,l)=>l)),a},Ee(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:i}=t.getState().pagination,a=t.getPageCount();return a===-1?!0:a===0?!1:i<a-1},t.previousPage=()=>t.setPageIndex(i=>i-1),t.nextPage=()=>t.setPageIndex(i=>i+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var i;return(i=t.options.pageCount)!=null?i:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var i;return(i=t.options.rowCount)!=null?i:t.getPrePaginationRowModel().rows.length}}},vg=()=>({top:[],bottom:[]}),SM={getInitialState:t=>({rowPinning:vg(),...t}),getDefaultOptions:t=>({onRowPinningChange:Vn("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,i,a)=>{const o=i?t.getLeafRows().map(d=>{let{id:f}=d;return f}):[],l=a?t.getParentRows().map(d=>{let{id:f}=d;return f}):[],u=new Set([...l,t.id,...o]);e.setRowPinning(d=>{var f,g;if(n==="bottom"){var p,y;return{top:((p=d?.top)!=null?p:[]).filter(S=>!(u!=null&&u.has(S))),bottom:[...((y=d?.bottom)!=null?y:[]).filter(S=>!(u!=null&&u.has(S))),...Array.from(u)]}}if(n==="top"){var _,w;return{top:[...((_=d?.top)!=null?_:[]).filter(S=>!(u!=null&&u.has(S))),...Array.from(u)],bottom:((w=d?.bottom)!=null?w:[]).filter(S=>!(u!=null&&u.has(S)))}}return{top:((f=d?.top)!=null?f:[]).filter(S=>!(u!=null&&u.has(S))),bottom:((g=d?.bottom)!=null?g:[]).filter(S=>!(u!=null&&u.has(S)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:i,enablePinning:a}=e.options;return typeof i=="function"?i(t):(n=i??a)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:i,bottom:a}=e.getState().rowPinning,o=n.some(u=>i?.includes(u)),l=n.some(u=>a?.includes(u));return o?"top":l?"bottom":!1},t.getPinnedIndex=()=>{var n,i;const a=t.getIsPinned();if(!a)return-1;const o=(n=a==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(l=>{let{id:u}=l;return u});return(i=o?.indexOf(t.id))!=null?i:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,i;return t.setRowPinning(e?vg():(n=(i=t.initialState)==null?void 0:i.rowPinning)!=null?n:vg())},t.getIsSomeRowsPinned=e=>{var n;const i=t.getState().rowPinning;if(!e){var a,o;return!!((a=i.top)!=null&&a.length||(o=i.bottom)!=null&&o.length)}return!!((n=i[e])!=null&&n.length)},t._getPinnedRows=(e,n,i)=>{var a;return((a=t.options.keepPinnedRows)==null||a?(n??[]).map(l=>{const u=t.getRow(l,!0);return u.getIsAllParentsExpanded()?u:null}):(n??[]).map(l=>e.find(u=>u.id===l))).filter(Boolean).map(l=>({...l,position:i}))},t.getTopRows=xe(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Ee(t.options,"debugRows")),t.getBottomRows=xe(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Ee(t.options,"debugRows")),t.getCenterRows=xe(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,i)=>{const a=new Set([...n??[],...i??[]]);return e.filter(o=>!a.has(o.id))},Ee(t.options,"debugRows"))}},xM={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Vn("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const i={...n},a=t.getPreGroupedRowModel().flatRows;return e?a.forEach(o=>{o.getCanSelect()&&(i[o.id]=!0)}):a.forEach(o=>{delete i[o.id]}),i})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const i=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),a={...n};return t.getRowModel().rows.forEach(o=>{Xg(a,o.id,i,!0,t)}),a}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=xe(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?yg(t,n):{rows:[],flatRows:[],rowsById:{}},Ee(t.options,"debugTable")),t.getFilteredSelectedRowModel=xe(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?yg(t,n):{rows:[],flatRows:[],rowsById:{}},Ee(t.options,"debugTable")),t.getGroupedSelectedRowModel=xe(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?yg(t,n):{rows:[],flatRows:[],rowsById:{}},Ee(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let i=!!(e.length&&Object.keys(n).length);return i&&e.some(a=>a.getCanSelect()&&!n[a.id])&&(i=!1),i},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:n}=t.getState();let i=!!e.length;return i&&e.some(a=>!n[a.id])&&(i=!1),i},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,i)=>{const a=t.getIsSelected();e.setRowSelection(o=>{var l;if(n=typeof n<"u"?n:!a,t.getCanSelect()&&a===n)return o;const u={...o};return Xg(u,t.id,n,(l=i?.selectChildren)!=null?l:!0,e),u})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return Om(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return Qg(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return Qg(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return i=>{var a;n&&t.toggleSelected((a=i.target)==null?void 0:a.checked)}}}},Xg=(t,e,n,i,a)=>{var o;const l=a.getRow(e,!0);n?(l.getCanMultiSelect()||Object.keys(t).forEach(u=>delete t[u]),l.getCanSelect()&&(t[e]=!0)):delete t[e],i&&(o=l.subRows)!=null&&o.length&&l.getCanSelectSubRows()&&l.subRows.forEach(u=>Xg(t,u.id,n,i,a))};function yg(t,e){const n=t.getState().rowSelection,i=[],a={},o=function(l,u){return l.map(d=>{var f;const g=Om(d,n);if(g&&(i.push(d),a[d.id]=d),(f=d.subRows)!=null&&f.length&&(d={...d,subRows:o(d.subRows)}),g)return d}).filter(Boolean)};return{rows:o(e.rows),flatRows:i,rowsById:a}}function Om(t,e){var n;return(n=e[t.id])!=null?n:!1}function Qg(t,e,n){var i;if(!((i=t.subRows)!=null&&i.length))return!1;let a=!0,o=!1;return t.subRows.forEach(l=>{if(!(o&&!a)&&(l.getCanSelect()&&(Om(l,e)?o=!0:a=!1),l.subRows&&l.subRows.length)){const u=Qg(l,e);u==="all"?o=!0:(u==="some"&&(o=!0),a=!1)}}),a?"all":o?"some":!1}const Zg=/([0-9]+)/gm,EM=(t,e,n)=>zS(ta(t.getValue(n)).toLowerCase(),ta(e.getValue(n)).toLowerCase()),CM=(t,e,n)=>zS(ta(t.getValue(n)),ta(e.getValue(n))),RM=(t,e,n)=>Tm(ta(t.getValue(n)).toLowerCase(),ta(e.getValue(n)).toLowerCase()),AM=(t,e,n)=>Tm(ta(t.getValue(n)),ta(e.getValue(n))),OM=(t,e,n)=>{const i=t.getValue(n),a=e.getValue(n);return i>a?1:i<a?-1:0},TM=(t,e,n)=>Tm(t.getValue(n),e.getValue(n));function Tm(t,e){return t===e?0:t>e?1:-1}function ta(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function zS(t,e){const n=t.split(Zg).filter(Boolean),i=e.split(Zg).filter(Boolean);for(;n.length&&i.length;){const a=n.shift(),o=i.shift(),l=parseInt(a,10),u=parseInt(o,10),d=[l,u].sort();if(isNaN(d[0])){if(a>o)return 1;if(o>a)return-1;continue}if(isNaN(d[1]))return isNaN(l)?-1:1;if(l>u)return 1;if(u>l)return-1}return n.length-i.length}const hl={alphanumeric:EM,alphanumericCaseSensitive:CM,text:RM,textCaseSensitive:AM,datetime:OM,basic:TM},DM={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Vn("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const a of n){const o=a?.getValue(t.id);if(Object.prototype.toString.call(o)==="[object Date]")return hl.datetime;if(typeof o=="string"&&(i=!0,o.split(Zg).length>1))return hl.alphanumeric}return i?hl.text:hl.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,i;if(!t)throw new Error;return Td(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(i=e.options.sortingFns)==null?void 0:i[t.columnDef.sortingFn])!=null?n:hl[t.columnDef.sortingFn]},t.toggleSorting=(n,i)=>{const a=t.getNextSortingOrder(),o=typeof n<"u"&&n!==null;e.setSorting(l=>{const u=l?.find(_=>_.id===t.id),d=l?.findIndex(_=>_.id===t.id);let f=[],g,p=o?n:a==="desc";if(l!=null&&l.length&&t.getCanMultiSort()&&i?u?g="toggle":g="add":l!=null&&l.length&&d!==l.length-1?g="replace":u?g="toggle":g="replace",g==="toggle"&&(o||a||(g="remove")),g==="add"){var y;f=[...l,{id:t.id,desc:p}],f.splice(0,f.length-((y=e.options.maxMultiSortColCount)!=null?y:Number.MAX_SAFE_INTEGER))}else g==="toggle"?f=l.map(_=>_.id===t.id?{..._,desc:p}:_):g==="remove"?f=l.filter(_=>_.id!==t.id):f=[{id:t.id,desc:p}];return f})},t.getFirstSortDir=()=>{var n,i;return((n=(i=t.columnDef.sortDescFirst)!=null?i:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var i,a;const o=t.getFirstSortDir(),l=t.getIsSorted();return l?l!==o&&((i=e.options.enableSortingRemoval)==null||i)&&(!(n&&(a=e.options.enableMultiRemove)!=null)||a)?!1:l==="desc"?"asc":"desc":o},t.getCanSort=()=>{var n,i;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((i=e.options.enableSorting)!=null?i:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,i;return(n=(i=t.columnDef.enableMultiSort)!=null?i:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const i=(n=e.getState().sorting)==null?void 0:n.find(a=>a.id===t.id);return i?i.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,i;return(n=(i=e.getState().sorting)==null?void 0:i.findIndex(a=>a.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(i=>i.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return i=>{n&&(i.persist==null||i.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(i):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,i;t.setSorting(e?[]:(n=(i=t.initialState)==null?void 0:i.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},MM=[QD,vM,hM,fM,JD,eM,yM,bM,DM,uM,_M,wM,SM,xM,mM];function kM(t){var e,n;const i=[...MM,...(e=t._features)!=null?e:[]];let a={_features:i};const o=a._features.reduce((y,_)=>Object.assign(y,_.getDefaultOptions==null?void 0:_.getDefaultOptions(a)),{}),l=y=>a.options.mergeOptions?a.options.mergeOptions(o,y):{...o,...y};let d={...{},...(n=t.initialState)!=null?n:{}};a._features.forEach(y=>{var _;d=(_=y.getInitialState==null?void 0:y.getInitialState(d))!=null?_:d});const f=[];let g=!1;const p={_features:i,options:{...o,...t},initialState:d,_queue:y=>{f.push(y),g||(g=!0,Promise.resolve().then(()=>{for(;f.length;)f.shift()();g=!1}).catch(_=>setTimeout(()=>{throw _})))},reset:()=>{a.setState(a.initialState)},setOptions:y=>{const _=Zs(y,a.options);a.options=l(_)},getState:()=>a.options.state,setState:y=>{a.options.onStateChange==null||a.options.onStateChange(y)},_getRowId:(y,_,w)=>{var S;return(S=a.options.getRowId==null?void 0:a.options.getRowId(y,_,w))!=null?S:`${w?[w.id,_].join("."):_}`},getCoreRowModel:()=>(a._getCoreRowModel||(a._getCoreRowModel=a.options.getCoreRowModel(a)),a._getCoreRowModel()),getRowModel:()=>a.getPaginationRowModel(),getRow:(y,_)=>{let w=(_?a.getPrePaginationRowModel():a.getRowModel()).rowsById[y];if(!w&&(w=a.getCoreRowModel().rowsById[y],!w))throw new Error;return w},_getDefaultColumnDef:xe(()=>[a.options.defaultColumn],y=>{var _;return y=(_=y)!=null?_:{},{header:w=>{const S=w.header.column.columnDef;return S.accessorKey?S.accessorKey:S.accessorFn?S.id:null},cell:w=>{var S,x;return(S=(x=w.renderValue())==null||x.toString==null?void 0:x.toString())!=null?S:null},...a._features.reduce((w,S)=>Object.assign(w,S.getDefaultColumnDef==null?void 0:S.getDefaultColumnDef()),{}),...y}},Ee(t,"debugColumns")),_getColumnDefs:()=>a.options.columns,getAllColumns:xe(()=>[a._getColumnDefs()],y=>{const _=function(w,S,x){return x===void 0&&(x=0),w.map(C=>{const A=XD(a,C,x,S),T=C;return A.columns=T.columns?_(T.columns,A,x+1):[],A})};return _(y)},Ee(t,"debugColumns")),getAllFlatColumns:xe(()=>[a.getAllColumns()],y=>y.flatMap(_=>_.getFlatColumns()),Ee(t,"debugColumns")),_getAllFlatColumnsById:xe(()=>[a.getAllFlatColumns()],y=>y.reduce((_,w)=>(_[w.id]=w,_),{}),Ee(t,"debugColumns")),getAllLeafColumns:xe(()=>[a.getAllColumns(),a._getOrderColumnsFn()],(y,_)=>{let w=y.flatMap(S=>S.getLeafColumns());return _(w)},Ee(t,"debugColumns")),getColumn:y=>a._getAllFlatColumnsById()[y]};Object.assign(a,p);for(let y=0;y<a._features.length;y++){const _=a._features[y];_==null||_.createTable==null||_.createTable(a)}return a}function NM(){return t=>xe(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},i=function(a,o,l){o===void 0&&(o=0);const u=[];for(let f=0;f<a.length;f++){const g=ZD(t,t._getRowId(a[f],f,l),a[f],f,o,void 0,l?.id);if(n.flatRows.push(g),n.rowsById[g.id]=g,u.push(g),t.options.getSubRows){var d;g.originalSubRows=t.options.getSubRows(a[f],f),(d=g.originalSubRows)!=null&&d.length&&(g.subRows=i(g.originalSubRows,o+1,g))}}return u};return n.rows=i(e),n},Ee(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function jM(){return t=>xe(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const i=t.getState().sorting,a=[],o=i.filter(d=>{var f;return(f=t.getColumn(d.id))==null?void 0:f.getCanSort()}),l={};o.forEach(d=>{const f=t.getColumn(d.id);f&&(l[d.id]={sortUndefined:f.columnDef.sortUndefined,invertSorting:f.columnDef.invertSorting,sortingFn:f.getSortingFn()})});const u=d=>{const f=d.map(g=>({...g}));return f.sort((g,p)=>{for(let _=0;_<o.length;_+=1){var y;const w=o[_],S=l[w.id],x=S.sortUndefined,C=(y=w?.desc)!=null?y:!1;let A=0;if(x){const T=g.getValue(w.id),k=p.getValue(w.id),D=T===void 0,V=k===void 0;if(D||V){if(x==="first")return D?-1:1;if(x==="last")return D?1:-1;A=D&&V?0:D?x:-x}}if(A===0&&(A=S.sortingFn(g,p,w.id)),A!==0)return C&&(A*=-1),S.invertSorting&&(A*=-1),A}return g.index-p.index}),f.forEach(g=>{var p;a.push(g),(p=g.subRows)!=null&&p.length&&(g.subRows=u(g.subRows))}),f};return{rows:u(n.rows),flatRows:a,rowsById:n.rowsById}},Ee(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Q_(t,e){return t?LM(t)?R.createElement(t,e):t:null}function LM(t){return PM(t)||typeof t=="function"||zM(t)}function PM(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function zM(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function IM(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=R.useState(()=>({current:kM(e)})),[i,a]=R.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...t,state:{...i,...t.state},onStateChange:l=>{a(l),t.onStateChange==null||t.onStateChange(l)}})),n.current}function Dm({data:t,columns:e,onSaveRow:n,onDeleteRow:i}){const[a,o]=R.useState(null),[l,u]=R.useState({}),d=R.useMemo(()=>{const p=_=>{const w={};Object.keys(l).forEach(A=>{l[A]!==void 0&&l[A]!==""&&(w[A]=l[A])});const S={..._.original};["machines","progress","n_boxes","time_remaining"].forEach(A=>{delete S[A]});const C={...S,...w};n(C),o(null),u({})},y={id:"actions",header:"Azioni",cell:({row:_})=>{const w=_.id===a;return b.jsx("div",{className:"action-buttons",children:w?b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>p(_),className:"nav-btn today",children:"Salva"}),b.jsx("button",{onClick:()=>o(null),className:"nav-btn today",children:"Annulla"})]}):b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>o(_.id),className:"nav-btn today",children:"Modifica"}),b.jsx("button",{onClick:()=>i(_.original),className:"nav-btn today",children:"Elimina"})]})})}};return[...e,y]},[e,a,l,n,i]),f=R.useMemo(()=>{if(t&&t.length>0){const p=t.map(S=>S.id);p.filter((S,x)=>p.indexOf(S)!==x).length>0;const _=new Set,w=[];t.forEach((S,x)=>{_.has(S.id)?w.push({id:S.id,index:x,item:S}):_.add(S.id)})}return t},[t]),g=IM({data:f,columns:d,getCoreRowModel:NM(),getSortedRowModel:jM(),meta:{editingRowId:a,setEditedData:u}});return b.jsx("div",{className:"table-container",children:b.jsxs("table",{className:"modern-table",children:[b.jsx("thead",{children:g.getHeaderGroups().map(p=>b.jsx("tr",{children:p.headers.map((y,_)=>{const w=`${p.id}_${y.id}_${_}`;return b.jsxs("th",{onClick:y.column.getToggleSortingHandler(),children:[Q_(y.column.columnDef.header,y.getContext()),{asc:" 🔼",desc:" 🔽"}[y.column.getIsSorted()]??null]},w)})},p.id))}),b.jsx("tbody",{children:g.getRowModel().rows.map(p=>{const y=p.original.id||p.id;return b.jsx("tr",{children:p.getVisibleCells().map((_,w)=>{const S=`${y}_${_.column.id}_${w}`;return b.jsx("td",{children:Q_(_.column.columnDef.cell,_.getContext())},S)})},y)})})]})})}function He({row:t,column:e,table:n,value:i,isEditing:a,onChange:o,type:l="auto",options:u=[],parseValue:d=null,min:f=null,max:g=null,step:p=null}){const y=a??n?.options?.meta?.editingRowId===t?.id,_=i??t?.original?.[e?.id],w=l==="auto"?x(e?.id):l,S=T=>{const k=T.target.value;let D=k;d?D=d(k):w==="number"?D=parseFloat(k)||0:w==="integer"&&(D=parseInt(k)||0),n?.options?.meta?.setEditedData?n.options.meta.setEditedData(V=>({...V,[e?.id]:D})):o&&o(T)};function x(T){if(!T)return"text";if(T==="status")return"select";if(["quantity","quantity_completed","quantity_per_box","numero_persone","bag_height","bag_width","bag_step","min_web_width","max_web_width","min_bag_height","max_bag_height"].includes(T))return"integer";const D=["setup_time_standard","changeover_color","changeover_material","t_setup_stampa","t_setup_conf"],V=["costo_h_stampa","costo_h_conf"],F=["standard_speed","v_stampa","v_conf"];return D.includes(T)||V.includes(T)||F.includes(T)?"number":"text"}function C(T){return T==="status"?[{value:ti.ACTIVE,label:ti.ACTIVE},{value:ti.INACTIVE,label:ti.INACTIVE},{value:ti.MAINTENANCE,label:ti.MAINTENANCE}]:T==="department"?[{value:zt.PRINTING,label:zt.PRINTING},{value:zt.PACKAGING,label:zt.PACKAGING}]:T==="work_center"?[{value:Re.ZANICA,label:Re.ZANICA},{value:Re.BUSTO_GAROLFO,label:Re.BUSTO_GAROLFO}]:T==="product_type"?[{value:$r.CREMA,label:"Crema"},{value:$r.LIQUIDO,label:"Liquido"},{value:$r.POLVERI,label:"Polveri"}]:T==="seal_sides"?[{value:Bl.THREE,label:"3 sides"},{value:Bl.FOUR,label:"4 sides"}]:u}if(y)switch(w){case"select":{const T=C(e?.id);return b.jsx("select",{defaultValue:_,onChange:S,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"},children:T.map(k=>b.jsx("option",{value:k.value,children:k.label},k.value))})}case"number":{const T=ll.DECIMAL_PRECISION.TWO_DECIMAL.includes(e?.id)?ll.FIELD_STEPS.COST:(ll.DECIMAL_PRECISION.ONE_DECIMAL.includes(e?.id),ll.FIELD_STEPS.TIME);return b.jsx("input",{type:"number",defaultValue:_,onChange:S,min:f,max:g,step:p||T,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}})}case"integer":return b.jsx("input",{type:"number",defaultValue:_,onChange:S,min:f||0,max:g,step:1,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}});default:return b.jsx("input",{type:"text",defaultValue:_,onChange:S,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}})}const A=_??"";return w==="number"||w==="integer"?b.jsx("span",{children:A}):b.jsx("span",{children:A})}function bs({title:t,children:e}){return b.jsx("div",{className:"sticky-header",children:b.jsxs("div",{className:"sticky-header-content",children:[b.jsx("div",{className:"sticky-header-text",children:b.jsx("h2",{className:"sticky-header-title",children:t})}),e]})})}const IS=()=>{const t=R.useCallback((d,f,g)=>{if(!d||!f||!g)return null;try{const{department:p}=d;if(p==="STAMPA"){const y=f/(d.v_stampa||1),_=d.t_setup_stampa||0,w=y+_,S=w*(d.costo_h_stampa||0);return{totals:{duration:w,cost:S},breakdown:{print:{time:y,cost:y*(d.costo_h_stampa||0)},setup:{time:_,cost:_*(d.costo_h_stampa||0)}}}}else if(p==="CONFEZIONAMENTO"){const y=f/(d.v_conf||1),_=d.t_setup_conf||0,w=y+_,S=w*(d.costo_h_conf||0);return{totals:{duration:w,cost:S},breakdown:{package:{time:y,cost:y*(d.costo_h_conf||0)},setup:{time:_,cost:_*(d.costo_h_conf||0)}}}}return null}catch{return null}},[]),e=R.useCallback(d=>d&&(d.startsWith("P05")||d.startsWith("ISP05"))?"BUSTO_GAROLFO":"ZANICA",[]),n=R.useCallback(d=>d&&d.startsWith("P0")?"CONFEZIONAMENTO":"STAMPA",[]),i=R.useCallback(d=>({STAMPA:["DIGITAL_PRINT","FLEXO_PRINT","ROTOGRAVURE"],CONFEZIONAMENTO:["DOYPACK","PLURI_PIU","MONO_PIU","CONFEZIONAMENTO_TRADIZIONALE","CONFEZIONAMENTO_POLVERI"]})[d]||[],[]),a=R.useCallback((d,f)=>{const p={DIGITAL_PRINT:"DIGI",FLEXO_PRINT:"FLEX",ROTOGRAVURE:"ROTO",DOYPACK:"DOYP",PLURI_PIU:"PLUR",MONO_PIU:"MONO",CONFEZIONAMENTO_TRADIZIONALE:"CONFTRAD",CONFEZIONAMENTO_POLVERI:"CONFPOL"}[d]||"MACH",y=f==="BUSTO_GAROLFO"?"BGF":"ZAN",_=Date.now().toString(36);return`${p}_${y}_${_}`},[]),o=R.useCallback((d,f)=>!(f<0||f>d),[]),l=R.useCallback((d,f)=>!d||d===0?0:Math.round(f*100/d),[]),u=R.useCallback((d,f)=>!d||d===0?0:!f||f===0?d:Math.round(d*(1-f/100)*100)/100,[]);return{calculateProductionMetrics:t,autoDetermineWorkCenter:e,autoDetermineDepartment:n,getValidMachineTypes:i,generateMachineId:a,validateQuantityCompleted:o,calculateCompletionRate:l,calculateTimeRemaining:u}},rd={PHASE:{STAMPA:{v_stampa:{min:0,message:"Printing speed must be greater than 0"},t_setup_stampa:{min:0,message:"Setup time cannot be negative"},costo_h_stampa:{min:0,message:"Hourly cost cannot be negative"}},CONFEZIONAMENTO:{v_conf:{min:0,message:"Packaging speed must be greater than 0"},t_setup_conf:{min:0,message:"Setup time cannot be negative"},costo_h_conf:{min:0,message:"Hourly cost cannot be negative"}}},MACHINE:{min_web_width:{min:0,message:"Minimum web width cannot be negative"},max_web_width:{min:0,message:"Maximum web width cannot be negative"},min_bag_height:{min:0,message:"Minimum bag height cannot be negative"},max_bag_height:{min:0,message:"Maximum bag height cannot be negative"},standard_speed:{min:0,message:"Standard speed cannot be negative"},setup_time_standard:{min:0,message:"Setup time cannot be negative"},changeover_color:{min:0,message:"Color changeover time cannot be negative"},changeover_material:{min:0,message:"Material changeover time cannot be negative"}},ORDER:{bag_height:{min:0,message:"Bag height must be greater than 0"},bag_width:{min:0,message:"Bag width must be greater than 0"},bag_step:{min:0,message:"Bag step must be greater than 0"},quantity:{min:0,message:"Quantity must be greater than 0"},quantity_per_box:{min:0,message:"Quantity per box cannot be negative"},quantity_completed:{min:0,message:"Quantity completed cannot be negative"}}},FS=(t,e)=>{const n={};return e.forEach(i=>{if(!km(t[i])){const a=i.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase());n[i]=`${a} is required`}}),n},Mm=(t,e)=>{const n={};return Object.entries(e).forEach(([i,a])=>{t[i]!==void 0&&t[i]!==null&&t[i]!==""&&(BS(t[i],a.min,a.max)||(n[i]=a.message))}),n},US=(t,e,n="PHASE")=>{const i=rd[n]?.[e];return i?Mm(t,i):{}},HS=(t,e)=>{const n={};return e.forEach(i=>{const{condition:a,errorField:o,message:l}=i;a(t)&&(n[o]=l)}),n},FM=(t,e)=>{const n={};return e.required&&Object.assign(n,FS(t,e.required)),e.numeric&&Object.assign(n,Mm(t,e.numeric)),e.department&&t.department&&Object.assign(n,US(t,t.department,e.departmentSchema)),e.logical&&Object.assign(n,HS(t,e.logical)),n},UM={PHASE:{required:["name","department","work_center"],numeric:{numero_persone:{min:1,message:"Number of people must be at least 1"}},departmentSchema:"PHASE",logical:[{condition:t=>t.bag_width&&t.bag_step&&parseFloat(t.bag_width)<parseFloat(t.bag_step),errorField:"bag_width",message:"Bag width cannot be less than bag step"}]},MACHINE:{required:["machine_name","machine_type","department","work_center"],numeric:rd.MACHINE,logical:[{condition:t=>t.min_web_width&&t.max_web_width&&parseFloat(t.min_web_width)>parseFloat(t.max_web_width),errorField:"min_web_width",message:"Minimum web width cannot exceed maximum web width"},{condition:t=>t.min_bag_height&&t.max_bag_height&&parseFloat(t.min_bag_height)>parseFloat(t.max_bag_height),errorField:"min_bag_height",message:"Minimum bag height cannot exceed maximum bag height"}]},ORDER:{required:["odp_number","article_code","production_lot","bag_height","bag_width","bag_step","product_type","quantity","delivery_date"],numeric:rd.ORDER,logical:[{condition:t=>t.bag_width&&t.bag_step&&parseFloat(t.bag_width)<parseFloat(t.bag_step),errorField:"bag_width",message:"Bag width cannot be less than bag step"},{condition:t=>t.quantity&&t.quantity_completed&&parseFloat(t.quantity_completed)>parseFloat(t.quantity),errorField:"quantity_completed",message:"Quantity completed cannot exceed total quantity"},{condition:t=>t.delivery_date&&t.scheduled_start_time&&new Date(t.scheduled_start_time)>new Date(t.delivery_date),errorField:"scheduled_start_time",message:"Production start cannot be after delivery date"}]},OFF_TIME:{required:["startDate","startTime","endDate","endTime"],logical:[{condition:t=>t.startDate&&t.endDate&&new Date(t.startDate)>new Date(t.endDate),errorField:"endDate",message:"End date cannot be before start date"},{condition:t=>t.startDate&&t.endDate&&t.startDate===t.endDate&&t.startTime&&t.endTime&&t.startTime>=t.endTime,errorField:"endTime",message:"End time must be after start time when dates are the same"}]}},km=t=>typeof t=="string"?t.trim().length>0:Array.isArray(t)?t.length>0:typeof t=="object"&&t!==null?Object.keys(t).length>0:!!t,HM=t=>!t||typeof t!="string"?!1:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),BM=t=>!t||typeof t!="string"?!1:/^[+]?[1-9][\d]{0,15}$/.test(t.replace(/\s/g,"")),VM=t=>{if(!t)return!1;const e=new Date(t);return e instanceof Date&&!isNaN(e)},BS=(t,e=null,n=null)=>{const i=typeof t=="string"?parseFloat(t):t;return!(typeof i!="number"||isNaN(i)||e!==null&&i<e||n!==null&&i>n)},$M=(t,e=null,n=null)=>{const i=typeof t=="string"?parseInt(t,10):t;return!(!Number.isInteger(i)||e!==null&&i<e||n!==null&&i>n)},qM=t=>{if(!t||typeof t!="string")return!1;try{return new URL(t),!0}catch{return!1}},VS=(t,e)=>!t||!e?!1:typeof e=="string"?new RegExp(e).test(t):e instanceof RegExp?e.test(t):!1,$S=(t,e)=>!t||typeof t!="string"?!1:t.length>=e,qS=(t,e)=>!t||typeof t!="string"?!1:t.length<=e,GS=(t,e,n)=>typeof t!="number"||isNaN(t)?!1:t>=e&&t<=n,GM=t=>!t||typeof t!="string"?!1:/^[a-zA-Z0-9\s\-_]{2,100}$/.test(t.trim()),YM=t=>!t||typeof t!="string"?!1:/^[a-zA-Z0-9]{3,20}$/.test(t.trim()),WM=t=>!t||typeof t!="string"?!1:/^[a-zA-Z0-9-]{3,50}$/.test(t.trim()),KM=t=>["ZANICA","BUSTO_GAROLFO"].includes(t),XM=t=>["STAMPA","CONFEZIONAMENTO"].includes(t),QM=t=>["ACTIVE","INACTIVE","MAINTENANCE"].includes(t),ZM=t=>["crema","liquido","polveri"].includes(t),JM=t=>["3","4"].includes(t),ek=(t,e)=>{const n={};return Object.keys(e).forEach(i=>{const a=t[i],o=e[i];if(o.required&&!km(a))n[i]=o.required;else if(a&&o.pattern&&!VS(a,o.pattern))n[i]=o.pattern;else if(a&&o.minLength&&!$S(a,o.minLength))n[i]=o.minLength;else if(a&&o.maxLength&&!qS(a,o.maxLength))n[i]=o.maxLength;else if(a&&o.min!==void 0&&!GS(a,o.min,o.max||1/0))n[i]=o.min;else if(a&&o.custom){const l=o.custom(a,t);l&&(n[i]=l)}}),n},fs={validateRequiredFields:FS,validateNumericFields:Mm,validateDepartmentFields:US,validateLogicalRelations:HS,validateAll:FM,VALIDATION_CONFIGS:UM,VALIDATION_SCHEMAS:rd,isNotEmpty:km,isValidEmail:HM,isValidPhone:BM,isValidDate:VM,isValidNumber:BS,isValidInteger:$M,isValidUrl:qM,matchesPattern:VS,hasMinLength:$S,hasMaxLength:qS,isInRange:GS,isValidMachineName:GM,isValidOdpNumber:YM,isValidArticleCode:WM,isValidWorkCenter:KM,isValidDepartment:XM,isValidMachineStatus:QM,isValidProductType:ZM,isValidSealSides:JM,validateFormData:ek},tk=()=>{const t=R.useCallback(a=>{const o=fs.validateAll(a,fs.VALIDATION_CONFIGS.MACHINE);return Object.values(o)},[]),e=R.useCallback((a,o)=>{const l=[];return o.some(d=>d.scheduled_machine_id===a)&&l.push("Cannot delete machine with scheduled tasks. Please unschedule all tasks first."),l},[]),n=R.useCallback(a=>({name:a?.machine_name||"Unknown Machine",type:a?.machine_type||"Unknown Type",department:a?.department||"Unknown Department",workCenter:a?.work_center||"Unknown Work Center",status:a?.status||"UNKNOWN",isActive:a?.status==="ACTIVE"}),[]),i=R.useCallback((a,o)=>{if(a.status!=="ACTIVE")return!1;const l=a.active_shifts||[];if(l.length===0)return!1;const u=o.getHours();return l.some(f=>{switch(f){case"T1":return u>=6&&u<14;case"T2":return u>=14&&u<22;case"T3":return u>=22||u<6;default:return!1}})},[]);return{validateMachine:t,validateMachineDeletion:e,getMachineDisplayInfo:n,isMachineAvailable:i}},nk=()=>{const t=R.useCallback(a=>{const o=fs.validateAll(a,fs.VALIDATION_CONFIGS.ORDER);return Object.values(o)},[]),e=R.useCallback((a,o)=>{const l=[];if(!a)return l.push("Please select a production phase"),l;o.department&&a.department!==o.department&&l.push(`Selected phase is for ${a.department} department, but order is for ${o.department}`),o.work_center&&a.work_center!==o.work_center&&l.push(`Selected phase is for ${a.work_center} work center, but order is for ${o.work_center}`);const u=fs.validateDepartmentFields(a,a.department,"PHASE");return Object.values(u).forEach(d=>l.push(d)),l},[]),n=R.useCallback((a,o,l,u)=>{const d=[];return a?o?!l||!u?(d.push("Start and end times are required"),d):(o.status!=="ACTIVE"&&d.push(`Machine ${o.machine_name} is not active`),a.scheduled_machine_id&&a.scheduled_machine_id!==o.id&&d.push("Order is already scheduled on a different machine"),a.fase||d.push("Order must have a production phase selected"),(!a.quantity||a.quantity<=0)&&d.push("Order must have a valid quantity"),(!a.duration||a.duration<=0)&&d.push("Order must have calculated duration"),d):(d.push("Machine is required"),d):(d.push("Order is required"),d)},[]),i=R.useCallback(a=>{const o=[];return a?(a.quantity_completed>0&&o.push("Cannot delete order that has started production"),a.scheduled_machine_id&&o.push("Cannot delete scheduled order. Please unschedule first."),o):(o.push("Order is required"),o)},[]);return{validateOrder:t,validatePhaseSelection:e,validateOrderScheduling:n,validateOrderDeletion:i}},ik=()=>({validatePhase:n=>{const i=fs.validateAll(n,fs.VALIDATION_CONFIGS.PHASE);return Object.values(i)},validateForm:n=>fs.validateAll(n,fs.VALIDATION_CONFIGS.PHASE)}),_s=(t="")=>{const{showAlert:e,showConfirmDialog:n}=Ce(),i=R.useCallback((y,_={})=>{const{showUserAlert:w=!0,alertType:S="error",logError:x=!0,context:C=t,fallbackMessage:A="An unexpected error occurred"}=_,T=Bn(y,C);if(x&&hi(T,C),w){const k=T.userMessage||A;e(k,S)}return T},[t,e]),a=R.useCallback(async(y,_={})=>{const{showUserAlert:w=!0,alertType:S="error",context:x=t,fallbackMessage:C="Operation failed",retry:A=!1,maxRetries:T=3}=_;try{return A?await z_(y,T):await y()}catch(k){throw i(k,{showUserAlert:w,alertType:S,context:x,fallbackMessage:C})}},[t,i]),o=R.useCallback((y,_)=>{const w=i(y,{showUserAlert:!1});w.code===Ie.VALIDATION_ERROR?w.fieldErrors?Object.entries(w.fieldErrors).forEach(([S,x])=>{_(S,{type:"server",message:x})}):_("root",{type:"server",message:w.userMessage}):_("root",{type:"server",message:w.userMessage})},[i]),l=R.useCallback((y,_,w)=>{const S=i(y,{context:`${_} ${w}`,fallbackMessage:`Failed to ${_} ${w}`});return S.code===Ie.VALIDATION_ERROR?e(`Please check the ${w} information and try again.`,"error"):S.code===Ie.NOT_FOUND_ERROR?e(`${w} not found. It may have been deleted.`,"error"):S.code===Ie.AUTHORIZATION_ERROR&&e(`You don't have permission to ${_} ${w}.`,"error"),S},[i,e]),u=R.useCallback((y,_)=>{const w=i(y,{context:"Network Operation",fallbackMessage:"Network error occurred"});return w.code===Ie.NETWORK_ERROR&&_&&n("Network Error","Your connection seems to be unstable. Would you like to retry?",_,"warning"),w},[i,n]),d=R.useCallback(y=>{const _=i(y,{context:"Authentication",fallbackMessage:"Authentication error occurred"});return _.code===Ie.AUTHENTICATION_ERROR&&e("Please log in again to continue.","warning"),_},[i,e]),f=R.useCallback((y,_="")=>Gg(y,_||t),[t]),g=R.useCallback(y=>Bn(y,t).severity||"medium",[t]),p=R.useMemo(()=>Ie,[]);return{handleError:i,handleAsync:a,handleFormError:o,handleCrudError:l,handleNetworkError:u,handleAuthError:d,createSafeAsync:f,getErrorSeverity:g,errorTypes:p,withRetry:z_,safeAsync:Gg}},sk=(t,e)=>{const{phases:n}=gi(),[i,a]=R.useState(""),[o,l]=R.useState(!1),[u,d]=R.useState(null),[f,g]=R.useState({}),p=R.useRef(null),y=R.useMemo(()=>!n||n.length===0?[]:t||e?n.filter(T=>(!t||T.department===t)&&(!e||T.work_center===e)).filter(T=>T.name.toLowerCase().includes(i.toLowerCase())):[],[i,t,e,n]);R.useEffect(()=>()=>{p.current&&clearTimeout(p.current)},[]);const _=R.useCallback((A,T)=>{g(k=>({...k,[A]:T}))},[]),w=R.useCallback((A,T,k)=>{T("fase",A.id),d(A),a(A.name),l(!1),k("fase"),g({v_stampa:A.v_stampa||"",t_setup_stampa:A.t_setup_stampa||"",costo_h_stampa:A.costo_h_stampa||"",v_conf:A.v_conf||"",t_setup_conf:A.t_setup_conf||"",costo_h_conf:A.costo_h_conf||""})},[]),S=R.useCallback(()=>{a(""),d(null),g({})},[]),x=R.useCallback(()=>{p.current&&clearTimeout(p.current),p.current=setTimeout(()=>l(!1),150)},[]);return R.useMemo(()=>({phaseSearch:i,setPhaseSearch:a,isDropdownVisible:o,setIsDropdownVisible:l,selectedPhase:u,setSelectedPhase:d,filteredPhases:y,editablePhaseParams:f,setEditablePhaseParams:g,handlePhaseParamChange:_,handlePhaseSelect:w,resetPhaseData:S,handleBlur:x,blurTimeoutRef:p}),[i,o,u,y,f,g,_,w,S,x])};function ak(){const{machines:t,updateMachine:e,removeMachine:n}=Jt(),{selectedWorkCenter:i,isLoading:a,isInitialized:o,showAlert:l,showConfirmDialog:u}=Ce(),{init:d,cleanup:f}=Ii(),g=R.useMemo(()=>i?i===Re.BOTH?t:t.filter(x=>x.work_center===i):[],[t,i]),{validateMachine:p}=tk(),{handleAsync:y}=_s("MachineryListPage");R.useEffect(()=>(o||d(),()=>{f()}),[d,o,f]);const _=R.useMemo(()=>[{header:"ID Macchina",accessorKey:"id"},{header:"Tipo Macchina",accessorKey:"machine_type"},{header:"Nome Macchina",accessorKey:"machine_name",cell:He},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Stato",accessorKey:"status",cell:He},{header:"Larghezza Min (mm)",accessorKey:"min_web_width",cell:He},{header:"Larghezza Max (mm)",accessorKey:"max_web_width",cell:He},{header:"Altezza Min (mm)",accessorKey:"min_bag_height",cell:He},{header:"Altezza Max (mm)",accessorKey:"max_bag_height",cell:He},{header:"Velocità Std",accessorKey:"standard_speed",cell:He},{header:"Setup (h)",accessorKey:"setup_time_standard",cell:He},{header:"Cambio Colore (h)",accessorKey:"changeover_color",cell:He},{header:"Cambio Materiale (h)",accessorKey:"changeover_material",cell:He},{header:"Turni Attivi",accessorKey:"active_shifts",cell:x=>Array.isArray(x.getValue())?x.getValue().join(", "):""},{header:"Creato il",accessorKey:"created_at",cell:x=>new Date(x.getValue()).toLocaleDateString()},{header:"Aggiornato il",accessorKey:"updated_at",cell:x=>new Date(x.getValue()).toLocaleDateString()},{header:"Calendario",accessorKey:"id",cell:x=>b.jsx(Sn,{to:`/machinery/${x.getValue()}/calendar`,className:"nav-btn today",style:{textDecoration:"none"},children:"Visualizza Calendario"})}],[]),w=async x=>{const C=p(x);if(C.length>0){l(`Errori di validazione:
${C.join(`
`)}`,"error");return}await y(()=>e(x.id,x),{context:"Aggiorna Macchina",fallbackMessage:"Aggiornamento macchina fallito"})},S=async x=>{u("Elimina Macchina",`Sei sicuro di voler eliminare "${x.machine_name}"? Questa azione non può essere annullata.`,async()=>{await y(()=>n(x.id),{context:"Elimina Macchina",fallbackMessage:"Eliminazione macchina fallita"})},"danger")};return a?b.jsx("div",{children:"Caricamento dati macchine..."}):i?b.jsxs("div",{className:"content-section",children:[b.jsx(bs,{title:"Catalogo Macchine"}),b.jsx(Dm,{columns:_,data:g,onSaveRow:w,onDeleteRow:S})]}):b.jsx("div",{className:"error",children:"Seleziona un centro di lavoro per visualizzare i dati delle macchine."})}var rc=t=>t.type==="checkbox",La=t=>t instanceof Date,wn=t=>t==null;const YS=t=>typeof t=="object";var Mt=t=>!wn(t)&&!Array.isArray(t)&&YS(t)&&!La(t),rk=t=>Mt(t)&&t.target?rc(t.target)?t.target.checked:t.target.value:t,ok=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,lk=(t,e)=>t.has(ok(e)),ck=t=>{const e=t.constructor&&t.constructor.prototype;return Mt(e)&&e.hasOwnProperty("isPrototypeOf")},Nm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qt(t){let e;const n=Array.isArray(t),i=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Nm&&(t instanceof Blob||i))&&(n||Mt(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!ck(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=Qt(t[a]));else return t;return e}var Dd=t=>/^\w*$/.test(t),Pt=t=>t===void 0,jm=t=>Array.isArray(t)?t.filter(Boolean):[],Lm=t=>jm(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ve=(t,e,n)=>{if(!e||!Mt(t))return n;const i=(Dd(e)?[e]:Lm(e)).reduce((a,o)=>wn(a)?a:a[o],t);return Pt(i)||i===t?Pt(t[e])?n:t[e]:i},Pi=t=>typeof t=="boolean",yt=(t,e,n)=>{let i=-1;const a=Dd(e)?[e]:Lm(e),o=a.length,l=o-1;for(;++i<o;){const u=a[i];let d=n;if(i!==l){const f=t[u];d=Mt(f)||Array.isArray(f)?f:isNaN(+a[i+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;t[u]=d,t=t[u]}};const Z_={BLUR:"blur",FOCUS_OUT:"focusout"},mi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},as={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},uk=Me.createContext(null);uk.displayName="HookFormContext";var dk=(t,e,n,i=!0)=>{const a={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(a,o,{get:()=>{const l=o;return e._proxyFormState[l]!==mi.all&&(e._proxyFormState[l]=!i||mi.all),t[l]}});return a};const hk=typeof window<"u"?Me.useLayoutEffect:Me.useEffect;var zi=t=>typeof t=="string",fk=(t,e,n,i,a)=>zi(t)?(i&&e.watch.add(t),ve(n,t,a)):Array.isArray(t)?t.map(o=>(i&&e.watch.add(o),ve(n,o))):(i&&(e.watchAll=!0),n),Jg=t=>wn(t)||!YS(t);function Xs(t,e,n=new WeakSet){if(Jg(t)||Jg(e))return t===e;if(La(t)&&La(e))return t.getTime()===e.getTime();const i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const o of i){const l=t[o];if(!a.includes(o))return!1;if(o!=="ref"){const u=e[o];if(La(l)&&La(u)||Mt(l)&&Mt(u)||Array.isArray(l)&&Array.isArray(u)?!Xs(l,u,n):l!==u)return!1}}return!0}var gk=(t,e,n,i,a)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:a||!0}}:{},Dl=t=>Array.isArray(t)?t:[t],J_=()=>{let t=[];return{get observers(){return t},next:a=>{for(const o of t)o.next&&o.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(o=>o!==a)}}),unsubscribe:()=>{t=[]}}},Mn=t=>Mt(t)&&!Object.keys(t).length,Pm=t=>t.type==="file",pi=t=>typeof t=="function",od=t=>{if(!Nm)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},WS=t=>t.type==="select-multiple",zm=t=>t.type==="radio",mk=t=>zm(t)||rc(t),bg=t=>od(t)&&t.isConnected;function pk(t,e){const n=e.slice(0,-1).length;let i=0;for(;i<n;)t=Pt(t)?i++:t[e[i++]];return t}function vk(t){for(const e in t)if(t.hasOwnProperty(e)&&!Pt(t[e]))return!1;return!0}function Lt(t,e){const n=Array.isArray(e)?e:Dd(e)?[e]:Lm(e),i=n.length===1?t:pk(t,n),a=n.length-1,o=n[a];return i&&delete i[o],a!==0&&(Mt(i)&&Mn(i)||Array.isArray(i)&&vk(i))&&Lt(t,n.slice(0,-1)),t}var KS=t=>{for(const e in t)if(pi(t[e]))return!0;return!1};function ld(t,e={}){const n=Array.isArray(t);if(Mt(t)||n)for(const i in t)Array.isArray(t[i])||Mt(t[i])&&!KS(t[i])?(e[i]=Array.isArray(t[i])?[]:{},ld(t[i],e[i])):wn(t[i])||(e[i]=!0);return e}function XS(t,e,n){const i=Array.isArray(t);if(Mt(t)||i)for(const a in t)Array.isArray(t[a])||Mt(t[a])&&!KS(t[a])?Pt(e)||Jg(n[a])?n[a]=Array.isArray(t[a])?ld(t[a],[]):{...ld(t[a])}:XS(t[a],wn(e)?{}:e[a],n[a]):n[a]=!Xs(t[a],e[a]);return n}var fl=(t,e)=>XS(t,e,ld(e));const e0={value:!1,isValid:!1},t0={value:!0,isValid:!0};var QS=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Pt(t[0].attributes.value)?Pt(t[0].value)||t[0].value===""?t0:{value:t[0].value,isValid:!0}:t0:e0}return e0},ZS=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:i})=>Pt(t)?t:e?t===""?NaN:t&&+t:n&&zi(t)?new Date(t):i?i(t):t;const n0={isValid:!1,value:null};var JS=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,n0):n0;function i0(t){const e=t.ref;return Pm(e)?e.files:zm(e)?JS(t.refs).value:WS(e)?[...e.selectedOptions].map(({value:n})=>n):rc(e)?QS(t.refs).value:ZS(Pt(e.value)?t.ref.value:e.value,t)}var yk=(t,e,n,i)=>{const a={};for(const o of t){const l=ve(e,o);l&&yt(a,o,l._f)}return{criteriaMode:n,names:[...t],fields:a,shouldUseNativeValidation:i}},cd=t=>t instanceof RegExp,gl=t=>Pt(t)?t:cd(t)?t.source:Mt(t)?cd(t.value)?t.value.source:t.value:t,s0=t=>({isOnSubmit:!t||t===mi.onSubmit,isOnBlur:t===mi.onBlur,isOnChange:t===mi.onChange,isOnAll:t===mi.all,isOnTouch:t===mi.onTouched});const a0="AsyncFunction";var bk=t=>!!t&&!!t.validate&&!!(pi(t.validate)&&t.validate.constructor.name===a0||Mt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===a0)),_k=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),r0=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const Ml=(t,e,n,i)=>{for(const a of n||Object.keys(t)){const o=ve(t,a);if(o){const{_f:l,...u}=o;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],a)&&!i)return!0;if(l.ref&&e(l.ref,l.name)&&!i)return!0;if(Ml(u,e))break}else if(Mt(u)&&Ml(u,e))break}}};function o0(t,e,n){const i=ve(t,n);if(i||Dd(n))return{error:i,name:n};const a=n.split(".");for(;a.length;){const o=a.join("."),l=ve(e,o),u=ve(t,o);if(l&&!Array.isArray(l)&&n!==o)return{name:n};if(u&&u.type)return{name:o,error:u};if(u&&u.root&&u.root.type)return{name:`${o}.root`,error:u.root};a.pop()}return{name:n}}var wk=(t,e,n,i)=>{n(t);const{name:a,...o}=t;return Mn(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(l=>e[l]===(!i||mi.all))},Sk=(t,e,n)=>!t||!e||t===e||Dl(t).some(i=>i&&(n?i===e:i.startsWith(e)||e.startsWith(i))),xk=(t,e,n,i,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(e||t):(n?i.isOnBlur:a.isOnBlur)?!t:(n?i.isOnChange:a.isOnChange)?t:!0,Ek=(t,e)=>!jm(ve(t,e)).length&&Lt(t,e),Ck=(t,e,n)=>{const i=Dl(ve(t,n));return yt(i,"root",e[n]),yt(t,n,i),t},Zu=t=>zi(t);function l0(t,e,n="validate"){if(Zu(t)||Array.isArray(t)&&t.every(Zu)||Pi(t)&&!t)return{type:n,message:Zu(t)?t:"",ref:e}}var Ir=t=>Mt(t)&&!cd(t)?t:{value:t,message:""},c0=async(t,e,n,i,a,o)=>{const{ref:l,refs:u,required:d,maxLength:f,minLength:g,min:p,max:y,pattern:_,validate:w,name:S,valueAsNumber:x,mount:C}=t._f,A=ve(n,S);if(!C||e.has(S))return{};const T=u?u[0]:l,k=Z=>{a&&T.reportValidity&&(T.setCustomValidity(Pi(Z)?"":Z||""),T.reportValidity())},D={},V=zm(l),F=rc(l),L=V||F,$=(x||Pm(l))&&Pt(l.value)&&Pt(A)||od(l)&&l.value===""||A===""||Array.isArray(A)&&!A.length,G=gk.bind(null,S,i,D),Q=(Z,ce,ue,he=as.maxLength,z=as.minLength)=>{const W=Z?ce:ue;D[S]={type:Z?he:z,message:W,ref:l,...G(Z?he:z,W)}};if(o?!Array.isArray(A)||!A.length:d&&(!L&&($||wn(A))||Pi(A)&&!A||F&&!QS(u).isValid||V&&!JS(u).isValid)){const{value:Z,message:ce}=Zu(d)?{value:!!d,message:d}:Ir(d);if(Z&&(D[S]={type:as.required,message:ce,ref:T,...G(as.required,ce)},!i))return k(ce),D}if(!$&&(!wn(p)||!wn(y))){let Z,ce;const ue=Ir(y),he=Ir(p);if(!wn(A)&&!isNaN(A)){const z=l.valueAsNumber||A&&+A;wn(ue.value)||(Z=z>ue.value),wn(he.value)||(ce=z<he.value)}else{const z=l.valueAsDate||new Date(A),W=N=>new Date(new Date().toDateString()+" "+N),oe=l.type=="time",fe=l.type=="week";zi(ue.value)&&A&&(Z=oe?W(A)>W(ue.value):fe?A>ue.value:z>new Date(ue.value)),zi(he.value)&&A&&(ce=oe?W(A)<W(he.value):fe?A<he.value:z<new Date(he.value))}if((Z||ce)&&(Q(!!Z,ue.message,he.message,as.max,as.min),!i))return k(D[S].message),D}if((f||g)&&!$&&(zi(A)||o&&Array.isArray(A))){const Z=Ir(f),ce=Ir(g),ue=!wn(Z.value)&&A.length>+Z.value,he=!wn(ce.value)&&A.length<+ce.value;if((ue||he)&&(Q(ue,Z.message,ce.message),!i))return k(D[S].message),D}if(_&&!$&&zi(A)){const{value:Z,message:ce}=Ir(_);if(cd(Z)&&!A.match(Z)&&(D[S]={type:as.pattern,message:ce,ref:l,...G(as.pattern,ce)},!i))return k(ce),D}if(w){if(pi(w)){const Z=await w(A,n),ce=l0(Z,T);if(ce&&(D[S]={...ce,...G(as.validate,ce.message)},!i))return k(ce.message),D}else if(Mt(w)){let Z={};for(const ce in w){if(!Mn(Z)&&!i)break;const ue=l0(await w[ce](A,n),T,ce);ue&&(Z={...ue,...G(ce,ue.message)},k(ue.message),i&&(D[S]=Z))}if(!Mn(Z)&&(D[S]={ref:T,...Z},!i))return D}}return k(!0),D};const Rk={mode:mi.onSubmit,reValidateMode:mi.onChange,shouldFocusError:!0};function Ak(t={}){let e={...Rk,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:pi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},a=Mt(e.defaultValues)||Mt(e.values)?Qt(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Qt(a),l={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,f=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...g};const y={array:J_(),state:J_()},_=e.criteriaMode===mi.all,w=j=>H=>{clearTimeout(f),f=setTimeout(j,H)},S=async j=>{if(!e.disabled&&(g.isValid||p.isValid||j)){const H=e.resolver?Mn((await F()).errors):await $(i,!0);H!==n.isValid&&y.state.next({isValid:H})}},x=(j,H)=>{!e.disabled&&(g.isValidating||g.validatingFields||p.isValidating||p.validatingFields)&&((j||Array.from(u.mount)).forEach(X=>{X&&(H?yt(n.validatingFields,X,H):Lt(n.validatingFields,X))}),y.state.next({validatingFields:n.validatingFields,isValidating:!Mn(n.validatingFields)}))},C=(j,H=[],X,ge,de=!0,re=!0)=>{if(ge&&X&&!e.disabled){if(l.action=!0,re&&Array.isArray(ve(i,j))){const pe=X(ve(i,j),ge.argA,ge.argB);de&&yt(i,j,pe)}if(re&&Array.isArray(ve(n.errors,j))){const pe=X(ve(n.errors,j),ge.argA,ge.argB);de&&yt(n.errors,j,pe),Ek(n.errors,j)}if((g.touchedFields||p.touchedFields)&&re&&Array.isArray(ve(n.touchedFields,j))){const pe=X(ve(n.touchedFields,j),ge.argA,ge.argB);de&&yt(n.touchedFields,j,pe)}(g.dirtyFields||p.dirtyFields)&&(n.dirtyFields=fl(a,o)),y.state.next({name:j,isDirty:Q(j,H),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else yt(o,j,H)},A=(j,H)=>{yt(n.errors,j,H),y.state.next({errors:n.errors})},T=j=>{n.errors=j,y.state.next({errors:n.errors,isValid:!1})},k=(j,H,X,ge)=>{const de=ve(i,j);if(de){const re=ve(o,j,Pt(X)?ve(a,j):X);Pt(re)||ge&&ge.defaultChecked||H?yt(o,j,H?re:i0(de._f)):ue(j,re),l.mount&&S()}},D=(j,H,X,ge,de)=>{let re=!1,pe=!1;const _e={name:j};if(!e.disabled){if(!X||ge){(g.isDirty||p.isDirty)&&(pe=n.isDirty,n.isDirty=_e.isDirty=Q(),re=pe!==_e.isDirty);const Te=Xs(ve(a,j),H);pe=!!ve(n.dirtyFields,j),Te?Lt(n.dirtyFields,j):yt(n.dirtyFields,j,!0),_e.dirtyFields=n.dirtyFields,re=re||(g.dirtyFields||p.dirtyFields)&&pe!==!Te}if(X){const Te=ve(n.touchedFields,j);Te||(yt(n.touchedFields,j,X),_e.touchedFields=n.touchedFields,re=re||(g.touchedFields||p.touchedFields)&&Te!==X)}re&&de&&y.state.next(_e)}return re?_e:{}},V=(j,H,X,ge)=>{const de=ve(n.errors,j),re=(g.isValid||p.isValid)&&Pi(H)&&n.isValid!==H;if(e.delayError&&X?(d=w(()=>A(j,X)),d(e.delayError)):(clearTimeout(f),d=null,X?yt(n.errors,j,X):Lt(n.errors,j)),(X?!Xs(de,X):de)||!Mn(ge)||re){const pe={...ge,...re&&Pi(H)?{isValid:H}:{},errors:n.errors,name:j};n={...n,...pe},y.state.next(pe)}},F=async j=>{x(j,!0);const H=await e.resolver(o,e.context,yk(j||u.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return x(j),H},L=async j=>{const{errors:H}=await F(j);if(j)for(const X of j){const ge=ve(H,X);ge?yt(n.errors,X,ge):Lt(n.errors,X)}else n.errors=H;return H},$=async(j,H,X={valid:!0})=>{for(const ge in j){const de=j[ge];if(de){const{_f:re,...pe}=de;if(re){const _e=u.array.has(re.name),Te=de._f&&bk(de._f);Te&&g.validatingFields&&x([ge],!0);const Be=await c0(de,u.disabled,o,_,e.shouldUseNativeValidation&&!H,_e);if(Te&&g.validatingFields&&x([ge]),Be[re.name]&&(X.valid=!1,H))break;!H&&(ve(Be,re.name)?_e?Ck(n.errors,Be,re.name):yt(n.errors,re.name,Be[re.name]):Lt(n.errors,re.name))}!Mn(pe)&&await $(pe,H,X)}}return X.valid},G=()=>{for(const j of u.unMount){const H=ve(i,j);H&&(H._f.refs?H._f.refs.every(X=>!bg(X)):!bg(H._f.ref))&&Oe(j)}u.unMount=new Set},Q=(j,H)=>!e.disabled&&(j&&H&&yt(o,j,H),!Xs(N(),a)),Z=(j,H,X)=>fk(j,u,{...l.mount?o:Pt(H)?a:zi(j)?{[j]:H}:H},X,H),ce=j=>jm(ve(l.mount?o:a,j,e.shouldUnregister?ve(a,j,[]):[])),ue=(j,H,X={})=>{const ge=ve(i,j);let de=H;if(ge){const re=ge._f;re&&(!re.disabled&&yt(o,j,ZS(H,re)),de=od(re.ref)&&wn(H)?"":H,WS(re.ref)?[...re.ref.options].forEach(pe=>pe.selected=de.includes(pe.value)):re.refs?rc(re.ref)?re.refs.forEach(pe=>{(!pe.defaultChecked||!pe.disabled)&&(Array.isArray(de)?pe.checked=!!de.find(_e=>_e===pe.value):pe.checked=de===pe.value||!!de)}):re.refs.forEach(pe=>pe.checked=pe.value===de):Pm(re.ref)?re.ref.value="":(re.ref.value=de,re.ref.type||y.state.next({name:j,values:Qt(o)})))}(X.shouldDirty||X.shouldTouch)&&D(j,de,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&fe(j)},he=(j,H,X)=>{for(const ge in H){if(!H.hasOwnProperty(ge))return;const de=H[ge],re=j+"."+ge,pe=ve(i,re);(u.array.has(j)||Mt(de)||pe&&!pe._f)&&!La(de)?he(re,de,X):ue(re,de,X)}},z=(j,H,X={})=>{const ge=ve(i,j),de=u.array.has(j),re=Qt(H);yt(o,j,re),de?(y.array.next({name:j,values:Qt(o)}),(g.isDirty||g.dirtyFields||p.isDirty||p.dirtyFields)&&X.shouldDirty&&y.state.next({name:j,dirtyFields:fl(a,o),isDirty:Q(j,re)})):ge&&!ge._f&&!wn(re)?he(j,re,X):ue(j,re,X),r0(j,u)&&y.state.next({...n,name:j}),y.state.next({name:l.mount?j:void 0,values:Qt(o)})},W=async j=>{l.mount=!0;const H=j.target;let X=H.name,ge=!0;const de=ve(i,X),re=Te=>{ge=Number.isNaN(Te)||La(Te)&&isNaN(Te.getTime())||Xs(Te,ve(o,X,Te))},pe=s0(e.mode),_e=s0(e.reValidateMode);if(de){let Te,Be;const Ui=H.type?i0(de._f):rk(j),It=j.type===Z_.BLUR||j.type===Z_.FOCUS_OUT,Ba=!_k(de._f)&&!e.resolver&&!ve(n.errors,X)&&!de._f.deps||xk(It,ve(n.touchedFields,X),n.isSubmitted,_e,pe),Si=r0(X,u,It);yt(o,X,Ui),It?(!H||!H.readOnly)&&(de._f.onBlur&&de._f.onBlur(j),d&&d(0)):de._f.onChange&&de._f.onChange(j);const xi=D(X,Ui,It),Nn=!Mn(xi)||Si;if(!It&&y.state.next({name:X,type:j.type,values:Qt(o)}),Ba)return(g.isValid||p.isValid)&&(e.mode==="onBlur"?It&&S():It||S()),Nn&&y.state.next({name:X,...Si?{}:xi});if(!It&&Si&&y.state.next({...n}),e.resolver){const{errors:Ei}=await F([X]);if(re(Ui),ge){const Hi=o0(n.errors,i,X),ra=o0(Ei,i,Hi.name||X);Te=ra.error,X=ra.name,Be=Mn(Ei)}}else x([X],!0),Te=(await c0(de,u.disabled,o,_,e.shouldUseNativeValidation))[X],x([X]),re(Ui),ge&&(Te?Be=!1:(g.isValid||p.isValid)&&(Be=await $(i,!0)));ge&&(de._f.deps&&fe(de._f.deps),V(X,Be,Te,xi))}},oe=(j,H)=>{if(ve(n.errors,H)&&j.focus)return j.focus(),1},fe=async(j,H={})=>{let X,ge;const de=Dl(j);if(e.resolver){const re=await L(Pt(j)?j:de);X=Mn(re),ge=j?!de.some(pe=>ve(re,pe)):X}else j?(ge=(await Promise.all(de.map(async re=>{const pe=ve(i,re);return await $(pe&&pe._f?{[re]:pe}:pe)}))).every(Boolean),!(!ge&&!n.isValid)&&S()):ge=X=await $(i);return y.state.next({...!zi(j)||(g.isValid||p.isValid)&&X!==n.isValid?{}:{name:j},...e.resolver||!j?{isValid:X}:{},errors:n.errors}),H.shouldFocus&&!ge&&Ml(i,oe,j?de:u.mount),ge},N=j=>{const H={...l.mount?o:a};return Pt(j)?H:zi(j)?ve(H,j):j.map(X=>ve(H,X))},ee=(j,H)=>({invalid:!!ve((H||n).errors,j),isDirty:!!ve((H||n).dirtyFields,j),error:ve((H||n).errors,j),isValidating:!!ve(n.validatingFields,j),isTouched:!!ve((H||n).touchedFields,j)}),ae=j=>{j&&Dl(j).forEach(H=>Lt(n.errors,H)),y.state.next({errors:j?n.errors:{}})},K=(j,H,X)=>{const ge=(ve(i,j,{_f:{}})._f||{}).ref,de=ve(n.errors,j)||{},{ref:re,message:pe,type:_e,...Te}=de;yt(n.errors,j,{...Te,...H,ref:ge}),y.state.next({name:j,errors:n.errors,isValid:!1}),X&&X.shouldFocus&&ge&&ge.focus&&ge.focus()},se=(j,H)=>pi(j)?y.state.subscribe({next:X=>"values"in X&&j(Z(void 0,H),X)}):Z(j,H,!0),le=j=>y.state.subscribe({next:H=>{Sk(j.name,H.name,j.exact)&&wk(H,j.formState||g,Rt,j.reRenderRoot)&&j.callback({values:{...o},...n,...H,defaultValues:a})}}).unsubscribe,ie=j=>(l.mount=!0,p={...p,...j.formState},le({...j,formState:p})),Oe=(j,H={})=>{for(const X of j?Dl(j):u.mount)u.mount.delete(X),u.array.delete(X),H.keepValue||(Lt(i,X),Lt(o,X)),!H.keepError&&Lt(n.errors,X),!H.keepDirty&&Lt(n.dirtyFields,X),!H.keepTouched&&Lt(n.touchedFields,X),!H.keepIsValidating&&Lt(n.validatingFields,X),!e.shouldUnregister&&!H.keepDefaultValue&&Lt(a,X);y.state.next({values:Qt(o)}),y.state.next({...n,...H.keepDirty?{isDirty:Q()}:{}}),!H.keepIsValid&&S()},Ae=({disabled:j,name:H})=>{(Pi(j)&&l.mount||j||u.disabled.has(H))&&(j?u.disabled.add(H):u.disabled.delete(H))},qe=(j,H={})=>{let X=ve(i,j);const ge=Pi(H.disabled)||Pi(e.disabled);return yt(i,j,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:j}},name:j,mount:!0,...H}}),u.mount.add(j),X?Ae({disabled:Pi(H.disabled)?H.disabled:e.disabled,name:j}):k(j,!0,H.value),{...ge?{disabled:H.disabled||e.disabled}:{},...e.progressive?{required:!!H.required,min:gl(H.min),max:gl(H.max),minLength:gl(H.minLength),maxLength:gl(H.maxLength),pattern:gl(H.pattern)}:{},name:j,onChange:W,onBlur:W,ref:de=>{if(de){qe(j,H),X=ve(i,j);const re=Pt(de.value)&&de.querySelectorAll&&de.querySelectorAll("input,select,textarea")[0]||de,pe=mk(re),_e=X._f.refs||[];if(pe?_e.find(Te=>Te===re):re===X._f.ref)return;yt(i,j,{_f:{...X._f,...pe?{refs:[..._e.filter(bg),re,...Array.isArray(ve(a,j))?[{}]:[]],ref:{type:re.type,name:j}}:{ref:re}}}),k(j,!1,void 0,re)}else X=ve(i,j,{}),X._f&&(X._f.mount=!1),(e.shouldUnregister||H.shouldUnregister)&&!(lk(u.array,j)&&l.action)&&u.unMount.add(j)}}},Ye=()=>e.shouldFocusError&&Ml(i,oe,u.mount),pt=j=>{Pi(j)&&(y.state.next({disabled:j}),Ml(i,(H,X)=>{const ge=ve(i,X);ge&&(H.disabled=ge._f.disabled||j,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(de=>{de.disabled=ge._f.disabled||j}))},0,!1))},ot=(j,H)=>async X=>{let ge;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let de=Qt(o);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:re,values:pe}=await F();n.errors=re,de=Qt(pe)}else await $(i);if(u.disabled.size)for(const re of u.disabled)Lt(de,re);if(Lt(n.errors,"root"),Mn(n.errors)){y.state.next({errors:{}});try{await j(de,X)}catch(re){ge=re}}else H&&await H({...n.errors},X),Ye(),setTimeout(Ye);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mn(n.errors)&&!ge,submitCount:n.submitCount+1,errors:n.errors}),ge)throw ge},Je=(j,H={})=>{ve(i,j)&&(Pt(H.defaultValue)?z(j,Qt(ve(a,j))):(z(j,H.defaultValue),yt(a,j,Qt(H.defaultValue))),H.keepTouched||Lt(n.touchedFields,j),H.keepDirty||(Lt(n.dirtyFields,j),n.isDirty=H.defaultValue?Q(j,Qt(ve(a,j))):Q()),H.keepError||(Lt(n.errors,j),g.isValid&&S()),y.state.next({...n}))},kt=(j,H={})=>{const X=j?Qt(j):a,ge=Qt(X),de=Mn(j),re=de?a:ge;if(H.keepDefaultValues||(a=X),!H.keepValues){if(H.keepDirtyValues){const pe=new Set([...u.mount,...Object.keys(fl(a,o))]);for(const _e of Array.from(pe))ve(n.dirtyFields,_e)?yt(re,_e,ve(o,_e)):z(_e,ve(re,_e))}else{if(Nm&&Pt(j))for(const pe of u.mount){const _e=ve(i,pe);if(_e&&_e._f){const Te=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(od(Te)){const Be=Te.closest("form");if(Be){Be.reset();break}}}}if(H.keepFieldsRef)for(const pe of u.mount)z(pe,ve(re,pe));else i={}}o=e.shouldUnregister?H.keepDefaultValues?Qt(a):{}:Qt(re),y.array.next({values:{...re}}),y.state.next({values:{...re}})}u={mount:H.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!g.isValid||!!H.keepIsValid||!!H.keepDirtyValues,l.watch=!!e.shouldUnregister,y.state.next({submitCount:H.keepSubmitCount?n.submitCount:0,isDirty:de?!1:H.keepDirty?n.isDirty:!!(H.keepDefaultValues&&!Xs(j,a)),isSubmitted:H.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:de?{}:H.keepDirtyValues?H.keepDefaultValues&&o?fl(a,o):n.dirtyFields:H.keepDefaultValues&&j?fl(a,j):H.keepDirty?n.dirtyFields:{},touchedFields:H.keepTouched?n.touchedFields:{},errors:H.keepErrors?n.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},vn=(j,H)=>kt(pi(j)?j(o):j,H),Cn=(j,H={})=>{const X=ve(i,j),ge=X&&X._f;if(ge){const de=ge.refs?ge.refs[0]:ge.ref;de.focus&&(de.focus(),H.shouldSelect&&pi(de.select)&&de.select())}},Rt=j=>{n={...n,...j}},Fi={control:{register:qe,unregister:Oe,getFieldState:ee,handleSubmit:ot,setError:K,_subscribe:le,_runSchema:F,_focusError:Ye,_getWatch:Z,_getDirty:Q,_setValid:S,_setFieldArray:C,_setDisabledField:Ae,_setErrors:T,_getFieldArray:ce,_reset:kt,_resetDefaultValues:()=>pi(e.defaultValues)&&e.defaultValues().then(j=>{vn(j,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:pt,_subjects:y,_proxyFormState:g,get _fields(){return i},get _formValues(){return o},get _state(){return l},set _state(j){l=j},get _defaultValues(){return a},get _names(){return u},set _names(j){u=j},get _formState(){return n},get _options(){return e},set _options(j){e={...e,...j}}},subscribe:ie,trigger:fe,register:qe,handleSubmit:ot,watch:se,setValue:z,getValues:N,reset:vn,resetField:Je,clearErrors:ae,unregister:Oe,setError:K,setFocus:Cn,getFieldState:ee};return{...Fi,formControl:Fi}}function Md(t={}){const e=Me.useRef(void 0),n=Me.useRef(void 0),[i,a]=Me.useState({isDirty:!1,isValidating:!1,isLoading:pi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:pi(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:i},t.defaultValues&&!pi(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:l,...u}=Ak(t);e.current={...u,formState:i}}const o=e.current.control;return o._options=t,hk(()=>{const l=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a(u=>({...u,isReady:!0})),o._formState.isReady=!0,l},[o]),Me.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),Me.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode)},[o,t.mode,t.reValidateMode]),Me.useEffect(()=>{t.errors&&(o._setErrors(t.errors),o._focusError())},[o,t.errors]),Me.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),Me.useEffect(()=>{if(o._proxyFormState.isDirty){const l=o._getDirty();l!==i.isDirty&&o._subjects.state.next({isDirty:l})}},[o,i.isDirty]),Me.useEffect(()=>{t.values&&!Xs(t.values,n.current)?(o._reset(t.values,{keepFieldsRef:!0,...o._options.resetOptions}),n.current=t.values,a(l=>({...l}))):o._resetDefaultValues()},[o,t.values]),Me.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=dk(i,o),e.current}function Ok({machineToEdit:t}){const{selectedWorkCenter:e}=Ce(),{addMachine:n,updateMachine:i}=Jt(),a=!!t,o={department:t?.department||bt.MACHINE.DEPARTMENT,machine_type:t?.machine_type||"",machine_name:t?.machine_name||"",work_center:t?.work_center||(e===Re.BOTH?bt.MACHINE.WORK_CENTER:e),min_web_width:t?.min_web_width||bt.MACHINE.MIN_WEB_WIDTH,max_web_width:t?.max_web_width||bt.MACHINE.MAX_WEB_WIDTH,min_bag_height:t?.min_bag_height||bt.MACHINE.MIN_BAG_HEIGHT,max_bag_height:t?.max_bag_height||bt.MACHINE.MAX_BAG_HEIGHT,standard_speed:t?.standard_speed||"",setup_time_standard:t?.setup_time_standard||bt.MACHINE.SETUP_TIME_STANDARD,changeover_color:t?.changeover_color||bt.MACHINE.CHANGEOVER_COLOR,changeover_material:t?.changeover_material||bt.MACHINE.CHANGEOVER_MATERIAL,active_shifts:t?.active_shifts||bt.MACHINE.ACTIVE_SHIFTS,status:t?.status||bt.MACHINE.STATUS},{getValidMachineTypes:l}=IS(),{register:u,handleSubmit:d,formState:{errors:f,isSubmitting:g},watch:p,setValue:y,getValues:_}=Md({defaultValues:o}),w=p("department");R.useEffect(()=>{l(w).includes(_("machine_type"))||y("machine_type","")},[w,l,_,y]);const S=C=>{const{value:A,checked:T}=C.target,k=_("active_shifts")||[];T?y("active_shifts",[...k,A]):y("active_shifts",k.filter(D=>D!==A))},x=async C=>{a?await i(t.id,C):await n(C)};return b.jsx("div",{className:"content-section",children:b.jsxs("form",{onSubmit:d(x),children:[b.jsxs("div",{className:"form-section",children:[b.jsx("h3",{className:"section-title",children:"Identificazione"}),b.jsxs("div",{className:"form-grid form-grid--4-cols",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"department",children:"Department *"}),b.jsxs("select",{id:"department",...u("department"),className:f.department?"error":"",children:[b.jsx("option",{value:zt.PRINTING,children:zt.PRINTING}),b.jsx("option",{value:zt.PACKAGING,children:zt.PACKAGING})]}),f.department&&b.jsx("span",{className:"error-message",children:f.department.message})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"machine_type",children:"Machine Type *"}),b.jsxs("select",{id:"machine_type",...u("machine_type"),className:f.machine_type?"error":"",children:[b.jsx("option",{value:"",children:"Seleziona tipo macchina"}),l(w).map(C=>b.jsx("option",{value:C,children:C},C))]}),f.machine_type&&b.jsx("span",{className:"error-message",children:f.machine_type.message})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"machine_name",children:"Machine Name *"}),b.jsx("input",{type:"text",id:"machine_name",...u("machine_name"),placeholder:"Nome descrittivo",className:f.machine_name?"error":""}),f.machine_name&&b.jsx("span",{className:"error-message",children:f.machine_name.message})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"work_center",children:"Work Center *"}),e===Re.BOTH?b.jsxs("select",{...u("work_center",{required:"Work center is required"}),id:"work_center",className:f.work_center?"error":"",children:[b.jsx("option",{value:"",children:"Seleziona un centro di lavoro"}),b.jsx("option",{value:Re.ZANICA,children:Re.ZANICA}),b.jsx("option",{value:Re.BUSTO_GAROLFO,children:Re.BUSTO_GAROLFO})]}):b.jsx("input",{type:"text",id:"work_center",value:e||"Nessun centro di lavoro selezionato",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),e===Re.BOTH?f.work_center&&b.jsx("span",{className:"error-message",children:f.work_center.message}):b.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Il centro di lavoro è impostato in base alla tua selezione di accesso"})]})]})]}),b.jsxs("div",{className:"form-section",children:[b.jsx("h3",{className:"section-title",children:"Capacità Tecniche"}),b.jsxs("div",{className:"form-grid form-grid--3-cols",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"min_web_width",children:"Min Web Width (mm)"}),b.jsx("input",{type:"number",id:"min_web_width",...u("min_web_width"),min:"0",step:"1",className:f.min_web_width?"error":""}),f.min_web_width&&b.jsx("span",{className:"error-message",children:f.min_web_width.message})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"max_web_width",children:"Max Web Width (mm) *"}),b.jsx("input",{type:"number",id:"max_web_width",...u("max_web_width"),min:"0",step:"1",className:f.max_web_width?"error":""}),f.max_web_width&&b.jsx("span",{className:"error-message",children:f.max_web_width.message})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"min_bag_height",children:"Min Bag Height (mm)"}),b.jsx("input",{type:"number",id:"min_bag_height",...u("min_bag_height"),min:"0",step:"1",className:f.min_bag_height?"error":""}),f.min_bag_height&&b.jsx("span",{className:"error-message",children:f.min_bag_height.message})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"max_bag_height",children:"Max Bag Height (mm) *"}),b.jsx("input",{type:"number",id:"max_bag_height",...u("max_bag_height"),min:"0",step:"1",className:f.max_bag_height?"error":""}),f.max_bag_height&&b.jsx("span",{className:"error-message",children:f.max_bag_height.message})]})]})]}),b.jsxs("div",{className:"form-section",children:[b.jsx("h3",{className:"section-title",children:"Performance"}),b.jsxs("div",{className:"form-grid form-grid--3-cols",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"standard_speed",children:"Standard Speed"}),b.jsx("input",{type:"number",id:"standard_speed",...u("standard_speed"),placeholder:"pz/h o mt/h",min:"0",step:"1",className:f.standard_speed?"error":""}),f.standard_speed&&b.jsx("span",{className:"error-message",children:f.standard_speed.message})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"setup_time_standard",children:"Setup Time Standard (h)"}),b.jsx("input",{type:"number",id:"setup_time_standard",...u("setup_time_standard"),min:"0",step:"0.1",className:f.setup_time_standard?"error":""}),f.setup_time_standard&&b.jsx("span",{className:"error-message",children:f.setup_time_standard.message})]}),w===zt.PRINTING&&b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"changeover_color",children:"Changeover Color (h)"}),b.jsx("input",{type:"number",id:"changeover_color",...u("changeover_color"),min:"0",step:"0.1",className:f.changeover_color?"error":""}),f.changeover_color&&b.jsx("span",{className:"error-message",children:f.changeover_color.message})]}),w===zt.PACKAGING&&b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"changeover_material",children:"Material Changeover (h)"}),b.jsx("input",{type:"number",id:"changeover_material",...u("changeover_material"),min:"0",step:"0.1",className:f.changeover_material?"error":""}),f.changeover_material&&b.jsx("span",{className:"error-message",children:f.changeover_material.message})]})]})]}),b.jsxs("div",{className:"form-section",children:[b.jsx("h3",{className:"section-title",children:"Disponibilità"}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Active Shifts"}),b.jsxs("div",{className:"checkbox-group",children:[b.jsxs("label",{children:[b.jsx("input",{type:"checkbox",value:ki.T1,checked:_("active_shifts")?.includes(ki.T1),onChange:S})," ",ki.T1]}),b.jsxs("label",{children:[b.jsx("input",{type:"checkbox",value:ki.T2,checked:_("active_shifts")?.includes(ki.T2),onChange:S})," ",ki.T2]}),b.jsxs("label",{children:[b.jsx("input",{type:"checkbox",value:ki.T3,checked:_("active_shifts")?.includes(ki.T3),onChange:S})," ",ki.T3]})]})]})]}),b.jsx("div",{className:"form-actions",style:{marginTop:"20px"},children:b.jsx("button",{type:"submit",className:"nav-btn today",disabled:g,children:g?a?"Aggiornamento Macchina...":"Aggiunta Macchina...":a?"Aggiorna Macchina":"Aggiungi Macchina"})})]})})}function u0(){const{id:t}=Cd(),e=ia(),{machines:n,getMachineById:i}=Jt(),{selectedWorkCenter:a}=Ce(),{isLoading:o,isInitialized:l,init:u,cleanup:d}=Ii(),f=!!t,g=f?i(t):null;return R.useEffect(()=>(l||u(),()=>{d()}),[u,l,d]),R.useEffect(()=>{f&&!o&&!g&&e("/machinery",{replace:!0})},[f,o,g,e]),o?b.jsx("div",{children:"Caricamento..."}):f&&!g?b.jsx("div",{className:"error",children:"Macchina non trovata."}):a?b.jsxs("div",{className:"content-section",children:[b.jsx(bs,{title:f?`Modifica Macchina: ${g?.machine_name}`:"Aggiungi Nuova Macchina"}),f&&b.jsx("div",{style:{margin:"8px 24px",display:"flex",justifyContent:"flex-end"},children:b.jsx(Sn,{to:`/machinery/${t}/calendar`,className:"nav-btn today",children:"Visualizza Calendario"})}),b.jsx(Ok,{machineToEdit:g})]}):b.jsx("div",{className:"error",children:"Seleziona un centro di lavoro per gestire le macchine."})}function Tk({currentDate:t,currentView:e,onDateChange:n,onViewChange:i}){const a=()=>{n(new Date)},o=()=>{let d;e==="Month"?(d=new Date(t),d.setMonth(d.getMonth()-1)):e==="Week"?d=$l(t,-7):e==="Year"&&(d=new Date(t),d.setFullYear(d.getFullYear()-1)),n(d)},l=()=>{let d;e==="Month"?(d=new Date(t),d.setMonth(d.getMonth()+1)):e==="Week"?d=$l(t,7):e==="Year"&&(d=new Date(t),d.setFullYear(d.getFullYear()+1)),n(d)},u=()=>{if(e==="Month")return t.toLocaleDateString("it-IT",{month:"long",year:"numeric"});if(e==="Week"){const d=OS(t),f=PD(t);return`${d.toLocaleDateString("it-IT",{month:"short",day:"numeric"})} - ${f.toLocaleDateString("it-IT",{month:"short",day:"numeric",year:"numeric"})}`}else if(e==="Year")return t.getFullYear().toString();return""};return b.jsxs("div",{className:"calendar-controls-container",children:[b.jsxs("div",{className:"calendar-navigation",children:[b.jsx("button",{className:"nav-btn today",onClick:o,"aria-label":"Previous",children:"← Precedente"}),b.jsx("button",{className:"nav-btn today",onClick:a,children:"Oggi"}),b.jsx("button",{className:"nav-btn today",onClick:l,"aria-label":"Next",children:"Successivo →"})]}),b.jsxs("div",{className:"calendar-view-selector",children:[b.jsx("h3",{children:u()}),b.jsxs("select",{value:e,onChange:d=>i(d.target.value),children:[b.jsx("option",{value:"Month",children:"Mese"}),b.jsx("option",{value:"Week",children:"Settimana"}),b.jsx("option",{value:"Year",children:"Anno"})]})]})]})}function Dk({machineId:t,currentDate:e,onSuccess:n}){const{setMachineUnavailability:i}=qr(),{showAlert:a}=Ce(),{handleAsync:o}=_s("OffTimeForm"),l=S=>{const x={};if(S.startDate&&S.endDate){const C=new Date(S.startDate);new Date(S.endDate)<C&&(x.endDate={type:"validation",message:j_.END_DATE_BEFORE_START}),S.startDate===S.endDate&&S.startTime&&S.endTime&&S.startTime>=S.endTime&&(x.endTime={type:"validation",message:j_.END_TIME_BEFORE_START})}return{values:S,errors:Object.keys(x).length>0?x:{}}},u=async S=>{await o(async()=>{await i(t,S.startDate,S.endDate,S.startTime,S.endTime),a("Indisponibilità macchina impostata con successo!","success"),n&&n(),_()},{context:"Set Machine Unavailability",fallbackMessage:"Impostazione indisponibilità macchina fallita"})},{register:d,handleSubmit:f,formState:{errors:g,isSubmitting:p},setValue:y,reset:_}=Md({defaultValues:{startDate:"",startTime:"",endDate:"",endTime:""},resolver:l});R.useEffect(()=>{const S=new Date,x=$l(S,1);y("startDate",mn(S)),y("endDate",mn(x)),y("startTime",bt.OFF_TIME.START_TIME),y("endTime",bt.OFF_TIME.END_TIME)},[e,y]);const w=S=>{const x=g[S];return x?b.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:x.message}):null};return b.jsxs("div",{className:"off-time-section",children:[b.jsx("h3",{children:"Imposta Periodo di Non Disponibilità"}),b.jsxs("form",{onSubmit:f(u),className:"off-time-form",children:[b.jsxs("div",{className:"form-grid form-grid--4-cols",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"startDate",children:"Data Inizio"}),b.jsx("input",{type:"date",id:"startDate",...d("startDate"),className:`date-input ${g.startDate?"error":""}`}),w("startDate")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"startTime",children:"Ora Inizio"}),b.jsx("input",{type:"time",id:"startTime",...d("startTime"),className:`time-input ${g.startTime?"error":""}`}),w("startTime")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"endDate",children:"Data Fine"}),b.jsx("input",{type:"date",id:"endDate",...d("endDate"),className:`date-input ${g.endDate?"error":""}`}),w("endDate")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"endTime",children:"Ora Fine"}),b.jsx("input",{type:"time",id:"endTime",...d("endTime"),className:`time-input ${g.endTime?"error":""}`}),w("endTime")]})]}),b.jsx("div",{className:"form-actions",children:b.jsx("button",{type:"submit",className:"nav-btn today",disabled:p,children:p?"Impostazione...":"Imposta Non Disponibilità"})})]})]})}function Mk({machineId:t,currentDate:e,currentView:n,refreshTrigger:i}){const[a,o]=R.useState(!1),[l,u]=R.useState({}),{machines:d}=Jt(),{odpOrders:f}=Tt(),{machineAvailability:g,getMachineAvailability:p,loadMachineAvailabilityForDateRange:y,toggleMachineHourAvailability:_}=qr(),{showAlert:w}=Ce();_s("CalendarGrid");const S=d.find(L=>L.id===t);if(!S)return b.jsx("div",{className:"loading",children:"Loading machine data..."});const x=R.useMemo(()=>{if(!e)return{dates:[],dateStrings:[]};let L=[],$=[];if(n==="Month"){const G=e.getFullYear(),Q=e.getMonth(),Z=new Date(G,Q,1),ce=new Date(G,Q+1,0),ue=new Date(Z);for(;ue<=ce;)L.push(new Date(ue)),$.push(mn(ue)),ue.setDate(ue.getDate()+1)}else if(n==="Week"){const G=OS(e);for(let Q=0;Q<7;Q++){const Z=new Date(G);Z.setDate(G.getDate()+Q),L.push(Z),$.push(mn(Z))}}else if(n==="Year"){const G=e.getFullYear();for(let Q=0;Q<12;Q++){const Z=new Date(G,Q+1,0).getDate();for(let ce=1;ce<=Z;ce++){const ue=new Date(G,Q,ce);L.push(ue),$.push(mn(ue))}}}else L.push(e),$.push(mn(e));return{dates:L,dateStrings:$}},[e,n]);R.useEffect(()=>{(async()=>{if(!(!t||!x.dateStrings.length)){o(!0);try{const $=x.dateStrings[0],G=x.dateStrings[x.dateStrings.length-1];await y(t,$,G)}catch($){console.error("Failed to load machine availability data:",$)}finally{o(!1)}}})()},[t,x.dateStrings,y,i]);const C=R.useMemo(()=>S?f.filter(L=>L.status==="SCHEDULED"&&L.scheduled_machine_id===S.id):[],[S,f]),A=R.useCallback((L,$)=>!S||C.length===0?!1:C.some(G=>LD(G,L,$)),[S,C]),T=R.useCallback(L=>{const $=g[L];if(Array.isArray($)){const G=$.find(Q=>Q.machine_id===t);if(G&&G.unavailable_hours)return Array.isArray(G.unavailable_hours)?G.unavailable_hours.map(Q=>Q.toString()):[]}return[]},[g,t]),k=R.useCallback(async(L,$)=>{if(A(L,$)){w("Cannot mark time slot as unavailable - it has scheduled tasks","error");return}if(!S)return;const G=`${L}-${$}`;u(Q=>({...Q,[G]:!0}));try{await _(S.id,L,$)}catch(Q){console.error("Failed to toggle machine hour availability:",Q),w("An unexpected error occurred.","error")}finally{u(Q=>({...Q,[G]:!1}))}},[A,w,S,_]),D=R.useCallback(()=>{const{dates:L}=x;if(L.length===0)return null;const $=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return b.jsxs("div",{className:"calendar-month-grid",children:[b.jsx("div",{className:"calendar-week-header",children:$.map(G=>b.jsx("div",{className:"week-day-header",children:G},G))}),b.jsx("div",{className:"calendar-days-grid",children:L.map((G,Q)=>{const Z=mn(G),ce=T(Z),ue=G.getMonth()===e.getMonth(),he=G.toDateString()===new Date().toDateString(),z=Array.from({length:24},(oe,fe)=>fe).some(oe=>A(Z,oe));let W="calendar-day";return ue||(W+=" other-month"),he&&(W+=" today"),ce.length>0&&(W+=ce.length===24?" unavailable":" partially-unavailable"),z&&(W+=" has-scheduled-tasks"),b.jsxs("div",{className:W,children:[b.jsx("span",{className:"day-number",children:G.getDate()}),ce.length>0&&b.jsx("div",{className:"availability-indicator",children:ce.length===24?"All Day":`${ce.length}h`}),z&&b.jsx("div",{className:"scheduled-tasks-indicator",children:"📋"})]},Z)})})]})},[x,T,e,A]),V=R.useCallback(()=>{const{dates:L}=x;if(L.length===0)return null;const $=Array.from({length:24},(G,Q)=>Q);return b.jsxs("div",{className:"calendar-week-grid",children:[b.jsxs("div",{className:"time-column-header",children:[b.jsx("div",{className:"time-header-cell",children:"Time"}),L.map(G=>b.jsx("div",{className:"day-header-cell",children:G.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},G.toISOString()))]}),$.map(G=>b.jsxs("div",{className:"time-row",children:[b.jsxs("div",{className:"time-label",children:[G.toString().padStart(2,"0"),":00"]}),L.map(Q=>{const Z=mn(Q),ce=T(Z),ue=G.toString(),he=ce.includes(ue),z=A(Z,G),W=`${Z}-${G}`,oe=l[W];let fe="time-slot";return he&&(fe+=" unavailable"),z&&(fe+=" has-scheduled-task"),oe&&(fe+=" updating"),b.jsx("div",{className:fe,onClick:()=>!oe&&k(Z,G),children:b.jsx("div",{className:"time-slot-content",children:oe?"...":he?"❌":z?"📋":"✓"})},`${Z}-${G}`)})]},G))]})},[x,T,A,k,l]),F=R.useCallback(()=>{const L=e.getFullYear(),$=Array.from({length:12},(G,Q)=>Q);return b.jsx("div",{className:"calendar-year-grid",children:$.map(G=>{const Z=new Date(L,G,1).toLocaleDateString("en-US",{month:"short"}),ce=new Date(L,G+1,0).getDate(),ue=new Date(L,G,1).getDay(),he=[];for(let z=0;z<ue;z++)he.push(null);for(let z=1;z<=ce;z++)he.push(z);return b.jsxs("div",{className:"month-mini-calendar",children:[b.jsx("h4",{children:Z}),b.jsxs("div",{className:"mini-month-grid",children:[["S","M","T","W","T","F","S"].map((z,W)=>b.jsx("div",{className:"mini-day-header",children:z},`${G}-${W}-${z}`)),he.map((z,W)=>{if(z===null)return b.jsx("div",{className:"mini-day empty"},`empty-${G}-${W}`);const oe=mn(new Date(L,G,z)),fe=T(oe),N=fe.length>0;return b.jsx("div",{className:`mini-day ${N?"unavailable":""}`,title:N?`${fe.length} unavailable hours`:"Available",children:z},oe)})]})]},G)})})},[e,T]);return a?b.jsx("div",{className:"loading",children:"Loading calendar data..."}):b.jsxs("div",{className:"calendar-grid-container",children:[n==="Month"&&D(),n==="Week"&&V(),n==="Year"&&F()]})}function kk(){const{machineId:t}=Cd(),[e,n]=R.useState(new Date),[i,a]=R.useState("Month"),[o,l]=R.useState(0),{getMachineById:u}=Jt(),{getLoadingState:d,getInitializationState:f}=Ce(),{init:g,cleanup:p}=Ii(),y=u(t),_=d(),w=f();if(R.useEffect(()=>(w||g(),()=>{p()}),[g,w,p]),_||!w)return b.jsx("div",{className:"content-section",children:b.jsx("div",{className:"loading",children:"Caricamento calendario macchina..."})});if(!y)return b.jsx("div",{className:"content-section",children:b.jsx("div",{className:"error",children:"Macchina non trovata"})});const S=A=>{n(A)},x=A=>{a(A)},C=()=>{l(A=>A+1)};return b.jsxs("div",{className:"content-section",children:[b.jsx(bs,{title:"Calendario Disponibilità Macchina"}),b.jsx("div",{className:"machine-name-display",children:b.jsx("h3",{className:"machine-name-title",children:y.machine_name})}),b.jsx(Tk,{currentDate:e,currentView:i,onDateChange:S,onViewChange:x}),b.jsx(Dk,{machineId:y.id,currentDate:e,onSuccess:C}),b.jsx(Mk,{machineId:y.id,currentDate:e,currentView:i,refreshTrigger:o})]})}function Nk(){const{phases:t,updatePhase:e,removePhase:n}=gi(),{selectedWorkCenter:i,isLoading:a,isInitialized:o,showAlert:l,showConfirmDialog:u}=Ce(),{init:d,cleanup:f}=Ii(),g=R.useMemo(()=>i?i===Re.BOTH?t:t.filter(x=>x.work_center===i):[],[t,i]),{validatePhase:p}=ik(),{handleAsync:y}=_s("PhasesListPage");R.useEffect(()=>(o||d(),()=>{f()}),[d,o,f]);const _=R.useMemo(()=>[{header:"ID Fase",accessorKey:"id"},{header:"Nome Fase",accessorKey:"name",cell:He},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Numero Persone",accessorKey:"numero_persone",cell:He},{header:"V Stampa",accessorKey:"v_stampa",cell:He},{header:"T Setup Stampa (h)",accessorKey:"t_setup_stampa",cell:He},{header:"Costo H Stampa",accessorKey:"costo_h_stampa",cell:He},{header:"V Conf",accessorKey:"v_conf",cell:He},{header:"T Setup Conf (h)",accessorKey:"t_setup_conf",cell:He},{header:"Costo H Conf",accessorKey:"costo_h_conf",cell:He},{header:"Contenuto Fase",accessorKey:"contenuto_fase",cell:He},{header:"Creato il",accessorKey:"created_at",cell:x=>new Date(x.getValue()).toLocaleDateString()},{header:"Aggiornato il",accessorKey:"updated_at",cell:x=>new Date(x.getValue()).toLocaleDateString()}],[]),w=async x=>{const C=p(x);if(C.length>0){l(`Errori di validazione:
${C.join(`
`)}`,"error");return}await y(()=>e(x.id,x),{context:"Aggiorna Fase",fallbackMessage:"Aggiornamento fase fallito"})},S=async x=>{u("Elimina Fase",`Sei sicuro di voler eliminare "${x.name}"? Questa azione non può essere annullata.`,async()=>{await y(()=>n(x.id),{context:"Elimina Fase",fallbackMessage:"Eliminazione fase fallita"})},"danger")};return a?b.jsx("div",{children:"Caricamento dati fasi..."}):i?b.jsxs("div",{className:"content-section",children:[b.jsx(bs,{title:"Catalogo Fasi"}),b.jsx(Dm,{columns:_,data:g,onSaveRow:w,onDeleteRow:S})]}):b.jsx("div",{className:"error",children:"Seleziona un centro di lavoro per visualizzare i dati delle fasi."})}function jk({phaseToEdit:t}){const{selectedWorkCenter:e}=Ce(),{addPhase:n,updatePhase:i}=gi(),a=!!t,o={name:t?.name||"",department:t?.department||bt.PHASE.DEPARTMENT,numero_persone:t?.numero_persone||bt.PHASE.NUMERO_PERSONE,work_center:t?.work_center||(e===Re.BOTH?bt.PHASE.WORK_CENTER:e),v_stampa:t?.v_stampa||bt.PHASE.V_STAMPA,t_setup_stampa:t?.t_setup_stampa||bt.PHASE.T_SETUP_STAMPA,costo_h_stampa:t?.costo_h_stampa||bt.PHASE.COSTO_H_STAMPA,v_conf:t?.v_conf||bt.PHASE.V_CONF,t_setup_conf:t?.t_setup_conf||bt.PHASE.T_SETUP_CONF,costo_h_conf:t?.costo_h_conf||bt.PHASE.COSTO_H_CONF,contenuto_fase:t?.contenuto_fase||""},{register:l,handleSubmit:u,formState:{errors:d,isSubmitting:f},watch:g,setValue:p}=Md({defaultValues:o}),y=g("department");R.useEffect(()=>{y===zt.PRINTING&&(p("v_conf",0),p("t_setup_conf",0),p("costo_h_conf",0))},[y,p]);const _=S=>d[S]?b.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:d[S].message}):null,w=async S=>{a?await i(t.id,S):await n(S)};return b.jsx("div",{className:"content-section",children:b.jsxs("form",{onSubmit:u(w),children:[b.jsxs("div",{className:"form-section",children:[b.jsx("h3",{className:"section-title",children:"Informazioni Fase"}),b.jsxs("div",{className:"form-grid form-grid--4-cols",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"name",children:"Nome Fase *"}),b.jsx("input",{type:"text",id:"name",...l("name"),placeholder:"es. Stampa Alta Velocità",className:d.name?"error":"",required:!0}),_("name")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"department",children:"Tipo Fase *"}),b.jsxs("select",{id:"department",...l("department"),className:d.department?"error":"",children:[b.jsx("option",{value:zt.PRINTING,children:zt.PRINTING}),b.jsx("option",{value:zt.PACKAGING,children:zt.PACKAGING})]}),_("department")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"numero_persone",children:"Numero di Persone Richieste *"}),b.jsx("input",{type:"number",id:"numero_persone",...l("numero_persone"),min:"1",step:"1",className:d.numero_persone?"error":""}),_("numero_persone")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"work_center",children:"Centro di Lavoro *"}),e===Re.BOTH?b.jsxs("select",{...l("work_center",{required:"Work center is required"}),id:"work_center",className:d.work_center?"error":"",children:[b.jsx("option",{value:"",children:"Seleziona un centro di lavoro"}),b.jsx("option",{value:Re.ZANICA,children:Re.ZANICA}),b.jsx("option",{value:Re.BUSTO_GAROLFO,children:Re.BUSTO_GAROLFO})]}):b.jsx("input",{type:"text",id:"work_center",value:e||"Nessun centro di lavoro selezionato",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),e===Re.BOTH?d.work_center&&b.jsx("span",{className:"error-message",children:d.work_center.message}):b.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Il centro di lavoro è impostato in base alla tua selezione di accesso"})]})]})]}),y===zt.PRINTING&&b.jsxs("div",{className:"form-section",children:[b.jsx("h3",{className:"section-title",children:"Parametri Stampa"}),b.jsxs("div",{className:"form-grid form-grid--3-cols",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"v_stampa",children:"Velocità Stampa (mt/h) *"}),b.jsx("input",{type:"number",id:"v_stampa",...l("v_stampa"),min:"0",step:"1",className:d.v_stampa?"error":""}),_("v_stampa")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"t_setup_stampa",children:"Tempo Setup (ore)"}),b.jsx("input",{type:"number",id:"t_setup_stampa",...l("t_setup_stampa"),min:"0",step:"0.1",className:d.t_setup_stampa?"error":""}),_("t_setup_stampa")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"costo_h_stampa",children:"Costo Orario (€/h)"}),b.jsx("input",{type:"number",id:"costo_h_stampa",...l("costo_h_stampa"),min:"0",step:"0.01",className:d.costo_h_stampa?"error":""}),_("costo_h_stampa")]})]})]}),y===zt.PACKAGING&&b.jsxs("div",{className:"form-section",children:[b.jsx("h3",{className:"section-title",children:"Parametri Confezionamento"}),b.jsxs("div",{className:"form-grid form-grid--3-cols",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"v_conf",children:"Velocità Confezionamento (pz/h) *"}),b.jsx("input",{type:"number",id:"v_conf",...l("v_conf"),min:"0",step:"1",className:d.v_conf?"error":""}),_("v_conf")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"t_setup_conf",children:"Tempo Setup (ore)"}),b.jsx("input",{type:"number",id:"t_setup_conf",...l("t_setup_conf"),min:"0",step:"0.1",className:d.t_setup_conf?"error":""}),_("t_setup_conf")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"costo_h_conf",children:"Costo Orario (€/h)"}),b.jsx("input",{type:"number",id:"costo_h_conf",...l("costo_h_conf"),min:"0",step:"0.01",className:d.costo_h_conf?"error":""}),_("costo_h_conf")]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"contenuto_fase",children:"Descrizione Contenuto Fase"}),b.jsx("textarea",{id:"contenuto_fase",...l("contenuto_fase"),rows:"3",placeholder:"Descrivi il contenuto della fase e i requisiti..."})]})]}),b.jsx("div",{className:"form-actions",style:{marginTop:"20px"},children:b.jsx("button",{type:"submit",className:"nav-btn today",disabled:f,children:f?a?"Aggiornamento Fase...":"Aggiunta Fase...":a?"Aggiorna Fase":"Aggiungi Fase"})})]})})}function d0(){const{id:t}=Cd(),e=ia(),{phases:n,getPhaseById:i}=gi(),{selectedWorkCenter:a}=Ce(),{isLoading:o,isInitialized:l,init:u,cleanup:d}=Ii(),f=!!t,g=f?i(t):null;return R.useEffect(()=>(l||u(),()=>{d()}),[u,l,d]),R.useEffect(()=>{f&&!o&&!g&&e("/phases",{replace:!0})},[f,o,g,e]),o?b.jsx("div",{children:"Caricamento..."}):f&&!g?b.jsx("div",{className:"error",children:"Fase non trovata."}):a?b.jsxs("div",{className:"content-section",children:[b.jsx(bs,{title:f?`Modifica Fase: ${g?.name}`:"Aggiungi Nuova Fase"}),b.jsx(jk,{phaseToEdit:g})]}):b.jsx("div",{className:"error",children:"Seleziona un centro di lavoro per gestire le fasi."})}function Lk(){const{odpOrders:t,updateOdpOrder:e,removeOdpOrder:n}=Tt(),{selectedWorkCenter:i,isLoading:a,isInitialized:o,showAlert:l,showConfirmDialog:u}=Ce(),{init:d,cleanup:f}=Ii(),g=R.useMemo(()=>i?i===Re.BOTH?t:t.filter(x=>x.work_center===i):[],[t,i]),{validateOrder:p}=nk(),{handleAsync:y}=_s("BacklogListPage");R.useEffect(()=>(o||d(),()=>{f()}),[d,o,f]);const _=R.useMemo(()=>[{header:"Numero ODP",accessorKey:"odp_number",cell:He},{header:"Codice Articolo",accessorKey:"article_code",cell:He},{header:"Lotto Produzione",accessorKey:"production_lot",cell:He},{header:"Centro di Lavoro",accessorKey:"work_center"},{header:"Reparto",accessorKey:"department"},{header:"Nome Cliente",accessorKey:"nome_cliente",cell:He},{header:"Descrizione",accessorKey:"description",cell:He},{header:"Altezza Busta (mm)",accessorKey:"bag_height",cell:He},{header:"Larghezza Busta (mm)",accessorKey:"bag_width",cell:He},{header:"Passo Busta (mm)",accessorKey:"bag_step",cell:He},{header:"Lati Sigillati",accessorKey:"seal_sides"},{header:"Tipo Prodotto",accessorKey:"product_type"},{header:"Quantità",accessorKey:"quantity",cell:He},{header:"Quantità per Scatola",accessorKey:"quantity_per_box",cell:He},{header:"Quantità Completata",accessorKey:"quantity_completed",cell:He},{header:"Codice Cliente Interno",accessorKey:"internal_customer_code",cell:He},{header:"Codice Cliente Esterno",accessorKey:"external_customer_code",cell:He},{header:"Riferimento Ordine Cliente",accessorKey:"customer_order_ref",cell:He},{header:"Data Consegna",accessorKey:"delivery_date",cell:x=>x.getValue()?new Date(x.getValue()).toLocaleDateString():"Non impostata"},{header:"Creato il",accessorKey:"created_at",cell:x=>new Date(x.getValue()).toLocaleDateString()},{header:"Aggiornato il",accessorKey:"updated_at",cell:x=>new Date(x.getValue()).toLocaleDateString()}],[]),w=async x=>{const C=p(x);if(C.length>0){l(`Errori di validazione:
${C.join(`
`)}`,"error");return}await y(()=>e(x.id,x),{context:"Aggiorna Ordine",fallbackMessage:"Aggiornamento ordine fallito"})},S=async x=>{u("Elimina Ordine",`Sei sicuro di voler eliminare "${x.odp_number}"? Questa azione non può essere annullata.`,async()=>{await y(()=>n(x.id),{context:"Elimina Ordine",fallbackMessage:"Eliminazione ordine fallita"})},"danger")};return a?b.jsx("div",{children:"Caricamento dati backlog..."}):i?b.jsxs("div",{className:"content-section",children:[b.jsx(bs,{title:"Backlog Produzione"}),b.jsx(Dm,{columns:_,data:g,onSaveRow:w,onDeleteRow:S})]}):b.jsx("div",{className:"error",children:"Seleziona un centro di lavoro per visualizzare i dati del backlog."})}const Pk=({onSuccess:t,orderToEdit:e})=>{const{addOdpOrder:n,updateOdpOrder:i}=Tt(),{showAlert:a,selectedWorkCenter:o}=Ce(),{calculateProductionMetrics:l,autoDetermineWorkCenter:u,autoDetermineDepartment:d}=IS(),{handleAsync:f}=_s("BacklogForm"),[g,p]=R.useState(null),y=!!e,_=R.useMemo(()=>({odp_number:e?.odp_number||"",article_code:e?.article_code||"",production_lot:e?.production_lot||"",work_center:e?.work_center||(o===Re.BOTH?"":o||""),nome_cliente:e?.nome_cliente||"",description:e?.description||"",delivery_date:e?.delivery_date||"",bag_height:e?.bag_height||"",bag_width:e?.bag_width||"",bag_step:e?.bag_step||"",seal_sides:e?.seal_sides||bt.ORDER.SEAL_SIDES,product_type:e?.product_type||"",quantity:e?.quantity||"",quantity_per_box:e?.quantity_per_box||"",quantity_completed:e?.quantity_completed||bt.ORDER.QUANTITY_COMPLETED,internal_customer_code:e?.internal_customer_code||"",external_customer_code:e?.external_customer_code||"",customer_order_ref:e?.customer_order_ref||"",department:e?.department||"",fase:e?.fase||""}),[o,e]),{register:w,handleSubmit:S,formState:{errors:x,isSubmitting:C},watch:A,setValue:T,getValues:k,reset:D,clearErrors:V}=Md({defaultValues:_}),F=A("article_code"),L=A("department"),$=A("work_center"),{phaseSearch:G,setPhaseSearch:Q,isDropdownVisible:Z,setIsDropdownVisible:ce,selectedPhase:ue,setSelectedPhase:he,filteredPhases:z,editablePhaseParams:W,setEditablePhaseParams:oe,handlePhaseParamChange:fe,handlePhaseSelect:N,handleBlur:ee}=sk(L,$);R.useEffect(()=>{if(F){const ie=d(F),Oe=u(F);T("department",ie),o===Re.BOTH&&T("work_center",Oe),T("fase",""),Q(""),he(null),oe({}),p(null)}},[F,d,u,T,o]);const ae=async ie=>{if(!g){a("Calcola le metriche di produzione prima di aggiungere al backlog.","warning");return}await f(async()=>{const Oe={...ie,duration:g.totals.duration,cost:g.totals.cost,status:y?e.status:"NOT SCHEDULED"};y?await i(e.id,Oe):await n(Oe),t&&t(),D(_),Q(""),he(null),oe({}),p(null)},{context:y?"Update Order":"Add Order",fallbackMessage:y?"Aggiornamento ordine fallito":"Aggiunta ordine al backlog fallita"})},K=ie=>{N(ie,T,V),p(null)},se=()=>{if(!ue||!k("quantity")||!k("bag_step")){a("Seleziona una fase e inserisci Quantità e Passo Busta per calcolare.","warning");return}const ie={...ue,...W},Oe=l(ie,k("quantity"),k("bag_step"));p(Oe)},le=ie=>x[ie]?b.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:x[ie].message}):null;return b.jsx("div",{className:"content-section",children:b.jsxs("form",{onSubmit:S(ae),children:[b.jsxs("div",{className:"form-section",children:[b.jsx("h3",{className:"section-title",children:"Identificazione"}),b.jsxs("div",{className:"form-grid form-grid--3-cols",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"odp_number",children:"ODP Number *"}),b.jsx("input",{type:"text",id:"odp_number",...w("odp_number",{required:"ODP Number is required"}),placeholder:"Numero ODP",className:x.odp_number?"error":""}),le("odp_number")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"article_code",children:"Article Code *"}),b.jsx("input",{type:"text",id:"article_code",...w("article_code",{required:"Article Code is required"}),placeholder:"Codice Articolo",className:x.article_code?"error":""}),le("article_code")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"production_lot",children:"External Article Code *"}),b.jsx("input",{type:"text",id:"production_lot",...w("production_lot",{required:"External Article Code is required"}),placeholder:"Codice Articolo Esterno",className:x.production_lot?"error":""}),le("production_lot")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"work_center",children:"Work Center"}),o===Re.BOTH?b.jsxs("select",{...w("work_center",{required:"Work center is required"}),id:"work_center",className:x.work_center?"error":"",children:[b.jsx("option",{value:"",children:"Seleziona un centro di lavoro"}),b.jsx("option",{value:Re.ZANICA,children:Re.ZANICA}),b.jsx("option",{value:Re.BUSTO_GAROLFO,children:Re.BUSTO_GAROLFO})]}):b.jsx("input",{type:"text",id:"work_center",value:o||"Nessun centro di lavoro selezionato",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),o===Re.BOTH?x.work_center&&b.jsx("span",{className:"error-message",children:x.work_center.message}):b.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Il centro di lavoro è impostato in base alla tua selezione di accesso"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"nome_cliente",children:"Customer Name"}),b.jsx("input",{type:"text",id:"nome_cliente",...w("nome_cliente"),placeholder:"Nome Cliente"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"description",children:"Description"}),b.jsx("textarea",{id:"description",...w("description"),placeholder:"Descrizione",rows:"2"})]})]})]}),b.jsxs("div",{className:"form-section",children:[b.jsx("h3",{className:"section-title",children:"Specifiche Tecniche"}),b.jsxs("div",{className:"form-grid form-grid--3-cols",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"bag_height",children:"Bag Height (mm) *"}),b.jsx("input",{type:"number",id:"bag_height",...w("bag_height",{required:"Bag Height is required",min:{value:0,message:"Bag Height must be at least 0"}}),placeholder:"Altezza Busta",min:"0",step:"1",className:x.bag_height?"error":""}),le("bag_height")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"bag_width",children:"Bag Width (mm) *"}),b.jsx("input",{type:"number",id:"bag_width",...w("bag_width",{required:"Bag Width is required",min:{value:0,message:"Bag Width must be at least 0"}}),placeholder:"Larghezza Busta",min:"0",step:"1",className:x.bag_width?"error":""}),le("bag_width")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"bag_step",children:"Bag Step (mm) *"}),b.jsx("input",{type:"number",id:"bag_step",...w("bag_step",{required:"Bag Step is required",min:{value:0,message:"Bag Step must be at least 0"}}),placeholder:"Passo Busta",min:"0",step:"1",className:x.bag_step?"error":""}),le("bag_step")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"seal_sides",children:"Seal Sides"}),b.jsxs("select",{id:"seal_sides",...w("seal_sides"),children:[b.jsx("option",{value:Bl.THREE,children:"3 sides"}),b.jsx("option",{value:Bl.FOUR,children:"4 sides"})]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"product_type",children:"Product Type *"}),b.jsxs("select",{id:"product_type",...w("product_type",{required:"Product Type is required"}),className:x.product_type?"error":"",children:[b.jsx("option",{value:"",children:"Seleziona tipo prodotto"}),b.jsx("option",{value:$r.CREMA,children:"Crema"}),b.jsx("option",{value:$r.LIQUIDO,children:"Liquido"}),b.jsx("option",{value:$r.POLVERI,children:"Polveri"})]}),le("product_type")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"quantity",children:"Quantity *"}),b.jsx("input",{type:"number",id:"quantity",...w("quantity",{required:"Quantity is required",min:{value:0,message:"Quantity must be at least 0"}}),placeholder:"Quantità",min:"0",step:"1",className:x.quantity?"error":""}),le("quantity")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"quantity_per_box",children:"Qty per Box"}),b.jsx("input",{type:"number",id:"quantity_per_box",...w("quantity_per_box",{min:{value:0,message:"Quantity per Box must be at least 0"}}),placeholder:"Q.tà per Scatola",min:"0",step:"1"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"quantity_completed",children:"Qty Completed"}),b.jsx("input",{type:"number",id:"quantity_completed",...w("quantity_completed",{min:{value:0,message:"Quantity Completed must be at least 0"}}),placeholder:"Q.tà Completata",min:"0",step:"1",className:x.quantity_completed?"error":""}),le("quantity_completed")]})]})]}),b.jsxs("div",{className:"form-section",children:[b.jsx("h3",{className:"section-title",children:"Dati Commerciali"}),b.jsxs("div",{className:"form-grid form-grid--3-cols",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"internal_customer_code",children:"FLEXI Lot"}),b.jsx("input",{type:"text",id:"internal_customer_code",...w("internal_customer_code"),placeholder:"Lotto FLEXI"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"external_customer_code",children:"Customer Lot"}),b.jsx("input",{type:"text",id:"external_customer_code",...w("external_customer_code"),placeholder:"Lotto Cliente"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"customer_order_ref",children:"Customer Ref"}),b.jsx("input",{type:"text",id:"customer_order_ref",...w("customer_order_ref"),placeholder:"Riferimento Cliente"})]})]})]}),b.jsxs("div",{className:"form-section",children:[b.jsx("h3",{className:"section-title",children:"Dati Lavorazione & Pianificazione"}),b.jsxs("div",{className:"form-grid form-grid--3-cols",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"department",children:"Department"}),b.jsx("input",{type:"text",id:"department",...w("department"),placeholder:"Reparto",readOnly:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"phase_search",children:"Search Production Phase *"}),b.jsxs("div",{className:"searchable-dropdown",children:[b.jsx("input",{type:"text",id:"phase_search",value:G,onChange:ie=>Q(ie.target.value),onFocus:()=>ce(!0),onBlur:ee,placeholder:"Cerca Fase Produzione",className:x.fase?"error":""}),b.jsx("input",{type:"hidden",...w("fase",{required:"Production Phase is required"})}),le("fase"),Z&&z.length>0&&b.jsx("div",{className:"dropdown-options",children:z.map(ie=>b.jsxs("div",{className:"dropdown-option",onMouseDown:()=>K(ie),children:[b.jsx("span",{className:"phase-name",children:ie.name}),b.jsx("span",{className:"phase-description",children:ie.contenuto_fase||"Nessuna descrizione"})]},ie.id))})]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"delivery_date",children:"Delivery Date *"}),b.jsx("input",{type:"datetime-local",id:"delivery_date",...w("delivery_date",{required:"Delivery Date is required"}),className:x.delivery_date?"error":""}),le("delivery_date")]})]})]}),ue&&b.jsxs("div",{className:"form-section",children:[b.jsx("h3",{className:"section-title",children:"Parametri Fase Selezionata"}),b.jsx("div",{className:"form-grid form-grid--3-cols",children:ue.department===zt.PRINTING?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"v_stampa",children:"Print Speed:"}),b.jsx("input",{type:"number",id:"v_stampa",value:W.v_stampa||ue.v_stampa||"",onChange:ie=>fe("v_stampa",ie.target.value),placeholder:"Velocità Stampa",min:"0"}),b.jsx("span",{className:"unit-label",children:"mt/h"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"t_setup_stampa",children:"Print Setup:"}),b.jsx("input",{type:"number",id:"t_setup_stampa",value:W.t_setup_stampa||ue.t_setup_stampa||"",onChange:ie=>fe("t_setup_stampa",ie.target.value),placeholder:"Tempo Setup",min:"0",step:"0.1"}),b.jsx("span",{className:"unit-label",children:"h"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"costo_h_stampa",children:"Costo Stampa:"}),b.jsx("input",{type:"number",id:"costo_h_stampa",value:W.costo_h_stampa||ue.costo_h_stampa||"",onChange:ie=>fe("costo_h_stampa",ie.target.value),placeholder:"Costo Orario",min:"0",step:"0.01"}),b.jsx("span",{className:"unit-label",children:"€/h"})]})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"v_conf",children:"Velocità Confezionamento:"}),b.jsx("input",{type:"number",id:"v_conf",value:W.v_conf||ue.v_conf||"",onChange:ie=>fe("v_conf",ie.target.value),placeholder:"Velocità Confezionamento",min:"0"}),b.jsx("span",{className:"unit-label",children:"pz/h"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"t_setup_conf",children:"Setup Confezionamento:"}),b.jsx("input",{type:"number",id:"t_setup_conf",value:W.t_setup_conf||ue.t_setup_conf||"",onChange:ie=>fe("t_setup_conf",ie.target.value),placeholder:"Tempo Setup",min:"0",step:"0.1"}),b.jsx("span",{className:"unit-label",children:"h"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"costo_h_conf",children:"Costo Confezionamento:"}),b.jsx("input",{type:"number",id:"costo_h_conf",value:W.costo_h_conf||ue.costo_h_conf||"",onChange:ie=>fe("costo_h_conf",ie.target.value),placeholder:"Costo Orario",min:"0",step:"0.01"}),b.jsx("span",{className:"unit-label",children:"€/h"})]})]})})]}),g&&b.jsxs("div",{className:"form-section",children:[b.jsx("h3",{className:"section-title",children:"Risultati Calcolo Produzione"}),b.jsxs("div",{className:"form-grid form-grid--2-cols",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Durata Totale (ore):"}),b.jsx("div",{className:"result-value",children:g.totals.duration.toFixed(2)})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Costo Totale (€):"}),b.jsx("div",{className:"result-value",children:g.totals.cost.toFixed(2)})]})]})]}),b.jsxs("div",{className:"form-actions",style:{marginTop:"20px"},children:[b.jsx("button",{type:"button",className:"nav-btn today",onClick:se,disabled:!ue,children:"Calcola"}),b.jsx("button",{type:"submit",className:"nav-btn today",disabled:!g||C,children:C?y?"Aggiornamento Ordine...":"Aggiunta al Backlog...":y?"Aggiorna Ordine":"Aggiungi al Backlog"})]})]})})};function h0(){const{id:t}=Cd(),e=ia(),{odpOrders:n,getOdpOrderById:i}=Tt(),{selectedWorkCenter:a}=Ce(),{isLoading:o,isInitialized:l,init:u,cleanup:d}=Ii(),f=!!t,g=f?i(t):null;return R.useEffect(()=>(l||u(),()=>{d()}),[u,l,d]),R.useEffect(()=>{f&&!o&&!g&&e("/backlog",{replace:!0})},[f,o,g,e]),o?b.jsx("div",{children:"Caricamento..."}):f&&!g?b.jsx("div",{className:"error",children:"Ordine non trovato."}):a?b.jsxs("div",{className:"content-section",children:[b.jsx(bs,{title:f?`Modifica Ordine: ${g?.odp_number}`:"Aggiungi Nuovo Ordine"}),b.jsx(Pk,{onSuccess:void 0,orderToEdit:g})]}):b.jsx("div",{className:"error",children:"Seleziona un centro di lavoro per gestire gli ordini del backlog."})}const kd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function so(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Im(t){return"nodeType"in t}function En(t){var e,n;return t?so(t)?t:Im(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Fm(t){const{Document:e}=En(t);return t instanceof e}function oc(t){return so(t)?!1:t instanceof En(t).HTMLElement}function ex(t){return t instanceof En(t).SVGElement}function ao(t){return t?so(t)?t.document:Im(t)?Fm(t)?t:oc(t)||ex(t)?t.ownerDocument:document:document:document}const vs=kd?R.useLayoutEffect:R.useEffect;function Nd(t){const e=R.useRef(t);return vs(()=>{e.current=t}),R.useCallback(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e.current==null?void 0:e.current(...i)},[])}function zk(){const t=R.useRef(null),e=R.useCallback((i,a)=>{t.current=setInterval(i,a)},[]),n=R.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function ql(t,e){e===void 0&&(e=[t]);const n=R.useRef(t);return vs(()=>{n.current!==t&&(n.current=t)},e),n}function lc(t,e){const n=R.useRef();return R.useMemo(()=>{const i=t(n.current);return n.current=i,i},[...e])}function ud(t){const e=Nd(t),n=R.useRef(null),i=R.useCallback(a=>{a!==n.current&&e?.(a,n.current),n.current=a},[]);return[n,i]}function dd(t){const e=R.useRef();return R.useEffect(()=>{e.current=t},[t]),e.current}let _g={};function jd(t,e){return R.useMemo(()=>{if(e)return e;const n=_g[t]==null?0:_g[t]+1;return _g[t]=n,t+"-"+n},[t,e])}function tx(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return i.reduce((o,l)=>{const u=Object.entries(l);for(const[d,f]of u){const g=o[d];g!=null&&(o[d]=g+t*f)}return o},{...e})}}const Gr=tx(1),hd=tx(-1);function Ik(t){return"clientX"in t&&"clientY"in t}function Um(t){if(!t)return!1;const{KeyboardEvent:e}=En(t.target);return e&&t instanceof e}function Fk(t){if(!t)return!1;const{TouchEvent:e}=En(t.target);return e&&t instanceof e}function fd(t){if(Fk(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return Ik(t)?{x:t.clientX,y:t.clientY}:null}const Gl=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Gl.Translate.toString(t),Gl.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:i}=t;return e+" "+n+"ms "+i}}}),f0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Uk(t){return t.matches(f0)?t:t.querySelector(f0)}const Hk={display:"none"};function Bk(t){let{id:e,value:n}=t;return Me.createElement("div",{id:e,style:Hk},n)}function Vk(t){let{id:e,announcement:n,ariaLiveType:i="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Me.createElement("div",{id:e,style:a,role:"status","aria-live":i,"aria-atomic":!0},n)}function $k(){const[t,e]=R.useState("");return{announce:R.useCallback(i=>{i!=null&&e(i)},[]),announcement:t}}const nx=R.createContext(null);function qk(t){const e=R.useContext(nx);R.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Gk(){const[t]=R.useState(()=>new Set),e=R.useCallback(i=>(t.add(i),()=>t.delete(i)),[t]);return[R.useCallback(i=>{let{type:a,event:o}=i;t.forEach(l=>{var u;return(u=l[a])==null?void 0:u.call(l,o)})},[t]),e]}const Yk={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Wk={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Kk(t){let{announcements:e=Wk,container:n,hiddenTextDescribedById:i,screenReaderInstructions:a=Yk}=t;const{announce:o,announcement:l}=$k(),u=jd("DndLiveRegion"),[d,f]=R.useState(!1);if(R.useEffect(()=>{f(!0)},[]),qk(R.useMemo(()=>({onDragStart(p){let{active:y}=p;o(e.onDragStart({active:y}))},onDragMove(p){let{active:y,over:_}=p;e.onDragMove&&o(e.onDragMove({active:y,over:_}))},onDragOver(p){let{active:y,over:_}=p;o(e.onDragOver({active:y,over:_}))},onDragEnd(p){let{active:y,over:_}=p;o(e.onDragEnd({active:y,over:_}))},onDragCancel(p){let{active:y,over:_}=p;o(e.onDragCancel({active:y,over:_}))}}),[o,e])),!d)return null;const g=Me.createElement(Me.Fragment,null,Me.createElement(Bk,{id:i,value:a.draggable}),Me.createElement(Vk,{id:u,announcement:l}));return n?_l.createPortal(g,n):g}var $t;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})($t||($t={}));function gd(){}const _i=Object.freeze({x:0,y:0});function Xk(t,e){const n=fd(t);if(!n)return"0 0";const i={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return i.x+"% "+i.y+"%"}function Qk(t,e){let{data:{value:n}}=t,{data:{value:i}}=e;return i-n}function Zk(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function Jk(t,e){const n=Math.max(e.top,t.top),i=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),l=a-i,u=o-n;if(i<a&&n<o){const d=e.width*e.height,f=t.width*t.height,g=l*u,p=g/(d+f-g);return Number(p.toFixed(4))}return 0}const eN=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:i}=t;const a=[];for(const o of i){const{id:l}=o,u=n.get(l);if(u){const d=Jk(u,e);d>0&&a.push({id:l,data:{droppableContainer:o,value:d}})}}return a.sort(Qk)};function tN(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function ix(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:_i}function nN(t){return function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return a.reduce((l,u)=>({...l,top:l.top+t*u.y,bottom:l.bottom+t*u.y,left:l.left+t*u.x,right:l.right+t*u.x}),{...n})}}const iN=nN(1);function sx(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function sN(t,e,n){const i=sx(e);if(!i)return t;const{scaleX:a,scaleY:o,x:l,y:u}=i,d=t.left-l-(1-a)*parseFloat(n),f=t.top-u-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),g=a?t.width/a:t.width,p=o?t.height/o:t.height;return{width:g,height:p,top:f,right:d+g,bottom:f+p,left:d}}const aN={ignoreTransform:!1};function cc(t,e){e===void 0&&(e=aN);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:f,transformOrigin:g}=En(t).getComputedStyle(t);f&&(n=sN(n,f,g))}const{top:i,left:a,width:o,height:l,bottom:u,right:d}=n;return{top:i,left:a,width:o,height:l,bottom:u,right:d}}function g0(t){return cc(t,{ignoreTransform:!0})}function rN(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function oN(t,e){return e===void 0&&(e=En(t).getComputedStyle(t)),e.position==="fixed"}function lN(t,e){e===void 0&&(e=En(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=e[a];return typeof o=="string"?n.test(o):!1})}function Hm(t,e){const n=[];function i(a){if(e!=null&&n.length>=e||!a)return n;if(Fm(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!oc(a)||ex(a)||n.includes(a))return n;const o=En(t).getComputedStyle(a);return a!==t&&lN(a,o)&&n.push(a),oN(a,o)?n:i(a.parentNode)}return t?i(t):n}function ax(t){const[e]=Hm(t,1);return e??null}function wg(t){return!kd||!t?null:so(t)?t:Im(t)?Fm(t)||t===ao(t).scrollingElement?window:oc(t)?t:null:null}function rx(t){return so(t)?t.scrollX:t.scrollLeft}function ox(t){return so(t)?t.scrollY:t.scrollTop}function em(t){return{x:rx(t),y:ox(t)}}var Zt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Zt||(Zt={}));function lx(t){return!kd||!t?!1:t===document.scrollingElement}function cx(t){const e={x:0,y:0},n=lx(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},i={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},a=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,l=t.scrollTop>=i.y,u=t.scrollLeft>=i.x;return{isTop:a,isLeft:o,isBottom:l,isRight:u,maxScroll:i,minScroll:e}}const cN={x:.2,y:.2};function uN(t,e,n,i,a){let{top:o,left:l,right:u,bottom:d}=n;i===void 0&&(i=10),a===void 0&&(a=cN);const{isTop:f,isBottom:g,isLeft:p,isRight:y}=cx(t),_={x:0,y:0},w={x:0,y:0},S={height:e.height*a.y,width:e.width*a.x};return!f&&o<=e.top+S.height?(_.y=Zt.Backward,w.y=i*Math.abs((e.top+S.height-o)/S.height)):!g&&d>=e.bottom-S.height&&(_.y=Zt.Forward,w.y=i*Math.abs((e.bottom-S.height-d)/S.height)),!y&&u>=e.right-S.width?(_.x=Zt.Forward,w.x=i*Math.abs((e.right-S.width-u)/S.width)):!p&&l<=e.left+S.width&&(_.x=Zt.Backward,w.x=i*Math.abs((e.left+S.width-l)/S.width)),{direction:_,speed:w}}function dN(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:l}=window;return{top:0,left:0,right:o,bottom:l,width:o,height:l}}const{top:e,left:n,right:i,bottom:a}=t.getBoundingClientRect();return{top:e,left:n,right:i,bottom:a,width:t.clientWidth,height:t.clientHeight}}function ux(t){return t.reduce((e,n)=>Gr(e,em(n)),_i)}function hN(t){return t.reduce((e,n)=>e+rx(n),0)}function fN(t){return t.reduce((e,n)=>e+ox(n),0)}function dx(t,e){if(e===void 0&&(e=cc),!t)return;const{top:n,left:i,bottom:a,right:o}=e(t);ax(t)&&(a<=0||o<=0||n>=window.innerHeight||i>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const gN=[["x",["left","right"],hN],["y",["top","bottom"],fN]];class Bm{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Hm(n),a=ux(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,l,u]of gN)for(const d of l)Object.defineProperty(this,d,{get:()=>{const f=u(i),g=a[o]-f;return this.rect[d]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class kl{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...n)})},this.target=e}add(e,n,i){var a;(a=this.target)==null||a.addEventListener(e,n,i),this.listeners.push([e,n,i])}}function mN(t){const{EventTarget:e}=En(t);return t instanceof e?t:ao(t)}function Sg(t,e){const n=Math.abs(t.x),i=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+i**2)>e:"x"in e&&"y"in e?n>e.x&&i>e.y:"x"in e?n>e.x:"y"in e?i>e.y:!1}var ei;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(ei||(ei={}));function m0(t){t.preventDefault()}function pN(t){t.stopPropagation()}var rt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(rt||(rt={}));const hx={start:[rt.Space,rt.Enter],cancel:[rt.Esc],end:[rt.Space,rt.Enter,rt.Tab]},vN=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case rt.Right:return{...n,x:n.x+25};case rt.Left:return{...n,x:n.x-25};case rt.Down:return{...n,y:n.y+25};case rt.Up:return{...n,y:n.y-25}}};class fx{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new kl(ao(n)),this.windowListeners=new kl(En(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ei.Resize,this.handleCancel),this.windowListeners.add(ei.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ei.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,i=e.node.current;i&&dx(i),n(_i)}handleKeyDown(e){if(Um(e)){const{active:n,context:i,options:a}=this.props,{keyboardCodes:o=hx,coordinateGetter:l=vN,scrollBehavior:u="smooth"}=a,{code:d}=e;if(o.end.includes(d)){this.handleEnd(e);return}if(o.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:f}=i.current,g=f?{x:f.left,y:f.top}:_i;this.referenceCoordinates||(this.referenceCoordinates=g);const p=l(e,{active:n,context:i.current,currentCoordinates:g});if(p){const y=hd(p,g),_={x:0,y:0},{scrollableAncestors:w}=i.current;for(const S of w){const x=e.code,{isTop:C,isRight:A,isLeft:T,isBottom:k,maxScroll:D,minScroll:V}=cx(S),F=dN(S),L={x:Math.min(x===rt.Right?F.right-F.width/2:F.right,Math.max(x===rt.Right?F.left:F.left+F.width/2,p.x)),y:Math.min(x===rt.Down?F.bottom-F.height/2:F.bottom,Math.max(x===rt.Down?F.top:F.top+F.height/2,p.y))},$=x===rt.Right&&!A||x===rt.Left&&!T,G=x===rt.Down&&!k||x===rt.Up&&!C;if($&&L.x!==p.x){const Q=S.scrollLeft+y.x,Z=x===rt.Right&&Q<=D.x||x===rt.Left&&Q>=V.x;if(Z&&!y.y){S.scrollTo({left:Q,behavior:u});return}Z?_.x=S.scrollLeft-Q:_.x=x===rt.Right?S.scrollLeft-D.x:S.scrollLeft-V.x,_.x&&S.scrollBy({left:-_.x,behavior:u});break}else if(G&&L.y!==p.y){const Q=S.scrollTop+y.y,Z=x===rt.Down&&Q<=D.y||x===rt.Up&&Q>=V.y;if(Z&&!y.x){S.scrollTo({top:Q,behavior:u});return}Z?_.y=S.scrollTop-Q:_.y=x===rt.Down?S.scrollTop-D.y:S.scrollTop-V.y,_.y&&S.scrollBy({top:-_.y,behavior:u});break}}this.handleMove(e,Gr(hd(p,this.referenceCoordinates),_))}}}handleMove(e,n){const{onMove:i}=this.props;e.preventDefault(),i(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}fx.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:i=hx,onActivation:a}=e,{active:o}=n;const{code:l}=t.nativeEvent;if(i.start.includes(l)){const u=o.activatorNode.current;return u&&t.target!==u?!1:(t.preventDefault(),a?.({event:t.nativeEvent}),!0)}return!1}}];function p0(t){return!!(t&&"distance"in t)}function v0(t){return!!(t&&"delay"in t)}class Vm{constructor(e,n,i){var a;i===void 0&&(i=mN(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:l}=o;this.props=e,this.events=n,this.document=ao(l),this.documentListeners=new kl(this.document),this.listeners=new kl(i),this.windowListeners=new kl(En(l)),this.initialCoordinates=(a=fd(o))!=null?a:_i,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ei.Resize,this.handleCancel),this.windowListeners.add(ei.DragStart,m0),this.windowListeners.add(ei.VisibilityChange,this.handleCancel),this.windowListeners.add(ei.ContextMenu,m0),this.documentListeners.add(ei.Keydown,this.handleKeydown),n){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(v0(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(p0(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:i,onPending:a}=this.props;a(i,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(ei.Click,pN,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ei.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:i,initialCoordinates:a,props:o}=this,{onMove:l,options:{activationConstraint:u}}=o;if(!a)return;const d=(n=fd(e))!=null?n:_i,f=hd(a,d);if(!i&&u){if(p0(u)){if(u.tolerance!=null&&Sg(f,u.tolerance))return this.handleCancel();if(Sg(f,u.distance))return this.handleStart()}if(v0(u)&&Sg(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}e.cancelable&&e.preventDefault(),l(d)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===rt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const yN={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class gx extends Vm{constructor(e){const{event:n}=e,i=ao(n.target);super(e,yN,i)}}gx.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return!n.isPrimary||n.button!==0?!1:(i?.({event:n}),!0)}}];const bN={move:{name:"mousemove"},end:{name:"mouseup"}};var tm;(function(t){t[t.RightClick=2]="RightClick"})(tm||(tm={}));class _N extends Vm{constructor(e){super(e,bN,ao(e.event.target))}}_N.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;return n.button===tm.RightClick?!1:(i?.({event:n}),!0)}}];const xg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class wN extends Vm{constructor(e){super(e,xg)}static setup(){return window.addEventListener(xg.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(xg.move.name,e)};function e(){}}}wN.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:i}=e;const{touches:a}=n;return a.length>1?!1:(i?.({event:n}),!0)}}];var Nl;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Nl||(Nl={}));var md;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(md||(md={}));function SN(t){let{acceleration:e,activator:n=Nl.Pointer,canScroll:i,draggingRect:a,enabled:o,interval:l=5,order:u=md.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:g,delta:p,threshold:y}=t;const _=EN({delta:p,disabled:!o}),[w,S]=zk(),x=R.useRef({x:0,y:0}),C=R.useRef({x:0,y:0}),A=R.useMemo(()=>{switch(n){case Nl.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Nl.DraggableRect:return a}},[n,a,d]),T=R.useRef(null),k=R.useCallback(()=>{const V=T.current;if(!V)return;const F=x.current.x*C.current.x,L=x.current.y*C.current.y;V.scrollBy(F,L)},[]),D=R.useMemo(()=>u===md.TreeOrder?[...f].reverse():f,[u,f]);R.useEffect(()=>{if(!o||!f.length||!A){S();return}for(const V of D){if(i?.(V)===!1)continue;const F=f.indexOf(V),L=g[F];if(!L)continue;const{direction:$,speed:G}=uN(V,L,A,e,y);for(const Q of["x","y"])_[Q][$[Q]]||(G[Q]=0,$[Q]=0);if(G.x>0||G.y>0){S(),T.current=V,w(k,l),x.current=G,C.current=$;return}}x.current={x:0,y:0},C.current={x:0,y:0},S()},[e,k,i,S,o,l,JSON.stringify(A),JSON.stringify(_),w,f,D,g,JSON.stringify(y)])}const xN={x:{[Zt.Backward]:!1,[Zt.Forward]:!1},y:{[Zt.Backward]:!1,[Zt.Forward]:!1}};function EN(t){let{delta:e,disabled:n}=t;const i=dd(e);return lc(a=>{if(n||!i||!a)return xN;const o={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[Zt.Backward]:a.x[Zt.Backward]||o.x===-1,[Zt.Forward]:a.x[Zt.Forward]||o.x===1},y:{[Zt.Backward]:a.y[Zt.Backward]||o.y===-1,[Zt.Forward]:a.y[Zt.Forward]||o.y===1}}},[n,e,i])}function CN(t,e){const n=e!=null?t.get(e):void 0,i=n?n.node.current:null;return lc(a=>{var o;return e==null?null:(o=i??a)!=null?o:null},[i,e])}function RN(t,e){return R.useMemo(()=>t.reduce((n,i)=>{const{sensor:a}=i,o=a.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,i)}));return[...n,...o]},[]),[t,e])}var Yl;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Yl||(Yl={}));var nm;(function(t){t.Optimized="optimized"})(nm||(nm={}));const y0=new Map;function AN(t,e){let{dragging:n,dependencies:i,config:a}=e;const[o,l]=R.useState(null),{frequency:u,measure:d,strategy:f}=a,g=R.useRef(t),p=x(),y=ql(p),_=R.useCallback(function(C){C===void 0&&(C=[]),!y.current&&l(A=>A===null?C:A.concat(C.filter(T=>!A.includes(T))))},[y]),w=R.useRef(null),S=lc(C=>{if(p&&!n)return y0;if(!C||C===y0||g.current!==t||o!=null){const A=new Map;for(let T of t){if(!T)continue;if(o&&o.length>0&&!o.includes(T.id)&&T.rect.current){A.set(T.id,T.rect.current);continue}const k=T.node.current,D=k?new Bm(d(k),k):null;T.rect.current=D,D&&A.set(T.id,D)}return A}return C},[t,o,n,p,d]);return R.useEffect(()=>{g.current=t},[t]),R.useEffect(()=>{p||_()},[n,p]),R.useEffect(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),R.useEffect(()=>{p||typeof u!="number"||w.current!==null||(w.current=setTimeout(()=>{_(),w.current=null},u))},[u,p,_,...i]),{droppableRects:S,measureDroppableContainers:_,measuringScheduled:o!=null};function x(){switch(f){case Yl.Always:return!1;case Yl.BeforeDragging:return n;default:return!n}}}function $m(t,e){return lc(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function ON(t,e){return $m(t,e)}function TN(t){let{callback:e,disabled:n}=t;const i=Nd(e),a=R.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(i)},[i,n]);return R.useEffect(()=>()=>a?.disconnect(),[a]),a}function Ld(t){let{callback:e,disabled:n}=t;const i=Nd(e),a=R.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(i)},[n]);return R.useEffect(()=>()=>a?.disconnect(),[a]),a}function DN(t){return new Bm(cc(t),t)}function b0(t,e,n){e===void 0&&(e=DN);const[i,a]=R.useState(null);function o(){a(d=>{if(!t)return null;if(t.isConnected===!1){var f;return(f=d??n)!=null?f:null}const g=e(t);return JSON.stringify(d)===JSON.stringify(g)?d:g})}const l=TN({callback(d){if(t)for(const f of d){const{type:g,target:p}=f;if(g==="childList"&&p instanceof HTMLElement&&p.contains(t)){o();break}}}}),u=Ld({callback:o});return vs(()=>{o(),t?(u?.observe(t),l?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),l?.disconnect())},[t]),i}function MN(t){const e=$m(t);return ix(t,e)}const _0=[];function kN(t){const e=R.useRef(t),n=lc(i=>t?i&&i!==_0&&t&&e.current&&t.parentNode===e.current.parentNode?i:Hm(t):_0,[t]);return R.useEffect(()=>{e.current=t},[t]),n}function NN(t){const[e,n]=R.useState(null),i=R.useRef(t),a=R.useCallback(o=>{const l=wg(o.target);l&&n(u=>u?(u.set(l,em(l)),new Map(u)):null)},[]);return R.useEffect(()=>{const o=i.current;if(t!==o){l(o);const u=t.map(d=>{const f=wg(d);return f?(f.addEventListener("scroll",a,{passive:!0}),[f,em(f)]):null}).filter(d=>d!=null);n(u.length?new Map(u):null),i.current=t}return()=>{l(t),l(o)};function l(u){u.forEach(d=>{const f=wg(d);f?.removeEventListener("scroll",a)})}},[a,t]),R.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,l)=>Gr(o,l),_i):ux(t):_i,[t,e])}function w0(t,e){e===void 0&&(e=[]);const n=R.useRef(null);return R.useEffect(()=>{n.current=null},e),R.useEffect(()=>{const i=t!==_i;i&&!n.current&&(n.current=t),!i&&n.current&&(n.current=null)},[t]),n.current?hd(t,n.current):_i}function jN(t){R.useEffect(()=>{if(!kd)return;const e=t.map(n=>{let{sensor:i}=n;return i.setup==null?void 0:i.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function LN(t,e){return R.useMemo(()=>t.reduce((n,i)=>{let{eventName:a,handler:o}=i;return n[a]=l=>{o(l,e)},n},{}),[t,e])}function mx(t){return R.useMemo(()=>t?rN(t):null,[t])}const S0=[];function PN(t,e){e===void 0&&(e=cc);const[n]=t,i=mx(n?En(n):null),[a,o]=R.useState(S0);function l(){o(()=>t.length?t.map(d=>lx(d)?i:new Bm(e(d),d)):S0)}const u=Ld({callback:l});return vs(()=>{u?.disconnect(),l(),t.forEach(d=>u?.observe(d))},[t]),a}function px(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return oc(e)?e:t}function zN(t){let{measure:e}=t;const[n,i]=R.useState(null),a=R.useCallback(f=>{for(const{target:g}of f)if(oc(g)){i(p=>{const y=e(g);return p?{...p,width:y.width,height:y.height}:y});break}},[e]),o=Ld({callback:a}),l=R.useCallback(f=>{const g=px(f);o?.disconnect(),g&&o?.observe(g),i(g?e(g):null)},[e,o]),[u,d]=ud(l);return R.useMemo(()=>({nodeRef:u,rect:n,setRef:d}),[n,u,d])}const IN=[{sensor:gx,options:{}},{sensor:fx,options:{}}],FN={current:{}},Ju={draggable:{measure:g0},droppable:{measure:g0,strategy:Yl.WhileDragging,frequency:nm.Optimized},dragOverlay:{measure:cc}};class jl extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,i;return(n=(i=this.get(e))==null?void 0:i.node.current)!=null?n:void 0}}const UN={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new jl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:gd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ju,measureDroppableContainers:gd,windowRect:null,measuringScheduled:!1},vx={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:gd,draggableNodes:new Map,over:null,measureDroppableContainers:gd},uc=R.createContext(vx),yx=R.createContext(UN);function HN(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new jl}}}function BN(t,e){switch(e.type){case $t.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case $t.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case $t.DragEnd:case $t.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case $t.RegisterDroppable:{const{element:n}=e,{id:i}=n,a=new jl(t.droppable.containers);return a.set(i,n),{...t,droppable:{...t.droppable,containers:a}}}case $t.SetDroppableDisabled:{const{id:n,key:i,disabled:a}=e,o=t.droppable.containers.get(n);if(!o||i!==o.key)return t;const l=new jl(t.droppable.containers);return l.set(n,{...o,disabled:a}),{...t,droppable:{...t.droppable,containers:l}}}case $t.UnregisterDroppable:{const{id:n,key:i}=e,a=t.droppable.containers.get(n);if(!a||i!==a.key)return t;const o=new jl(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function VN(t){let{disabled:e}=t;const{active:n,activatorEvent:i,draggableNodes:a}=R.useContext(uc),o=dd(i),l=dd(n?.id);return R.useEffect(()=>{if(!e&&!i&&o&&l!=null){if(!Um(o)||document.activeElement===o.target)return;const u=a.get(l);if(!u)return;const{activatorNode:d,node:f}=u;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const g of[d.current,f.current]){if(!g)continue;const p=Uk(g);if(p){p.focus();break}}})}},[i,e,a,l,o]),null}function bx(t,e){let{transform:n,...i}=e;return t!=null&&t.length?t.reduce((a,o)=>o({transform:a,...i}),n):n}function $N(t){return R.useMemo(()=>({draggable:{...Ju.draggable,...t?.draggable},droppable:{...Ju.droppable,...t?.droppable},dragOverlay:{...Ju.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function qN(t){let{activeNode:e,measure:n,initialRect:i,config:a=!0}=t;const o=R.useRef(!1),{x:l,y:u}=typeof a=="boolean"?{x:a,y:a}:a;vs(()=>{if(!l&&!u||!e){o.current=!1;return}if(o.current||!i)return;const f=e?.node.current;if(!f||f.isConnected===!1)return;const g=n(f),p=ix(g,i);if(l||(p.x=0),u||(p.y=0),o.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const y=ax(f);y&&y.scrollBy({top:p.y,left:p.x})}},[e,l,u,i,n])}const Pd=R.createContext({..._i,scaleX:1,scaleY:1});var Ws;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ws||(Ws={}));const GN=R.memo(function(e){var n,i,a,o;let{id:l,accessibility:u,autoScroll:d=!0,children:f,sensors:g=IN,collisionDetection:p=eN,measuring:y,modifiers:_,...w}=e;const S=R.useReducer(BN,void 0,HN),[x,C]=S,[A,T]=Gk(),[k,D]=R.useState(Ws.Uninitialized),V=k===Ws.Initialized,{draggable:{active:F,nodes:L,translate:$},droppable:{containers:G}}=x,Q=F!=null?L.get(F):null,Z=R.useRef({initial:null,translated:null}),ce=R.useMemo(()=>{var St;return F!=null?{id:F,data:(St=Q?.data)!=null?St:FN,rect:Z}:null},[F,Q]),ue=R.useRef(null),[he,z]=R.useState(null),[W,oe]=R.useState(null),fe=ql(w,Object.values(w)),N=jd("DndDescribedBy",l),ee=R.useMemo(()=>G.getEnabled(),[G]),ae=$N(y),{droppableRects:K,measureDroppableContainers:se,measuringScheduled:le}=AN(ee,{dragging:V,dependencies:[$.x,$.y],config:ae.droppable}),ie=CN(L,F),Oe=R.useMemo(()=>W?fd(W):null,[W]),Ae=lo(),qe=ON(ie,ae.draggable.measure);qN({activeNode:F!=null?L.get(F):null,config:Ae.layoutShiftCompensation,initialRect:qe,measure:ae.draggable.measure});const Ye=b0(ie,ae.draggable.measure,qe),pt=b0(ie?ie.parentElement:null),ot=R.useRef({activatorEvent:null,active:null,activeNode:ie,collisionRect:null,collisions:null,droppableRects:K,draggableNodes:L,draggingNode:null,draggingNodeRect:null,droppableContainers:G,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Je=G.getNodeFor((n=ot.current.over)==null?void 0:n.id),kt=zN({measure:ae.dragOverlay.measure}),vn=(i=kt.nodeRef.current)!=null?i:ie,Cn=V?(a=kt.rect)!=null?a:Ye:null,Rt=!!(kt.nodeRef.current&&kt.rect),oo=MN(Rt?null:Ye),Fi=mx(vn?En(vn):null),j=kN(V?Je??ie:null),H=PN(j),X=bx(_,{transform:{x:$.x-oo.x,y:$.y-oo.y,scaleX:1,scaleY:1},activatorEvent:W,active:ce,activeNodeRect:Ye,containerNodeRect:pt,draggingNodeRect:Cn,over:ot.current.over,overlayNodeRect:kt.rect,scrollableAncestors:j,scrollableAncestorRects:H,windowRect:Fi}),ge=Oe?Gr(Oe,$):null,de=NN(j),re=w0(de),pe=w0(de,[Ye]),_e=Gr(X,re),Te=Cn?iN(Cn,X):null,Be=ce&&Te?p({active:ce,collisionRect:Te,droppableRects:K,droppableContainers:ee,pointerCoordinates:ge}):null,Ui=Zk(Be,"id"),[It,Ba]=R.useState(null),Si=Rt?X:Gr(X,pe),xi=tN(Si,(o=It?.rect)!=null?o:null,Ye),Nn=R.useRef(null),Ei=R.useCallback((St,yn)=>{let{sensor:on,options:ri}=yn;if(ue.current==null)return;const ln=L.get(ue.current);if(!ln)return;const tn=St.nativeEvent,jn=new on({active:ue.current,activeNode:ln,event:tn,options:ri,context:ot,onAbort(lt){if(!L.get(lt))return;const{onDragAbort:ft}=fe.current,cn={id:lt};ft?.(cn),A({type:"onDragAbort",event:cn})},onPending(lt,ht,ft,cn){if(!L.get(lt))return;const{onDragPending:oa}=fe.current,Ci={id:lt,constraint:ht,initialCoordinates:ft,offset:cn};oa?.(Ci),A({type:"onDragPending",event:Ci})},onStart(lt){const ht=ue.current;if(ht==null)return;const ft=L.get(ht);if(!ft)return;const{onDragStart:cn}=fe.current,Bi={activatorEvent:tn,active:{id:ht,data:ft.data,rect:Z}};_l.unstable_batchedUpdates(()=>{cn?.(Bi),D(Ws.Initializing),C({type:$t.DragStart,initialCoordinates:lt,active:ht}),A({type:"onDragStart",event:Bi}),z(Nn.current),oe(tn)})},onMove(lt){C({type:$t.DragMove,coordinates:lt})},onEnd:ws($t.DragEnd),onCancel:ws($t.DragCancel)});Nn.current=jn;function ws(lt){return async function(){const{active:ft,collisions:cn,over:Bi,scrollAdjustedTranslate:oa}=ot.current;let Ci=null;if(ft&&oa){const{cancelDrop:Ss}=fe.current;Ci={activatorEvent:tn,active:ft,collisions:cn,delta:oa,over:Bi},lt===$t.DragEnd&&typeof Ss=="function"&&await Promise.resolve(Ss(Ci))&&(lt=$t.DragCancel)}ue.current=null,_l.unstable_batchedUpdates(()=>{C({type:lt}),D(Ws.Uninitialized),Ba(null),z(null),oe(null),Nn.current=null;const Ss=lt===$t.DragEnd?"onDragEnd":"onDragCancel";if(Ci){const Vi=fe.current[Ss];Vi?.(Ci),A({type:Ss,event:Ci})}})}}},[L]),Hi=R.useCallback((St,yn)=>(on,ri)=>{const ln=on.nativeEvent,tn=L.get(ri);if(ue.current!==null||!tn||ln.dndKit||ln.defaultPrevented)return;const jn={active:tn};St(on,yn.options,jn)===!0&&(ln.dndKit={capturedBy:yn.sensor},ue.current=ri,Ei(on,yn))},[L,Ei]),ra=RN(g,Hi);jN(g),vs(()=>{Ye&&k===Ws.Initializing&&D(Ws.Initialized)},[Ye,k]),R.useEffect(()=>{const{onDragMove:St}=fe.current,{active:yn,activatorEvent:on,collisions:ri,over:ln}=ot.current;if(!yn||!on)return;const tn={active:yn,activatorEvent:on,collisions:ri,delta:{x:_e.x,y:_e.y},over:ln};_l.unstable_batchedUpdates(()=>{St?.(tn),A({type:"onDragMove",event:tn})})},[_e.x,_e.y]),R.useEffect(()=>{const{active:St,activatorEvent:yn,collisions:on,droppableContainers:ri,scrollAdjustedTranslate:ln}=ot.current;if(!St||ue.current==null||!yn||!ln)return;const{onDragOver:tn}=fe.current,jn=ri.get(Ui),ws=jn&&jn.rect.current?{id:jn.id,rect:jn.rect.current,data:jn.data,disabled:jn.disabled}:null,lt={active:St,activatorEvent:yn,collisions:on,delta:{x:ln.x,y:ln.y},over:ws};_l.unstable_batchedUpdates(()=>{Ba(ws),tn?.(lt),A({type:"onDragOver",event:lt})})},[Ui]),vs(()=>{ot.current={activatorEvent:W,active:ce,activeNode:ie,collisionRect:Te,collisions:Be,droppableRects:K,draggableNodes:L,draggingNode:vn,draggingNodeRect:Cn,droppableContainers:G,over:It,scrollableAncestors:j,scrollAdjustedTranslate:_e},Z.current={initial:Cn,translated:Te}},[ce,ie,Be,Te,L,vn,Cn,K,G,It,j,_e]),SN({...Ae,delta:$,draggingRect:Te,pointerCoordinates:ge,scrollableAncestors:j,scrollableAncestorRects:H});const hc=R.useMemo(()=>({active:ce,activeNode:ie,activeNodeRect:Ye,activatorEvent:W,collisions:Be,containerNodeRect:pt,dragOverlay:kt,draggableNodes:L,droppableContainers:G,droppableRects:K,over:It,measureDroppableContainers:se,scrollableAncestors:j,scrollableAncestorRects:H,measuringConfiguration:ae,measuringScheduled:le,windowRect:Fi}),[ce,ie,Ye,W,Be,pt,kt,L,G,K,It,se,j,H,ae,le,Fi]),fc=R.useMemo(()=>({activatorEvent:W,activators:ra,active:ce,activeNodeRect:Ye,ariaDescribedById:{draggable:N},dispatch:C,draggableNodes:L,over:It,measureDroppableContainers:se}),[W,ra,ce,Ye,C,N,L,It,se]);return Me.createElement(nx.Provider,{value:T},Me.createElement(uc.Provider,{value:fc},Me.createElement(yx.Provider,{value:hc},Me.createElement(Pd.Provider,{value:xi},f)),Me.createElement(VN,{disabled:u?.restoreFocus===!1})),Me.createElement(Kk,{...u,hiddenTextDescribedById:N}));function lo(){const St=he?.autoScrollEnabled===!1,yn=typeof d=="object"?d.enabled===!1:d===!1,on=V&&!St&&!yn;return typeof d=="object"?{...d,enabled:on}:{enabled:on}}}),YN=R.createContext(null),x0="button",WN="Draggable";function Qz(t){let{id:e,data:n,disabled:i=!1,attributes:a}=t;const o=jd(WN),{activators:l,activatorEvent:u,active:d,activeNodeRect:f,ariaDescribedById:g,draggableNodes:p,over:y}=R.useContext(uc),{role:_=x0,roleDescription:w="draggable",tabIndex:S=0}=a??{},x=d?.id===e,C=R.useContext(x?Pd:YN),[A,T]=ud(),[k,D]=ud(),V=LN(l,e),F=ql(n);vs(()=>(p.set(e,{id:e,key:o,node:A,activatorNode:k,data:F}),()=>{const $=p.get(e);$&&$.key===o&&p.delete(e)}),[p,e]);const L=R.useMemo(()=>({role:_,tabIndex:S,"aria-disabled":i,"aria-pressed":x&&_===x0?!0:void 0,"aria-roledescription":w,"aria-describedby":g.draggable}),[i,_,S,x,w,g.draggable]);return{active:d,activatorEvent:u,activeNodeRect:f,attributes:L,isDragging:x,listeners:i?void 0:V,node:A,over:y,setNodeRef:T,setActivatorNodeRef:D,transform:C}}function KN(){return R.useContext(yx)}const XN="Droppable",QN={timeout:25};function Zz(t){let{data:e,disabled:n=!1,id:i,resizeObserverConfig:a}=t;const o=jd(XN),{active:l,dispatch:u,over:d,measureDroppableContainers:f}=R.useContext(uc),g=R.useRef({disabled:n}),p=R.useRef(!1),y=R.useRef(null),_=R.useRef(null),{disabled:w,updateMeasurementsFor:S,timeout:x}={...QN,...a},C=ql(S??i),A=R.useCallback(()=>{if(!p.current){p.current=!0;return}_.current!=null&&clearTimeout(_.current),_.current=setTimeout(()=>{f(Array.isArray(C.current)?C.current:[C.current]),_.current=null},x)},[x]),T=Ld({callback:A,disabled:w||!l}),k=R.useCallback((L,$)=>{T&&($&&(T.unobserve($),p.current=!1),L&&T.observe(L))},[T]),[D,V]=ud(k),F=ql(e);return R.useEffect(()=>{!T||!D.current||(T.disconnect(),p.current=!1,T.observe(D.current))},[D,T]),R.useEffect(()=>(u({type:$t.RegisterDroppable,element:{id:i,key:o,disabled:n,node:D,rect:y,data:F}}),()=>u({type:$t.UnregisterDroppable,key:o,id:i})),[i]),R.useEffect(()=>{n!==g.current.disabled&&(u({type:$t.SetDroppableDisabled,id:i,key:o,disabled:n}),g.current.disabled=n)},[i,o,n,u]),{active:l,rect:y,isOver:d?.id===i,node:D,over:d,setNodeRef:V}}function ZN(t){let{animation:e,children:n}=t;const[i,a]=R.useState(null),[o,l]=R.useState(null),u=dd(n);return!n&&!i&&u&&a(u),vs(()=>{if(!o)return;const d=i?.key,f=i?.props.id;if(d==null||f==null){a(null);return}Promise.resolve(e(f,o)).then(()=>{a(null)})},[e,i,o]),Me.createElement(Me.Fragment,null,n,i?R.cloneElement(i,{ref:l}):null)}const JN={x:0,y:0,scaleX:1,scaleY:1};function ej(t){let{children:e}=t;return Me.createElement(uc.Provider,{value:vx},Me.createElement(Pd.Provider,{value:JN},e))}const tj={position:"fixed",touchAction:"none"},nj=t=>Um(t)?"transform 250ms ease":void 0,ij=R.forwardRef((t,e)=>{let{as:n,activatorEvent:i,adjustScale:a,children:o,className:l,rect:u,style:d,transform:f,transition:g=nj}=t;if(!u)return null;const p=a?f:{...f,scaleX:1,scaleY:1},y={...tj,width:u.width,height:u.height,top:u.top,left:u.left,transform:Gl.Transform.toString(p),transformOrigin:a&&i?Xk(i,u):void 0,transition:typeof g=="function"?g(i):g,...d};return Me.createElement(n,{className:l,style:y,ref:e},o)}),sj=t=>e=>{let{active:n,dragOverlay:i}=e;const a={},{styles:o,className:l}=t;if(o!=null&&o.active)for(const[u,d]of Object.entries(o.active))d!==void 0&&(a[u]=n.node.style.getPropertyValue(u),n.node.style.setProperty(u,d));if(o!=null&&o.dragOverlay)for(const[u,d]of Object.entries(o.dragOverlay))d!==void 0&&i.node.style.setProperty(u,d);return l!=null&&l.active&&n.node.classList.add(l.active),l!=null&&l.dragOverlay&&i.node.classList.add(l.dragOverlay),function(){for(const[d,f]of Object.entries(a))n.node.style.setProperty(d,f);l!=null&&l.active&&n.node.classList.remove(l.active)}},aj=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Gl.Transform.toString(e)},{transform:Gl.Transform.toString(n)}]},rj={duration:250,easing:"ease",keyframes:aj,sideEffects:sj({styles:{active:{opacity:"0"}}})};function oj(t){let{config:e,draggableNodes:n,droppableContainers:i,measuringConfiguration:a}=t;return Nd((o,l)=>{if(e===null)return;const u=n.get(o);if(!u)return;const d=u.node.current;if(!d)return;const f=px(l);if(!f)return;const{transform:g}=En(l).getComputedStyle(l),p=sx(g);if(!p)return;const y=typeof e=="function"?e:lj(e);return dx(d,a.draggable.measure),y({active:{id:o,data:u.data,node:d,rect:a.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:l,rect:a.dragOverlay.measure(f)},droppableContainers:i,measuringConfiguration:a,transform:p})})}function lj(t){const{duration:e,easing:n,sideEffects:i,keyframes:a}={...rj,...t};return o=>{let{active:l,dragOverlay:u,transform:d,...f}=o;if(!e)return;const g={x:u.rect.left-l.rect.left,y:u.rect.top-l.rect.top},p={scaleX:d.scaleX!==1?l.rect.width*d.scaleX/u.rect.width:1,scaleY:d.scaleY!==1?l.rect.height*d.scaleY/u.rect.height:1},y={x:d.x-g.x,y:d.y-g.y,...p},_=a({...f,active:l,dragOverlay:u,transform:{initial:d,final:y}}),[w]=_,S=_[_.length-1];if(JSON.stringify(w)===JSON.stringify(S))return;const x=i?.({active:l,dragOverlay:u,...f}),C=u.node.animate(_,{duration:e,easing:n,fill:"forwards"});return new Promise(A=>{C.onfinish=()=>{x?.(),A()}})}}let E0=0;function cj(t){return R.useMemo(()=>{if(t!=null)return E0++,E0},[t])}const uj=Me.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:i,style:a,transition:o,modifiers:l,wrapperElement:u="div",className:d,zIndex:f=999}=t;const{activatorEvent:g,active:p,activeNodeRect:y,containerNodeRect:_,draggableNodes:w,droppableContainers:S,dragOverlay:x,over:C,measuringConfiguration:A,scrollableAncestors:T,scrollableAncestorRects:k,windowRect:D}=KN(),V=R.useContext(Pd),F=cj(p?.id),L=bx(l,{activatorEvent:g,active:p,activeNodeRect:y,containerNodeRect:_,draggingNodeRect:x.rect,over:C,overlayNodeRect:x.rect,scrollableAncestors:T,scrollableAncestorRects:k,transform:V,windowRect:D}),$=$m(y),G=oj({config:i,draggableNodes:w,droppableContainers:S,measuringConfiguration:A}),Q=$?x.setRef:void 0;return Me.createElement(ej,null,Me.createElement(ZN,{animation:G},p&&F?Me.createElement(ij,{key:F,id:p.id,ref:Q,as:u,activatorEvent:g,adjustScale:e,className:d,transition:o,rect:$,style:{zIndex:f,...a},transform:L},n):null))});function Lu({label:t,options:e,selectedOptions:n,onSelectionChange:i,searchPlaceholder:a,id:o,width:l="200px"}){const[u,d]=R.useState(!1),[f,g]=R.useState(""),p=R.useRef(null);R.useEffect(()=>{const A=T=>{p.current&&!p.current.contains(T.target)&&d(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const y=e.filter(A=>A.toLowerCase().includes(f.toLowerCase())),_=y.length>0&&y.every(A=>n.includes(A)),w=A=>{if(A.preventDefault(),A.stopPropagation(),_){const T=n.filter(k=>!y.includes(k));i(T)}else{const T=[...new Set([...n,...y])];i(T)}},S=(A,T)=>{if(A.preventDefault(),A.stopPropagation(),n.includes(T)){const k=n.filter(D=>D!==T);i(k)}else{const k=[...n.filter(D=>D!==""),T];i(k)}},x=()=>{d(!0)},C=A=>{g(A.target.value)};return b.jsxs("div",{className:"searchable-dropdown",ref:p,style:{width:l},children:[b.jsxs("label",{htmlFor:o,children:[t,":"]}),b.jsx("input",{type:"text",id:o,value:f,onChange:C,onFocus:x,placeholder:a}),u&&e.length>0&&b.jsxs("div",{className:"dropdown-options",children:[b.jsxs("div",{className:`dropdown-option ${_?"selected":""}`,onMouseDown:w,children:[b.jsxs("span",{className:"phase-name",children:["Tutti i ",t]}),b.jsxs("span",{className:"phase-description",children:["Mostra tutti i ",t.toLowerCase()]})]}),y.map(A=>b.jsxs("div",{className:`dropdown-option ${n.includes(A)?"selected":""}`,onMouseDown:T=>S(T,A),children:[b.jsx("span",{className:"phase-name",children:A}),b.jsx("span",{className:"phase-description",children:t})]},A))]})]})}const dj=R.lazy(()=>Fa(()=>import("./TaskPool-1pVezzCf.js"),[])),hj=R.lazy(()=>Fa(()=>import("./GanttChart-DkmWEwol.js"),[])),C0=()=>b.jsx("div",{className:"loading",children:"Caricamento componenti scheduler..."});function fj(){const{machines:t}=Jt(),{odpOrders:e,getScheduledOrders:n}=Tt(),{selectedWorkCenter:i,isLoading:a,isInitialized:o,showAlert:l}=Ce(),{scheduleTask:u,unscheduleTask:d,scheduleTaskFromSlot:f,rescheduleTaskToSlot:g,validateSlotAvailability:p}=qr(),{init:y,cleanup:_}=Ii(),[w,S]=R.useState(new Date),[x,C]=R.useState(null),[A,T]=R.useState([]),[k,D]=R.useState([]),[V,F]=R.useState([]),[L,$]=R.useState([]),[G,Q]=R.useState("");R.useEffect(()=>(o||y(),()=>{_()}),[y,o,_]);const Z=R.useMemo(()=>{if(performance.now(),!t||t.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};let K=t;i&&i!==Re.BOTH&&(K=t.filter(Je=>Je.work_center===i));const se=K.filter(Je=>Je.status===ti.ACTIVE);if(se.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};const le=new Set,ie=new Set,Oe=new Set,Ae=new Set;for(const Je of se)Je.work_center&&le.add(Je.work_center),Je.department&&ie.add(Je.department),Je.machine_type&&Oe.add(Je.machine_type),Je.machine_name&&Ae.add(Je.machine_name);const qe=Array.from(le).sort(),Ye=Array.from(ie).sort(),pt=Array.from(Oe).sort(),ot=Array.from(Ae).sort();return performance.now(),{activeMachines:se,workCenters:qe,departments:Ye,machineTypes:pt,machineNames:ot}},[t,i]),ce=R.useMemo(()=>{const{activeMachines:K}=Z;let se=K;return A.length>0&&(se=se.filter(le=>A.includes(le.work_center))),k.length>0&&(se=se.filter(le=>k.includes(le.department))),V.length>0&&(se=se.filter(le=>V.includes(le.machine_type))),L.length>0&&(se=se.filter(le=>L.includes(le.machine_name))),se},[Z,A,k,V,L]),ue=R.useCallback(K=>{S(se=>{const le=new Date(se);return K==="today"?new Date:K==="prev"?(le.setDate(le.getDate()-1),le):K==="next"?(le.setDate(le.getDate()+1),le):se})},[]),he=R.useCallback(()=>{const K=new Date;return w.toDateString()===K.toDateString()?"Oggi":w.toLocaleDateString("it-IT",{month:"long",day:"numeric"})},[w]),z=R.useCallback(()=>{T([]),D([]),F([]),$([])},[]),W=R.useCallback(()=>{if(!G.trim())return;const K=e.find(le=>le.odp_number===G.trim()&&le.status==="SCHEDULED");if(!K){l("Lavoro non trovato o non programmato","warning");return}const se=t.find(le=>le.id===K.scheduled_machine_id);if(!se){l("Macchina non trovata per questo lavoro","warning");return}$([se.machine_name]),T([se.work_center]),D([se.department]),F([se.machine_type]),K.scheduled_start_time&&S(new Date(K.scheduled_start_time)),Q(""),l(`Lavoro trovato su ${se.machine_name}`,"success")},[G,e,t,l]),oe=R.useRef(null),fe=R.useRef(!1),N=R.useCallback(K=>{performance.now();const se=K.active.data.current;se.type==="task"?C(se.task):se.type==="event"&&C(se.event)},[]),ee=R.useCallback(K=>{const{over:se}=K;if(document.querySelectorAll(".drop-indicator").forEach(ie=>ie.remove()),se&&se.data.current?.type==="slot"){const{machine:ie,hour:Oe,minute:Ae,isUnavailable:qe,hasScheduledTask:Ye}=se.data.current;if(qe||Ye)return;const pt=document.querySelector(`[data-hour="${Oe}"][data-minute="${Ae}"][data-machine-id="${ie.id}"]`);if(pt){const ot=document.createElement("div");ot.className="drop-indicator",ot.style.cssText=`
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          border: 3px dashed #007bff;
          background: rgba(0, 123, 255, 0.1);
          pointer-events: none;
          z-index: 1000;
          border-radius: 4px;
        `,pt.style.position="relative",pt.appendChild(ot)}}},[]),ae=R.useCallback(async K=>{if(performance.now(),oe.current&&clearTimeout(oe.current),fe.current)return;C(null),document.querySelectorAll(".drop-indicator").forEach(qe=>qe.remove());const{over:le,active:ie}=K;if(!le)return;const Oe=ie.data.current,Ae=le.data.current;if(!(!Oe||!Ae)){fe.current=!0;try{await new Promise(qe=>{requestAnimationFrame(async()=>{const Ye=performance.now();if(Oe.type==="task"&&Ae.type==="slot"){const pt=Oe.task,{machine:ot,hour:Je,minute:kt,isUnavailable:vn,hasScheduledTask:Cn}=Ae;if(vn)return l("Impossibile pianificare il lavoro su uno slot temporale non disponibile","error"),qe();if(Cn)return l("Impossibile pianificare il lavoro su uno slot temporale occupato","error"),qe();const Rt=await f(pt.id,ot,w,Je,kt);Rt?.error&&l(Rt.error,"error")}else if(Oe.type==="event"&&Ae.type==="slot"){const pt=Oe.event,{machine:ot,hour:Je,minute:kt,isUnavailable:vn,hasScheduledTask:Cn}=Ae;if(vn)return l("Impossibile riprogrammare il lavoro su uno slot temporale non disponibile","error"),qe();if(Cn)return l("Impossibile riprogrammare il lavoro su uno slot temporale occupato","error"),qe();const Rt=await g(pt.id,ot,w,Je,kt);Rt?.error&&l(Rt.error,"error")}else if(Oe.type==="event"&&Ae.type==="pool"){const pt=Oe.event;d(pt.id)}qe()})})}catch{l("Si è verificato un errore durante l'operazione di trascinamento","error")}finally{fe.current=!1}}},[w,f,g,d,l]);return a?b.jsx("div",{className:"content-section",children:b.jsx("div",{className:"loading",children:"Caricamento Scheduler Produzione..."})}):i?b.jsxs(GN,{onDragStart:N,onDragOver:ee,onDragEnd:ae,children:[b.jsxs("div",{className:"content-section",children:[b.jsx(bs,{title:"Scheduler Produzione"}),b.jsx(R.Suspense,{fallback:b.jsx(C0,{}),children:b.jsx(dj,{})}),b.jsxs("div",{className:"section-controls",children:[b.jsx("h2",{className:"section-title",children:"Ricerca Lavoro"}),b.jsxs("div",{className:"task-lookup",children:[b.jsxs("div",{className:"task-lookup-input-container",children:[b.jsx("input",{type:"text",placeholder:"Inserisci numero ODP per cercare...",value:G,onChange:K=>Q(K.target.value),onKeyPress:K=>K.key==="Enter"&&W(),className:"task-lookup-input"}),G&&b.jsx("div",{className:"task-lookup-dropdown",children:e.filter(K=>K.status==="SCHEDULED"&&K.odp_number.toLowerCase().includes(G.toLowerCase())).slice(0,5).map(K=>b.jsxs("div",{className:"task-lookup-option",onClick:()=>{Q(K.odp_number),W()},children:[b.jsx("span",{className:"task-lookup-odp",children:K.odp_number}),b.jsx("span",{className:"task-lookup-product",children:K.product_name||"Prodotto non specificato"})]},K.id))})]}),b.jsx("button",{onClick:W,className:"nav-btn today",children:"Cerca"})]})]}),b.jsxs("div",{className:"section-controls",children:[b.jsx("h2",{className:"section-title",children:"Programma Produzione"}),b.jsxs("div",{className:"controls-grid",children:[b.jsxs("div",{className:"filters-section",children:[b.jsx(Lu,{label:"Centro di Lavoro",options:Z.workCenters,selectedOptions:A,onSelectionChange:T,searchPlaceholder:"Cerca Centri di Lavoro",id:"work_center_filter"}),b.jsx(Lu,{label:"Reparto",options:Z.departments,selectedOptions:k,onSelectionChange:D,searchPlaceholder:"Cerca Reparti",id:"department_filter"}),b.jsx(Lu,{label:"Tipo Macchina",options:Z.machineTypes,selectedOptions:V,onSelectionChange:F,searchPlaceholder:"Cerca Tipi di Macchina",id:"machine_type_filter"}),b.jsx(Lu,{label:"Nome Macchina",options:Z.machineNames,selectedOptions:L,onSelectionChange:$,searchPlaceholder:"Cerca Nomi Macchine",id:"machine_name_filter"})]}),b.jsxs("div",{className:"actions-section",children:[b.jsx("button",{className:"nav-btn today",onClick:z,title:"Clear all filters",children:"Cancella Filtri"}),b.jsxs("div",{className:"calendar-navigation",children:[b.jsx("button",{className:"nav-btn today",onClick:()=>ue("today"),children:"Oggi"}),b.jsx("button",{className:"nav-btn",onClick:()=>ue("prev"),children:"<"}),b.jsx("span",{className:"current-date",children:he()}),b.jsx("button",{className:"nav-btn",onClick:()=>ue("next"),children:">"})]}),b.jsx("button",{className:"nav-btn today",onClick:()=>{const K=document.querySelector(".calendar-section .calendar-grid");if(!K){alert("Grafico Gantt non trovato. Assicurati che il grafico sia visibile sullo schermo.");return}const se=Array.from(document.styleSheets);let le="";se.forEach(Je=>{try{Array.from(Je.cssRules||Je.rules||[]).forEach(vn=>{le+=vn.cssText+`
`})}catch{}});const ie=K.cloneNode(!0),Oe=`
                    <!DOCTYPE html>
                    <html>
                      <head>
                        <title>Grafico Gantt - ${he()}</title>
                        <style>
                          ${le}
                          body { 
                            margin: 0; 
                            padding: 20px; 
                            font-family: Arial, sans-serif;
                          }
                          .calendar-section {
                            width: 100%;
                            overflow-x: auto;
                          }
                        </style>
                      </head>
                      <body>
                        <div style="text-align: center; margin-bottom: 20px; font-size: 16px; font-weight: bold;">
                          Grafico Gantt - ${he()}
                        </div>
                        <div class="calendar-section">
                          ${ie.outerHTML}
                        </div>
                      </body>
                    </html>
                  `,Ae=new Blob([Oe],{type:"text/html"}),qe=window.URL.createObjectURL(Ae),Ye=document.createElement("a");Ye.href=qe;const pt=w.toISOString().split("T")[0],ot=new Date().toTimeString().split(" ")[0].replace(/:/g,"-");Ye.download=`grafico-gantt-${pt}-${ot}.html`,document.body.appendChild(Ye),Ye.click(),document.body.removeChild(Ye),window.URL.revokeObjectURL(qe)},title:"Download exact Gantt chart as HTML file",children:"Scarica HTML"})]})]})]}),b.jsx(R.Suspense,{fallback:b.jsx(C0,{}),children:b.jsx(hj,{machines:ce,currentDate:w})})]}),b.jsx(uj,{children:x?b.jsxs("div",{className:"task-item drag-overlay",style:{boxShadow:"0 8px 25px rgba(0,0,0,0.3)",transform:"rotate(3deg) scale(1.05)",opacity:.9,zIndex:1002,pointerEvents:"none"},children:[b.jsx("span",{children:x.odp_number}),b.jsxs("span",{className:"task-duration",children:[x.duration||1,"h"]})]}):null})]}):b.jsx("div",{className:"content-section",children:b.jsx("div",{className:"error",children:"Seleziona un centro di lavoro per visualizzare i dati dello scheduler."})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function dc(t){return t+.5|0}const Js=(t,e,n)=>Math.max(Math.min(t,n),e);function Sl(t){return Js(dc(t*2.55),0,255)}function ea(t){return Js(dc(t*255),0,255)}function hs(t){return Js(dc(t/2.55)/100,0,1)}function R0(t){return Js(dc(t*100),0,100)}const Jn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},im=[..."0123456789ABCDEF"],gj=t=>im[t&15],mj=t=>im[(t&240)>>4]+im[t&15],Pu=t=>(t&240)>>4===(t&15),pj=t=>Pu(t.r)&&Pu(t.g)&&Pu(t.b)&&Pu(t.a);function vj(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Jn[t[1]]*17,g:255&Jn[t[2]]*17,b:255&Jn[t[3]]*17,a:e===5?Jn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Jn[t[1]]<<4|Jn[t[2]],g:Jn[t[3]]<<4|Jn[t[4]],b:Jn[t[5]]<<4|Jn[t[6]],a:e===9?Jn[t[7]]<<4|Jn[t[8]]:255})),n}const yj=(t,e)=>t<255?e(t):"";function bj(t){var e=pj(t)?gj:mj;return t?"#"+e(t.r)+e(t.g)+e(t.b)+yj(t.a,e):void 0}const _j=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function _x(t,e,n){const i=e*Math.min(n,1-n),a=(o,l=(o+t/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[a(0),a(8),a(4)]}function wj(t,e,n){const i=(a,o=(a+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function Sj(t,e,n){const i=_x(t,1,.5);let a;for(e+n>1&&(a=1/(e+n),e*=a,n*=a),a=0;a<3;a++)i[a]*=1-e-n,i[a]+=e;return i}function xj(t,e,n,i,a){return t===a?(e-n)/i+(e<n?6:0):e===a?(n-t)/i+2:(t-e)/i+4}function qm(t){const n=t.r/255,i=t.g/255,a=t.b/255,o=Math.max(n,i,a),l=Math.min(n,i,a),u=(o+l)/2;let d,f,g;return o!==l&&(g=o-l,f=u>.5?g/(2-o-l):g/(o+l),d=xj(n,i,a,g,o),d=d*60+.5),[d|0,f||0,u]}function Gm(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(ea)}function Ym(t,e,n){return Gm(_x,t,e,n)}function Ej(t,e,n){return Gm(Sj,t,e,n)}function Cj(t,e,n){return Gm(wj,t,e,n)}function wx(t){return(t%360+360)%360}function Rj(t){const e=_j.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Sl(+e[5]):ea(+e[5]));const a=wx(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=Ej(a,o,l):e[1]==="hsv"?i=Cj(a,o,l):i=Ym(a,o,l),{r:i[0],g:i[1],b:i[2],a:n}}function Aj(t,e){var n=qm(t);n[0]=wx(n[0]+e),n=Ym(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Oj(t){if(!t)return;const e=qm(t),n=e[0],i=R0(e[1]),a=R0(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${a}%, ${hs(t.a)})`:`hsl(${n}, ${i}%, ${a}%)`}const A0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},O0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Tj(){const t={},e=Object.keys(O0),n=Object.keys(A0);let i,a,o,l,u;for(i=0;i<e.length;i++){for(l=u=e[i],a=0;a<n.length;a++)o=n[a],u=u.replace(o,A0[o]);o=parseInt(O0[l],16),t[u]=[o>>16&255,o>>8&255,o&255]}return t}let zu;function Dj(t){zu||(zu=Tj(),zu.transparent=[0,0,0,0]);const e=zu[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Mj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function kj(t){const e=Mj.exec(t);let n=255,i,a,o;if(e){if(e[7]!==i){const l=+e[7];n=e[8]?Sl(l):Js(l*255,0,255)}return i=+e[1],a=+e[3],o=+e[5],i=255&(e[2]?Sl(i):Js(i,0,255)),a=255&(e[4]?Sl(a):Js(a,0,255)),o=255&(e[6]?Sl(o):Js(o,0,255)),{r:i,g:a,b:o,a:n}}}function Nj(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${hs(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Eg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Fr=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function jj(t,e,n){const i=Fr(hs(t.r)),a=Fr(hs(t.g)),o=Fr(hs(t.b));return{r:ea(Eg(i+n*(Fr(hs(e.r))-i))),g:ea(Eg(a+n*(Fr(hs(e.g))-a))),b:ea(Eg(o+n*(Fr(hs(e.b))-o))),a:t.a+n*(e.a-t.a)}}function Iu(t,e,n){if(t){let i=qm(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Ym(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Sx(t,e){return t&&Object.assign(e||{},t)}function T0(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ea(t[3]))):(e=Sx(t,{r:0,g:0,b:0,a:1}),e.a=ea(e.a)),e}function Lj(t){return t.charAt(0)==="r"?kj(t):Rj(t)}class Wl{constructor(e){if(e instanceof Wl)return e;const n=typeof e;let i;n==="object"?i=T0(e):n==="string"&&(i=vj(e)||Dj(e)||Lj(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Sx(this._rgb);return e&&(e.a=hs(e.a)),e}set rgb(e){this._rgb=T0(e)}rgbString(){return this._valid?Nj(this._rgb):void 0}hexString(){return this._valid?bj(this._rgb):void 0}hslString(){return this._valid?Oj(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,a=e.rgb;let o;const l=n===o?.5:n,u=2*l-1,d=i.a-a.a,f=((u*d===-1?u:(u+d)/(1+u*d))+1)/2;o=1-f,i.r=255&f*i.r+o*a.r+.5,i.g=255&f*i.g+o*a.g+.5,i.b=255&f*i.b+o*a.b+.5,i.a=l*i.a+(1-l)*a.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=jj(this._rgb,e._rgb,n)),this}clone(){return new Wl(this.rgb)}alpha(e){return this._rgb.a=ea(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=dc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Iu(this._rgb,2,e),this}darken(e){return Iu(this._rgb,2,-e),this}saturate(e){return Iu(this._rgb,1,e),this}desaturate(e){return Iu(this._rgb,1,-e),this}rotate(e){return Aj(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function rs(){}const Pj=(()=>{let t=0;return()=>t++})();function dt(t){return t==null}function en(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function $e(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ii(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Mi(t,e){return ii(t)?t:e}function Fe(t,e){return typeof t>"u"?e:t}const zj=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,xx=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function gt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Qe(t,e,n,i){let a,o,l;if(en(t))for(o=t.length,a=0;a<o;a++)e.call(n,t[a],a);else if($e(t))for(l=Object.keys(t),o=l.length,a=0;a<o;a++)e.call(n,t[l[a]],l[a])}function pd(t,e){let n,i,a,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(a=t[n],o=e[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function vd(t){if(en(t))return t.map(vd);if($e(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let a=0;for(;a<i;++a)e[n[a]]=vd(t[n[a]]);return e}return t}function Ex(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Ij(t,e,n,i){if(!Ex(t))return;const a=e[t],o=n[t];$e(a)&&$e(o)?Kl(a,o,i):e[t]=vd(o)}function Kl(t,e,n){const i=en(e)?e:[e],a=i.length;if(!$e(t))return t;n=n||{};const o=n.merger||Ij;let l;for(let u=0;u<a;++u){if(l=i[u],!$e(l))continue;const d=Object.keys(l);for(let f=0,g=d.length;f<g;++f)o(d[f],t,l,n)}return t}function Ll(t,e){return Kl(t,e,{merger:Fj})}function Fj(t,e,n){if(!Ex(t))return;const i=e[t],a=n[t];$e(i)&&$e(a)?Ll(i,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=vd(a))}const D0={"":t=>t,x:t=>t.x,y:t=>t.y};function Uj(t){const e=t.split("."),n=[];let i="";for(const a of e)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function Hj(t){const e=Uj(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Xl(t,e){return(D0[e]||(D0[e]=Hj(e)))(t)}function Wm(t){return t.charAt(0).toUpperCase()+t.slice(1)}const yd=t=>typeof t<"u",na=t=>typeof t=="function",M0=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Bj(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ze=Math.PI,Ct=2*Ze,Vj=Ct+Ze,bd=Number.POSITIVE_INFINITY,$j=Ze/180,qt=Ze/2,Aa=Ze/4,k0=Ze*2/3,Cx=Math.log10,Xr=Math.sign;function Pl(t,e,n){return Math.abs(t-e)<n}function N0(t){const e=Math.round(t);t=Pl(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Cx(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function qj(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((a,o)=>a-o).pop(),e}function Gj(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Ql(t){return!Gj(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Yj(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Wj(t,e,n){let i,a,o;for(i=0,a=t.length;i<a;i++)o=t[i][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function gs(t){return t*(Ze/180)}function Kj(t){return t*(180/Ze)}function j0(t){if(!ii(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Rx(t,e){const n=e.x-t.x,i=e.y-t.y,a=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*Ze&&(o+=Ct),{angle:o,distance:a}}function sm(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Xj(t,e){return(t-e+Vj)%Ct-Ze}function fi(t){return(t%Ct+Ct)%Ct}function Zl(t,e,n,i){const a=fi(t),o=fi(e),l=fi(n),u=fi(o-a),d=fi(l-a),f=fi(a-o),g=fi(a-l);return a===o||a===l||i&&o===l||u>d&&f<g}function xn(t,e,n){return Math.max(e,Math.min(n,t))}function Qj(t){return xn(t,-32768,32767)}function Vr(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Km(t,e,n){n=n||(l=>t[l]<e);let i=t.length-1,a=0,o;for(;i-a>1;)o=a+i>>1,n(o)?a=o:i=o;return{lo:a,hi:i}}const Pa=(t,e,n,i)=>Km(t,n,i?a=>{const o=t[a][e];return o<n||o===n&&t[a+1][e]===n}:a=>t[a][e]<n),Zj=(t,e,n)=>Km(t,n,i=>t[i][e]>=n);function Jj(t,e,n){let i=0,a=t.length;for(;i<a&&t[i]<e;)i++;for(;a>i&&t[a-1]>n;)a--;return i>0||a<t.length?t.slice(i,a):t}const Ax=["push","pop","shift","splice","unshift"];function e2(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ax.forEach(n=>{const i="_onData"+Wm(n),a=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const l=a.apply(this,o);return t._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function L0(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,a=i.indexOf(e);a!==-1&&i.splice(a,1),!(i.length>0)&&(Ax.forEach(o=>{delete t[o]}),delete t._chartjs)}function t2(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Ox=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Tx(t,e){let n=[],i=!1;return function(...a){n=a,i||(i=!0,Ox.call(window,()=>{i=!1,t.apply(e,n)}))}}function n2(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Xm=t=>t==="start"?"left":t==="end"?"right":"center",gn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,i2=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function s2(t,e,n){const i=e.length;let a=0,o=i;if(t._sorted){const{iScale:l,vScale:u,_parsed:d}=t,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,g=l.axis,{min:p,max:y,minDefined:_,maxDefined:w}=l.getUserBounds();if(_){if(a=Math.min(Pa(d,g,p).lo,n?i:Pa(e,g,l.getPixelForValue(p)).lo),f){const S=d.slice(0,a+1).reverse().findIndex(x=>!dt(x[u.axis]));a-=Math.max(0,S)}a=xn(a,0,i-1)}if(w){let S=Math.max(Pa(d,l.axis,y,!0).hi+1,n?0:Pa(e,g,l.getPixelForValue(y),!0).hi+1);if(f){const x=d.slice(S-1).findIndex(C=>!dt(C[u.axis]));S+=Math.max(0,x)}o=xn(S,a,i)-a}else o=i-a}return{start:a,count:o}}function a2(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,a={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=a,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,a),o}const Fu=t=>t===0||t===1,P0=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ct/n)),z0=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ct/n)+1,zl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*qt)+1,easeOutSine:t=>Math.sin(t*qt),easeInOutSine:t=>-.5*(Math.cos(Ze*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Fu(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Fu(t)?t:P0(t,.075,.3),easeOutElastic:t=>Fu(t)?t:z0(t,.075,.3),easeInOutElastic(t){return Fu(t)?t:t<.5?.5*P0(t*2,.1125,.45):.5+.5*z0(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-zl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?zl.easeInBounce(t*2)*.5:zl.easeOutBounce(t*2-1)*.5+.5};function Qm(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function I0(t){return Qm(t)?t:new Wl(t)}function Cg(t){return Qm(t)?t:new Wl(t).saturate(.5).darken(.1).hexString()}const r2=["x","y","borderWidth","radius","tension"],o2=["color","borderColor","backgroundColor"];function l2(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:o2},numbers:{type:"number",properties:r2}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function c2(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const F0=new Map;function u2(t,e){e=e||{};const n=t+JSON.stringify(e);let i=F0.get(n);return i||(i=new Intl.NumberFormat(t,e),F0.set(n,i)),i}function Zm(t,e,n){return u2(e,n).format(t)}const d2={values(t){return en(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let a,o=t;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(a="scientific"),o=h2(t,n)}const l=Cx(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(d,this.options.ticks.format),Zm(t,i,d)}};function h2(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Dx={formatters:d2};function f2(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Dx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ia=Object.create(null),am=Object.create(null);function Il(t,e){if(!e)return t;const n=e.split(".");for(let i=0,a=n.length;i<a;++i){const o=n[i];t=t[o]||(t[o]=Object.create(null))}return t}function Rg(t,e,n){return typeof e=="string"?Kl(Il(t,e),n):Kl(Il(t,""),e)}class g2{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>Cg(a.backgroundColor),this.hoverBorderColor=(i,a)=>Cg(a.borderColor),this.hoverColor=(i,a)=>Cg(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Rg(this,e,n)}get(e){return Il(this,e)}describe(e,n){return Rg(am,e,n)}override(e,n){return Rg(Ia,e,n)}route(e,n,i,a){const o=Il(this,e),l=Il(this,i),u="_"+n;Object.defineProperties(o,{[u]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const d=this[u],f=l[a];return $e(d)?Object.assign({},f,d):Fe(d,f)},set(d){this[u]=d}}})}apply(e){e.forEach(n=>n(this))}}var Dt=new g2({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[l2,c2,f2]);function m2(t){return!t||dt(t.size)||dt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function U0(t,e,n,i,a){let o=e[a];return o||(o=e[a]=t.measureText(a).width,n.push(a)),o>i&&(i=o),i}function Oa(t,e,n){const i=t.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((e-a)*i)/i+a}function H0(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function rm(t,e,n,i){Mx(t,e,n,i,null)}function Mx(t,e,n,i,a){let o,l,u,d,f,g,p,y;const _=e.pointStyle,w=e.rotation,S=e.radius;let x=(w||0)*$j;if(_&&typeof _=="object"&&(o=_.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(x),t.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),_){default:a?t.ellipse(n,i,a/2,S,0,0,Ct):t.arc(n,i,S,0,Ct),t.closePath();break;case"triangle":g=a?a/2:S,t.moveTo(n+Math.sin(x)*g,i-Math.cos(x)*S),x+=k0,t.lineTo(n+Math.sin(x)*g,i-Math.cos(x)*S),x+=k0,t.lineTo(n+Math.sin(x)*g,i-Math.cos(x)*S),t.closePath();break;case"rectRounded":f=S*.516,d=S-f,l=Math.cos(x+Aa)*d,p=Math.cos(x+Aa)*(a?a/2-f:d),u=Math.sin(x+Aa)*d,y=Math.sin(x+Aa)*(a?a/2-f:d),t.arc(n-p,i-u,f,x-Ze,x-qt),t.arc(n+y,i-l,f,x-qt,x),t.arc(n+p,i+u,f,x,x+qt),t.arc(n-y,i+l,f,x+qt,x+Ze),t.closePath();break;case"rect":if(!w){d=Math.SQRT1_2*S,g=a?a/2:d,t.rect(n-g,i-d,2*g,2*d);break}x+=Aa;case"rectRot":p=Math.cos(x)*(a?a/2:S),l=Math.cos(x)*S,u=Math.sin(x)*S,y=Math.sin(x)*(a?a/2:S),t.moveTo(n-p,i-u),t.lineTo(n+y,i-l),t.lineTo(n+p,i+u),t.lineTo(n-y,i+l),t.closePath();break;case"crossRot":x+=Aa;case"cross":p=Math.cos(x)*(a?a/2:S),l=Math.cos(x)*S,u=Math.sin(x)*S,y=Math.sin(x)*(a?a/2:S),t.moveTo(n-p,i-u),t.lineTo(n+p,i+u),t.moveTo(n+y,i-l),t.lineTo(n-y,i+l);break;case"star":p=Math.cos(x)*(a?a/2:S),l=Math.cos(x)*S,u=Math.sin(x)*S,y=Math.sin(x)*(a?a/2:S),t.moveTo(n-p,i-u),t.lineTo(n+p,i+u),t.moveTo(n+y,i-l),t.lineTo(n-y,i+l),x+=Aa,p=Math.cos(x)*(a?a/2:S),l=Math.cos(x)*S,u=Math.sin(x)*S,y=Math.sin(x)*(a?a/2:S),t.moveTo(n-p,i-u),t.lineTo(n+p,i+u),t.moveTo(n+y,i-l),t.lineTo(n-y,i+l);break;case"line":l=a?a/2:Math.cos(x)*S,u=Math.sin(x)*S,t.moveTo(n-l,i-u),t.lineTo(n+l,i+u);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(x)*(a?a/2:S),i+Math.sin(x)*S);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Jl(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Jm(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ep(t){t.restore()}function p2(t,e,n,i,a){if(!e)return t.lineTo(n.x,n.y);if(a==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else a==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function v2(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function y2(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),dt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function b2(t,e,n,i,a){if(a.strikethrough||a.underline){const o=t.measureText(i),l=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,d=n-o.actualBoundingBoxAscent,f=n+o.actualBoundingBoxDescent,g=a.strikethrough?(d+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(l,g),t.lineTo(u,g),t.stroke()}}function _2(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function ec(t,e,n,i,a,o={}){const l=en(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let d,f;for(t.save(),t.font=a.string,y2(t,o),d=0;d<l.length;++d)f=l[d],o.backdrop&&_2(t,o.backdrop),u&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),dt(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(f,n,i,o.maxWidth)),t.fillText(f,n,i,o.maxWidth),b2(t,n,i,f,o),i+=Number(a.lineHeight);t.restore()}function om(t,e){const{x:n,y:i,w:a,h:o,radius:l}=e;t.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*Ze,Ze,!0),t.lineTo(n,i+o-l.bottomLeft),t.arc(n+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,Ze,qt,!0),t.lineTo(n+a-l.bottomRight,i+o),t.arc(n+a-l.bottomRight,i+o-l.bottomRight,l.bottomRight,qt,0,!0),t.lineTo(n+a,i+l.topRight),t.arc(n+a-l.topRight,i+l.topRight,l.topRight,0,-qt,!0),t.lineTo(n+l.topLeft,i)}const w2=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,S2=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function x2(t,e){const n=(""+t).match(w2);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const E2=t=>+t||0;function tp(t,e){const n={},i=$e(e),a=i?Object.keys(e):e,o=$e(t)?i?l=>Fe(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of a)n[l]=E2(o(l));return n}function C2(t){return tp(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Fl(t){return tp(t,["topLeft","topRight","bottomLeft","bottomRight"])}function si(t){const e=C2(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function pn(t,e){t=t||{},e=e||Dt.font;let n=Fe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Fe(t.style,e.style);i&&!(""+i).match(S2)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:Fe(t.family,e.family),lineHeight:x2(Fe(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Fe(t.weight,e.weight),string:""};return a.string=m2(a),a}function Uu(t,e,n,i){let a,o,l;for(a=0,o=t.length;a<o;++a)if(l=t[a],l!==void 0&&l!==void 0)return l}function R2(t,e,n){const{min:i,max:a}=t,o=xx(e,(a-i)/2),l=(u,d)=>n&&u===0?0:u+d;return{min:l(i,-Math.abs(o)),max:l(a,o)}}function Ha(t,e){return Object.assign(Object.create(t),e)}function np(t,e=[""],n,i,a=()=>t[0]){const o=n||t;typeof i>"u"&&(i=Lx("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:i,_getTarget:a,override:u=>np([u,...t],e,o,i)};return new Proxy(l,{deleteProperty(u,d){return delete u[d],delete u._keys,delete t[0][d],!0},get(u,d){return Nx(u,d,()=>j2(d,e,t,u))},getOwnPropertyDescriptor(u,d){return Reflect.getOwnPropertyDescriptor(u._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,d){return V0(u).includes(d)},ownKeys(u){return V0(u)},set(u,d,f){const g=u._storage||(u._storage=a());return u[d]=g[d]=f,delete u._keys,!0}})}function Qr(t,e,n,i){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:kx(t,i),setContext:o=>Qr(t,o,n,i),override:o=>Qr(t.override(o),e,n,i)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete t[l],!0},get(o,l,u){return Nx(o,l,()=>O2(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(o,l,u){return t[l]=u,delete o[l],!0}})}function kx(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:n,indexable:i,isScriptable:na(n)?n:()=>n,isIndexable:na(i)?i:()=>i}}const A2=(t,e)=>t?t+Wm(e):e,ip=(t,e)=>$e(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Nx(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function O2(t,e,n){const{_proxy:i,_context:a,_subProxy:o,_descriptors:l}=t;let u=i[e];return na(u)&&l.isScriptable(e)&&(u=T2(e,u,t,n)),en(u)&&u.length&&(u=D2(e,u,t,l.isIndexable)),ip(e,u)&&(u=Qr(u,a,o&&o[e],l)),u}function T2(t,e,n,i){const{_proxy:a,_context:o,_subProxy:l,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let d=e(o,l||i);return u.delete(t),ip(t,d)&&(d=sp(a._scopes,a,t,d)),d}function D2(t,e,n,i){const{_proxy:a,_context:o,_subProxy:l,_descriptors:u}=n;if(typeof o.index<"u"&&i(t))return e[o.index%e.length];if($e(e[0])){const d=e,f=a._scopes.filter(g=>g!==d);e=[];for(const g of d){const p=sp(f,a,t,g);e.push(Qr(p,o,l&&l[t],u))}}return e}function jx(t,e,n){return na(t)?t(e,n):t}const M2=(t,e)=>t===!0?e:typeof t=="string"?Xl(e,t):void 0;function k2(t,e,n,i,a){for(const o of e){const l=M2(n,o);if(l){t.add(l);const u=jx(l._fallback,n,a);if(typeof u<"u"&&u!==n&&u!==i)return u}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function sp(t,e,n,i){const a=e._rootScopes,o=jx(e._fallback,n,i),l=[...t,...a],u=new Set;u.add(i);let d=B0(u,l,n,o||n,i);return d===null||typeof o<"u"&&o!==n&&(d=B0(u,l,o,d,i),d===null)?!1:np(Array.from(u),[""],a,o,()=>N2(e,n,i))}function B0(t,e,n,i,a){for(;n;)n=k2(t,e,n,i,a);return n}function N2(t,e,n){const i=t._getTarget();e in i||(i[e]={});const a=i[e];return en(a)&&$e(n)?n:a||{}}function j2(t,e,n,i){let a;for(const o of e)if(a=Lx(A2(o,t),n),typeof a<"u")return ip(t,a)?sp(n,i,t,a):a}function Lx(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function V0(t){let e=t._keys;return e||(e=t._keys=L2(t._scopes)),e}function L2(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(a=>!a.startsWith("_")))e.add(i);return Array.from(e)}const P2=Number.EPSILON||1e-14,Zr=(t,e)=>e<t.length&&!t[e].skip&&t[e],Px=t=>t==="x"?"y":"x";function z2(t,e,n,i){const a=t.skip?e:t,o=e,l=n.skip?e:n,u=sm(o,a),d=sm(l,o);let f=u/(u+d),g=d/(u+d);f=isNaN(f)?0:f,g=isNaN(g)?0:g;const p=i*f,y=i*g;return{previous:{x:o.x-p*(l.x-a.x),y:o.y-p*(l.y-a.y)},next:{x:o.x+y*(l.x-a.x),y:o.y+y*(l.y-a.y)}}}function I2(t,e,n){const i=t.length;let a,o,l,u,d,f=Zr(t,0);for(let g=0;g<i-1;++g)if(d=f,f=Zr(t,g+1),!(!d||!f)){if(Pl(e[g],0,P2)){n[g]=n[g+1]=0;continue}a=n[g]/e[g],o=n[g+1]/e[g],u=Math.pow(a,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),n[g]=a*l*e[g],n[g+1]=o*l*e[g])}}function F2(t,e,n="x"){const i=Px(n),a=t.length;let o,l,u,d=Zr(t,0);for(let f=0;f<a;++f){if(l=u,u=d,d=Zr(t,f+1),!u)continue;const g=u[n],p=u[i];l&&(o=(g-l[n])/3,u[`cp1${n}`]=g-o,u[`cp1${i}`]=p-o*e[f]),d&&(o=(d[n]-g)/3,u[`cp2${n}`]=g+o,u[`cp2${i}`]=p+o*e[f])}}function U2(t,e="x"){const n=Px(e),i=t.length,a=Array(i).fill(0),o=Array(i);let l,u,d,f=Zr(t,0);for(l=0;l<i;++l)if(u=d,d=f,f=Zr(t,l+1),!!d){if(f){const g=f[e]-d[e];a[l]=g!==0?(f[n]-d[n])/g:0}o[l]=u?f?Xr(a[l-1])!==Xr(a[l])?0:(a[l-1]+a[l])/2:a[l-1]:a[l]}I2(t,a,o),F2(t,o,e)}function Hu(t,e,n){return Math.max(Math.min(t,n),e)}function H2(t,e){let n,i,a,o,l,u=Jl(t[0],e);for(n=0,i=t.length;n<i;++n)l=o,o=u,u=n<i-1&&Jl(t[n+1],e),o&&(a=t[n],l&&(a.cp1x=Hu(a.cp1x,e.left,e.right),a.cp1y=Hu(a.cp1y,e.top,e.bottom)),u&&(a.cp2x=Hu(a.cp2x,e.left,e.right),a.cp2y=Hu(a.cp2y,e.top,e.bottom)))}function B2(t,e,n,i,a){let o,l,u,d;if(e.spanGaps&&(t=t.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")U2(t,a);else{let f=i?t[t.length-1]:t[0];for(o=0,l=t.length;o<l;++o)u=t[o],d=z2(f,u,t[Math.min(o+1,l-(i?0:1))%l],e.tension),u.cp1x=d.previous.x,u.cp1y=d.previous.y,u.cp2x=d.next.x,u.cp2y=d.next.y,f=u}e.capBezierPoints&&H2(t,n)}function ap(){return typeof window<"u"&&typeof document<"u"}function rp(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function _d(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const zd=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function V2(t,e){return zd(t).getPropertyValue(e)}const $2=["top","right","bottom","left"];function za(t,e,n){const i={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=$2[a];i[o]=parseFloat(t[e+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const q2=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function G2(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:a,offsetY:o}=i;let l=!1,u,d;if(q2(a,o,t.target))u=a,d=o;else{const f=e.getBoundingClientRect();u=i.clientX-f.left,d=i.clientY-f.top,l=!0}return{x:u,y:d,box:l}}function ka(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,a=zd(n),o=a.boxSizing==="border-box",l=za(a,"padding"),u=za(a,"border","width"),{x:d,y:f,box:g}=G2(t,n),p=l.left+(g&&u.left),y=l.top+(g&&u.top);let{width:_,height:w}=e;return o&&(_-=l.width+u.width,w-=l.height+u.height),{x:Math.round((d-p)/_*n.width/i),y:Math.round((f-y)/w*n.height/i)}}function Y2(t,e,n){let i,a;if(e===void 0||n===void 0){const o=t&&rp(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const l=o.getBoundingClientRect(),u=zd(o),d=za(u,"border","width"),f=za(u,"padding");e=l.width-f.width-d.width,n=l.height-f.height-d.height,i=_d(u.maxWidth,o,"clientWidth"),a=_d(u.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:i||bd,maxHeight:a||bd}}const Bu=t=>Math.round(t*10)/10;function W2(t,e,n,i){const a=zd(t),o=za(a,"margin"),l=_d(a.maxWidth,t,"clientWidth")||bd,u=_d(a.maxHeight,t,"clientHeight")||bd,d=Y2(t,e,n);let{width:f,height:g}=d;if(a.boxSizing==="content-box"){const y=za(a,"border","width"),_=za(a,"padding");f-=_.width+y.width,g-=_.height+y.height}return f=Math.max(0,f-o.width),g=Math.max(0,i?f/i:g-o.height),f=Bu(Math.min(f,l,d.maxWidth)),g=Bu(Math.min(g,u,d.maxHeight)),f&&!g&&(g=Bu(f/2)),(e!==void 0||n!==void 0)&&i&&d.height&&g>d.height&&(g=d.height,f=Bu(Math.floor(g*i))),{width:f,height:g}}function $0(t,e,n){const i=e||1,a=Math.floor(t.height*i),o=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||l.height!==a||l.width!==o?(t.currentDevicePixelRatio=i,l.height=a,l.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const K2=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ap()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function q0(t,e){const n=V2(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Na(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function X2(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Q2(t,e,n,i){const a={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},l=Na(t,a,n),u=Na(a,o,n),d=Na(o,e,n),f=Na(l,u,n),g=Na(u,d,n);return Na(f,g,n)}const Z2=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},J2=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Yr(t,e,n){return t?Z2(e,n):J2()}function zx(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Ix(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Fx(t){return t==="angle"?{between:Zl,compare:Xj,normalize:fi}:{between:Vr,compare:(e,n)=>e-n,normalize:e=>e}}function G0({start:t,end:e,count:n,loop:i,style:a}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:a}}function eL(t,e,n){const{property:i,start:a,end:o}=n,{between:l,normalize:u}=Fx(i),d=e.length;let{start:f,end:g,loop:p}=t,y,_;if(p){for(f+=d,g+=d,y=0,_=d;y<_&&l(u(e[f%d][i]),a,o);++y)f--,g--;f%=d,g%=d}return g<f&&(g+=d),{start:f,end:g,loop:p,style:t.style}}function tL(t,e,n){if(!n)return[t];const{property:i,start:a,end:o}=n,l=e.length,{compare:u,between:d,normalize:f}=Fx(i),{start:g,end:p,loop:y,style:_}=eL(t,e,n),w=[];let S=!1,x=null,C,A,T;const k=()=>d(a,T,C)&&u(a,T)!==0,D=()=>u(o,C)===0||d(o,T,C),V=()=>S||k(),F=()=>!S||D();for(let L=g,$=g;L<=p;++L)A=e[L%l],!A.skip&&(C=f(A[i]),C!==T&&(S=d(C,a,o),x===null&&V()&&(x=u(C,a)===0?L:$),x!==null&&F()&&(w.push(G0({start:x,end:L,loop:y,count:l,style:_})),x=null),$=L,T=C));return x!==null&&w.push(G0({start:x,end:p,loop:y,count:l,style:_})),w}function nL(t,e){const n=[],i=t.segments;for(let a=0;a<i.length;a++){const o=tL(i[a],t.points,e);o.length&&n.push(...o)}return n}function iL(t,e,n,i){let a=0,o=e-1;if(n&&!i)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,n&&(o+=a);o>a&&t[o%e].skip;)o--;return o%=e,{start:a,end:o}}function sL(t,e,n,i){const a=t.length,o=[];let l=e,u=t[e],d;for(d=e+1;d<=n;++d){const f=t[d%a];f.skip||f.stop?u.skip||(i=!1,o.push({start:e%a,end:(d-1)%a,loop:i}),e=l=f.stop?d:null):(l=d,u.skip&&(e=d)),u=f}return l!==null&&o.push({start:e%a,end:l%a,loop:i}),o}function aL(t,e){const n=t.points,i=t.options.spanGaps,a=n.length;if(!a)return[];const o=!!t._loop,{start:l,end:u}=iL(n,a,o,i);if(i===!0)return Y0(t,[{start:l,end:u,loop:o}],n,e);const d=u<l?u+a:u,f=!!t._fullLoop&&l===0&&u===a-1;return Y0(t,sL(n,l,d,f),n,e)}function Y0(t,e,n,i){return!i||!i.setContext||!n?e:rL(t,e,n,i)}function rL(t,e,n,i){const a=t._chart.getContext(),o=W0(t.options),{_datasetIndex:l,options:{spanGaps:u}}=t,d=n.length,f=[];let g=o,p=e[0].start,y=p;function _(w,S,x,C){const A=u?-1:1;if(w!==S){for(w+=d;n[w%d].skip;)w-=A;for(;n[S%d].skip;)S+=A;w%d!==S%d&&(f.push({start:w%d,end:S%d,loop:x,style:C}),g=C,p=S%d)}}for(const w of e){p=u?p:w.start;let S=n[p%d],x;for(y=p+1;y<=w.end;y++){const C=n[y%d];x=W0(i.setContext(Ha(a,{type:"segment",p0:S,p1:C,p0DataIndex:(y-1)%d,p1DataIndex:y%d,datasetIndex:l}))),oL(x,g)&&_(p,y-1,w.loop,g),S=C,g=x}p<y-1&&_(p,y-1,w.loop,g)}return f}function W0(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function oL(t,e){if(!e)return!1;const n=[],i=function(a,o){return Qm(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Vu(t,e,n){return t.options.clip?t[n]:e[n]}function lL(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Vu(n,e,"left"),right:Vu(n,e,"right"),top:Vu(i,e,"top"),bottom:Vu(i,e,"bottom")}:e}function cL(t,e){const n=e._clip;if(n.disabled)return!1;const i=lL(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class uL{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,a){const o=n.listeners[a],l=n.duration;o.forEach(u=>u({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Ox.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,d;for(;l>=0;--l)d=o[l],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(e),u=!0):(o[l]=o[o.length-1],o.pop());u&&(a.draw(),this._notify(a,i,e,"progress")),o.length||(i.running=!1,this._notify(a,i,e,"complete"),i.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ls=new uL;const K0="transparent",dL={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=I0(t||K0),a=i.valid&&I0(e||K0);return a&&a.valid?a.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class hL{constructor(e,n,i,a){const o=n[i];a=Uu([e.to,a,o,e.from]);const l=Uu([e.from,o,a]);this._active=!0,this._fn=e.fn||dL[e.type||typeof l],this._easing=zl[e.easing]||zl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=l,this._to=a,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const a=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Uu([e.to,n,a,e.from]),this._from=Uu([e.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,a=this._prop,o=this._from,l=this._loop,u=this._to;let d;if(this._active=o!==u&&(l||n<i),!this._active){this._target[a]=u,this._notify(!0);return}if(n<0){this._target[a]=o;return}d=n/i%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[a]=this._fn(o,u,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][n]()}}class Ux{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!$e(e))return;const n=Object.keys(Dt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const o=e[a];if(!$e(o))return;const l={};for(const u of n)l[u]=o[u];(en(o.properties)&&o.properties||[a]).forEach(u=>{(u===a||!i.has(u))&&i.set(u,l)})})}_animateOptions(e,n){const i=n.options,a=gL(e,i);if(!a)return[];const o=this._createAnimations(a,i);return i.$shared&&fL(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,n){const i=this._properties,a=[],o=e.$animations||(e.$animations={}),l=Object.keys(n),u=Date.now();let d;for(d=l.length-1;d>=0;--d){const f=l[d];if(f.charAt(0)==="$")continue;if(f==="options"){a.push(...this._animateOptions(e,n));continue}const g=n[f];let p=o[f];const y=i.get(f);if(p)if(y&&p.active()){p.update(y,g,u);continue}else p.cancel();if(!y||!y.duration){e[f]=g;continue}o[f]=p=new hL(y,e,f,g),a.push(p)}return a}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return ls.add(this._chart,i),!0}}function fL(t,e){const n=[],i=Object.keys(e);for(let a=0;a<i.length;a++){const o=t[i[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function gL(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function X0(t,e){const n=t&&t.options||{},i=n.reverse,a=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:i?o:a,end:i?a:o}}function mL(t,e,n){if(n===!1)return!1;const i=X0(t,n),a=X0(e,n);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function pL(t){let e,n,i,a;return $e(t)?(e=t.top,n=t.right,i=t.bottom,a=t.left):e=n=i=a=t,{top:e,right:n,bottom:i,left:a,disabled:t===!1}}function Hx(t,e){const n=[],i=t._getSortedDatasetMetas(e);let a,o;for(a=0,o=i.length;a<o;++a)n.push(i[a].index);return n}function Q0(t,e,n,i={}){const a=t.keys,o=i.mode==="single";let l,u,d,f;if(e===null)return;let g=!1;for(l=0,u=a.length;l<u;++l){if(d=+a[l],d===n){if(g=!0,i.all)continue;break}f=t.values[d],ii(f)&&(o||e===0||Xr(e)===Xr(f))&&(e+=f)}return!g&&!i.all?0:e}function vL(t,e){const{iScale:n,vScale:i}=e,a=n.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(t),u=new Array(l.length);let d,f,g;for(d=0,f=l.length;d<f;++d)g=l[d],u[d]={[a]:g,[o]:t[g]};return u}function Ag(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function yL(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function bL(t){const{min:e,max:n,minDefined:i,maxDefined:a}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function _L(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Z0(t,e,n,i){for(const a of e.getMatchingVisibleMetas(i).reverse()){const o=t[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function J0(t,e){const{chart:n,_cachedMeta:i}=t,a=n._stacks||(n._stacks={}),{iScale:o,vScale:l,index:u}=i,d=o.axis,f=l.axis,g=yL(o,l,i),p=e.length;let y;for(let _=0;_<p;++_){const w=e[_],{[d]:S,[f]:x}=w,C=w._stacks||(w._stacks={});y=C[f]=_L(a,g,S),y[u]=x,y._top=Z0(y,l,!0,i.type),y._bottom=Z0(y,l,!1,i.type);const A=y._visualValues||(y._visualValues={});A[u]=x}}function Og(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function wL(t,e){return Ha(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function SL(t,e,n){return Ha(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ml(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const a of e){const o=a._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}const Tg=t=>t==="reset"||t==="none",ew=(t,e)=>e?t:Object.assign({},t),xL=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Hx(n,!0),values:null};class op{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ag(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ml(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),a=(p,y,_,w)=>p==="x"?y:p==="r"?w:_,o=n.xAxisID=Fe(i.xAxisID,Og(e,"x")),l=n.yAxisID=Fe(i.yAxisID,Og(e,"y")),u=n.rAxisID=Fe(i.rAxisID,Og(e,"r")),d=n.indexAxis,f=n.iAxisID=a(d,o,l,u),g=n.vAxisID=a(d,l,o,u);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&L0(this._data,this),e._stacked&&ml(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if($e(n)){const a=this._cachedMeta;this._data=vL(n,a)}else if(i!==n){if(i){L0(i,this);const a=this._cachedMeta;ml(a),a._parsed=[]}n&&Object.isExtensible(n)&&e2(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=Ag(n.vScale,n),n.stack!==i.stack&&(a=!0,ml(n),n.stack=i.stack),this._resyncElements(e),(a||o!==n._stacked)&&(J0(this,n._parsed),n._stacked=Ag(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:l}=i,u=o.axis;let d=e===0&&n===a.length?!0:i._sorted,f=e>0&&i._parsed[e-1],g,p,y;if(this._parsing===!1)i._parsed=a,i._sorted=!0,y=a;else{en(a[e])?y=this.parseArrayData(i,a,e,n):$e(a[e])?y=this.parseObjectData(i,a,e,n):y=this.parsePrimitiveData(i,a,e,n);const _=()=>p[u]===null||f&&p[u]<f[u];for(g=0;g<n;++g)i._parsed[g+e]=p=y[g],d&&(_()&&(d=!1),f=p);i._sorted=d}l&&J0(this,y)}parsePrimitiveData(e,n,i,a){const{iScale:o,vScale:l}=e,u=o.axis,d=l.axis,f=o.getLabels(),g=o===l,p=new Array(a);let y,_,w;for(y=0,_=a;y<_;++y)w=y+i,p[y]={[u]:g||o.parse(f[w],w),[d]:l.parse(n[w],w)};return p}parseArrayData(e,n,i,a){const{xScale:o,yScale:l}=e,u=new Array(a);let d,f,g,p;for(d=0,f=a;d<f;++d)g=d+i,p=n[g],u[d]={x:o.parse(p[0],g),y:l.parse(p[1],g)};return u}parseObjectData(e,n,i,a){const{xScale:o,yScale:l}=e,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=new Array(a);let g,p,y,_;for(g=0,p=a;g<p;++g)y=g+i,_=n[y],f[g]={x:o.parse(Xl(_,u),y),y:l.parse(Xl(_,d),y)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const a=this.chart,o=this._cachedMeta,l=n[e.axis],u={keys:Hx(a,!0),values:n._stacks[e.axis]._visualValues};return Q0(u,l,o.index,{mode:i})}updateRangeFromParsed(e,n,i,a){const o=i[n.axis];let l=o===null?NaN:o;const u=a&&i._stacks[n.axis];a&&u&&(a.values=u,l=Q0(a,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const i=this._cachedMeta,a=i._parsed,o=i._sorted&&e===i.iScale,l=a.length,u=this._getOtherScale(e),d=xL(n,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:p}=bL(u);let y,_;function w(){_=a[y];const S=_[u.axis];return!ii(_[e.axis])||g>S||p<S}for(y=0;y<l&&!(!w()&&(this.updateRangeFromParsed(f,e,_,d),o));++y);if(o){for(y=l-1;y>=0;--y)if(!w()){this.updateRangeFromParsed(f,e,_,d);break}}return f}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let a,o,l;for(a=0,o=n.length;a<o;++a)l=n[a][e.axis],ii(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,a=n.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=pL(Fe(this.options.clip,mL(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,a=i.data||[],o=n.chartArea,l=[],u=this._drawStart||0,d=this._drawCount||a.length-u,f=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(e,o,u,d),g=u;g<u+d;++g){const p=a[g];p.hidden||(p.active&&f?l.push(p):p.draw(e,o))}for(g=0;g<l.length;++g)l[g].draw(e,o)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const a=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=SL(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=a.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=wL(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const a=n==="active",o=this._cachedDataOpts,l=e+"-"+n,u=o[l],d=this.enableOptionSharing&&yd(i);if(u)return ew(u,d);const f=this.chart.config,g=f.datasetElementScopeKeys(this._type,e),p=a?[`${e}Hover`,"hover",e,""]:[e,""],y=f.getOptionScopes(this.getDataset(),g),_=Object.keys(Dt.elements[e]),w=()=>this.getContext(i,a,n),S=f.resolveNamedOptions(y,_,w,p);return S.$shared&&(S.$shared=d,o[l]=Object.freeze(ew(S,d))),S}_resolveAnimations(e,n,i){const a=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,u=o[l];if(u)return u;let d;if(a.options.animation!==!1){const g=this.chart.config,p=g.datasetAnimationScopeKeys(this._type,n),y=g.getOptionScopes(this.getDataset(),p);d=g.createResolver(y,this.getContext(e,i,n))}const f=new Ux(a,d&&d.animations);return d&&d._cacheable&&(o[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Tg(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),a=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:l}}updateElement(e,n,i,a){Tg(a)?Object.assign(e,i):this._resolveAnimations(n,a).update(e,i)}updateSharedOptions(e,n,i){e&&!Tg(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,a){e.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,i,a).update(e,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[u,d,f]of this._syncList)this[u](d,f);this._syncList=[];const a=i.length,o=n.length,l=Math.min(o,a);l&&this.parse(0,l),o>a?this._insertElements(a,o-a,e):o<a&&this._removeElements(o,a-o)}_insertElements(e,n,i=!0){const a=this._cachedMeta,o=a.data,l=e+n;let u;const d=f=>{for(f.length+=n,u=f.length-1;u>=l;u--)f[u]=f[u-n]};for(d(o),u=e;u<l;++u)o[u]=new this.dataElementType;this._parsing&&d(a._parsed),this.parse(e,n),i&&this.updateElements(o,e,n,"reset")}updateElements(e,n,i,a){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(e,n);i._stacked&&ml(i,a)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,a]=e;this[n](i,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function EL(t,e,n){let i=1,a=1,o=0,l=0;if(e<Ct){const u=t,d=u+e,f=Math.cos(u),g=Math.sin(u),p=Math.cos(d),y=Math.sin(d),_=(T,k,D)=>Zl(T,u,d,!0)?1:Math.max(k,k*n,D,D*n),w=(T,k,D)=>Zl(T,u,d,!0)?-1:Math.min(k,k*n,D,D*n),S=_(0,f,p),x=_(qt,g,y),C=w(Ze,f,p),A=w(Ze+qt,g,y);i=(S-C)/2,a=(x-A)/2,o=-(S+C)/2,l=-(x+A)/2}return{ratioX:i,ratioY:a,offsetX:o,offsetY:l}}class CL extends op{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:a}}=e.legend.options;return n.labels.map((o,l)=>{const d=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:a,lineWidth:d.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=i;else{let o=d=>+i[d];if($e(i[e])){const{key:d="value"}=this._parsing;o=f=>+Xl(i[f],d)}let l,u;for(l=e,u=e+n;l<u;++l)a._parsed[l]=o(l)}}_getRotation(){return gs(this.options.rotation-90)}_getCircumference(){return gs(this.options.circumference)}_getRotationExtents(){let e=Ct,n=-Ct;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const a=this.chart.getDatasetMeta(i).controller,o=a._getRotation(),l=a._getCircumference();e=Math.min(e,o),n=Math.max(n,o+l)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,a=this._cachedMeta,o=a.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),d=Math.min(zj(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:g,rotation:p}=this._getRotationExtents(),{ratioX:y,ratioY:_,offsetX:w,offsetY:S}=EL(p,g,d),x=(i.width-l)/y,C=(i.height-l)/_,A=Math.max(Math.min(x,C)/2,0),T=xx(this.options.radius,A),k=Math.max(T*d,0),D=(T-k)/this._getVisibleDatasetWeightTotal();this.offsetX=w*T,this.offsetY=S*T,a.total=this.calculateTotal(),this.outerRadius=T-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*f,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const i=this.options,a=this._cachedMeta,o=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*o/Ct)}updateElements(e,n,i,a){const o=a==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,g=(u.left+u.right)/2,p=(u.top+u.bottom)/2,y=o&&f.animateScale,_=y?0:this.innerRadius,w=y?0:this.outerRadius,{sharedOptions:S,includeOptions:x}=this._getSharedOptions(n,a);let C=this._getRotation(),A;for(A=0;A<n;++A)C+=this._circumference(A,o);for(A=n;A<n+i;++A){const T=this._circumference(A,o),k=e[A],D={x:g+this.offsetX,y:p+this.offsetY,startAngle:C,endAngle:C+T,circumference:T,outerRadius:w,innerRadius:_};x&&(D.options=S||this.resolveDataElementOptions(A,k.active?"active":a)),C+=T,this.updateElement(k,A,D,a)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,a;for(a=0;a<n.length;a++){const o=e._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ct*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,a=i.data.labels||[],o=Zm(n._parsed[e],i.options.locale);return{label:a[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const i=this.chart;let a,o,l,u,d;if(!e){for(a=0,o=i.data.datasets.length;a<o;++a)if(i.isDatasetVisible(a)){l=i.getDatasetMeta(a),e=l.data,u=l.controller;break}}if(!e)return 0;for(a=0,o=e.length;a<o;++a)d=u.resolveDataElementOptions(a),d.borderAlign!=="inner"&&(n=Math.max(n,d.borderWidth||0,d.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,a=e.length;i<a;++i){const o=this.resolveDataElementOptions(i);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(Fe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class RL extends op{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:a=[],_dataset:o}=n,l=this.chart._animationsDisabled;let{start:u,count:d}=s2(n,a,l);this._drawStart=u,this._drawCount=d,a2(n)&&(u=0,d=a.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=a;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},e),this.updateElements(a,u,d,e)}updateElements(e,n,i,a){const o=a==="reset",{iScale:l,vScale:u,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:g,includeOptions:p}=this._getSharedOptions(n,a),y=l.axis,_=u.axis,{spanGaps:w,segment:S}=this.options,x=Ql(w)?w:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||o||a==="none",A=n+i,T=e.length;let k=n>0&&this.getParsed(n-1);for(let D=0;D<T;++D){const V=e[D],F=C?V:{};if(D<n||D>=A){F.skip=!0;continue}const L=this.getParsed(D),$=dt(L[_]),G=F[y]=l.getPixelForValue(L[y],D),Q=F[_]=o||$?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,L,d):L[_],D);F.skip=isNaN(G)||isNaN(Q)||$,F.stop=D>0&&Math.abs(L[y]-k[y])>x,S&&(F.parsed=L,F.raw=f.data[D]),p&&(F.options=g||this.resolveDataElementOptions(D,V.active?"active":a)),C||this.updateElement(V,D,F,a),k=L}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,a=e.data||[];if(!a.length)return i;const o=a[0].size(this.resolveDataElementOptions(0)),l=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(i,o,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class AL extends CL{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Ta(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class lp{static override(e){Object.assign(lp.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ta()}parse(){return Ta()}format(){return Ta()}add(){return Ta()}diff(){return Ta()}startOf(){return Ta()}endOf(){return Ta()}}var OL={_date:lp};function TL(t,e,n,i){const{controller:a,data:o,_sorted:l}=t,u=a._cachedMeta.iScale,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&o.length){const f=u._reversePixels?Zj:Pa;if(i){if(a._sharedOptions){const g=o[0],p=typeof g.getRange=="function"&&g.getRange(e);if(p){const y=f(o,e,n-p),_=f(o,e,n+p);return{lo:y.lo,hi:_.hi}}}}else{const g=f(o,e,n);if(d){const{vScale:p}=a._cachedMeta,{_parsed:y}=t,_=y.slice(0,g.lo+1).reverse().findIndex(S=>!dt(S[p.axis]));g.lo-=Math.max(0,_);const w=y.slice(g.hi).findIndex(S=>!dt(S[p.axis]));g.hi+=Math.max(0,w)}return g}}return{lo:0,hi:o.length-1}}function Id(t,e,n,i,a){const o=t.getSortedVisibleDatasetMetas(),l=n[e];for(let u=0,d=o.length;u<d;++u){const{index:f,data:g}=o[u],{lo:p,hi:y}=TL(o[u],e,l,a);for(let _=p;_<=y;++_){const w=g[_];w.skip||i(w,f,_)}}}function DL(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,a){const o=e?Math.abs(i.x-a.x):0,l=n?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Dg(t,e,n,i,a){const o=[];return!a&&!t.isPointInArea(e)||Id(t,n,e,function(u,d,f){!a&&!Jl(u,t.chartArea,0)||u.inRange(e.x,e.y,i)&&o.push({element:u,datasetIndex:d,index:f})},!0),o}function ML(t,e,n,i){let a=[];function o(l,u,d){const{startAngle:f,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:p}=Rx(l,{x:e.x,y:e.y});Zl(p,f,g)&&a.push({element:l,datasetIndex:u,index:d})}return Id(t,n,e,o),a}function kL(t,e,n,i,a,o){let l=[];const u=DL(n);let d=Number.POSITIVE_INFINITY;function f(g,p,y){const _=g.inRange(e.x,e.y,a);if(i&&!_)return;const w=g.getCenterPoint(a);if(!(!!o||t.isPointInArea(w))&&!_)return;const x=u(e,w);x<d?(l=[{element:g,datasetIndex:p,index:y}],d=x):x===d&&l.push({element:g,datasetIndex:p,index:y})}return Id(t,n,e,f),l}function Mg(t,e,n,i,a,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!i?ML(t,e,n,a):kL(t,e,n,i,a,o)}function tw(t,e,n,i,a){const o=[],l=n==="x"?"inXRange":"inYRange";let u=!1;return Id(t,n,e,(d,f,g)=>{d[l]&&d[l](e[n],a)&&(o.push({element:d,datasetIndex:f,index:g}),u=u||d.inRange(e.x,e.y,a))}),i&&!u?[]:o}var NL={modes:{index(t,e,n,i){const a=ka(e,t),o=n.axis||"x",l=n.includeInvisible||!1,u=n.intersect?Dg(t,a,o,i,l):Mg(t,a,o,!1,i,l),d=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(f=>{const g=u[0].index,p=f.data[g];p&&!p.skip&&d.push({element:p,datasetIndex:f.index,index:g})}),d):[]},dataset(t,e,n,i){const a=ka(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;let u=n.intersect?Dg(t,a,o,i,l):Mg(t,a,o,!1,i,l);if(u.length>0){const d=u[0].datasetIndex,f=t.getDatasetMeta(d).data;u=[];for(let g=0;g<f.length;++g)u.push({element:f[g],datasetIndex:d,index:g})}return u},point(t,e,n,i){const a=ka(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;return Dg(t,a,o,i,l)},nearest(t,e,n,i){const a=ka(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;return Mg(t,a,o,n.intersect,i,l)},x(t,e,n,i){const a=ka(e,t);return tw(t,a,"x",n.intersect,i)},y(t,e,n,i){const a=ka(e,t);return tw(t,a,"y",n.intersect,i)}}};const Bx=["left","top","right","bottom"];function pl(t,e){return t.filter(n=>n.pos===e)}function nw(t,e){return t.filter(n=>Bx.indexOf(n.pos)===-1&&n.box.axis===e)}function vl(t,e){return t.sort((n,i)=>{const a=e?i:n,o=e?n:i;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function jL(t){const e=[];let n,i,a,o,l,u;for(n=0,i=(t||[]).length;n<i;++n)a=t[n],{position:o,options:{stack:l,stackWeight:u=1}}=a,e.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:l&&o+l,stackWeight:u});return e}function LL(t){const e={};for(const n of t){const{stack:i,pos:a,stackWeight:o}=n;if(!i||!Bx.includes(a))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function PL(t,e){const n=LL(t),{vBoxMaxWidth:i,hBoxMaxHeight:a}=e;let o,l,u;for(o=0,l=t.length;o<l;++o){u=t[o];const{fullSize:d}=u.box,f=n[u.stack],g=f&&u.stackWeight/f.weight;u.horizontal?(u.width=g?g*i:d&&e.availableWidth,u.height=a):(u.width=i,u.height=g?g*a:d&&e.availableHeight)}return n}function zL(t){const e=jL(t),n=vl(e.filter(f=>f.box.fullSize),!0),i=vl(pl(e,"left"),!0),a=vl(pl(e,"right")),o=vl(pl(e,"top"),!0),l=vl(pl(e,"bottom")),u=nw(e,"x"),d=nw(e,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:a.concat(d).concat(l).concat(u),chartArea:pl(e,"chartArea"),vertical:i.concat(a).concat(d),horizontal:o.concat(l).concat(u)}}function iw(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function Vx(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function IL(t,e,n,i){const{pos:a,box:o}=n,l=t.maxPadding;if(!$e(a)){n.size&&(t[a]-=n.size);const p=i[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?o.height:o.width),n.size=p.size/p.count,t[a]+=n.size}o.getPadding&&Vx(l,o.getPadding());const u=Math.max(0,e.outerWidth-iw(l,t,"left","right")),d=Math.max(0,e.outerHeight-iw(l,t,"top","bottom")),f=u!==t.w,g=d!==t.h;return t.w=u,t.h=d,n.horizontal?{same:f,other:g}:{same:g,other:f}}function FL(t){const e=t.maxPadding;function n(i){const a=Math.max(e[i]-t[i],0);return t[i]+=a,a}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function UL(t,e){const n=e.maxPadding;function i(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(l=>{o[l]=Math.max(e[l],n[l])}),o}return i(t?["left","right"]:["top","bottom"])}function xl(t,e,n,i){const a=[];let o,l,u,d,f,g;for(o=0,l=t.length,f=0;o<l;++o){u=t[o],d=u.box,d.update(u.width||e.w,u.height||e.h,UL(u.horizontal,e));const{same:p,other:y}=IL(e,n,u,i);f|=p&&a.length,g=g||y,d.fullSize||a.push(u)}return f&&xl(a,e,n,i)||g}function $u(t,e,n,i,a){t.top=n,t.left=e,t.right=e+i,t.bottom=n+a,t.width=i,t.height=a}function sw(t,e,n,i){const a=n.padding;let{x:o,y:l}=e;for(const u of t){const d=u.box,f=i[u.stack]||{placed:0,weight:1},g=u.stackWeight/f.weight||1;if(u.horizontal){const p=e.w*g,y=f.size||d.height;yd(f.start)&&(l=f.start),d.fullSize?$u(d,a.left,l,n.outerWidth-a.right-a.left,y):$u(d,e.left+f.placed,l,p,y),f.start=l,f.placed+=p,l=d.bottom}else{const p=e.h*g,y=f.size||d.width;yd(f.start)&&(o=f.start),d.fullSize?$u(d,o,a.top,y,n.outerHeight-a.bottom-a.top):$u(d,o,e.top+f.placed,y,p),f.start=o,f.placed+=p,o=d.right}}e.x=o,e.y=l}var ni={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const a=si(t.options.layout.padding),o=Math.max(e-a.width,0),l=Math.max(n-a.height,0),u=zL(t.boxes),d=u.vertical,f=u.horizontal;Qe(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const g=d.reduce((S,x)=>x.box.options&&x.box.options.display===!1?S:S+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:n,padding:a,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/g,hBoxMaxHeight:l/2}),y=Object.assign({},a);Vx(y,si(i));const _=Object.assign({maxPadding:y,w:o,h:l,x:a.left,y:a.top},a),w=PL(d.concat(f),p);xl(u.fullSize,_,p,w),xl(d,_,p,w),xl(f,_,p,w)&&xl(d,_,p,w),FL(_),sw(u.leftAndTop,_,p,w),_.x+=_.w,_.y+=_.h,sw(u.rightAndBottom,_,p,w),t.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Qe(u.chartArea,S=>{const x=S.box;Object.assign(x,t.chartArea),x.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class $x{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,a){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,a?Math.floor(n/a):i)}}isAttached(e){return!0}updateConfig(e){}}class HL extends $x{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ed="$chartjs",BL={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},aw=t=>t===null||t==="";function VL(t,e){const n=t.style,i=t.getAttribute("height"),a=t.getAttribute("width");if(t[ed]={initial:{height:i,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",aw(a)){const o=q0(t,"width");o!==void 0&&(t.width=o)}if(aw(i))if(t.style.height==="")t.height=t.width/(e||2);else{const o=q0(t,"height");o!==void 0&&(t.height=o)}return t}const qx=K2?{passive:!0}:!1;function $L(t,e,n){t&&t.addEventListener(e,n,qx)}function qL(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,qx)}function GL(t,e){const n=BL[t.type]||t.type,{x:i,y:a}=ka(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:a!==void 0?a:null}}function wd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function YL(t,e,n){const i=t.canvas,a=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||wd(u.addedNodes,i),l=l&&!wd(u.removedNodes,i);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function WL(t,e,n){const i=t.canvas,a=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||wd(u.removedNodes,i),l=l&&!wd(u.addedNodes,i);l&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const tc=new Map;let rw=0;function Gx(){const t=window.devicePixelRatio;t!==rw&&(rw=t,tc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function KL(t,e){tc.size||window.addEventListener("resize",Gx),tc.set(t,e)}function XL(t){tc.delete(t),tc.size||window.removeEventListener("resize",Gx)}function QL(t,e,n){const i=t.canvas,a=i&&rp(i);if(!a)return;const o=Tx((u,d)=>{const f=a.clientWidth;n(u,d),f<a.clientWidth&&n()},window),l=new ResizeObserver(u=>{const d=u[0],f=d.contentRect.width,g=d.contentRect.height;f===0&&g===0||o(f,g)});return l.observe(a),KL(t,o),l}function kg(t,e,n){n&&n.disconnect(),e==="resize"&&XL(t)}function ZL(t,e,n){const i=t.canvas,a=Tx(o=>{t.ctx!==null&&n(GL(o,t))},t);return $L(i,e,a),a}class JL extends $x{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(VL(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[ed])return!1;const i=n[ed].initial;["height","width"].forEach(o=>{const l=i[o];dt(l)?n.removeAttribute(o):n.setAttribute(o,l)});const a=i.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[ed],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const a=e.$proxies||(e.$proxies={}),l={attach:YL,detach:WL,resize:QL}[n]||ZL;a[n]=l(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),a=i[n];if(!a)return;({attach:kg,detach:kg,resize:kg}[n]||qL)(e,n,a),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,a){return W2(e,n,i,a)}isAttached(e){const n=e&&rp(e);return!!(n&&n.isConnected)}}function eP(t){return!ap()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?HL:JL}class aa{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Ql(this.x)&&Ql(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const a={};return e.forEach(o=>{a[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),a}}function tP(t,e){const n=t.options.ticks,i=nP(t),a=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?sP(e):[],l=o.length,u=o[0],d=o[l-1],f=[];if(l>a)return aP(e,f,o,l/a),f;const g=iP(o,e,a);if(l>0){let p,y;const _=l>1?Math.round((d-u)/(l-1)):null;for(qu(e,f,g,dt(_)?0:u-_,u),p=0,y=l-1;p<y;p++)qu(e,f,g,o[p],o[p+1]);return qu(e,f,g,d,dt(_)?e.length:d+_),f}return qu(e,f,g),f}function nP(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),a=t._maxLength/n;return Math.floor(Math.min(i,a))}function iP(t,e,n){const i=rP(t),a=e.length/n;if(!i)return Math.max(a,1);const o=qj(i);for(let l=0,u=o.length-1;l<u;l++){const d=o[l];if(d>a)return d}return Math.max(a,1)}function sP(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function aP(t,e,n,i){let a=0,o=n[0],l;for(i=Math.ceil(i),l=0;l<t.length;l++)l===o&&(e.push(t[l]),a++,o=n[a*i])}function qu(t,e,n,i,a){const o=Fe(i,0),l=Math.min(Fe(a,t.length),t.length);let u=0,d,f,g;for(n=Math.ceil(n),a&&(d=a-i,n=d/Math.floor(d/n)),g=o;g<0;)u++,g=Math.round(o+u*n);for(f=Math.max(o,0);f<l;f++)f===g&&(e.push(t[f]),u++,g=Math.round(o+u*n))}function rP(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const oP=t=>t==="left"?"right":t==="right"?"left":t,ow=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,lw=(t,e)=>Math.min(e||t,t);function cw(t,e){const n=[],i=t.length/e,a=t.length;let o=0;for(;o<a;o+=i)n.push(t[Math.floor(o)]);return n}function lP(t,e,n){const i=t.ticks.length,a=Math.min(e,i-1),o=t._startPixel,l=t._endPixel,u=1e-6;let d=t.getPixelForTick(a),f;if(!(n&&(i===1?f=Math.max(d-o,l-d):e===0?f=(t.getPixelForTick(1)-d)/2:f=(d-t.getPixelForTick(a-1))/2,d+=a<e?f:-f,d<o-u||d>l+u)))return d}function cP(t,e){Qe(t,n=>{const i=n.gc,a=i.length/2;let o;if(a>e){for(o=0;o<a;++o)delete n.data[i[o]];i.splice(0,a)}})}function yl(t){return t.drawTicks?t.tickLength:0}function uw(t,e){if(!t.display)return 0;const n=pn(t.font,e),i=si(t.padding);return(en(t.text)?t.text.length:1)*n.lineHeight+i.height}function uP(t,e){return Ha(t,{scale:e,type:"scale"})}function dP(t,e,n){return Ha(t,{tick:n,index:e,type:"tick"})}function hP(t,e,n){let i=Xm(t);return(n&&e!=="right"||!n&&e==="right")&&(i=oP(i)),i}function fP(t,e,n,i){const{top:a,left:o,bottom:l,right:u,chart:d}=t,{chartArea:f,scales:g}=d;let p=0,y,_,w;const S=l-a,x=u-o;if(t.isHorizontal()){if(_=gn(i,o,u),$e(n)){const C=Object.keys(n)[0],A=n[C];w=g[C].getPixelForValue(A)+S-e}else n==="center"?w=(f.bottom+f.top)/2+S-e:w=ow(t,n,e);y=u-o}else{if($e(n)){const C=Object.keys(n)[0],A=n[C];_=g[C].getPixelForValue(A)-x+e}else n==="center"?_=(f.left+f.right)/2-x+e:_=ow(t,n,e);w=gn(i,l,a),p=n==="left"?-qt:qt}return{titleX:_,titleY:w,maxWidth:y,rotation:p}}class ro extends aa{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:a}=this;return e=Mi(e,Number.POSITIVE_INFINITY),n=Mi(n,Number.NEGATIVE_INFINITY),i=Mi(i,Number.POSITIVE_INFINITY),a=Mi(a,Number.NEGATIVE_INFINITY),{min:Mi(e,i),max:Mi(n,a),minDefined:ii(e),maxDefined:ii(n)}}getMinMax(e){let{min:n,max:i,minDefined:a,maxDefined:o}=this.getUserBounds(),l;if(a&&o)return{min:n,max:i};const u=this.getMatchingVisibleMetas();for(let d=0,f=u.length;d<f;++d)l=u[d].controller.getMinMax(this,e),a||(n=Math.min(n,l.min)),o||(i=Math.max(i,l.max));return n=o&&n>i?i:n,i=a&&n>i?n:i,{min:Mi(n,Mi(i,n)),max:Mi(i,Mi(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){gt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:a,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=R2(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=u<this.ticks.length;this._convertTicksToLabels(d?cw(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=tP(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){gt(this.options.afterUpdate,[this])}beforeSetDimensions(){gt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){gt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),gt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){gt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,a,o;for(i=0,a=e.length;i<a;i++)o=e[i],o.label=gt(n.callback,[o.value,i,e],this)}afterTickToLabelConversion(){gt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){gt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=lw(this.ticks.length,e.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let l=a,u,d,f;if(!this._isVisible()||!n.display||a>=o||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const g=this._getLabelSizes(),p=g.widest.width,y=g.highest.height,_=xn(this.chart.width-p,0,this.maxWidth);u=e.offset?this.maxWidth/i:_/(i-1),p+6>u&&(u=_/(i-(e.offset?.5:1)),d=this.maxHeight-yl(e.grid)-n.padding-uw(e.title,this.chart.options.font),f=Math.sqrt(p*p+y*y),l=Kj(Math.min(Math.asin(xn((g.highest.height+6)/u,-1,1)),Math.asin(xn(d/f,-1,1))-Math.asin(xn(y/f,-1,1)))),l=Math.max(a,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){gt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){gt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:a,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const d=uw(a,n.options.font);if(u?(e.width=this.maxWidth,e.height=yl(o)+d):(e.height=this.maxHeight,e.width=yl(o)+d),i.display&&this.ticks.length){const{first:f,last:g,widest:p,highest:y}=this._getLabelSizes(),_=i.padding*2,w=gs(this.labelRotation),S=Math.cos(w),x=Math.sin(w);if(u){const C=i.mirror?0:x*p.width+S*y.height;e.height=Math.min(this.maxHeight,e.height+C+_)}else{const C=i.mirror?0:S*p.width+x*y.height;e.width=Math.min(this.maxWidth,e.width+C+_)}this._calculatePadding(f,g,x,S)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,a){const{ticks:{align:o,padding:l},position:u}=this.options,d=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,_=0;d?f?(y=a*e.width,_=i*n.height):(y=i*e.height,_=a*n.width):o==="start"?_=n.width:o==="end"?y=e.width:o!=="inner"&&(y=e.width/2,_=n.width/2),this.paddingLeft=Math.max((y-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((_-p+l)*this.width/(this.width-p),0)}else{let g=n.height/2,p=e.height/2;o==="start"?(g=0,p=e.height):o==="end"&&(g=n.height,p=0),this.paddingTop=g+l,this.paddingBottom=p+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){gt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)dt(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=cw(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:a,_longestTextCache:o}=this,l=[],u=[],d=Math.floor(n/lw(n,i));let f=0,g=0,p,y,_,w,S,x,C,A,T,k,D;for(p=0;p<n;p+=d){if(w=e[p].label,S=this._resolveTickFontOptions(p),a.font=x=S.string,C=o[x]=o[x]||{data:{},gc:[]},A=S.lineHeight,T=k=0,!dt(w)&&!en(w))T=U0(a,C.data,C.gc,T,w),k=A;else if(en(w))for(y=0,_=w.length;y<_;++y)D=w[y],!dt(D)&&!en(D)&&(T=U0(a,C.data,C.gc,T,D),k+=A);l.push(T),u.push(k),f=Math.max(T,f),g=Math.max(k,g)}cP(o,n);const V=l.indexOf(f),F=u.indexOf(g),L=$=>({width:l[$]||0,height:u[$]||0});return{first:L(0),last:L(n-1),widest:L(V),highest:L(F),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Qj(this._alignToPixels?Oa(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=dP(this.getContext(),e,i))}return this.$context||(this.$context=uP(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=gs(this.labelRotation),i=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,u=o?o.widest.width+l:0,d=o?o.highest.height+l:0;return this.isHorizontal()?d*i>u*a?u/i:d/a:d*a<u*i?d/i:u/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,a=this.options,{grid:o,position:l,border:u}=a,d=o.offset,f=this.isHorizontal(),p=this.ticks.length+(d?1:0),y=yl(o),_=[],w=u.setContext(this.getContext()),S=w.display?w.width:0,x=S/2,C=function(z){return Oa(i,z,S)};let A,T,k,D,V,F,L,$,G,Q,Z,ce;if(l==="top")A=C(this.bottom),F=this.bottom-y,$=A-x,Q=C(e.top)+x,ce=e.bottom;else if(l==="bottom")A=C(this.top),Q=e.top,ce=C(e.bottom)-x,F=A+x,$=this.top+y;else if(l==="left")A=C(this.right),V=this.right-y,L=A-x,G=C(e.left)+x,Z=e.right;else if(l==="right")A=C(this.left),G=e.left,Z=C(e.right)-x,V=A+x,L=this.left+y;else if(n==="x"){if(l==="center")A=C((e.top+e.bottom)/2+.5);else if($e(l)){const z=Object.keys(l)[0],W=l[z];A=C(this.chart.scales[z].getPixelForValue(W))}Q=e.top,ce=e.bottom,F=A+x,$=F+y}else if(n==="y"){if(l==="center")A=C((e.left+e.right)/2);else if($e(l)){const z=Object.keys(l)[0],W=l[z];A=C(this.chart.scales[z].getPixelForValue(W))}V=A-x,L=V-y,G=e.left,Z=e.right}const ue=Fe(a.ticks.maxTicksLimit,p),he=Math.max(1,Math.ceil(p/ue));for(T=0;T<p;T+=he){const z=this.getContext(T),W=o.setContext(z),oe=u.setContext(z),fe=W.lineWidth,N=W.color,ee=oe.dash||[],ae=oe.dashOffset,K=W.tickWidth,se=W.tickColor,le=W.tickBorderDash||[],ie=W.tickBorderDashOffset;k=lP(this,T,d),k!==void 0&&(D=Oa(i,k,fe),f?V=L=G=Z=D:F=$=Q=ce=D,_.push({tx1:V,ty1:F,tx2:L,ty2:$,x1:G,y1:Q,x2:Z,y2:ce,width:fe,color:N,borderDash:ee,borderDashOffset:ae,tickWidth:K,tickColor:se,tickBorderDash:le,tickBorderDashOffset:ie}))}return this._ticksLength=p,this._borderValue=A,_}_computeLabelItems(e){const n=this.axis,i=this.options,{position:a,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:d,crossAlign:f,padding:g,mirror:p}=o,y=yl(i.grid),_=y+g,w=p?-g:_,S=-gs(this.labelRotation),x=[];let C,A,T,k,D,V,F,L,$,G,Q,Z,ce="middle";if(a==="top")V=this.bottom-w,F=this._getXAxisLabelAlignment();else if(a==="bottom")V=this.top+w,F=this._getXAxisLabelAlignment();else if(a==="left"){const he=this._getYAxisLabelAlignment(y);F=he.textAlign,D=he.x}else if(a==="right"){const he=this._getYAxisLabelAlignment(y);F=he.textAlign,D=he.x}else if(n==="x"){if(a==="center")V=(e.top+e.bottom)/2+_;else if($e(a)){const he=Object.keys(a)[0],z=a[he];V=this.chart.scales[he].getPixelForValue(z)+_}F=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")D=(e.left+e.right)/2-_;else if($e(a)){const he=Object.keys(a)[0],z=a[he];D=this.chart.scales[he].getPixelForValue(z)}F=this._getYAxisLabelAlignment(y).textAlign}n==="y"&&(d==="start"?ce="top":d==="end"&&(ce="bottom"));const ue=this._getLabelSizes();for(C=0,A=u.length;C<A;++C){T=u[C],k=T.label;const he=o.setContext(this.getContext(C));L=this.getPixelForTick(C)+o.labelOffset,$=this._resolveTickFontOptions(C),G=$.lineHeight,Q=en(k)?k.length:1;const z=Q/2,W=he.color,oe=he.textStrokeColor,fe=he.textStrokeWidth;let N=F;l?(D=L,F==="inner"&&(C===A-1?N=this.options.reverse?"left":"right":C===0?N=this.options.reverse?"right":"left":N="center"),a==="top"?f==="near"||S!==0?Z=-Q*G+G/2:f==="center"?Z=-ue.highest.height/2-z*G+G:Z=-ue.highest.height+G/2:f==="near"||S!==0?Z=G/2:f==="center"?Z=ue.highest.height/2-z*G:Z=ue.highest.height-Q*G,p&&(Z*=-1),S!==0&&!he.showLabelBackdrop&&(D+=G/2*Math.sin(S))):(V=L,Z=(1-Q)*G/2);let ee;if(he.showLabelBackdrop){const ae=si(he.backdropPadding),K=ue.heights[C],se=ue.widths[C];let le=Z-ae.top,ie=0-ae.left;switch(ce){case"middle":le-=K/2;break;case"bottom":le-=K;break}switch(F){case"center":ie-=se/2;break;case"right":ie-=se;break;case"inner":C===A-1?ie-=se:C>0&&(ie-=se/2);break}ee={left:ie,top:le,width:se+ae.width,height:K+ae.height,color:he.backdropColor}}x.push({label:k,font:$,textOffset:Z,options:{rotation:S,color:W,strokeColor:oe,strokeWidth:fe,textAlign:N,textBaseline:ce,translation:[D,V],backdrop:ee}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-gs(this.labelRotation))return e==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:a,padding:o}}=this.options,l=this._getLabelSizes(),u=e+o,d=l.widest.width;let f,g;return n==="left"?a?(g=this.right+o,i==="near"?f="left":i==="center"?(f="center",g+=d/2):(f="right",g+=d)):(g=this.right-u,i==="near"?f="right":i==="center"?(f="center",g-=d/2):(f="left",g=this.left)):n==="right"?a?(g=this.left+o,i==="near"?f="right":i==="center"?(f="center",g-=d/2):(f="left",g-=d)):(g=this.left+u,i==="near"?f="left":i==="center"?(f="center",g+=d/2):(f="right",g=this.right)):f="right",{textAlign:f,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:a,width:o,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,a,o,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===e);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const u=(d,f,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(n.display)for(o=0,l=a.length;o<l;++o){const d=a[o];n.drawOnChartArea&&u({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),n.drawTicks&&u({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:a}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=a.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,g,p,y;this.isHorizontal()?(f=Oa(e,this.left,l)-l/2,g=Oa(e,this.right,u)+u/2,p=y=d):(p=Oa(e,this.top,l)-l/2,y=Oa(e,this.bottom,u)+u/2,f=g=d),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(f,p),n.lineTo(g,y),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&Jm(i,a);const o=this.getLabelItems(e);for(const l of o){const u=l.options,d=l.font,f=l.label,g=l.textOffset;ec(i,f,0,g,d,u)}a&&ep(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:a}}=this;if(!i.display)return;const o=pn(i.font),l=si(i.padding),u=i.align;let d=o.lineHeight/2;n==="bottom"||n==="center"||$e(n)?(d+=l.bottom,en(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=l.top;const{titleX:f,titleY:g,maxWidth:p,rotation:y}=fP(this,d,n,u);ec(e,i.text,0,0,o,{color:i.color,maxWidth:p,rotation:y,textAlign:hP(u,n,a),textBaseline:"middle",translation:[f,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Fe(e.grid&&e.grid.z,-1),a=Fe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ro.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let o,l;for(o=0,l=n.length;o<l;++o){const u=n[o];u[i]===this.id&&(!e||u.type===e)&&a.push(u)}return a}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return pn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Gu{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;pP(n)&&(i=this.register(n));const a=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in a||(a[o]=e,gP(e,l,i),this.override&&Dt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,a=this.scope;i in n&&delete n[i],a&&i in Dt[a]&&(delete Dt[a][i],this.override&&delete Ia[i])}}function gP(t,e,n){const i=Kl(Object.create(null),[n?Dt.get(n):{},Dt.get(e),t.defaults]);Dt.set(e,i),t.defaultRoutes&&mP(e,t.defaultRoutes),t.descriptors&&Dt.describe(e,t.descriptors)}function mP(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),a=i.pop(),o=[t].concat(i).join("."),l=e[n].split("."),u=l.pop(),d=l.join(".");Dt.route(o,a,d,u)})}function pP(t){return"id"in t&&"defaults"in t}class vP{constructor(){this.controllers=new Gu(op,"datasets",!0),this.elements=new Gu(aa,"elements"),this.plugins=new Gu(Object,"plugins"),this.scales=new Gu(ro,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(a=>{const o=i||this._getRegistryForType(a);i||o.isForType(a)||o===this.plugins&&a.id?this._exec(e,o,a):Qe(a,l=>{const u=i||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,n,i){const a=Wm(e);gt(i["before"+a],[],i),n[e](i),gt(i["after"+a],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const a=n.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return a}}var Li=new vP;class yP{constructor(){this._init=[]}notify(e,n,i,a){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=a?this._descriptors(e).filter(a):this._descriptors(e),l=this._notify(o,e,n,i);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,n,i,a){a=a||{};for(const o of e){const l=o.plugin,u=l[i],d=[n,a,o.options];if(gt(u,d,l)===!1&&a.cancelable)return!1}return!0}invalidate(){dt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,a=Fe(i.options&&i.options.plugins,{}),o=bP(i);return a===!1&&!n?[]:wP(e,o,a,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,a=(o,l)=>o.filter(u=>!l.some(d=>u.plugin.id===d.plugin.id));this._notify(a(n,i),e,"stop"),this._notify(a(i,n),e,"start")}}function bP(t){const e={},n=[],i=Object.keys(Li.plugins.items);for(let o=0;o<i.length;o++)n.push(Li.getPlugin(i[o]));const a=t.plugins||[];for(let o=0;o<a.length;o++){const l=a[o];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function _P(t,e){return!e&&t===!1?null:t===!0?{}:t}function wP(t,{plugins:e,localIds:n},i,a){const o=[],l=t.getContext();for(const u of e){const d=u.id,f=_P(i[d],a);f!==null&&o.push({plugin:u,options:SP(t.config,{plugin:u,local:n[d]},f,l)})}return o}function SP(t,{plugin:e,local:n},i,a){const o=t.pluginScopeKeys(e),l=t.getOptionScopes(i,o);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function lm(t,e){const n=Dt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function xP(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function EP(t,e){return t===e?"_index_":"_value_"}function dw(t){if(t==="x"||t==="y"||t==="r")return t}function CP(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function cm(t,...e){if(dw(t))return t;for(const n of e){const i=n.axis||CP(n.position)||t.length>1&&dw(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function hw(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function RP(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return hw(t,"x",n[0])||hw(t,"y",n[0])}return{}}function AP(t,e){const n=Ia[t.type]||{scales:{}},i=e.scales||{},a=lm(t.type,e),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!$e(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=cm(l,u,RP(l,t),Dt.scales[u.type]),f=EP(d,a),g=n.scales||{};o[l]=Ll(Object.create(null),[{axis:d},u,g[d],g[f]])}),t.data.datasets.forEach(l=>{const u=l.type||t.type,d=l.indexAxis||lm(u,e),g=(Ia[u]||{}).scales||{};Object.keys(g).forEach(p=>{const y=xP(p,d),_=l[y+"AxisID"]||y;o[_]=o[_]||Object.create(null),Ll(o[_],[{axis:y},i[_],g[p]])})}),Object.keys(o).forEach(l=>{const u=o[l];Ll(u,[Dt.scales[u.type],Dt.scale])}),o}function Yx(t){const e=t.options||(t.options={});e.plugins=Fe(e.plugins,{}),e.scales=AP(t,e)}function Wx(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function OP(t){return t=t||{},t.data=Wx(t.data),Yx(t),t}const fw=new Map,Kx=new Set;function Yu(t,e){let n=fw.get(t);return n||(n=e(),fw.set(t,n),Kx.add(n)),n}const bl=(t,e,n)=>{const i=Xl(e,n);i!==void 0&&t.add(i)};class TP{constructor(e){this._config=OP(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Wx(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Yx(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Yu(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Yu(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Yu(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Yu(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let a=i.get(e);return(!a||n)&&(a=new Map,i.set(e,a)),a}getOptionScopes(e,n,i){const{options:a,type:o}=this,l=this._cachedScopes(e,i),u=l.get(n);if(u)return u;const d=new Set;n.forEach(g=>{e&&(d.add(e),g.forEach(p=>bl(d,e,p))),g.forEach(p=>bl(d,a,p)),g.forEach(p=>bl(d,Ia[o]||{},p)),g.forEach(p=>bl(d,Dt,p)),g.forEach(p=>bl(d,am,p))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),Kx.has(n)&&l.set(n,f),f}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ia[n]||{},Dt.datasets[n]||{},{type:n},Dt,am]}resolveNamedOptions(e,n,i,a=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=gw(this._resolverCache,e,a);let d=l;if(MP(l,n)){o.$shared=!1,i=na(i)?i():i;const f=this.createResolver(e,i,u);d=Qr(l,i,f)}for(const f of n)o[f]=d[f];return o}createResolver(e,n,i=[""],a){const{resolver:o}=gw(this._resolverCache,e,i);return $e(n)?Qr(o,n,void 0,a):o}}function gw(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const a=n.join();let o=i.get(a);return o||(o={resolver:np(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},i.set(a,o)),o}const DP=t=>$e(t)&&Object.getOwnPropertyNames(t).some(e=>na(t[e]));function MP(t,e){const{isScriptable:n,isIndexable:i}=kx(t);for(const a of e){const o=n(a),l=i(a),u=(l||o)&&t[a];if(o&&(na(u)||DP(u))||l&&en(u))return!0}return!1}var kP="4.5.0";const NP=["top","bottom","left","right","chartArea"];function mw(t,e){return t==="top"||t==="bottom"||NP.indexOf(t)===-1&&e==="x"}function pw(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function vw(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),gt(n&&n.onComplete,[t],e)}function jP(t){const e=t.chart,n=e.options.animation;gt(n&&n.onProgress,[t],e)}function Xx(t){return ap()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const td={},yw=t=>{const e=Xx(t);return Object.values(td).filter(n=>n.canvas===e).pop()};function LP(t,e,n){const i=Object.keys(t);for(const a of i){const o=+a;if(o>=e){const l=t[a];delete t[a],(n>0||o>e)&&(t[o+n]=l)}}}function PP(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}let Fd=class{static defaults=Dt;static instances=td;static overrides=Ia;static registry=Li;static version=kP;static getChart=yw;static register(...e){Li.add(...e),bw()}static unregister(...e){Li.remove(...e),bw()}constructor(e,n){const i=this.config=new TP(n),a=Xx(e),o=yw(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||eP(a)),this.platform.updateConfig(i);const u=this.platform.acquireContext(a,l.aspectRatio),d=u&&u.canvas,f=d&&d.height,g=d&&d.width;if(this.id=Pj(),this.ctx=u,this.canvas=d,this.width=g,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=n2(p=>this.update(p),l.resizeDelay||0),this._dataChanges=[],td[this.id]=this,!u||!d){console.error("Failed to create chart: can't acquire context from the given item");return}ls.listen(this,"complete",vw),ls.listen(this,"progress",jP),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:a,_aspectRatio:o}=this;return dt(e)?n&&o?o:a?i/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Li}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return H0(this.canvas,this.ctx),this}stop(){return ls.stop(this),this}resize(e,n){ls.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(a,e,n,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,$0(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),gt(i.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Qe(n,(i,a)=>{i.id=a})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,a=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];n&&(o=o.concat(Object.keys(n).map(l=>{const u=n[l],d=cm(l,u),f=d==="r",g=d==="x";return{options:u,dposition:f?"chartArea":g?"bottom":"left",dtype:f?"radialLinear":g?"category":"linear"}}))),Qe(o,l=>{const u=l.options,d=u.id,f=cm(d,u),g=Fe(u.type,l.dtype);(u.position===void 0||mw(u.position,f)!==mw(l.dposition))&&(u.position=l.dposition),a[d]=!0;let p=null;if(d in i&&i[d].type===g)p=i[d];else{const y=Li.getScale(g);p=new y({id:d,type:g,ctx:this.ctx,chart:this}),i[p.id]=p}p.init(u,e)}),Qe(a,(l,u)=>{l||delete i[u]}),Qe(i,l=>{ni.configure(this,l,l.options),ni.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((a,o)=>a.index-o.index),i>n){for(let a=n;a<i;++a)this._destroyDatasetMeta(a);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(pw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,a)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=n.length;i<a;i++){const o=n[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||lm(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const d=Li.getController(u),{datasetElementType:f,dataElementType:g}=Dt.datasets[u];Object.assign(d,{dataElementType:Li.getElement(g),datasetElementType:f&&Li.getElement(f)}),l.controller=new d(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Qe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,g=this.data.datasets.length;f<g;f++){const{controller:p}=this.getDatasetMeta(f),y=!a&&o.indexOf(p)===-1;p.buildOrUpdateElements(y),l=Math.max(+p.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),a||Qe(o,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(pw("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Qe(this.scales,e=>{ni.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!M0(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:o}of n){const l=i==="_removeElements"?-o:o;LP(e,a,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(e.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),a=i(0);for(let o=1;o<n;o++)if(!M0(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ni.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Qe(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,na(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),a={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ls.has(this)?this.attached&&!ls.running(this)&&ls.start(this):(this.draw(),vw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let a,o;for(a=0,o=n.length;a<o;++a){const l=n[a];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},a=cL(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&Jm(n,a),e.controller.draw(),a&&ep(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Jl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,a){const o=NL.modes[n];return typeof o=="function"?o(this,e,i,a):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let a=i.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=Ha(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const a=i?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,a);yd(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===e?a:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ls.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),H0(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete td[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(o,l)=>{n.addEventListener(this,o,l),e[o]=l},a=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};Qe(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(d,f)=>{n.addEventListener(this,d,f),e[d]=f},a=(d,f)=>{e[d]&&(n.removeEventListener(this,d,f),delete e[d])},o=(d,f)=>{this.canvas&&this.resize(d,f)};let l;const u=()=>{a("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",u)},n.isAttached(this.canvas)?u():l()}unbindEvents(){Qe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Qe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const a=i?"set":"remove";let o,l,u,d;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),u=0,d=e.length;u<d;++u){l=e[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[a+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!pd(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const a=this.options.hover,o=(d,f)=>d.filter(g=>!f.some(p=>g.datasetIndex===p.datasetIndex&&g.index===p.index)),l=o(n,e),u=i?e:o(e,n);l.length&&this.updateHoverStyle(l,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},a=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const o=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:a=[],options:o}=this,l=n,u=this._getActiveElements(e,a,i,l),d=Bj(e),f=PP(e,this._lastEvent,i,d);i&&(this._lastEvent=null,gt(o.onHover,[e,u,this],this),d&&gt(o.onClick,[e,u,this],this));const g=!pd(u,a);return(g||n)&&(this._active=u,this._updateHoverStyles(u,a,n)),this._lastEvent=f,g}_getActiveElements(e,n,i,a){if(e.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,a)}};function bw(){return Qe(Fd.instances,t=>t._plugins.invalidate())}function zP(t,e,n){const{startAngle:i,x:a,y:o,outerRadius:l,innerRadius:u,options:d}=e,{borderWidth:f,borderJoinStyle:g}=d,p=Math.min(f/l,fi(i-n));if(t.beginPath(),t.arc(a,o,l-f/2,i+p/2,n-p/2),u>0){const y=Math.min(f/u,fi(i-n));t.arc(a,o,u+f/2,n-y/2,i+y/2,!0)}else{const y=Math.min(f/2,l*fi(i-n));if(g==="round")t.arc(a,o,y,n-Ze/2,i+Ze/2,!0);else if(g==="bevel"){const _=2*y*y,w=-_*Math.cos(n+Ze/2)+a,S=-_*Math.sin(n+Ze/2)+o,x=_*Math.cos(i+Ze/2)+a,C=_*Math.sin(i+Ze/2)+o;t.lineTo(w,S),t.lineTo(x,C)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function IP(t,e,n){const{startAngle:i,pixelMargin:a,x:o,y:l,outerRadius:u,innerRadius:d}=e;let f=a/u;t.beginPath(),t.arc(o,l,u,i-f,n+f),d>a?(f=a/d,t.arc(o,l,d,n+f,i-f,!0)):t.arc(o,l,a,n+qt,i-qt),t.closePath(),t.clip()}function FP(t){return tp(t,["outerStart","outerEnd","innerStart","innerEnd"])}function UP(t,e,n,i){const a=FP(t.options.borderRadius),o=(n-e)/2,l=Math.min(o,i*e/2),u=d=>{const f=(n-Math.min(o,d))*i/2;return xn(d,0,Math.min(o,f))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:xn(a.innerStart,0,l),innerEnd:xn(a.innerEnd,0,l)}}function Ur(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Sd(t,e,n,i,a,o){const{x:l,y:u,startAngle:d,pixelMargin:f,innerRadius:g}=e,p=Math.max(e.outerRadius+i+n-f,0),y=g>0?g+i+n+f:0;let _=0;const w=a-d;if(i){const he=g>0?g-i:0,z=p>0?p-i:0,W=(he+z)/2,oe=W!==0?w*W/(W+i):w;_=(w-oe)/2}const S=Math.max(.001,w*p-n/Ze)/p,x=(w-S)/2,C=d+x+_,A=a-x-_,{outerStart:T,outerEnd:k,innerStart:D,innerEnd:V}=UP(e,y,p,A-C),F=p-T,L=p-k,$=C+T/F,G=A-k/L,Q=y+D,Z=y+V,ce=C+D/Q,ue=A-V/Z;if(t.beginPath(),o){const he=($+G)/2;if(t.arc(l,u,p,$,he),t.arc(l,u,p,he,G),k>0){const fe=Ur(L,G,l,u);t.arc(fe.x,fe.y,k,G,A+qt)}const z=Ur(Z,A,l,u);if(t.lineTo(z.x,z.y),V>0){const fe=Ur(Z,ue,l,u);t.arc(fe.x,fe.y,V,A+qt,ue+Math.PI)}const W=(A-V/y+(C+D/y))/2;if(t.arc(l,u,y,A-V/y,W,!0),t.arc(l,u,y,W,C+D/y,!0),D>0){const fe=Ur(Q,ce,l,u);t.arc(fe.x,fe.y,D,ce+Math.PI,C-qt)}const oe=Ur(F,C,l,u);if(t.lineTo(oe.x,oe.y),T>0){const fe=Ur(F,$,l,u);t.arc(fe.x,fe.y,T,C-qt,$)}}else{t.moveTo(l,u);const he=Math.cos($)*p+l,z=Math.sin($)*p+u;t.lineTo(he,z);const W=Math.cos(G)*p+l,oe=Math.sin(G)*p+u;t.lineTo(W,oe)}t.closePath()}function HP(t,e,n,i,a){const{fullCircles:o,startAngle:l,circumference:u}=e;let d=e.endAngle;if(o){Sd(t,e,n,i,d,a);for(let f=0;f<o;++f)t.fill();isNaN(u)||(d=l+(u%Ct||Ct))}return Sd(t,e,n,i,d,a),t.fill(),d}function BP(t,e,n,i,a){const{fullCircles:o,startAngle:l,circumference:u,options:d}=e,{borderWidth:f,borderJoinStyle:g,borderDash:p,borderDashOffset:y,borderRadius:_}=d,w=d.borderAlign==="inner";if(!f)return;t.setLineDash(p||[]),t.lineDashOffset=y,w?(t.lineWidth=f*2,t.lineJoin=g||"round"):(t.lineWidth=f,t.lineJoin=g||"bevel");let S=e.endAngle;if(o){Sd(t,e,n,i,S,a);for(let x=0;x<o;++x)t.stroke();isNaN(u)||(S=l+(u%Ct||Ct))}w&&IP(t,e,S),d.selfJoin&&S-l>=Ze&&_===0&&g!=="miter"&&zP(t,e,S),o||(Sd(t,e,n,i,S,a),t.stroke())}class VP extends aa{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const a=this.getProps(["x","y"],i),{angle:o,distance:l}=Rx(a,{x:e,y:n}),{startAngle:u,endAngle:d,innerRadius:f,outerRadius:g,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),y=(this.options.spacing+this.options.borderWidth)/2,_=Fe(p,d-u),w=Zl(o,u,d)&&u!==d,S=_>=Ct||w,x=Vr(l,f+y,g+y);return S&&x}getCenterPoint(e){const{x:n,y:i,startAngle:a,endAngle:o,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:f}=this.options,g=(a+o)/2,p=(l+u+f+d)/2;return{x:n+Math.cos(g)*p,y:i+Math.sin(g)*p}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,a=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Ct?Math.floor(i/Ct):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*a,Math.sin(u)*a);const d=1-Math.sin(Math.min(Ze,i||0)),f=a*d;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,HP(e,this,f,o,l),BP(e,this,f,o,l),e.restore()}}function Qx(t,e,n=e){t.lineCap=Fe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Fe(n.borderDash,e.borderDash)),t.lineDashOffset=Fe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Fe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Fe(n.borderWidth,e.borderWidth),t.strokeStyle=Fe(n.borderColor,e.borderColor)}function $P(t,e,n){t.lineTo(n.x,n.y)}function qP(t){return t.stepped?p2:t.tension||t.cubicInterpolationMode==="monotone"?v2:$P}function Zx(t,e,n={}){const i=t.length,{start:a=0,end:o=i-1}=n,{start:l,end:u}=e,d=Math.max(a,l),f=Math.min(o,u),g=a<l&&o<l||a>u&&o>u;return{count:i,start:d,loop:e.loop,ilen:f<d&&!g?i+f-d:f-d}}function GP(t,e,n,i){const{points:a,options:o}=e,{count:l,start:u,loop:d,ilen:f}=Zx(a,n,i),g=qP(o);let{move:p=!0,reverse:y}=i||{},_,w,S;for(_=0;_<=f;++_)w=a[(u+(y?f-_:_))%l],!w.skip&&(p?(t.moveTo(w.x,w.y),p=!1):g(t,S,w,y,o.stepped),S=w);return d&&(w=a[(u+(y?f:0))%l],g(t,S,w,y,o.stepped)),!!d}function YP(t,e,n,i){const a=e.points,{count:o,start:l,ilen:u}=Zx(a,n,i),{move:d=!0,reverse:f}=i||{};let g=0,p=0,y,_,w,S,x,C;const A=k=>(l+(f?u-k:k))%o,T=()=>{S!==x&&(t.lineTo(g,x),t.lineTo(g,S),t.lineTo(g,C))};for(d&&(_=a[A(0)],t.moveTo(_.x,_.y)),y=0;y<=u;++y){if(_=a[A(y)],_.skip)continue;const k=_.x,D=_.y,V=k|0;V===w?(D<S?S=D:D>x&&(x=D),g=(p*g+k)/++p):(T(),t.lineTo(k,D),w=V,p=0,S=x=D),C=D}T()}function um(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?YP:GP}function WP(t){return t.stepped?X2:t.tension||t.cubicInterpolationMode==="monotone"?Q2:Na}function KP(t,e,n,i){let a=e._path;a||(a=e._path=new Path2D,e.path(a,n,i)&&a.closePath()),Qx(t,e.options),t.stroke(a)}function XP(t,e,n,i){const{segments:a,options:o}=e,l=um(e);for(const u of a)Qx(t,o,u.style),t.beginPath(),l(t,e,u,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const QP=typeof Path2D=="function";function ZP(t,e,n,i){QP&&!e.options.segment?KP(t,e,n,i):XP(t,e,n,i)}class JP extends aa{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const a=i.spanGaps?this._loop:this._fullLoop;B2(this._points,i,e,a,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=aL(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,a=e[n],o=this.points,l=nL(this,{property:n,start:a,end:a});if(!l.length)return;const u=[],d=WP(i);let f,g;for(f=0,g=l.length;f<g;++f){const{start:p,end:y}=l[f],_=o[p],w=o[y];if(_===w){u.push(_);continue}const S=Math.abs((a-_[n])/(w[n]-_[n])),x=d(_,w,S,i.stepped);x[n]=e[n],u.push(x)}return u.length===1?u[0]:u}pathSegment(e,n,i){return um(this)(e,this,n,i)}path(e,n,i){const a=this.segments,o=um(this);let l=this._loop;n=n||0,i=i||this.points.length-n;for(const u of a)l&=o(e,this,u,{start:n,end:n+i-1});return!!l}draw(e,n,i,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),ZP(e,this,i,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function _w(t,e,n,i){const a=t.options,{[n]:o}=t.getProps([n],i);return Math.abs(e-o)<a.radius+a.hitRadius}class ez extends aa{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const a=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(e-o,2)+Math.pow(n-l,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,n){return _w(this,e,"x",n)}inYRange(e,n){return _w(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!Jl(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,rm(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}const ww=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},tz=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Sw extends aa{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=gt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,a)=>e.sort(i,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,a=pn(i.font),o=a.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:d}=ww(i,o);let f,g;n.font=a.string,this.isHorizontal()?(f=this.maxWidth,g=this._fitRows(l,o,u,d)+10):(g=this.maxHeight,f=this._fitCols(l,a,u,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,a){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],g=a+u;let p=e;o.textAlign="left",o.textBaseline="middle";let y=-1,_=-g;return this.legendItems.forEach((w,S)=>{const x=i+n/2+o.measureText(w.text).width;(S===0||f[f.length-1]+x+2*u>l)&&(p+=g,f[f.length-(S>0?0:1)]=0,_+=g,y++),d[S]={left:0,top:_,row:y,width:x,height:a},f[f.length-1]+=x+u}),p}_fitCols(e,n,i,a){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],g=l-e;let p=u,y=0,_=0,w=0,S=0;return this.legendItems.forEach((x,C)=>{const{itemWidth:A,itemHeight:T}=nz(i,n,o,x,a);C>0&&_+T+2*u>g&&(p+=y+u,f.push({width:y,height:_}),w+=y+u,S++,y=_=0),d[C]={left:w,top:_,col:S,width:A,height:T},y=Math.max(y,A),_+=T+u}),p+=y,f.push({width:y,height:_}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:a},rtl:o}}=this,l=Yr(o,this.left,this.width);if(this.isHorizontal()){let u=0,d=gn(i,this.left+a,this.right-this.lineWidths[u]);for(const f of n)u!==f.row&&(u=f.row,d=gn(i,this.left+a,this.right-this.lineWidths[u])),f.top+=this.top+e+a,f.left=l.leftForLtr(l.x(d),f.width),d+=f.width+a}else{let u=0,d=gn(i,this.top+e+a,this.bottom-this.columnSizes[u].height);for(const f of n)f.col!==u&&(u=f.col,d=gn(i,this.top+e+a,this.bottom-this.columnSizes[u].height)),f.top=d,f.left+=this.left+a,f.left=l.leftForLtr(l.x(f.left),f.width),d+=f.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Jm(e,this),this._draw(),ep(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:a}=this,{align:o,labels:l}=e,u=Dt.color,d=Yr(e.rtl,this.left,this.width),f=pn(l.font),{padding:g}=l,p=f.size,y=p/2;let _;this.drawTitle(),a.textAlign=d.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=f.string;const{boxWidth:w,boxHeight:S,itemHeight:x}=ww(l,p),C=function(V,F,L){if(isNaN(w)||w<=0||isNaN(S)||S<0)return;a.save();const $=Fe(L.lineWidth,1);if(a.fillStyle=Fe(L.fillStyle,u),a.lineCap=Fe(L.lineCap,"butt"),a.lineDashOffset=Fe(L.lineDashOffset,0),a.lineJoin=Fe(L.lineJoin,"miter"),a.lineWidth=$,a.strokeStyle=Fe(L.strokeStyle,u),a.setLineDash(Fe(L.lineDash,[])),l.usePointStyle){const G={radius:S*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:$},Q=d.xPlus(V,w/2),Z=F+y;Mx(a,G,Q,Z,l.pointStyleWidth&&w)}else{const G=F+Math.max((p-S)/2,0),Q=d.leftForLtr(V,w),Z=Fl(L.borderRadius);a.beginPath(),Object.values(Z).some(ce=>ce!==0)?om(a,{x:Q,y:G,w,h:S,radius:Z}):a.rect(Q,G,w,S),a.fill(),$!==0&&a.stroke()}a.restore()},A=function(V,F,L){ec(a,L.text,V,F+x/2,f,{strikethrough:L.hidden,textAlign:d.textAlign(L.textAlign)})},T=this.isHorizontal(),k=this._computeTitleHeight();T?_={x:gn(o,this.left+g,this.right-i[0]),y:this.top+g+k,line:0}:_={x:this.left+g,y:gn(o,this.top+k+g,this.bottom-n[0].height),line:0},zx(this.ctx,e.textDirection);const D=x+g;this.legendItems.forEach((V,F)=>{a.strokeStyle=V.fontColor,a.fillStyle=V.fontColor;const L=a.measureText(V.text).width,$=d.textAlign(V.textAlign||(V.textAlign=l.textAlign)),G=w+y+L;let Q=_.x,Z=_.y;d.setWidth(this.width),T?F>0&&Q+G+g>this.right&&(Z=_.y+=D,_.line++,Q=_.x=gn(o,this.left+g,this.right-i[_.line])):F>0&&Z+D>this.bottom&&(Q=_.x=Q+n[_.line].width+g,_.line++,Z=_.y=gn(o,this.top+k+g,this.bottom-n[_.line].height));const ce=d.x(Q);if(C(ce,Z,V),Q=i2($,Q+w+y,T?Q+G:this.right,e.rtl),A(d.x(Q),Z,V),T)_.x+=G+g;else if(typeof V.text!="string"){const ue=f.lineHeight;_.y+=Jx(V,ue)+g}else _.y+=D}),Ix(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=pn(n.font),a=si(n.padding);if(!n.display)return;const o=Yr(e.rtl,this.left,this.width),l=this.ctx,u=n.position,d=i.size/2,f=a.top+d;let g,p=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),g=this.top+f,p=gn(e.align,p,this.right-y);else{const w=this.columnSizes.reduce((S,x)=>Math.max(S,x.height),0);g=f+gn(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const _=gn(u,p,p+y);l.textAlign=o.textAlign(Xm(u)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,ec(l,n.text,_,g,i)}_computeTitleHeight(){const e=this.options.title,n=pn(e.font),i=si(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,a,o;if(Vr(e,this.left,this.right)&&Vr(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(a=o[i],Vr(e,a.left,a.left+a.width)&&Vr(n,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!az(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,o=tz(a,i);a&&!o&&gt(n.onLeave,[e,a,this],this),this._hoveredItem=i,i&&!o&&gt(n.onHover,[e,i,this],this)}else i&&gt(n.onClick,[e,i,this],this)}}function nz(t,e,n,i,a){const o=iz(i,t,e,n),l=sz(a,i,e.lineHeight);return{itemWidth:o,itemHeight:l}}function iz(t,e,n,i){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((o,l)=>o.length>l.length?o:l)),e+n.size/2+i.measureText(a).width}function sz(t,e,n){let i=t;return typeof e.text!="string"&&(i=Jx(e,n)),i}function Jx(t,e){const n=t.text?t.text.length:0;return e*n}function az(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var rz={id:"legend",_element:Sw,start(t,e,n){const i=t.legend=new Sw({ctx:t.ctx,options:n,chart:t});ni.configure(t,i,n),ni.addBox(t,i)},stop(t){ni.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;ni.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,a=n.chart;a.isDatasetVisible(i)?(a.hide(i),e.hidden=!0):(a.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:a,color:o,useBorderRadius:l,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(n?0:void 0),g=si(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:a||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class eE extends aa{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const a=en(i.text)?i.text.length:1;this._padding=si(i.padding);const o=a*pn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:a,right:o,options:l}=this,u=l.align;let d=0,f,g,p;return this.isHorizontal()?(g=gn(u,i,o),p=n+e,f=o-i):(l.position==="left"?(g=i+e,p=gn(u,a,n),d=Ze*-.5):(g=o-e,p=gn(u,n,a),d=Ze*.5),f=a-n),{titleX:g,titleY:p,maxWidth:f,rotation:d}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=pn(n.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:d,rotation:f}=this._drawArgs(o);ec(e,n.text,0,0,i,{color:n.color,maxWidth:d,rotation:f,textAlign:Xm(n.align),textBaseline:"middle",translation:[l,u]})}}function oz(t,e){const n=new eE({ctx:t.ctx,options:e,chart:t});ni.configure(t,n,e),ni.addBox(t,n),t.titleBlock=n}var lz={id:"title",_element:eE,start(t,e,n){oz(t,n)},stop(t){const e=t.titleBlock;ni.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;ni.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const El={average(t){if(!t.length)return!1;let e,n,i=new Set,a=0,o=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const d=u.tooltipPosition();i.add(d.x),a+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,d)=>u+d)/i.size,y:a/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,a=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=t.length;o<l;++o){const d=t[o].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),g=sm(e,f);g<a&&(a=g,u=d)}}if(u){const d=u.tooltipPosition();n=d.x,i=d.y}return{x:n,y:i}}};function Ni(t,e){return e&&(en(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function cs(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function cz(t,e){const{element:n,datasetIndex:i,index:a}=e,o=t.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(a);return{chart:t,label:l,parsed:o.getParsed(a),raw:t.data.datasets[i].data[a],formattedValue:u,dataset:o.getDataset(),dataIndex:a,datasetIndex:i,element:n}}function xw(t,e){const n=t.chart.ctx,{body:i,footer:a,title:o}=t,{boxWidth:l,boxHeight:u}=e,d=pn(e.bodyFont),f=pn(e.titleFont),g=pn(e.footerFont),p=o.length,y=a.length,_=i.length,w=si(e.padding);let S=w.height,x=0,C=i.reduce((k,D)=>k+D.before.length+D.lines.length+D.after.length,0);if(C+=t.beforeBody.length+t.afterBody.length,p&&(S+=p*f.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),C){const k=e.displayColors?Math.max(u,d.lineHeight):d.lineHeight;S+=_*k+(C-_)*d.lineHeight+(C-1)*e.bodySpacing}y&&(S+=e.footerMarginTop+y*g.lineHeight+(y-1)*e.footerSpacing);let A=0;const T=function(k){x=Math.max(x,n.measureText(k).width+A)};return n.save(),n.font=f.string,Qe(t.title,T),n.font=d.string,Qe(t.beforeBody.concat(t.afterBody),T),A=e.displayColors?l+2+e.boxPadding:0,Qe(i,k=>{Qe(k.before,T),Qe(k.lines,T),Qe(k.after,T)}),A=0,n.font=g.string,Qe(t.footer,T),n.restore(),x+=w.width,{width:x,height:S}}function uz(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function dz(t,e,n,i){const{x:a,width:o}=i,l=n.caretSize+n.caretPadding;if(t==="left"&&a+o+l>e.width||t==="right"&&a-o-l<0)return!0}function hz(t,e,n,i){const{x:a,width:o}=n,{width:l,chartArea:{left:u,right:d}}=t;let f="center";return i==="center"?f=a<=(u+d)/2?"left":"right":a<=o/2?f="left":a>=l-o/2&&(f="right"),dz(f,t,e,n)&&(f="center"),f}function Ew(t,e,n){const i=n.yAlign||e.yAlign||uz(t,n);return{xAlign:n.xAlign||e.xAlign||hz(t,e,n,i),yAlign:i}}function fz(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function gz(t,e,n){let{y:i,height:a}=t;return e==="top"?i+=n:e==="bottom"?i-=a+n:i-=a/2,i}function Cw(t,e,n,i){const{caretSize:a,caretPadding:o,cornerRadius:l}=t,{xAlign:u,yAlign:d}=n,f=a+o,{topLeft:g,topRight:p,bottomLeft:y,bottomRight:_}=Fl(l);let w=fz(e,u);const S=gz(e,d,f);return d==="center"?u==="left"?w+=f:u==="right"&&(w-=f):u==="left"?w-=Math.max(g,y)+a:u==="right"&&(w+=Math.max(p,_)+a),{x:xn(w,0,i.width-e.width),y:xn(S,0,i.height-e.height)}}function Wu(t,e,n){const i=si(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Rw(t){return Ni([],cs(t))}function mz(t,e,n){return Ha(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Aw(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const tE={beforeTitle:rs,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:rs,beforeBody:rs,beforeLabel:rs,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return dt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:rs,afterBody:rs,beforeFooter:rs,footer:rs,afterFooter:rs};function Dn(t,e,n,i){const a=t[e].call(n,i);return typeof a>"u"?tE[e].call(n,i):a}class Ow extends aa{static positioners=El;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&n.options.animation&&i.animations,o=new Ux(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=mz(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,a=Dn(i,"beforeTitle",this,e),o=Dn(i,"title",this,e),l=Dn(i,"afterTitle",this,e);let u=[];return u=Ni(u,cs(a)),u=Ni(u,cs(o)),u=Ni(u,cs(l)),u}getBeforeBody(e,n){return Rw(Dn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,a=[];return Qe(e,o=>{const l={before:[],lines:[],after:[]},u=Aw(i,o);Ni(l.before,cs(Dn(u,"beforeLabel",this,o))),Ni(l.lines,Dn(u,"label",this,o)),Ni(l.after,cs(Dn(u,"afterLabel",this,o))),a.push(l)}),a}getAfterBody(e,n){return Rw(Dn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,a=Dn(i,"beforeFooter",this,e),o=Dn(i,"footer",this,e),l=Dn(i,"afterFooter",this,e);let u=[];return u=Ni(u,cs(a)),u=Ni(u,cs(o)),u=Ni(u,cs(l)),u}_createItems(e){const n=this._active,i=this.chart.data,a=[],o=[],l=[];let u=[],d,f;for(d=0,f=n.length;d<f;++d)u.push(cz(this.chart,n[d]));return e.filter&&(u=u.filter((g,p,y)=>e.filter(g,p,y,i))),e.itemSort&&(u=u.sort((g,p)=>e.itemSort(g,p,i))),Qe(u,g=>{const p=Aw(e.callbacks,g);a.push(Dn(p,"labelColor",this,g)),o.push(Dn(p,"labelPointStyle",this,g)),l.push(Dn(p,"labelTextColor",this,g))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(e,n){const i=this.options.setContext(this.getContext()),a=this._active;let o,l=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const u=El[i.position].call(this,a,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const d=this._size=xw(this,i),f=Object.assign({},u,d),g=Ew(this.chart,i,f),p=Cw(i,f,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:p.x,y:p.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,a){const o=this.getCaretPosition(e,i,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,i){const{xAlign:a,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:p}=Fl(u),{x:y,y:_}=e,{width:w,height:S}=n;let x,C,A,T,k,D;return o==="center"?(k=_+S/2,a==="left"?(x=y,C=x-l,T=k+l,D=k-l):(x=y+w,C=x+l,T=k-l,D=k+l),A=x):(a==="left"?C=y+Math.max(d,g)+l:a==="right"?C=y+w-Math.max(f,p)-l:C=this.caretX,o==="top"?(T=_,k=T-l,x=C-l,A=C+l):(T=_+S,k=T+l,x=C+l,A=C-l),D=T),{x1:x,x2:C,x3:A,y1:T,y2:k,y3:D}}drawTitle(e,n,i){const a=this.title,o=a.length;let l,u,d;if(o){const f=Yr(i.rtl,this.x,this.width);for(e.x=Wu(this,i.titleAlign,i),n.textAlign=f.textAlign(i.titleAlign),n.textBaseline="middle",l=pn(i.titleFont),u=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,d=0;d<o;++d)n.fillText(a[d],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,d+1===o&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,n,i,a,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:d,boxWidth:f}=o,g=pn(o.bodyFont),p=Wu(this,"left",o),y=a.x(p),_=d<g.lineHeight?(g.lineHeight-d)/2:0,w=n.y+_;if(o.usePointStyle){const S={radius:Math.min(f,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},x=a.leftForLtr(y,f)+f/2,C=w+d/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,rm(e,S,x,C),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,rm(e,S,x,C)}else{e.lineWidth=$e(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const S=a.leftForLtr(y,f),x=a.leftForLtr(a.xPlus(y,1),f-2),C=Fl(l.borderRadius);Object.values(C).some(A=>A!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,om(e,{x:S,y:w,w:f,h:d,radius:C}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),om(e,{x,y:w+1,w:f-2,h:d-2,radius:C}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(S,w,f,d),e.strokeRect(S,w,f,d),e.fillStyle=l.backgroundColor,e.fillRect(x,w+1,f-2,d-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:a}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:d,boxWidth:f,boxPadding:g}=i,p=pn(i.bodyFont);let y=p.lineHeight,_=0;const w=Yr(i.rtl,this.x,this.width),S=function(L){n.fillText(L,w.x(e.x+_),e.y+y/2),e.y+=y+o},x=w.textAlign(l);let C,A,T,k,D,V,F;for(n.textAlign=l,n.textBaseline="middle",n.font=p.string,e.x=Wu(this,x,i),n.fillStyle=i.bodyColor,Qe(this.beforeBody,S),_=u&&x!=="right"?l==="center"?f/2+g:f+2+g:0,k=0,V=a.length;k<V;++k){for(C=a[k],A=this.labelTextColors[k],n.fillStyle=A,Qe(C.before,S),T=C.lines,u&&T.length&&(this._drawColorBox(n,e,k,w,i),y=Math.max(p.lineHeight,d)),D=0,F=T.length;D<F;++D)S(T[D]),y=p.lineHeight;Qe(C.after,S)}_=0,y=p.lineHeight,Qe(this.afterBody,S),e.y-=o}drawFooter(e,n,i){const a=this.footer,o=a.length;let l,u;if(o){const d=Yr(i.rtl,this.x,this.width);for(e.x=Wu(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=d.textAlign(i.footerAlign),n.textBaseline="middle",l=pn(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,u=0;u<o;++u)n.fillText(a[u],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,n,i,a){const{xAlign:o,yAlign:l}=this,{x:u,y:d}=e,{width:f,height:g}=i,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:w}=Fl(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(u+p,d),l==="top"&&this.drawCaret(e,n,i,a),n.lineTo(u+f-y,d),n.quadraticCurveTo(u+f,d,u+f,d+y),l==="center"&&o==="right"&&this.drawCaret(e,n,i,a),n.lineTo(u+f,d+g-w),n.quadraticCurveTo(u+f,d+g,u+f-w,d+g),l==="bottom"&&this.drawCaret(e,n,i,a),n.lineTo(u+_,d+g),n.quadraticCurveTo(u,d+g,u,d+g-_),l==="center"&&o==="left"&&this.drawCaret(e,n,i,a),n.lineTo(u,d+p),n.quadraticCurveTo(u,d,u+p,d),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){const l=El[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=xw(this,e),d=Object.assign({},l,this._size),f=Ew(n,e,d),g=Cw(e,d,f,n);(a._to!==g.x||o._to!==g.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=si(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,a,n),zx(e,n.textDirection),o.y+=l.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),Ix(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,a=e.map(({datasetIndex:u,index:d})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[d],index:d}}),o=!pd(i,a),l=this._positionChanged(a,n);(o||l)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],l=this._getActiveElements(e,o,n,i),u=this._positionChanged(l,e),d=n||!pd(l,o)||u;return d&&(this._active=l,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),d}_getActiveElements(e,n,i,a){const o=this.options;if(e.type==="mouseout")return[];if(!a)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:i,caretY:a,options:o}=this,l=El[o.position].call(this,e,n);return l!==!1&&(i!==l.x||a!==l.y)}}var pz={id:"tooltip",_element:Ow,positioners:El,afterInit(t,e,n){n&&(t.tooltip=new Ow({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:tE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const vz=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function yz(t,e,n,i){const a=t.indexOf(e);if(a===-1)return vz(t,e,n,i);const o=t.lastIndexOf(e);return a!==o?n:a}const bz=(t,e)=>t===null?null:xn(Math.round(t),0,e);function Tw(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class _z extends ro{static id="category";static defaults={ticks:{callback:Tw}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:a,label:o}of n)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(dt(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:yz(i,e,Fe(n,e),this._addedLabels),bz(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,a=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=n;l++)a.push({value:l});return a}getLabelForValue(e){return Tw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function wz(t,e){const n=[],{bounds:a,step:o,min:l,max:u,precision:d,count:f,maxTicks:g,maxDigits:p,includeBounds:y}=t,_=o||1,w=g-1,{min:S,max:x}=e,C=!dt(l),A=!dt(u),T=!dt(f),k=(x-S)/(p+1);let D=N0((x-S)/w/_)*_,V,F,L,$;if(D<1e-14&&!C&&!A)return[{value:S},{value:x}];$=Math.ceil(x/D)-Math.floor(S/D),$>w&&(D=N0($*D/w/_)*_),dt(d)||(V=Math.pow(10,d),D=Math.ceil(D*V)/V),a==="ticks"?(F=Math.floor(S/D)*D,L=Math.ceil(x/D)*D):(F=S,L=x),C&&A&&o&&Yj((u-l)/o,D/1e3)?($=Math.round(Math.min((u-l)/D,g)),D=(u-l)/$,F=l,L=u):T?(F=C?l:F,L=A?u:L,$=f-1,D=(L-F)/$):($=(L-F)/D,Pl($,Math.round($),D/1e3)?$=Math.round($):$=Math.ceil($));const G=Math.max(j0(D),j0(F));V=Math.pow(10,dt(d)?G:d),F=Math.round(F*V)/V,L=Math.round(L*V)/V;let Q=0;for(C&&(y&&F!==l?(n.push({value:l}),F<l&&Q++,Pl(Math.round((F+Q*D)*V)/V,l,Dw(l,k,t))&&Q++):F<l&&Q++);Q<$;++Q){const Z=Math.round((F+Q*D)*V)/V;if(A&&Z>u)break;n.push({value:Z})}return A&&y&&L!==u?n.length&&Pl(n[n.length-1].value,u,Dw(u,k,t))?n[n.length-1].value=u:n.push({value:u}):(!A||L===u)&&n.push({value:L}),n}function Dw(t,e,{horizontal:n,minRotation:i}){const a=gs(i),o=(n?Math.sin(a):Math.cos(a))||.001,l=.75*e*(""+t).length;return Math.min(e/o,l)}class Sz extends ro{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return dt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:a,max:o}=this;const l=d=>a=n?a:d,u=d=>o=i?o:d;if(e){const d=Xr(a),f=Xr(o);d<0&&f<0?u(0):d>0&&f>0&&l(0)}if(a===o){let d=o===0?1:Math.abs(o*.05);u(o+d),e||l(a-d)}this.min=a,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,l=wz(a,o);return e.bounds==="ticks"&&Wj(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const a=(i-n)/Math.max(e.length-1,1)/2;n-=a,i+=a}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Zm(e,this.chart.options.locale,this.options.ticks.format)}}class xz extends Sz{static id="linear";static defaults={ticks:{callback:Dx.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ii(e)?e:0,this.max=ii(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=gs(this.options.ticks.minRotation),a=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Ud={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},kn=Object.keys(Ud);function Mw(t,e){return t-e}function kw(t,e){if(dt(e))return null;const n=t._adapter,{parser:i,round:a,isoWeekday:o}=t._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),ii(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(a&&(l=a==="week"&&(Ql(o)||o===!0)?n.startOf(l,"isoWeek",o):n.startOf(l,a)),+l)}function Nw(t,e,n,i){const a=kn.length;for(let o=kn.indexOf(t);o<a-1;++o){const l=Ud[kn[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(u*l.size))<=i)return kn[o]}return kn[a-1]}function Ez(t,e,n,i,a){for(let o=kn.length-1;o>=kn.indexOf(n);o--){const l=kn[o];if(Ud[l].common&&t._adapter.diff(a,i,l)>=e-1)return l}return kn[n?kn.indexOf(n):0]}function Cz(t){for(let e=kn.indexOf(t)+1,n=kn.length;e<n;++e)if(Ud[kn[e]].common)return kn[e]}function jw(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:a}=Km(n,e),o=n[i]>=e?n[i]:n[a];t[o]=!0}}function Rz(t,e,n,i){const a=t._adapter,o=+a.startOf(e[0].value,i),l=e[e.length-1].value;let u,d;for(u=o;u<=l;u=+a.add(u,1,i))d=n[u],d>=0&&(e[d].major=!0);return e}function Lw(t,e,n){const i=[],a={},o=e.length;let l,u;for(l=0;l<o;++l)u=e[l],a[u]=l,i.push({value:u,major:!1});return o===0||!n?i:Rz(t,i,a,n)}class Pw extends ro{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),a=this._adapter=new OL._date(e.adapters.date);a.init(n),Ll(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:kw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:a,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function d(f){!l&&!isNaN(f.min)&&(a=Math.min(a,f.min)),!u&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!l||!u)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),a=ii(a)&&!isNaN(a)?a:+n.startOf(Date.now(),i),o=ii(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,l=this.max,u=Jj(a,o,l);return this._unit=n.unit||(i.autoSkip?Nw(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):Ez(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Cz(this._unit),this.initOffsets(a),e.reverse&&u.reverse(),Lw(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,a,o;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?n=1-a:n=(this.getDecimalForValue(e[1])-a)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=xn(n,0,l),i=xn(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,a=this.options,o=a.time,l=o.unit||Nw(o.minUnit,n,i,this._getLabelCapacity(n)),u=Fe(a.ticks.stepSize,1),d=l==="week"?o.isoWeekday:!1,f=Ql(d)||d===!0,g={};let p=n,y,_;if(f&&(p=+e.startOf(p,"isoWeek",d)),p=+e.startOf(p,f?"day":l),e.diff(i,n,l)>1e5*u)throw new Error(n+" and "+i+" are too far apart with stepSize of "+u+" "+l);const w=a.ticks.source==="data"&&this.getDataTimestamps();for(y=p,_=0;y<i;y=+e.add(y,u,l),_++)jw(g,y,w);return(y===i||a.bounds==="ticks"||_===1)&&jw(g,y,w),Object.keys(g).sort(Mw).map(S=>+S)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const a=this.options.time.displayFormats,o=this._unit,l=n||a[o];return this._adapter.format(e,l)}_tickFormatFunction(e,n,i,a){const o=this.options,l=o.ticks.callback;if(l)return gt(l,[e,n,i],this);const u=o.time.displayFormats,d=this._unit,f=this._majorUnit,g=d&&u[d],p=f&&u[f],y=i[n],_=f&&p&&y&&y.major;return this._adapter.format(e,a||(_?p:g))}generateTickLabels(e){let n,i,a;for(n=0,i=e.length;n<i;++n)a=e[n],a.label=this._tickFormatFunction(a.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,a=gs(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),l=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,a=i[n.unit]||i.millisecond,o=this._tickFormatFunction(e,0,Lw(this,[e],this._majorUnit),a),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,i=a.length;n<i;++n)e=e.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const a=this.getLabels();for(n=0,i=a.length;n<i;++n)e.push(kw(this,a[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return t2(e.sort(Mw))}}function Ku(t,e,n){let i=0,a=t.length-1,o,l,u,d;n?(e>=t[i].pos&&e<=t[a].pos&&({lo:i,hi:a}=Pa(t,"pos",e)),{pos:o,time:u}=t[i],{pos:l,time:d}=t[a]):(e>=t[i].time&&e<=t[a].time&&({lo:i,hi:a}=Pa(t,"time",e)),{time:o,pos:u}=t[i],{time:l,pos:d}=t[a]);const f=l-o;return f?u+(d-u)*(e-o)/f:u}class eI extends Pw{static id="timeseries";static defaults=Pw.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ku(n,this.min),this._tableRange=Ku(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,a=[],o=[];let l,u,d,f,g;for(l=0,u=e.length;l<u;++l)f=e[l],f>=n&&f<=i&&a.push(f);if(a.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,u=a.length;l<u;++l)g=a[l+1],d=a[l-1],f=a[l],Math.round((g+d)/2)!==f&&o.push({time:f,pos:l/(u-1)});return o}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((a,o)=>a-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Ku(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Ku(this._table,i*this._tableRange+this._minPos,!0)}}const nE="label";function zw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Az(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function iE(t,e){t.labels=e}function sE(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nE;const i=[];t.datasets=e.map(a=>{const o=t.datasets.find(l=>l[n]===a[n]);return!o||!a.data||i.includes(o)?{...a}:(i.push(o),Object.assign(o,a),o)})}function Oz(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nE;const n={labels:[],datasets:[]};return iE(n,t.labels),sE(n,t.datasets,e),n}function Tz(t,e){const{height:n=150,width:i=300,redraw:a=!1,datasetIdKey:o,type:l,data:u,options:d,plugins:f=[],fallbackContent:g,updateMode:p,...y}=t,_=R.useRef(null),w=R.useRef(null),S=()=>{_.current&&(w.current=new Fd(_.current,{type:l,data:Oz(u,o),options:d&&{...d},plugins:f}),zw(e,w.current))},x=()=>{zw(e,null),w.current&&(w.current.destroy(),w.current=null)};return R.useEffect(()=>{!a&&w.current&&d&&Az(w.current,d)},[a,d]),R.useEffect(()=>{!a&&w.current&&iE(w.current.config.data,u.labels)},[a,u.labels]),R.useEffect(()=>{!a&&w.current&&u.datasets&&sE(w.current.config.data,u.datasets,o)},[a,u.datasets]),R.useEffect(()=>{w.current&&(a?(x(),setTimeout(S)):w.current.update(p))},[a,d,u.labels,u.datasets,p]),R.useEffect(()=>{w.current&&(x(),setTimeout(S))},[l]),R.useEffect(()=>(S(),()=>x()),[]),Me.createElement("canvas",{ref:_,role:"img",height:n,width:i,...y},g)}const Dz=R.forwardRef(Tz);function aE(t,e){return Fd.register(e),R.forwardRef((n,i)=>Me.createElement(Dz,{...n,ref:i,type:t}))}const Mz=aE("line",RL),kz=aE("pie",AL);Fd.register(_z,xz,ez,JP,lz,pz,rz,VP);function Nz(){const{machines:t}=Jt(),{odpOrders:e}=Tt(),{isLoading:n,isInitialized:i}=Ce(),{init:a,cleanup:o}=Ii();R.useEffect(()=>(i||a(),()=>{o()}),[a,i,o]);const l=R.useMemo(()=>{if(n)return{};const g=t.reduce((L,$)=>{const G=$.work_center||"Unknown";return L[G]||(L[G]={[ti.ACTIVE]:0,[ti.INACTIVE]:0,[ti.MAINTENANCE]:0}),L[G][$.status]=(L[G][$.status]||0)+1,L},{}),p=new Date,y=new Date(p);y.setDate(p.getDate()-p.getDay()),y.setHours(0,0,0,0);const _=e.filter(L=>L.completion_date?new Date(L.completion_date)>=y:!1).length,w=e.filter(L=>L.status==="IN PROGRESS"||L.status==="SCHEDULED").length,S=e.filter(L=>L.due_date?new Date(L.due_date)<p&&L.quantity_completed<L.quantity:!1).length,x=t.filter(L=>L.status===ti.ACTIVE).length,C={},A=new Date(p);A.setDate(p.getDate()-30),e.forEach(L=>{if(L.scheduled_start_time){const $=new Date(L.scheduled_start_time);if($>=A){const G=$.toISOString().split("T")[0];C[G]=(C[G]||0)+1}}});const T=e.filter(L=>L.scheduled_start_time?new Date(L.scheduled_start_time)>=y:!1),k=T.filter(L=>L.cost&&L.cost>0).map(L=>L.cost),D=T.filter(L=>L.duration&&L.duration>0).map(L=>L.duration),V=k.length>0?k.reduce((L,$)=>L+$,0)/k.length:0,F=D.length>0?D.reduce((L,$)=>L+$,0)/D.length:0;return{machinesByWorkCenter:g,completedThisWeek:_,tasksInWip:w,delayedTasks:S,activeMachines:x,totalMachines:t.length,totalOrders:e.length,tasksPerDay:C,avgWeeklyCost:V,avgWeeklyDuration:F,weeklyOrdersCount:T.length}},[t,e,n]),u=R.useMemo(()=>{if(!l.tasksPerDay)return null;const p=Object.keys(l.tasksPerDay).sort().slice(-7);return{labels:p.map(y=>new Date(y).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit"})),datasets:[{label:"Lavori Iniziati",data:p.map(y=>l.tasksPerDay[y]||0),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0}]}},[l.tasksPerDay]),d={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}},f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}}}};return n?b.jsx("div",{className:"content-section",children:b.jsx("div",{className:"loading",children:"Caricamento dashboard..."})}):b.jsxs("div",{className:"content-section",children:[b.jsx(bs,{title:"Dashboard Produzione"}),b.jsxs("div",{className:"metrics-grid",children:[b.jsxs("div",{className:"metric-card",children:[b.jsx("h3",{children:"Macchine Totali"}),b.jsx("div",{className:"metric-value",children:l.totalMachines}),b.jsxs("div",{className:"metric-subtitle",children:["Attive: ",l.activeMachines]})]}),b.jsxs("div",{className:"metric-card",children:[b.jsx("h3",{children:"Ordini Totali"}),b.jsx("div",{className:"metric-value",children:l.totalOrders})]}),b.jsxs("div",{className:"metric-card",children:[b.jsx("h3",{children:"Completati Questa Settimana"}),b.jsx("div",{className:"metric-value",children:l.completedThisWeek})]}),b.jsxs("div",{className:"metric-card",children:[b.jsx("h3",{children:"Lavori in Corso"}),b.jsx("div",{className:"metric-value",children:l.tasksInWip})]}),b.jsxs("div",{className:"metric-card",children:[b.jsx("h3",{children:"Lavori Ritardati"}),b.jsx("div",{className:"metric-value delayed",children:l.delayedTasks})]})]}),b.jsxs("div",{className:"weekly-metrics-row",children:[b.jsxs("div",{className:"weekly-metric-card",children:[b.jsx("h3",{children:"Ordini Settimanali"}),b.jsx("div",{className:"metric-value",children:l.weeklyOrdersCount}),b.jsx("div",{className:"metric-subtitle",children:"Questa Settimana"})]}),b.jsxs("div",{className:"weekly-metric-card",children:[b.jsx("h3",{children:"Costo Medio"}),b.jsxs("div",{className:"metric-value",children:["€",l.avgWeeklyCost.toFixed(2)]}),b.jsx("div",{className:"metric-subtitle",children:"Per Lavoro Questa Settimana"})]}),b.jsxs("div",{className:"metric-card",children:[b.jsx("h3",{children:"Durata Media"}),b.jsxs("div",{className:"metric-value",children:[l.avgWeeklyDuration.toFixed(1),"h"]}),b.jsx("div",{className:"metric-subtitle",children:"Per Lavoro Questa Settimana"})]})]}),b.jsxs("div",{className:"charts-container",children:[b.jsxs("div",{className:"chart-section line-chart-section",children:[b.jsx("h3",{children:"Lavori Iniziati per Giorno (Ultimi 7 Giorni)"}),b.jsx("div",{className:"chart-container",children:u&&b.jsx(Mz,{data:u,options:d,height:300})})]}),b.jsxs("div",{className:"chart-section pie-charts-section",children:[b.jsx("h3",{children:"Macchine per Centro di Lavoro e Stato"}),b.jsx("div",{className:"pie-charts-grid",children:Object.entries(l.machinesByWorkCenter||{}).map(([g,p])=>{const y={labels:Object.keys(p).map(_=>_.charAt(0).toUpperCase()+_.slice(1).toLowerCase()),datasets:[{data:Object.values(p),backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)"],borderColor:["rgba(34, 197, 94, 1)","rgba(239, 68, 68, 1)","rgba(245, 158, 11, 1)"],borderWidth:2}]};return b.jsxs("div",{className:"pie-chart-item",children:[b.jsx("h4",{children:g}),b.jsx("div",{className:"pie-chart-container",children:b.jsx(kz,{data:y,options:f,height:200})}),b.jsx("div",{className:"pie-chart-legend",children:Object.entries(p).map(([_,w])=>b.jsxs("div",{className:"legend-item",children:[b.jsx("span",{className:"legend-color",style:{backgroundColor:_==="ACTIVE"?"rgba(34, 197, 94, 0.8)":_==="INACTIVE"?"rgba(239, 68, 68, 0.8)":"rgba(245, 158, 11, 0.8)"}}),b.jsxs("span",{className:"legend-label",children:[_,": ",w]})]},_))})]},g)})})]})]})]})}function jz(){const[t,e]=R.useState({email:"",password:"",workCenter:""}),[n,i]=R.useState(!1),[a,o]=R.useState({}),{signIn:l,error:u}=ac(),{setSelectedWorkCenter:d}=Ce(),f=ia(),{handleAsync:g}=_s("LoginPage"),p=S=>{const{name:x,value:C}=S.target;e(A=>({...A,[x]:C})),a[x]&&o(A=>({...A,[x]:""}))},y=()=>{const S={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(S.email="Inserisci un indirizzo email valido"):S.email="Email richiesta",t.password?t.password.length<6&&(S.password="La password deve essere di almeno 6 caratteri"):S.password="Password richiesta",t.workCenter||(S.workCenter="Centro di lavoro richiesto"),o(S),Object.keys(S).length===0},_=async S=>{S.preventDefault(),y()&&(i(!0),await g(async()=>{(await l(t.email,t.password)).success&&(d(t.workCenter),f("/",{replace:!0}))},{context:"Login",fallbackMessage:"Accesso fallito. Riprova.",onFinally:()=>i(!1)}))},w=S=>a[S]?b.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:a[S]}):null;return b.jsx("div",{className:"auth-page",children:b.jsxs("div",{className:"auth-container",children:[b.jsxs("div",{className:"auth-header",children:[b.jsx("h1",{children:"Bentornato"}),b.jsx("p",{children:"Accedi al tuo account per continuare"})]}),b.jsxs("form",{onSubmit:_,className:"auth-form",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"email",children:"Indirizzo Email"}),b.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:p,placeholder:"Inserisci la tua email",className:a.email?"error":"",disabled:n,autoComplete:"email"}),w("email")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"password",children:"Password"}),b.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:p,placeholder:"Inserisci la tua password",className:a.password?"error":"",disabled:n,autoComplete:"current-password"}),w("password")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"workCenter",children:"Centro di Lavoro *"}),b.jsxs("select",{id:"workCenter",name:"workCenter",value:t.workCenter,onChange:p,className:a.workCenter?"error":"",disabled:n,children:[b.jsx("option",{value:"",children:"Seleziona un centro di lavoro"}),b.jsx("option",{value:Re.ZANICA,children:Re.ZANICA}),b.jsx("option",{value:Re.BUSTO_GAROLFO,children:Re.BUSTO_GAROLFO}),b.jsx("option",{value:Re.BOTH,children:Re.BOTH})]}),w("workCenter")]}),u&&b.jsxs("div",{className:"auth-error",children:[b.jsx("span",{className:"error-icon",children:"●"}),u]}),b.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:n,children:n?"Accesso in corso...":"Accedi"})]}),b.jsxs("div",{className:"auth-links",children:[b.jsx(Sn,{to:"/forgot-password",className:"auth-link",children:"Password dimenticata?"}),b.jsx("div",{className:"auth-divider",children:b.jsx("span",{children:"Non hai un account?"})}),b.jsx(Sn,{to:"/signup",className:"btn btn-secondary",children:"Crea Account"})]}),!1]})})}function Lz(){const[t,e]=R.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[n,i]=R.useState(!1),[a,o]=R.useState({}),{signUp:l,error:u}=ac(),d=ia(),{handleAsync:f}=_s("SignupPage"),g=w=>{const{name:S,value:x}=w.target;e(C=>({...C,[S]:x})),a[S]&&o(C=>({...C,[S]:""}))},p=()=>{const w={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(w.email="Inserisci un indirizzo email valido"):w.email="Email richiesta",t.password?t.password.length<6&&(w.password="La password deve essere di almeno 6 caratteri"):w.password="Password richiesta",t.confirmPassword?t.password!==t.confirmPassword&&(w.confirmPassword="Le password non coincidono"):w.confirmPassword="Conferma la tua password",t.firstName.trim()||(w.firstName="Nome richiesto"),t.lastName.trim()||(w.lastName="Cognome richiesto"),o(w),Object.keys(w).length===0},y=async w=>{w.preventDefault(),p()&&(i(!0),await f(async()=>{const S={first_name:t.firstName,last_name:t.lastName,full_name:`${t.firstName} ${t.lastName}`};(await l(t.email,t.password,S)).success&&d("/",{replace:!0})},{context:"Signup",fallbackMessage:"Creazione account fallita. Riprova.",onFinally:()=>i(!1)}))},_=w=>a[w]?b.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:a[w]}):null;return b.jsx("div",{className:"auth-page",children:b.jsxs("div",{className:"auth-container",children:[b.jsxs("div",{className:"auth-header",children:[b.jsx("h1",{children:"Crea Account"}),b.jsx("p",{children:"Registrati per iniziare con il tuo account"})]}),b.jsxs("form",{onSubmit:y,className:"auth-form",children:[b.jsxs("div",{className:"form-row",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"firstName",children:"Nome"}),b.jsx("input",{type:"text",id:"firstName",name:"firstName",value:t.firstName,onChange:g,placeholder:"Inserisci il tuo nome",className:a.firstName?"error":"",disabled:n,autoComplete:"given-name"}),_("firstName")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"lastName",children:"Cognome"}),b.jsx("input",{type:"text",id:"lastName",name:"lastName",value:t.lastName,onChange:g,placeholder:"Inserisci il tuo cognome",className:a.lastName?"error":"",disabled:n,autoComplete:"family-name"}),_("lastName")]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"email",children:"Indirizzo Email"}),b.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:g,placeholder:"Inserisci la tua email",className:a.email?"error":"",disabled:n,autoComplete:"email"}),_("email")]}),b.jsxs("div",{className:"form-row",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"password",children:"Password"}),b.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:g,placeholder:"Crea una password",className:a.password?"error":"",disabled:n,autoComplete:"new-password"}),_("password")]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"confirmPassword",children:"Conferma Password"}),b.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:g,placeholder:"Conferma la tua password",className:a.confirmPassword?"error":"",disabled:n,autoComplete:"new-password"}),_("confirmPassword")]})]}),u&&b.jsxs("div",{className:"auth-error",children:[b.jsx("span",{className:"error-icon",children:"●"}),u]}),b.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:n,children:n?"Creazione Account...":"Crea Account"})]}),b.jsxs("div",{className:"auth-links",children:[b.jsx("div",{className:"auth-divider",children:b.jsx("span",{children:"Hai già un account?"})}),b.jsx(Sn,{to:"/login",className:"btn btn-secondary",children:"Accedi"})]})]})})}function Pz(){const[t,e]=R.useState(""),[n,i]=R.useState(!1),[a,o]=R.useState(!1),[l,u]=R.useState(""),{resetPassword:d}=ac(),{handleAsync:f}=_s("ForgotPasswordPage"),g=async p=>{if(p.preventDefault(),!t.trim()){u("Inserisci il tuo indirizzo email");return}if(!/\S+@\S+\.\S+/.test(t)){u("Inserisci un indirizzo email valido");return}i(!0),u(""),await f(async()=>{const y=await d(t);y.success?o(!0):u(y.error||"Invio email di reset fallito")},{context:"Password Reset",fallbackMessage:"Invio email di reset fallito. Riprova.",onFinally:()=>i(!1)})};return a?b.jsx("div",{className:"auth-page",children:b.jsxs("div",{className:"auth-container",children:[b.jsxs("div",{className:"auth-header",children:[b.jsx("h1",{children:"Controlla la Tua Email"}),b.jsxs("p",{children:["Abbiamo inviato un link per il reset della password a ",t]})]}),b.jsxs("div",{className:"auth-success",children:[b.jsx("div",{className:"success-icon",children:"✅"}),b.jsx("p",{children:"Se non vedi l'email, controlla la cartella spam."})]}),b.jsx("div",{className:"auth-links",children:b.jsx(Sn,{to:"/login",className:"btn btn-primary",children:"Torna all'Accesso"})})]})}):b.jsx("div",{className:"auth-page",children:b.jsxs("div",{className:"auth-container",children:[b.jsxs("div",{className:"auth-header",children:[b.jsx("h1",{children:"Reset Password"}),b.jsx("p",{children:"Inserisci la tua email per ricevere un link per il reset della password"})]}),b.jsxs("form",{onSubmit:g,className:"auth-form",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"email",children:"Indirizzo Email"}),b.jsx("input",{type:"email",id:"email",name:"email",value:t,onChange:p=>e(p.target.value),placeholder:"Inserisci la tua email",disabled:n,autoComplete:"email"})]}),l&&b.jsxs("div",{className:"auth-error",children:[b.jsx("span",{className:"error-icon",children:"●"}),l]}),b.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:n,children:n?"Invio...":"Invia Link di Reset"})]}),b.jsx("div",{className:"auth-links",children:b.jsx(Sn,{to:"/login",className:"auth-link",children:"Torna all'Accesso"})})]})})}class xd extends Me.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static generateErrorId(){return`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorId:xd.generateErrorId()}}componentDidCatch(e,n){this.setState({errorInfo:n,errorId:this.state.errorId||xd.generateErrorId()}),hi(e,"ErrorBoundary"),this.logErrorToService(e,n)}logErrorToService(e,n){}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null}),window.location.reload()};handleGoHome=()=>{window.location.href="/"};handleReportIssue=()=>{const e=encodeURIComponent(`App Error Report - ${this.state.errorId}`),n=encodeURIComponent(`
Error Report Details:
- Error ID: ${this.state.errorId}
- Error: ${this.state.error?.message||"Unknown error"}
- URL: ${window.location.href}
- User Agent: ${navigator.userAgent}
- Timestamp: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:
    `);window.open(`mailto:support@company.com?subject=${e}&body=${n}`)};getErrorRecommendations=e=>{switch(_S(e)){case Qs.CRITICAL:return b.jsxs("div",{className:"error-boundary__recommendation critical",children:[b.jsx("strong",{children:"Critical Error:"})," This is a serious issue. Please contact support immediately."]});case Qs.HIGH:return b.jsxs("div",{className:"error-boundary__recommendation high",children:[b.jsx("strong",{children:"High Priority:"})," Please try refreshing the page or contact support if the problem persists."]});case Qs.MEDIUM:return b.jsxs("div",{className:"error-boundary__recommendation medium",children:[b.jsx("strong",{children:"Medium Priority:"})," Try refreshing the page or navigating to a different section."]});case Qs.LOW:return b.jsxs("div",{className:"error-boundary__recommendation low",children:[b.jsx("strong",{children:"Low Priority:"})," This error should resolve itself. Try continuing with your task."]});default:return null}};render(){return this.state.hasError?b.jsx("div",{className:"error-boundary",children:b.jsxs("div",{className:"error-boundary__container",children:[b.jsx("div",{className:"error-boundary__icon",children:"🚨"}),b.jsx("h1",{className:"error-boundary__title",children:"Oops! Something went wrong"}),b.jsx("p",{className:"error-boundary__message",children:"We're sorry, but something unexpected happened. Our team has been notified and is working to fix this issue."}),!1,b.jsxs("div",{className:"error-boundary__actions",children:[b.jsx("button",{onClick:this.handleRetry,className:"btn-primary",children:"Try Again"}),b.jsx("button",{onClick:this.handleGoHome,className:"btn-secondary",children:"Go to Home"}),b.jsx("button",{onClick:this.handleReportIssue,className:"error-boundary__button error-boundary__button--secondary",children:"📧 Report Issue"})]}),this.state.error&&b.jsx("div",{className:"error-boundary__recommendations",children:this.getErrorRecommendations(this.state.error)}),b.jsxs("div",{className:"error-boundary__footer",children:[b.jsxs("p",{className:"error-boundary__error-id",children:["Error ID: ",b.jsx("code",{children:this.state.errorId})]}),b.jsx("p",{className:"error-boundary__help",children:"If this problem persists, please contact support with the Error ID above."})]})]})}):this.props.children}}const zz=()=>{const{user:t,loading:e}=ac();return e?b.jsx("div",{className:"auth-loading",children:b.jsxs("div",{className:"auth-loading__container",children:[b.jsx("div",{className:"auth-loading__spinner"}),b.jsx("p",{children:"Checking authentication..."})]})}):t?b.jsx(Kw,{}):b.jsx(Ww,{to:"/login",replace:!0})},Iz=({message:t,type:e="info",isVisible:n,onClose:i,autoClose:a=!0,duration:o=5e3})=>{if(R.useEffect(()=>{if(a&&n){const d=setTimeout(()=>{i()},o);return()=>clearTimeout(d)}},[n,a,o,i]),!n)return null;const l="alert",u={success:"alert--success",error:"alert--error",warning:"alert--warning",info:"alert--info"};return b.jsx("div",{className:`${l} ${u[e]||u.info}`,children:b.jsxs("div",{className:"alert__content",children:[b.jsx("span",{className:"alert__message",children:t}),b.jsx("button",{onClick:i,className:"alert__close","aria-label":"Close",children:"×"})]})})},Fz=({isOpen:t,title:e,message:n,onConfirm:i,onCancel:a,confirmText:o="Elimina",cancelText:l="Annulla",type:u="danger"})=>{if(!t)return null;const d="confirm-dialog",f={danger:"confirm-dialog--danger",warning:"confirm-dialog--warning",info:"confirm-dialog--info"};return b.jsxs("div",{className:`${d} ${f[u]||f.danger}`,children:[b.jsx("div",{className:"confirm-dialog__overlay",onClick:a}),b.jsxs("div",{className:"confirm-dialog__content",children:[b.jsx("div",{className:"confirm-dialog__header",children:b.jsx("h3",{className:"confirm-dialog__title",children:e})}),b.jsx("div",{className:"confirm-dialog__body",children:b.jsx("p",{className:"confirm-dialog__message",children:n})}),b.jsxs("div",{className:"confirm-dialog__footer",children:[b.jsx("button",{onClick:a,className:"confirm-dialog__button confirm-dialog__button--secondary",children:l}),b.jsx("button",{onClick:i,className:"confirm-dialog__button confirm-dialog__button--primary",children:o})]})]})]})},Uz=()=>{const{alert:t,hideAlert:e,confirmDialog:n,hideConfirmDialog:i}=Ce(),{cleanup:a}=Ii();return R.useEffect(()=>()=>{a()},[a]),b.jsxs("div",{className:"main-content",children:[b.jsx(GD,{}),b.jsx("div",{className:"page-container",children:b.jsx("main",{children:b.jsx(Kw,{})})}),b.jsx(Iz,{message:t.message,type:t.type,isVisible:t.isVisible,onClose:e}),b.jsx(Fz,{isOpen:n.isOpen,title:n.title,message:n.message,onConfirm:()=>{n.onConfirm?.(),i()},onCancel:i,type:n.type})]})};function Hz(){return b.jsx(xd,{children:b.jsxs(pA,{children:[b.jsx(Ht,{path:"/login",element:b.jsx(jz,{})}),b.jsx(Ht,{path:"/signup",element:b.jsx(Lz,{})}),b.jsx(Ht,{path:"/forgot-password",element:b.jsx(Pz,{})}),b.jsx(Ht,{path:"/",element:b.jsx(zz,{}),children:b.jsxs(Ht,{element:b.jsx(Uz,{}),children:[b.jsx(Ht,{index:!0,element:b.jsx(Nz,{})}),b.jsx(Ht,{path:"machinery",element:b.jsx(ak,{})}),b.jsx(Ht,{path:"machinery/add",element:b.jsx(u0,{})}),b.jsx(Ht,{path:"machinery/:id/edit",element:b.jsx(u0,{})}),b.jsx(Ht,{path:"machinery/:machineId/calendar",element:b.jsx(kk,{})}),b.jsx(Ht,{path:"phases",element:b.jsx(Nk,{})}),b.jsx(Ht,{path:"phases/add",element:b.jsx(d0,{})}),b.jsx(Ht,{path:"phases/:id/edit",element:b.jsx(d0,{})}),b.jsx(Ht,{path:"backlog",element:b.jsx(Lk,{})}),b.jsx(Ht,{path:"backlog/add",element:b.jsx(h0,{})}),b.jsx(Ht,{path:"backlog/:id/edit",element:b.jsx(h0,{})}),b.jsx(Ht,{path:"scheduler",element:b.jsx(fj,{})})]})}),b.jsx(Ht,{path:"*",element:b.jsx(Ww,{to:"/",replace:!0})})]})})}const Bz="/flexi/";ER.createRoot(document.getElementById("root")).render(b.jsx(Me.StrictMode,{children:b.jsx(FA,{basename:Bz,children:b.jsx(t1,{children:b.jsx(Hz,{})})})}));export{Me as R,Tt as a,Zz as b,_s as c,Qz as d,qr as e,Kz as f,Wz as g,Xz as i,b as j,R as r,mn as t,Ce as u};
