(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=a(l);fetch(l.href,u)}})();function qf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Rw(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var a=function i(){var l=!1;try{l=this instanceof i}catch{}return l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};a.prototype=n.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var l=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(a,i,l.get?l:{enumerable:!0,get:function(){return e[i]}})}),a}var qd={exports:{}},Qs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function Aw(){if(lv)return Qs;lv=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(i,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var f in l)f!=="key"&&(u[f]=l[f])}else u=l;return l=u.ref,{$$typeof:e,type:i,key:c,ref:l!==void 0?l:null,props:u}}return Qs.Fragment=n,Qs.jsx=a,Qs.jsxs=a,Qs}var ov;function Ow(){return ov||(ov=1,qd.exports=Aw()),qd.exports}var p=Ow(),Gd={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function Dw(){if(uv)return je;uv=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=y&&N[y]||N["@@iterator"],typeof N=="function"?N:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function R(N,Y,G){this.props=N,this.context=Y,this.refs=C,this.updater=G||b}R.prototype.isReactComponent={},R.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},R.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function D(){}D.prototype=R.prototype;function L(N,Y,G){this.props=N,this.context=Y,this.refs=C,this.updater=G||b}var T=L.prototype=new D;T.constructor=L,S(T,R.prototype),T.isPureReactComponent=!0;var M=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function P(N,Y,G,Q,ce,De){return G=De.ref,{$$typeof:e,type:N,key:Y,ref:G!==void 0?G:null,props:De}}function X(N,Y){return P(N.type,Y,void 0,void 0,void 0,N.props)}function ne(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function ue(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(G){return Y[G]})}var le=/\/+/g;function ee(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?ue(""+N.key):Y.toString(36)}function de(){}function xe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(de,de):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function _e(N,Y,G,Q,ce){var De=typeof N;(De==="undefined"||De==="boolean")&&(N=null);var ve=!1;if(N===null)ve=!0;else switch(De){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(N.$$typeof){case e:case n:ve=!0;break;case v:return ve=N._init,_e(ve(N._payload),Y,G,Q,ce)}}if(ve)return ce=ce(N),ve=Q===""?"."+ee(N,0):Q,M(ce)?(G="",ve!=null&&(G=ve.replace(le,"$&/")+"/"),_e(ce,Y,G,"",function(Dt){return Dt})):ce!=null&&(ne(ce)&&(ce=X(ce,G+(ce.key==null||N&&N.key===ce.key?"":(""+ce.key).replace(le,"$&/")+"/")+ve)),Y.push(ce)),1;ve=0;var mt=Q===""?".":Q+":";if(M(N))for(var Ve=0;Ve<N.length;Ve++)Q=N[Ve],De=mt+ee(Q,Ve),ve+=_e(Q,Y,G,De,ce);else if(Ve=w(N),typeof Ve=="function")for(N=Ve.call(N),Ve=0;!(Q=N.next()).done;)Q=Q.value,De=mt+ee(Q,Ve++),ve+=_e(Q,Y,G,De,ce);else if(De==="object"){if(typeof N.then=="function")return _e(xe(N),Y,G,Q,ce);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ve}function B(N,Y,G){if(N==null)return N;var Q=[],ce=0;return _e(N,Q,"","",function(De){return Y.call(G,De,ce++)}),Q}function J(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(G){(N._status===0||N._status===-1)&&(N._status=1,N._result=G)},function(G){(N._status===0||N._status===-1)&&(N._status=2,N._result=G)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var fe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function we(){}return je.Children={map:B,forEach:function(N,Y,G){B(N,function(){Y.apply(this,arguments)},G)},count:function(N){var Y=0;return B(N,function(){Y++}),Y},toArray:function(N){return B(N,function(Y){return Y})||[]},only:function(N){if(!ne(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},je.Component=R,je.Fragment=a,je.Profiler=l,je.PureComponent=L,je.StrictMode=i,je.Suspense=h,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,je.__COMPILER_RUNTIME={__proto__:null,c:function(N){return k.H.useMemoCache(N)}},je.cache=function(N){return function(){return N.apply(null,arguments)}},je.cloneElement=function(N,Y,G){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var Q=S({},N.props),ce=N.key,De=void 0;if(Y!=null)for(ve in Y.ref!==void 0&&(De=void 0),Y.key!==void 0&&(ce=""+Y.key),Y)!V.call(Y,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&Y.ref===void 0||(Q[ve]=Y[ve]);var ve=arguments.length-2;if(ve===1)Q.children=G;else if(1<ve){for(var mt=Array(ve),Ve=0;Ve<ve;Ve++)mt[Ve]=arguments[Ve+2];Q.children=mt}return P(N.type,ce,void 0,void 0,De,Q)},je.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},je.createElement=function(N,Y,G){var Q,ce={},De=null;if(Y!=null)for(Q in Y.key!==void 0&&(De=""+Y.key),Y)V.call(Y,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ce[Q]=Y[Q]);var ve=arguments.length-2;if(ve===1)ce.children=G;else if(1<ve){for(var mt=Array(ve),Ve=0;Ve<ve;Ve++)mt[Ve]=arguments[Ve+2];ce.children=mt}if(N&&N.defaultProps)for(Q in ve=N.defaultProps,ve)ce[Q]===void 0&&(ce[Q]=ve[Q]);return P(N,De,void 0,void 0,null,ce)},je.createRef=function(){return{current:null}},je.forwardRef=function(N){return{$$typeof:f,render:N}},je.isValidElement=ne,je.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:J}},je.memo=function(N,Y){return{$$typeof:m,type:N,compare:Y===void 0?null:Y}},je.startTransition=function(N){var Y=k.T,G={};k.T=G;try{var Q=N(),ce=k.S;ce!==null&&ce(G,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(we,fe)}catch(De){fe(De)}finally{k.T=Y}},je.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},je.use=function(N){return k.H.use(N)},je.useActionState=function(N,Y,G){return k.H.useActionState(N,Y,G)},je.useCallback=function(N,Y){return k.H.useCallback(N,Y)},je.useContext=function(N){return k.H.useContext(N)},je.useDebugValue=function(){},je.useDeferredValue=function(N,Y){return k.H.useDeferredValue(N,Y)},je.useEffect=function(N,Y,G){var Q=k.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(N,Y)},je.useId=function(){return k.H.useId()},je.useImperativeHandle=function(N,Y,G){return k.H.useImperativeHandle(N,Y,G)},je.useInsertionEffect=function(N,Y){return k.H.useInsertionEffect(N,Y)},je.useLayoutEffect=function(N,Y){return k.H.useLayoutEffect(N,Y)},je.useMemo=function(N,Y){return k.H.useMemo(N,Y)},je.useOptimistic=function(N,Y){return k.H.useOptimistic(N,Y)},je.useReducer=function(N,Y,G){return k.H.useReducer(N,Y,G)},je.useRef=function(N){return k.H.useRef(N)},je.useState=function(N){return k.H.useState(N)},je.useSyncExternalStore=function(N,Y,G){return k.H.useSyncExternalStore(N,Y,G)},je.useTransition=function(){return k.H.useTransition()},je.version="19.1.1",je}var cv;function Gf(){return cv||(cv=1,Gd.exports=Dw()),Gd.exports}var E=Gf();const Me=qf(E);var Yd={exports:{}},Zs={},Kd={exports:{}},Xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function Nw(){return dv||(dv=1,(function(e){function n(B,J){var fe=B.length;B.push(J);e:for(;0<fe;){var we=fe-1>>>1,N=B[we];if(0<l(N,J))B[we]=J,B[fe]=N,fe=we;else break e}}function a(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var J=B[0],fe=B.pop();if(fe!==J){B[0]=fe;e:for(var we=0,N=B.length,Y=N>>>1;we<Y;){var G=2*(we+1)-1,Q=B[G],ce=G+1,De=B[ce];if(0>l(Q,fe))ce<N&&0>l(De,Q)?(B[we]=De,B[ce]=fe,we=ce):(B[we]=Q,B[G]=fe,we=G);else if(ce<N&&0>l(De,fe))B[we]=De,B[ce]=fe,we=ce;else break e}}return J}function l(B,J){var fe=B.sortIndex-J.sortIndex;return fe!==0?fe:B.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var h=[],m=[],v=1,y=null,w=3,b=!1,S=!1,C=!1,R=!1,D=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function M(B){for(var J=a(m);J!==null;){if(J.callback===null)i(m);else if(J.startTime<=B)i(m),J.sortIndex=J.expirationTime,n(h,J);else break;J=a(m)}}function k(B){if(C=!1,M(B),!S)if(a(h)!==null)S=!0,V||(V=!0,ee());else{var J=a(m);J!==null&&_e(k,J.startTime-B)}}var V=!1,P=-1,X=5,ne=-1;function ue(){return R?!0:!(e.unstable_now()-ne<X)}function le(){if(R=!1,V){var B=e.unstable_now();ne=B;var J=!0;try{e:{S=!1,C&&(C=!1,L(P),P=-1),b=!0;var fe=w;try{t:{for(M(B),y=a(h);y!==null&&!(y.expirationTime>B&&ue());){var we=y.callback;if(typeof we=="function"){y.callback=null,w=y.priorityLevel;var N=we(y.expirationTime<=B);if(B=e.unstable_now(),typeof N=="function"){y.callback=N,M(B),J=!0;break t}y===a(h)&&i(h),M(B)}else i(h);y=a(h)}if(y!==null)J=!0;else{var Y=a(m);Y!==null&&_e(k,Y.startTime-B),J=!1}}break e}finally{y=null,w=fe,b=!1}J=void 0}}finally{J?ee():V=!1}}}var ee;if(typeof T=="function")ee=function(){T(le)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,xe=de.port2;de.port1.onmessage=le,ee=function(){xe.postMessage(null)}}else ee=function(){D(le,0)};function _e(B,J){P=D(function(){B(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(B){switch(w){case 1:case 2:case 3:var J=3;break;default:J=w}var fe=w;w=J;try{return B()}finally{w=fe}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var fe=w;w=B;try{return J()}finally{w=fe}},e.unstable_scheduleCallback=function(B,J,fe){var we=e.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?we+fe:we):fe=we,B){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=fe+N,B={id:v++,callback:J,priorityLevel:B,startTime:fe,expirationTime:N,sortIndex:-1},fe>we?(B.sortIndex=fe,n(m,B),a(h)===null&&B===a(m)&&(C?(L(P),P=-1):C=!0,_e(k,fe-we))):(B.sortIndex=N,n(h,B),S||b||(S=!0,V||(V=!0,ee()))),B},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(B){var J=w;return function(){var fe=w;w=J;try{return B.apply(this,arguments)}finally{w=fe}}}})(Xd)),Xd}var fv;function jw(){return fv||(fv=1,Kd.exports=Nw()),Kd.exports}var Wd={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function Mw(){if(hv)return tn;hv=1;var e=Gf();function n(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(h,m,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:h,containerInfo:m,implementation:v}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,tn.createPortal=function(h,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return u(h,m,null,v)},tn.flushSync=function(h){var m=c.T,v=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=m,i.p=v,i.d.f()}},tn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},tn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},tn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var v=m.as,y=f(v,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:b}):v==="script"&&i.d.X(h,{crossOrigin:y,integrity:w,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},tn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=f(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},tn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,y=f(v,m.crossOrigin);i.d.L(h,v,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},tn.preloadModule=function(h,m){if(typeof h=="string")if(m){var v=f(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},tn.requestFormReset=function(h){i.d.r(h)},tn.unstable_batchedUpdates=function(h,m){return h(m)},tn.useFormState=function(h,m,v){return c.H.useFormState(h,m,v)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.1.1",tn}var gv;function Py(){if(gv)return Wd.exports;gv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Wd.exports=Mw(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function kw(){if(mv)return Zs;mv=1;var e=jw(),n=Gf(),a=Py();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function f(t){if(u(t)!==t)throw Error(i(188))}function h(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(i(188));return r!==t?null:t}for(var s=t,o=r;;){var d=s.return;if(d===null)break;var g=d.alternate;if(g===null){if(o=d.return,o!==null){s=o;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===s)return f(d),t;if(g===o)return f(d),r;g=g.sibling}throw Error(i(188))}if(s.return!==o.return)s=d,o=g;else{for(var _=!1,x=d.child;x;){if(x===s){_=!0,s=d,o=g;break}if(x===o){_=!0,o=d,s=g;break}x=x.sibling}if(!_){for(x=g.child;x;){if(x===s){_=!0,s=g,o=d;break}if(x===o){_=!0,o=g,s=d;break}x=x.sibling}if(!_)throw Error(i(189))}}if(s.alternate!==o)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:r}function m(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=m(t),r!==null)return r;t=t.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function ee(t){return t===null||typeof t!="object"?null:(t=le&&t[le]||t["@@iterator"],typeof t=="function"?t:null)}var de=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===de?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case R:return"Profiler";case C:return"StrictMode";case k:return"Suspense";case V:return"SuspenseList";case ne:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case T:return(t.displayName||"Context")+".Provider";case L:return(t._context.displayName||"Context")+".Consumer";case M:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return r=t.displayName||null,r!==null?r:xe(t.type)||"Memo";case X:r=t._payload,t=t._init;try{return xe(t(r))}catch{}}return null}var _e=Array.isArray,B=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},we=[],N=-1;function Y(t){return{current:t}}function G(t){0>N||(t.current=we[N],we[N]=null,N--)}function Q(t,r){N++,we[N]=t.current,t.current=r}var ce=Y(null),De=Y(null),ve=Y(null),mt=Y(null);function Ve(t,r){switch(Q(ve,r),Q(De,t),Q(ce,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Lp(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Lp(r),t=Up(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(ce),Q(ce,t)}function Dt(){G(ce),G(De),G(ve)}function bt(t){t.memoizedState!==null&&Q(mt,t);var r=ce.current,s=Up(r,t.type);r!==s&&(Q(De,t),Q(ce,s))}function Cn(t){De.current===t&&(G(ce),G(De)),mt.current===t&&(G(mt),Gs._currentValue=fe)}var re=Object.prototype.hasOwnProperty,se=e.unstable_scheduleCallback,he=e.unstable_cancelCallback,ge=e.unstable_shouldYield,qe=e.unstable_requestPaint,Je=e.unstable_now,Ut=e.unstable_getCurrentPriorityLevel,pt=e.unstable_ImmediatePriority,A=e.unstable_UserBlockingPriority,$=e.unstable_NormalPriority,q=e.unstable_LowPriority,ie=e.unstable_IdlePriority,te=e.log,ae=e.unstable_setDisableYieldValue,oe=null,ye=null;function Ee(t){if(typeof te=="function"&&ae(t),ye&&typeof ye.setStrictMode=="function")try{ye.setStrictMode(oe,t)}catch{}}var Ue=Math.clz32?Math.clz32:ba,qt=Math.log,Et=Math.LN2;function ba(t){return t>>>=0,t===0?32:31-(qt(t)/Et|0)|0}var Zn=256,Jn=4194304;function gn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function er(t,r,s){var o=t.pendingLanes;if(o===0)return 0;var d=0,g=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var x=o&134217727;return x!==0?(o=x&~g,o!==0?d=gn(o):(_&=x,_!==0?d=gn(_):s||(s=x&~t,s!==0&&(d=gn(s))))):(x=o&~g,x!==0?d=gn(x):_!==0?d=gn(_):s||(s=o&~t,s!==0&&(d=gn(s)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,s=r&-r,g>=s||g===32&&(s&4194048)!==0)?r:d}function dr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function wa(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ul(){var t=Zn;return Zn<<=1,(Zn&4194048)===0&&(Zn=256),t}function Pl(){var t=Jn;return Jn<<=1,(Jn&62914560)===0&&(Jn=4194304),t}function rs(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function vt(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function rn(t,r,s,o,d,g){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var x=t.entanglements,O=t.expirationTimes,F=t.hiddenUpdates;for(s=_&~s;0<s;){var K=31-Ue(s),Z=1<<K;x[K]=0,O[K]=-1;var H=F[K];if(H!==null)for(F[K]=null,K=0;K<H.length;K++){var I=H[K];I!==null&&(I.lane&=-536870913)}s&=~Z}o!==0&&Qt(t,o,0),g!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=g&~(_&~r))}function Qt(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-Ue(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|s&4194090}function zn(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var o=31-Ue(s),d=1<<o;d&r|t[o]&r&&(t[o]|=r),s&=~d}}function Zt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function mn(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:tv(t.type))}function $r(t,r){var s=J.p;try{return J.p=t,r()}finally{J.p=s}}var rt=Math.random().toString(36).slice(2),st="__reactFiber$"+rt,lt="__reactProps$"+rt,Jt="__reactContainer$"+rt,fr="__reactEvents$"+rt,Sa="__reactListeners$"+rt,tr="__reactHandles$"+rt,zr="__reactResources$"+rt,hr="__reactMarker$"+rt;function $u(t){delete t[st],delete t[lt],delete t[fr],delete t[Sa],delete t[tr]}function Ka(t){var r=t[st];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Jt]||s[st]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=Fp(t);t!==null;){if(s=t[st])return s;t=Fp(t)}return r}t=s,s=t.parentNode}return null}function Xa(t){if(t=t[st]||t[Jt]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function as(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function Wa(t){var r=t[zr];return r||(r=t[zr]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Pt(t){t[hr]=!0}var Eh=new Set,Ch={};function xa(t,r){Qa(t,r),Qa(t+"Capture",r)}function Qa(t,r){for(Ch[t]=r,t=0;t<r.length;t++)Eh.add(r[t])}var _b=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Th={},Rh={};function bb(t){return re.call(Rh,t)?!0:re.call(Th,t)?!1:_b.test(t)?Rh[t]=!0:(Th[t]=!0,!1)}function $l(t,r,s){if(bb(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function zl(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function gr(t,r,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+o)}}var zu,Ah;function Za(t){if(zu===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);zu=r&&r[1]||"",Ah=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zu+t+Ah}var Fu=!1;function Hu(t,r){if(!t||Fu)return"";Fu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(I){var H=I}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(I){H=I}t.call(Z.prototype)}}else{try{throw Error()}catch(I){H=I}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(I){if(I&&H&&typeof I.stack=="string")return[I.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),_=g[0],x=g[1];if(_&&x){var O=_.split(`
`),F=x.split(`
`);for(d=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(o===O.length||d===F.length)for(o=O.length-1,d=F.length-1;1<=o&&0<=d&&O[o]!==F[d];)d--;for(;1<=o&&0<=d;o--,d--)if(O[o]!==F[d]){if(o!==1||d!==1)do if(o--,d--,0>d||O[o]!==F[d]){var K=`
`+O[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=d);break}}}finally{Fu=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Za(s):""}function wb(t){switch(t.tag){case 26:case 27:case 5:return Za(t.type);case 16:return Za("Lazy");case 13:return Za("Suspense");case 19:return Za("SuspenseList");case 0:case 15:return Hu(t.type,!1);case 11:return Hu(t.type.render,!1);case 1:return Hu(t.type,!0);case 31:return Za("Activity");default:return""}}function Oh(t){try{var r="";do r+=wb(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Dh(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Sb(t){var r=Dh(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,g=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){o=""+_,g.call(this,_)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Fl(t){t._valueTracker||(t._valueTracker=Sb(t))}function Nh(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),o="";return t&&(o=Dh(t)?t.checked?"true":"false":t.value),t=o,t!==s?(r.setValue(t),!0):!1}function Hl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xb=/[\n"\\]/g;function Rn(t){return t.replace(xb,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Vu(t,r,s,o,d,g,_,x){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Tn(r)):t.value!==""+Tn(r)&&(t.value=""+Tn(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Bu(t,_,Tn(r)):s!=null?Bu(t,_,Tn(s)):o!=null&&t.removeAttribute("value"),d==null&&g!=null&&(t.defaultChecked=!!g),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Tn(x):t.removeAttribute("name")}function jh(t,r,s,o,d,g,_,x){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),r!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;s=s!=null?""+Tn(s):"",r=r!=null?""+Tn(r):s,x||r===t.value||(t.value=r),t.defaultValue=r}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=x?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Bu(t,r,s){r==="number"&&Hl(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ja(t,r,s,o){if(t=t.options,r){r={};for(var d=0;d<s.length;d++)r["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=r.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Tn(s),r=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function Mh(t,r,s){if(r!=null&&(r=""+Tn(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+Tn(s):""}function kh(t,r,s,o){if(r==null){if(o!=null){if(s!=null)throw Error(i(92));if(_e(o)){if(1<o.length)throw Error(i(93));o=o[0]}s=o}s==null&&(s=""),r=s}s=Tn(r),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o)}function ei(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Eb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lh(t,r,s){var o=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,s):typeof s!="number"||s===0||Eb.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Uh(t,r,s){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in r)o=r[d],r.hasOwnProperty(d)&&s[d]!==o&&Lh(t,d,o)}else for(var g in r)r.hasOwnProperty(g)&&Lh(t,g,r[g])}function Iu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vl(t){return Tb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var qu=null;function Gu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ti=null,ni=null;function Ph(t){var r=Xa(t);if(r&&(t=r.stateNode)){var s=t[lt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Vu(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Rn(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var o=s[r];if(o!==t&&o.form===t.form){var d=o[lt]||null;if(!d)throw Error(i(90));Vu(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<s.length;r++)o=s[r],o.form===t.form&&Nh(o)}break e;case"textarea":Mh(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Ja(t,!!s.multiple,r,!1)}}}var Yu=!1;function $h(t,r,s){if(Yu)return t(r,s);Yu=!0;try{var o=t(r);return o}finally{if(Yu=!1,(ti!==null||ni!==null)&&(Ao(),ti&&(r=ti,t=ni,ni=ti=null,Ph(r),t)))for(r=0;r<t.length;r++)Ph(t[r])}}function is(t,r){var s=t.stateNode;if(s===null)return null;var o=s[lt]||null;if(o===null)return null;s=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,r,typeof s));return s}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ku=!1;if(mr)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Ku=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Ku=!1}var Fr=null,Xu=null,Bl=null;function zh(){if(Bl)return Bl;var t,r=Xu,s=r.length,o,d="value"in Fr?Fr.value:Fr.textContent,g=d.length;for(t=0;t<s&&r[t]===d[t];t++);var _=s-t;for(o=1;o<=_&&r[s-o]===d[g-o];o++);return Bl=d.slice(t,1<o?1-o:void 0)}function Il(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ql(){return!0}function Fh(){return!1}function un(t){function r(s,o,d,g,_){this._reactName=s,this._targetInst=d,this.type=o,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(s=t[x],this[x]=s?s(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ql:Fh,this.isPropagationStopped=Fh,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),r}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=un(Ea),ls=v({},Ea,{view:0,detail:0}),Rb=un(ls),Wu,Qu,os,Yl=v({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ju,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==os&&(os&&t.type==="mousemove"?(Wu=t.screenX-os.screenX,Qu=t.screenY-os.screenY):Qu=Wu=0,os=t),Wu)},movementY:function(t){return"movementY"in t?t.movementY:Qu}}),Hh=un(Yl),Ab=v({},Yl,{dataTransfer:0}),Ob=un(Ab),Db=v({},ls,{relatedTarget:0}),Zu=un(Db),Nb=v({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),jb=un(Nb),Mb=v({},Ea,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kb=un(Mb),Lb=v({},Ea,{data:0}),Vh=un(Lb),Ub={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$b={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zb(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=$b[t])?!!r[t]:!1}function Ju(){return zb}var Fb=v({},ls,{key:function(t){if(t.key){var r=Ub[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Il(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ju,charCode:function(t){return t.type==="keypress"?Il(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Il(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hb=un(Fb),Vb=v({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bh=un(Vb),Bb=v({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ju}),Ib=un(Bb),qb=v({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gb=un(qb),Yb=v({},Yl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kb=un(Yb),Xb=v({},Ea,{newState:0,oldState:0}),Wb=un(Xb),Qb=[9,13,27,32],ec=mr&&"CompositionEvent"in window,us=null;mr&&"documentMode"in document&&(us=document.documentMode);var Zb=mr&&"TextEvent"in window&&!us,Ih=mr&&(!ec||us&&8<us&&11>=us),qh=" ",Gh=!1;function Yh(t,r){switch(t){case"keyup":return Qb.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ri=!1;function Jb(t,r){switch(t){case"compositionend":return Kh(r);case"keypress":return r.which!==32?null:(Gh=!0,qh);case"textInput":return t=r.data,t===qh&&Gh?null:t;default:return null}}function e0(t,r){if(ri)return t==="compositionend"||!ec&&Yh(t,r)?(t=zh(),Bl=Xu=Fr=null,ri=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ih&&r.locale!=="ko"?null:r.data;default:return null}}var t0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!t0[t.type]:r==="textarea"}function Wh(t,r,s,o){ti?ni?ni.push(o):ni=[o]:ti=o,r=ko(r,"onChange"),0<r.length&&(s=new Gl("onChange","change",null,s,o),t.push({event:s,listeners:r}))}var cs=null,ds=null;function n0(t){Dp(t,0)}function Kl(t){var r=as(t);if(Nh(r))return t}function Qh(t,r){if(t==="change")return r}var Zh=!1;if(mr){var tc;if(mr){var nc="oninput"in document;if(!nc){var Jh=document.createElement("div");Jh.setAttribute("oninput","return;"),nc=typeof Jh.oninput=="function"}tc=nc}else tc=!1;Zh=tc&&(!document.documentMode||9<document.documentMode)}function eg(){cs&&(cs.detachEvent("onpropertychange",tg),ds=cs=null)}function tg(t){if(t.propertyName==="value"&&Kl(ds)){var r=[];Wh(r,ds,t,Gu(t)),$h(n0,r)}}function r0(t,r,s){t==="focusin"?(eg(),cs=r,ds=s,cs.attachEvent("onpropertychange",tg)):t==="focusout"&&eg()}function a0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kl(ds)}function i0(t,r){if(t==="click")return Kl(r)}function s0(t,r){if(t==="input"||t==="change")return Kl(r)}function l0(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var pn=typeof Object.is=="function"?Object.is:l0;function fs(t,r){if(pn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),o=Object.keys(r);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var d=s[o];if(!re.call(r,d)||!pn(t[d],r[d]))return!1}return!0}function ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rg(t,r){var s=ng(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=r&&o>=r)return{node:s,offset:r-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ng(s)}}function ag(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ag(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ig(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Hl(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=Hl(t.document)}return r}function rc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var o0=mr&&"documentMode"in document&&11>=document.documentMode,ai=null,ac=null,hs=null,ic=!1;function sg(t,r,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ic||ai==null||ai!==Hl(o)||(o=ai,"selectionStart"in o&&rc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),hs&&fs(hs,o)||(hs=o,o=ko(ac,"onSelect"),0<o.length&&(r=new Gl("onSelect","select",null,r,s),t.push({event:r,listeners:o}),r.target=ai)))}function Ca(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var ii={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},sc={},lg={};mr&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function Ta(t){if(sc[t])return sc[t];if(!ii[t])return t;var r=ii[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in lg)return sc[t]=r[s];return t}var og=Ta("animationend"),ug=Ta("animationiteration"),cg=Ta("animationstart"),u0=Ta("transitionrun"),c0=Ta("transitionstart"),d0=Ta("transitioncancel"),dg=Ta("transitionend"),fg=new Map,lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lc.push("scrollEnd");function Fn(t,r){fg.set(t,r),xa(r,[t])}var hg=new WeakMap;function An(t,r){if(typeof t=="object"&&t!==null){var s=hg.get(t);return s!==void 0?s:(r={value:t,source:r,stack:Oh(r)},hg.set(t,r),r)}return{value:t,source:r,stack:Oh(r)}}var On=[],si=0,oc=0;function Xl(){for(var t=si,r=oc=si=0;r<t;){var s=On[r];On[r++]=null;var o=On[r];On[r++]=null;var d=On[r];On[r++]=null;var g=On[r];if(On[r++]=null,o!==null&&d!==null){var _=o.pending;_===null?d.next=d:(d.next=_.next,_.next=d),o.pending=d}g!==0&&gg(s,d,g)}}function Wl(t,r,s,o){On[si++]=t,On[si++]=r,On[si++]=s,On[si++]=o,oc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function uc(t,r,s,o){return Wl(t,r,s,o),Ql(t)}function li(t,r){return Wl(t,null,null,r),Ql(t)}function gg(t,r,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var d=!1,g=t.return;g!==null;)g.childLanes|=s,o=g.alternate,o!==null&&(o.childLanes|=s),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(d=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,d&&r!==null&&(d=31-Ue(s),t=g.hiddenUpdates,o=t[d],o===null?t[d]=[r]:o.push(r),r.lane=s|536870912),g):null}function Ql(t){if(50<$s)throw $s=0,md=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var oi={};function f0(t,r,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,r,s,o){return new f0(t,r,s,o)}function cc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pr(t,r){var s=t.alternate;return s===null?(s=vn(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function mg(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Zl(t,r,s,o,d,g){var _=0;if(o=t,typeof t=="function")cc(t)&&(_=1);else if(typeof t=="string")_=gw(t,s,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ne:return t=vn(31,s,r,d),t.elementType=ne,t.lanes=g,t;case S:return Ra(s.children,d,g,r);case C:_=8,d|=24;break;case R:return t=vn(12,s,r,d|2),t.elementType=R,t.lanes=g,t;case k:return t=vn(13,s,r,d),t.elementType=k,t.lanes=g,t;case V:return t=vn(19,s,r,d),t.elementType=V,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:case T:_=10;break e;case L:_=9;break e;case M:_=11;break e;case P:_=14;break e;case X:_=16,o=null;break e}_=29,s=Error(i(130,t===null?"null":typeof t,"")),o=null}return r=vn(_,s,r,d),r.elementType=t,r.type=o,r.lanes=g,r}function Ra(t,r,s,o){return t=vn(7,t,o,r),t.lanes=s,t}function dc(t,r,s){return t=vn(6,t,null,r),t.lanes=s,t}function fc(t,r,s){return r=vn(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ui=[],ci=0,Jl=null,eo=0,Dn=[],Nn=0,Aa=null,vr=1,yr="";function Oa(t,r){ui[ci++]=eo,ui[ci++]=Jl,Jl=t,eo=r}function pg(t,r,s){Dn[Nn++]=vr,Dn[Nn++]=yr,Dn[Nn++]=Aa,Aa=t;var o=vr;t=yr;var d=32-Ue(o)-1;o&=~(1<<d),s+=1;var g=32-Ue(r)+d;if(30<g){var _=d-d%5;g=(o&(1<<_)-1).toString(32),o>>=_,d-=_,vr=1<<32-Ue(r)+d|s<<d|o,yr=g+t}else vr=1<<g|s<<d|o,yr=t}function hc(t){t.return!==null&&(Oa(t,1),pg(t,1,0))}function gc(t){for(;t===Jl;)Jl=ui[--ci],ui[ci]=null,eo=ui[--ci],ui[ci]=null;for(;t===Aa;)Aa=Dn[--Nn],Dn[Nn]=null,yr=Dn[--Nn],Dn[Nn]=null,vr=Dn[--Nn],Dn[Nn]=null}var an=null,yt=null,Ge=!1,Da=null,nr=!1,mc=Error(i(519));function Na(t){var r=Error(i(418,""));throw ps(An(r,t)),mc}function vg(t){var r=t.stateNode,s=t.type,o=t.memoizedProps;switch(r[st]=t,r[lt]=o,s){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(s=0;s<Fs.length;s++)ze(Fs[s],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ze("invalid",r),jh(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Fl(r);break;case"select":ze("invalid",r);break;case"textarea":ze("invalid",r),kh(r,o.value,o.defaultValue,o.children),Fl(r)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||o.suppressHydrationWarning===!0||kp(r.textContent,s)?(o.popover!=null&&(ze("beforetoggle",r),ze("toggle",r)),o.onScroll!=null&&ze("scroll",r),o.onScrollEnd!=null&&ze("scrollend",r),o.onClick!=null&&(r.onclick=Lo),r=!0):r=!1,r||Na(t)}function yg(t){for(an=t.return;an;)switch(an.tag){case 5:case 13:nr=!1;return;case 27:case 3:nr=!0;return;default:an=an.return}}function gs(t){if(t!==an)return!1;if(!Ge)return yg(t),Ge=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Nd(t.type,t.memoizedProps)),s=!s),s&&yt&&Na(t),yg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){yt=Vn(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}yt=null}}else r===27?(r=yt,na(t.type)?(t=Ld,Ld=null,yt=t):yt=r):yt=an?Vn(t.stateNode.nextSibling):null;return!0}function ms(){yt=an=null,Ge=!1}function _g(){var t=Da;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Da=null),t}function ps(t){Da===null?Da=[t]:Da.push(t)}var pc=Y(null),ja=null,_r=null;function Hr(t,r,s){Q(pc,r._currentValue),r._currentValue=s}function br(t){t._currentValue=pc.current,G(pc)}function vc(t,r,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===s)break;t=t.return}}function yc(t,r,s,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var g=d.dependencies;if(g!==null){var _=d.child;g=g.firstContext;e:for(;g!==null;){var x=g;g=d;for(var O=0;O<r.length;O++)if(x.context===r[O]){g.lanes|=s,x=g.alternate,x!==null&&(x.lanes|=s),vc(g.return,s,t),o||(_=null);break e}g=x.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(i(341));_.lanes|=s,g=_.alternate,g!==null&&(g.lanes|=s),vc(_,s,t),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===t){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function vs(t,r,s,o){t=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var x=d.type;pn(d.pendingProps.value,_.value)||(t!==null?t.push(x):t=[x])}}else if(d===mt.current){if(_=d.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Gs):t=[Gs])}d=d.return}t!==null&&yc(r,t,s,o),r.flags|=262144}function to(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ma(t){ja=t,_r=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return bg(ja,t)}function no(t,r){return ja===null&&Ma(t),bg(t,r)}function bg(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},_r===null){if(t===null)throw Error(i(308));_r=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else _r=_r.next=r;return s}var h0=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},g0=e.unstable_scheduleCallback,m0=e.unstable_NormalPriority,Nt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _c(){return{controller:new h0,data:new Map,refCount:0}}function ys(t){t.refCount--,t.refCount===0&&g0(m0,function(){t.controller.abort()})}var _s=null,bc=0,di=0,fi=null;function p0(t,r){if(_s===null){var s=_s=[];bc=0,di=Sd(),fi={status:"pending",value:void 0,then:function(o){s.push(o)}}}return bc++,r.then(wg,wg),r}function wg(){if(--bc===0&&_s!==null){fi!==null&&(fi.status="fulfilled");var t=_s;_s=null,di=0,fi=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function v0(t,r){var s=[],o={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var d=0;d<s.length;d++)(0,s[d])(r)},function(d){for(o.status="rejected",o.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),o}var Sg=B.S;B.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&p0(t,r),Sg!==null&&Sg(t,r)};var ka=Y(null);function wc(){var t=ka.current;return t!==null?t:at.pooledCache}function ro(t,r){r===null?Q(ka,ka.current):Q(ka,r.pool)}function xg(){var t=wc();return t===null?null:{parent:Nt._currentValue,pool:t}}var bs=Error(i(460)),Eg=Error(i(474)),ao=Error(i(542)),Sc={then:function(){}};function Cg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function io(){}function Tg(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(io,io),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ag(t),t;default:if(typeof r.status=="string")r.then(io,io);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=o}},function(o){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ag(t),t}throw ws=r,bs}}var ws=null;function Rg(){if(ws===null)throw Error(i(459));var t=ws;return ws=null,t}function Ag(t){if(t===bs||t===ao)throw Error(i(483))}var Vr=!1;function xc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ec(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Br(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(t,r,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ye&2)!==0){var d=o.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),o.pending=r,r=Ql(t),gg(t,null,s),r}return Wl(t,o,r,s),Ql(t)}function Ss(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,zn(t,s)}}function Cc(t,r){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var d=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?d=g=_:g=g.next=_,s=s.next}while(s!==null);g===null?d=g=r:g=g.next=r}else d=g=r;s={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Tc=!1;function xs(){if(Tc){var t=fi;if(t!==null)throw t}}function Es(t,r,s,o){Tc=!1;var d=t.updateQueue;Vr=!1;var g=d.firstBaseUpdate,_=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var O=x,F=O.next;O.next=null,_===null?g=F:_.next=F,_=O;var K=t.alternate;K!==null&&(K=K.updateQueue,x=K.lastBaseUpdate,x!==_&&(x===null?K.firstBaseUpdate=F:x.next=F,K.lastBaseUpdate=O))}if(g!==null){var Z=d.baseState;_=0,K=F=O=null,x=g;do{var H=x.lane&-536870913,I=H!==x.lane;if(I?(He&H)===H:(o&H)===H){H!==0&&H===di&&(Tc=!0),K!==null&&(K=K.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Re=t,Ce=x;H=r;var Ze=s;switch(Ce.tag){case 1:if(Re=Ce.payload,typeof Re=="function"){Z=Re.call(Ze,Z,H);break e}Z=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ce.payload,H=typeof Re=="function"?Re.call(Ze,Z,H):Re,H==null)break e;Z=v({},Z,H);break e;case 2:Vr=!0}}H=x.callback,H!==null&&(t.flags|=64,I&&(t.flags|=8192),I=d.callbacks,I===null?d.callbacks=[H]:I.push(H))}else I={lane:H,tag:x.tag,payload:x.payload,callback:x.callback,next:null},K===null?(F=K=I,O=Z):K=K.next=I,_|=H;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;I=x,x=I.next,I.next=null,d.lastBaseUpdate=I,d.shared.pending=null}}while(!0);K===null&&(O=Z),d.baseState=O,d.firstBaseUpdate=F,d.lastBaseUpdate=K,g===null&&(d.shared.lanes=0),Zr|=_,t.lanes=_,t.memoizedState=Z}}function Og(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function Dg(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Og(s[t],r)}var hi=Y(null),so=Y(0);function Ng(t,r){t=Rr,Q(so,t),Q(hi,r),Rr=t|r.baseLanes}function Rc(){Q(so,Rr),Q(hi,hi.current)}function Ac(){Rr=so.current,G(hi),G(so)}var qr=0,ke=null,We=null,Ct=null,lo=!1,gi=!1,La=!1,oo=0,Cs=0,mi=null,y0=0;function wt(){throw Error(i(321))}function Oc(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!pn(t[s],r[s]))return!1;return!0}function Dc(t,r,s,o,d,g){return qr=g,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,B.H=t===null||t.memoizedState===null?gm:mm,La=!1,g=s(o,d),La=!1,gi&&(g=Mg(r,s,o,d)),jg(t),g}function jg(t){B.H=mo;var r=We!==null&&We.next!==null;if(qr=0,Ct=We=ke=null,lo=!1,Cs=0,mi=null,r)throw Error(i(300));t===null||$t||(t=t.dependencies,t!==null&&to(t)&&($t=!0))}function Mg(t,r,s,o){ke=t;var d=0;do{if(gi&&(mi=null),Cs=0,gi=!1,25<=d)throw Error(i(301));if(d+=1,Ct=We=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=C0,g=r(s,o)}while(gi);return g}function _0(){var t=B.H,r=t.useState()[0];return r=typeof r.then=="function"?Ts(r):r,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(ke.flags|=1024),r}function Nc(){var t=oo!==0;return oo=0,t}function jc(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function Mc(t){if(lo){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}lo=!1}qr=0,Ct=We=ke=null,gi=!1,Cs=oo=0,mi=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?ke.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Tt(){if(We===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var r=Ct===null?ke.memoizedState:Ct.next;if(r!==null)Ct=r,We=t;else{if(t===null)throw ke.alternate===null?Error(i(467)):Error(i(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ct===null?ke.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ts(t){var r=Cs;return Cs+=1,mi===null&&(mi=[]),t=Tg(mi,t,r),r=ke,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,B.H=r===null||r.memoizedState===null?gm:mm),t}function uo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ts(t);if(t.$$typeof===T)return en(t)}throw Error(i(438,String(t)))}function Lc(t){var r=null,s=ke.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var o=ke.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=kc(),ke.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),o=0;o<t;o++)s[o]=ue;return r.index++,s}function wr(t,r){return typeof r=="function"?r(t):r}function co(t){var r=Tt();return Uc(r,We,t)}function Uc(t,r,s){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var d=t.baseQueue,g=o.pending;if(g!==null){if(d!==null){var _=d.next;d.next=g.next,g.next=_}r.baseQueue=d=g,o.pending=null}if(g=t.baseState,d===null)t.memoizedState=g;else{r=d.next;var x=_=null,O=null,F=r,K=!1;do{var Z=F.lane&-536870913;if(Z!==F.lane?(He&Z)===Z:(qr&Z)===Z){var H=F.revertLane;if(H===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),Z===di&&(K=!0);else if((qr&H)===H){F=F.next,H===di&&(K=!0);continue}else Z={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(x=O=Z,_=g):O=O.next=Z,ke.lanes|=H,Zr|=H;Z=F.action,La&&s(g,Z),g=F.hasEagerState?F.eagerState:s(g,Z)}else H={lane:Z,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(x=O=H,_=g):O=O.next=H,ke.lanes|=Z,Zr|=Z;F=F.next}while(F!==null&&F!==r);if(O===null?_=g:O.next=x,!pn(g,t.memoizedState)&&($t=!0,K&&(s=fi,s!==null)))throw s;t.memoizedState=g,t.baseState=_,t.baseQueue=O,o.lastRenderedState=g}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Pc(t){var r=Tt(),s=r.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var o=s.dispatch,d=s.pending,g=r.memoizedState;if(d!==null){s.pending=null;var _=d=d.next;do g=t(g,_.action),_=_.next;while(_!==d);pn(g,r.memoizedState)||($t=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),s.lastRenderedState=g}return[g,o]}function kg(t,r,s){var o=ke,d=Tt(),g=Ge;if(g){if(s===void 0)throw Error(i(407));s=s()}else s=r();var _=!pn((We||d).memoizedState,s);_&&(d.memoizedState=s,$t=!0),d=d.queue;var x=Pg.bind(null,o,d,t);if(Rs(2048,8,x,[t]),d.getSnapshot!==r||_||Ct!==null&&Ct.memoizedState.tag&1){if(o.flags|=2048,pi(9,fo(),Ug.bind(null,o,d,s,r),null),at===null)throw Error(i(349));g||(qr&124)!==0||Lg(o,r,s)}return s}function Lg(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=ke.updateQueue,r===null?(r=kc(),ke.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function Ug(t,r,s,o){r.value=s,r.getSnapshot=o,$g(r)&&zg(t)}function Pg(t,r,s){return s(function(){$g(r)&&zg(t)})}function $g(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!pn(t,s)}catch{return!0}}function zg(t){var r=li(t,2);r!==null&&Sn(r,t,2)}function $c(t){var r=cn();if(typeof t=="function"){var s=t;if(t=s(),La){Ee(!0);try{s()}finally{Ee(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:t},r}function Fg(t,r,s,o){return t.baseState=s,Uc(t,We,typeof o=="function"?o:wr)}function b0(t,r,s,o,d){if(go(t))throw Error(i(485));if(t=r.action,t!==null){var g={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};B.T!==null?s(!0):g.isTransition=!1,o(g),s=r.pending,s===null?(g.next=r.pending=g,Hg(r,g)):(g.next=s.next,r.pending=s.next=g)}}function Hg(t,r){var s=r.action,o=r.payload,d=t.state;if(r.isTransition){var g=B.T,_={};B.T=_;try{var x=s(d,o),O=B.S;O!==null&&O(_,x),Vg(t,r,x)}catch(F){zc(t,r,F)}finally{B.T=g}}else try{g=s(d,o),Vg(t,r,g)}catch(F){zc(t,r,F)}}function Vg(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Bg(t,r,o)},function(o){return zc(t,r,o)}):Bg(t,r,s)}function Bg(t,r,s){r.status="fulfilled",r.value=s,Ig(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,Hg(t,s)))}function zc(t,r,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=s,Ig(r),r=r.next;while(r!==o)}t.action=null}function Ig(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function qg(t,r){return r}function Gg(t,r){if(Ge){var s=at.formState;if(s!==null){e:{var o=ke;if(Ge){if(yt){t:{for(var d=yt,g=nr;d.nodeType!==8;){if(!g){d=null;break t}if(d=Vn(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){yt=Vn(d.nextSibling),o=d.data==="F!";break e}}Na(o)}o=!1}o&&(r=s[0])}}return s=cn(),s.memoizedState=s.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qg,lastRenderedState:r},s.queue=o,s=dm.bind(null,ke,o),o.dispatch=s,o=$c(!1),g=Ic.bind(null,ke,!1,o.queue),o=cn(),d={state:r,dispatch:null,action:t,pending:null},o.queue=d,s=b0.bind(null,ke,d,g,s),d.dispatch=s,o.memoizedState=t,[r,s,!1]}function Yg(t){var r=Tt();return Kg(r,We,t)}function Kg(t,r,s){if(r=Uc(t,r,qg)[0],t=co(wr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=Ts(r)}catch(_){throw _===bs?ao:_}else o=r;r=Tt();var d=r.queue,g=d.dispatch;return s!==r.memoizedState&&(ke.flags|=2048,pi(9,fo(),w0.bind(null,d,s),null)),[o,g,t]}function w0(t,r){t.action=r}function Xg(t){var r=Tt(),s=We;if(s!==null)return Kg(r,s,t);Tt(),r=r.memoizedState,s=Tt();var o=s.queue.dispatch;return s.memoizedState=t,[r,o,!1]}function pi(t,r,s,o){return t={tag:t,create:s,deps:o,inst:r,next:null},r=ke.updateQueue,r===null&&(r=kc(),ke.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,r.lastEffect=t),t}function fo(){return{destroy:void 0,resource:void 0}}function Wg(){return Tt().memoizedState}function ho(t,r,s,o){var d=cn();o=o===void 0?null:o,ke.flags|=t,d.memoizedState=pi(1|r,fo(),s,o)}function Rs(t,r,s,o){var d=Tt();o=o===void 0?null:o;var g=d.memoizedState.inst;We!==null&&o!==null&&Oc(o,We.memoizedState.deps)?d.memoizedState=pi(r,g,s,o):(ke.flags|=t,d.memoizedState=pi(1|r,g,s,o))}function Qg(t,r){ho(8390656,8,t,r)}function Zg(t,r){Rs(2048,8,t,r)}function Jg(t,r){return Rs(4,2,t,r)}function em(t,r){return Rs(4,4,t,r)}function tm(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function nm(t,r,s){s=s!=null?s.concat([t]):null,Rs(4,4,tm.bind(null,r,t),s)}function Fc(){}function rm(t,r){var s=Tt();r=r===void 0?null:r;var o=s.memoizedState;return r!==null&&Oc(r,o[1])?o[0]:(s.memoizedState=[t,r],t)}function am(t,r){var s=Tt();r=r===void 0?null:r;var o=s.memoizedState;if(r!==null&&Oc(r,o[1]))return o[0];if(o=t(),La){Ee(!0);try{t()}finally{Ee(!1)}}return s.memoizedState=[o,r],o}function Hc(t,r,s){return s===void 0||(qr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=lp(),ke.lanes|=t,Zr|=t,s)}function im(t,r,s,o){return pn(s,r)?s:hi.current!==null?(t=Hc(t,s,o),pn(t,r)||($t=!0),t):(qr&42)===0?($t=!0,t.memoizedState=s):(t=lp(),ke.lanes|=t,Zr|=t,r)}function sm(t,r,s,o,d){var g=J.p;J.p=g!==0&&8>g?g:8;var _=B.T,x={};B.T=x,Ic(t,!1,r,s);try{var O=d(),F=B.S;if(F!==null&&F(x,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var K=v0(O,o);As(t,r,K,wn(t))}else As(t,r,o,wn(t))}catch(Z){As(t,r,{then:function(){},status:"rejected",reason:Z},wn())}finally{J.p=g,B.T=_}}function S0(){}function Vc(t,r,s,o){if(t.tag!==5)throw Error(i(476));var d=lm(t).queue;sm(t,d,r,fe,s===null?S0:function(){return om(t),s(o)})}function lm(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:fe},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function om(t){var r=lm(t).next.queue;As(t,r,{},wn())}function Bc(){return en(Gs)}function um(){return Tt().memoizedState}function cm(){return Tt().memoizedState}function x0(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=wn();t=Br(s);var o=Ir(r,t,s);o!==null&&(Sn(o,r,s),Ss(o,r,s)),r={cache:_c()},t.payload=r;return}r=r.return}}function E0(t,r,s){var o=wn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},go(t)?fm(r,s):(s=uc(t,r,s,o),s!==null&&(Sn(s,t,o),hm(s,r,o)))}function dm(t,r,s){var o=wn();As(t,r,s,o)}function As(t,r,s,o){var d={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(go(t))fm(r,d);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var _=r.lastRenderedState,x=g(_,s);if(d.hasEagerState=!0,d.eagerState=x,pn(x,_))return Wl(t,r,d,0),at===null&&Xl(),!1}catch{}finally{}if(s=uc(t,r,d,o),s!==null)return Sn(s,t,o),hm(s,r,o),!0}return!1}function Ic(t,r,s,o){if(o={lane:2,revertLane:Sd(),action:o,hasEagerState:!1,eagerState:null,next:null},go(t)){if(r)throw Error(i(479))}else r=uc(t,s,o,2),r!==null&&Sn(r,t,2)}function go(t){var r=t.alternate;return t===ke||r!==null&&r===ke}function fm(t,r){gi=lo=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function hm(t,r,s){if((s&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,s|=o,r.lanes=s,zn(t,s)}}var mo={readContext:en,use:uo,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},gm={readContext:en,use:uo,useCallback:function(t,r){return cn().memoizedState=[t,r===void 0?null:r],t},useContext:en,useEffect:Qg,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,ho(4194308,4,tm.bind(null,r,t),s)},useLayoutEffect:function(t,r){return ho(4194308,4,t,r)},useInsertionEffect:function(t,r){ho(4,2,t,r)},useMemo:function(t,r){var s=cn();r=r===void 0?null:r;var o=t();if(La){Ee(!0);try{t()}finally{Ee(!1)}}return s.memoizedState=[o,r],o},useReducer:function(t,r,s){var o=cn();if(s!==void 0){var d=s(r);if(La){Ee(!0);try{s(r)}finally{Ee(!1)}}}else d=r;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=E0.bind(null,ke,t),[o.memoizedState,t]},useRef:function(t){var r=cn();return t={current:t},r.memoizedState=t},useState:function(t){t=$c(t);var r=t.queue,s=dm.bind(null,ke,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:Fc,useDeferredValue:function(t,r){var s=cn();return Hc(s,t,r)},useTransition:function(){var t=$c(!1);return t=sm.bind(null,ke,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var o=ke,d=cn();if(Ge){if(s===void 0)throw Error(i(407));s=s()}else{if(s=r(),at===null)throw Error(i(349));(He&124)!==0||Lg(o,r,s)}d.memoizedState=s;var g={value:s,getSnapshot:r};return d.queue=g,Qg(Pg.bind(null,o,g,t),[t]),o.flags|=2048,pi(9,fo(),Ug.bind(null,o,g,s,r),null),s},useId:function(){var t=cn(),r=at.identifierPrefix;if(Ge){var s=yr,o=vr;s=(o&~(1<<32-Ue(o)-1)).toString(32)+s,r="«"+r+"R"+s,s=oo++,0<s&&(r+="H"+s.toString(32)),r+="»"}else s=y0++,r="«"+r+"r"+s.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:Bc,useFormState:Gg,useActionState:Gg,useOptimistic:function(t){var r=cn();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Ic.bind(null,ke,!0,s),s.dispatch=r,[t,r]},useMemoCache:Lc,useCacheRefresh:function(){return cn().memoizedState=x0.bind(null,ke)}},mm={readContext:en,use:uo,useCallback:rm,useContext:en,useEffect:Zg,useImperativeHandle:nm,useInsertionEffect:Jg,useLayoutEffect:em,useMemo:am,useReducer:co,useRef:Wg,useState:function(){return co(wr)},useDebugValue:Fc,useDeferredValue:function(t,r){var s=Tt();return im(s,We.memoizedState,t,r)},useTransition:function(){var t=co(wr)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:Ts(t),r]},useSyncExternalStore:kg,useId:um,useHostTransitionStatus:Bc,useFormState:Yg,useActionState:Yg,useOptimistic:function(t,r){var s=Tt();return Fg(s,We,t,r)},useMemoCache:Lc,useCacheRefresh:cm},C0={readContext:en,use:uo,useCallback:rm,useContext:en,useEffect:Zg,useImperativeHandle:nm,useInsertionEffect:Jg,useLayoutEffect:em,useMemo:am,useReducer:Pc,useRef:Wg,useState:function(){return Pc(wr)},useDebugValue:Fc,useDeferredValue:function(t,r){var s=Tt();return We===null?Hc(s,t,r):im(s,We.memoizedState,t,r)},useTransition:function(){var t=Pc(wr)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:Ts(t),r]},useSyncExternalStore:kg,useId:um,useHostTransitionStatus:Bc,useFormState:Xg,useActionState:Xg,useOptimistic:function(t,r){var s=Tt();return We!==null?Fg(s,We,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Lc,useCacheRefresh:cm},vi=null,Os=0;function po(t){var r=Os;return Os+=1,vi===null&&(vi=[]),Tg(vi,t,r)}function Ds(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function vo(t,r){throw r.$$typeof===y?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function pm(t){var r=t._init;return r(t._payload)}function vm(t){function r(U,j){if(t){var z=U.deletions;z===null?(U.deletions=[j],U.flags|=16):z.push(j)}}function s(U,j){if(!t)return null;for(;j!==null;)r(U,j),j=j.sibling;return null}function o(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function d(U,j){return U=pr(U,j),U.index=0,U.sibling=null,U}function g(U,j,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<j?(U.flags|=67108866,j):z):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function x(U,j,z,W){return j===null||j.tag!==6?(j=dc(z,U.mode,W),j.return=U,j):(j=d(j,z),j.return=U,j)}function O(U,j,z,W){var me=z.type;return me===S?K(U,j,z.props.children,W,z.key):j!==null&&(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===X&&pm(me)===j.type)?(j=d(j,z.props),Ds(j,z),j.return=U,j):(j=Zl(z.type,z.key,z.props,null,U.mode,W),Ds(j,z),j.return=U,j)}function F(U,j,z,W){return j===null||j.tag!==4||j.stateNode.containerInfo!==z.containerInfo||j.stateNode.implementation!==z.implementation?(j=fc(z,U.mode,W),j.return=U,j):(j=d(j,z.children||[]),j.return=U,j)}function K(U,j,z,W,me){return j===null||j.tag!==7?(j=Ra(z,U.mode,W,me),j.return=U,j):(j=d(j,z),j.return=U,j)}function Z(U,j,z){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=dc(""+j,U.mode,z),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return z=Zl(j.type,j.key,j.props,null,U.mode,z),Ds(z,j),z.return=U,z;case b:return j=fc(j,U.mode,z),j.return=U,j;case X:var W=j._init;return j=W(j._payload),Z(U,j,z)}if(_e(j)||ee(j))return j=Ra(j,U.mode,z,null),j.return=U,j;if(typeof j.then=="function")return Z(U,po(j),z);if(j.$$typeof===T)return Z(U,no(U,j),z);vo(U,j)}return null}function H(U,j,z,W){var me=j!==null?j.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:x(U,j,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===me?O(U,j,z,W):null;case b:return z.key===me?F(U,j,z,W):null;case X:return me=z._init,z=me(z._payload),H(U,j,z,W)}if(_e(z)||ee(z))return me!==null?null:K(U,j,z,W,null);if(typeof z.then=="function")return H(U,j,po(z),W);if(z.$$typeof===T)return H(U,j,no(U,z),W);vo(U,z)}return null}function I(U,j,z,W,me){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(z)||null,x(j,U,""+W,me);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return U=U.get(W.key===null?z:W.key)||null,O(j,U,W,me);case b:return U=U.get(W.key===null?z:W.key)||null,F(j,U,W,me);case X:var Pe=W._init;return W=Pe(W._payload),I(U,j,z,W,me)}if(_e(W)||ee(W))return U=U.get(z)||null,K(j,U,W,me,null);if(typeof W.then=="function")return I(U,j,z,po(W),me);if(W.$$typeof===T)return I(U,j,z,no(j,W),me);vo(j,W)}return null}function Re(U,j,z,W){for(var me=null,Pe=null,be=j,Te=j=0,Ft=null;be!==null&&Te<z.length;Te++){be.index>Te?(Ft=be,be=null):Ft=be.sibling;var Be=H(U,be,z[Te],W);if(Be===null){be===null&&(be=Ft);break}t&&be&&Be.alternate===null&&r(U,be),j=g(Be,j,Te),Pe===null?me=Be:Pe.sibling=Be,Pe=Be,be=Ft}if(Te===z.length)return s(U,be),Ge&&Oa(U,Te),me;if(be===null){for(;Te<z.length;Te++)be=Z(U,z[Te],W),be!==null&&(j=g(be,j,Te),Pe===null?me=be:Pe.sibling=be,Pe=be);return Ge&&Oa(U,Te),me}for(be=o(be);Te<z.length;Te++)Ft=I(be,U,Te,z[Te],W),Ft!==null&&(t&&Ft.alternate!==null&&be.delete(Ft.key===null?Te:Ft.key),j=g(Ft,j,Te),Pe===null?me=Ft:Pe.sibling=Ft,Pe=Ft);return t&&be.forEach(function(la){return r(U,la)}),Ge&&Oa(U,Te),me}function Ce(U,j,z,W){if(z==null)throw Error(i(151));for(var me=null,Pe=null,be=j,Te=j=0,Ft=null,Be=z.next();be!==null&&!Be.done;Te++,Be=z.next()){be.index>Te?(Ft=be,be=null):Ft=be.sibling;var la=H(U,be,Be.value,W);if(la===null){be===null&&(be=Ft);break}t&&be&&la.alternate===null&&r(U,be),j=g(la,j,Te),Pe===null?me=la:Pe.sibling=la,Pe=la,be=Ft}if(Be.done)return s(U,be),Ge&&Oa(U,Te),me;if(be===null){for(;!Be.done;Te++,Be=z.next())Be=Z(U,Be.value,W),Be!==null&&(j=g(Be,j,Te),Pe===null?me=Be:Pe.sibling=Be,Pe=Be);return Ge&&Oa(U,Te),me}for(be=o(be);!Be.done;Te++,Be=z.next())Be=I(be,U,Te,Be.value,W),Be!==null&&(t&&Be.alternate!==null&&be.delete(Be.key===null?Te:Be.key),j=g(Be,j,Te),Pe===null?me=Be:Pe.sibling=Be,Pe=Be);return t&&be.forEach(function(Tw){return r(U,Tw)}),Ge&&Oa(U,Te),me}function Ze(U,j,z,W){if(typeof z=="object"&&z!==null&&z.type===S&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:e:{for(var me=z.key;j!==null;){if(j.key===me){if(me=z.type,me===S){if(j.tag===7){s(U,j.sibling),W=d(j,z.props.children),W.return=U,U=W;break e}}else if(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===X&&pm(me)===j.type){s(U,j.sibling),W=d(j,z.props),Ds(W,z),W.return=U,U=W;break e}s(U,j);break}else r(U,j);j=j.sibling}z.type===S?(W=Ra(z.props.children,U.mode,W,z.key),W.return=U,U=W):(W=Zl(z.type,z.key,z.props,null,U.mode,W),Ds(W,z),W.return=U,U=W)}return _(U);case b:e:{for(me=z.key;j!==null;){if(j.key===me)if(j.tag===4&&j.stateNode.containerInfo===z.containerInfo&&j.stateNode.implementation===z.implementation){s(U,j.sibling),W=d(j,z.children||[]),W.return=U,U=W;break e}else{s(U,j);break}else r(U,j);j=j.sibling}W=fc(z,U.mode,W),W.return=U,U=W}return _(U);case X:return me=z._init,z=me(z._payload),Ze(U,j,z,W)}if(_e(z))return Re(U,j,z,W);if(ee(z)){if(me=ee(z),typeof me!="function")throw Error(i(150));return z=me.call(z),Ce(U,j,z,W)}if(typeof z.then=="function")return Ze(U,j,po(z),W);if(z.$$typeof===T)return Ze(U,j,no(U,z),W);vo(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,j!==null&&j.tag===6?(s(U,j.sibling),W=d(j,z),W.return=U,U=W):(s(U,j),W=dc(z,U.mode,W),W.return=U,U=W),_(U)):s(U,j)}return function(U,j,z,W){try{Os=0;var me=Ze(U,j,z,W);return vi=null,me}catch(be){if(be===bs||be===ao)throw be;var Pe=vn(29,be,null,U.mode);return Pe.lanes=W,Pe.return=U,Pe}finally{}}}var yi=vm(!0),ym=vm(!1),jn=Y(null),rr=null;function Gr(t){var r=t.alternate;Q(jt,jt.current&1),Q(jn,t),rr===null&&(r===null||hi.current!==null||r.memoizedState!==null)&&(rr=t)}function _m(t){if(t.tag===22){if(Q(jt,jt.current),Q(jn,t),rr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(rr=t)}}else Yr()}function Yr(){Q(jt,jt.current),Q(jn,jn.current)}function Sr(t){G(jn),rr===t&&(rr=null),G(jt)}var jt=Y(0);function yo(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||kd(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function qc(t,r,s,o){r=t.memoizedState,s=s(o,r),s=s==null?r:v({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Gc={enqueueSetState:function(t,r,s){t=t._reactInternals;var o=wn(),d=Br(o);d.payload=r,s!=null&&(d.callback=s),r=Ir(t,d,o),r!==null&&(Sn(r,t,o),Ss(r,t,o))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var o=wn(),d=Br(o);d.tag=1,d.payload=r,s!=null&&(d.callback=s),r=Ir(t,d,o),r!==null&&(Sn(r,t,o),Ss(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=wn(),o=Br(s);o.tag=2,r!=null&&(o.callback=r),r=Ir(t,o,s),r!==null&&(Sn(r,t,s),Ss(r,t,s))}};function bm(t,r,s,o,d,g,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,g,_):r.prototype&&r.prototype.isPureReactComponent?!fs(s,o)||!fs(d,g):!0}function wm(t,r,s,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,o),r.state!==t&&Gc.enqueueReplaceState(r,r.state,null)}function Ua(t,r){var s=r;if("ref"in r){s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}if(t=t.defaultProps){s===r&&(s=v({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}var _o=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Sm(t){_o(t)}function xm(t){console.error(t)}function Em(t){_o(t)}function bo(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function Cm(t,r,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Yc(t,r,s){return s=Br(s),s.tag=3,s.payload={element:null},s.callback=function(){bo(t,r)},s}function Tm(t){return t=Br(t),t.tag=3,t}function Rm(t,r,s,o){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var g=o.value;t.payload=function(){return d(g)},t.callback=function(){Cm(r,s,o)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Cm(r,s,o),typeof d!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})})}function T0(t,r,s,o,d){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=s.alternate,r!==null&&vs(r,s,d,!0),s=jn.current,s!==null){switch(s.tag){case 13:return rr===null?vd():s.alternate===null&&_t===0&&(_t=3),s.flags&=-257,s.flags|=65536,s.lanes=d,o===Sc?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([o]):r.add(o),_d(t,o,d)),!1;case 22:return s.flags|=65536,o===Sc?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([o]):s.add(o)),_d(t,o,d)),!1}throw Error(i(435,s.tag))}return _d(t,o,d),vd(),!1}if(Ge)return r=jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,o!==mc&&(t=Error(i(422),{cause:o}),ps(An(t,s)))):(o!==mc&&(r=Error(i(423),{cause:o}),ps(An(r,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=An(o,s),d=Yc(t.stateNode,o,d),Cc(t,d),_t!==4&&(_t=2)),!1;var g=Error(i(520),{cause:o});if(g=An(g,s),Ps===null?Ps=[g]:Ps.push(g),_t!==4&&(_t=2),r===null)return!0;o=An(o,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=Yc(s.stateNode,o,t),Cc(s,t),!1;case 1:if(r=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Jr===null||!Jr.has(g))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Tm(d),Rm(d,t,s,o),Cc(s,d),!1}s=s.return}while(s!==null);return!1}var Am=Error(i(461)),$t=!1;function Yt(t,r,s,o){r.child=t===null?ym(r,null,s,o):yi(r,t.child,s,o)}function Om(t,r,s,o,d){s=s.render;var g=r.ref;if("ref"in o){var _={};for(var x in o)x!=="ref"&&(_[x]=o[x])}else _=o;return Ma(r),o=Dc(t,r,s,_,g,d),x=Nc(),t!==null&&!$t?(jc(t,r,d),xr(t,r,d)):(Ge&&x&&hc(r),r.flags|=1,Yt(t,r,o,d),r.child)}function Dm(t,r,s,o,d){if(t===null){var g=s.type;return typeof g=="function"&&!cc(g)&&g.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=g,Nm(t,r,g,o,d)):(t=Zl(s.type,null,o,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(g=t.child,!td(t,d)){var _=g.memoizedProps;if(s=s.compare,s=s!==null?s:fs,s(_,o)&&t.ref===r.ref)return xr(t,r,d)}return r.flags|=1,t=pr(g,o),t.ref=r.ref,t.return=r,r.child=t}function Nm(t,r,s,o,d){if(t!==null){var g=t.memoizedProps;if(fs(g,o)&&t.ref===r.ref)if($t=!1,r.pendingProps=o=g,td(t,d))(t.flags&131072)!==0&&($t=!0);else return r.lanes=t.lanes,xr(t,r,d)}return Kc(t,r,s,o,d)}function jm(t,r,s){var o=r.pendingProps,d=o.children,g=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=g!==null?g.baseLanes|s:s,t!==null){for(d=r.child=t.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;r.childLanes=g&~o}else r.childLanes=0,r.child=null;return Mm(t,r,o,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&ro(r,g!==null?g.cachePool:null),g!==null?Ng(r,g):Rc(),_m(r);else return r.lanes=r.childLanes=536870912,Mm(t,r,g!==null?g.baseLanes|s:s,s)}else g!==null?(ro(r,g.cachePool),Ng(r,g),Yr(),r.memoizedState=null):(t!==null&&ro(r,null),Rc(),Yr());return Yt(t,r,d,s),r.child}function Mm(t,r,s,o){var d=wc();return d=d===null?null:{parent:Nt._currentValue,pool:d},r.memoizedState={baseLanes:s,cachePool:d},t!==null&&ro(r,null),Rc(),_m(r),t!==null&&vs(t,r,o,!0),null}function wo(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function Kc(t,r,s,o,d){return Ma(r),s=Dc(t,r,s,o,void 0,d),o=Nc(),t!==null&&!$t?(jc(t,r,d),xr(t,r,d)):(Ge&&o&&hc(r),r.flags|=1,Yt(t,r,s,d),r.child)}function km(t,r,s,o,d,g){return Ma(r),r.updateQueue=null,s=Mg(r,o,s,d),jg(t),o=Nc(),t!==null&&!$t?(jc(t,r,g),xr(t,r,g)):(Ge&&o&&hc(r),r.flags|=1,Yt(t,r,s,g),r.child)}function Lm(t,r,s,o,d){if(Ma(r),r.stateNode===null){var g=oi,_=s.contextType;typeof _=="object"&&_!==null&&(g=en(_)),g=new s(o,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Gc,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=o,g.state=r.memoizedState,g.refs={},xc(r),_=s.contextType,g.context=typeof _=="object"&&_!==null?en(_):oi,g.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(qc(r,s,_,o),g.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&Gc.enqueueReplaceState(g,g.state,null),Es(r,o,g,d),xs(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){g=r.stateNode;var x=r.memoizedProps,O=Ua(s,x);g.props=O;var F=g.context,K=s.contextType;_=oi,typeof K=="object"&&K!==null&&(_=en(K));var Z=s.getDerivedStateFromProps;K=typeof Z=="function"||typeof g.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,K||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x||F!==_)&&wm(r,g,o,_),Vr=!1;var H=r.memoizedState;g.state=H,Es(r,o,g,d),xs(),F=r.memoizedState,x||H!==F||Vr?(typeof Z=="function"&&(qc(r,s,Z,o),F=r.memoizedState),(O=Vr||bm(r,s,O,o,H,F,_))?(K||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=F),g.props=o,g.state=F,g.context=_,o=O):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{g=r.stateNode,Ec(t,r),_=r.memoizedProps,K=Ua(s,_),g.props=K,Z=r.pendingProps,H=g.context,F=s.contextType,O=oi,typeof F=="object"&&F!==null&&(O=en(F)),x=s.getDerivedStateFromProps,(F=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==Z||H!==O)&&wm(r,g,o,O),Vr=!1,H=r.memoizedState,g.state=H,Es(r,o,g,d),xs();var I=r.memoizedState;_!==Z||H!==I||Vr||t!==null&&t.dependencies!==null&&to(t.dependencies)?(typeof x=="function"&&(qc(r,s,x,o),I=r.memoizedState),(K=Vr||bm(r,s,K,o,H,I,O)||t!==null&&t.dependencies!==null&&to(t.dependencies))?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,I,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,I,O)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=I),g.props=o,g.state=I,g.context=O,o=K):(typeof g.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),o=!1)}return g=o,wo(t,r),o=(r.flags&128)!==0,g||o?(g=r.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,t!==null&&o?(r.child=yi(r,t.child,null,d),r.child=yi(r,null,s,d)):Yt(t,r,s,d),r.memoizedState=g.state,t=r.child):t=xr(t,r,d),t}function Um(t,r,s,o){return ms(),r.flags|=256,Yt(t,r,s,o),r.child}var Xc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wc(t){return{baseLanes:t,cachePool:xg()}}function Qc(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=Mn),t}function Pm(t,r,s){var o=r.pendingProps,d=!1,g=(r.flags&128)!==0,_;if((_=g)||(_=t!==null&&t.memoizedState===null?!1:(jt.current&2)!==0),_&&(d=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ge){if(d?Gr(r):Yr(),Ge){var x=yt,O;if(O=x){e:{for(O=x,x=nr;O.nodeType!==8;){if(!x){x=null;break e}if(O=Vn(O.nextSibling),O===null){x=null;break e}}x=O}x!==null?(r.memoizedState={dehydrated:x,treeContext:Aa!==null?{id:vr,overflow:yr}:null,retryLane:536870912,hydrationErrors:null},O=vn(18,null,null,0),O.stateNode=x,O.return=r,r.child=O,an=r,yt=null,O=!0):O=!1}O||Na(r)}if(x=r.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return kd(x)?r.lanes=32:r.lanes=536870912,null;Sr(r)}return x=o.children,o=o.fallback,d?(Yr(),d=r.mode,x=So({mode:"hidden",children:x},d),o=Ra(o,d,s,null),x.return=r,o.return=r,x.sibling=o,r.child=x,d=r.child,d.memoizedState=Wc(s),d.childLanes=Qc(t,_,s),r.memoizedState=Xc,o):(Gr(r),Zc(r,x))}if(O=t.memoizedState,O!==null&&(x=O.dehydrated,x!==null)){if(g)r.flags&256?(Gr(r),r.flags&=-257,r=Jc(t,r,s)):r.memoizedState!==null?(Yr(),r.child=t.child,r.flags|=128,r=null):(Yr(),d=o.fallback,x=r.mode,o=So({mode:"visible",children:o.children},x),d=Ra(d,x,s,null),d.flags|=2,o.return=r,d.return=r,o.sibling=d,r.child=o,yi(r,t.child,null,s),o=r.child,o.memoizedState=Wc(s),o.childLanes=Qc(t,_,s),r.memoizedState=Xc,r=d);else if(Gr(r),kd(x)){if(_=x.nextSibling&&x.nextSibling.dataset,_)var F=_.dgst;_=F,o=Error(i(419)),o.stack="",o.digest=_,ps({value:o,source:null,stack:null}),r=Jc(t,r,s)}else if($t||vs(t,r,s,!1),_=(s&t.childLanes)!==0,$t||_){if(_=at,_!==null&&(o=s&-s,o=(o&42)!==0?1:Zt(o),o=(o&(_.suspendedLanes|s))!==0?0:o,o!==0&&o!==O.retryLane))throw O.retryLane=o,li(t,o),Sn(_,t,o),Am;x.data==="$?"||vd(),r=Jc(t,r,s)}else x.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=O.treeContext,yt=Vn(x.nextSibling),an=r,Ge=!0,Da=null,nr=!1,t!==null&&(Dn[Nn++]=vr,Dn[Nn++]=yr,Dn[Nn++]=Aa,vr=t.id,yr=t.overflow,Aa=r),r=Zc(r,o.children),r.flags|=4096);return r}return d?(Yr(),d=o.fallback,x=r.mode,O=t.child,F=O.sibling,o=pr(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,F!==null?d=pr(F,d):(d=Ra(d,x,s,null),d.flags|=2),d.return=r,o.return=r,o.sibling=d,r.child=o,o=d,d=r.child,x=t.child.memoizedState,x===null?x=Wc(s):(O=x.cachePool,O!==null?(F=Nt._currentValue,O=O.parent!==F?{parent:F,pool:F}:O):O=xg(),x={baseLanes:x.baseLanes|s,cachePool:O}),d.memoizedState=x,d.childLanes=Qc(t,_,s),r.memoizedState=Xc,o):(Gr(r),s=t.child,t=s.sibling,s=pr(s,{mode:"visible",children:o.children}),s.return=r,s.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=s,r.memoizedState=null,s)}function Zc(t,r){return r=So({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function So(t,r){return t=vn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Jc(t,r,s){return yi(r,t.child,null,s),t=Zc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function $m(t,r,s){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),vc(t.return,r,s)}function ed(t,r,s,o,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:d}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=d)}function zm(t,r,s){var o=r.pendingProps,d=o.revealOrder,g=o.tail;if(Yt(t,r,o.children,s),o=jt.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$m(t,s,r);else if(t.tag===19)$m(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Q(jt,o),d){case"forwards":for(s=r.child,d=null;s!==null;)t=s.alternate,t!==null&&yo(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=r.child,r.child=null):(d=s.sibling,s.sibling=null),ed(r,!1,d,s,g);break;case"backwards":for(s=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&yo(t)===null){r.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}ed(r,!0,s,null,g);break;case"together":ed(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function xr(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),Zr|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(vs(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,s=pr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=pr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function td(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&to(t)))}function R0(t,r,s){switch(r.tag){case 3:Ve(r,r.stateNode.containerInfo),Hr(r,Nt,t.memoizedState.cache),ms();break;case 27:case 5:bt(r);break;case 4:Ve(r,r.stateNode.containerInfo);break;case 10:Hr(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(Gr(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Pm(t,r,s):(Gr(r),t=xr(t,r,s),t!==null?t.sibling:null);Gr(r);break;case 19:var d=(t.flags&128)!==0;if(o=(s&r.childLanes)!==0,o||(vs(t,r,s,!1),o=(s&r.childLanes)!==0),d){if(o)return zm(t,r,s);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Q(jt,jt.current),o)break;return null;case 22:case 23:return r.lanes=0,jm(t,r,s);case 24:Hr(r,Nt,t.memoizedState.cache)}return xr(t,r,s)}function Fm(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)$t=!0;else{if(!td(t,s)&&(r.flags&128)===0)return $t=!1,R0(t,r,s);$t=(t.flags&131072)!==0}else $t=!1,Ge&&(r.flags&1048576)!==0&&pg(r,eo,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var o=r.elementType,d=o._init;if(o=d(o._payload),r.type=o,typeof o=="function")cc(o)?(t=Ua(o,t),r.tag=1,r=Lm(null,r,o,t,s)):(r.tag=0,r=Kc(null,r,o,t,s));else{if(o!=null){if(d=o.$$typeof,d===M){r.tag=11,r=Om(null,r,o,t,s);break e}else if(d===P){r.tag=14,r=Dm(null,r,o,t,s);break e}}throw r=xe(o)||o,Error(i(306,r,""))}}return r;case 0:return Kc(t,r,r.type,r.pendingProps,s);case 1:return o=r.type,d=Ua(o,r.pendingProps),Lm(t,r,o,d,s);case 3:e:{if(Ve(r,r.stateNode.containerInfo),t===null)throw Error(i(387));o=r.pendingProps;var g=r.memoizedState;d=g.element,Ec(t,r),Es(r,o,null,s);var _=r.memoizedState;if(o=_.cache,Hr(r,Nt,o),o!==g.cache&&yc(r,[Nt],s,!0),xs(),o=_.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Um(t,r,o,s);break e}else if(o!==d){d=An(Error(i(424)),r),ps(d),r=Um(t,r,o,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(yt=Vn(t.firstChild),an=r,Ge=!0,Da=null,nr=!0,s=ym(r,null,o,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ms(),o===d){r=xr(t,r,s);break e}Yt(t,r,o,s)}r=r.child}return r;case 26:return wo(t,r),t===null?(s=Ip(r.type,null,r.pendingProps,null))?r.memoizedState=s:Ge||(s=r.type,t=r.pendingProps,o=Uo(ve.current).createElement(s),o[st]=r,o[lt]=t,Xt(o,s,t),Pt(o),r.stateNode=o):r.memoizedState=Ip(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return bt(r),t===null&&Ge&&(o=r.stateNode=Hp(r.type,r.pendingProps,ve.current),an=r,nr=!0,d=yt,na(r.type)?(Ld=d,yt=Vn(o.firstChild)):yt=d),Yt(t,r,r.pendingProps.children,s),wo(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ge&&((d=o=yt)&&(o=tw(o,r.type,r.pendingProps,nr),o!==null?(r.stateNode=o,an=r,yt=Vn(o.firstChild),nr=!1,d=!0):d=!1),d||Na(r)),bt(r),d=r.type,g=r.pendingProps,_=t!==null?t.memoizedProps:null,o=g.children,Nd(d,g)?o=null:_!==null&&Nd(d,_)&&(r.flags|=32),r.memoizedState!==null&&(d=Dc(t,r,_0,null,null,s),Gs._currentValue=d),wo(t,r),Yt(t,r,o,s),r.child;case 6:return t===null&&Ge&&((t=s=yt)&&(s=nw(s,r.pendingProps,nr),s!==null?(r.stateNode=s,an=r,yt=null,t=!0):t=!1),t||Na(r)),null;case 13:return Pm(t,r,s);case 4:return Ve(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=yi(r,null,o,s):Yt(t,r,o,s),r.child;case 11:return Om(t,r,r.type,r.pendingProps,s);case 7:return Yt(t,r,r.pendingProps,s),r.child;case 8:return Yt(t,r,r.pendingProps.children,s),r.child;case 12:return Yt(t,r,r.pendingProps.children,s),r.child;case 10:return o=r.pendingProps,Hr(r,r.type,o.value),Yt(t,r,o.children,s),r.child;case 9:return d=r.type._context,o=r.pendingProps.children,Ma(r),d=en(d),o=o(d),r.flags|=1,Yt(t,r,o,s),r.child;case 14:return Dm(t,r,r.type,r.pendingProps,s);case 15:return Nm(t,r,r.type,r.pendingProps,s);case 19:return zm(t,r,s);case 31:return o=r.pendingProps,s=r.mode,o={mode:o.mode,children:o.children},t===null?(s=So(o,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=pr(t.child,o),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return jm(t,r,s);case 24:return Ma(r),o=en(Nt),t===null?(d=wc(),d===null&&(d=at,g=_c(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=s),d=g),r.memoizedState={parent:o,cache:d},xc(r),Hr(r,Nt,d)):((t.lanes&s)!==0&&(Ec(t,r),Es(r,null,null,s),xs()),d=t.memoizedState,g=r.memoizedState,d.parent!==o?(d={parent:o,cache:o},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Hr(r,Nt,o)):(o=g.cache,Hr(r,Nt,o),o!==d.cache&&yc(r,[Nt],s,!0))),Yt(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Er(t){t.flags|=4}function Hm(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xp(r)){if(r=jn.current,r!==null&&((He&4194048)===He?rr!==null:(He&62914560)!==He&&(He&536870912)===0||r!==rr))throw ws=Sc,Eg;t.flags|=8192}}function xo(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Pl():536870912,t.lanes|=r,Si|=r)}function Ns(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function gt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(r)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=s,r}function A0(t,r,s){var o=r.pendingProps;switch(gc(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(r),null;case 1:return gt(r),null;case 3:return s=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),br(Nt),Dt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(gs(r)?Er(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,_g())),gt(r),null;case 26:return s=r.memoizedState,t===null?(Er(r),s!==null?(gt(r),Hm(r,s)):(gt(r),r.flags&=-16777217)):s?s!==t.memoizedState?(Er(r),gt(r),Hm(r,s)):(gt(r),r.flags&=-16777217):(t.memoizedProps!==o&&Er(r),gt(r),r.flags&=-16777217),null;case 27:Cn(r),s=ve.current;var d=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Er(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return gt(r),null}t=ce.current,gs(r)?vg(r):(t=Hp(d,o,s),r.stateNode=t,Er(r))}return gt(r),null;case 5:if(Cn(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Er(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return gt(r),null}if(t=ce.current,gs(r))vg(r);else{switch(d=Uo(ve.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?d.createElement("select",{is:o.is}):d.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?d.createElement(s,{is:o.is}):d.createElement(s)}}t[st]=r,t[lt]=o;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=t;e:switch(Xt(t,s,o),s){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Er(r)}}return gt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&Er(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(i(166));if(t=ve.current,gs(r)){if(t=r.stateNode,s=r.memoizedProps,o=null,d=an,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[st]=r,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||kp(t.nodeValue,s)),t||Na(r)}else t=Uo(t).createTextNode(o),t[st]=r,r.stateNode=t}return gt(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=gs(r),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[st]=r}else ms(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),d=!1}else d=_g(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Sr(r),r):(Sr(r),null)}if(Sr(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=o!==null,t=t!==null&&t.memoizedState!==null,s){o=r.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==d&&(o.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),xo(r,r.updateQueue),gt(r),null;case 4:return Dt(),t===null&&Td(r.stateNode.containerInfo),gt(r),null;case 10:return br(r.type),gt(r),null;case 19:if(G(jt),d=r.memoizedState,d===null)return gt(r),null;if(o=(r.flags&128)!==0,g=d.rendering,g===null)if(o)Ns(d,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(g=yo(t),g!==null){for(r.flags|=128,Ns(d,!1),t=g.updateQueue,r.updateQueue=t,xo(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)mg(s,t),s=s.sibling;return Q(jt,jt.current&1|2),r.child}t=t.sibling}d.tail!==null&&Je()>To&&(r.flags|=128,o=!0,Ns(d,!1),r.lanes=4194304)}else{if(!o)if(t=yo(g),t!==null){if(r.flags|=128,o=!0,t=t.updateQueue,r.updateQueue=t,xo(r,t),Ns(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Ge)return gt(r),null}else 2*Je()-d.renderingStartTime>To&&s!==536870912&&(r.flags|=128,o=!0,Ns(d,!1),r.lanes=4194304);d.isBackwards?(g.sibling=r.child,r.child=g):(t=d.last,t!==null?t.sibling=g:r.child=g,d.last=g)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Je(),r.sibling=null,t=jt.current,Q(jt,o?t&1|2:t&1),r):(gt(r),null);case 22:case 23:return Sr(r),Ac(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(s&536870912)!==0&&(r.flags&128)===0&&(gt(r),r.subtreeFlags&6&&(r.flags|=8192)):gt(r),s=r.updateQueue,s!==null&&xo(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048),t!==null&&G(ka),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),br(Nt),gt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function O0(t,r){switch(gc(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return br(Nt),Dt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Cn(r),null;case 13:if(Sr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ms()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return G(jt),null;case 4:return Dt(),null;case 10:return br(r.type),null;case 22:case 23:return Sr(r),Ac(),t!==null&&G(ka),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return br(Nt),null;case 25:return null;default:return null}}function Vm(t,r){switch(gc(r),r.tag){case 3:br(Nt),Dt();break;case 26:case 27:case 5:Cn(r);break;case 4:Dt();break;case 13:Sr(r);break;case 19:G(jt);break;case 10:br(r.type);break;case 22:case 23:Sr(r),Ac(),t!==null&&G(ka);break;case 24:br(Nt)}}function js(t,r){try{var s=r.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var d=o.next;s=d;do{if((s.tag&t)===t){o=void 0;var g=s.create,_=s.inst;o=g(),_.destroy=o}s=s.next}while(s!==d)}}catch(x){et(r,r.return,x)}}function Kr(t,r,s){try{var o=r.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var g=d.next;o=g;do{if((o.tag&t)===t){var _=o.inst,x=_.destroy;if(x!==void 0){_.destroy=void 0,d=r;var O=s,F=x;try{F()}catch(K){et(d,O,K)}}}o=o.next}while(o!==g)}}catch(K){et(r,r.return,K)}}function Bm(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{Dg(r,s)}catch(o){et(t,t.return,o)}}}function Im(t,r,s){s.props=Ua(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){et(t,r,o)}}function Ms(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(d){et(t,r,d)}}function ar(t,r){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(d){et(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){et(t,r,d)}else s.current=null}function qm(t){var r=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(d){et(t,t.return,d)}}function nd(t,r,s){try{var o=t.stateNode;W0(o,t.type,s,r),o[lt]=r}catch(d){et(t,t.return,d)}}function Gm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&na(t.type)||t.tag===4}function rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&na(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ad(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Lo));else if(o!==4&&(o===27&&na(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(ad(t,r,s),t=t.sibling;t!==null;)ad(t,r,s),t=t.sibling}function Eo(t,r,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(o!==4&&(o===27&&na(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Eo(t,r,s),t=t.sibling;t!==null;)Eo(t,r,s),t=t.sibling}function Ym(t){var r=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Xt(r,o,s),r[st]=t,r[lt]=s}catch(g){et(t,t.return,g)}}var Cr=!1,St=!1,id=!1,Km=typeof WeakSet=="function"?WeakSet:Set,zt=null;function D0(t,r){if(t=t.containerInfo,Od=Vo,t=ig(t),rc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var d=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var _=0,x=-1,O=-1,F=0,K=0,Z=t,H=null;t:for(;;){for(var I;Z!==s||d!==0&&Z.nodeType!==3||(x=_+d),Z!==g||o!==0&&Z.nodeType!==3||(O=_+o),Z.nodeType===3&&(_+=Z.nodeValue.length),(I=Z.firstChild)!==null;)H=Z,Z=I;for(;;){if(Z===t)break t;if(H===s&&++F===d&&(x=_),H===g&&++K===o&&(O=_),(I=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=I}s=x===-1||O===-1?null:{start:x,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(Dd={focusedElem:t,selectionRange:s},Vo=!1,zt=r;zt!==null;)if(r=zt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,zt=t;else for(;zt!==null;){switch(r=zt,g=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,s=r,d=g.memoizedProps,g=g.memoizedState,o=s.stateNode;try{var Re=Ua(s.type,d,s.elementType===s.type);t=o.getSnapshotBeforeUpdate(Re,g),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ce){et(s,s.return,Ce)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Md(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,zt=t;break}zt=r.return}}function Xm(t,r,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Xr(t,s),o&4&&js(5,s);break;case 1:if(Xr(t,s),o&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(_){et(s,s.return,_)}else{var d=Ua(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){et(s,s.return,_)}}o&64&&Bm(s),o&512&&Ms(s,s.return);break;case 3:if(Xr(t,s),o&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Dg(t,r)}catch(_){et(s,s.return,_)}}break;case 27:r===null&&o&4&&Ym(s);case 26:case 5:Xr(t,s),r===null&&o&4&&qm(s),o&512&&Ms(s,s.return);break;case 12:Xr(t,s);break;case 13:Xr(t,s),o&4&&Zm(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=z0.bind(null,s),rw(t,s))));break;case 22:if(o=s.memoizedState!==null||Cr,!o){r=r!==null&&r.memoizedState!==null||St,d=Cr;var g=St;Cr=o,(St=r)&&!g?Wr(t,s,(s.subtreeFlags&8772)!==0):Xr(t,s),Cr=d,St=g}break;case 30:break;default:Xr(t,s)}}function Wm(t){var r=t.alternate;r!==null&&(t.alternate=null,Wm(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&$u(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,dn=!1;function Tr(t,r,s){for(s=s.child;s!==null;)Qm(t,r,s),s=s.sibling}function Qm(t,r,s){if(ye&&typeof ye.onCommitFiberUnmount=="function")try{ye.onCommitFiberUnmount(oe,s)}catch{}switch(s.tag){case 26:St||ar(s,r),Tr(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:St||ar(s,r);var o=ct,d=dn;na(s.type)&&(ct=s.stateNode,dn=!1),Tr(t,r,s),Vs(s.stateNode),ct=o,dn=d;break;case 5:St||ar(s,r);case 6:if(o=ct,d=dn,ct=null,Tr(t,r,s),ct=o,dn=d,ct!==null)if(dn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(s.stateNode)}catch(g){et(s,r,g)}else try{ct.removeChild(s.stateNode)}catch(g){et(s,r,g)}break;case 18:ct!==null&&(dn?(t=ct,zp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ws(t)):zp(ct,s.stateNode));break;case 4:o=ct,d=dn,ct=s.stateNode.containerInfo,dn=!0,Tr(t,r,s),ct=o,dn=d;break;case 0:case 11:case 14:case 15:St||Kr(2,s,r),St||Kr(4,s,r),Tr(t,r,s);break;case 1:St||(ar(s,r),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Im(s,r,o)),Tr(t,r,s);break;case 21:Tr(t,r,s);break;case 22:St=(o=St)||s.memoizedState!==null,Tr(t,r,s),St=o;break;default:Tr(t,r,s)}}function Zm(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ws(t)}catch(s){et(r,r.return,s)}}function N0(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Km),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Km),r;default:throw Error(i(435,t.tag))}}function sd(t,r){var s=N0(t);r.forEach(function(o){var d=F0.bind(null,t,o);s.has(o)||(s.add(o),o.then(d,d))})}function yn(t,r){var s=r.deletions;if(s!==null)for(var o=0;o<s.length;o++){var d=s[o],g=t,_=r,x=_;e:for(;x!==null;){switch(x.tag){case 27:if(na(x.type)){ct=x.stateNode,dn=!1;break e}break;case 5:ct=x.stateNode,dn=!1;break e;case 3:case 4:ct=x.stateNode.containerInfo,dn=!0;break e}x=x.return}if(ct===null)throw Error(i(160));Qm(g,_,d),ct=null,dn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Jm(r,t),r=r.sibling}var Hn=null;function Jm(t,r){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(r,t),_n(t),o&4&&(Kr(3,t,t.return),js(3,t),Kr(5,t,t.return));break;case 1:yn(r,t),_n(t),o&512&&(St||s===null||ar(s,s.return)),o&64&&Cr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var d=Hn;if(yn(r,t),_n(t),o&512&&(St||s===null||ar(s,s.return)),o&4){var g=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":g=d.getElementsByTagName("title")[0],(!g||g[hr]||g[st]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(o),d.head.insertBefore(g,d.querySelector("head > title"))),Xt(g,o,s),g[st]=t,Pt(g),o=g;break e;case"link":var _=Yp("link","href",d).get(o+(s.href||""));if(_){for(var x=0;x<_.length;x++)if(g=_[x],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(x,1);break t}}g=d.createElement(o),Xt(g,o,s),d.head.appendChild(g);break;case"meta":if(_=Yp("meta","content",d).get(o+(s.content||""))){for(x=0;x<_.length;x++)if(g=_[x],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(x,1);break t}}g=d.createElement(o),Xt(g,o,s),d.head.appendChild(g);break;default:throw Error(i(468,o))}g[st]=t,Pt(g),o=g}t.stateNode=o}else Kp(d,t.type,t.stateNode);else t.stateNode=Gp(d,o,t.memoizedProps);else g!==o?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,o===null?Kp(d,t.type,t.stateNode):Gp(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&nd(t,t.memoizedProps,s.memoizedProps)}break;case 27:yn(r,t),_n(t),o&512&&(St||s===null||ar(s,s.return)),s!==null&&o&4&&nd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(yn(r,t),_n(t),o&512&&(St||s===null||ar(s,s.return)),t.flags&32){d=t.stateNode;try{ei(d,"")}catch(I){et(t,t.return,I)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,nd(t,d,s!==null?s.memoizedProps:d)),o&1024&&(id=!0);break;case 6:if(yn(r,t),_n(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(I){et(t,t.return,I)}}break;case 3:if(zo=null,d=Hn,Hn=Po(r.containerInfo),yn(r,t),Hn=d,_n(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ws(r.containerInfo)}catch(I){et(t,t.return,I)}id&&(id=!1,ep(t));break;case 4:o=Hn,Hn=Po(t.stateNode.containerInfo),yn(r,t),_n(t),Hn=o;break;case 12:yn(r,t),_n(t);break;case 13:yn(r,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(fd=Je()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sd(t,o)));break;case 22:d=t.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,F=Cr,K=St;if(Cr=F||d,St=K||O,yn(r,t),St=K,Cr=F,_n(t),o&8192)e:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(s===null||O||Cr||St||Pa(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){O=s=r;try{if(g=O.stateNode,d)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{x=O.stateNode;var Z=O.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;x.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(I){et(O,O.return,I)}}}else if(r.tag===6){if(s===null){O=r;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(I){et(O,O.return,I)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,sd(t,s))));break;case 19:yn(r,t),_n(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sd(t,o)));break;case 30:break;case 21:break;default:yn(r,t),_n(t)}}function _n(t){var r=t.flags;if(r&2){try{for(var s,o=t.return;o!==null;){if(Gm(o)){s=o;break}o=o.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var d=s.stateNode,g=rd(t);Eo(t,g,d);break;case 5:var _=s.stateNode;s.flags&32&&(ei(_,""),s.flags&=-33);var x=rd(t);Eo(t,x,_);break;case 3:case 4:var O=s.stateNode.containerInfo,F=rd(t);ad(t,F,O);break;default:throw Error(i(161))}}catch(K){et(t,t.return,K)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function ep(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;ep(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Xr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Xm(t,r.alternate,r),r=r.sibling}function Pa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Kr(4,r,r.return),Pa(r);break;case 1:ar(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Im(r,r.return,s),Pa(r);break;case 27:Vs(r.stateNode);case 26:case 5:ar(r,r.return),Pa(r);break;case 22:r.memoizedState===null&&Pa(r);break;case 30:Pa(r);break;default:Pa(r)}t=t.sibling}}function Wr(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,d=t,g=r,_=g.flags;switch(g.tag){case 0:case 11:case 15:Wr(d,g,s),js(4,g);break;case 1:if(Wr(d,g,s),o=g,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){et(o,o.return,F)}if(o=g,d=o.updateQueue,d!==null){var x=o.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)Og(O[d],x)}catch(F){et(o,o.return,F)}}s&&_&64&&Bm(g),Ms(g,g.return);break;case 27:Ym(g);case 26:case 5:Wr(d,g,s),s&&o===null&&_&4&&qm(g),Ms(g,g.return);break;case 12:Wr(d,g,s);break;case 13:Wr(d,g,s),s&&_&4&&Zm(d,g);break;case 22:g.memoizedState===null&&Wr(d,g,s),Ms(g,g.return);break;case 30:break;default:Wr(d,g,s)}r=r.sibling}}function ld(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ys(s))}function od(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ys(t))}function ir(t,r,s,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)tp(t,r,s,o),r=r.sibling}function tp(t,r,s,o){var d=r.flags;switch(r.tag){case 0:case 11:case 15:ir(t,r,s,o),d&2048&&js(9,r);break;case 1:ir(t,r,s,o);break;case 3:ir(t,r,s,o),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ys(t)));break;case 12:if(d&2048){ir(t,r,s,o),t=r.stateNode;try{var g=r.memoizedProps,_=g.id,x=g.onPostCommit;typeof x=="function"&&x(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){et(r,r.return,O)}}else ir(t,r,s,o);break;case 13:ir(t,r,s,o);break;case 23:break;case 22:g=r.stateNode,_=r.alternate,r.memoizedState!==null?g._visibility&2?ir(t,r,s,o):ks(t,r):g._visibility&2?ir(t,r,s,o):(g._visibility|=2,_i(t,r,s,o,(r.subtreeFlags&10256)!==0)),d&2048&&ld(_,r);break;case 24:ir(t,r,s,o),d&2048&&od(r.alternate,r);break;default:ir(t,r,s,o)}}function _i(t,r,s,o,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=t,_=r,x=s,O=o,F=_.flags;switch(_.tag){case 0:case 11:case 15:_i(g,_,x,O,d),js(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?_i(g,_,x,O,d):ks(g,_):(K._visibility|=2,_i(g,_,x,O,d)),d&&F&2048&&ld(_.alternate,_);break;case 24:_i(g,_,x,O,d),d&&F&2048&&od(_.alternate,_);break;default:_i(g,_,x,O,d)}r=r.sibling}}function ks(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,o=r,d=o.flags;switch(o.tag){case 22:ks(s,o),d&2048&&ld(o.alternate,o);break;case 24:ks(s,o),d&2048&&od(o.alternate,o);break;default:ks(s,o)}r=r.sibling}}var Ls=8192;function bi(t){if(t.subtreeFlags&Ls)for(t=t.child;t!==null;)np(t),t=t.sibling}function np(t){switch(t.tag){case 26:bi(t),t.flags&Ls&&t.memoizedState!==null&&pw(Hn,t.memoizedState,t.memoizedProps);break;case 5:bi(t);break;case 3:case 4:var r=Hn;Hn=Po(t.stateNode.containerInfo),bi(t),Hn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Ls,Ls=16777216,bi(t),Ls=r):bi(t));break;default:bi(t)}}function rp(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Us(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];zt=o,ip(o,t)}rp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ap(t),t=t.sibling}function ap(t){switch(t.tag){case 0:case 11:case 15:Us(t),t.flags&2048&&Kr(9,t,t.return);break;case 3:Us(t);break;case 12:Us(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Co(t)):Us(t);break;default:Us(t)}}function Co(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];zt=o,ip(o,t)}rp(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Kr(8,r,r.return),Co(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Co(r));break;default:Co(r)}t=t.sibling}}function ip(t,r){for(;zt!==null;){var s=zt;switch(s.tag){case 0:case 11:case 15:Kr(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ys(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,zt=o;else e:for(s=t;zt!==null;){o=zt;var d=o.sibling,g=o.return;if(Wm(o),o===s){zt=null;break e}if(d!==null){d.return=g,zt=d;break e}zt=g}}}var j0={getCacheForType:function(t){var r=en(Nt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},M0=typeof WeakMap=="function"?WeakMap:Map,Ye=0,at=null,$e=null,He=0,Ke=0,bn=null,Qr=!1,wi=!1,ud=!1,Rr=0,_t=0,Zr=0,$a=0,cd=0,Mn=0,Si=0,Ps=null,fn=null,dd=!1,fd=0,To=1/0,Ro=null,Jr=null,Kt=0,ea=null,xi=null,Ei=0,hd=0,gd=null,sp=null,$s=0,md=null;function wn(){if((Ye&2)!==0&&He!==0)return He&-He;if(B.T!==null){var t=di;return t!==0?t:Sd()}return mn()}function lp(){Mn===0&&(Mn=(He&536870912)===0||Ge?Ul():536870912);var t=jn.current;return t!==null&&(t.flags|=32),Mn}function Sn(t,r,s){(t===at&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ci(t,0),ta(t,He,Mn,!1)),vt(t,s),((Ye&2)===0||t!==at)&&(t===at&&((Ye&2)===0&&($a|=s),_t===4&&ta(t,He,Mn,!1)),sr(t))}function op(t,r,s){if((Ye&6)!==0)throw Error(i(327));var o=!s&&(r&124)===0&&(r&t.expiredLanes)===0||dr(t,r),d=o?U0(t,r):yd(t,r,!0),g=o;do{if(d===0){wi&&!o&&ta(t,r,0,!1);break}else{if(s=t.current.alternate,g&&!k0(s)){d=yd(t,r,!1),g=!1;continue}if(d===2){if(g=r,t.errorRecoveryDisabledLanes&g)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var x=t;d=Ps;var O=x.current.memoizedState.isDehydrated;if(O&&(Ci(x,_).flags|=256),_=yd(x,_,!1),_!==2){if(ud&&!O){x.errorRecoveryDisabledLanes|=g,$a|=g,d=4;break e}g=fn,fn=d,g!==null&&(fn===null?fn=g:fn.push.apply(fn,g))}d=_}if(g=!1,d!==2)continue}}if(d===1){Ci(t,0),ta(t,r,0,!0);break}e:{switch(o=t,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ta(o,r,Mn,!Qr);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(d=fd+300-Je(),10<d)){if(ta(o,r,Mn,!Qr),er(o,0,!0)!==0)break e;o.timeoutHandle=Pp(up.bind(null,o,s,fn,Ro,dd,r,Mn,$a,Si,Qr,g,2,-0,0),d);break e}up(o,s,fn,Ro,dd,r,Mn,$a,Si,Qr,g,0,-0,0)}}break}while(!0);sr(t)}function up(t,r,s,o,d,g,_,x,O,F,K,Z,H,I){if(t.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(qs={stylesheets:null,count:0,unsuspend:mw},np(r),Z=vw(),Z!==null)){t.cancelPendingCommit=Z(pp.bind(null,t,r,g,s,o,d,_,x,O,K,1,H,I)),ta(t,g,_,!F);return}pp(t,r,g,s,o,d,_,x,O)}function k0(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var d=s[o],g=d.getSnapshot;d=d.value;try{if(!pn(g(),d))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ta(t,r,s,o){r&=~cd,r&=~$a,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var d=r;0<d;){var g=31-Ue(d),_=1<<g;o[g]=-1,d&=~_}s!==0&&Qt(t,s,r)}function Ao(){return(Ye&6)===0?(zs(0),!1):!0}function pd(){if($e!==null){if(Ke===0)var t=$e.return;else t=$e,_r=ja=null,Mc(t),vi=null,Os=0,t=$e;for(;t!==null;)Vm(t.alternate,t),t=t.return;$e=null}}function Ci(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Z0(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),pd(),at=t,$e=s=pr(t.current,null),He=r,Ke=0,bn=null,Qr=!1,wi=dr(t,r),ud=!1,Si=Mn=cd=$a=Zr=_t=0,fn=Ps=null,dd=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var d=31-Ue(o),g=1<<d;r|=t[d],o&=~g}return Rr=r,Xl(),s}function cp(t,r){ke=null,B.H=mo,r===bs||r===ao?(r=Rg(),Ke=3):r===Eg?(r=Rg(),Ke=4):Ke=r===Am?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,bn=r,$e===null&&(_t=1,bo(t,An(r,t.current)))}function dp(){var t=B.H;return B.H=mo,t===null?mo:t}function fp(){var t=B.A;return B.A=j0,t}function vd(){_t=4,Qr||(He&4194048)!==He&&jn.current!==null||(wi=!0),(Zr&134217727)===0&&($a&134217727)===0||at===null||ta(at,He,Mn,!1)}function yd(t,r,s){var o=Ye;Ye|=2;var d=dp(),g=fp();(at!==t||He!==r)&&(Ro=null,Ci(t,r)),r=!1;var _=_t;e:do try{if(Ke!==0&&$e!==null){var x=$e,O=bn;switch(Ke){case 8:pd(),_=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(r=!0);var F=Ke;if(Ke=0,bn=null,Ti(t,x,O,F),s&&wi){_=0;break e}break;default:F=Ke,Ke=0,bn=null,Ti(t,x,O,F)}}L0(),_=_t;break}catch(K){cp(t,K)}while(!0);return r&&t.shellSuspendCounter++,_r=ja=null,Ye=o,B.H=d,B.A=g,$e===null&&(at=null,He=0,Xl()),_}function L0(){for(;$e!==null;)hp($e)}function U0(t,r){var s=Ye;Ye|=2;var o=dp(),d=fp();at!==t||He!==r?(Ro=null,To=Je()+500,Ci(t,r)):wi=dr(t,r);e:do try{if(Ke!==0&&$e!==null){r=$e;var g=bn;t:switch(Ke){case 1:Ke=0,bn=null,Ti(t,r,g,1);break;case 2:case 9:if(Cg(g)){Ke=0,bn=null,gp(r);break}r=function(){Ke!==2&&Ke!==9||at!==t||(Ke=7),sr(t)},g.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Cg(g)?(Ke=0,bn=null,gp(r)):(Ke=0,bn=null,Ti(t,r,g,7));break;case 5:var _=null;switch($e.tag){case 26:_=$e.memoizedState;case 5:case 27:var x=$e;if(!_||Xp(_)){Ke=0,bn=null;var O=x.sibling;if(O!==null)$e=O;else{var F=x.return;F!==null?($e=F,Oo(F)):$e=null}break t}}Ke=0,bn=null,Ti(t,r,g,5);break;case 6:Ke=0,bn=null,Ti(t,r,g,6);break;case 8:pd(),_t=6;break e;default:throw Error(i(462))}}P0();break}catch(K){cp(t,K)}while(!0);return _r=ja=null,B.H=o,B.A=d,Ye=s,$e!==null?0:(at=null,He=0,Xl(),_t)}function P0(){for(;$e!==null&&!ge();)hp($e)}function hp(t){var r=Fm(t.alternate,t,Rr);t.memoizedProps=t.pendingProps,r===null?Oo(t):$e=r}function gp(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=km(s,r,r.pendingProps,r.type,void 0,He);break;case 11:r=km(s,r,r.pendingProps,r.type.render,r.ref,He);break;case 5:Mc(r);default:Vm(s,r),r=$e=mg(r,Rr),r=Fm(s,r,Rr)}t.memoizedProps=t.pendingProps,r===null?Oo(t):$e=r}function Ti(t,r,s,o){_r=ja=null,Mc(r),vi=null,Os=0;var d=r.return;try{if(T0(t,d,r,s,He)){_t=1,bo(t,An(s,t.current)),$e=null;return}}catch(g){if(d!==null)throw $e=d,g;_t=1,bo(t,An(s,t.current)),$e=null;return}r.flags&32768?(Ge||o===1?t=!0:wi||(He&536870912)!==0?t=!1:(Qr=t=!0,(o===2||o===9||o===3||o===6)&&(o=jn.current,o!==null&&o.tag===13&&(o.flags|=16384))),mp(r,t)):Oo(r)}function Oo(t){var r=t;do{if((r.flags&32768)!==0){mp(r,Qr);return}t=r.return;var s=A0(r.alternate,r,Rr);if(s!==null){$e=s;return}if(r=r.sibling,r!==null){$e=r;return}$e=r=t}while(r!==null);_t===0&&(_t=5)}function mp(t,r){do{var s=O0(t.alternate,t);if(s!==null){s.flags&=32767,$e=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){$e=t;return}$e=t=s}while(t!==null);_t=6,$e=null}function pp(t,r,s,o,d,g,_,x,O){t.cancelPendingCommit=null;do Do();while(Kt!==0);if((Ye&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=oc,rn(t,s,g,_,x,O),t===at&&($e=at=null,He=0),xi=r,ea=t,Ei=s,hd=g,gd=d,sp=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,H0($,function(){return wp(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=B.T,B.T=null,d=J.p,J.p=2,_=Ye,Ye|=4;try{D0(t,r,s)}finally{Ye=_,J.p=d,B.T=o}}Kt=1,vp(),yp(),_p()}}function vp(){if(Kt===1){Kt=0;var t=ea,r=xi,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=B.T,B.T=null;var o=J.p;J.p=2;var d=Ye;Ye|=4;try{Jm(r,t);var g=Dd,_=ig(t.containerInfo),x=g.focusedElem,O=g.selectionRange;if(_!==x&&x&&x.ownerDocument&&ag(x.ownerDocument.documentElement,x)){if(O!==null&&rc(x)){var F=O.start,K=O.end;if(K===void 0&&(K=F),"selectionStart"in x)x.selectionStart=F,x.selectionEnd=Math.min(K,x.value.length);else{var Z=x.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var I=H.getSelection(),Re=x.textContent.length,Ce=Math.min(O.start,Re),Ze=O.end===void 0?Ce:Math.min(O.end,Re);!I.extend&&Ce>Ze&&(_=Ze,Ze=Ce,Ce=_);var U=rg(x,Ce),j=rg(x,Ze);if(U&&j&&(I.rangeCount!==1||I.anchorNode!==U.node||I.anchorOffset!==U.offset||I.focusNode!==j.node||I.focusOffset!==j.offset)){var z=Z.createRange();z.setStart(U.node,U.offset),I.removeAllRanges(),Ce>Ze?(I.addRange(z),I.extend(j.node,j.offset)):(z.setEnd(j.node,j.offset),I.addRange(z))}}}}for(Z=[],I=x;I=I.parentNode;)I.nodeType===1&&Z.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Z.length;x++){var W=Z[x];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Vo=!!Od,Dd=Od=null}finally{Ye=d,J.p=o,B.T=s}}t.current=r,Kt=2}}function yp(){if(Kt===2){Kt=0;var t=ea,r=xi,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=B.T,B.T=null;var o=J.p;J.p=2;var d=Ye;Ye|=4;try{Xm(t,r.alternate,r)}finally{Ye=d,J.p=o,B.T=s}}Kt=3}}function _p(){if(Kt===4||Kt===3){Kt=0,qe();var t=ea,r=xi,s=Ei,o=sp;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Kt=5:(Kt=0,xi=ea=null,bp(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Jr=null),Gt(s),r=r.stateNode,ye&&typeof ye.onCommitFiberRoot=="function")try{ye.onCommitFiberRoot(oe,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=B.T,d=J.p,J.p=2,B.T=null;try{for(var g=t.onRecoverableError,_=0;_<o.length;_++){var x=o[_];g(x.value,{componentStack:x.stack})}}finally{B.T=r,J.p=d}}(Ei&3)!==0&&Do(),sr(t),d=t.pendingLanes,(s&4194090)!==0&&(d&42)!==0?t===md?$s++:($s=0,md=t):$s=0,zs(0)}}function bp(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ys(r)))}function Do(t){return vp(),yp(),_p(),wp()}function wp(){if(Kt!==5)return!1;var t=ea,r=hd;hd=0;var s=Gt(Ei),o=B.T,d=J.p;try{J.p=32>s?32:s,B.T=null,s=gd,gd=null;var g=ea,_=Ei;if(Kt=0,xi=ea=null,Ei=0,(Ye&6)!==0)throw Error(i(331));var x=Ye;if(Ye|=4,ap(g.current),tp(g,g.current,_,s),Ye=x,zs(0,!1),ye&&typeof ye.onPostCommitFiberRoot=="function")try{ye.onPostCommitFiberRoot(oe,g)}catch{}return!0}finally{J.p=d,B.T=o,bp(t,r)}}function Sp(t,r,s){r=An(s,r),r=Yc(t.stateNode,r,2),t=Ir(t,r,2),t!==null&&(vt(t,2),sr(t))}function et(t,r,s){if(t.tag===3)Sp(t,t,s);else for(;r!==null;){if(r.tag===3){Sp(r,t,s);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Jr===null||!Jr.has(o))){t=An(s,t),s=Tm(2),o=Ir(r,s,2),o!==null&&(Rm(s,o,r,t),vt(o,2),sr(o));break}}r=r.return}}function _d(t,r,s){var o=t.pingCache;if(o===null){o=t.pingCache=new M0;var d=new Set;o.set(r,d)}else d=o.get(r),d===void 0&&(d=new Set,o.set(r,d));d.has(s)||(ud=!0,d.add(s),t=$0.bind(null,t,r,s),r.then(t,t))}function $0(t,r,s){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,at===t&&(He&s)===s&&(_t===4||_t===3&&(He&62914560)===He&&300>Je()-fd?(Ye&2)===0&&Ci(t,0):cd|=s,Si===He&&(Si=0)),sr(t)}function xp(t,r){r===0&&(r=Pl()),t=li(t,r),t!==null&&(vt(t,r),sr(t))}function z0(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),xp(t,s)}function F0(t,r){var s=0;switch(t.tag){case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(r),xp(t,s)}function H0(t,r){return se(t,r)}var No=null,Ri=null,bd=!1,jo=!1,wd=!1,za=0;function sr(t){t!==Ri&&t.next===null&&(Ri===null?No=Ri=t:Ri=Ri.next=t),jo=!0,bd||(bd=!0,B0())}function zs(t,r){if(!wd&&jo){wd=!0;do for(var s=!1,o=No;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var g=0;else{var _=o.suspendedLanes,x=o.pingedLanes;g=(1<<31-Ue(42|t)+1)-1,g&=d&~(_&~x),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,Rp(o,g))}else g=He,g=er(o,o===at?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(g&3)===0||dr(o,g)||(s=!0,Rp(o,g));o=o.next}while(s);wd=!1}}function V0(){Ep()}function Ep(){jo=bd=!1;var t=0;za!==0&&(Q0()&&(t=za),za=0);for(var r=Je(),s=null,o=No;o!==null;){var d=o.next,g=Cp(o,r);g===0?(o.next=null,s===null?No=d:s.next=d,d===null&&(Ri=s)):(s=o,(t!==0||(g&3)!==0)&&(jo=!0)),o=d}zs(t)}function Cp(t,r){for(var s=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var _=31-Ue(g),x=1<<_,O=d[_];O===-1?((x&s)===0||(x&o)!==0)&&(d[_]=wa(x,r)):O<=r&&(t.expiredLanes|=x),g&=~x}if(r=at,s=He,s=er(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&he(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||dr(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(o!==null&&he(o),Gt(s)){case 2:case 8:s=A;break;case 32:s=$;break;case 268435456:s=ie;break;default:s=$}return o=Tp.bind(null,t),s=se(s,o),t.callbackPriority=r,t.callbackNode=s,r}return o!==null&&o!==null&&he(o),t.callbackPriority=2,t.callbackNode=null,2}function Tp(t,r){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Do()&&t.callbackNode!==s)return null;var o=He;return o=er(t,t===at?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(op(t,o,r),Cp(t,Je()),t.callbackNode!=null&&t.callbackNode===s?Tp.bind(null,t):null)}function Rp(t,r){if(Do())return null;op(t,r,!0)}function B0(){J0(function(){(Ye&6)!==0?se(pt,V0):Ep()})}function Sd(){return za===0&&(za=Ul()),za}function Ap(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Vl(""+t)}function Op(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function I0(t,r,s,o,d){if(r==="submit"&&s&&s.stateNode===d){var g=Ap((d[lt]||null).action),_=o.submitter;_&&(r=(r=_[lt]||null)?Ap(r.formAction):_.getAttribute("formAction"),r!==null&&(g=r,_=null));var x=new Gl("action","action",null,o,d);t.push({event:x,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(za!==0){var O=_?Op(d,_):new FormData(d);Vc(s,{pending:!0,data:O,method:d.method,action:g},null,O)}}else typeof g=="function"&&(x.preventDefault(),O=_?Op(d,_):new FormData(d),Vc(s,{pending:!0,data:O,method:d.method,action:g},g,O))},currentTarget:d}]})}}for(var xd=0;xd<lc.length;xd++){var Ed=lc[xd],q0=Ed.toLowerCase(),G0=Ed[0].toUpperCase()+Ed.slice(1);Fn(q0,"on"+G0)}Fn(og,"onAnimationEnd"),Fn(ug,"onAnimationIteration"),Fn(cg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(u0,"onTransitionRun"),Fn(c0,"onTransitionStart"),Fn(d0,"onTransitionCancel"),Fn(dg,"onTransitionEnd"),Qa("onMouseEnter",["mouseout","mouseover"]),Qa("onMouseLeave",["mouseout","mouseover"]),Qa("onPointerEnter",["pointerout","pointerover"]),Qa("onPointerLeave",["pointerout","pointerover"]),xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fs));function Dp(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],d=o.event;o=o.listeners;e:{var g=void 0;if(r)for(var _=o.length-1;0<=_;_--){var x=o[_],O=x.instance,F=x.currentTarget;if(x=x.listener,O!==g&&d.isPropagationStopped())break e;g=x,d.currentTarget=F;try{g(d)}catch(K){_o(K)}d.currentTarget=null,g=O}else for(_=0;_<o.length;_++){if(x=o[_],O=x.instance,F=x.currentTarget,x=x.listener,O!==g&&d.isPropagationStopped())break e;g=x,d.currentTarget=F;try{g(d)}catch(K){_o(K)}d.currentTarget=null,g=O}}}}function ze(t,r){var s=r[fr];s===void 0&&(s=r[fr]=new Set);var o=t+"__bubble";s.has(o)||(Np(r,t,2,!1),s.add(o))}function Cd(t,r,s){var o=0;r&&(o|=4),Np(s,t,o,r)}var Mo="_reactListening"+Math.random().toString(36).slice(2);function Td(t){if(!t[Mo]){t[Mo]=!0,Eh.forEach(function(s){s!=="selectionchange"&&(Y0.has(s)||Cd(s,!1,t),Cd(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Mo]||(r[Mo]=!0,Cd("selectionchange",!1,r))}}function Np(t,r,s,o){switch(tv(r)){case 2:var d=bw;break;case 8:d=ww;break;default:d=Fd}s=d.bind(null,r,s,t),d=void 0,!Ku||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(r,s,{capture:!0,passive:d}):t.addEventListener(r,s,!0):d!==void 0?t.addEventListener(r,s,{passive:d}):t.addEventListener(r,s,!1)}function Rd(t,r,s,o,d){var g=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var x=o.stateNode.containerInfo;if(x===d)break;if(_===4)for(_=o.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;x!==null;){if(_=Ka(x),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){o=g=_;continue e}x=x.parentNode}}o=o.return}$h(function(){var F=g,K=Gu(s),Z=[];e:{var H=fg.get(t);if(H!==void 0){var I=Gl,Re=t;switch(t){case"keypress":if(Il(s)===0)break e;case"keydown":case"keyup":I=Hb;break;case"focusin":Re="focus",I=Zu;break;case"focusout":Re="blur",I=Zu;break;case"beforeblur":case"afterblur":I=Zu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Ob;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=Ib;break;case og:case ug:case cg:I=jb;break;case dg:I=Gb;break;case"scroll":case"scrollend":I=Rb;break;case"wheel":I=Kb;break;case"copy":case"cut":case"paste":I=kb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Bh;break;case"toggle":case"beforetoggle":I=Wb}var Ce=(r&4)!==0,Ze=!Ce&&(t==="scroll"||t==="scrollend"),U=Ce?H!==null?H+"Capture":null:H;Ce=[];for(var j=F,z;j!==null;){var W=j;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||U===null||(W=is(j,U),W!=null&&Ce.push(Hs(j,W,z))),Ze)break;j=j.return}0<Ce.length&&(H=new I(H,Re,null,s,K),Z.push({event:H,listeners:Ce}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",H&&s!==qu&&(Re=s.relatedTarget||s.fromElement)&&(Ka(Re)||Re[Jt]))break e;if((I||H)&&(H=K.window===K?K:(H=K.ownerDocument)?H.defaultView||H.parentWindow:window,I?(Re=s.relatedTarget||s.toElement,I=F,Re=Re?Ka(Re):null,Re!==null&&(Ze=u(Re),Ce=Re.tag,Re!==Ze||Ce!==5&&Ce!==27&&Ce!==6)&&(Re=null)):(I=null,Re=F),I!==Re)){if(Ce=Hh,W="onMouseLeave",U="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(Ce=Bh,W="onPointerLeave",U="onPointerEnter",j="pointer"),Ze=I==null?H:as(I),z=Re==null?H:as(Re),H=new Ce(W,j+"leave",I,s,K),H.target=Ze,H.relatedTarget=z,W=null,Ka(K)===F&&(Ce=new Ce(U,j+"enter",Re,s,K),Ce.target=z,Ce.relatedTarget=Ze,W=Ce),Ze=W,I&&Re)t:{for(Ce=I,U=Re,j=0,z=Ce;z;z=Ai(z))j++;for(z=0,W=U;W;W=Ai(W))z++;for(;0<j-z;)Ce=Ai(Ce),j--;for(;0<z-j;)U=Ai(U),z--;for(;j--;){if(Ce===U||U!==null&&Ce===U.alternate)break t;Ce=Ai(Ce),U=Ai(U)}Ce=null}else Ce=null;I!==null&&jp(Z,H,I,Ce,!1),Re!==null&&Ze!==null&&jp(Z,Ze,Re,Ce,!0)}}e:{if(H=F?as(F):window,I=H.nodeName&&H.nodeName.toLowerCase(),I==="select"||I==="input"&&H.type==="file")var me=Qh;else if(Xh(H))if(Zh)me=s0;else{me=a0;var Pe=r0}else I=H.nodeName,!I||I.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&Iu(F.elementType)&&(me=Qh):me=i0;if(me&&(me=me(t,F))){Wh(Z,me,s,K);break e}Pe&&Pe(t,H,F),t==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&Bu(H,"number",H.value)}switch(Pe=F?as(F):window,t){case"focusin":(Xh(Pe)||Pe.contentEditable==="true")&&(ai=Pe,ac=F,hs=null);break;case"focusout":hs=ac=ai=null;break;case"mousedown":ic=!0;break;case"contextmenu":case"mouseup":case"dragend":ic=!1,sg(Z,s,K);break;case"selectionchange":if(o0)break;case"keydown":case"keyup":sg(Z,s,K)}var be;if(ec)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ri?Yh(t,s)&&(Te="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Te="onCompositionStart");Te&&(Ih&&s.locale!=="ko"&&(ri||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ri&&(be=zh()):(Fr=K,Xu="value"in Fr?Fr.value:Fr.textContent,ri=!0)),Pe=ko(F,Te),0<Pe.length&&(Te=new Vh(Te,t,null,s,K),Z.push({event:Te,listeners:Pe}),be?Te.data=be:(be=Kh(s),be!==null&&(Te.data=be)))),(be=Zb?Jb(t,s):e0(t,s))&&(Te=ko(F,"onBeforeInput"),0<Te.length&&(Pe=new Vh("onBeforeInput","beforeinput",null,s,K),Z.push({event:Pe,listeners:Te}),Pe.data=be)),I0(Z,t,F,s,K)}Dp(Z,r)})}function Hs(t,r,s){return{instance:t,listener:r,currentTarget:s}}function ko(t,r){for(var s=r+"Capture",o=[];t!==null;){var d=t,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=is(t,s),d!=null&&o.unshift(Hs(t,d,g)),d=is(t,r),d!=null&&o.push(Hs(t,d,g))),t.tag===3)return o;t=t.return}return[]}function Ai(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jp(t,r,s,o,d){for(var g=r._reactName,_=[];s!==null&&s!==o;){var x=s,O=x.alternate,F=x.stateNode;if(x=x.tag,O!==null&&O===o)break;x!==5&&x!==26&&x!==27||F===null||(O=F,d?(F=is(s,g),F!=null&&_.unshift(Hs(s,F,O))):d||(F=is(s,g),F!=null&&_.push(Hs(s,F,O)))),s=s.return}_.length!==0&&t.push({event:r,listeners:_})}var K0=/\r\n?/g,X0=/\u0000|\uFFFD/g;function Mp(t){return(typeof t=="string"?t:""+t).replace(K0,`
`).replace(X0,"")}function kp(t,r){return r=Mp(r),Mp(t)===r}function Lo(){}function Qe(t,r,s,o,d,g){switch(s){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||ei(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&ei(t,""+o);break;case"className":zl(t,"class",o);break;case"tabIndex":zl(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":zl(t,s,o);break;case"style":Uh(t,o,g);break;case"data":if(r!=="object"){zl(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Vl(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(r!=="input"&&Qe(t,r,"name",d.name,d,null),Qe(t,r,"formEncType",d.formEncType,d,null),Qe(t,r,"formMethod",d.formMethod,d,null),Qe(t,r,"formTarget",d.formTarget,d,null)):(Qe(t,r,"encType",d.encType,d,null),Qe(t,r,"method",d.method,d,null),Qe(t,r,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Vl(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=Lo);break;case"onScroll":o!=null&&ze("scroll",t);break;case"onScrollEnd":o!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Vl(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":ze("beforetoggle",t),ze("toggle",t),$l(t,"popover",o);break;case"xlinkActuate":gr(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":gr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":gr(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":gr(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":gr(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":gr(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":gr(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":gr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":gr(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$l(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Cb.get(s)||s,$l(t,s,o))}}function Ad(t,r,s,o,d,g){switch(s){case"style":Uh(t,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof o=="string"?ei(t,o):(typeof o=="number"||typeof o=="bigint")&&ei(t,""+o);break;case"onScroll":o!=null&&ze("scroll",t);break;case"onScrollEnd":o!=null&&ze("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Lo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ch.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),r=s.slice(2,d?s.length-7:void 0),g=t[lt]||null,g=g!=null?g[s]:null,typeof g=="function"&&t.removeEventListener(r,g,d),typeof o=="function")){typeof g!="function"&&g!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,o,d);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):$l(t,s,o)}}}function Xt(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var o=!1,d=!1,g;for(g in s)if(s.hasOwnProperty(g)){var _=s[g];if(_!=null)switch(g){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Qe(t,r,g,_,s,null)}}d&&Qe(t,r,"srcSet",s.srcSet,s,null),o&&Qe(t,r,"src",s.src,s,null);return;case"input":ze("invalid",t);var x=g=_=d=null,O=null,F=null;for(o in s)if(s.hasOwnProperty(o)){var K=s[o];if(K!=null)switch(o){case"name":d=K;break;case"type":_=K;break;case"checked":O=K;break;case"defaultChecked":F=K;break;case"value":g=K;break;case"defaultValue":x=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:Qe(t,r,o,K,s,null)}}jh(t,g,x,O,F,_,d,!1),Fl(t);return;case"select":ze("invalid",t),o=_=g=null;for(d in s)if(s.hasOwnProperty(d)&&(x=s[d],x!=null))switch(d){case"value":g=x;break;case"defaultValue":_=x;break;case"multiple":o=x;default:Qe(t,r,d,x,s,null)}r=g,s=_,t.multiple=!!o,r!=null?Ja(t,!!o,r,!1):s!=null&&Ja(t,!!o,s,!0);return;case"textarea":ze("invalid",t),g=d=o=null;for(_ in s)if(s.hasOwnProperty(_)&&(x=s[_],x!=null))switch(_){case"value":o=x;break;case"defaultValue":d=x;break;case"children":g=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:Qe(t,r,_,x,s,null)}kh(t,o,d,g),Fl(t);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(o=s[O],o!=null))switch(O){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Qe(t,r,O,o,s,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(o=0;o<Fs.length;o++)ze(Fs[o],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(o=s[F],o!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Qe(t,r,F,o,s,null)}return;default:if(Iu(r)){for(K in s)s.hasOwnProperty(K)&&(o=s[K],o!==void 0&&Ad(t,r,K,o,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(o=s[x],o!=null&&Qe(t,r,x,o,s,null))}function W0(t,r,s,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,_=null,x=null,O=null,F=null,K=null;for(I in s){var Z=s[I];if(s.hasOwnProperty(I)&&Z!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":O=Z;default:o.hasOwnProperty(I)||Qe(t,r,I,null,o,Z)}}for(var H in o){var I=o[H];if(Z=s[H],o.hasOwnProperty(H)&&(I!=null||Z!=null))switch(H){case"type":g=I;break;case"name":d=I;break;case"checked":F=I;break;case"defaultChecked":K=I;break;case"value":_=I;break;case"defaultValue":x=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,r));break;default:I!==Z&&Qe(t,r,H,I,o,Z)}}Vu(t,_,x,O,F,K,g,d);return;case"select":I=_=x=H=null;for(g in s)if(O=s[g],s.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":I=O;default:o.hasOwnProperty(g)||Qe(t,r,g,null,o,O)}for(d in o)if(g=o[d],O=s[d],o.hasOwnProperty(d)&&(g!=null||O!=null))switch(d){case"value":H=g;break;case"defaultValue":x=g;break;case"multiple":_=g;default:g!==O&&Qe(t,r,d,g,o,O)}r=x,s=_,o=I,H!=null?Ja(t,!!s,H,!1):!!o!=!!s&&(r!=null?Ja(t,!!s,r,!0):Ja(t,!!s,s?[]:"",!1));return;case"textarea":I=H=null;for(x in s)if(d=s[x],s.hasOwnProperty(x)&&d!=null&&!o.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Qe(t,r,x,null,o,d)}for(_ in o)if(d=o[_],g=s[_],o.hasOwnProperty(_)&&(d!=null||g!=null))switch(_){case"value":H=d;break;case"defaultValue":I=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&Qe(t,r,_,d,o,g)}Mh(t,H,I);return;case"option":for(var Re in s)if(H=s[Re],s.hasOwnProperty(Re)&&H!=null&&!o.hasOwnProperty(Re))switch(Re){case"selected":t.selected=!1;break;default:Qe(t,r,Re,null,o,H)}for(O in o)if(H=o[O],I=s[O],o.hasOwnProperty(O)&&H!==I&&(H!=null||I!=null))switch(O){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Qe(t,r,O,H,o,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in s)H=s[Ce],s.hasOwnProperty(Ce)&&H!=null&&!o.hasOwnProperty(Ce)&&Qe(t,r,Ce,null,o,H);for(F in o)if(H=o[F],I=s[F],o.hasOwnProperty(F)&&H!==I&&(H!=null||I!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,r));break;default:Qe(t,r,F,H,o,I)}return;default:if(Iu(r)){for(var Ze in s)H=s[Ze],s.hasOwnProperty(Ze)&&H!==void 0&&!o.hasOwnProperty(Ze)&&Ad(t,r,Ze,void 0,o,H);for(K in o)H=o[K],I=s[K],!o.hasOwnProperty(K)||H===I||H===void 0&&I===void 0||Ad(t,r,K,H,o,I);return}}for(var U in s)H=s[U],s.hasOwnProperty(U)&&H!=null&&!o.hasOwnProperty(U)&&Qe(t,r,U,null,o,H);for(Z in o)H=o[Z],I=s[Z],!o.hasOwnProperty(Z)||H===I||H==null&&I==null||Qe(t,r,Z,H,o,I)}var Od=null,Dd=null;function Uo(t){return t.nodeType===9?t:t.ownerDocument}function Lp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Up(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Nd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var jd=null;function Q0(){var t=window.event;return t&&t.type==="popstate"?t===jd?!1:(jd=t,!0):(jd=null,!1)}var Pp=typeof setTimeout=="function"?setTimeout:void 0,Z0=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,J0=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(t){return $p.resolve(null).then(t).catch(ew)}:Pp;function ew(t){setTimeout(function(){throw t})}function na(t){return t==="head"}function zp(t,r){var s=r,o=0,d=0;do{var g=s.nextSibling;if(t.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"){if(0<o&&8>o){s=o;var _=t.ownerDocument;if(s&1&&Vs(_.documentElement),s&2&&Vs(_.body),s&4)for(s=_.head,Vs(s),_=s.firstChild;_;){var x=_.nextSibling,O=_.nodeName;_[hr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=x}}if(d===0){t.removeChild(g),Ws(r);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:o=s.charCodeAt(0)-48;else o=0;s=g}while(s);Ws(r)}function Md(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Md(s),$u(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function tw(t,r,s,o){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[hr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function nw(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Vn(t.nextSibling),t===null))return null;return t}function kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function rw(t,r){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")r();else{var o=function(){r(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Vn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Ld=null;function Fp(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function Hp(t,r,s){switch(r=Uo(s),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Vs(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);$u(t)}var kn=new Map,Vp=new Set;function Po(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ar=J.d;J.d={f:aw,r:iw,D:sw,C:lw,L:ow,m:uw,X:dw,S:cw,M:fw};function aw(){var t=Ar.f(),r=Ao();return t||r}function iw(t){var r=Xa(t);r!==null&&r.tag===5&&r.type==="form"?om(r):Ar.r(t)}var Oi=typeof document>"u"?null:document;function Bp(t,r,s){var o=Oi;if(o&&typeof r=="string"&&r){var d=Rn(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),Vp.has(d)||(Vp.add(d),t={rel:t,crossOrigin:s,href:r},o.querySelector(d)===null&&(r=o.createElement("link"),Xt(r,"link",t),Pt(r),o.head.appendChild(r)))}}function sw(t){Ar.D(t),Bp("dns-prefetch",t,null)}function lw(t,r){Ar.C(t,r),Bp("preconnect",t,r)}function ow(t,r,s){Ar.L(t,r,s);var o=Oi;if(o&&t&&r){var d='link[rel="preload"][as="'+Rn(r)+'"]';r==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Rn(s.imageSizes)+'"]')):d+='[href="'+Rn(t)+'"]';var g=d;switch(r){case"style":g=Di(t);break;case"script":g=Ni(t)}kn.has(g)||(t=v({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),kn.set(g,t),o.querySelector(d)!==null||r==="style"&&o.querySelector(Bs(g))||r==="script"&&o.querySelector(Is(g))||(r=o.createElement("link"),Xt(r,"link",t),Pt(r),o.head.appendChild(r)))}}function uw(t,r){Ar.m(t,r);var s=Oi;if(s&&t){var o=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Rn(o)+'"][href="'+Rn(t)+'"]',g=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ni(t)}if(!kn.has(g)&&(t=v({rel:"modulepreload",href:t},r),kn.set(g,t),s.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Is(g)))return}o=s.createElement("link"),Xt(o,"link",t),Pt(o),s.head.appendChild(o)}}}function cw(t,r,s){Ar.S(t,r,s);var o=Oi;if(o&&t){var d=Wa(o).hoistableStyles,g=Di(t);r=r||"default";var _=d.get(g);if(!_){var x={loading:0,preload:null};if(_=o.querySelector(Bs(g)))x.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":r},s),(s=kn.get(g))&&Ud(t,s);var O=_=o.createElement("link");Pt(O),Xt(O,"link",t),O._p=new Promise(function(F,K){O.onload=F,O.onerror=K}),O.addEventListener("load",function(){x.loading|=1}),O.addEventListener("error",function(){x.loading|=2}),x.loading|=4,$o(_,r,o)}_={type:"stylesheet",instance:_,count:1,state:x},d.set(g,_)}}}function dw(t,r){Ar.X(t,r);var s=Oi;if(s&&t){var o=Wa(s).hoistableScripts,d=Ni(t),g=o.get(d);g||(g=s.querySelector(Is(d)),g||(t=v({src:t,async:!0},r),(r=kn.get(d))&&Pd(t,r),g=s.createElement("script"),Pt(g),Xt(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(d,g))}}function fw(t,r){Ar.M(t,r);var s=Oi;if(s&&t){var o=Wa(s).hoistableScripts,d=Ni(t),g=o.get(d);g||(g=s.querySelector(Is(d)),g||(t=v({src:t,async:!0,type:"module"},r),(r=kn.get(d))&&Pd(t,r),g=s.createElement("script"),Pt(g),Xt(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(d,g))}}function Ip(t,r,s,o){var d=(d=ve.current)?Po(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Di(s.href),s=Wa(d).hoistableStyles,o=s.get(r),o||(o={type:"style",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Di(s.href);var g=Wa(d).hoistableStyles,_=g.get(t);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,_),(g=d.querySelector(Bs(t)))&&!g._p&&(_.instance=g,_.state.loading=5),kn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(t,s),g||hw(d,t,s,_.state))),r&&o===null)throw Error(i(528,""));return _}if(r&&o!==null)throw Error(i(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ni(s),s=Wa(d).hoistableScripts,o=s.get(r),o||(o={type:"script",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Di(t){return'href="'+Rn(t)+'"'}function Bs(t){return'link[rel="stylesheet"]['+t+"]"}function qp(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function hw(t,r,s,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),Xt(r,"link",s),Pt(r),t.head.appendChild(r))}function Ni(t){return'[src="'+Rn(t)+'"]'}function Is(t){return"script[async]"+t}function Gp(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+Rn(s.href)+'"]');if(o)return r.instance=o,Pt(o),o;var d=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Pt(o),Xt(o,"style",d),$o(o,s.precedence,t),r.instance=o;case"stylesheet":d=Di(s.href);var g=t.querySelector(Bs(d));if(g)return r.state.loading|=4,r.instance=g,Pt(g),g;o=qp(s),(d=kn.get(d))&&Ud(o,d),g=(t.ownerDocument||t).createElement("link"),Pt(g);var _=g;return _._p=new Promise(function(x,O){_.onload=x,_.onerror=O}),Xt(g,"link",o),r.state.loading|=4,$o(g,s.precedence,t),r.instance=g;case"script":return g=Ni(s.src),(d=t.querySelector(Is(g)))?(r.instance=d,Pt(d),d):(o=s,(d=kn.get(g))&&(o=v({},s),Pd(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),Pt(d),Xt(d,"link",o),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,$o(o,s.precedence,t));return r.instance}function $o(t,r,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,g=d,_=0;_<o.length;_++){var x=o[_];if(x.dataset.precedence===r)g=x;else if(g!==d)break}g?g.parentNode.insertBefore(t,g.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function Ud(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Pd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var zo=null;function Yp(t,r,s){if(zo===null){var o=new Map,d=zo=new Map;d.set(s,o)}else d=zo,o=d.get(s),o||(o=new Map,d.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var g=s[d];if(!(g[hr]||g[st]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(r)||"";_=t+_;var x=o.get(_);x?x.push(g):o.set(_,[g])}}return o}function Kp(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function gw(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Xp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var qs=null;function mw(){}function pw(t,r,s){if(qs===null)throw Error(i(475));var o=qs;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Di(s.href),g=t.querySelector(Bs(d));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Fo.bind(o),t.then(o,o)),r.state.loading|=4,r.instance=g,Pt(g);return}g=t.ownerDocument||t,s=qp(s),(d=kn.get(d))&&Ud(s,d),g=g.createElement("link"),Pt(g);var _=g;_._p=new Promise(function(x,O){_.onload=x,_.onerror=O}),Xt(g,"link",s),r.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=Fo.bind(o),t.addEventListener("load",r),t.addEventListener("error",r))}}function vw(){if(qs===null)throw Error(i(475));var t=qs;return t.stylesheets&&t.count===0&&$d(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&$d(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Fo(){if(this.count--,this.count===0){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ho=null;function $d(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ho=new Map,r.forEach(yw,t),Ho=null,Fo.call(t))}function yw(t,r){if(!(r.state.loading&4)){var s=Ho.get(t);if(s)var o=s.get(null);else{s=new Map,Ho.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var _=d[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),o=_)}o&&s.set(null,o)}d=r.instance,_=d.getAttribute("data-precedence"),g=s.get(_)||o,g===o&&s.set(null,d),s.set(_,d),this.count++,o=Fo.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),g?g.parentNode.insertBefore(d,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var Gs={$$typeof:T,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function _w(t,r,s,o,d,g,_,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rs(0),this.hiddenUpdates=rs(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Wp(t,r,s,o,d,g,_,x,O,F,K,Z){return t=new _w(t,r,s,_,x,O,F,Z),r=1,g===!0&&(r|=24),g=vn(3,null,null,r),t.current=g,g.stateNode=t,r=_c(),r.refCount++,t.pooledCache=r,r.refCount++,g.memoizedState={element:o,isDehydrated:s,cache:r},xc(g),t}function Qp(t){return t?(t=oi,t):oi}function Zp(t,r,s,o,d,g){d=Qp(d),o.context===null?o.context=d:o.pendingContext=d,o=Br(r),o.payload={element:s},g=g===void 0?null:g,g!==null&&(o.callback=g),s=Ir(t,o,r),s!==null&&(Sn(s,t,r),Ss(s,t,r))}function Jp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function zd(t,r){Jp(t,r),(t=t.alternate)&&Jp(t,r)}function ev(t){if(t.tag===13){var r=li(t,67108864);r!==null&&Sn(r,t,67108864),zd(t,67108864)}}var Vo=!0;function bw(t,r,s,o){var d=B.T;B.T=null;var g=J.p;try{J.p=2,Fd(t,r,s,o)}finally{J.p=g,B.T=d}}function ww(t,r,s,o){var d=B.T;B.T=null;var g=J.p;try{J.p=8,Fd(t,r,s,o)}finally{J.p=g,B.T=d}}function Fd(t,r,s,o){if(Vo){var d=Hd(o);if(d===null)Rd(t,r,o,Bo,s),nv(t,o);else if(xw(d,t,r,s,o))o.stopPropagation();else if(nv(t,o),r&4&&-1<Sw.indexOf(t)){for(;d!==null;){var g=Xa(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=gn(g.pendingLanes);if(_!==0){var x=g;for(x.pendingLanes|=2,x.entangledLanes|=2;_;){var O=1<<31-Ue(_);x.entanglements[1]|=O,_&=~O}sr(g),(Ye&6)===0&&(To=Je()+500,zs(0))}}break;case 13:x=li(g,2),x!==null&&Sn(x,g,2),Ao(),zd(g,2)}if(g=Hd(o),g===null&&Rd(t,r,o,Bo,s),g===d)break;d=g}d!==null&&o.stopPropagation()}else Rd(t,r,o,null,s)}}function Hd(t){return t=Gu(t),Vd(t)}var Bo=null;function Vd(t){if(Bo=null,t=Ka(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=c(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Bo=t,null}function tv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ut()){case pt:return 2;case A:return 8;case $:case q:return 32;case ie:return 268435456;default:return 32}default:return 32}}var Bd=!1,ra=null,aa=null,ia=null,Ys=new Map,Ks=new Map,sa=[],Sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nv(t,r){switch(t){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":Ys.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(r.pointerId)}}function Xs(t,r,s,o,d,g){return t===null||t.nativeEvent!==g?(t={blockedOn:r,domEventName:s,eventSystemFlags:o,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Xa(r),r!==null&&ev(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function xw(t,r,s,o,d){switch(r){case"focusin":return ra=Xs(ra,t,r,s,o,d),!0;case"dragenter":return aa=Xs(aa,t,r,s,o,d),!0;case"mouseover":return ia=Xs(ia,t,r,s,o,d),!0;case"pointerover":var g=d.pointerId;return Ys.set(g,Xs(Ys.get(g)||null,t,r,s,o,d)),!0;case"gotpointercapture":return g=d.pointerId,Ks.set(g,Xs(Ks.get(g)||null,t,r,s,o,d)),!0}return!1}function rv(t){var r=Ka(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=c(s),r!==null){t.blockedOn=r,$r(t.priority,function(){if(s.tag===13){var o=wn();o=Zt(o);var d=li(s,o);d!==null&&Sn(d,s,o),zd(s,o)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Io(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=Hd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);qu=o,s.target.dispatchEvent(o),qu=null}else return r=Xa(s),r!==null&&ev(r),t.blockedOn=s,!1;r.shift()}return!0}function av(t,r,s){Io(t)&&s.delete(r)}function Ew(){Bd=!1,ra!==null&&Io(ra)&&(ra=null),aa!==null&&Io(aa)&&(aa=null),ia!==null&&Io(ia)&&(ia=null),Ys.forEach(av),Ks.forEach(av)}function qo(t,r){t.blockedOn===r&&(t.blockedOn=null,Bd||(Bd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ew)))}var Go=null;function iv(t){Go!==t&&(Go=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Go===t&&(Go=null);for(var r=0;r<t.length;r+=3){var s=t[r],o=t[r+1],d=t[r+2];if(typeof o!="function"){if(Vd(o||s)===null)continue;break}var g=Xa(s);g!==null&&(t.splice(r,3),r-=3,Vc(g,{pending:!0,data:d,method:s.method,action:o},o,d))}}))}function Ws(t){function r(O){return qo(O,t)}ra!==null&&qo(ra,t),aa!==null&&qo(aa,t),ia!==null&&qo(ia,t),Ys.forEach(r),Ks.forEach(r);for(var s=0;s<sa.length;s++){var o=sa[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<sa.length&&(s=sa[0],s.blockedOn===null);)rv(s),s.blockedOn===null&&sa.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var d=s[o],g=s[o+1],_=d[lt]||null;if(typeof g=="function")_||iv(s);else if(_){var x=null;if(g&&g.hasAttribute("formAction")){if(d=g,_=g[lt]||null)x=_.formAction;else if(Vd(d)!==null)continue}else x=_.action;typeof x=="function"?s[o+1]=x:(s.splice(o,3),o-=3),iv(s)}}}function Id(t){this._internalRoot=t}Yo.prototype.render=Id.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var s=r.current,o=wn();Zp(s,o,t,r,null,null)},Yo.prototype.unmount=Id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Zp(t.current,2,null,t,null,null),Ao(),r[Jt]=null}};function Yo(t){this._internalRoot=t}Yo.prototype.unstable_scheduleHydration=function(t){if(t){var r=mn();t={blockedOn:null,target:t,priority:r};for(var s=0;s<sa.length&&r!==0&&r<sa[s].priority;s++);sa.splice(s,0,t),s===0&&rv(t)}};var sv=n.version;if(sv!=="19.1.1")throw Error(i(527,sv,"19.1.1"));J.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=h(r),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var Cw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ko.isDisabled&&Ko.supportsFiber)try{oe=Ko.inject(Cw),ye=Ko}catch{}}return Zs.createRoot=function(t,r){if(!l(t))throw Error(i(299));var s=!1,o="",d=Sm,g=xm,_=Em,x=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(x=r.unstable_transitionCallbacks)),r=Wp(t,1,!1,null,null,s,o,d,g,_,x,null),t[Jt]=r.current,Td(t),new Id(r)},Zs.hydrateRoot=function(t,r,s){if(!l(t))throw Error(i(299));var o=!1,d="",g=Sm,_=xm,x=Em,O=null,F=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(O=s.unstable_transitionCallbacks),s.formState!==void 0&&(F=s.formState)),r=Wp(t,1,!0,r,s??null,o,d,g,_,x,O,F),r.context=Qp(null),s=r.current,o=wn(),o=Zt(o),d=Br(o),d.callback=null,Ir(s,d,o),s=o,r.current.lanes=s,vt(r,s),sr(r),t[Jt]=r.current,Td(t),new Yo(r)},Zs.version="19.1.1",Zs}var pv;function Lw(){if(pv)return Yd.exports;pv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Yd.exports=kw(),Yd.exports}var Uw=Lw();const Pw=qf(Uw);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vv="popstate";function $w(e={}){function n(i,l){let{pathname:u,search:c,hash:f}=i.location;return xf("",{pathname:u,search:c,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function a(i,l){return typeof l=="string"?l:bl(l)}return Fw(n,a,null,e)}function ht(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Kn(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function zw(){return Math.random().toString(36).substring(2,10)}function yv(e,n){return{usr:e.state,key:e.key,idx:n}}function xf(e,n,a=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?Wi(n):n,state:a,key:n&&n.key||i||zw()}}function bl({pathname:e="/",search:n="",hash:a=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Wi(e){let n={};if(e){let a=e.indexOf("#");a>=0&&(n.hash=e.substring(a),e=e.substring(0,a));let i=e.indexOf("?");i>=0&&(n.search=e.substring(i),e=e.substring(0,i)),e&&(n.pathname=e)}return n}function Fw(e,n,a,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,c=l.history,f="POP",h=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function y(){f="POP";let R=v(),D=R==null?null:R-m;m=R,h&&h({action:f,location:C.location,delta:D})}function w(R,D){f="PUSH";let L=xf(C.location,R,D);m=v()+1;let T=yv(L,m),M=C.createHref(L);try{c.pushState(T,"",M)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;l.location.assign(M)}u&&h&&h({action:f,location:C.location,delta:1})}function b(R,D){f="REPLACE";let L=xf(C.location,R,D);m=v();let T=yv(L,m),M=C.createHref(L);c.replaceState(T,"",M),u&&h&&h({action:f,location:C.location,delta:0})}function S(R){return Hw(R)}let C={get action(){return f},get location(){return e(l,c)},listen(R){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(vv,y),h=R,()=>{l.removeEventListener(vv,y),h=null}},createHref(R){return n(l,R)},createURL:S,encodeLocation(R){let D=S(R);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:b,go(R){return c.go(R)}};return C}function Hw(e,n=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),ht(a,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:bl(e);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=a+i),new URL(i,a)}function $y(e,n,a="/"){return Vw(e,n,a,!1)}function Vw(e,n,a,i){let l=typeof n=="string"?Wi(n):n,u=Lr(l.pathname||"/",a);if(u==null)return null;let c=zy(e);Bw(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=eS(u);f=Zw(c[h],m,i)}return f}function zy(e,n=[],a=[],i="",l=!1){let u=(c,f,h=l,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&h)return;ht(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let y=kr([i,v.relativePath]),w=a.concat(v);c.children&&c.children.length>0&&(ht(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),zy(c.children,n,w,y,h)),!(c.path==null&&!c.index)&&n.push({path:y,score:Ww(y,c.index),routesMeta:w})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))u(c,f);else for(let h of Fy(c.path))u(c,f,!0,h)}),n}function Fy(e){let n=e.split("/");if(n.length===0)return[];let[a,...i]=n,l=a.endsWith("?"),u=a.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let c=Fy(i.join("/")),f=[];return f.push(...c.map(h=>h===""?u:[u,h].join("/"))),l&&f.push(...c),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function Bw(e){e.sort((n,a)=>n.score!==a.score?a.score-n.score:Qw(n.routesMeta.map(i=>i.childrenIndex),a.routesMeta.map(i=>i.childrenIndex)))}var Iw=/^:[\w-]+$/,qw=3,Gw=2,Yw=1,Kw=10,Xw=-2,_v=e=>e==="*";function Ww(e,n){let a=e.split("/"),i=a.length;return a.some(_v)&&(i+=Xw),n&&(i+=Gw),a.filter(l=>!_v(l)).reduce((l,u)=>l+(Iw.test(u)?qw:u===""?Yw:Kw),i)}function Qw(e,n){return e.length===n.length&&e.slice(0,-1).every((i,l)=>i===n[l])?e[e.length-1]-n[n.length-1]:0}function Zw(e,n,a=!1){let{routesMeta:i}=e,l={},u="/",c=[];for(let f=0;f<i.length;++f){let h=i[f],m=f===i.length-1,v=u==="/"?n:n.slice(u.length)||"/",y=cu({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),w=h.route;if(!y&&m&&a&&!i[i.length-1].route.index&&(y=cu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!y)return null;Object.assign(l,y.params),c.push({params:l,pathname:kr([u,y.pathname]),pathnameBase:aS(kr([u,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(u=kr([u,y.pathnameBase]))}return c}function cu(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,i]=Jw(e.path,e.caseSensitive,e.end),l=n.match(a);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:y},w)=>{if(v==="*"){let S=f[w]||"";c=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const b=f[w];return y&&!b?m[v]=void 0:m[v]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:e}}function Jw(e,n=!1,a=!0){Kn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),i]}function eS(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Kn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function Lr(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,i=e.charAt(a);return i&&i!=="/"?null:e.slice(a)||"/"}function tS(e,n="/"){let{pathname:a,search:i="",hash:l=""}=typeof e=="string"?Wi(e):e;return{pathname:a?a.startsWith("/")?a:nS(a,n):n,search:iS(i),hash:sS(l)}}function nS(e,n){let a=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?a.length>1&&a.pop():l!=="."&&a.push(l)}),a.length>1?a.join("/"):"/"}function Qd(e,n,a,i){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rS(e){return e.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function Yf(e){let n=rS(e);return n.map((a,i)=>i===n.length-1?a.pathname:a.pathnameBase)}function Kf(e,n,a,i=!1){let l;typeof e=="string"?l=Wi(e):(l={...e},ht(!l.pathname||!l.pathname.includes("?"),Qd("?","pathname","search",l)),ht(!l.pathname||!l.pathname.includes("#"),Qd("#","pathname","hash",l)),ht(!l.search||!l.search.includes("#"),Qd("#","search","hash",l)));let u=e===""||l.pathname==="",c=u?"/":l.pathname,f;if(c==null)f=a;else{let y=n.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),y-=1;l.pathname=w.join("/")}f=y>=0?n[y]:"/"}let h=tS(l,f),m=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&a.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}var kr=e=>e.join("/").replace(/\/\/+/g,"/"),aS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Hy=["POST","PUT","PATCH","DELETE"];new Set(Hy);var oS=["GET",...Hy];new Set(oS);var Qi=E.createContext(null);Qi.displayName="DataRouter";var Cu=E.createContext(null);Cu.displayName="DataRouterState";E.createContext(!1);var Vy=E.createContext({isTransitioning:!1});Vy.displayName="ViewTransition";var uS=E.createContext(new Map);uS.displayName="Fetchers";var cS=E.createContext(null);cS.displayName="Await";var Qn=E.createContext(null);Qn.displayName="Navigation";var Al=E.createContext(null);Al.displayName="Location";var $n=E.createContext({outlet:null,matches:[],isDataRoute:!1});$n.displayName="Route";var Xf=E.createContext(null);Xf.displayName="RouteError";function dS(e,{relative:n}={}){ht(Zi(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:i}=E.useContext(Qn),{hash:l,pathname:u,search:c}=Ol(e,{relative:n}),f=u;return a!=="/"&&(f=u==="/"?a:kr([a,u])),i.createHref({pathname:f,search:c,hash:l})}function Zi(){return E.useContext(Al)!=null}function Pr(){return ht(Zi(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Al).location}var By="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Iy(e){E.useContext(Qn).static||E.useLayoutEffect(e)}function Tu(){let{isDataRoute:e}=E.useContext($n);return e?RS():fS()}function fS(){ht(Zi(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(Qi),{basename:n,navigator:a}=E.useContext(Qn),{matches:i}=E.useContext($n),{pathname:l}=Pr(),u=JSON.stringify(Yf(i)),c=E.useRef(!1);return Iy(()=>{c.current=!0}),E.useCallback((h,m={})=>{if(Kn(c.current,By),!c.current)return;if(typeof h=="number"){a.go(h);return}let v=Kf(h,JSON.parse(u),l,m.relative==="path");e==null&&n!=="/"&&(v.pathname=v.pathname==="/"?n:kr([n,v.pathname])),(m.replace?a.replace:a.push)(v,m.state,m)},[n,a,u,l,e])}var hS=E.createContext(null);function gS(e){let n=E.useContext($n).outlet;return n&&E.createElement(hS.Provider,{value:e},n)}function mS(){let{matches:e}=E.useContext($n),n=e[e.length-1];return n?n.params:{}}function Ol(e,{relative:n}={}){let{matches:a}=E.useContext($n),{pathname:i}=Pr(),l=JSON.stringify(Yf(a));return E.useMemo(()=>Kf(e,JSON.parse(l),i,n==="path"),[e,l,i,n])}function pS(e,n){return qy(e,n)}function qy(e,n,a,i){ht(Zi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=E.useContext(Qn),{matches:u}=E.useContext($n),c=u[u.length-1],f=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",v=c&&c.route;{let D=v&&v.path||"";Gy(h,!v||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let y=Pr(),w;if(n){let D=typeof n=="string"?Wi(n):n;ht(m==="/"||D.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${D.pathname}" was given in the \`location\` prop.`),w=D}else w=y;let b=w.pathname||"/",S=b;if(m!=="/"){let D=m.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(D.length).join("/")}let C=$y(e,{pathname:S});Kn(v||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Kn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=wS(C&&C.map(D=>Object.assign({},D,{params:Object.assign({},f,D.params),pathname:kr([m,l.encodeLocation?l.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?m:kr([m,l.encodeLocation?l.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),u,a,i);return n&&R?E.createElement(Al.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},R):R}function vS(){let e=TS(),n=lS(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:u},"ErrorBoundary")," or"," ",E.createElement("code",{style:u},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},n),a?E.createElement("pre",{style:l},a):null,c)}var yS=E.createElement(vS,null),_S=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement($n.Provider,{value:this.props.routeContext},E.createElement(Xf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bS({routeContext:e,match:n,children:a}){let i=E.useContext(Qi);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement($n.Provider,{value:e},a)}function wS(e,n=[],a=null,i=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(n.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let l=e,u=a?.errors;if(u!=null){let h=l.findIndex(m=>m.route.id&&u?.[m.route.id]!==void 0);ht(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,f=-1;if(a)for(let h=0;h<l.length;h++){let m=l[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:v,errors:y}=a,w=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||w){c=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((h,m,v)=>{let y,w=!1,b=null,S=null;a&&(y=u&&m.route.id?u[m.route.id]:void 0,b=m.route.errorElement||yS,c&&(f<0&&v===0?(Gy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):f===v&&(w=!0,S=m.route.hydrateFallbackElement||null)));let C=n.concat(l.slice(0,v+1)),R=()=>{let D;return y?D=b:w?D=S:m.route.Component?D=E.createElement(m.route.Component,null):m.route.element?D=m.route.element:D=h,E.createElement(bS,{match:m,routeContext:{outlet:h,matches:C,isDataRoute:a!=null},children:D})};return a&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?E.createElement(_S,{location:a.location,revalidation:a.revalidation,component:b,error:y,children:R(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):R()},null)}function Wf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SS(e){let n=E.useContext(Qi);return ht(n,Wf(e)),n}function xS(e){let n=E.useContext(Cu);return ht(n,Wf(e)),n}function ES(e){let n=E.useContext($n);return ht(n,Wf(e)),n}function Qf(e){let n=ES(e),a=n.matches[n.matches.length-1];return ht(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function CS(){return Qf("useRouteId")}function TS(){let e=E.useContext(Xf),n=xS("useRouteError"),a=Qf("useRouteError");return e!==void 0?e:n.errors?.[a]}function RS(){let{router:e}=SS("useNavigate"),n=Qf("useNavigate"),a=E.useRef(!1);return Iy(()=>{a.current=!0}),E.useCallback(async(l,u={})=>{Kn(a.current,By),a.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:n,...u}))},[e,n])}var bv={};function Gy(e,n,a){!n&&!bv[e]&&(bv[e]=!0,Kn(!1,a))}E.memo(AS);function AS({routes:e,future:n,state:a}){return qy(e,void 0,a,n)}function Yy({to:e,replace:n,state:a,relative:i}){ht(Zi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=E.useContext(Qn);Kn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=E.useContext($n),{pathname:c}=Pr(),f=Tu(),h=Kf(e,Yf(u),c,i==="path"),m=JSON.stringify(h);return E.useEffect(()=>{f(JSON.parse(m),{replace:n,state:a,relative:i})},[f,m,i,n,a]),null}function Ky(e){return gS(e.context)}function xn(e){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OS({basename:e="/",children:n=null,location:a,navigationType:i="POP",navigator:l,static:u=!1}){ht(!Zi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),f=E.useMemo(()=>({basename:c,navigator:l,static:u,future:{}}),[c,l,u]);typeof a=="string"&&(a=Wi(a));let{pathname:h="/",search:m="",hash:v="",state:y=null,key:w="default"}=a,b=E.useMemo(()=>{let S=Lr(h,c);return S==null?null:{location:{pathname:S,search:m,hash:v,state:y,key:w},navigationType:i}},[c,h,m,v,y,w,i]);return Kn(b!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:E.createElement(Qn.Provider,{value:f},E.createElement(Al.Provider,{children:n,value:b}))}function DS({children:e,location:n}){return pS(Ef(e),n)}function Ef(e,n=[]){let a=[];return E.Children.forEach(e,(i,l)=>{if(!E.isValidElement(i))return;let u=[...n,l];if(i.type===E.Fragment){a.push.apply(a,Ef(i.props.children,u));return}ht(i.type===xn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Ef(i.props.children,u)),a.push(c)}),a}var su="get",lu="application/x-www-form-urlencoded";function Ru(e){return e!=null&&typeof e.tagName=="string"}function NS(e){return Ru(e)&&e.tagName.toLowerCase()==="button"}function jS(e){return Ru(e)&&e.tagName.toLowerCase()==="form"}function MS(e){return Ru(e)&&e.tagName.toLowerCase()==="input"}function kS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function LS(e,n){return e.button===0&&(!n||n==="_self")&&!kS(e)}var Xo=null;function US(){if(Xo===null)try{new FormData(document.createElement("form"),0),Xo=!1}catch{Xo=!0}return Xo}var PS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zd(e){return e!=null&&!PS.has(e)?(Kn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lu}"`),null):e}function $S(e,n){let a,i,l,u,c;if(jS(e)){let f=e.getAttribute("action");i=f?Lr(f,n):null,a=e.getAttribute("method")||su,l=Zd(e.getAttribute("enctype"))||lu,u=new FormData(e)}else if(NS(e)||MS(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(i=h?Lr(h,n):null,a=e.getAttribute("formmethod")||f.getAttribute("method")||su,l=Zd(e.getAttribute("formenctype"))||Zd(f.getAttribute("enctype"))||lu,u=new FormData(f,e),!US()){let{name:m,type:v,value:y}=e;if(v==="image"){let w=m?`${m}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else m&&u.append(m,y)}}else{if(Ru(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=su,i=null,l=lu,c=e}return u&&l==="text/plain"&&(c=u,u=void 0),{action:i,method:a.toLowerCase(),encType:l,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zf(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function zS(e,n,a){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${a}`:n&&Lr(i.pathname,n)==="/"?i.pathname=`${n.replace(/\/$/,"")}/_root.${a}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${a}`,i}async function FS(e,n){if(e.id in n)return n[e.id];try{let a=await import(e.module);return n[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HS(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function VS(e,n,a){let i=await Promise.all(e.map(async l=>{let u=n.routes[l.route.id];if(u){let c=await FS(u,a);return c.links?c.links():[]}return[]}));return GS(i.flat(1).filter(HS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function wv(e,n,a,i,l,u){let c=(h,m)=>a[m]?h.route.id!==a[m].route.id:!0,f=(h,m)=>a[m].pathname!==h.pathname||a[m].route.path?.endsWith("*")&&a[m].params["*"]!==h.params["*"];return u==="assets"?n.filter((h,m)=>c(h,m)||f(h,m)):u==="data"?n.filter((h,m)=>{let v=i.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function BS(e,n,{includeHydrateFallback:a}={}){return IS(e.map(i=>{let l=n.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),a&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function IS(e){return[...new Set(e)]}function qS(e){let n={},a=Object.keys(e).sort();for(let i of a)n[i]=e[i];return n}function GS(e,n){let a=new Set;return new Set(n),e.reduce((i,l)=>{let u=JSON.stringify(qS(l));return a.has(u)||(a.add(u),i.push({key:u,link:l})),i},[])}function Xy(){let e=E.useContext(Qi);return Zf(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function YS(){let e=E.useContext(Cu);return Zf(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Jf=E.createContext(void 0);Jf.displayName="FrameworkContext";function Wy(){let e=E.useContext(Jf);return Zf(e,"You must render this element inside a <HydratedRouter> element"),e}function KS(e,n){let a=E.useContext(Jf),[i,l]=E.useState(!1),[u,c]=E.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=n,w=E.useRef(null);E.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let C=D=>{D.forEach(L=>{c(L.isIntersecting)})},R=new IntersectionObserver(C,{threshold:.5});return w.current&&R.observe(w.current),()=>{R.disconnect()}}},[e]),E.useEffect(()=>{if(i){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[i]);let b=()=>{l(!0)},S=()=>{l(!1),c(!1)};return a?e!=="intent"?[u,w,{}]:[u,w,{onFocus:Js(f,b),onBlur:Js(h,S),onMouseEnter:Js(m,b),onMouseLeave:Js(v,S),onTouchStart:Js(y,b)}]:[!1,w,{}]}function Js(e,n){return a=>{e&&e(a),a.defaultPrevented||n(a)}}function XS({page:e,...n}){let{router:a}=Xy(),i=E.useMemo(()=>$y(a.routes,e,a.basename),[a.routes,e,a.basename]);return i?E.createElement(QS,{page:e,matches:i,...n}):null}function WS(e){let{manifest:n,routeModules:a}=Wy(),[i,l]=E.useState([]);return E.useEffect(()=>{let u=!1;return VS(e,n,a).then(c=>{u||l(c)}),()=>{u=!0}},[e,n,a]),i}function QS({page:e,matches:n,...a}){let i=Pr(),{manifest:l,routeModules:u}=Wy(),{basename:c}=Xy(),{loaderData:f,matches:h}=YS(),m=E.useMemo(()=>wv(e,n,h,l,i,"data"),[e,n,h,l,i]),v=E.useMemo(()=>wv(e,n,h,l,i,"assets"),[e,n,h,l,i]),y=E.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let S=new Set,C=!1;if(n.forEach(D=>{let L=l.routes[D.route.id];!L||!L.hasLoader||(!m.some(T=>T.route.id===D.route.id)&&D.route.id in f&&u[D.route.id]?.shouldRevalidate||L.hasClientLoader?C=!0:S.add(D.route.id))}),S.size===0)return[];let R=zS(e,c,"data");return C&&S.size>0&&R.searchParams.set("_routes",n.filter(D=>S.has(D.route.id)).map(D=>D.route.id).join(",")),[R.pathname+R.search]},[c,f,i,l,m,n,e,u]),w=E.useMemo(()=>BS(v,l),[v,l]),b=WS(v);return E.createElement(E.Fragment,null,y.map(S=>E.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...a})),w.map(S=>E.createElement("link",{key:S,rel:"modulepreload",href:S,...a})),b.map(({key:S,link:C})=>E.createElement("link",{key:S,nonce:a.nonce,...C})))}function ZS(...e){return n=>{e.forEach(a=>{typeof a=="function"?a(n):a!=null&&(a.current=n)})}}var Qy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qy&&(window.__reactRouterVersion="7.8.1")}catch{}function JS({basename:e,children:n,window:a}){let i=E.useRef();i.current==null&&(i.current=$w({window:a,v5Compat:!0}));let l=i.current,[u,c]=E.useState({action:l.action,location:l.location}),f=E.useCallback(h=>{E.startTransition(()=>c(h))},[c]);return E.useLayoutEffect(()=>l.listen(f),[l,f]),E.createElement(OS,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l})}var Zy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pn=E.forwardRef(function({onClick:n,discover:a="render",prefetch:i="none",relative:l,reloadDocument:u,replace:c,state:f,target:h,to:m,preventScrollReset:v,viewTransition:y,...w},b){let{basename:S}=E.useContext(Qn),C=typeof m=="string"&&Zy.test(m),R,D=!1;if(typeof m=="string"&&C&&(R=m,Qy))try{let ne=new URL(window.location.href),ue=m.startsWith("//")?new URL(ne.protocol+m):new URL(m),le=Lr(ue.pathname,S);ue.origin===ne.origin&&le!=null?m=le+ue.search+ue.hash:D=!0}catch{Kn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=dS(m,{relative:l}),[T,M,k]=KS(i,w),V=rx(m,{replace:c,state:f,target:h,preventScrollReset:v,relative:l,viewTransition:y});function P(ne){n&&n(ne),ne.defaultPrevented||V(ne)}let X=E.createElement("a",{...w,...k,href:R||L,onClick:D||u?n:P,ref:ZS(b,M),target:h,"data-discover":!C&&a==="render"?"true":void 0});return T&&!C?E.createElement(E.Fragment,null,X,E.createElement(XS,{page:L})):X});Pn.displayName="Link";var ex=E.forwardRef(function({"aria-current":n="page",caseSensitive:a=!1,className:i="",end:l=!1,style:u,to:c,viewTransition:f,children:h,...m},v){let y=Ol(c,{relative:m.relative}),w=Pr(),b=E.useContext(Cu),{navigator:S,basename:C}=E.useContext(Qn),R=b!=null&&ox(y)&&f===!0,D=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,L=w.pathname,T=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;a||(L=L.toLowerCase(),T=T?T.toLowerCase():null,D=D.toLowerCase()),T&&C&&(T=Lr(T,C)||T);const M=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let k=L===D||!l&&L.startsWith(D)&&L.charAt(M)==="/",V=T!=null&&(T===D||!l&&T.startsWith(D)&&T.charAt(D.length)==="/"),P={isActive:k,isPending:V,isTransitioning:R},X=k?n:void 0,ne;typeof i=="function"?ne=i(P):ne=[i,k?"active":null,V?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let ue=typeof u=="function"?u(P):u;return E.createElement(Pn,{...m,"aria-current":X,className:ne,ref:v,style:ue,to:c,viewTransition:f},typeof h=="function"?h(P):h)});ex.displayName="NavLink";var tx=E.forwardRef(({discover:e="render",fetcherKey:n,navigate:a,reloadDocument:i,replace:l,state:u,method:c=su,action:f,onSubmit:h,relative:m,preventScrollReset:v,viewTransition:y,...w},b)=>{let S=sx(),C=lx(f,{relative:m}),R=c.toLowerCase()==="get"?"get":"post",D=typeof f=="string"&&Zy.test(f),L=T=>{if(h&&h(T),T.defaultPrevented)return;T.preventDefault();let M=T.nativeEvent.submitter,k=M?.getAttribute("formmethod")||c;S(M||T.currentTarget,{fetcherKey:n,method:k,navigate:a,replace:l,state:u,relative:m,preventScrollReset:v,viewTransition:y})};return E.createElement("form",{ref:b,method:R,action:C,onSubmit:i?h:L,...w,"data-discover":!D&&e==="render"?"true":void 0})});tx.displayName="Form";function nx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jy(e){let n=E.useContext(Qi);return ht(n,nx(e)),n}function rx(e,{target:n,replace:a,state:i,preventScrollReset:l,relative:u,viewTransition:c}={}){let f=Tu(),h=Pr(),m=Ol(e,{relative:u});return E.useCallback(v=>{if(LS(v,n)){v.preventDefault();let y=a!==void 0?a:bl(h)===bl(m);f(e,{replace:y,state:i,preventScrollReset:l,relative:u,viewTransition:c})}},[h,f,m,a,i,n,e,l,u,c])}var ax=0,ix=()=>`__${String(++ax)}__`;function sx(){let{router:e}=Jy("useSubmit"),{basename:n}=E.useContext(Qn),a=CS();return E.useCallback(async(i,l={})=>{let{action:u,method:c,encType:f,formData:h,body:m}=$S(i,n);if(l.navigate===!1){let v=l.fetcherKey||ix();await e.fetch(v,a,l.action||u,{preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||c,formEncType:l.encType||f,flushSync:l.flushSync})}else await e.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||c,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:a,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,n,a])}function lx(e,{relative:n}={}){let{basename:a}=E.useContext(Qn),i=E.useContext($n);ht(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...Ol(e||".",{relative:n})},c=Pr();if(e==null){u.search=c.search;let f=new URLSearchParams(u.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let v=f.toString();u.search=v?`?${v}`:""}}return(!e||e===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:kr([a,u.pathname])),bl(u)}function ox(e,{relative:n}={}){let a=E.useContext(Vy);ht(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Jy("useViewTransitionState"),l=Ol(e,{relative:n});if(!a.isTransitioning)return!1;let u=Lr(a.currentLocation.pathname,i)||a.currentLocation.pathname,c=Lr(a.nextLocation.pathname,i)||a.nextLocation.pathname;return cu(l.pathname,c)!=null||cu(l.pathname,u)!=null}var ul=Py();const ux="modulepreload",cx=function(e){return"/flexi/"+e},Sv={},Ga=function(n,a,i){let l=Promise.resolve();if(a&&a.length>0){let h=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");l=h(a.map(m=>{if(m=cx(m),m in Sv)return;Sv[m]=!0;const v=m.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":ux,v||(w.as="script"),w.crossOrigin="",w.href=m,f&&w.setAttribute("nonce",f),document.head.appendChild(w),v)return new Promise((b,S)=>{w.addEventListener("load",b),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return l.then(c=>{for(const f of c||[])f.status==="rejected"&&u(f.reason);return n().catch(u)})},dx=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...a)=>Ga(async()=>{const{default:i}=await Promise.resolve().then(()=>Ji);return{default:i}},[]).then(({default:i})=>i(...a)):n=fetch,(...a)=>n(...a)};class eh extends Error{constructor(n,a="FunctionsError",i){super(n),this.name=a,this.context=i}}class fx extends eh{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class xv extends eh{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Ev extends eh{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Cf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Cf||(Cf={}));var hx=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};class gx{constructor(n,{headers:a={},customFetch:i,region:l=Cf.Any}={}){this.url=n,this.headers=a,this.region=l,this.fetch=dx(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,a={}){var i;return hx(this,void 0,void 0,function*(){try{const{headers:l,method:u,body:c}=a;let f={},{region:h}=a;h||(h=this.region);const m=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let v;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(f["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(f["Content-Type"]="application/json",v=JSON.stringify(c)));const y=yield this.fetch(m.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:v}).catch(C=>{throw new fx(C)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new xv(y);if(!y.ok)throw new Ev(y);let b=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return b==="application/json"?S=yield y.json():b==="application/octet-stream"?S=yield y.blob():b==="text/event-stream"?S=y:b==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof Ev||l instanceof xv?l.context:void 0}}})}}var Ht={},ji={},Mi={},ki={},Li={},Ui={},mx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ki=mx();const px=Ki.fetch,e_=Ki.fetch.bind(Ki),t_=Ki.Headers,vx=Ki.Request,yx=Ki.Response,Ji=Object.freeze(Object.defineProperty({__proto__:null,Headers:t_,Request:vx,Response:yx,default:e_,fetch:px},Symbol.toStringTag,{value:"Module"})),_x=Rw(Ji);var Wo={},Cv;function n_(){if(Cv)return Wo;Cv=1,Object.defineProperty(Wo,"__esModule",{value:!0});class e extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return Wo.default=e,Wo}var Tv;function r_(){if(Tv)return Ui;Tv=1;var e=Ui&&Ui.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ui,"__esModule",{value:!0});const n=e(_x),a=e(n_());class i{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=Object.assign({},this.headers),this.headers[u]=c,this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,y,w;let b=null,S=null,C=null,R=m.status,D=m.statusText;if(m.ok){if(this.method!=="HEAD"){const k=await m.text();k===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=k:S=JSON.parse(k))}const T=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),M=(y=m.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");T&&M&&M.length>1&&(C=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(b={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,C=null,R=406,D="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const T=await m.text();try{b=JSON.parse(T),Array.isArray(b)&&m.status===404&&(S=[],b=null,R=200,D="OK")}catch{m.status===404&&T===""?(R=204,D="No Content"):b={message:T}}if(b&&this.isMaybeSingle&&(!((w=b?.details)===null||w===void 0)&&w.includes("0 rows"))&&(b=null,R=200,D="OK"),b&&this.shouldThrowOnError)throw new a.default(b)}return{error:b,data:S,count:C,status:R,statusText:D}});return this.shouldThrowOnError||(h=h.catch(m=>{var v,y,w;return{error:{message:`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,details:`${(y=m?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(w=m?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),h.then(u,c)}returns(){return this}overrideTypes(){return this}}return Ui.default=i,Ui}var Rv;function a_(){if(Rv)return Li;Rv=1;var e=Li&&Li.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Li,"__esModule",{value:!0});const n=e(r_());class a extends n.default{select(l){let u=!1;const c=(l??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:u=!0,nullsFirst:c,foreignTable:f,referencedTable:h=f}={}){const m=h?`${h}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${l}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:c=u}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,u,{foreignTable:c,referencedTable:f=c}={}){const h=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${l}`),this.url.searchParams.set(m,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:u=!1,settings:c=!1,buffers:f=!1,wal:h=!1,format:m="text"}={}){var v;const y=[l?"analyze":null,u?"verbose":null,c?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),w=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${w}"; options=${y};`,m==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Li.default=a,Li}var Av;function th(){if(Av)return ki;Av=1;var e=ki&&ki.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ki,"__esModule",{value:!0});const n=e(a_());class a extends n.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const c=Array.from(new Set(u)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${c})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:c,type:f}={}){let h="";f==="plain"?h="pl":f==="phrase"?h="ph":f==="websearch"&&(h="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(l,`${h}fts${m}.${u}`),this}match(l){return Object.entries(l).forEach(([u,c])=>{this.url.searchParams.append(u,`eq.${c}`)}),this}not(l,u,c){return this.url.searchParams.append(l,`not.${u}.${c}`),this}or(l,{foreignTable:u,referencedTable:c=u}={}){const f=c?`${c}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,u,c){return this.url.searchParams.append(l,`${u}.${c}`),this}}return ki.default=a,ki}var Ov;function i_(){if(Ov)return Mi;Ov=1;var e=Mi&&Mi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Mi,"__esModule",{value:!0});const n=e(th());class a{constructor(l,{headers:u={},schema:c,fetch:f}){this.url=l,this.headers=u,this.schema=c,this.fetch=f}select(l,{head:u=!1,count:c}={}){const f=u?"HEAD":"GET";let h=!1;const m=(l??"*").split("").map(v=>/\s/.test(v)&&!h?"":(v==='"'&&(h=!h),v)).join("");return this.url.searchParams.set("select",m),c&&(this.headers.Prefer=`count=${c}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:u,defaultToNull:c=!0}={}){const f="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),u&&h.push(`count=${u}`),c||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(l)){const m=l.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(m.length>0){const v=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:u,ignoreDuplicates:c=!1,count:f,defaultToNull:h=!0}={}){const m="POST",v=[`resolution=${c?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&v.push(this.headers.Prefer),f&&v.push(`count=${f}`),h||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(l)){const y=l.reduce((w,b)=>w.concat(Object.keys(b)),[]);if(y.length>0){const w=[...new Set(y)].map(b=>`"${b}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:u}={}){const c="PATCH",f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),u&&f.push(`count=${u}`),this.headers.Prefer=f.join(","),new n.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const u="DELETE",c=[];return l&&c.push(`count=${l}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new n.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Mi.default=a,Mi}var el={},tl={},Dv;function bx(){return Dv||(Dv=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.version=void 0,tl.version="0.0.0-automated"),tl}var Nv;function wx(){if(Nv)return el;Nv=1,Object.defineProperty(el,"__esModule",{value:!0}),el.DEFAULT_HEADERS=void 0;const e=bx();return el.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},el}var jv;function Sx(){if(jv)return ji;jv=1;var e=ji&&ji.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(ji,"__esModule",{value:!0});const n=e(i_()),a=e(th()),i=wx();class l{constructor(c,{headers:f={},schema:h,fetch:m}={}){this.url=c,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),f),this.schemaName=h,this.fetch=m}from(c){const f=new URL(`${this.url}/${c}`);return new n.default(f,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new l(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,f={},{head:h=!1,get:m=!1,count:v}={}){let y;const w=new URL(`${this.url}/rpc/${c}`);let b;h||m?(y=h?"HEAD":"GET",Object.entries(f).filter(([C,R])=>R!==void 0).map(([C,R])=>[C,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([C,R])=>{w.searchParams.append(C,R)})):(y="POST",b=f);const S=Object.assign({},this.headers);return v&&(S.Prefer=`count=${v}`),new a.default({method:y,url:w,headers:S,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return ji.default=l,ji}var Mv;function xx(){if(Mv)return Ht;Mv=1;var e=Ht&&Ht.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.PostgrestError=Ht.PostgrestBuilder=Ht.PostgrestTransformBuilder=Ht.PostgrestFilterBuilder=Ht.PostgrestQueryBuilder=Ht.PostgrestClient=void 0;const n=e(Sx());Ht.PostgrestClient=n.default;const a=e(i_());Ht.PostgrestQueryBuilder=a.default;const i=e(th());Ht.PostgrestFilterBuilder=i.default;const l=e(a_());Ht.PostgrestTransformBuilder=l.default;const u=e(r_());Ht.PostgrestBuilder=u.default;const c=e(n_());return Ht.PostgrestError=c.default,Ht.default={PostgrestClient:n.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:c.default},Ht}var Ex=xx();const Cx=qf(Ex),{PostgrestClient:Tx,PostgrestQueryBuilder:UD,PostgrestFilterBuilder:PD,PostgrestTransformBuilder:$D,PostgrestBuilder:zD,PostgrestError:FD}=Cx;class Rx{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const a=parseInt(process.versions.node.split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let a=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(a+=`

Suggested solution: ${n.workaround}`),new Error(a)}static createWebSocket(n,a){const i=this.getWebSocketConstructor();return new i(n,a)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Ax="2.15.1",Ox=`realtime-js/${Ax}`,Dx="1.0.0",Tf=1e4,Nx=1e3,jx=100;var dl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(dl||(dl={}));var Mt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mt||(Mt={}));var In;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(In||(In={}));var Rf;(function(e){e.websocket="websocket"})(Rf||(Rf={}));var Ia;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ia||(Ia={}));class Mx{constructor(){this.HEADER_LENGTH=1}decode(n,a){return n.constructor===ArrayBuffer?a(this._binaryDecode(n)):a(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const a=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,a,i)}_decodeBroadcast(n,a,i){const l=a.getUint8(1),u=a.getUint8(2);let c=this.HEADER_LENGTH+2;const f=i.decode(n.slice(c,c+l));c=c+l;const h=i.decode(n.slice(c,c+u));c=c+u;const m=JSON.parse(i.decode(n.slice(c,n.byteLength)));return{ref:null,topic:f,event:h,payload:m}}}class s_{constructor(n,a){this.callback=n,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var it;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(it||(it={}));const kv=(e,n,a={})=>{var i;const l=(i=a.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(n).reduce((u,c)=>(u[c]=kx(c,e,n,l),u),{})},kx=(e,n,a,i)=>{const l=n.find(f=>f.name===e),u=l?.type,c=a[e];return u&&!i.includes(u)?l_(u,c):Af(c)},l_=(e,n)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return $x(n,a)}switch(e){case it.bool:return Lx(n);case it.float4:case it.float8:case it.int2:case it.int4:case it.int8:case it.numeric:case it.oid:return Ux(n);case it.json:case it.jsonb:return Px(n);case it.timestamp:return zx(n);case it.abstime:case it.date:case it.daterange:case it.int4range:case it.int8range:case it.money:case it.reltime:case it.text:case it.time:case it.timestamptz:case it.timetz:case it.tsrange:case it.tstzrange:return Af(n);default:return Af(n)}},Af=e=>e,Lx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ux=e=>{if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},Px=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},$x=(e,n)=>{if(typeof e!="string")return e;const a=e.length-1,i=e[a];if(e[0]==="{"&&i==="}"){let u;const c=e.slice(1,a);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(f=>l_(n,f))}return e},zx=e=>typeof e=="string"?e.replace(" ","T"):e,o_=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class Jd{constructor(n,a,i={},l=Tf){this.channel=n,this.event=a,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,a){var i;return this._hasReceived(n)&&a((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:a}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(a))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Lv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Lv||(Lv={}));class fl{constructor(n,a){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fl.syncState(this.state,l,u,c),this.pendingDiffs.forEach(h=>{this.state=fl.syncDiff(this.state,h,u,c)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},l=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=fl.syncDiff(this.state,l,u,c),f())}),this.onJoin((l,u,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:c})}),this.onLeave((l,u,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,a,i,l){const u=this.cloneDeep(n),c=this.transformState(a),f={},h={};return this.map(u,(m,v)=>{c[m]||(h[m]=v)}),this.map(c,(m,v)=>{const y=u[m];if(y){const w=v.map(R=>R.presence_ref),b=y.map(R=>R.presence_ref),S=v.filter(R=>b.indexOf(R.presence_ref)<0),C=y.filter(R=>w.indexOf(R.presence_ref)<0);S.length>0&&(f[m]=S),C.length>0&&(h[m]=C)}else f[m]=v}),this.syncDiff(u,{joins:f,leaves:h},i,l)}static syncDiff(n,a,i,l){const{joins:u,leaves:c}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(u,(f,h)=>{var m;const v=(m=n[f])!==null&&m!==void 0?m:[];if(n[f]=this.cloneDeep(h),v.length>0){const y=n[f].map(b=>b.presence_ref),w=v.filter(b=>y.indexOf(b.presence_ref)<0);n[f].unshift(...w)}i(f,v,h)}),this.map(c,(f,h)=>{let m=n[f];if(!m)return;const v=h.map(y=>y.presence_ref);m=m.filter(y=>v.indexOf(y.presence_ref)<0),n[f]=m,l(f,m,h),m.length===0&&delete n[f]}),n}static map(n,a){return Object.getOwnPropertyNames(n).map(i=>a(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((a,i)=>{const l=n[i];return"metas"in l?a[i]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[i]=l,a},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Uv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Uv||(Uv={}));var hl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hl||(hl={}));var Nr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Nr||(Nr={}));class nh{constructor(n,a={config:{}},i){this.topic=n,this.params=a,this.socket=i,this.bindings={},this.state=Mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Jd(this,In.join,this.params,this.timeout),this.rejoinTimer=new s_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(In.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new fl(this),this.broadcastEndpointURL=o_(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,a=this.timeout){var i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Mt.closed){const{config:{broadcast:u,presence:c,private:f}}=this.params,h=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&l!==void 0?l:[],m=!!this.bindings[hl.PRESENCE]&&this.bindings[hl.PRESENCE].length>0,v={},y={broadcast:u,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(w=>n?.(Nr.CHANNEL_ERROR,w)),this._onClose(()=>n?.(Nr.CLOSED)),this.updateJoinPayload(Object.assign({config:y},v)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:w})=>{var b;if(this.socket.setAuth(),w===void 0){n?.(Nr.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,C=(b=S?.length)!==null&&b!==void 0?b:0,R=[];for(let D=0;D<C;D++){const L=S[D],{filter:{event:T,schema:M,table:k,filter:V}}=L,P=w&&w[D];if(P&&P.event===T&&P.schema===M&&P.table===k&&P.filter===V)R.push(Object.assign(Object.assign({},L),{id:P.id}));else{this.unsubscribe(),this.state=Mt.errored,n?.(Nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,n&&n(Nr.SUBSCRIBED);return}}).receive("error",w=>{this.state=Mt.errored,n?.(Nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{n?.(Nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,a={}){return await this.send({type:"presence",event:"track",payload:n},a.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,a,i){return this.state===Mt.joined&&n===hl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,a,i)}async send(n,a={}){var i,l;if(!this._canPush()&&n.type==="broadcast"){const{event:u,payload:c}=n,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,f,h;const m=this._push(n.type,n,a.timeout||this.timeout);n.type==="broadcast"&&!(!((h=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Mt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(In.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new Jd(this,In.leave,{},n),i.receive("ok",()=>{a(),l("ok")}).receive("timeout",()=>{a(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mt.closed,this.bindings={}}async _fetchWithTimeout(n,a,i){const l=new AbortController,u=setTimeout(()=>l.abort(),i),c=await this.socket.fetch(n,Object.assign(Object.assign({},a),{signal:l.signal}));return clearTimeout(u),c}_push(n,a,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Jd(this,n,a,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>jx){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(n,a,i){return a}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,a,i){var l,u;const c=n.toLocaleLowerCase(),{close:f,error:h,leave:m,join:v}=In;if(i&&[f,h,m,v].indexOf(c)>=0&&i!==this._joinRef())return;let w=this._onMessage(c,a,i);if(a&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(b=>{var S,C,R;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((R=(C=b.filter)===null||C===void 0?void 0:C.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===c}).map(b=>b.callback(w,i)):(u=this.bindings[c])===null||u===void 0||u.filter(b=>{var S,C,R,D,L,T;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const M=b.id,k=(S=b.filter)===null||S===void 0?void 0:S.event;return M&&((C=a.ids)===null||C===void 0?void 0:C.includes(M))&&(k==="*"||k?.toLocaleLowerCase()===((R=a.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const M=(L=(D=b?.filter)===null||D===void 0?void 0:D.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return M==="*"||M===((T=a?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof w=="object"&&"ids"in w){const S=w.data,{schema:C,table:R,commit_timestamp:D,type:L,errors:T}=S;w=Object.assign(Object.assign({},{schema:C,table:R,commit_timestamp:D,eventType:L,new:{},old:{},errors:T}),this._getPayloadRecords(S))}b.callback(w,i)})}_isClosed(){return this.state===Mt.closed}_isJoined(){return this.state===Mt.joined}_isJoining(){return this.state===Mt.joining}_isLeaving(){return this.state===Mt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,a,i){const l=n.toLocaleLowerCase(),u={type:l,filter:a,callback:i};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(n,a){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&nh.isEqual(l.filter,a))})),this}static isEqual(n,a){if(Object.keys(n).length!==Object.keys(a).length)return!1;for(const i in n)if(n[i]!==a[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(In.close,{},n)}_onError(n){this._on(In.error,{},a=>n(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const a={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(a.new=kv(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(a.old=kv(n.columns,n.old_record)),a}}const Pv=()=>{},Qo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Fx=[1e3,2e3,5e3,1e4],Hx=1e4,Vx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Bx{constructor(n,a){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tf,this.transport=null,this.heartbeatIntervalMs=Qo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pv,this.ref=0,this.reconnectTimer=null,this.logger=Pv,this.conn=null,this.sendBuffer=[],this.serializer=new Mx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...c)=>Ga(async()=>{const{default:f}=await Promise.resolve().then(()=>Ji);return{default:f}},void 0).then(({default:f})=>f(...c)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...c)=>u(...c)},!(!((i=a?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${n}/${Rf.websocket}`,this.httpEndpoint=o_(n),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Rx.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const a=n.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Dx}))}disconnect(n,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},n?this.conn.close(n,a??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const a=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const n=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,a,i){this.logger(n,a,i)}connectionState(){switch(this.conn&&this.conn.readyState){case dl.connecting:return Ia.Connecting;case dl.open:return Ia.Open;case dl.closing:return Ia.Closing;default:return Ia.Closed}}isConnected(){return this.connectionState()===Ia.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,a={config:{}}){const i=`realtime:${n}`,l=this.getChannels().find(u=>u.topic===i);if(l)return l;{const u=new nh(`realtime:${n}`,a,this);return this.channels.push(u),u}}push(n){const{topic:a,event:i,payload:l,ref:u}=n,c=()=>{this.encode(n,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${a} ${i} (${u})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Nx,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Qo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let a=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${n}"`),a.unsubscribe())}_remove(n){this.channels=this.channels.filter(a=>a.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,a=>{a.topic==="phoenix"&&a.event==="phx_reply"&&this.heartbeatCallback(a.payload.status==="ok"?"ok":"error"),a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:l,payload:u,ref:c}=a,f=c?`(${c})`:"",h=u.status||"";this.log("receive",`${h} ${i} ${l} ${f}`.trim(),u),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(l,u,c)),this._triggerStateCallbacks("message",a)})}_clearTimer(n){var a;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var a;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(In.error))}_appendParams(n,a){if(Object.keys(a).length===0)return n;const i=n.match(/\?/)?"&":"?",l=new URLSearchParams(a);return`${n}${i}${l}`}_workerObjectUrl(n){let a;if(n)a=n;else{const i=new Blob([Vx],{type:"application/javascript"});a=URL.createObjectURL(i)}return a}_setConnectionState(n,a=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(n=null){let a;n?a=n:this.accessToken?a=await this.accessToken():a=this.accessTokenValue,this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(i=>{const l={access_token:a,version:Ox};a&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(In.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(a=>{this.log("error",`error setting auth in ${n}`,a)})}_triggerStateCallbacks(n,a){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(a)}catch(l){this.log("error",`error in ${n} callback`,l)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new s_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var a,i,l,u,c,f,h,m;if(this.transport=(a=n?.transport)!==null&&a!==void 0?a:null,this.timeout=(i=n?.timeout)!==null&&i!==void 0?i:Tf,this.heartbeatIntervalMs=(l=n?.heartbeatIntervalMs)!==null&&l!==void 0?l:Qo.HEARTBEAT_INTERVAL,this.worker=(u=n?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=n?.accessToken)!==null&&c!==void 0?c:null,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=n?.reconnectAfterMs)!==null&&f!==void 0?f:(v=>Fx[v-1]||Hx),this.encode=(h=n?.encode)!==null&&h!==void 0?h:((v,y)=>y(JSON.stringify(v))),this.decode=(m=n?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class rh extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function kt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ix extends rh{constructor(n,a,i){super(n),this.name="StorageApiError",this.status=a,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Of extends rh{constructor(n,a){super(n),this.name="StorageUnknownError",this.originalError=a}}var qx=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const u_=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...a)=>Ga(async()=>{const{default:i}=await Promise.resolve().then(()=>Ji);return{default:i}},void 0).then(({default:i})=>i(...a)):n=fetch,(...a)=>n(...a)},Gx=()=>qx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ga(()=>Promise.resolve().then(()=>Ji),void 0)).Response:Response}),Df=e=>{if(Array.isArray(e))return e.map(a=>Df(a));if(typeof e=="function"||e!==Object(e))return e;const n={};return Object.entries(e).forEach(([a,i])=>{const l=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[l]=Df(i)}),n},Yx=e=>{if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ya=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const ef=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Kx=(e,n,a)=>Ya(void 0,void 0,void 0,function*(){const i=yield Gx();e instanceof i&&!a?.noResolveJson?e.json().then(l=>{const u=e.status||500,c=l?.statusCode||u+"";n(new Ix(ef(l),u,c))}).catch(l=>{n(new Of(ef(l),l))}):n(new Of(ef(e),e))}),Xx=(e,n,a,i)=>{const l={method:e,headers:n?.headers||{}};return e==="GET"||!i?l:(Yx(i)?(l.headers=Object.assign({"Content-Type":"application/json"},n?.headers),l.body=JSON.stringify(i)):l.body=i,n?.duplex&&(l.duplex=n.duplex),Object.assign(Object.assign({},l),a))};function Dl(e,n,a,i,l,u){return Ya(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(a,Xx(n,i,l,u)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>Kx(h,f,i))})})}function du(e,n,a,i){return Ya(this,void 0,void 0,function*(){return Dl(e,"GET",n,a,i)})}function or(e,n,a,i,l){return Ya(this,void 0,void 0,function*(){return Dl(e,"POST",n,i,l,a)})}function Nf(e,n,a,i,l){return Ya(this,void 0,void 0,function*(){return Dl(e,"PUT",n,i,l,a)})}function Wx(e,n,a,i){return Ya(this,void 0,void 0,function*(){return Dl(e,"HEAD",n,Object.assign(Object.assign({},a),{noResolveJson:!0}),i)})}function c_(e,n,a,i,l){return Ya(this,void 0,void 0,function*(){return Dl(e,"DELETE",n,i,l,a)})}var sn=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const Qx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$v={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zx{constructor(n,a={},i,l){this.url=n,this.headers=a,this.bucketId=i,this.fetch=u_(l)}uploadOrUpdate(n,a,i,l){return sn(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},$v),l);let f=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),h&&u.append("metadata",this.encodeMetadata(h)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",c.cacheControl),h&&u.append("metadata",this.encodeMetadata(h))):(u=i,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),l?.headers&&(f=Object.assign(Object.assign({},f),l.headers));const m=this._removeEmptyFolders(a),v=this._getFinalPath(m),y=yield(n=="PUT"?Nf:or)(this.fetch,`${this.url}/object/${v}`,u,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(u){if(kt(u))return{data:null,error:u};throw u}})}upload(n,a,i){return sn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,a,i)})}uploadToSignedUrl(n,a,i,l){return sn(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",a);try{let h;const m=Object.assign({upsert:$v.upsert},l),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",m.cacheControl)):(h=i,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const y=yield Nf(this.fetch,f.toString(),h,{headers:v});return{data:{path:u,fullPath:y.Key},error:null}}catch(h){if(kt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(n,a){return sn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const l=Object.assign({},this.headers);a?.upsert&&(l["x-upsert"]="true");const u=yield or(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),c=new URL(this.url+u.url),f=c.searchParams.get("token");if(!f)throw new rh("No token returned by API");return{data:{signedUrl:c.toString(),path:n,token:f},error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}update(n,a,i){return sn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,a,i)})}move(n,a,i){return sn(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:a,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(kt(l))return{data:null,error:l};throw l}})}copy(n,a,i){return sn(this,void 0,void 0,function*(){try{return{data:{path:(yield or(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:a,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(kt(l))return{data:null,error:l};throw l}})}createSignedUrl(n,a,i){return sn(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n),u=yield or(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:a},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(l){if(kt(l))return{data:null,error:l};throw l}})}createSignedUrls(n,a,i){return sn(this,void 0,void 0,function*(){try{const l=yield or(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:n},{headers:this.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(l){if(kt(l))return{data:null,error:l};throw l}})}download(n,a){return sn(this,void 0,void 0,function*(){const l=typeof a?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(a?.transform||{}),c=u?`?${u}`:"";try{const f=this._getFinalPath(n);return{data:yield(yield du(this.fetch,`${this.url}/${l}/${f}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(kt(f))return{data:null,error:f};throw f}})}info(n){return sn(this,void 0,void 0,function*(){const a=this._getFinalPath(n);try{const i=yield du(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Df(i),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}exists(n){return sn(this,void 0,void 0,function*(){const a=this._getFinalPath(n);try{return yield Wx(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(kt(i)&&i instanceof Of){const l=i.originalError;if([400,404].includes(l?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,a){const i=this._getFinalPath(n),l=[],u=a?.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&l.push(u);const f=typeof a?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(a?.transform||{});h!==""&&l.push(h);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${m}`)}}}remove(n){return sn(this,void 0,void 0,function*(){try{return{data:yield c_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}list(n,a,i){return sn(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Qx),a),{prefix:n||""});return{data:yield or(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(kt(l))return{data:null,error:l};throw l}})}listV2(n,a){return sn(this,void 0,void 0,function*(){try{const i=Object.assign({},n);return{data:yield or(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const a=[];return n.width&&a.push(`width=${n.width}`),n.height&&a.push(`height=${n.height}`),n.resize&&a.push(`resize=${n.resize}`),n.format&&a.push(`format=${n.format}`),n.quality&&a.push(`quality=${n.quality}`),a.join("&")}}const Jx="2.11.0",eE={"X-Client-Info":`storage-js/${Jx}`};var Pi=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};class tE{constructor(n,a={},i,l){const u=new URL(n);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},eE),a),this.fetch=u_(i)}listBuckets(){return Pi(this,void 0,void 0,function*(){try{return{data:yield du(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}getBucket(n){return Pi(this,void 0,void 0,function*(){try{return{data:yield du(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}createBucket(n,a={public:!1}){return Pi(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}updateBucket(n,a){return Pi(this,void 0,void 0,function*(){try{return{data:yield Nf(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}emptyBucket(n){return Pi(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}deleteBucket(n){return Pi(this,void 0,void 0,function*(){try{return{data:yield c_(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}}class nE extends tE{constructor(n,a={},i,l){super(n,a,i,l)}from(n){return new Zx(this.url,this.headers,n,this.fetch)}}const rE="2.55.0";let cl="";typeof Deno<"u"?cl="deno":typeof document<"u"?cl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cl="react-native":cl="node";const aE={"X-Client-Info":`supabase-js-${cl}/${rE}`},iE={headers:aE},sE={schema:"public"},lE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oE={};var uE=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const cE=e=>{let n;return e?n=e:typeof fetch>"u"?n=e_:n=fetch,(...a)=>n(...a)},dE=()=>typeof Headers>"u"?t_:Headers,fE=(e,n,a)=>{const i=cE(a),l=dE();return(u,c)=>uE(void 0,void 0,void 0,function*(){var f;const h=(f=yield n())!==null&&f!==void 0?f:e;let m=new l(c?.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),i(u,Object.assign(Object.assign({},c),{headers:m}))})};var hE=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};function gE(e){return e.endsWith("/")?e:e+"/"}function mE(e,n){var a,i;const{db:l,auth:u,realtime:c,global:f}=e,{db:h,auth:m,realtime:v,global:y}=n,w={db:Object.assign(Object.assign({},h),l),auth:Object.assign(Object.assign({},m),u),realtime:Object.assign(Object.assign({},v),c),storage:{},global:Object.assign(Object.assign(Object.assign({},y),f),{headers:Object.assign(Object.assign({},(a=y?.headers)!==null&&a!==void 0?a:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>hE(this,void 0,void 0,function*(){return""})};return e.accessToken?w.accessToken=e.accessToken:delete w.accessToken,w}const d_="2.71.1",Ii=30*1e3,jf=3,tf=jf*Ii,pE="http://localhost:9999",vE="supabase.auth.token",yE={"X-Client-Info":`gotrue-js/${d_}`},Mf="X-Supabase-Api-Version",f_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_E=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bE=600*1e3;class ah extends Error{constructor(n,a,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=i}}function Ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class wE extends ah{constructor(n,a,i){super(n,a,i),this.name="AuthApiError",this.status=a,this.code=i}}function SE(e){return Ne(e)&&e.name==="AuthApiError"}class h_ extends ah{constructor(n,a){super(n),this.name="AuthUnknownError",this.originalError=a}}class _a extends ah{constructor(n,a,i,l){super(n,i,l),this.name=a,this.status=i}}class ha extends _a{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xE(e){return Ne(e)&&e.name==="AuthSessionMissingError"}class Zo extends _a{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jo extends _a{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class eu extends _a{constructor(n,a=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function EE(e){return Ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class zv extends _a{constructor(n,a=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kf extends _a{constructor(n,a){super(n,"AuthRetryableFetchError",a,void 0)}}function nf(e){return Ne(e)&&e.name==="AuthRetryableFetchError"}class Fv extends _a{constructor(n,a,i){super(n,"AuthWeakPasswordError",a,"weak_password"),this.reasons=i}}class Lf extends _a{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const fu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hv=` 	
\r=`.split(""),CE=(()=>{const e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<Hv.length;n+=1)e[Hv[n].charCodeAt(0)]=-2;for(let n=0;n<fu.length;n+=1)e[fu[n].charCodeAt(0)]=n;return e})();function Vv(e,n,a){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;a(fu[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;a(fu[i]),n.queuedBits-=6}}function g_(e,n,a){const i=CE[e];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)a(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Bv(e){const n=[],a=c=>{n.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=c=>{AE(c,i,a)};for(let c=0;c<e.length;c+=1)g_(e.charCodeAt(c),l,u);return n.join("")}function TE(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function RE(e,n){for(let a=0;a<e.length;a+=1){let i=e.charCodeAt(a);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(e.charCodeAt(a+1)-56320&65535|l)+65536,a+=1}TE(i,n)}}function AE(e,n,a){if(n.utf8seq===0){if(e<=127){a(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&a(n.codepoint)}}function OE(e){const n=[],a={queue:0,queuedBits:0},i=l=>{n.push(l)};for(let l=0;l<e.length;l+=1)g_(e.charCodeAt(l),a,i);return new Uint8Array(n)}function DE(e){const n=[];return RE(e,a=>n.push(a)),new Uint8Array(n)}function NE(e){const n=[],a={queue:0,queuedBits:0},i=l=>{n.push(l)};return e.forEach(l=>Vv(l,a,i)),Vv(null,a,i),n.join("")}function jE(e){return Math.round(Date.now()/1e3)+e}function ME(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}const Bn=()=>typeof window<"u"&&typeof document<"u",Fa={tested:!1,writable:!1},m_=()=>{if(!Bn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fa.tested)return Fa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fa.tested=!0,Fa.writable=!0}catch{Fa.tested=!0,Fa.writable=!1}return Fa.writable};function kE(e){const n={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((l,u)=>{n[u]=l})}catch{}return a.searchParams.forEach((i,l)=>{n[l]=i}),n}const p_=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...a)=>Ga(async()=>{const{default:i}=await Promise.resolve().then(()=>Ji);return{default:i}},void 0).then(({default:i})=>i(...a)):n=fetch,(...a)=>n(...a)},LE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",qi=async(e,n,a)=>{await e.setItem(n,JSON.stringify(a))},Ha=async(e,n)=>{const a=await e.getItem(n);if(!a)return null;try{return JSON.parse(a)}catch{return a}},oa=async(e,n)=>{await e.removeItem(n)};class Au{constructor(){this.promise=new Au.promiseConstructor((n,a)=>{this.resolve=n,this.reject=a})}}Au.promiseConstructor=Promise;function rf(e){const n=e.split(".");if(n.length!==3)throw new Lf("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!_E.test(n[i]))throw new Lf("JWT not in base64url format");return{header:JSON.parse(Bv(n[0])),payload:JSON.parse(Bv(n[1])),signature:OE(n[2]),raw:{header:n[0],payload:n[1]}}}async function UE(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}function PE(e,n){return new Promise((i,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await e(u);if(!n(u,null,c)){i(c);return}}catch(c){if(!n(u,c)){l(c);return}}})()})}function $E(e){return("0"+e.toString(16)).substr(-2)}function zE(){const n=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=a.length;let l="";for(let u=0;u<56;u++)l+=a.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(n),Array.from(n,$E).join("")}async function FE(e){const a=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",a),l=new Uint8Array(i);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function HE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await FE(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $i(e,n,a=!1){const i=zE();let l=i;a&&(l+="/PASSWORD_RECOVERY"),await qi(e,`${n}-code-verifier`,l);const u=await HE(i);return[u,i===u?"plain":"s256"]}const VE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function BE(e){const n=e.headers.get(Mf);if(!n||!n.match(VE))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function IE(e){if(!e)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function qE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const GE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zi(e){if(!GE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function af(){const e={};return new Proxy(e,{get:(n,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Iv(e){return JSON.parse(JSON.stringify(e))}var YE=function(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]]);return a};const Va=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KE=[502,503,504];async function qv(e){var n;if(!LE(e))throw new kf(Va(e),0);if(KE.includes(e.status))throw new kf(Va(e),e.status);let a;try{a=await e.json()}catch(u){throw new h_(Va(u),u)}let i;const l=BE(e);if(l&&l.getTime()>=f_["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?i=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(i=a.error_code),i){if(i==="weak_password")throw new Fv(Va(a),e.status,((n=a.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new ha}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Fv(Va(a),e.status,a.weak_password.reasons);throw new wE(Va(a),e.status||500,i)}const XE=(e,n,a,i)=>{const l={method:e,headers:n?.headers||{}};return e==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),a))};async function Fe(e,n,a,i){var l;const u=Object.assign({},i?.headers);u[Mf]||(u[Mf]=f_["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const c=(l=i?.query)!==null&&l!==void 0?l:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await WE(e,n,a+f,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function WE(e,n,a,i,l,u){const c=XE(n,i,l,u);let f;try{f=await e(a,Object.assign({},c))}catch(h){throw console.error(h),new kf(Va(h),0)}if(f.ok||await qv(f),i?.noResolveJson)return f;try{return await f.json()}catch(h){await qv(h)}}function Dr(e){var n;let a=null;eC(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=jE(e.expires_in)));const i=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:a,user:i},error:null}}function Gv(e){const n=Dr(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0)&&(n.data.weak_password=e.weak_password),n}function ma(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function QE(e){return{data:e,error:null}}function ZE(e){const{action_link:n,email_otp:a,hashed_token:i,redirect_to:l,verification_type:u}=e,c=YE(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:n,email_otp:a,hashed_token:i,redirect_to:l,verification_type:u},h=Object.assign({},c);return{data:{properties:f,user:h},error:null}}function JE(e){return e}function eC(e){return e.access_token&&e.refresh_token&&e.expires_in}const sf=["global","local","others"];var tC=function(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]]);return a};class nC{constructor({url:n="",headers:a={},fetch:i}){this.url=n,this.headers=a,this.fetch=p_(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,a=sf[0]){if(sf.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sf.join(", ")}`);try{return await Fe(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,a={}){try{return await Fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:ma})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:a}=n,i=tC(n,["options"]),l=Object.assign(Object.assign({},i),a);return"newEmail"in i&&(l.new_email=i?.newEmail,delete l.newEmail),await Fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:ZE,redirectTo:a?.redirectTo})}catch(a){if(Ne(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(n){try{return await Fe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ma})}catch(a){if(Ne(a))return{data:{user:null},error:a};throw a}}async listUsers(n){var a,i,l,u,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},v=await Fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(a=n?.page)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:"",per_page:(u=(l=n?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:JE});if(v.error)throw v.error;const y=await v.json(),w=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(S=>{const C=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(S.split(";")[1].split("=")[1]);m[`${R}Page`]=C}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Ne(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){zi(n);try{return await Fe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ma})}catch(a){if(Ne(a))return{data:{user:null},error:a};throw a}}async updateUserById(n,a){zi(n);try{return await Fe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:a,headers:this.headers,xform:ma})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,a=!1){zi(n);try{return await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:a},xform:ma})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){zi(n.userId);try{const{data:a,error:i}=await Fe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:a,error:i}}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async _deleteFactor(n){zi(n.userId),zi(n.id);try{return{data:await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}}}function Yv(e={}){return{getItem:n=>e[n]||null,setItem:(n,a)=>{e[n]=a},removeItem:n=>{delete e[n]}}}function rC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fi={debug:!!(globalThis&&m_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class v_ extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class aC extends v_{}async function iC(e,n,a){Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,l.name);try{return await a()}finally{Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,l.name)}}else{if(n===0)throw Fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new aC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fi.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}rC();const sC={url:pE,storageKey:vE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Kv(e,n,a){return await a()}const Hi={};class wl{constructor(n){var a,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=wl.nextInstanceID,wl.nextInstanceID+=1,this.instanceID>0&&Bn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},sC),n);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new nC({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=p_(l.fetch),this.lock=l.lock||Kv,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Bn()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=iC:this.lock=Kv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:m_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yv(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Yv(this.memoryStorage)),Bn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var n,a;return(a=(n=Hi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(n){Hi[this.storageKey]=Object.assign(Object.assign({},Hi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,a;return(a=(n=Hi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Hi[this.storageKey]=Object.assign(Object.assign({},Hi[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${d_}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const a=kE(window.location.href);let i="none";if(this._isImplicitGrantCallback(a)?i="implicit":await this._isPKCECallback(a)&&(i="pkce"),Bn()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:u}=await this._getSessionFromURL(a,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),EE(u)){const h=(n=u.details)===null||n===void 0?void 0:n.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return Ne(a)?{error:a}:{error:new h_("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var a,i,l;try{const u=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(a=n?.options)===null||a===void 0?void 0:a.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=n?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Dr}),{data:c,error:f}=u;if(f||!c)return{data:{user:null,session:null},error:f};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(u){if(Ne(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(n){var a,i,l;try{let u;if("email"in n){const{email:v,password:y,options:w}=n;let b=null,S=null;this.flowType==="pkce"&&([b,S]=await $i(this.storage,this.storageKey)),u=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:v,password:y,data:(a=w?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:b,code_challenge_method:S},xform:Dr})}else if("phone"in n){const{phone:v,password:y,options:w}=n;u=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(l=w?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Dr})}else throw new Jo("You must provide either an email or phone number and a password");const{data:c,error:f}=u;if(f||!c)return{data:{user:null,session:null},error:f};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(u){if(Ne(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(n){try{let a;if("email"in n){const{email:u,password:c,options:f}=n;a=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Gv})}else if("phone"in n){const{phone:u,password:c,options:f}=n;a=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Gv})}else throw new Jo("You must provide either an email or phone number and a password");const{data:i,error:l}=a;return l?{data:{user:null,session:null},error:l}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Zo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(a){if(Ne(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(n){var a,i,l,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:a}=n;if(a==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(n){var a,i,l,u,c,f,h,m,v,y,w,b;let S,C;if("message"in n)S=n.message,C=n.signature;else{const{chain:R,wallet:D,statement:L,options:T}=n;let M;if(Bn())if(typeof D=="object")M=D;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))M=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=D}const k=new URL((a=T?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in M&&M.signIn){const V=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),L?{statement:L}:null));let P;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")P=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)P=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)S=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),C=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${k.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(l=(i=T?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=T?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((m=T?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((y=(v=T?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...T.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const V=await M.signMessage(new TextEncoder().encode(S),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=V}}try{const{data:R,error:D}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:NE(C)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=n.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Dr});if(D)throw D;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new Zo}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:D})}catch(R){if(Ne(R))return{data:{user:null,session:null},error:R};throw R}}async _exchangeCodeForSession(n){const a=await Ha(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(a??"").split("/");try{const{data:u,error:c}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Dr});if(await oa(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Zo}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:c})}catch(u){if(Ne(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(n){try{const{options:a,provider:i,token:l,access_token:u,nonce:c}=n,f=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Dr}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Zo}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(a){if(Ne(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(n){var a,i,l,u,c;try{if("email"in n){const{email:f,options:h}=n;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await $i(this.storage,this.storageKey));const{error:y}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(a=h?.data)!==null&&a!==void 0?a:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in n){const{phone:f,options:h}=n,{data:m,error:v}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=h?.data)!==null&&l!==void 0?l:{},create_user:(u=h?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new Jo("You must provide either an email or phone number.")}catch(f){if(Ne(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(n){var a,i;try{let l,u;"options"in n&&(l=(a=n.options)===null||a===void 0?void 0:a.redirectTo,u=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:f}=await Fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Dr});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Ne(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(n){var a,i,l;try{let u=null,c=null;return this.flowType==="pkce"&&([u,c]=await $i(this.storage,this.storageKey)),await Fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(a=n.options)===null||a===void 0?void 0:a.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=n?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:QE})}catch(u){if(Ne(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)throw i;if(!a)throw new ha;const{error:l}=await Fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:l}})}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const a=`${this.url}/resend`;if("email"in n){const{email:i,type:l,options:u}=n,{error:c}=await Fe(this.fetch,"POST",a,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in n){const{phone:i,type:l,options:u}=n,{data:c,error:f}=await Fe(this.fetch,"POST",a,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:f}}throw new Jo("You must provide either an email or phone number and a type")}catch(a){if(Ne(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(n,a){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await a()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=a();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await n(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const a=await Ha(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?n=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<tf:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const c=await Ha(this.userStorage,this.storageKey+"-user");c?.user?n.user=c.user:n.user=af()}if(this.storage.isServer&&n.user){let c=this.suppressGetSessionWarning;n=new Proxy(n,{get:(h,m,v)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,v))})}return{data:{session:n},error:null}}const{session:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ma}):await this._useSession(async a=>{var i,l,u;const{data:c,error:f}=a;if(f)throw f;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ha}:await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:ma})})}catch(a){if(Ne(a))return xE(a)&&(await this._removeSession(),await oa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(n,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,a))}async _updateUser(n,a={}){try{return await this._useSession(async i=>{const{data:l,error:u}=i;if(u)throw u;if(!l.session)throw new ha;const c=l.session;let f=null,h=null;this.flowType==="pkce"&&n.email!=null&&([f,h]=await $i(this.storage,this.storageKey));const{data:m,error:v}=await Fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:f,code_challenge_method:h}),jwt:c.access_token,xform:ma});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new ha;const a=Date.now()/1e3;let i=a,l=!0,u=null;const{payload:c}=rf(n.access_token);if(c.exp&&(i=c.exp,l=i<=a),l){const{session:f,error:h}=await this._callRefreshToken(n.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:h}=await this._getUser(n.access_token);if(h)throw h;u={access_token:n.access_token,refresh_token:n.refresh_token,user:f.user,token_type:"bearer",expires_in:i-a,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(a){if(Ne(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async a=>{var i;if(!n){const{data:c,error:f}=a;if(f)throw f;n=(i=c.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new ha;const{session:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(Ne(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(n,a){try{if(!Bn())throw new eu("No browser detected.");if(n.error||n.error_description||n.error_code)throw new eu(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new zv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new eu("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new zv("No code detected.");const{data:L,error:T}=await this._exchangeCodeForSession(n.code);if(T)throw T;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:u,refresh_token:c,expires_in:f,expires_at:h,token_type:m}=n;if(!u||!f||!c||!m)throw new eu("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(f);let w=v+y;h&&(w=parseInt(h));const b=w-v;b*1e3<=Ii&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const S=w-y;v-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,w,v):v-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,w,v);const{data:C,error:R}=await this._getUser(u);if(R)throw R;const D={provider_token:i,provider_refresh_token:l,access_token:u,expires_in:y,expires_at:w,refresh_token:c,token_type:m,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:n.type},error:null}}catch(i){if(Ne(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const a=await Ha(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&a)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async a=>{var i;const{data:l,error:u}=a;if(u)return{error:u};const c=(i=l.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:f}=await this.admin.signOut(c,n);if(f&&!(SE(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return n!=="others"&&(await this._removeSession(),await oa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const a=ME(),i={id:a,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async a=>{var i,l;try{const{data:{session:u},error:c}=a;if(c)throw c;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,a={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await $i(this.storage,this.storageKey,!0));try{return await Fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(Ne(u))return{data:null,error:u};throw u}}async getUserIdentities(){var n;try{const{data:a,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(n=a.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async linkIdentity(n){var a;try{const{data:i,error:l}=await this._useSession(async u=>{var c,f,h,m,v;const{data:y,error:w}=u;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(c=n.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=n.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=n.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Fe(this.fetch,"GET",b,{headers:this.headers,jwt:(v=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return Bn()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:n.provider,url:i?.url},error:null}}catch(i){if(Ne(i))return{data:{provider:n.provider,url:null},error:i};throw i}}async unlinkIdentity(n){try{return await this._useSession(async a=>{var i,l;const{data:u,error:c}=a;if(c)throw c;return await Fe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async _refreshAccessToken(n){const a=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(a,"begin");try{const i=Date.now();return await PE(async l=>(l>0&&await UE(200*Math.pow(2,l-1)),this._debug(a,"refreshing attempt",l),await Fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Dr})),(l,u)=>{const c=200*Math.pow(2,l);return u&&nf(u)&&Date.now()+c-i<Ii})}catch(i){if(this._debug(a,"error",i),Ne(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(a,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,a){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",a,"url",i),Bn()&&!a.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,a;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await Ha(this.storage,this.storageKey);if(l&&this.userStorage){let c=await Ha(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await qi(this.userStorage,this.storageKey+"-user",c)),l.user=(n=c?.user)!==null&&n!==void 0?n:af()}else if(l&&!l.user&&!l.user){const c=await Ha(this.storage,this.storageKey+"-user");c&&c?.user?(l.user=c.user,await oa(this.storage,this.storageKey+"-user"),await qi(this.storage,this.storageKey,l)):l.user=af()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const u=((a=l.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<tf;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${tf}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),nf(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(l.access_token);!f&&c?.user?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var a,i;if(!n)throw new ha;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Au;const{data:u,error:c}=await this._refreshAccessToken(n);if(c)throw c;if(!u.session)throw new ha;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={session:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),Ne(u)){const c={session:null,error:u};return nf(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(n,a,i=!0){const l=`#_notifyAllSubscribers(${n})`;this._debug(l,"begin",a,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:a});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(n,a)}catch(h){u.push(h)}});if(await Promise.all(c),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const a=Object.assign({},n),i=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&a.user&&await qi(this.userStorage,this.storageKey+"-user",{user:a.user});const l=Object.assign({},a);delete l.user;const u=Iv(l);await qi(this.storage,this.storageKey,u)}else{const l=Iv(a);await qi(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await oa(this.storage,this.storageKey),await oa(this.storage,this.storageKey+"-code-verifier"),await oa(this.storage,this.storageKey+"-user"),this.userStorage&&await oa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Bn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Ii);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async a=>{const{data:{session:i}}=a;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-n)/Ii);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Ii}ms, refresh threshold is ${jf} ticks`),l<=jf&&await this._callRefreshToken(i.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof v_)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const a=`#_onVisibilityChanged(${n})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,a,i){const l=[`provider=${encodeURIComponent(a)}`];if(i?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,c]=await $i(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(f.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);l.push(u.toString())}return i?.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${l.join("&")}`}async _unenroll(n){try{return await this._useSession(async a=>{var i;const{data:l,error:u}=a;return u?{data:null,error:u}:await Fe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async _enroll(n){try{return await this._useSession(async a=>{var i,l;const{data:u,error:c}=a;if(c)return{data:null,error:c};const f=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:h,error:m}=await Fe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(n.factorType==="totp"&&(!((l=h?.totp)===null||l===void 0)&&l.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var i;const{data:l,error:u}=a;if(u)return{data:null,error:u};const{data:c,error:f}=await Fe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:f})})}catch(a){if(Ne(a))return{data:null,error:a};throw a}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var i;const{data:l,error:u}=a;return u?{data:null,error:u}:await Fe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(a){if(Ne(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(n){const{data:a,error:i}=await this._challenge({factorId:n.factorId});return i?{data:null,error:i}:await this._verify({factorId:n.factorId,challengeId:a.id,code:n.code})}async _listFactors(){const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i=n?.factors||[],l=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),u=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:l,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var a,i;const{data:{session:l},error:u}=n;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=rf(l.access_token);let f=null;c.aal&&(f=c.aal);let h=f;((i=(a=l.user.factors)===null||a===void 0?void 0:a.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const v=c.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(n,a={keys:[]}){let i=a.keys.find(f=>f.kid===n);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(f=>f.kid===n),i&&this.jwks_cached_at+bE>l)return i;const{data:u,error:c}=await Fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,i=u.keys.find(f=>f.kid===n),!i)?null:i}async getClaims(n,a={}){try{let i=n;if(!i){const{data:b,error:S}=await this.getSession();if(S||!b.session)return{data:null,error:S};i=b.session.access_token}const{header:l,payload:u,signature:c,raw:{header:f,payload:h}}=rf(i);a?.allowExpired||IE(u.exp);const m=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!m){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:u,header:l,signature:c},error:null}}const v=qE(l.alg),y=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,c,DE(`${f}.${h}`)))throw new Lf("Invalid JWT signature");return{data:{claims:u,header:l,signature:c},error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}}}wl.nextInstanceID=0;const lC=wl;class oC extends lC{constructor(n){super(n)}}var uC=function(e,n,a,i){function l(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?u(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};class cC{constructor(n,a,i){var l,u,c;if(this.supabaseUrl=n,this.supabaseKey=a,!n)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const f=gE(n),h=new URL(f);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,v={db:sE,realtime:oE,auth:Object.assign(Object.assign({},lE),{storageKey:m}),global:iE},y=mE(i??{},v);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(w,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=fE(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new Tx(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new nE(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new gx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,a={},i={}){return this.rest.rpc(n,a,i)}channel(n,a={config:{}}){return this.realtime.channel(n,a)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,a;return uC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:l,storageKey:u,flowType:c,lock:f,debug:h},m,v){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oC({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:u,autoRefreshToken:n,persistSession:a,detectSessionInUrl:i,storage:l,flowType:c,lock:f,debug:h,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new Bx(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,i)=>{this._handleTokenChanged(a,"CLIENT",i?.access_token)})}_handleTokenChanged(n,a,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:n==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dC=(e,n,a)=>new cC(e,n,a);function fC(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}fC()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const hC="https://jyrfznujcyqskpfthrsf.supabase.co",gC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp5cmZ6bnVqY3lxc2twZnRocnNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwODM1OTMsImV4cCI6MjA3MDY1OTU5M30.JOZLGHslSQO7wDeFSq7FHAV6_VNtD9DS-gMNUu4rEnM",tt=dC(hC,gC,{auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}}),Vt=(e,n="")=>(console.error(`Supabase error${n?` in ${n}`:""}:`,e),e.code==="23505"?"This record already exists":e.code==="23503"?"Cannot perform this operation due to related records":e.code==="PGRST116"?"No records found":e.message?.includes("JWT")?"Authentication error. Please refresh the page":e.message||"An unexpected error occurred"),Ot={PRINTING:"STAMPA",PACKAGING:"CONFEZIONAMENTO"},Le={ZANICA:"ZANICA",BUSTO_GAROLFO:"BUSTO_GAROLFO",BOTH:"BOTH"},Un={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",MAINTENANCE:"MAINTENANCE"},Gi={CREMA:"crema",LIQUIDO:"liquido",POLVERI:"polveri"},lr={T1:"T1",T2:"T2",T3:"T3"},Sl={THREE:"3",FOUR:"4"},Xv={END_DATE_BEFORE_START:"End date cannot be before start date",END_TIME_BEFORE_START:"End time must be after start time when dates are the same"},ft={MACHINE:{DEPARTMENT:Ot.PRINTING,WORK_CENTER:Le.ZANICA,MIN_WEB_WIDTH:"100",MAX_WEB_WIDTH:"1000",MIN_BAG_HEIGHT:"50",MAX_BAG_HEIGHT:"500",SETUP_TIME_STANDARD:"0.5",CHANGEOVER_COLOR:"0.25",CHANGEOVER_MATERIAL:"0.75",ACTIVE_SHIFTS:[lr.T1],STATUS:Un.ACTIVE},PHASE:{DEPARTMENT:Ot.PRINTING,NUMERO_PERSONE:1,WORK_CENTER:Le.ZANICA,V_STAMPA:6e3,T_SETUP_STAMPA:.5,COSTO_H_STAMPA:50,V_CONF:1e3,T_SETUP_CONF:.25,COSTO_H_CONF:40},ORDER:{SEAL_SIDES:Sl.THREE,QUANTITY_COMPLETED:0},OFF_TIME:{START_TIME:"09:00",END_TIME:"17:00"}},nl={DECIMAL_PRECISION:{ONE_DECIMAL:["setup_time_standard","changeover_color","changeover_material","t_setup_stampa","t_setup_conf"],TWO_DECIMAL:["costo_h_stampa","costo_h_conf"]},FIELD_STEPS:{TIME:.1,COST:.01}},y_=E.createContext(),mC=({children:e})=>{const[n,a]=E.useState(null),[i,l]=E.useState(null),[u,c]=E.useState(!0),[f,h]=E.useState(null),[m,v]=E.useState(null);E.useEffect(()=>{(async()=>{try{const{data:{session:M},error:k}=await tt.auth.getSession();k?(console.error("Error getting initial session:",k),h("Failed to initialize authentication")):(console.log("Initial session loaded:",M?"User authenticated":"No user session"),l(M),a(M?.user??null))}catch(M){console.error("Error getting initial session:",M),h("Failed to initialize authentication")}finally{c(!1)}})();const{data:{subscription:T}}=tt.auth.onAuthStateChange(async(M,k)=>{switch(console.log("Auth state changed:",M,k?.user?.email||"No user"),l(k),a(k?.user??null),c(!1),h(null),M){case"SIGNED_IN":console.log("User signed in:",k?.user?.email);break;case"SIGNED_OUT":console.log("User signed out");break;case"TOKEN_REFRESHED":console.log("Token refreshed");break;case"USER_UPDATED":console.log("User updated:",k?.user?.email);break;case"INITIAL_SESSION":console.log("Initial session event:",k?"User authenticated":"No user session");break}});return()=>T.unsubscribe()},[]);const D={user:n,session:i,loading:u,error:f,selectedWorkCenter:m,setSelectedWorkCenter:v,signIn:async(L,T)=>{try{h(null),c(!0);const{data:M,error:k}=await tt.auth.signInWithPassword({email:L,password:T});if(k)throw k;return console.log("Sign in successful:",M.user?.email),{success:!0,user:M.user}}catch(M){return console.error("Sign in error:",M),h(M.message),{success:!1,error:M.message}}finally{c(!1)}},signUp:async(L,T,M={})=>{try{h(null),c(!0);const{data:k,error:V}=await tt.auth.signUp({email:L,password:T,options:{data:M}});if(V)throw V;return console.log("Sign up successful:",k.user?.email),{success:!0,user:k.user}}catch(k){return console.error("Sign up error:",k),h(k.message),{success:!1,error:k.message}}finally{c(!1)}},signOut:async()=>{try{h(null),c(!0);const{error:L}=await tt.auth.signOut();if(L)throw L;return console.log("Sign out successful"),{success:!0}}catch(L){return console.error("Sign out error:",L),h(L.message),{success:!1,error:L.message}}finally{c(!1)}},resetPassword:async L=>{try{h(null),c(!0);const{error:T}=await tt.auth.resetPasswordForEmail(L,{redirectTo:`${window.location.origin}/reset-password`});if(T)throw T;return console.log("Password reset email sent"),{success:!0}}catch(T){return console.error("Password reset error:",T),h(T.message),{success:!1,error:T.message}}finally{c(!1)}},updateProfile:async L=>{try{h(null),c(!0);const{data:T,error:M}=await tt.auth.updateUser({data:L});if(M)throw M;return console.log("Profile updated successfully"),{success:!0,user:T.user}}catch(T){return console.error("Profile update error:",T),h(T.message),{success:!1,error:T.message}}finally{c(!1)}},getUserProfile:async()=>{if(!n)return null;try{const{data:L,error:T}=await tt.from("profiles").select("*").eq("id",n.id).single();return T?(console.error("Error fetching user profile:",T),null):L}catch(L){return console.error("Error fetching user profile:",L),null}},isAuthenticated:!!n};return p.jsx(y_.Provider,{value:D,children:e})},es=()=>{const e=E.useContext(y_);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Wv=e=>{let n;const a=new Set,i=(m,v)=>{const y=typeof m=="function"?m(n):m;if(!Object.is(y,n)){const w=n;n=v??(typeof y!="object"||y===null)?y:Object.assign({},n,y),a.forEach(b=>b(n,w))}},l=()=>n,f={setState:i,getState:l,getInitialState:()=>h,subscribe:m=>(a.add(m),()=>a.delete(m))},h=n=e(i,l,f);return f},pC=(e=>e?Wv(e):Wv),vC=e=>e;function yC(e,n=vC){const a=Me.useSyncExternalStore(e.subscribe,Me.useCallback(()=>n(e.getState()),[e,n]),Me.useCallback(()=>n(e.getInitialState()),[e,n]));return Me.useDebugValue(a),a}const Qv=e=>{const n=pC(e),a=i=>yC(n,i);return Object.assign(a,n),a},_C=(e=>e?Qv(e):Qv),__=6048e5,bC=864e5,b_=6e4,ih=36e5,Zv=Symbol.for("constructDateFrom");function Xn(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&Zv in e?e[Zv](n):e instanceof Date?new e.constructor(n):new Date(n)}function ut(e,n){return Xn(n||e,e)}function wC(e,n,a){const i=ut(e,a?.in);return isNaN(n)?Xn(e,NaN):(n&&i.setDate(i.getDate()+n),i)}function SC(e,n,a){return Xn(e,+ut(e)+n)}function xC(e,n,a){return SC(e,n*ih)}let EC={};function Ou(){return EC}function Xi(e,n){const a=Ou(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,l=ut(e,n?.in),u=l.getDay(),c=(u<i?7:0)+u-i;return l.setDate(l.getDate()-c),l.setHours(0,0,0,0),l}function hu(e,n){return Xi(e,{...n,weekStartsOn:1})}function w_(e,n){const a=ut(e,n?.in),i=a.getFullYear(),l=Xn(a,0);l.setFullYear(i+1,0,4),l.setHours(0,0,0,0);const u=hu(l),c=Xn(a,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const f=hu(c);return a.getTime()>=u.getTime()?i+1:a.getTime()>=f.getTime()?i:i-1}function Jv(e){const n=ut(e),a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return a.setUTCFullYear(n.getFullYear()),+e-+a}function S_(e,...n){const a=Xn.bind(null,n.find(i=>typeof i=="object"));return n.map(a)}function xl(e,n){const a=ut(e,n?.in);return a.setHours(0,0,0,0),a}function CC(e,n,a){const[i,l]=S_(a?.in,e,n),u=xl(i),c=xl(l),f=+u-Jv(u),h=+c-Jv(c);return Math.round((f-h)/bC)}function TC(e,n){const a=w_(e,n),i=Xn(e,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),hu(i)}function RC(e,n,a){const[i,l]=S_(a?.in,e,n);return+xl(i)==+xl(l)}function AC(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function OC(e){return!(!AC(e)&&typeof e!="number"||isNaN(+ut(e)))}function DC(e,n){const a=ut(e,n?.in);return a.setHours(23,59,59,999),a}function NC(e,n){const a=ut(e,n?.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function jC(e,n){const a=n?.weekStartsOn,i=ut(e,n?.in),l=i.getDay(),u=(l<a?-7:0)+6-(l-a);return i.setDate(i.getDate()+u),i.setHours(23,59,59,999),i}const MC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kC=(e,n,a)=>{let i;const l=MC[e];return typeof l=="string"?i=l:n===1?i=l.one:i=l.other.replace("{{count}}",n.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+i:i+" ago":i};function lf(e){return(n={})=>{const a=n.width?String(n.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const LC={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},UC={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},PC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$C={date:lf({formats:LC,defaultWidth:"full"}),time:lf({formats:UC,defaultWidth:"full"}),dateTime:lf({formats:PC,defaultWidth:"full"})},zC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},FC=(e,n,a,i)=>zC[e];function rl(e){return(n,a)=>{const i=a?.context?String(a.context):"standalone";let l;if(i==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,f=a?.width?String(a.width):c;l=e.formattingValues[f]||e.formattingValues[c]}else{const c=e.defaultWidth,f=a?.width?String(a.width):e.defaultWidth;l=e.values[f]||e.values[c]}const u=e.argumentCallback?e.argumentCallback(n):n;return l[u]}}const HC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},VC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},IC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},GC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YC=(e,n)=>{const a=Number(e),i=a%100;if(i>20||i<10)switch(i%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},KC={ordinalNumber:YC,era:rl({values:HC,defaultWidth:"wide"}),quarter:rl({values:VC,defaultWidth:"wide",argumentCallback:e=>e-1}),month:rl({values:BC,defaultWidth:"wide"}),day:rl({values:IC,defaultWidth:"wide"}),dayPeriod:rl({values:qC,defaultWidth:"wide",formattingValues:GC,defaultFormattingWidth:"wide"})};function al(e){return(n,a={})=>{const i=a.width,l=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],u=n.match(l);if(!u)return null;const c=u[0],f=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(f)?WC(f,y=>y.test(c)):XC(f,y=>y.test(c));let m;m=e.valueCallback?e.valueCallback(h):h,m=a.valueCallback?a.valueCallback(m):m;const v=n.slice(c.length);return{value:m,rest:v}}}function XC(e,n){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&n(e[a]))return a}function WC(e,n){for(let a=0;a<e.length;a++)if(n(e[a]))return a}function QC(e){return(n,a={})=>{const i=n.match(e.matchPattern);if(!i)return null;const l=i[0],u=n.match(e.parsePattern);if(!u)return null;let c=e.valueCallback?e.valueCallback(u[0]):u[0];c=a.valueCallback?a.valueCallback(c):c;const f=n.slice(l.length);return{value:c,rest:f}}}const ZC=/^(\d+)(th|st|nd|rd)?/i,JC=/\d+/i,eT={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tT={any:[/^b/i,/^(a|c)/i]},nT={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rT={any:[/1/i,/2/i,/3/i,/4/i]},aT={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iT={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sT={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lT={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oT={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uT={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cT={ordinalNumber:QC({matchPattern:ZC,parsePattern:JC,valueCallback:e=>parseInt(e,10)}),era:al({matchPatterns:eT,defaultMatchWidth:"wide",parsePatterns:tT,defaultParseWidth:"any"}),quarter:al({matchPatterns:nT,defaultMatchWidth:"wide",parsePatterns:rT,defaultParseWidth:"any",valueCallback:e=>e+1}),month:al({matchPatterns:aT,defaultMatchWidth:"wide",parsePatterns:iT,defaultParseWidth:"any"}),day:al({matchPatterns:sT,defaultMatchWidth:"wide",parsePatterns:lT,defaultParseWidth:"any"}),dayPeriod:al({matchPatterns:oT,defaultMatchWidth:"any",parsePatterns:uT,defaultParseWidth:"any"})},dT={code:"en-US",formatDistance:kC,formatLong:$C,formatRelative:FC,localize:KC,match:cT,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fT(e,n){const a=ut(e,n?.in);return CC(a,NC(a))+1}function hT(e,n){const a=ut(e,n?.in),i=+hu(a)-+TC(a);return Math.round(i/__)+1}function x_(e,n){const a=ut(e,n?.in),i=a.getFullYear(),l=Ou(),u=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,c=Xn(n?.in||e,0);c.setFullYear(i+1,0,u),c.setHours(0,0,0,0);const f=Xi(c,n),h=Xn(n?.in||e,0);h.setFullYear(i,0,u),h.setHours(0,0,0,0);const m=Xi(h,n);return+a>=+f?i+1:+a>=+m?i:i-1}function gT(e,n){const a=Ou(),i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=x_(e,n),u=Xn(n?.in||e,0);return u.setFullYear(l,0,i),u.setHours(0,0,0,0),Xi(u,n)}function mT(e,n){const a=ut(e,n?.in),i=+Xi(a,n)-+gT(a,n);return Math.round(i/__)+1}function Xe(e,n){const a=e<0?"-":"",i=Math.abs(e).toString().padStart(n,"0");return a+i}const ua={y(e,n){const a=e.getFullYear(),i=a>0?a:1-a;return Xe(n==="yy"?i%100:i,n.length)},M(e,n){const a=e.getMonth();return n==="M"?String(a+1):Xe(a+1,2)},d(e,n){return Xe(e.getDate(),n.length)},a(e,n){const a=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(e,n){return Xe(e.getHours()%12||12,n.length)},H(e,n){return Xe(e.getHours(),n.length)},m(e,n){return Xe(e.getMinutes(),n.length)},s(e,n){return Xe(e.getSeconds(),n.length)},S(e,n){const a=n.length,i=e.getMilliseconds(),l=Math.trunc(i*Math.pow(10,a-3));return Xe(l,n.length)}},Vi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ey={G:function(e,n,a){const i=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return a.era(i,{width:"abbreviated"});case"GGGGG":return a.era(i,{width:"narrow"});case"GGGG":default:return a.era(i,{width:"wide"})}},y:function(e,n,a){if(n==="yo"){const i=e.getFullYear(),l=i>0?i:1-i;return a.ordinalNumber(l,{unit:"year"})}return ua.y(e,n)},Y:function(e,n,a,i){const l=x_(e,i),u=l>0?l:1-l;if(n==="YY"){const c=u%100;return Xe(c,2)}return n==="Yo"?a.ordinalNumber(u,{unit:"year"}):Xe(u,n.length)},R:function(e,n){const a=w_(e);return Xe(a,n.length)},u:function(e,n){const a=e.getFullYear();return Xe(a,n.length)},Q:function(e,n,a){const i=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Xe(i,2);case"Qo":return a.ordinalNumber(i,{unit:"quarter"});case"QQQ":return a.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,a){const i=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Xe(i,2);case"qo":return a.ordinalNumber(i,{unit:"quarter"});case"qqq":return a.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,a){const i=e.getMonth();switch(n){case"M":case"MM":return ua.M(e,n);case"Mo":return a.ordinalNumber(i+1,{unit:"month"});case"MMM":return a.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,a){const i=e.getMonth();switch(n){case"L":return String(i+1);case"LL":return Xe(i+1,2);case"Lo":return a.ordinalNumber(i+1,{unit:"month"});case"LLL":return a.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,a,i){const l=mT(e,i);return n==="wo"?a.ordinalNumber(l,{unit:"week"}):Xe(l,n.length)},I:function(e,n,a){const i=hT(e);return n==="Io"?a.ordinalNumber(i,{unit:"week"}):Xe(i,n.length)},d:function(e,n,a){return n==="do"?a.ordinalNumber(e.getDate(),{unit:"date"}):ua.d(e,n)},D:function(e,n,a){const i=fT(e);return n==="Do"?a.ordinalNumber(i,{unit:"dayOfYear"}):Xe(i,n.length)},E:function(e,n,a){const i=e.getDay();switch(n){case"E":case"EE":case"EEE":return a.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(i,{width:"short",context:"formatting"});case"EEEE":default:return a.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,a,i){const l=e.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(u);case"ee":return Xe(u,2);case"eo":return a.ordinalNumber(u,{unit:"day"});case"eee":return a.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(l,{width:"short",context:"formatting"});case"eeee":default:return a.day(l,{width:"wide",context:"formatting"})}},c:function(e,n,a,i){const l=e.getDay(),u=(l-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(u);case"cc":return Xe(u,n.length);case"co":return a.ordinalNumber(u,{unit:"day"});case"ccc":return a.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(l,{width:"narrow",context:"standalone"});case"cccccc":return a.day(l,{width:"short",context:"standalone"});case"cccc":default:return a.day(l,{width:"wide",context:"standalone"})}},i:function(e,n,a){const i=e.getDay(),l=i===0?7:i;switch(n){case"i":return String(l);case"ii":return Xe(l,n.length);case"io":return a.ordinalNumber(l,{unit:"day"});case"iii":return a.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(i,{width:"short",context:"formatting"});case"iiii":default:return a.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,a){const l=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,n,a){const i=e.getHours();let l;switch(i===12?l=Vi.noon:i===0?l=Vi.midnight:l=i/12>=1?"pm":"am",n){case"b":case"bb":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,n,a){const i=e.getHours();let l;switch(i>=17?l=Vi.evening:i>=12?l=Vi.afternoon:i>=4?l=Vi.morning:l=Vi.night,n){case"B":case"BB":case"BBB":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,n,a){if(n==="ho"){let i=e.getHours()%12;return i===0&&(i=12),a.ordinalNumber(i,{unit:"hour"})}return ua.h(e,n)},H:function(e,n,a){return n==="Ho"?a.ordinalNumber(e.getHours(),{unit:"hour"}):ua.H(e,n)},K:function(e,n,a){const i=e.getHours()%12;return n==="Ko"?a.ordinalNumber(i,{unit:"hour"}):Xe(i,n.length)},k:function(e,n,a){let i=e.getHours();return i===0&&(i=24),n==="ko"?a.ordinalNumber(i,{unit:"hour"}):Xe(i,n.length)},m:function(e,n,a){return n==="mo"?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):ua.m(e,n)},s:function(e,n,a){return n==="so"?a.ordinalNumber(e.getSeconds(),{unit:"second"}):ua.s(e,n)},S:function(e,n){return ua.S(e,n)},X:function(e,n,a){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return ny(i);case"XXXX":case"XX":return Ba(i);case"XXXXX":case"XXX":default:return Ba(i,":")}},x:function(e,n,a){const i=e.getTimezoneOffset();switch(n){case"x":return ny(i);case"xxxx":case"xx":return Ba(i);case"xxxxx":case"xxx":default:return Ba(i,":")}},O:function(e,n,a){const i=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+ty(i,":");case"OOOO":default:return"GMT"+Ba(i,":")}},z:function(e,n,a){const i=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+ty(i,":");case"zzzz":default:return"GMT"+Ba(i,":")}},t:function(e,n,a){const i=Math.trunc(+e/1e3);return Xe(i,n.length)},T:function(e,n,a){return Xe(+e,n.length)}};function ty(e,n=""){const a=e>0?"-":"+",i=Math.abs(e),l=Math.trunc(i/60),u=i%60;return u===0?a+String(l):a+String(l)+n+Xe(u,2)}function ny(e,n){return e%60===0?(e>0?"-":"+")+Xe(Math.abs(e)/60,2):Ba(e,n)}function Ba(e,n=""){const a=e>0?"-":"+",i=Math.abs(e),l=Xe(Math.trunc(i/60),2),u=Xe(i%60,2);return a+l+n+u}const ry=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},E_=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},pT=(e,n)=>{const a=e.match(/(P+)(p+)?/)||[],i=a[1],l=a[2];if(!l)return ry(e,n);let u;switch(i){case"P":u=n.dateTime({width:"short"});break;case"PP":u=n.dateTime({width:"medium"});break;case"PPP":u=n.dateTime({width:"long"});break;case"PPPP":default:u=n.dateTime({width:"full"});break}return u.replace("{{date}}",ry(i,n)).replace("{{time}}",E_(l,n))},vT={p:E_,P:pT},yT=/^D+$/,_T=/^Y+$/,bT=["D","DD","YY","YYYY"];function wT(e){return yT.test(e)}function ST(e){return _T.test(e)}function xT(e,n,a){const i=ET(e,n,a);if(console.warn(i),bT.includes(e))throw new RangeError(i)}function ET(e,n,a){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${i} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const CT=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TT=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,RT=/^'([^]*?)'?$/,AT=/''/g,OT=/[a-zA-Z]/;function DT(e,n,a){const i=Ou(),l=i.locale??dT,u=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f=ut(e,a?.in);if(!OC(f))throw new RangeError("Invalid time value");let h=n.match(TT).map(v=>{const y=v[0];if(y==="p"||y==="P"){const w=vT[y];return w(v,l.formatLong)}return v}).join("").match(CT).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:NT(v)};if(ey[y])return{isToken:!0,value:v};if(y.match(OT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});l.localize.preprocessor&&(h=l.localize.preprocessor(f,h));const m={firstWeekContainsDate:u,weekStartsOn:c,locale:l};return h.map(v=>{if(!v.isToken)return v.value;const y=v.value;(ST(y)||wT(y))&&xT(y,n,String(e));const w=ey[y[0]];return w(f,y,l.localize,m)}).join("")}function NT(e){const n=e.match(RT);return n?n[1].replace(AT,"'"):e}function jT(e,n){return+ut(e)>+ut(n)}function MT(e,n){return+ut(e)<+ut(n)}function tu(e,n){const a=()=>Xn(n?.in,NaN),l=PT(e);let u;if(l.date){const m=$T(l.date,2);u=zT(m.restDateString,m.year)}if(!u||isNaN(+u))return a();const c=+u;let f=0,h;if(l.time&&(f=FT(l.time),isNaN(f)))return a();if(l.timezone){if(h=HT(l.timezone),isNaN(h))return a()}else{const m=new Date(c+f),v=ut(0,n?.in);return v.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),v.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),v}return ut(c+f+h,n?.in)}const nu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},kT=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,LT=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,UT=/^([+-])(\d{2})(?::?(\d{2}))?$/;function PT(e){const n={},a=e.split(nu.dateTimeDelimiter);let i;if(a.length>2)return n;if(/:/.test(a[0])?i=a[0]:(n.date=a[0],i=a[1],nu.timeZoneDelimiter.test(n.date)&&(n.date=e.split(nu.timeZoneDelimiter)[0],i=e.substr(n.date.length,e.length))),i){const l=nu.timezone.exec(i);l?(n.time=i.replace(l[1],""),n.timezone=l[1]):n.time=i}return n}function $T(e,n){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),i=e.match(a);if(!i)return{year:NaN,restDateString:""};const l=i[1]?parseInt(i[1]):null,u=i[2]?parseInt(i[2]):null;return{year:u===null?l:u*100,restDateString:e.slice((i[1]||i[2]).length)}}function zT(e,n){if(n===null)return new Date(NaN);const a=e.match(kT);if(!a)return new Date(NaN);const i=!!a[4],l=il(a[1]),u=il(a[2])-1,c=il(a[3]),f=il(a[4]),h=il(a[5])-1;if(i)return GT(n,f,h)?VT(n,f,h):new Date(NaN);{const m=new Date(0);return!IT(n,u,c)||!qT(n,l)?new Date(NaN):(m.setUTCFullYear(n,u,Math.max(l,c)),m)}}function il(e){return e?parseInt(e):1}function FT(e){const n=e.match(LT);if(!n)return NaN;const a=of(n[1]),i=of(n[2]),l=of(n[3]);return YT(a,i,l)?a*ih+i*b_+l*1e3:NaN}function of(e){return e&&parseFloat(e.replace(",","."))||0}function HT(e){if(e==="Z")return 0;const n=e.match(UT);if(!n)return 0;const a=n[1]==="+"?-1:1,i=parseInt(n[2]),l=n[3]&&parseInt(n[3])||0;return KT(i,l)?a*(i*ih+l*b_):NaN}function VT(e,n,a){const i=new Date(0);i.setUTCFullYear(e,0,4);const l=i.getUTCDay()||7,u=(n-1)*7+a+1-l;return i.setUTCDate(i.getUTCDate()+u),i}const BT=[31,null,31,30,31,30,31,31,30,31,30,31];function C_(e){return e%400===0||e%4===0&&e%100!==0}function IT(e,n,a){return n>=0&&n<=11&&a>=1&&a<=(BT[n]||(C_(e)?29:28))}function qT(e,n){return n>=1&&n<=(C_(e)?366:365)}function GT(e,n,a){return n>=1&&n<=53&&a>=0&&a<=6}function YT(e,n,a){return e===24?n===0&&a===0:a>=0&&a<60&&n>=0&&n<60&&e>=0&&e<25}function KT(e,n){return n>=0&&n<=59}function ay(e,n,a){const i=ut(e,a?.in);return i.setHours(n),i}function iy(e,n,a){const i=ut(e,a?.in);return i.setMilliseconds(n),i}function sy(e,n,a){const i=ut(e,a?.in);return i.setMinutes(n),i}function ly(e,n,a){const i=ut(e,a?.in);return i.setSeconds(n),i}function Wt(e){return DT(e,"yyyy-MM-dd")}function XT(e,n,a){if(!e.scheduled_start_time||!e.scheduled_end_time)return!1;const i=tu(e.scheduled_start_time),l=tu(e.scheduled_end_time),u=iy(ly(sy(ay(tu(n),a),0),0),0),c=iy(ly(sy(ay(tu(n),a+1),0),0),0);return MT(i,c)&&jT(l,u)}function T_(e){return Xi(e,{weekStartsOn:0})}function R_(e){return jC(e,{weekStartsOn:0})}function HD(e){return xl(e)}function VD(e){return DC(e)}function BD(e,n){return RC(e,n)}function oy(e,n){return xC(e,n)}function El(e,n){return wC(e,n)}class WT{async init(){try{const{error:n}=await tt.from("machines").select("count").limit(1);if(n)throw new Error(`API initialization failed: ${n.message}`);return console.log("✅ API service initialized successfully"),!0}catch(n){throw console.error("❌ API service initialization failed:",n),n}}async getMachines(){try{const{data:n,error:a}=await tt.from("machines").select("*").order("machine_name");if(a)throw a;return n||[]}catch(n){throw new Error(`Failed to fetch machines: ${Vt(n)}`)}}async addMachine(n){try{const{data:a,error:i}=await tt.from("machines").insert([n]).select().single();if(i)throw i;return a}catch(a){throw new Error(`Failed to add machine: ${Vt(a)}`)}}async updateMachine(n,a){try{const{data:i,error:l}=await tt.from("machines").update(a).eq("id",n).select().single();if(l)throw l;return i}catch(i){throw new Error(`Failed to update machine: ${Vt(i)}`)}}async removeMachine(n){try{const{error:a}=await tt.from("machines").delete().eq("id",n);if(a)throw a;return!0}catch(a){throw new Error(`Failed to remove machine: ${Vt(a)}`)}}async getOdpOrders(){try{const{data:n,error:a}=await tt.from("odp_orders").select("*").order("created_at",{ascending:!1});if(a)throw a;return n||[]}catch(n){throw new Error(`Failed to fetch ODP orders: ${Vt(n)}`)}}async addOdpOrder(n){try{const{data:a,error:i}=await tt.from("odp_orders").insert([n]).select().single();if(i)throw i;return a}catch(a){throw new Error(`Failed to add ODP order: ${Vt(a)}`)}}async updateOdpOrder(n,a){try{const{data:i,error:l}=await tt.from("odp_orders").update(a).eq("id",n).select().single();if(l)throw l;return i}catch(i){throw new Error(`Failed to update ODP order: ${Vt(i)}`)}}async removeOdpOrder(n){try{const{error:a}=await tt.from("odp_orders").delete().eq("id",n);if(a)throw a;return!0}catch(a){throw new Error(`Failed to remove ODP order: ${Vt(a)}`)}}async getPhases(){try{const{data:n,error:a}=await tt.from("phases").select("*").order("name");if(a)throw a;return n||[]}catch(n){throw new Error(`Failed to fetch phases: ${Vt(n)}`)}}async addPhase(n){try{const{data:a,error:i}=await tt.from("phases").insert([n]).select().single();if(i)throw i;return a}catch(a){throw new Error(`Failed to add phase: ${Vt(a)}`)}}async updatePhase(n,a){try{const{data:i,error:l}=await tt.from("phases").update(a).eq("id",n).select().single();if(l)throw l;return i}catch(i){throw new Error(`Failed to update phase: ${Vt(i)}`)}}async removePhase(n){try{const{error:a}=await tt.from("phases").delete().eq("id",n);if(a)throw a;return!0}catch(a){throw new Error(`Failed to remove phase: ${Vt(a)}`)}}async getMachineAvailabilityForDateRange(n,a,i){try{const{data:l,error:u}=await tt.from("machine_availability").select("*").eq("machine_id",n).gte("date",a).lte("date",i).order("date");if(u)throw u;return l||[]}catch(l){throw new Error(`Failed to fetch machine availability for date range: ${Vt(l)}`)}}async getMachineAvailabilityForDate(n,a){try{const{data:i,error:l}=await tt.from("machine_availability").select("*").eq("machine_id",n).eq("date",a).maybeSingle();if(l)throw l;return i||null}catch(i){throw new Error(`Failed to fetch machine availability: ${Vt(i)}`)}}async setMachineAvailability(n,a,i){try{const{data:l,error:u}=await tt.from("machine_availability").upsert([{machine_id:n,date:a,unavailable_hours:i}],{onConflict:"machine_id,date"}).select().single();if(u)throw u;return l}catch(l){throw new Error(`Failed to set machine availability: ${Vt(l)}`)}}async getMachineAvailabilityForDateAllMachines(n){try{const{data:a,error:i}=await tt.from("machine_availability").select("*").eq("date",n);if(i)throw i;return a||[]}catch(a){throw new Error(`Failed to fetch machine availability for all machines: ${Vt(a)}`)}}async getEventsByDate(n){try{const{data:a,error:i}=await tt.from("machine_availability").select("*").eq("date",n);if(i)throw i;return a||[]}catch(a){throw new Error(`Failed to fetch events by date: ${Vt(a)}`)}}async setUnavailableHoursForRange(n,a,i,l,u){try{const c=parseInt(l.split(":")[0]),f=parseInt(u.split(":")[0]),h=[];for(let b=c;b<f;b++)h.push(b.toString());const m=new Date(a),v=new Date(i);let y=new Date(m);const w=[];for(;y<=v;){const b=Wt(y),C=(await this.getMachineAvailabilityForDate(n,b))?.unavailable_hours||[],R=[...new Set([...C,...h])].sort((L,T)=>parseInt(L)-parseInt(T)),D=await this.setMachineAvailability(n,b,R);w.push(D),y=El(y,1)}return w}catch(c){throw new Error(`Failed to set unavailable hours for range: ${Vt(c)}`)}}}const ot=new WT;class ca extends Error{constructor(n,a="GENERIC_ERROR",i=500,l=null){super(n),this.name="AppError",this.code=a,this.statusCode=i,this.originalError=l,this.timestamp=new Date().toISOString(),this.id=this.generateErrorId()}generateErrorId(){return`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}toJSON(){return{id:this.id,message:this.message,code:this.code,statusCode:this.statusCode,timestamp:this.timestamp,stack:this.stack}}}const da={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",NOT_FOUND_ERROR:"NOT_FOUND_ERROR",SERVER_ERROR:"SERVER_ERROR",CLIENT_ERROR:"CLIENT_ERROR"},QT=(e,n="")=>{if(console.error(`API Error in ${n}:`,e),e?.code)switch(e.code){case"23505":return new ca("This record already exists",da.VALIDATION_ERROR,409,e);case"23503":return new ca("Cannot delete this record as it is referenced by other data",da.VALIDATION_ERROR,400,e);case"PGRST116":return new ca("Record not found",da.NOT_FOUND_ERROR,404,e);case"PGRST301":return new ca("Session expired. Please log in again.",da.AUTHENTICATION_ERROR,401,e);default:return new ca(e.message||"An unexpected error occurred",da.SERVER_ERROR,500,e)}return e.name==="NetworkError"||e.message?.includes("fetch")?new ca("Network error. Please check your connection and try again.",da.NETWORK_ERROR,0,e):e.name==="ValidationError"?new ca(e.message,da.VALIDATION_ERROR,400,e):new ca(e.message||"An unexpected error occurred",da.CLIENT_ERROR,e.status||500,e)},ZT=(e,n="")=>({id:e.id||`ERR_${Date.now()}`,message:e.message,code:e.code||"UNKNOWN_ERROR",context:n,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent,stack:e.stack}),JT=e=>n=>{const a=QT(n,e);return ZT(a,e),a},eR=(e,n)=>(console.log("🔄 Setting up realtime subscriptions..."),tt.channel("table-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"odp_orders"},i=>{console.log("🔄 ODP Orders change received:",i),tR(i,e)}).on("postgres_changes",{event:"*",schema:"public",table:"machines"},i=>{console.log("🔄 Machines change received:",i),nR(i,e)}).on("postgres_changes",{event:"*",schema:"public",table:"phases"},i=>{console.log("🔄 Phases change received:",i),rR(i,e)}).subscribe(i=>{console.log("🔄 Realtime subscription status:",i)})),tR=(e,n,a)=>{const{eventType:i,newRecord:l,oldRecord:u}=e;switch(i){case"INSERT":n(c=>({odpOrders:[...c.odpOrders,l]}));break;case"UPDATE":n(c=>({odpOrders:c.odpOrders.map(f=>f.id===l.id?l:f)}));break;case"DELETE":n(c=>({odpOrders:c.odpOrders.filter(f=>f.id!==u.id)}));break}},nR=(e,n,a)=>{const{eventType:i,newRecord:l,oldRecord:u}=e;switch(console.log(`🔄 Machines change: ${i}`,{newRecord:l,oldRecord:u}),i){case"INSERT":n(c=>c.machines.some(h=>h.id===l.id)?(console.log(`🔄 Machine ${l.id} already exists, skipping INSERT`),c):(console.log(`🔄 Adding new machine ${l.id}`),{machines:[...c.machines,l]}));break;case"UPDATE":n(c=>c.machines.some(h=>h.id===l.id)?(console.log(`🔄 Updating machine ${l.id}`),{machines:c.machines.map(h=>h.id===l.id?l:h)}):(console.log(`🔄 Machine ${l.id} not found for UPDATE, skipping`),c));break;case"DELETE":n(c=>c.machines.some(h=>h.id===u.id)?(console.log(`🔄 Deleting machine ${u.id}`),{machines:c.machines.filter(h=>h.id!==u.id)}):(console.log(`🔄 Machine ${u.id} not found for DELETE, skipping`),c));break}},rR=(e,n,a)=>{const{eventType:i,newRecord:l,oldRecord:u}=e;switch(i){case"INSERT":n(c=>({phases:[...c.phases,l]}));break;case"UPDATE":n(c=>({phases:c.phases.map(f=>f.id===l.id?l:f)}));break;case"DELETE":n(c=>({phases:c.phases.filter(f=>f.id!==u.id)}));break}},uf=(e,n,a,i)=>{const l=JT(e);return{[`add${e}`]:async u=>{try{const{selectedWorkCenter:c}=i();if(c&&c!==Le.BOTH&&u.work_center&&u.work_center!==c)throw new Error(`Cannot add ${e.toLowerCase()} with different work center. Selected: ${c}, Item: ${u.work_center}`);const f=await n.add(u);return a(h=>({[fa(e)]:[...h[fa(e)],f]})),i().showAlert(`${e} "${cf(u,e)}" added successfully`,"success"),f}catch(c){const f=l(c);throw i().showAlert(f.message,"error"),f}},[`update${e}`]:async(u,c)=>{try{const f=i()[fa(e)].find(m=>m.id===u),h=await n.update(u,c);return a(m=>({[fa(e)]:m[fa(e)].map(v=>v.id===u?{...v,...h}:v)})),i().showAlert(`${e} "${cf(f,e)}" updated successfully`,"success"),h}catch(f){const h=l(f);throw i().showAlert(h.message,"error"),h}},[`remove${e}`]:async u=>{try{const c=i()[fa(e)].find(f=>f.id===u);return await n.remove(u),a(f=>({[fa(e)]:f[fa(e)].filter(h=>h.id!==u)})),i().showAlert(`${e} "${cf(c,e)}" deleted successfully`,"success"),!0}catch(c){const f=l(c);throw i().showAlert(f.message,"error"),f}}}},fa=e=>({Machine:"machines",OdpOrder:"odpOrders",Phase:"phases"})[e]||`${e.toLowerCase()}s`,cf=(e,n)=>({Machine:e?.machine_name||"Unknown",OdpOrder:e?.odp_number||"Unknown",Phase:e?.name||"Unknown"})[n]||"Unknown",Se=_C((e,n)=>({machines:[],odpOrders:[],phases:[],machineAvailability:{},isLoading:!1,isInitialized:!1,selectedWorkCenter:null,alert:{message:"",type:"info",isVisible:!1},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},getState:()=>({machines:n().machines,odpOrders:n().odpOrders,phases:n().phases,machineAvailability:n().machineAvailability,isLoading:n().isLoading,isInitialized:n().isInitialized}),init:async()=>{const{isInitialized:a}=n();if(await ot.init(),a){console.log("🔄 Store already initialized, skipping...");return}console.log("🔄 Initializing store..."),e({isLoading:!0});const[i,l,u]=await Promise.all([ot.getMachines(),ot.getOdpOrders(),ot.getPhases()]);console.log(`🔄 Loaded ${i?.length||0} machines, ${l?.length||0} orders, ${u?.length||0} phases`);const c=[],f=new Set;if(i&&i.length>0&&i.forEach(h=>{f.has(h.id)?console.warn(`🔄 Duplicate machine found during init: ${h.id}`):(f.add(h.id),c.push(h))}),console.log(`🔄 After deduplication: ${c.length} unique machines`),e({machines:c,odpOrders:l||[],phases:u||[],isLoading:!1,isInitialized:!0}),n().initializeEmptyMachineAvailability(),window.realtimeChannel)console.log("🔄 Real-time subscriptions already exist, skipping setup");else{const h=eR(e);h&&(window.realtimeChannel=h,console.log("🔄 Real-time subscriptions initialized"))}},refreshData:async()=>{console.log("🔄 Manually refreshing data..."),e({isLoading:!0});try{const[a,i,l]=await Promise.all([ot.getMachines(),ot.getOdpOrders(),ot.getPhases()]);e({machines:a||[],odpOrders:i||[],phases:l||[],isLoading:!1}),console.log("🔄 Data refresh completed")}catch(a){console.error("🔄 Data refresh failed:",a),e({isLoading:!1})}},debugData:()=>{const a=n();console.log("🔍 Current store state:"),console.log(`Machines: ${a.machines.length}`,a.machines),console.log(`ODP Orders: ${a.odpOrders.length}`,a.odpOrders),console.log(`Phases: ${a.phases.length}`,a.phases);const i=a.machines.map(m=>m.id),l=i.filter((m,v)=>i.indexOf(m)!==v);l.length>0&&console.warn("⚠️ Duplicate machine IDs found:",l);const u=a.odpOrders.map(m=>m.id),c=u.filter((m,v)=>u.indexOf(m)!==v);c.length>0&&console.warn("⚠️ Duplicate order IDs found:",c);const f=a.phases.map(m=>m.id),h=f.filter((m,v)=>f.indexOf(m)!==v);h.length>0&&console.warn("⚠️ Duplicate phase IDs found:",h)},cleanupDuplicates:()=>{const a=n();console.log("🧹 Cleaning up duplicate data...");const i=[],l=new Set;a.machines.forEach(m=>{l.has(m.id)?console.log(`🧹 Removing duplicate machine: ${m.id}`):(l.add(m.id),i.push(m))});const u=[],c=new Set;a.odpOrders.forEach(m=>{c.has(m.id)?console.log(`🧹 Removing duplicate order: ${m.id}`):(c.add(m.id),u.push(m))});const f=[],h=new Set;a.phases.forEach(m=>{h.has(m.id)?console.log(`🧹 Removing duplicate phase: ${m.id}`):(h.add(m.id),f.push(m))}),e({machines:i,odpOrders:u,phases:f}),console.log(`🧹 Cleanup completed. Machines: ${i.length}, Orders: ${u.length}, Phases: ${f.length}`)},setSelectedWorkCenter:a=>{e({selectedWorkCenter:a})},reset:()=>{window.realtimeChannel&&(console.log("🔄 Cleaning up real-time subscriptions..."),window.realtimeChannel.unsubscribe(),window.realtimeChannel=null),e({machines:[],odpOrders:[],phases:[],machineAvailability:{},isLoading:!1,isInitialized:!1,alert:{message:"",type:"info",isVisible:!1}})},showAlert:(a,i="info")=>e({alert:{message:a,type:i,isVisible:!0}}),hideAlert:()=>e({alert:{message:"",type:"info",isVisible:!1}}),showConfirmDialog:(a,i,l,u="danger")=>e({confirmDialog:{isOpen:!0,title:a,message:i,onConfirm:l,type:u}}),hideConfirmDialog:()=>e({confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}}),...uf("Machine",{add:ot.addMachine,update:ot.updateMachine,remove:ot.removeMachine},e,n),...uf("OdpOrder",{add:ot.addOdpOrder,update:ot.updateOdpOrder,remove:ot.removeOdpOrder},e,n),...uf("Phase",{add:ot.addPhase,update:ot.updatePhase,remove:ot.removePhase},e,n),scheduleTask:async(a,i)=>{const l=n(),u=l.odpOrders.find(b=>b.id===a),c=l.machines.find(b=>b.id===i.machine);if(u&&c&&u.work_center&&c.work_center&&u.work_center!==c.work_center)return{error:`Work center mismatch: task requires '${u.work_center}' but machine is '${c.work_center}'`};const f=l.odpOrders.filter(b=>b.scheduled_machine_id===i.machine&&b.status==="SCHEDULED"&&b.id!==a),h=new Date(i.start_time),m=new Date(i.end_time);for(const b of f){const S=new Date(b.scheduled_start_time),C=b.time_remaining||b.duration||1,R=new Date(S.getTime()+C*60*60*1e3);if(h<R&&m>S)return{error:`Task overlaps with existing scheduled task: ${b.odp_number}`}}const v=Wt(h);console.log("🔍 Checking machine availability for:",{machineId:i.machine,date:v,allKeys:Object.keys(l.machineAvailability)});const y=l.machineAvailability[v];if(y&&Array.isArray(y)){const b=y.find(S=>S.machine_id===i.machine);if(b&&b.unavailable_hours&&Array.isArray(b.unavailable_hours)){console.log("🔍 Found machine availability:",b);const S=new Date(h.getFullYear(),h.getMonth(),h.getDate());for(const C of b.unavailable_hours){const R=new Date(S.getTime()+parseInt(C)*60*60*1e3),D=new Date(R.getTime()+3600*1e3);if(console.log("🔍 Checking hour:",{hour:C,hourStart:R,hourEnd:D,newStart:h,newEnd:m}),h<D&&m>R)return console.log("❌ OVERLAP DETECTED!"),{error:`Task overlaps with unavailable slot at hour ${C}:00`}}}}const w={scheduled_machine_id:i.machine,scheduled_start_time:i.start_time,scheduled_end_time:i.end_time,production_start:i.start_time,production_end:i.end_time,color:i.color,status:"SCHEDULED"};return await n().updateOdpOrder(a,w),{success:!0}},unscheduleTask:async a=>{const i={scheduled_machine_id:null,scheduled_start_time:null,scheduled_end_time:null,production_start:null,production_end:null,color:null,status:"NOT SCHEDULED"};await n().updateOdpOrder(a,i)},loadMachineAvailabilityForDateRange:async(a,i,l)=>{const u=i instanceof Date?Wt(i):i,c=l instanceof Date?Wt(l):l,f=`${a}_${u}_${c}`,{machineAvailability:h}=n();if(h[f])return h[f];e(m=>({machineAvailability:{...m.machineAvailability,[f]:{_loading:!0}}}));try{const m=await ot.getMachineAvailabilityForDateRange(a,u,c);return e(v=>({machineAvailability:{...v.machineAvailability,[f]:m||[]}})),m}catch(m){throw console.error("Error loadMachineAvailabilityForDateRange:",m),m}},getMachineAvailabilityForDate:async(a,i)=>{try{return await ot.getMachineAvailabilityForDate(a,i)}catch(l){return console.error("Error getMachineAvailabilityForDate:",l),[]}},setMachineAvailability:async(a,i,l)=>{try{const c=n().odpOrders.filter(v=>v.scheduled_machine_id===a&&v.status==="SCHEDULED"&&v.scheduled_start_time&&v.scheduled_end_time),f=new Date(i),h=new Date(f.getFullYear(),f.getMonth(),f.getDate()),m=new Date(h.getTime()+1440*60*1e3);for(const v of c){const y=new Date(v.scheduled_start_time),w=new Date(v.scheduled_end_time);if(y<m&&w>h)for(const b of l){const S=new Date(h.getTime()+parseInt(b)*60*60*1e3),C=new Date(S.getTime()+3600*1e3);if(S<w&&C>y)throw new Error(`Cannot set machine unavailable during scheduled task: ${v.odp_number}`)}}return await ot.setMachineAvailability(a,i,l),e(v=>{const y={...v.machineAvailability};y[i]||(y[i]=[]);const w=y[i].find(b=>b.machine_id===a);return w?w.unavailable_hours=l:y[i].push({machine_id:a,date:i,unavailable_hours:l}),{machineAvailability:y}}),!0}catch(u){throw console.error("Error setMachineAvailability:",u),u}},toggleMachineHourAvailability:async(a,i,l)=>{try{console.log(`Store: Toggling hour ${l} for ${i} on machine ${a}`);const u=await n().getMachineAvailability(a,i);console.log("Store: Current unavailable hours:",u);const c=l.toString();console.log(`Store: Converting hour ${l} to string: ${c}`);let f;return u.includes(c)?(f=u.filter(h=>h!==c),console.log(`Store: Removing hour ${c}, new array:`,f)):(f=[...u,c].sort((h,m)=>parseInt(h)-parseInt(m)),console.log(`Store: Adding hour ${c}, new array:`,f)),await n().setMachineAvailability(a,i,f),console.log("Store: Successfully updated availability"),!0}catch(u){throw console.error("Error toggleMachineHourAvailability:",u),u}},loadMachineAvailabilityForDate:async a=>{const{machineAvailability:i}=n();if(!i[a]?._loading&&!(i[a]&&i[a].length>=0)){e(l=>({machineAvailability:{...l.machineAvailability,[a]:{_loading:!0}}}));try{const l=await ot.getMachineAvailabilityForDateAllMachines(a);e(u=>({machineAvailability:{...u.machineAvailability,[a]:l||[]}}))}catch(l){throw e(u=>{const c={...u.machineAvailability};return c[a]&&delete c[a]._loading,{machineAvailability:c}}),l}}},loadMachineAvailabilityForMachine:async(a,i,l)=>{const u={};try{try{await ot.getMachineAvailabilityForDate("test","2025-01-01")}catch(f){return console.warn("Machine availability table not accessible:",f.message),{}}let c=new Date(i);for(;c<=l;){const f=Wt(c);n().machineAvailability[f]||await n().loadMachineAvailabilityForDate(f);const m=n().machineAvailability[f];if(Array.isArray(m)){const v=m.find(y=>y.machine_id===a);v&&(u[f]=v.unavailable_hours||[])}c=El(c,1)}return u}catch(c){return console.error("Error load_machine_availability_for_machine:",c),{}}},getMachineAvailability:async(a,i)=>{try{console.log(`Store: Getting availability for machine ${a} on ${i}`);const l=n().machineAvailability[i];if(console.log(`Store: Cached dateData for ${i}:`,l),l&&Array.isArray(l)){const c=l.find(f=>f.machine_id===a);if(console.log("Store: Found cached row:",c),c)return console.log("Store: Returning cached unavailable_hours:",c.unavailable_hours),console.log("Store: Cached unavailable_hours type:",typeof c.unavailable_hours),console.log("Store: Cached unavailable_hours isArray:",Array.isArray(c.unavailable_hours)),console.log("Store: Cached unavailable_hours length:",c.unavailable_hours?.length),c.unavailable_hours||[]}console.log("Store: No cached data, fetching from API...");const u=await ot.getMachineAvailabilityForDate(a,i);if(console.log("Store: API returned data:",u),u){const c=(u.unavailable_hours||[]).map(f=>f.toString());return e(f=>{const h={...f.machineAvailability};h[i]||(h[i]=[]);const m=h[i].find(v=>v.machine_id===a);return console.log("Store: Before cache update - data.unavailable_hours:",u.unavailable_hours),console.log("Store: Before cache update - type:",typeof u.unavailable_hours),console.log("Store: Before cache update - isArray:",Array.isArray(u.unavailable_hours)),m?(m.unavailable_hours=c,console.log("Store: Updated existing row - unavailable_hours:",m.unavailable_hours)):(h[i].push({machine_id:a,date:i,unavailable_hours:c}),console.log("Store: Added new row - unavailable_hours:",h[i][h[i].length-1].unavailable_hours)),console.log(`Store: Updated cache for ${i}:`,h[i]),console.log("Store: Cache row unavailable_hours type:",typeof h[i].find(v=>v.machine_id===a)?.unavailable_hours),console.log("Store: Cache row unavailable_hours isArray:",Array.isArray(h[i].find(v=>v.machine_id===a)?.unavailable_hours)),{machineAvailability:h}}),c}return[]}catch(l){return console.error("Error getting machine availability:",l),[]}},isTimeSlotUnavailable:async(a,i,l)=>(await n().getMachineAvailability(a,i)).includes(l.toString()),initializeEmptyMachineAvailability:()=>{const{machines:a,machineAvailability:i}=n(),l={...i};a.forEach(u=>{l[u.id]||(l[u.id]={})}),e({machineAvailability:l})},getEventsByDate:async a=>{try{return await ot.getEventsByDate(a)}catch(i){return console.error("Error getting events by date:",i),[]}},setMachineUnavailability:async(a,i,l,u,c)=>{try{const f=await ot.setUnavailableHoursForRange(a,i,l,u,c),h=new Date(i),m=new Date(l);return await n().loadMachineAvailabilityForDateRange(a,h,m),f}catch(f){throw console.error("Error setting machine unavailability:",f),f}},isMachineAvailabilityAccessible:async()=>{try{return await ot.getMachineAvailabilityForDateAllMachines("2025-01-01"),!0}catch(a){return console.warn("Machine availability table not accessible:",a.message),!1}},getMachineAvailabilityStatus:async()=>{try{const a=await n().isMachineAvailabilityAccessible();return{accessible:a,message:a?"Table is accessible":"Table is not accessible - check permissions or table existence"}}catch(a){return{accessible:!1,message:`Error checking table: ${a.message}`}}}})),aR="/flexi/assets/logo.svg";function iR(){const n=Pr().pathname,{user:a,signOut:i,isAuthenticated:l,selectedWorkCenter:u}=es(),[c,f]=E.useState("disconnected");E.useEffect(()=>{const v=()=>{window.realtimeChannel?f("connected"):f("disconnected")};v();const y=setInterval(v,5e3);return()=>clearInterval(y)},[]);const h=[{href:"/",label:"Home",icon:"🏠"},{href:"/machinery",label:"Machinery",icon:"⚙️"},{href:"/phases",label:"Phases",icon:"🔄"},{href:"/backlog",label:"Backlog",icon:"📝"},{href:"/scheduler",label:"Scheduler",icon:"📅"}],m=async()=>{try{await i(),console.log("User signed out successfully")}catch(v){console.error("Sign out error:",v)}};return p.jsxs("div",{className:"sidebar",children:[p.jsx("div",{className:"sidebar-logo",children:p.jsx(Pn,{to:"/",children:p.jsx("img",{src:aR,alt:"Flexi"})})}),l&&a&&p.jsxs("div",{className:"sidebar-user",children:[p.jsx("div",{className:"user-avatar",children:a.user_metadata?.full_name?a.user_metadata.full_name.charAt(0).toUpperCase():a.email?.charAt(0).toUpperCase()}),p.jsxs("div",{className:"user-info",children:[p.jsx("div",{className:"user-name",children:a.user_metadata?.full_name||"User"}),p.jsx("div",{className:"user-email",children:a.email}),u&&p.jsx("div",{className:"user-work-center",children:p.jsxs("span",{className:"work-center-badge",children:["🏭 ",u]})}),p.jsx("div",{className:"realtime-status",children:p.jsxs("span",{className:`status-indicator ${c}`,children:[c==="connected"?"🟢":"🔴",c==="connected"?"Live":"Offline"]})})]})]}),p.jsxs("div",{className:"sidebar-section",children:[p.jsx("div",{className:"sidebar-section-title",children:"Navigation"}),p.jsx("nav",{className:"sidebar-nav",children:p.jsx("ul",{children:h.map(v=>p.jsx("li",{children:p.jsxs(Pn,{to:v.href,className:n===v.href?"active":"",children:[p.jsx("span",{className:"nav-icon",children:v.icon}),p.jsx("span",{children:v.label})]})},v.href))})})]}),l?p.jsxs("div",{className:"sidebar-section",children:[p.jsx("div",{className:"sidebar-section-title",children:"Account"}),p.jsx("div",{className:"sidebar-actions",children:p.jsxs("button",{onClick:m,className:"sidebar-action-btn signout-btn",title:"Sign Out",children:[p.jsx("span",{className:"nav-icon",children:"🚪"}),p.jsx("span",{children:"Sign Out"})]})})]}):p.jsxs("div",{className:"sidebar-section",children:[p.jsx("div",{className:"sidebar-section-title",children:"Account"}),p.jsxs("div",{className:"sidebar-actions",children:[p.jsxs(Pn,{to:"/login",className:"sidebar-action-btn login-btn",children:[p.jsx("span",{className:"nav-icon",children:"🔑"}),p.jsx("span",{children:"Sign In"})]}),p.jsxs(Pn,{to:"/signup",className:"sidebar-action-btn signup-btn",children:[p.jsx("span",{className:"nav-icon",children:"➕"}),p.jsx("span",{children:"Sign Up"})]})]})]})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function va(e,n){return typeof e=="function"?e(n):e}function En(e,n){return a=>{n.setState(i=>({...i,[e]:va(a,i[e])}))}}function Du(e){return e instanceof Function}function sR(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function lR(e,n){const a=[],i=l=>{l.forEach(u=>{a.push(u);const c=n(u);c!=null&&c.length&&i(c)})};return i(e),a}function Ae(e,n,a){let i=[],l;return u=>{let c;a.key&&a.debug&&(c=Date.now());const f=e(u);if(!(f.length!==i.length||f.some((v,y)=>i[y]!==v)))return l;i=f;let m;if(a.key&&a.debug&&(m=Date.now()),l=n(...f),a==null||a.onChange==null||a.onChange(l),a.key&&a.debug&&a!=null&&a.debug()){const v=Math.round((Date.now()-c)*100)/100,y=Math.round((Date.now()-m)*100)/100,w=y/16,b=(S,C)=>{for(S=String(S);S.length<C;)S=" "+S;return S};console.info(`%c⏱ ${b(y,5)} /${b(v,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*w,120))}deg 100% 31%);`,a?.key)}return l}}function Oe(e,n,a,i){return{debug:()=>{var l;return(l=e?.debugAll)!=null?l:e[n]},key:!1,onChange:i}}function oR(e,n,a,i){const l=()=>{var c;return(c=u.getValue())!=null?c:e.options.renderFallbackValue},u={id:`${n.id}_${a.id}`,row:n,column:a,getValue:()=>n.getValue(i),renderValue:l,getContext:Ae(()=>[e,a,n,u],(c,f,h,m)=>({table:c,column:f,row:h,cell:m,getValue:m.getValue,renderValue:m.renderValue}),Oe(e.options,"debugCells"))};return e._features.forEach(c=>{c.createCell==null||c.createCell(u,a,n,e)},{}),u}function uR(e,n,a,i){var l,u;const f={...e._getDefaultColumnDef(),...n},h=f.accessorKey;let m=(l=(u=f.id)!=null?u:h?typeof String.prototype.replaceAll=="function"?h.replaceAll(".","_"):h.replace(/\./g,"_"):void 0)!=null?l:typeof f.header=="string"?f.header:void 0,v;if(f.accessorFn?v=f.accessorFn:h&&(h.includes(".")?v=w=>{let b=w;for(const C of h.split(".")){var S;b=(S=b)==null?void 0:S[C]}return b}:v=w=>w[f.accessorKey]),!m)throw new Error;let y={id:`${String(m)}`,accessorFn:v,parent:i,depth:a,columnDef:f,columns:[],getFlatColumns:Ae(()=>[!0],()=>{var w;return[y,...(w=y.columns)==null?void 0:w.flatMap(b=>b.getFlatColumns())]},Oe(e.options,"debugColumns")),getLeafColumns:Ae(()=>[e._getOrderColumnsFn()],w=>{var b;if((b=y.columns)!=null&&b.length){let S=y.columns.flatMap(C=>C.getLeafColumns());return w(S)}return[y]},Oe(e.options,"debugColumns"))};for(const w of e._features)w.createColumn==null||w.createColumn(y,e);return y}const nn="debugHeaders";function uy(e,n,a){var i;let u={id:(i=a.id)!=null?i:n.id,column:n,index:a.index,isPlaceholder:!!a.isPlaceholder,placeholderId:a.placeholderId,depth:a.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const c=[],f=h=>{h.subHeaders&&h.subHeaders.length&&h.subHeaders.map(f),c.push(h)};return f(u),c},getContext:()=>({table:e,header:u,column:n})};return e._features.forEach(c=>{c.createHeader==null||c.createHeader(u,e)}),u}const cR={createTable:e=>{e.getHeaderGroups=Ae(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,a,i,l)=>{var u,c;const f=(u=i?.map(y=>a.find(w=>w.id===y)).filter(Boolean))!=null?u:[],h=(c=l?.map(y=>a.find(w=>w.id===y)).filter(Boolean))!=null?c:[],m=a.filter(y=>!(i!=null&&i.includes(y.id))&&!(l!=null&&l.includes(y.id)));return ru(n,[...f,...m,...h],e)},Oe(e.options,nn)),e.getCenterHeaderGroups=Ae(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,a,i,l)=>(a=a.filter(u=>!(i!=null&&i.includes(u.id))&&!(l!=null&&l.includes(u.id))),ru(n,a,e,"center")),Oe(e.options,nn)),e.getLeftHeaderGroups=Ae(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,a,i)=>{var l;const u=(l=i?.map(c=>a.find(f=>f.id===c)).filter(Boolean))!=null?l:[];return ru(n,u,e,"left")},Oe(e.options,nn)),e.getRightHeaderGroups=Ae(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,a,i)=>{var l;const u=(l=i?.map(c=>a.find(f=>f.id===c)).filter(Boolean))!=null?l:[];return ru(n,u,e,"right")},Oe(e.options,nn)),e.getFooterGroups=Ae(()=>[e.getHeaderGroups()],n=>[...n].reverse(),Oe(e.options,nn)),e.getLeftFooterGroups=Ae(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),Oe(e.options,nn)),e.getCenterFooterGroups=Ae(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),Oe(e.options,nn)),e.getRightFooterGroups=Ae(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),Oe(e.options,nn)),e.getFlatHeaders=Ae(()=>[e.getHeaderGroups()],n=>n.map(a=>a.headers).flat(),Oe(e.options,nn)),e.getLeftFlatHeaders=Ae(()=>[e.getLeftHeaderGroups()],n=>n.map(a=>a.headers).flat(),Oe(e.options,nn)),e.getCenterFlatHeaders=Ae(()=>[e.getCenterHeaderGroups()],n=>n.map(a=>a.headers).flat(),Oe(e.options,nn)),e.getRightFlatHeaders=Ae(()=>[e.getRightHeaderGroups()],n=>n.map(a=>a.headers).flat(),Oe(e.options,nn)),e.getCenterLeafHeaders=Ae(()=>[e.getCenterFlatHeaders()],n=>n.filter(a=>{var i;return!((i=a.subHeaders)!=null&&i.length)}),Oe(e.options,nn)),e.getLeftLeafHeaders=Ae(()=>[e.getLeftFlatHeaders()],n=>n.filter(a=>{var i;return!((i=a.subHeaders)!=null&&i.length)}),Oe(e.options,nn)),e.getRightLeafHeaders=Ae(()=>[e.getRightFlatHeaders()],n=>n.filter(a=>{var i;return!((i=a.subHeaders)!=null&&i.length)}),Oe(e.options,nn)),e.getLeafHeaders=Ae(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,a,i)=>{var l,u,c,f,h,m;return[...(l=(u=n[0])==null?void 0:u.headers)!=null?l:[],...(c=(f=a[0])==null?void 0:f.headers)!=null?c:[],...(h=(m=i[0])==null?void 0:m.headers)!=null?h:[]].map(v=>v.getLeafHeaders()).flat()},Oe(e.options,nn))}};function ru(e,n,a,i){var l,u;let c=0;const f=function(w,b){b===void 0&&(b=1),c=Math.max(c,b),w.filter(S=>S.getIsVisible()).forEach(S=>{var C;(C=S.columns)!=null&&C.length&&f(S.columns,b+1)},0)};f(e);let h=[];const m=(w,b)=>{const S={depth:b,id:[i,`${b}`].filter(Boolean).join("_"),headers:[]},C=[];w.forEach(R=>{const D=[...C].reverse()[0],L=R.column.depth===S.depth;let T,M=!1;if(L&&R.column.parent?T=R.column.parent:(T=R.column,M=!0),D&&D?.column===T)D.subHeaders.push(R);else{const k=uy(a,T,{id:[i,b,T.id,R?.id].filter(Boolean).join("_"),isPlaceholder:M,placeholderId:M?`${C.filter(V=>V.column===T).length}`:void 0,depth:b,index:C.length});k.subHeaders.push(R),C.push(k)}S.headers.push(R),R.headerGroup=S}),h.push(S),b>0&&m(C,b-1)},v=n.map((w,b)=>uy(a,w,{depth:c,index:b}));m(v,c-1),h.reverse();const y=w=>w.filter(S=>S.column.getIsVisible()).map(S=>{let C=0,R=0,D=[0];S.subHeaders&&S.subHeaders.length?(D=[],y(S.subHeaders).forEach(T=>{let{colSpan:M,rowSpan:k}=T;C+=M,D.push(k)})):C=1;const L=Math.min(...D);return R=R+L,S.colSpan=C,S.rowSpan=R,{colSpan:C,rowSpan:R}});return y((l=(u=h[0])==null?void 0:u.headers)!=null?l:[]),h}const dR=(e,n,a,i,l,u,c)=>{let f={id:n,index:i,original:a,depth:l,parentId:c,_valuesCache:{},_uniqueValuesCache:{},getValue:h=>{if(f._valuesCache.hasOwnProperty(h))return f._valuesCache[h];const m=e.getColumn(h);if(m!=null&&m.accessorFn)return f._valuesCache[h]=m.accessorFn(f.original,i),f._valuesCache[h]},getUniqueValues:h=>{if(f._uniqueValuesCache.hasOwnProperty(h))return f._uniqueValuesCache[h];const m=e.getColumn(h);if(m!=null&&m.accessorFn)return m.columnDef.getUniqueValues?(f._uniqueValuesCache[h]=m.columnDef.getUniqueValues(f.original,i),f._uniqueValuesCache[h]):(f._uniqueValuesCache[h]=[f.getValue(h)],f._uniqueValuesCache[h])},renderValue:h=>{var m;return(m=f.getValue(h))!=null?m:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>lR(f.subRows,h=>h.subRows),getParentRow:()=>f.parentId?e.getRow(f.parentId,!0):void 0,getParentRows:()=>{let h=[],m=f;for(;;){const v=m.getParentRow();if(!v)break;h.push(v),m=v}return h.reverse()},getAllCells:Ae(()=>[e.getAllLeafColumns()],h=>h.map(m=>oR(e,f,m,m.id)),Oe(e.options,"debugRows")),_getAllCellsByColumnId:Ae(()=>[f.getAllCells()],h=>h.reduce((m,v)=>(m[v.column.id]=v,m),{}),Oe(e.options,"debugRows"))};for(let h=0;h<e._features.length;h++){const m=e._features[h];m==null||m.createRow==null||m.createRow(f,e)}return f},fR={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},A_=(e,n,a)=>{var i,l;const u=a==null||(i=a.toString())==null?void 0:i.toLowerCase();return!!(!((l=e.getValue(n))==null||(l=l.toString())==null||(l=l.toLowerCase())==null)&&l.includes(u))};A_.autoRemove=e=>Yn(e);const O_=(e,n,a)=>{var i;return!!(!((i=e.getValue(n))==null||(i=i.toString())==null)&&i.includes(a))};O_.autoRemove=e=>Yn(e);const D_=(e,n,a)=>{var i;return((i=e.getValue(n))==null||(i=i.toString())==null?void 0:i.toLowerCase())===a?.toLowerCase()};D_.autoRemove=e=>Yn(e);const N_=(e,n,a)=>{var i;return(i=e.getValue(n))==null?void 0:i.includes(a)};N_.autoRemove=e=>Yn(e);const j_=(e,n,a)=>!a.some(i=>{var l;return!((l=e.getValue(n))!=null&&l.includes(i))});j_.autoRemove=e=>Yn(e)||!(e!=null&&e.length);const M_=(e,n,a)=>a.some(i=>{var l;return(l=e.getValue(n))==null?void 0:l.includes(i)});M_.autoRemove=e=>Yn(e)||!(e!=null&&e.length);const k_=(e,n,a)=>e.getValue(n)===a;k_.autoRemove=e=>Yn(e);const L_=(e,n,a)=>e.getValue(n)==a;L_.autoRemove=e=>Yn(e);const sh=(e,n,a)=>{let[i,l]=a;const u=e.getValue(n);return u>=i&&u<=l};sh.resolveFilterValue=e=>{let[n,a]=e,i=typeof n!="number"?parseFloat(n):n,l=typeof a!="number"?parseFloat(a):a,u=n===null||Number.isNaN(i)?-1/0:i,c=a===null||Number.isNaN(l)?1/0:l;if(u>c){const f=u;u=c,c=f}return[u,c]};sh.autoRemove=e=>Yn(e)||Yn(e[0])&&Yn(e[1]);const jr={includesString:A_,includesStringSensitive:O_,equalsString:D_,arrIncludes:N_,arrIncludesAll:j_,arrIncludesSome:M_,equals:k_,weakEquals:L_,inNumberRange:sh};function Yn(e){return e==null||e===""}const hR={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:En("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const a=n.getCoreRowModel().flatRows[0],i=a?.getValue(e.id);return typeof i=="string"?jr.includesString:typeof i=="number"?jr.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?jr.equals:Array.isArray(i)?jr.arrIncludes:jr.weakEquals},e.getFilterFn=()=>{var a,i;return Du(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(a=(i=n.options.filterFns)==null?void 0:i[e.columnDef.filterFn])!=null?a:jr[e.columnDef.filterFn]},e.getCanFilter=()=>{var a,i,l;return((a=e.columnDef.enableColumnFilter)!=null?a:!0)&&((i=n.options.enableColumnFilters)!=null?i:!0)&&((l=n.options.enableFilters)!=null?l:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var a;return(a=n.getState().columnFilters)==null||(a=a.find(i=>i.id===e.id))==null?void 0:a.value},e.getFilterIndex=()=>{var a,i;return(a=(i=n.getState().columnFilters)==null?void 0:i.findIndex(l=>l.id===e.id))!=null?a:-1},e.setFilterValue=a=>{n.setColumnFilters(i=>{const l=e.getFilterFn(),u=i?.find(v=>v.id===e.id),c=va(a,u?u.value:void 0);if(cy(l,c,e)){var f;return(f=i?.filter(v=>v.id!==e.id))!=null?f:[]}const h={id:e.id,value:c};if(u){var m;return(m=i?.map(v=>v.id===e.id?h:v))!=null?m:[]}return i!=null&&i.length?[...i,h]:[h]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const a=e.getAllLeafColumns(),i=l=>{var u;return(u=va(n,l))==null?void 0:u.filter(c=>{const f=a.find(h=>h.id===c.id);if(f){const h=f.getFilterFn();if(cy(h,c.value,f))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(i)},e.resetColumnFilters=n=>{var a,i;e.setColumnFilters(n?[]:(a=(i=e.initialState)==null?void 0:i.columnFilters)!=null?a:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function cy(e,n,a){return(e&&e.autoRemove?e.autoRemove(n,a):!1)||typeof n>"u"||typeof n=="string"&&!n}const gR=(e,n,a)=>a.reduce((i,l)=>{const u=l.getValue(e);return i+(typeof u=="number"?u:0)},0),mR=(e,n,a)=>{let i;return a.forEach(l=>{const u=l.getValue(e);u!=null&&(i>u||i===void 0&&u>=u)&&(i=u)}),i},pR=(e,n,a)=>{let i;return a.forEach(l=>{const u=l.getValue(e);u!=null&&(i<u||i===void 0&&u>=u)&&(i=u)}),i},vR=(e,n,a)=>{let i,l;return a.forEach(u=>{const c=u.getValue(e);c!=null&&(i===void 0?c>=c&&(i=l=c):(i>c&&(i=c),l<c&&(l=c)))}),[i,l]},yR=(e,n)=>{let a=0,i=0;if(n.forEach(l=>{let u=l.getValue(e);u!=null&&(u=+u)>=u&&(++a,i+=u)}),a)return i/a},_R=(e,n)=>{if(!n.length)return;const a=n.map(u=>u.getValue(e));if(!sR(a))return;if(a.length===1)return a[0];const i=Math.floor(a.length/2),l=a.sort((u,c)=>u-c);return a.length%2!==0?l[i]:(l[i-1]+l[i])/2},bR=(e,n)=>Array.from(new Set(n.map(a=>a.getValue(e))).values()),wR=(e,n)=>new Set(n.map(a=>a.getValue(e))).size,SR=(e,n)=>n.length,df={sum:gR,min:mR,max:pR,extent:vR,mean:yR,median:_R,unique:bR,uniqueCount:wR,count:SR},xR={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,a;return(n=(a=e.getValue())==null||a.toString==null?void 0:a.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:En("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(a=>a!=null&&a.includes(e.id)?a.filter(i=>i!==e.id):[...a??[],e.id])},e.getCanGroup=()=>{var a,i;return((a=e.columnDef.enableGrouping)!=null?a:!0)&&((i=n.options.enableGrouping)!=null?i:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var a;return(a=n.getState().grouping)==null?void 0:a.includes(e.id)},e.getGroupedIndex=()=>{var a;return(a=n.getState().grouping)==null?void 0:a.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const a=e.getCanGroup();return()=>{a&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const a=n.getCoreRowModel().flatRows[0],i=a?.getValue(e.id);if(typeof i=="number")return df.sum;if(Object.prototype.toString.call(i)==="[object Date]")return df.extent},e.getAggregationFn=()=>{var a,i;if(!e)throw new Error;return Du(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(a=(i=n.options.aggregationFns)==null?void 0:i[e.columnDef.aggregationFn])!=null?a:df[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var a,i;e.setGrouping(n?[]:(a=(i=e.initialState)==null?void 0:i.grouping)!=null?a:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=a=>{if(e._groupingValuesCache.hasOwnProperty(a))return e._groupingValuesCache[a];const i=n.getColumn(a);return i!=null&&i.columnDef.getGroupingValue?(e._groupingValuesCache[a]=i.columnDef.getGroupingValue(e.original),e._groupingValuesCache[a]):e.getValue(a)},e._groupingValuesCache={}},createCell:(e,n,a,i)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===a.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var l;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((l=a.subRows)!=null&&l.length)}}};function ER(e,n,a){if(!(n!=null&&n.length)||!a)return e;const i=e.filter(u=>!n.includes(u.id));return a==="remove"?i:[...n.map(u=>e.find(c=>c.id===u)).filter(Boolean),...i]}const CR={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:En("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=Ae(a=>[gl(n,a)],a=>a.findIndex(i=>i.id===e.id),Oe(n.options,"debugColumns")),e.getIsFirstColumn=a=>{var i;return((i=gl(n,a)[0])==null?void 0:i.id)===e.id},e.getIsLastColumn=a=>{var i;const l=gl(n,a);return((i=l[l.length-1])==null?void 0:i.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var a;e.setColumnOrder(n?[]:(a=e.initialState.columnOrder)!=null?a:[])},e._getOrderColumnsFn=Ae(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,a,i)=>l=>{let u=[];if(!(n!=null&&n.length))u=l;else{const c=[...n],f=[...l];for(;f.length&&c.length;){const h=c.shift(),m=f.findIndex(v=>v.id===h);m>-1&&u.push(f.splice(m,1)[0])}u=[...u,...f]}return ER(u,a,i)},Oe(e.options,"debugTable"))}},ff=()=>({left:[],right:[]}),TR={getInitialState:e=>({columnPinning:ff(),...e}),getDefaultOptions:e=>({onColumnPinningChange:En("columnPinning",e)}),createColumn:(e,n)=>{e.pin=a=>{const i=e.getLeafColumns().map(l=>l.id).filter(Boolean);n.setColumnPinning(l=>{var u,c;if(a==="right"){var f,h;return{left:((f=l?.left)!=null?f:[]).filter(y=>!(i!=null&&i.includes(y))),right:[...((h=l?.right)!=null?h:[]).filter(y=>!(i!=null&&i.includes(y))),...i]}}if(a==="left"){var m,v;return{left:[...((m=l?.left)!=null?m:[]).filter(y=>!(i!=null&&i.includes(y))),...i],right:((v=l?.right)!=null?v:[]).filter(y=>!(i!=null&&i.includes(y)))}}return{left:((u=l?.left)!=null?u:[]).filter(y=>!(i!=null&&i.includes(y))),right:((c=l?.right)!=null?c:[]).filter(y=>!(i!=null&&i.includes(y)))}})},e.getCanPin=()=>e.getLeafColumns().some(i=>{var l,u,c;return((l=i.columnDef.enablePinning)!=null?l:!0)&&((u=(c=n.options.enableColumnPinning)!=null?c:n.options.enablePinning)!=null?u:!0)}),e.getIsPinned=()=>{const a=e.getLeafColumns().map(f=>f.id),{left:i,right:l}=n.getState().columnPinning,u=a.some(f=>i?.includes(f)),c=a.some(f=>l?.includes(f));return u?"left":c?"right":!1},e.getPinnedIndex=()=>{var a,i;const l=e.getIsPinned();return l?(a=(i=n.getState().columnPinning)==null||(i=i[l])==null?void 0:i.indexOf(e.id))!=null?a:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=Ae(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(a,i,l)=>{const u=[...i??[],...l??[]];return a.filter(c=>!u.includes(c.column.id))},Oe(n.options,"debugRows")),e.getLeftVisibleCells=Ae(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(a,i)=>(i??[]).map(u=>a.find(c=>c.column.id===u)).filter(Boolean).map(u=>({...u,position:"left"})),Oe(n.options,"debugRows")),e.getRightVisibleCells=Ae(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(a,i)=>(i??[]).map(u=>a.find(c=>c.column.id===u)).filter(Boolean).map(u=>({...u,position:"right"})),Oe(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var a,i;return e.setColumnPinning(n?ff():(a=(i=e.initialState)==null?void 0:i.columnPinning)!=null?a:ff())},e.getIsSomeColumnsPinned=n=>{var a;const i=e.getState().columnPinning;if(!n){var l,u;return!!((l=i.left)!=null&&l.length||(u=i.right)!=null&&u.length)}return!!((a=i[n])!=null&&a.length)},e.getLeftLeafColumns=Ae(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,a)=>(a??[]).map(i=>n.find(l=>l.id===i)).filter(Boolean),Oe(e.options,"debugColumns")),e.getRightLeafColumns=Ae(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,a)=>(a??[]).map(i=>n.find(l=>l.id===i)).filter(Boolean),Oe(e.options,"debugColumns")),e.getCenterLeafColumns=Ae(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,a,i)=>{const l=[...a??[],...i??[]];return n.filter(u=>!l.includes(u.id))},Oe(e.options,"debugColumns"))}};function RR(e){return e||(typeof document<"u"?document:null)}const au={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},hf=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),AR={getDefaultColumnDef:()=>au,getInitialState:e=>({columnSizing:{},columnSizingInfo:hf(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:En("columnSizing",e),onColumnSizingInfoChange:En("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var a,i,l;const u=n.getState().columnSizing[e.id];return Math.min(Math.max((a=e.columnDef.minSize)!=null?a:au.minSize,(i=u??e.columnDef.size)!=null?i:au.size),(l=e.columnDef.maxSize)!=null?l:au.maxSize)},e.getStart=Ae(a=>[a,gl(n,a),n.getState().columnSizing],(a,i)=>i.slice(0,e.getIndex(a)).reduce((l,u)=>l+u.getSize(),0),Oe(n.options,"debugColumns")),e.getAfter=Ae(a=>[a,gl(n,a),n.getState().columnSizing],(a,i)=>i.slice(e.getIndex(a)+1).reduce((l,u)=>l+u.getSize(),0),Oe(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(a=>{let{[e.id]:i,...l}=a;return l})},e.getCanResize=()=>{var a,i;return((a=e.columnDef.enableResizing)!=null?a:!0)&&((i=n.options.enableColumnResizing)!=null?i:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let a=0;const i=l=>{if(l.subHeaders.length)l.subHeaders.forEach(i);else{var u;a+=(u=l.column.getSize())!=null?u:0}};return i(e),a},e.getStart=()=>{if(e.index>0){const a=e.headerGroup.headers[e.index-1];return a.getStart()+a.getSize()}return 0},e.getResizeHandler=a=>{const i=n.getColumn(e.column.id),l=i?.getCanResize();return u=>{if(!i||!l||(u.persist==null||u.persist(),gf(u)&&u.touches&&u.touches.length>1))return;const c=e.getSize(),f=e?e.getLeafHeaders().map(D=>[D.column.id,D.column.getSize()]):[[i.id,i.getSize()]],h=gf(u)?Math.round(u.touches[0].clientX):u.clientX,m={},v=(D,L)=>{typeof L=="number"&&(n.setColumnSizingInfo(T=>{var M,k;const V=n.options.columnResizeDirection==="rtl"?-1:1,P=(L-((M=T?.startOffset)!=null?M:0))*V,X=Math.max(P/((k=T?.startSize)!=null?k:0),-.999999);return T.columnSizingStart.forEach(ne=>{let[ue,le]=ne;m[ue]=Math.round(Math.max(le+le*X,0)*100)/100}),{...T,deltaOffset:P,deltaPercentage:X}}),(n.options.columnResizeMode==="onChange"||D==="end")&&n.setColumnSizing(T=>({...T,...m})))},y=D=>v("move",D),w=D=>{v("end",D),n.setColumnSizingInfo(L=>({...L,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},b=RR(a),S={moveHandler:D=>y(D.clientX),upHandler:D=>{b?.removeEventListener("mousemove",S.moveHandler),b?.removeEventListener("mouseup",S.upHandler),w(D.clientX)}},C={moveHandler:D=>(D.cancelable&&(D.preventDefault(),D.stopPropagation()),y(D.touches[0].clientX),!1),upHandler:D=>{var L;b?.removeEventListener("touchmove",C.moveHandler),b?.removeEventListener("touchend",C.upHandler),D.cancelable&&(D.preventDefault(),D.stopPropagation()),w((L=D.touches[0])==null?void 0:L.clientX)}},R=OR()?{passive:!1}:!1;gf(u)?(b?.addEventListener("touchmove",C.moveHandler,R),b?.addEventListener("touchend",C.upHandler,R)):(b?.addEventListener("mousemove",S.moveHandler,R),b?.addEventListener("mouseup",S.upHandler,R)),n.setColumnSizingInfo(D=>({...D,startOffset:h,startSize:c,deltaOffset:0,deltaPercentage:0,columnSizingStart:f,isResizingColumn:i.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var a;e.setColumnSizing(n?{}:(a=e.initialState.columnSizing)!=null?a:{})},e.resetHeaderSizeInfo=n=>{var a;e.setColumnSizingInfo(n?hf():(a=e.initialState.columnSizingInfo)!=null?a:hf())},e.getTotalSize=()=>{var n,a;return(n=(a=e.getHeaderGroups()[0])==null?void 0:a.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,a;return(n=(a=e.getLeftHeaderGroups()[0])==null?void 0:a.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,a;return(n=(a=e.getCenterHeaderGroups()[0])==null?void 0:a.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,a;return(n=(a=e.getRightHeaderGroups()[0])==null?void 0:a.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0}}};let iu=null;function OR(){if(typeof iu=="boolean")return iu;let e=!1;try{const n={get passive(){return e=!0,!1}},a=()=>{};window.addEventListener("test",a,n),window.removeEventListener("test",a)}catch{e=!1}return iu=e,iu}function gf(e){return e.type==="touchstart"}const DR={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:En("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=a=>{e.getCanHide()&&n.setColumnVisibility(i=>({...i,[e.id]:a??!e.getIsVisible()}))},e.getIsVisible=()=>{var a,i;const l=e.columns;return(a=l.length?l.some(u=>u.getIsVisible()):(i=n.getState().columnVisibility)==null?void 0:i[e.id])!=null?a:!0},e.getCanHide=()=>{var a,i;return((a=e.columnDef.enableHiding)!=null?a:!0)&&((i=n.options.enableHiding)!=null?i:!0)},e.getToggleVisibilityHandler=()=>a=>{e.toggleVisibility==null||e.toggleVisibility(a.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=Ae(()=>[e.getAllCells(),n.getState().columnVisibility],a=>a.filter(i=>i.column.getIsVisible()),Oe(n.options,"debugRows")),e.getVisibleCells=Ae(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(a,i,l)=>[...a,...i,...l],Oe(n.options,"debugRows"))},createTable:e=>{const n=(a,i)=>Ae(()=>[i(),i().filter(l=>l.getIsVisible()).map(l=>l.id).join("_")],l=>l.filter(u=>u.getIsVisible==null?void 0:u.getIsVisible()),Oe(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=a=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(a),e.resetColumnVisibility=a=>{var i;e.setColumnVisibility(a?{}:(i=e.initialState.columnVisibility)!=null?i:{})},e.toggleAllColumnsVisible=a=>{var i;a=(i=a)!=null?i:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((l,u)=>({...l,[u.id]:a||!(u.getCanHide!=null&&u.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(a=>!(a.getIsVisible!=null&&a.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(a=>a.getIsVisible==null?void 0:a.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>a=>{var i;e.toggleAllColumnsVisible((i=a.target)==null?void 0:i.checked)}}};function gl(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const NR={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},jR={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:En("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var a;const i=(a=e.getCoreRowModel().flatRows[0])==null||(a=a._getAllCellsByColumnId()[n.id])==null?void 0:a.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var a,i,l,u;return((a=e.columnDef.enableGlobalFilter)!=null?a:!0)&&((i=n.options.enableGlobalFilter)!=null?i:!0)&&((l=n.options.enableFilters)!=null?l:!0)&&((u=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?u:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>jr.includesString,e.getGlobalFilterFn=()=>{var n,a;const{globalFilterFn:i}=e.options;return Du(i)?i:i==="auto"?e.getGlobalAutoFilterFn():(n=(a=e.options.filterFns)==null?void 0:a[i])!=null?n:jr[i]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},MR={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:En("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,a=!1;e._autoResetExpanded=()=>{var i,l;if(!n){e._queue(()=>{n=!0});return}if((i=(l=e.options.autoResetAll)!=null?l:e.options.autoResetExpanded)!=null?i:!e.options.manualExpanding){if(a)return;a=!0,e._queue(()=>{e.resetExpanded(),a=!1})}},e.setExpanded=i=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(i),e.toggleAllRowsExpanded=i=>{i??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=i=>{var l,u;e.setExpanded(i?{}:(l=(u=e.initialState)==null?void 0:u.expanded)!=null?l:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const i=e.getState().expanded;return i===!0||Object.values(i).some(Boolean)},e.getIsAllRowsExpanded=()=>{const i=e.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||e.getRowModel().flatRows.some(l=>!l.getIsExpanded()))},e.getExpandedDepth=()=>{let i=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(u=>{const c=u.split(".");i=Math.max(i,c.length)}),i},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=a=>{n.setExpanded(i=>{var l;const u=i===!0?!0:!!(i!=null&&i[e.id]);let c={};if(i===!0?Object.keys(n.getRowModel().rowsById).forEach(f=>{c[f]=!0}):c=i,a=(l=a)!=null?l:!u,!u&&a)return{...c,[e.id]:!0};if(u&&!a){const{[e.id]:f,...h}=c;return h}return i})},e.getIsExpanded=()=>{var a;const i=n.getState().expanded;return!!((a=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?a:i===!0||i?.[e.id])},e.getCanExpand=()=>{var a,i,l;return(a=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?a:((i=n.options.enableExpanding)!=null?i:!0)&&!!((l=e.subRows)!=null&&l.length)},e.getIsAllParentsExpanded=()=>{let a=!0,i=e;for(;a&&i.parentId;)i=n.getRow(i.parentId,!0),a=i.getIsExpanded();return a},e.getToggleExpandedHandler=()=>{const a=e.getCanExpand();return()=>{a&&e.toggleExpanded()}}}},Uf=0,Pf=10,mf=()=>({pageIndex:Uf,pageSize:Pf}),kR={getInitialState:e=>({...e,pagination:{...mf(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:En("pagination",e)}),createTable:e=>{let n=!1,a=!1;e._autoResetPageIndex=()=>{var i,l;if(!n){e._queue(()=>{n=!0});return}if((i=(l=e.options.autoResetAll)!=null?l:e.options.autoResetPageIndex)!=null?i:!e.options.manualPagination){if(a)return;a=!0,e._queue(()=>{e.resetPageIndex(),a=!1})}},e.setPagination=i=>{const l=u=>va(i,u);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(l)},e.resetPagination=i=>{var l;e.setPagination(i?mf():(l=e.initialState.pagination)!=null?l:mf())},e.setPageIndex=i=>{e.setPagination(l=>{let u=va(i,l.pageIndex);const c=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return u=Math.max(0,Math.min(u,c)),{...l,pageIndex:u}})},e.resetPageIndex=i=>{var l,u;e.setPageIndex(i?Uf:(l=(u=e.initialState)==null||(u=u.pagination)==null?void 0:u.pageIndex)!=null?l:Uf)},e.resetPageSize=i=>{var l,u;e.setPageSize(i?Pf:(l=(u=e.initialState)==null||(u=u.pagination)==null?void 0:u.pageSize)!=null?l:Pf)},e.setPageSize=i=>{e.setPagination(l=>{const u=Math.max(1,va(i,l.pageSize)),c=l.pageSize*l.pageIndex,f=Math.floor(c/u);return{...l,pageIndex:f,pageSize:u}})},e.setPageCount=i=>e.setPagination(l=>{var u;let c=va(i,(u=e.options.pageCount)!=null?u:-1);return typeof c=="number"&&(c=Math.max(-1,c)),{...l,pageCount:c}}),e.getPageOptions=Ae(()=>[e.getPageCount()],i=>{let l=[];return i&&i>0&&(l=[...new Array(i)].fill(null).map((u,c)=>c)),l},Oe(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:i}=e.getState().pagination,l=e.getPageCount();return l===-1?!0:l===0?!1:i<l-1},e.previousPage=()=>e.setPageIndex(i=>i-1),e.nextPage=()=>e.setPageIndex(i=>i+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var i;return(i=e.options.pageCount)!=null?i:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var i;return(i=e.options.rowCount)!=null?i:e.getPrePaginationRowModel().rows.length}}},pf=()=>({top:[],bottom:[]}),LR={getInitialState:e=>({rowPinning:pf(),...e}),getDefaultOptions:e=>({onRowPinningChange:En("rowPinning",e)}),createRow:(e,n)=>{e.pin=(a,i,l)=>{const u=i?e.getLeafRows().map(h=>{let{id:m}=h;return m}):[],c=l?e.getParentRows().map(h=>{let{id:m}=h;return m}):[],f=new Set([...c,e.id,...u]);n.setRowPinning(h=>{var m,v;if(a==="bottom"){var y,w;return{top:((y=h?.top)!=null?y:[]).filter(C=>!(f!=null&&f.has(C))),bottom:[...((w=h?.bottom)!=null?w:[]).filter(C=>!(f!=null&&f.has(C))),...Array.from(f)]}}if(a==="top"){var b,S;return{top:[...((b=h?.top)!=null?b:[]).filter(C=>!(f!=null&&f.has(C))),...Array.from(f)],bottom:((S=h?.bottom)!=null?S:[]).filter(C=>!(f!=null&&f.has(C)))}}return{top:((m=h?.top)!=null?m:[]).filter(C=>!(f!=null&&f.has(C))),bottom:((v=h?.bottom)!=null?v:[]).filter(C=>!(f!=null&&f.has(C)))}})},e.getCanPin=()=>{var a;const{enableRowPinning:i,enablePinning:l}=n.options;return typeof i=="function"?i(e):(a=i??l)!=null?a:!0},e.getIsPinned=()=>{const a=[e.id],{top:i,bottom:l}=n.getState().rowPinning,u=a.some(f=>i?.includes(f)),c=a.some(f=>l?.includes(f));return u?"top":c?"bottom":!1},e.getPinnedIndex=()=>{var a,i;const l=e.getIsPinned();if(!l)return-1;const u=(a=l==="top"?n.getTopRows():n.getBottomRows())==null?void 0:a.map(c=>{let{id:f}=c;return f});return(i=u?.indexOf(e.id))!=null?i:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var a,i;return e.setRowPinning(n?pf():(a=(i=e.initialState)==null?void 0:i.rowPinning)!=null?a:pf())},e.getIsSomeRowsPinned=n=>{var a;const i=e.getState().rowPinning;if(!n){var l,u;return!!((l=i.top)!=null&&l.length||(u=i.bottom)!=null&&u.length)}return!!((a=i[n])!=null&&a.length)},e._getPinnedRows=(n,a,i)=>{var l;return((l=e.options.keepPinnedRows)==null||l?(a??[]).map(c=>{const f=e.getRow(c,!0);return f.getIsAllParentsExpanded()?f:null}):(a??[]).map(c=>n.find(f=>f.id===c))).filter(Boolean).map(c=>({...c,position:i}))},e.getTopRows=Ae(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,a)=>e._getPinnedRows(n,a,"top"),Oe(e.options,"debugRows")),e.getBottomRows=Ae(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,a)=>e._getPinnedRows(n,a,"bottom"),Oe(e.options,"debugRows")),e.getCenterRows=Ae(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,a,i)=>{const l=new Set([...a??[],...i??[]]);return n.filter(u=>!l.has(u.id))},Oe(e.options,"debugRows"))}},UR={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:En("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var a;return e.setRowSelection(n?{}:(a=e.initialState.rowSelection)!=null?a:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(a=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const i={...a},l=e.getPreGroupedRowModel().flatRows;return n?l.forEach(u=>{u.getCanSelect()&&(i[u.id]=!0)}):l.forEach(u=>{delete i[u.id]}),i})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(a=>{const i=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),l={...a};return e.getRowModel().rows.forEach(u=>{$f(l,u.id,i,!0,e)}),l}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Ae(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,a)=>Object.keys(n).length?vf(e,a):{rows:[],flatRows:[],rowsById:{}},Oe(e.options,"debugTable")),e.getFilteredSelectedRowModel=Ae(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,a)=>Object.keys(n).length?vf(e,a):{rows:[],flatRows:[],rowsById:{}},Oe(e.options,"debugTable")),e.getGroupedSelectedRowModel=Ae(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,a)=>Object.keys(n).length?vf(e,a):{rows:[],flatRows:[],rowsById:{}},Oe(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:a}=e.getState();let i=!!(n.length&&Object.keys(a).length);return i&&n.some(l=>l.getCanSelect()&&!a[l.id])&&(i=!1),i},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(l=>l.getCanSelect()),{rowSelection:a}=e.getState();let i=!!n.length;return i&&n.some(l=>!a[l.id])&&(i=!1),i},e.getIsSomeRowsSelected=()=>{var n;const a=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return a>0&&a<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(a=>a.getCanSelect()).some(a=>a.getIsSelected()||a.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(a,i)=>{const l=e.getIsSelected();n.setRowSelection(u=>{var c;if(a=typeof a<"u"?a:!l,e.getCanSelect()&&l===a)return u;const f={...u};return $f(f,e.id,a,(c=i?.selectChildren)!=null?c:!0,n),f})},e.getIsSelected=()=>{const{rowSelection:a}=n.getState();return lh(e,a)},e.getIsSomeSelected=()=>{const{rowSelection:a}=n.getState();return zf(e,a)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:a}=n.getState();return zf(e,a)==="all"},e.getCanSelect=()=>{var a;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(a=n.options.enableRowSelection)!=null?a:!0},e.getCanSelectSubRows=()=>{var a;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(a=n.options.enableSubRowSelection)!=null?a:!0},e.getCanMultiSelect=()=>{var a;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(a=n.options.enableMultiRowSelection)!=null?a:!0},e.getToggleSelectedHandler=()=>{const a=e.getCanSelect();return i=>{var l;a&&e.toggleSelected((l=i.target)==null?void 0:l.checked)}}}},$f=(e,n,a,i,l)=>{var u;const c=l.getRow(n,!0);a?(c.getCanMultiSelect()||Object.keys(e).forEach(f=>delete e[f]),c.getCanSelect()&&(e[n]=!0)):delete e[n],i&&(u=c.subRows)!=null&&u.length&&c.getCanSelectSubRows()&&c.subRows.forEach(f=>$f(e,f.id,a,i,l))};function vf(e,n){const a=e.getState().rowSelection,i=[],l={},u=function(c,f){return c.map(h=>{var m;const v=lh(h,a);if(v&&(i.push(h),l[h.id]=h),(m=h.subRows)!=null&&m.length&&(h={...h,subRows:u(h.subRows)}),v)return h}).filter(Boolean)};return{rows:u(n.rows),flatRows:i,rowsById:l}}function lh(e,n){var a;return(a=n[e.id])!=null?a:!1}function zf(e,n,a){var i;if(!((i=e.subRows)!=null&&i.length))return!1;let l=!0,u=!1;return e.subRows.forEach(c=>{if(!(u&&!l)&&(c.getCanSelect()&&(lh(c,n)?u=!0:l=!1),c.subRows&&c.subRows.length)){const f=zf(c,n);f==="all"?u=!0:(f==="some"&&(u=!0),l=!1)}}),l?"all":u?"some":!1}const Ff=/([0-9]+)/gm,PR=(e,n,a)=>U_(ya(e.getValue(a)).toLowerCase(),ya(n.getValue(a)).toLowerCase()),$R=(e,n,a)=>U_(ya(e.getValue(a)),ya(n.getValue(a))),zR=(e,n,a)=>oh(ya(e.getValue(a)).toLowerCase(),ya(n.getValue(a)).toLowerCase()),FR=(e,n,a)=>oh(ya(e.getValue(a)),ya(n.getValue(a))),HR=(e,n,a)=>{const i=e.getValue(a),l=n.getValue(a);return i>l?1:i<l?-1:0},VR=(e,n,a)=>oh(e.getValue(a),n.getValue(a));function oh(e,n){return e===n?0:e>n?1:-1}function ya(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function U_(e,n){const a=e.split(Ff).filter(Boolean),i=n.split(Ff).filter(Boolean);for(;a.length&&i.length;){const l=a.shift(),u=i.shift(),c=parseInt(l,10),f=parseInt(u,10),h=[c,f].sort();if(isNaN(h[0])){if(l>u)return 1;if(u>l)return-1;continue}if(isNaN(h[1]))return isNaN(c)?-1:1;if(c>f)return 1;if(f>c)return-1}return a.length-i.length}const sl={alphanumeric:PR,alphanumericCaseSensitive:$R,text:zR,textCaseSensitive:FR,datetime:HR,basic:VR},BR={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:En("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const a=n.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const l of a){const u=l?.getValue(e.id);if(Object.prototype.toString.call(u)==="[object Date]")return sl.datetime;if(typeof u=="string"&&(i=!0,u.split(Ff).length>1))return sl.alphanumeric}return i?sl.text:sl.basic},e.getAutoSortDir=()=>{const a=n.getFilteredRowModel().flatRows[0];return typeof a?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var a,i;if(!e)throw new Error;return Du(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(a=(i=n.options.sortingFns)==null?void 0:i[e.columnDef.sortingFn])!=null?a:sl[e.columnDef.sortingFn]},e.toggleSorting=(a,i)=>{const l=e.getNextSortingOrder(),u=typeof a<"u"&&a!==null;n.setSorting(c=>{const f=c?.find(b=>b.id===e.id),h=c?.findIndex(b=>b.id===e.id);let m=[],v,y=u?a:l==="desc";if(c!=null&&c.length&&e.getCanMultiSort()&&i?f?v="toggle":v="add":c!=null&&c.length&&h!==c.length-1?v="replace":f?v="toggle":v="replace",v==="toggle"&&(u||l||(v="remove")),v==="add"){var w;m=[...c,{id:e.id,desc:y}],m.splice(0,m.length-((w=n.options.maxMultiSortColCount)!=null?w:Number.MAX_SAFE_INTEGER))}else v==="toggle"?m=c.map(b=>b.id===e.id?{...b,desc:y}:b):v==="remove"?m=c.filter(b=>b.id!==e.id):m=[{id:e.id,desc:y}];return m})},e.getFirstSortDir=()=>{var a,i;return((a=(i=e.columnDef.sortDescFirst)!=null?i:n.options.sortDescFirst)!=null?a:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=a=>{var i,l;const u=e.getFirstSortDir(),c=e.getIsSorted();return c?c!==u&&((i=n.options.enableSortingRemoval)==null||i)&&(!(a&&(l=n.options.enableMultiRemove)!=null)||l)?!1:c==="desc"?"asc":"desc":u},e.getCanSort=()=>{var a,i;return((a=e.columnDef.enableSorting)!=null?a:!0)&&((i=n.options.enableSorting)!=null?i:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var a,i;return(a=(i=e.columnDef.enableMultiSort)!=null?i:n.options.enableMultiSort)!=null?a:!!e.accessorFn},e.getIsSorted=()=>{var a;const i=(a=n.getState().sorting)==null?void 0:a.find(l=>l.id===e.id);return i?i.desc?"desc":"asc":!1},e.getSortIndex=()=>{var a,i;return(a=(i=n.getState().sorting)==null?void 0:i.findIndex(l=>l.id===e.id))!=null?a:-1},e.clearSorting=()=>{n.setSorting(a=>a!=null&&a.length?a.filter(i=>i.id!==e.id):[])},e.getToggleSortingHandler=()=>{const a=e.getCanSort();return i=>{a&&(i.persist==null||i.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(i):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var a,i;e.setSorting(n?[]:(a=(i=e.initialState)==null?void 0:i.sorting)!=null?a:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},IR=[cR,DR,CR,TR,fR,hR,NR,jR,BR,xR,MR,kR,LR,UR,AR];function qR(e){var n,a;const i=[...IR,...(n=e._features)!=null?n:[]];let l={_features:i};const u=l._features.reduce((w,b)=>Object.assign(w,b.getDefaultOptions==null?void 0:b.getDefaultOptions(l)),{}),c=w=>l.options.mergeOptions?l.options.mergeOptions(u,w):{...u,...w};let h={...{},...(a=e.initialState)!=null?a:{}};l._features.forEach(w=>{var b;h=(b=w.getInitialState==null?void 0:w.getInitialState(h))!=null?b:h});const m=[];let v=!1;const y={_features:i,options:{...u,...e},initialState:h,_queue:w=>{m.push(w),v||(v=!0,Promise.resolve().then(()=>{for(;m.length;)m.shift()();v=!1}).catch(b=>setTimeout(()=>{throw b})))},reset:()=>{l.setState(l.initialState)},setOptions:w=>{const b=va(w,l.options);l.options=c(b)},getState:()=>l.options.state,setState:w=>{l.options.onStateChange==null||l.options.onStateChange(w)},_getRowId:(w,b,S)=>{var C;return(C=l.options.getRowId==null?void 0:l.options.getRowId(w,b,S))!=null?C:`${S?[S.id,b].join("."):b}`},getCoreRowModel:()=>(l._getCoreRowModel||(l._getCoreRowModel=l.options.getCoreRowModel(l)),l._getCoreRowModel()),getRowModel:()=>l.getPaginationRowModel(),getRow:(w,b)=>{let S=(b?l.getPrePaginationRowModel():l.getRowModel()).rowsById[w];if(!S&&(S=l.getCoreRowModel().rowsById[w],!S))throw new Error;return S},_getDefaultColumnDef:Ae(()=>[l.options.defaultColumn],w=>{var b;return w=(b=w)!=null?b:{},{header:S=>{const C=S.header.column.columnDef;return C.accessorKey?C.accessorKey:C.accessorFn?C.id:null},cell:S=>{var C,R;return(C=(R=S.renderValue())==null||R.toString==null?void 0:R.toString())!=null?C:null},...l._features.reduce((S,C)=>Object.assign(S,C.getDefaultColumnDef==null?void 0:C.getDefaultColumnDef()),{}),...w}},Oe(e,"debugColumns")),_getColumnDefs:()=>l.options.columns,getAllColumns:Ae(()=>[l._getColumnDefs()],w=>{const b=function(S,C,R){return R===void 0&&(R=0),S.map(D=>{const L=uR(l,D,R,C),T=D;return L.columns=T.columns?b(T.columns,L,R+1):[],L})};return b(w)},Oe(e,"debugColumns")),getAllFlatColumns:Ae(()=>[l.getAllColumns()],w=>w.flatMap(b=>b.getFlatColumns()),Oe(e,"debugColumns")),_getAllFlatColumnsById:Ae(()=>[l.getAllFlatColumns()],w=>w.reduce((b,S)=>(b[S.id]=S,b),{}),Oe(e,"debugColumns")),getAllLeafColumns:Ae(()=>[l.getAllColumns(),l._getOrderColumnsFn()],(w,b)=>{let S=w.flatMap(C=>C.getLeafColumns());return b(S)},Oe(e,"debugColumns")),getColumn:w=>l._getAllFlatColumnsById()[w]};Object.assign(l,y);for(let w=0;w<l._features.length;w++){const b=l._features[w];b==null||b.createTable==null||b.createTable(l)}return l}function GR(){return e=>Ae(()=>[e.options.data],n=>{const a={rows:[],flatRows:[],rowsById:{}},i=function(l,u,c){u===void 0&&(u=0);const f=[];for(let m=0;m<l.length;m++){const v=dR(e,e._getRowId(l[m],m,c),l[m],m,u,void 0,c?.id);if(a.flatRows.push(v),a.rowsById[v.id]=v,f.push(v),e.options.getSubRows){var h;v.originalSubRows=e.options.getSubRows(l[m],m),(h=v.originalSubRows)!=null&&h.length&&(v.subRows=i(v.originalSubRows,u+1,v))}}return f};return a.rows=i(n),a},Oe(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function YR(){return e=>Ae(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,a)=>{if(!a.rows.length||!(n!=null&&n.length))return a;const i=e.getState().sorting,l=[],u=i.filter(h=>{var m;return(m=e.getColumn(h.id))==null?void 0:m.getCanSort()}),c={};u.forEach(h=>{const m=e.getColumn(h.id);m&&(c[h.id]={sortUndefined:m.columnDef.sortUndefined,invertSorting:m.columnDef.invertSorting,sortingFn:m.getSortingFn()})});const f=h=>{const m=h.map(v=>({...v}));return m.sort((v,y)=>{for(let b=0;b<u.length;b+=1){var w;const S=u[b],C=c[S.id],R=C.sortUndefined,D=(w=S?.desc)!=null?w:!1;let L=0;if(R){const T=v.getValue(S.id),M=y.getValue(S.id),k=T===void 0,V=M===void 0;if(k||V){if(R==="first")return k?-1:1;if(R==="last")return k?1:-1;L=k&&V?0:k?R:-R}}if(L===0&&(L=C.sortingFn(v,y,S.id)),L!==0)return D&&(L*=-1),C.invertSorting&&(L*=-1),L}return v.index-y.index}),m.forEach(v=>{var y;l.push(v),(y=v.subRows)!=null&&y.length&&(v.subRows=f(v.subRows))}),m};return{rows:f(a.rows),flatRows:l,rowsById:a.rowsById}},Oe(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function dy(e,n){return e?KR(e)?E.createElement(e,n):e:null}function KR(e){return XR(e)||typeof e=="function"||WR(e)}function XR(e){return typeof e=="function"&&(()=>{const n=Object.getPrototypeOf(e);return n.prototype&&n.prototype.isReactComponent})()}function WR(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function QR(e){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[a]=E.useState(()=>({current:qR(n)})),[i,l]=E.useState(()=>a.current.initialState);return a.current.setOptions(u=>({...u,...e,state:{...i,...e.state},onStateChange:c=>{l(c),e.onStateChange==null||e.onStateChange(c)}})),a.current}function uh({data:e,columns:n,onSaveRow:a,onDeleteRow:i}){const[l,u]=E.useState(null),[c,f]=E.useState({}),h=E.useMemo(()=>{const y=b=>{const S={};Object.keys(c).forEach(L=>{c[L]!==void 0&&c[L]!==""&&(S[L]=c[L])});const C={...b.original};["machines","progress","n_boxes","time_remaining"].forEach(L=>{delete C[L]});const D={...C,...S};a(D),u(null),f({})},w={id:"actions",header:"Actions",cell:({row:b})=>{const S=b.id===l;return p.jsx("div",{className:"action-buttons",children:S?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>y(b),className:"btn-save",children:"Save"}),p.jsx("button",{onClick:()=>u(null),className:"btn-cancel",children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>u(b.id),className:"btn-edit",children:"Edit"}),p.jsx("button",{onClick:()=>i(b.original),className:"btn-delete",children:"Delete"})]})})}};return[...n,w]},[n,l,c,a,i]),m=E.useMemo(()=>{if(e&&e.length>0){console.log("📊 DataTable received data:",e.length,"rows");const y=e.map(C=>C.id),w=y.filter((C,R)=>y.indexOf(C)!==R);w.length>0&&(console.warn("⚠️ DataTable: Duplicate IDs detected:",w),console.warn("⚠️ DataTable: Full data with duplicates:",e));const b=new Set,S=[];e.forEach((C,R)=>{b.has(C.id)?S.push({id:C.id,index:R,item:C}):b.add(C.id)}),S.length>0&&console.warn("⚠️ DataTable: Duplicate objects detected:",S)}return e},[e]),v=QR({data:m,columns:h,getCoreRowModel:GR(),getSortedRowModel:YR(),meta:{editingRowId:l,setEditedData:f}});return p.jsx("div",{className:"table-container",children:p.jsxs("table",{className:"modern-table",children:[p.jsx("thead",{children:v.getHeaderGroups().map((y,w)=>p.jsx("tr",{children:y.headers.map((b,S)=>{const C=`${b.id}_${w}_${S}`;return p.jsxs("th",{onClick:b.column.getToggleSortingHandler(),children:[dy(b.column.columnDef.header,b.getContext()),{asc:" 🔼",desc:" 🔽"}[b.column.getIsSorted()]??null]},C)})},`${y.id}_${w}`))}),p.jsx("tbody",{children:v.getRowModel().rows.map((y,w)=>{const b=`${y.id}_${w}`;return p.jsx("tr",{children:y.getVisibleCells().map((S,C)=>{const R=`${y.id}_${w}_${C}`;return p.jsx("td",{children:dy(S.column.columnDef.cell,S.getContext())},R)})},b)})})]})})}var Nl=e=>e.type==="checkbox",qa=e=>e instanceof Date,ln=e=>e==null;const P_=e=>typeof e=="object";var xt=e=>!ln(e)&&!Array.isArray(e)&&P_(e)&&!qa(e),ZR=e=>xt(e)&&e.target?Nl(e.target)?e.target.checked:e.target.value:e,JR=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,eA=(e,n)=>e.has(JR(n)),tA=e=>{const n=e.constructor&&e.constructor.prototype;return xt(n)&&n.hasOwnProperty("isPrototypeOf")},ch=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bt(e){let n;const a=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(ch&&(e instanceof Blob||i))&&(a||xt(e)))if(n=a?[]:Object.create(Object.getPrototypeOf(e)),!a&&!tA(e))n=e;else for(const l in e)e.hasOwnProperty(l)&&(n[l]=Bt(e[l]));else return e;return n}var Nu=e=>/^\w*$/.test(e),At=e=>e===void 0,dh=e=>Array.isArray(e)?e.filter(Boolean):[],fh=e=>dh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),pe=(e,n,a)=>{if(!n||!xt(e))return a;const i=(Nu(n)?[n]:fh(n)).reduce((l,u)=>ln(l)?l:l[u],e);return At(i)||i===e?At(e[n])?a:e[n]:i},ur=e=>typeof e=="boolean",dt=(e,n,a)=>{let i=-1;const l=Nu(n)?[n]:fh(n),u=l.length,c=u-1;for(;++i<u;){const f=l[i];let h=a;if(i!==c){const m=e[f];h=xt(m)||Array.isArray(m)?m:isNaN(+l[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=h,e=e[f]}};const fy={BLUR:"blur",FOCUS_OUT:"focusout"},qn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Or={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},nA=Me.createContext(null);nA.displayName="HookFormContext";var rA=(e,n,a,i=!0)=>{const l={defaultValues:n._defaultValues};for(const u in e)Object.defineProperty(l,u,{get:()=>{const c=u;return n._proxyFormState[c]!==qn.all&&(n._proxyFormState[c]=!i||qn.all),e[c]}});return l};const aA=typeof window<"u"?Me.useLayoutEffect:Me.useEffect;var cr=e=>typeof e=="string",iA=(e,n,a,i,l)=>cr(e)?(i&&n.watch.add(e),pe(a,e,l)):Array.isArray(e)?e.map(u=>(i&&n.watch.add(u),pe(a,u))):(i&&(n.watchAll=!0),a),Hf=e=>ln(e)||!P_(e);function pa(e,n,a=new WeakSet){if(Hf(e)||Hf(n))return e===n;if(qa(e)&&qa(n))return e.getTime()===n.getTime();const i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;if(a.has(e)||a.has(n))return!0;a.add(e),a.add(n);for(const u of i){const c=e[u];if(!l.includes(u))return!1;if(u!=="ref"){const f=n[u];if(qa(c)&&qa(f)||xt(c)&&xt(f)||Array.isArray(c)&&Array.isArray(f)?!pa(c,f,a):c!==f)return!1}}return!0}var sA=(e,n,a,i,l)=>n?{...a[e],types:{...a[e]&&a[e].types?a[e].types:{},[i]:l||!0}}:{},ml=e=>Array.isArray(e)?e:[e],hy=()=>{let e=[];return{get observers(){return e},next:l=>{for(const u of e)u.next&&u.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(u=>u!==l)}}),unsubscribe:()=>{e=[]}}},hn=e=>xt(e)&&!Object.keys(e).length,hh=e=>e.type==="file",Gn=e=>typeof e=="function",gu=e=>{if(!ch)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},$_=e=>e.type==="select-multiple",gh=e=>e.type==="radio",lA=e=>gh(e)||Nl(e),yf=e=>gu(e)&&e.isConnected;function oA(e,n){const a=n.slice(0,-1).length;let i=0;for(;i<a;)e=At(e)?i++:e[n[i++]];return e}function uA(e){for(const n in e)if(e.hasOwnProperty(n)&&!At(e[n]))return!1;return!0}function Rt(e,n){const a=Array.isArray(n)?n:Nu(n)?[n]:fh(n),i=a.length===1?e:oA(e,a),l=a.length-1,u=a[l];return i&&delete i[u],l!==0&&(xt(i)&&hn(i)||Array.isArray(i)&&uA(i))&&Rt(e,a.slice(0,-1)),e}var z_=e=>{for(const n in e)if(Gn(e[n]))return!0;return!1};function mu(e,n={}){const a=Array.isArray(e);if(xt(e)||a)for(const i in e)Array.isArray(e[i])||xt(e[i])&&!z_(e[i])?(n[i]=Array.isArray(e[i])?[]:{},mu(e[i],n[i])):ln(e[i])||(n[i]=!0);return n}function F_(e,n,a){const i=Array.isArray(e);if(xt(e)||i)for(const l in e)Array.isArray(e[l])||xt(e[l])&&!z_(e[l])?At(n)||Hf(a[l])?a[l]=Array.isArray(e[l])?mu(e[l],[]):{...mu(e[l])}:F_(e[l],ln(n)?{}:n[l],a[l]):a[l]=!pa(e[l],n[l]);return a}var ll=(e,n)=>F_(e,n,mu(n));const gy={value:!1,isValid:!1},my={value:!0,isValid:!0};var H_=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!At(e[0].attributes.value)?At(e[0].value)||e[0].value===""?my:{value:e[0].value,isValid:!0}:my:gy}return gy},V_=(e,{valueAsNumber:n,valueAsDate:a,setValueAs:i})=>At(e)?e:n?e===""?NaN:e&&+e:a&&cr(e)?new Date(e):i?i(e):e;const py={isValid:!1,value:null};var B_=e=>Array.isArray(e)?e.reduce((n,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:n,py):py;function vy(e){const n=e.ref;return hh(n)?n.files:gh(n)?B_(e.refs).value:$_(n)?[...n.selectedOptions].map(({value:a})=>a):Nl(n)?H_(e.refs).value:V_(At(n.value)?e.ref.value:n.value,e)}var cA=(e,n,a,i)=>{const l={};for(const u of e){const c=pe(n,u);c&&dt(l,u,c._f)}return{criteriaMode:a,names:[...e],fields:l,shouldUseNativeValidation:i}},pu=e=>e instanceof RegExp,ol=e=>At(e)?e:pu(e)?e.source:xt(e)?pu(e.value)?e.value.source:e.value:e,yy=e=>({isOnSubmit:!e||e===qn.onSubmit,isOnBlur:e===qn.onBlur,isOnChange:e===qn.onChange,isOnAll:e===qn.all,isOnTouch:e===qn.onTouched});const _y="AsyncFunction";var dA=e=>!!e&&!!e.validate&&!!(Gn(e.validate)&&e.validate.constructor.name===_y||xt(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===_y)),fA=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),by=(e,n,a)=>!a&&(n.watchAll||n.watch.has(e)||[...n.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const pl=(e,n,a,i)=>{for(const l of a||Object.keys(e)){const u=pe(e,l);if(u){const{_f:c,...f}=u;if(c){if(c.refs&&c.refs[0]&&n(c.refs[0],l)&&!i)return!0;if(c.ref&&n(c.ref,c.name)&&!i)return!0;if(pl(f,n))break}else if(xt(f)&&pl(f,n))break}}};function wy(e,n,a){const i=pe(e,a);if(i||Nu(a))return{error:i,name:a};const l=a.split(".");for(;l.length;){const u=l.join("."),c=pe(n,u),f=pe(e,u);if(c&&!Array.isArray(c)&&a!==u)return{name:a};if(f&&f.type)return{name:u,error:f};if(f&&f.root&&f.root.type)return{name:`${u}.root`,error:f.root};l.pop()}return{name:a}}var hA=(e,n,a,i)=>{a(e);const{name:l,...u}=e;return hn(u)||Object.keys(u).length>=Object.keys(n).length||Object.keys(u).find(c=>n[c]===(!i||qn.all))},gA=(e,n,a)=>!e||!n||e===n||ml(e).some(i=>i&&(a?i===n:i.startsWith(n)||n.startsWith(i))),mA=(e,n,a,i,l)=>l.isOnAll?!1:!a&&l.isOnTouch?!(n||e):(a?i.isOnBlur:l.isOnBlur)?!e:(a?i.isOnChange:l.isOnChange)?e:!0,pA=(e,n)=>!dh(pe(e,n)).length&&Rt(e,n),vA=(e,n,a)=>{const i=ml(pe(e,a));return dt(i,"root",n[a]),dt(e,a,i),e},ou=e=>cr(e);function Sy(e,n,a="validate"){if(ou(e)||Array.isArray(e)&&e.every(ou)||ur(e)&&!e)return{type:a,message:ou(e)?e:"",ref:n}}var Bi=e=>xt(e)&&!pu(e)?e:{value:e,message:""},xy=async(e,n,a,i,l,u)=>{const{ref:c,refs:f,required:h,maxLength:m,minLength:v,min:y,max:w,pattern:b,validate:S,name:C,valueAsNumber:R,mount:D}=e._f,L=pe(a,C);if(!D||n.has(C))return{};const T=f?f[0]:c,M=ee=>{l&&T.reportValidity&&(T.setCustomValidity(ur(ee)?"":ee||""),T.reportValidity())},k={},V=gh(c),P=Nl(c),X=V||P,ne=(R||hh(c))&&At(c.value)&&At(L)||gu(c)&&c.value===""||L===""||Array.isArray(L)&&!L.length,ue=sA.bind(null,C,i,k),le=(ee,de,xe,_e=Or.maxLength,B=Or.minLength)=>{const J=ee?de:xe;k[C]={type:ee?_e:B,message:J,ref:c,...ue(ee?_e:B,J)}};if(u?!Array.isArray(L)||!L.length:h&&(!X&&(ne||ln(L))||ur(L)&&!L||P&&!H_(f).isValid||V&&!B_(f).isValid)){const{value:ee,message:de}=ou(h)?{value:!!h,message:h}:Bi(h);if(ee&&(k[C]={type:Or.required,message:de,ref:T,...ue(Or.required,de)},!i))return M(de),k}if(!ne&&(!ln(y)||!ln(w))){let ee,de;const xe=Bi(w),_e=Bi(y);if(!ln(L)&&!isNaN(L)){const B=c.valueAsNumber||L&&+L;ln(xe.value)||(ee=B>xe.value),ln(_e.value)||(de=B<_e.value)}else{const B=c.valueAsDate||new Date(L),J=N=>new Date(new Date().toDateString()+" "+N),fe=c.type=="time",we=c.type=="week";cr(xe.value)&&L&&(ee=fe?J(L)>J(xe.value):we?L>xe.value:B>new Date(xe.value)),cr(_e.value)&&L&&(de=fe?J(L)<J(_e.value):we?L<_e.value:B<new Date(_e.value))}if((ee||de)&&(le(!!ee,xe.message,_e.message,Or.max,Or.min),!i))return M(k[C].message),k}if((m||v)&&!ne&&(cr(L)||u&&Array.isArray(L))){const ee=Bi(m),de=Bi(v),xe=!ln(ee.value)&&L.length>+ee.value,_e=!ln(de.value)&&L.length<+de.value;if((xe||_e)&&(le(xe,ee.message,de.message),!i))return M(k[C].message),k}if(b&&!ne&&cr(L)){const{value:ee,message:de}=Bi(b);if(pu(ee)&&!L.match(ee)&&(k[C]={type:Or.pattern,message:de,ref:c,...ue(Or.pattern,de)},!i))return M(de),k}if(S){if(Gn(S)){const ee=await S(L,a),de=Sy(ee,T);if(de&&(k[C]={...de,...ue(Or.validate,de.message)},!i))return M(de.message),k}else if(xt(S)){let ee={};for(const de in S){if(!hn(ee)&&!i)break;const xe=Sy(await S[de](L,a),T,de);xe&&(ee={...xe,...ue(de,xe.message)},M(xe.message),i&&(k[C]=ee))}if(!hn(ee)&&(k[C]={ref:T,...ee},!i))return k}}return M(!0),k};const yA={mode:qn.onSubmit,reValidateMode:qn.onChange,shouldFocusError:!0};function _A(e={}){let n={...yA,...e},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Gn(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},l=xt(n.defaultValues)||xt(n.values)?Bt(n.defaultValues||n.values)||{}:{},u=n.shouldUnregister?{}:Bt(l),c={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,m=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...v};const w={array:hy(),state:hy()},b=n.criteriaMode===qn.all,S=A=>$=>{clearTimeout(m),m=setTimeout(A,$)},C=async A=>{if(!n.disabled&&(v.isValid||y.isValid||A)){const $=n.resolver?hn((await P()).errors):await ne(i,!0);$!==a.isValid&&w.state.next({isValid:$})}},R=(A,$)=>{!n.disabled&&(v.isValidating||v.validatingFields||y.isValidating||y.validatingFields)&&((A||Array.from(f.mount)).forEach(q=>{q&&($?dt(a.validatingFields,q,$):Rt(a.validatingFields,q))}),w.state.next({validatingFields:a.validatingFields,isValidating:!hn(a.validatingFields)}))},D=(A,$=[],q,ie,te=!0,ae=!0)=>{if(ie&&q&&!n.disabled){if(c.action=!0,ae&&Array.isArray(pe(i,A))){const oe=q(pe(i,A),ie.argA,ie.argB);te&&dt(i,A,oe)}if(ae&&Array.isArray(pe(a.errors,A))){const oe=q(pe(a.errors,A),ie.argA,ie.argB);te&&dt(a.errors,A,oe),pA(a.errors,A)}if((v.touchedFields||y.touchedFields)&&ae&&Array.isArray(pe(a.touchedFields,A))){const oe=q(pe(a.touchedFields,A),ie.argA,ie.argB);te&&dt(a.touchedFields,A,oe)}(v.dirtyFields||y.dirtyFields)&&(a.dirtyFields=ll(l,u)),w.state.next({name:A,isDirty:le(A,$),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else dt(u,A,$)},L=(A,$)=>{dt(a.errors,A,$),w.state.next({errors:a.errors})},T=A=>{a.errors=A,w.state.next({errors:a.errors,isValid:!1})},M=(A,$,q,ie)=>{const te=pe(i,A);if(te){const ae=pe(u,A,At(q)?pe(l,A):q);At(ae)||ie&&ie.defaultChecked||$?dt(u,A,$?ae:vy(te._f)):xe(A,ae),c.mount&&C()}},k=(A,$,q,ie,te)=>{let ae=!1,oe=!1;const ye={name:A};if(!n.disabled){if(!q||ie){(v.isDirty||y.isDirty)&&(oe=a.isDirty,a.isDirty=ye.isDirty=le(),ae=oe!==ye.isDirty);const Ee=pa(pe(l,A),$);oe=!!pe(a.dirtyFields,A),Ee?Rt(a.dirtyFields,A):dt(a.dirtyFields,A,!0),ye.dirtyFields=a.dirtyFields,ae=ae||(v.dirtyFields||y.dirtyFields)&&oe!==!Ee}if(q){const Ee=pe(a.touchedFields,A);Ee||(dt(a.touchedFields,A,q),ye.touchedFields=a.touchedFields,ae=ae||(v.touchedFields||y.touchedFields)&&Ee!==q)}ae&&te&&w.state.next(ye)}return ae?ye:{}},V=(A,$,q,ie)=>{const te=pe(a.errors,A),ae=(v.isValid||y.isValid)&&ur($)&&a.isValid!==$;if(n.delayError&&q?(h=S(()=>L(A,q)),h(n.delayError)):(clearTimeout(m),h=null,q?dt(a.errors,A,q):Rt(a.errors,A)),(q?!pa(te,q):te)||!hn(ie)||ae){const oe={...ie,...ae&&ur($)?{isValid:$}:{},errors:a.errors,name:A};a={...a,...oe},w.state.next(oe)}},P=async A=>{R(A,!0);const $=await n.resolver(u,n.context,cA(A||f.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return R(A),$},X=async A=>{const{errors:$}=await P(A);if(A)for(const q of A){const ie=pe($,q);ie?dt(a.errors,q,ie):Rt(a.errors,q)}else a.errors=$;return $},ne=async(A,$,q={valid:!0})=>{for(const ie in A){const te=A[ie];if(te){const{_f:ae,...oe}=te;if(ae){const ye=f.array.has(ae.name),Ee=te._f&&dA(te._f);Ee&&v.validatingFields&&R([ie],!0);const Ue=await xy(te,f.disabled,u,b,n.shouldUseNativeValidation&&!$,ye);if(Ee&&v.validatingFields&&R([ie]),Ue[ae.name]&&(q.valid=!1,$))break;!$&&(pe(Ue,ae.name)?ye?vA(a.errors,Ue,ae.name):dt(a.errors,ae.name,Ue[ae.name]):Rt(a.errors,ae.name))}!hn(oe)&&await ne(oe,$,q)}}return q.valid},ue=()=>{for(const A of f.unMount){const $=pe(i,A);$&&($._f.refs?$._f.refs.every(q=>!yf(q)):!yf($._f.ref))&&mt(A)}f.unMount=new Set},le=(A,$)=>!n.disabled&&(A&&$&&dt(u,A,$),!pa(N(),l)),ee=(A,$,q)=>iA(A,f,{...c.mount?u:At($)?l:cr(A)?{[A]:$}:$},q,$),de=A=>dh(pe(c.mount?u:l,A,n.shouldUnregister?pe(l,A,[]):[])),xe=(A,$,q={})=>{const ie=pe(i,A);let te=$;if(ie){const ae=ie._f;ae&&(!ae.disabled&&dt(u,A,V_($,ae)),te=gu(ae.ref)&&ln($)?"":$,$_(ae.ref)?[...ae.ref.options].forEach(oe=>oe.selected=te.includes(oe.value)):ae.refs?Nl(ae.ref)?ae.refs.forEach(oe=>{(!oe.defaultChecked||!oe.disabled)&&(Array.isArray(te)?oe.checked=!!te.find(ye=>ye===oe.value):oe.checked=te===oe.value||!!te)}):ae.refs.forEach(oe=>oe.checked=oe.value===te):hh(ae.ref)?ae.ref.value="":(ae.ref.value=te,ae.ref.type||w.state.next({name:A,values:Bt(u)})))}(q.shouldDirty||q.shouldTouch)&&k(A,te,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&we(A)},_e=(A,$,q)=>{for(const ie in $){if(!$.hasOwnProperty(ie))return;const te=$[ie],ae=A+"."+ie,oe=pe(i,ae);(f.array.has(A)||xt(te)||oe&&!oe._f)&&!qa(te)?_e(ae,te,q):xe(ae,te,q)}},B=(A,$,q={})=>{const ie=pe(i,A),te=f.array.has(A),ae=Bt($);dt(u,A,ae),te?(w.array.next({name:A,values:Bt(u)}),(v.isDirty||v.dirtyFields||y.isDirty||y.dirtyFields)&&q.shouldDirty&&w.state.next({name:A,dirtyFields:ll(l,u),isDirty:le(A,ae)})):ie&&!ie._f&&!ln(ae)?_e(A,ae,q):xe(A,ae,q),by(A,f)&&w.state.next({...a,name:A}),w.state.next({name:c.mount?A:void 0,values:Bt(u)})},J=async A=>{c.mount=!0;const $=A.target;let q=$.name,ie=!0;const te=pe(i,q),ae=Ee=>{ie=Number.isNaN(Ee)||qa(Ee)&&isNaN(Ee.getTime())||pa(Ee,pe(u,q,Ee))},oe=yy(n.mode),ye=yy(n.reValidateMode);if(te){let Ee,Ue;const qt=$.type?vy(te._f):ZR(A),Et=A.type===fy.BLUR||A.type===fy.FOCUS_OUT,ba=!fA(te._f)&&!n.resolver&&!pe(a.errors,q)&&!te._f.deps||mA(Et,pe(a.touchedFields,q),a.isSubmitted,ye,oe),Zn=by(q,f,Et);dt(u,q,qt),Et?(!$||!$.readOnly)&&(te._f.onBlur&&te._f.onBlur(A),h&&h(0)):te._f.onChange&&te._f.onChange(A);const Jn=k(q,qt,Et),gn=!hn(Jn)||Zn;if(!Et&&w.state.next({name:q,type:A.type,values:Bt(u)}),ba)return(v.isValid||y.isValid)&&(n.mode==="onBlur"?Et&&C():Et||C()),gn&&w.state.next({name:q,...Zn?{}:Jn});if(!Et&&Zn&&w.state.next({...a}),n.resolver){const{errors:er}=await P([q]);if(ae(qt),ie){const dr=wy(a.errors,i,q),wa=wy(er,i,dr.name||q);Ee=wa.error,q=wa.name,Ue=hn(er)}}else R([q],!0),Ee=(await xy(te,f.disabled,u,b,n.shouldUseNativeValidation))[q],R([q]),ae(qt),ie&&(Ee?Ue=!1:(v.isValid||y.isValid)&&(Ue=await ne(i,!0)));ie&&(te._f.deps&&we(te._f.deps),V(q,Ue,Ee,Jn))}},fe=(A,$)=>{if(pe(a.errors,$)&&A.focus)return A.focus(),1},we=async(A,$={})=>{let q,ie;const te=ml(A);if(n.resolver){const ae=await X(At(A)?A:te);q=hn(ae),ie=A?!te.some(oe=>pe(ae,oe)):q}else A?(ie=(await Promise.all(te.map(async ae=>{const oe=pe(i,ae);return await ne(oe&&oe._f?{[ae]:oe}:oe)}))).every(Boolean),!(!ie&&!a.isValid)&&C()):ie=q=await ne(i);return w.state.next({...!cr(A)||(v.isValid||y.isValid)&&q!==a.isValid?{}:{name:A},...n.resolver||!A?{isValid:q}:{},errors:a.errors}),$.shouldFocus&&!ie&&pl(i,fe,A?te:f.mount),ie},N=A=>{const $={...c.mount?u:l};return At(A)?$:cr(A)?pe($,A):A.map(q=>pe($,q))},Y=(A,$)=>({invalid:!!pe(($||a).errors,A),isDirty:!!pe(($||a).dirtyFields,A),error:pe(($||a).errors,A),isValidating:!!pe(a.validatingFields,A),isTouched:!!pe(($||a).touchedFields,A)}),G=A=>{A&&ml(A).forEach($=>Rt(a.errors,$)),w.state.next({errors:A?a.errors:{}})},Q=(A,$,q)=>{const ie=(pe(i,A,{_f:{}})._f||{}).ref,te=pe(a.errors,A)||{},{ref:ae,message:oe,type:ye,...Ee}=te;dt(a.errors,A,{...Ee,...$,ref:ie}),w.state.next({name:A,errors:a.errors,isValid:!1}),q&&q.shouldFocus&&ie&&ie.focus&&ie.focus()},ce=(A,$)=>Gn(A)?w.state.subscribe({next:q=>"values"in q&&A(ee(void 0,$),q)}):ee(A,$,!0),De=A=>w.state.subscribe({next:$=>{gA(A.name,$.name,A.exact)&&hA($,A.formState||v,Je,A.reRenderRoot)&&A.callback({values:{...u},...a,...$,defaultValues:l})}}).unsubscribe,ve=A=>(c.mount=!0,y={...y,...A.formState},De({...A,formState:y})),mt=(A,$={})=>{for(const q of A?ml(A):f.mount)f.mount.delete(q),f.array.delete(q),$.keepValue||(Rt(i,q),Rt(u,q)),!$.keepError&&Rt(a.errors,q),!$.keepDirty&&Rt(a.dirtyFields,q),!$.keepTouched&&Rt(a.touchedFields,q),!$.keepIsValidating&&Rt(a.validatingFields,q),!n.shouldUnregister&&!$.keepDefaultValue&&Rt(l,q);w.state.next({values:Bt(u)}),w.state.next({...a,...$.keepDirty?{isDirty:le()}:{}}),!$.keepIsValid&&C()},Ve=({disabled:A,name:$})=>{(ur(A)&&c.mount||A||f.disabled.has($))&&(A?f.disabled.add($):f.disabled.delete($))},Dt=(A,$={})=>{let q=pe(i,A);const ie=ur($.disabled)||ur(n.disabled);return dt(i,A,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:A}},name:A,mount:!0,...$}}),f.mount.add(A),q?Ve({disabled:ur($.disabled)?$.disabled:n.disabled,name:A}):M(A,!0,$.value),{...ie?{disabled:$.disabled||n.disabled}:{},...n.progressive?{required:!!$.required,min:ol($.min),max:ol($.max),minLength:ol($.minLength),maxLength:ol($.maxLength),pattern:ol($.pattern)}:{},name:A,onChange:J,onBlur:J,ref:te=>{if(te){Dt(A,$),q=pe(i,A);const ae=At(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,oe=lA(ae),ye=q._f.refs||[];if(oe?ye.find(Ee=>Ee===ae):ae===q._f.ref)return;dt(i,A,{_f:{...q._f,...oe?{refs:[...ye.filter(yf),ae,...Array.isArray(pe(l,A))?[{}]:[]],ref:{type:ae.type,name:A}}:{ref:ae}}}),M(A,!1,void 0,ae)}else q=pe(i,A,{}),q._f&&(q._f.mount=!1),(n.shouldUnregister||$.shouldUnregister)&&!(eA(f.array,A)&&c.action)&&f.unMount.add(A)}}},bt=()=>n.shouldFocusError&&pl(i,fe,f.mount),Cn=A=>{ur(A)&&(w.state.next({disabled:A}),pl(i,($,q)=>{const ie=pe(i,q);ie&&($.disabled=ie._f.disabled||A,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(te=>{te.disabled=ie._f.disabled||A}))},0,!1))},re=(A,$)=>async q=>{let ie;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let te=Bt(u);if(w.state.next({isSubmitting:!0}),n.resolver){const{errors:ae,values:oe}=await P();a.errors=ae,te=Bt(oe)}else await ne(i);if(f.disabled.size)for(const ae of f.disabled)Rt(te,ae);if(Rt(a.errors,"root"),hn(a.errors)){w.state.next({errors:{}});try{await A(te,q)}catch(ae){ie=ae}}else $&&await $({...a.errors},q),bt(),setTimeout(bt);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:hn(a.errors)&&!ie,submitCount:a.submitCount+1,errors:a.errors}),ie)throw ie},se=(A,$={})=>{pe(i,A)&&(At($.defaultValue)?B(A,Bt(pe(l,A))):(B(A,$.defaultValue),dt(l,A,Bt($.defaultValue))),$.keepTouched||Rt(a.touchedFields,A),$.keepDirty||(Rt(a.dirtyFields,A),a.isDirty=$.defaultValue?le(A,Bt(pe(l,A))):le()),$.keepError||(Rt(a.errors,A),v.isValid&&C()),w.state.next({...a}))},he=(A,$={})=>{const q=A?Bt(A):l,ie=Bt(q),te=hn(A),ae=te?l:ie;if($.keepDefaultValues||(l=q),!$.keepValues){if($.keepDirtyValues){const oe=new Set([...f.mount,...Object.keys(ll(l,u))]);for(const ye of Array.from(oe))pe(a.dirtyFields,ye)?dt(ae,ye,pe(u,ye)):B(ye,pe(ae,ye))}else{if(ch&&At(A))for(const oe of f.mount){const ye=pe(i,oe);if(ye&&ye._f){const Ee=Array.isArray(ye._f.refs)?ye._f.refs[0]:ye._f.ref;if(gu(Ee)){const Ue=Ee.closest("form");if(Ue){Ue.reset();break}}}}if($.keepFieldsRef)for(const oe of f.mount)B(oe,pe(ae,oe));else i={}}u=n.shouldUnregister?$.keepDefaultValues?Bt(l):{}:Bt(ae),w.array.next({values:{...ae}}),w.state.next({values:{...ae}})}f={mount:$.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!v.isValid||!!$.keepIsValid||!!$.keepDirtyValues,c.watch=!!n.shouldUnregister,w.state.next({submitCount:$.keepSubmitCount?a.submitCount:0,isDirty:te?!1:$.keepDirty?a.isDirty:!!($.keepDefaultValues&&!pa(A,l)),isSubmitted:$.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:te?{}:$.keepDirtyValues?$.keepDefaultValues&&u?ll(l,u):a.dirtyFields:$.keepDefaultValues&&A?ll(l,A):$.keepDirty?a.dirtyFields:{},touchedFields:$.keepTouched?a.touchedFields:{},errors:$.keepErrors?a.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},ge=(A,$)=>he(Gn(A)?A(u):A,$),qe=(A,$={})=>{const q=pe(i,A),ie=q&&q._f;if(ie){const te=ie.refs?ie.refs[0]:ie.ref;te.focus&&(te.focus(),$.shouldSelect&&Gn(te.select)&&te.select())}},Je=A=>{a={...a,...A}},pt={control:{register:Dt,unregister:mt,getFieldState:Y,handleSubmit:re,setError:Q,_subscribe:De,_runSchema:P,_focusError:bt,_getWatch:ee,_getDirty:le,_setValid:C,_setFieldArray:D,_setDisabledField:Ve,_setErrors:T,_getFieldArray:de,_reset:he,_resetDefaultValues:()=>Gn(n.defaultValues)&&n.defaultValues().then(A=>{ge(A,n.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:ue,_disableForm:Cn,_subjects:w,_proxyFormState:v,get _fields(){return i},get _formValues(){return u},get _state(){return c},set _state(A){c=A},get _defaultValues(){return l},get _names(){return f},set _names(A){f=A},get _formState(){return a},get _options(){return n},set _options(A){n={...n,...A}}},subscribe:ve,trigger:we,register:Dt,handleSubmit:re,watch:ce,setValue:B,getValues:N,reset:ge,resetField:se,clearErrors:G,unregister:mt,setError:Q,setFocus:qe,getFieldState:Y};return{...pt,formControl:pt}}function ju(e={}){const n=Me.useRef(void 0),a=Me.useRef(void 0),[i,l]=Me.useState({isDirty:!1,isValidating:!1,isLoading:Gn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Gn(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:i},e.defaultValues&&!Gn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...f}=_A(e);n.current={...f,formState:i}}const u=n.current.control;return u._options=e,aA(()=>{const c=u._subscribe({formState:u._proxyFormState,callback:()=>l({...u._formState}),reRenderRoot:!0});return l(f=>({...f,isReady:!0})),u._formState.isReady=!0,c},[u]),Me.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),Me.useEffect(()=>{e.mode&&(u._options.mode=e.mode),e.reValidateMode&&(u._options.reValidateMode=e.reValidateMode)},[u,e.mode,e.reValidateMode]),Me.useEffect(()=>{e.errors&&(u._setErrors(e.errors),u._focusError())},[u,e.errors]),Me.useEffect(()=>{e.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,e.shouldUnregister]),Me.useEffect(()=>{if(u._proxyFormState.isDirty){const c=u._getDirty();c!==i.isDirty&&u._subjects.state.next({isDirty:c})}},[u,i.isDirty]),Me.useEffect(()=>{e.values&&!pa(e.values,a.current)?(u._reset(e.values,{keepFieldsRef:!0,...u._options.resetOptions}),a.current=e.values,l(c=>({...c}))):u._resetDefaultValues()},[u,e.values]),Me.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),n.current.formState=rA(i,u),n.current}const I_=()=>{const e=E.useCallback((h,m,v)=>{if(!h||!m||!v)return null;try{const{department:y}=h;if(y==="STAMPA"){const w=m/(h.v_stampa||1),b=h.t_setup_stampa||0,S=w+b,C=S*(h.costo_h_stampa||0);return{totals:{duration:S,cost:C},breakdown:{print:{time:w,cost:w*(h.costo_h_stampa||0)},setup:{time:b,cost:b*(h.costo_h_stampa||0)}}}}else if(y==="CONFEZIONAMENTO"){const w=m/(h.v_conf||1),b=h.t_setup_conf||0,S=w+b,C=S*(h.costo_h_conf||0);return{totals:{duration:S,cost:C},breakdown:{package:{time:w,cost:w*(h.costo_h_conf||0)},setup:{time:b,cost:b*(h.costo_h_conf||0)}}}}return null}catch(y){return console.error("Error calculating production metrics:",y),null}},[]),n=E.useCallback(h=>h&&(h.startsWith("P05")||h.startsWith("ISP05"))?"BUSTO_GAROLFO":"ZANICA",[]),a=E.useCallback(h=>h&&h.startsWith("P0")?"CONFEZIONAMENTO":"STAMPA",[]),i=E.useCallback(h=>({STAMPA:["DIGITAL_PRINT","FLEXO_PRINT","ROTOGRAVURE"],CONFEZIONAMENTO:["DOYPACK","PLURI_PIU","MONO_PIU","CONFEZIONAMENTO_TRADIZIONALE","CONFEZIONAMENTO_POLVERI"]})[h]||[],[]),l=E.useCallback((h,m)=>{const y={DIGITAL_PRINT:"DIGI",FLEXO_PRINT:"FLEX",ROTOGRAVURE:"ROTO",DOYPACK:"DOYP",PLURI_PIU:"PLUR",MONO_PIU:"MONO",CONFEZIONAMENTO_TRADIZIONALE:"CONFTRAD",CONFEZIONAMENTO_POLVERI:"CONFPOL"}[h]||"MACH",w=m==="BUSTO_GAROLFO"?"BGF":"ZAN",b=Date.now().toString(36);return`${y}_${w}_${b}`},[]),u=E.useCallback((h,m)=>!(m<0||m>h),[]),c=E.useCallback((h,m)=>!h||h===0?0:Math.round(m*100/h),[]),f=E.useCallback((h,m)=>!h||h===0?0:!m||m===0?h:Math.round(h*(1-m/100)*100)/100,[]);return{calculateProductionMetrics:e,autoDetermineWorkCenter:n,autoDetermineDepartment:a,getValidMachineTypes:i,generateMachineId:l,validateQuantityCompleted:u,calculateCompletionRate:c,calculateTimeRemaining:f}},vu={PHASE:{STAMPA:{v_stampa:{min:0,message:"Printing speed must be greater than 0"},t_setup_stampa:{min:0,message:"Setup time cannot be negative"},costo_h_stampa:{min:0,message:"Hourly cost cannot be negative"}},CONFEZIONAMENTO:{v_conf:{min:0,message:"Packaging speed must be greater than 0"},t_setup_conf:{min:0,message:"Setup time cannot be negative"},costo_h_conf:{min:0,message:"Hourly cost cannot be negative"}}},MACHINE:{min_web_width:{min:0,message:"Minimum web width cannot be negative"},max_web_width:{min:0,message:"Maximum web width cannot be negative"},min_bag_height:{min:0,message:"Minimum bag height cannot be negative"},max_bag_height:{min:0,message:"Maximum bag height cannot be negative"},standard_speed:{min:0,message:"Standard speed cannot be negative"},setup_time_standard:{min:0,message:"Setup time cannot be negative"},changeover_color:{min:0,message:"Color changeover time cannot be negative"},changeover_material:{min:0,message:"Material changeover time cannot be negative"}},ORDER:{bag_height:{min:0,message:"Bag height must be greater than 0"},bag_width:{min:0,message:"Bag width must be greater than 0"},bag_step:{min:0,message:"Bag step must be greater than 0"},quantity:{min:0,message:"Quantity must be greater than 0"},quantity_per_box:{min:0,message:"Quantity per box cannot be negative"},quantity_completed:{min:0,message:"Quantity completed cannot be negative"}}},q_=(e,n)=>{const a={};return n.forEach(i=>{if(!ph(e[i])){const l=i.replace(/_/g," ").replace(/\b\w/g,u=>u.toUpperCase());a[i]=`${l} is required`}}),a},mh=(e,n)=>{const a={};return Object.entries(n).forEach(([i,l])=>{e[i]!==void 0&&e[i]!==null&&e[i]!==""&&(console.log(`Validating field ${i}:`,{value:e[i],type:typeof e[i],rules:l}),K_(e[i],l.min,l.max)||(console.log(`Validation failed for ${i}:`,e[i]),a[i]=l.message))}),a},G_=(e,n,a="PHASE")=>{const i=vu[a]?.[n];return i?mh(e,i):{}},Y_=(e,n)=>{const a={};return n.forEach(i=>{const{condition:l,errorField:u,message:c}=i;l(e)&&(a[u]=c)}),a},bA=(e,n)=>{const a={};return n.required&&Object.assign(a,q_(e,n.required)),n.numeric&&Object.assign(a,mh(e,n.numeric)),n.department&&e.department&&Object.assign(a,G_(e,e.department,n.departmentSchema)),n.logical&&Object.assign(a,Y_(e,n.logical)),a},wA={PHASE:{required:["name","department","work_center"],numeric:{numero_persone:{min:1,message:"Number of people must be at least 1"}},departmentSchema:"PHASE",logical:[{condition:e=>e.bag_width&&e.bag_step&&parseFloat(e.bag_width)<parseFloat(e.bag_step),errorField:"bag_width",message:"Bag width cannot be less than bag step"}]},MACHINE:{required:["machine_name","machine_type","department","work_center"],numeric:vu.MACHINE,logical:[{condition:e=>e.min_web_width&&e.max_web_width&&parseFloat(e.min_web_width)>parseFloat(e.max_web_width),errorField:"min_web_width",message:"Minimum web width cannot exceed maximum web width"},{condition:e=>e.min_bag_height&&e.max_bag_height&&parseFloat(e.min_bag_height)>parseFloat(e.max_bag_height),errorField:"min_bag_height",message:"Minimum bag height cannot exceed maximum bag height"}]},ORDER:{required:["odp_number","article_code","production_lot","bag_height","bag_width","bag_step","product_type","quantity","delivery_date"],numeric:vu.ORDER,logical:[{condition:e=>e.bag_width&&e.bag_step&&parseFloat(e.bag_width)<parseFloat(e.bag_step),errorField:"bag_width",message:"Bag width cannot be less than bag step"},{condition:e=>e.quantity&&e.quantity_completed&&parseFloat(e.quantity_completed)>parseFloat(e.quantity),errorField:"quantity_completed",message:"Quantity completed cannot exceed total quantity"},{condition:e=>e.delivery_date&&e.scheduled_start_time&&new Date(e.scheduled_start_time)>new Date(e.delivery_date),errorField:"scheduled_start_time",message:"Production start cannot be after delivery date"}]},OFF_TIME:{required:["startDate","startTime","endDate","endTime"],logical:[{condition:e=>e.startDate&&e.endDate&&new Date(e.startDate)>new Date(e.endDate),errorField:"endDate",message:"End date cannot be before start date"},{condition:e=>e.startDate&&e.endDate&&e.startDate===e.endDate&&e.startTime&&e.endTime&&e.startTime>=e.endTime,errorField:"endTime",message:"End time must be after start time when dates are the same"}]}},ph=e=>typeof e=="string"?e.trim().length>0:Array.isArray(e)?e.length>0:typeof e=="object"&&e!==null?Object.keys(e).length>0:!!e,SA=e=>!e||typeof e!="string"?!1:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),xA=e=>!e||typeof e!="string"?!1:/^[+]?[1-9][\d]{0,15}$/.test(e.replace(/\s/g,"")),EA=e=>{if(!e)return!1;const n=new Date(e);return n instanceof Date&&!isNaN(n)},K_=(e,n=null,a=null)=>{const i=typeof e=="string"?parseFloat(e):e;return!(typeof i!="number"||isNaN(i)||n!==null&&i<n||a!==null&&i>a)},CA=(e,n=null,a=null)=>{const i=typeof e=="string"?parseInt(e,10):e;return!(!Number.isInteger(i)||n!==null&&i<n||a!==null&&i>a)},TA=e=>{if(!e||typeof e!="string")return!1;try{return new URL(e),!0}catch{return!1}},X_=(e,n)=>!e||!n?!1:typeof n=="string"?new RegExp(n).test(e):n instanceof RegExp?n.test(e):!1,W_=(e,n)=>!e||typeof e!="string"?!1:e.length>=n,Q_=(e,n)=>!e||typeof e!="string"?!1:e.length<=n,Z_=(e,n,a)=>typeof e!="number"||isNaN(e)?!1:e>=n&&e<=a,RA=e=>!e||typeof e!="string"?!1:/^[a-zA-Z0-9\s\-_]{2,100}$/.test(e.trim()),AA=e=>!e||typeof e!="string"?!1:/^[a-zA-Z0-9]{3,20}$/.test(e.trim()),OA=e=>!e||typeof e!="string"?!1:/^[a-zA-Z0-9-]{3,50}$/.test(e.trim()),DA=e=>["ZANICA","BUSTO_GAROLFO"].includes(e),NA=e=>["STAMPA","CONFEZIONAMENTO"].includes(e),jA=e=>["ACTIVE","INACTIVE","MAINTENANCE"].includes(e),MA=e=>["crema","liquido","polveri"].includes(e),kA=e=>["3","4"].includes(e),LA=(e,n)=>{const a={};return Object.keys(n).forEach(i=>{const l=e[i],u=n[i];if(u.required&&!ph(l))a[i]=u.required;else if(l&&u.pattern&&!X_(l,u.pattern))a[i]=u.pattern;else if(l&&u.minLength&&!W_(l,u.minLength))a[i]=u.minLength;else if(l&&u.maxLength&&!Q_(l,u.maxLength))a[i]=u.maxLength;else if(l&&u.min!==void 0&&!Z_(l,u.min,u.max||1/0))a[i]=u.min;else if(l&&u.custom){const c=u.custom(l,e);c&&(a[i]=c)}}),a},Mr={validateRequiredFields:q_,validateNumericFields:mh,validateDepartmentFields:G_,validateLogicalRelations:Y_,validateAll:bA,VALIDATION_CONFIGS:wA,VALIDATION_SCHEMAS:vu,isNotEmpty:ph,isValidEmail:SA,isValidPhone:xA,isValidDate:EA,isValidNumber:K_,isValidInteger:CA,isValidUrl:TA,matchesPattern:X_,hasMinLength:W_,hasMaxLength:Q_,isInRange:Z_,isValidMachineName:RA,isValidOdpNumber:AA,isValidArticleCode:OA,isValidWorkCenter:DA,isValidDepartment:NA,isValidMachineStatus:jA,isValidProductType:MA,isValidSealSides:kA,validateFormData:LA},UA=()=>{const e=E.useCallback(l=>{const u=Mr.validateAll(l,Mr.VALIDATION_CONFIGS.MACHINE);return Object.values(u)},[]),n=E.useCallback((l,u)=>{const c=[];return u.some(h=>h.scheduled_machine_id===l)&&c.push("Cannot delete machine with scheduled tasks. Please unschedule all tasks first."),c},[]),a=E.useCallback(l=>({name:l?.machine_name||"Unknown Machine",type:l?.machine_type||"Unknown Type",department:l?.department||"Unknown Department",workCenter:l?.work_center||"Unknown Work Center",status:l?.status||"UNKNOWN",isActive:l?.status==="ACTIVE"}),[]),i=E.useCallback((l,u)=>{if(l.status!=="ACTIVE")return!1;const c=l.active_shifts||[];if(c.length===0)return!1;const f=u.getHours();return c.some(m=>{switch(m){case"T1":return f>=6&&f<14;case"T2":return f>=14&&f<22;case"T3":return f>=22||f<6;default:return!1}})},[]);return{validateMachine:e,validateMachineDeletion:n,getMachineDisplayInfo:a,isMachineAvailable:i}},PA=()=>{const e=E.useCallback(l=>{const u=Mr.validateAll(l,Mr.VALIDATION_CONFIGS.ORDER);return Object.values(u)},[]),n=E.useCallback((l,u)=>{const c=[];if(!l)return c.push("Please select a production phase"),c;u.department&&l.department!==u.department&&c.push(`Selected phase is for ${l.department} department, but order is for ${u.department}`),u.work_center&&l.work_center!==u.work_center&&c.push(`Selected phase is for ${l.work_center} work center, but order is for ${u.work_center}`);const f=Mr.validateDepartmentFields(l,l.department,"PHASE");return Object.values(f).forEach(h=>c.push(h)),c},[]),a=E.useCallback((l,u,c,f)=>{const h=[];return l?u?!c||!f?(h.push("Start and end times are required"),h):(u.status!=="ACTIVE"&&h.push(`Machine ${u.machine_name} is not active`),l.scheduled_machine_id&&l.scheduled_machine_id!==u.id&&h.push("Order is already scheduled on a different machine"),l.fase||h.push("Order must have a production phase selected"),(!l.quantity||l.quantity<=0)&&h.push("Order must have a valid quantity"),(!l.duration||l.duration<=0)&&h.push("Order must have calculated duration"),h):(h.push("Machine is required"),h):(h.push("Order is required"),h)},[]),i=E.useCallback(l=>{const u=[];return l?(l.quantity_completed>0&&u.push("Cannot delete order that has started production"),l.scheduled_machine_id&&u.push("Cannot delete scheduled order. Please unschedule first."),u):(u.push("Order is required"),u)},[]);return{validateOrder:e,validatePhaseSelection:n,validateOrderScheduling:a,validateOrderDeletion:i}},$A=()=>({validatePhase:a=>{const i=Mr.validateAll(a,Mr.VALIDATION_CONFIGS.PHASE);return Object.values(i)},validateForm:a=>Mr.validateAll(a,Mr.VALIDATION_CONFIGS.PHASE)});function zA(){const e=Se(b=>b.selectedWorkCenter),n={department:ft.MACHINE.DEPARTMENT,machine_type:"",machine_name:"",work_center:e===Le.BOTH?"":e||ft.MACHINE.WORK_CENTER,min_web_width:ft.MACHINE.MIN_WEB_WIDTH,max_web_width:ft.MACHINE.MAX_WEB_WIDTH,min_bag_height:ft.MACHINE.MIN_BAG_HEIGHT,max_bag_height:ft.MACHINE.MAX_BAG_HEIGHT,standard_speed:"",setup_time_standard:ft.MACHINE.SETUP_TIME_STANDARD,changeover_color:ft.MACHINE.CHANGEOVER_COLOR,changeover_material:ft.MACHINE.CHANGEOVER_MATERIAL,active_shifts:ft.MACHINE.ACTIVE_SHIFTS,status:ft.MACHINE.STATUS},{getValidMachineTypes:a}=I_(),i=Se(b=>b.addMachine),{register:l,handleSubmit:u,formState:{errors:c,isSubmitting:f},watch:h,setValue:m,getValues:v}=ju({defaultValues:n}),y=h("department");E.useEffect(()=>{a(y).includes(v("machine_type"))||m("machine_type","")},[y,a,v,m]);const w=b=>{const{value:S,checked:C}=b.target,R=v("active_shifts")||[];C?m("active_shifts",[...R,S]):m("active_shifts",R.filter(D=>D!==S))};return p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Add Machine"}),p.jsxs("form",{onSubmit:u(i),children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"🏷️ Identificazione"}),p.jsxs("div",{className:"form-grid form-grid--4-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"department",children:"Department *"}),p.jsxs("select",{id:"department",...l("department"),className:c.department?"error":"",children:[p.jsx("option",{value:Ot.PRINTING,children:Ot.PRINTING}),p.jsx("option",{value:Ot.PACKAGING,children:Ot.PACKAGING})]}),c.department&&p.jsx("span",{className:"error-message",children:c.department.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"machine_type",children:"Machine Type *"}),p.jsxs("select",{id:"machine_type",...l("machine_type"),className:c.machine_type?"error":"",children:[p.jsx("option",{value:"",children:"Select machine type"}),a(y).map(b=>p.jsx("option",{value:b,children:b},b))]}),c.machine_type&&p.jsx("span",{className:"error-message",children:c.machine_type.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"machine_name",children:"Machine Name *"}),p.jsx("input",{type:"text",id:"machine_name",...l("machine_name"),placeholder:"Descriptive name",className:c.machine_name?"error":""}),c.machine_name&&p.jsx("span",{className:"error-message",children:c.machine_name.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"work_center",children:"Work Center *"}),e===Le.BOTH?p.jsxs("select",{...l("work_center",{required:"Work center is required"}),id:"work_center",className:c.work_center?"error":"",children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Le.ZANICA,children:Le.ZANICA}),p.jsx("option",{value:Le.BUSTO_GAROLFO,children:Le.BUSTO_GAROLFO})]}):p.jsx("input",{type:"text",id:"work_center",value:e||"No work center selected",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),e===Le.BOTH?c.work_center&&p.jsx("span",{className:"error-message",children:c.work_center.message}):p.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Work center is set based on your login selection"})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"🔧 Capacità Tecniche"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"min_web_width",children:"Min Web Width (mm)"}),p.jsx("input",{type:"number",id:"min_web_width",...l("min_web_width"),min:"0",step:"1",className:c.min_web_width?"error":""}),c.min_web_width&&p.jsx("span",{className:"error-message",children:c.min_web_width.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"max_web_width",children:"Max Web Width (mm) *"}),p.jsx("input",{type:"number",id:"max_web_width",...l("max_web_width"),min:"0",step:"1",className:c.max_web_width?"error":""}),c.max_web_width&&p.jsx("span",{className:"error-message",children:c.max_web_width.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"min_bag_height",children:"Min Bag Height (mm)"}),p.jsx("input",{type:"number",id:"min_bag_height",...l("min_bag_height"),min:"0",step:"1",className:c.min_bag_height?"error":""}),c.min_bag_height&&p.jsx("span",{className:"error-message",children:c.min_bag_height.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"max_bag_height",children:"Max Bag Height (mm) *"}),p.jsx("input",{type:"number",id:"max_bag_height",...l("max_bag_height"),min:"0",step:"1",className:c.max_bag_height?"error":""}),c.max_bag_height&&p.jsx("span",{className:"error-message",children:c.max_bag_height.message})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"⚡ Performance"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"standard_speed",children:"Standard Speed"}),p.jsx("input",{type:"number",id:"standard_speed",...l("standard_speed"),placeholder:"pz/h or mt/h",min:"0",step:"1",className:c.standard_speed?"error":""}),c.standard_speed&&p.jsx("span",{className:"error-message",children:c.standard_speed.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"setup_time_standard",children:"Setup Time Standard (h)"}),p.jsx("input",{type:"number",id:"setup_time_standard",...l("setup_time_standard"),min:"0",step:"0.1",className:c.setup_time_standard?"error":""}),c.setup_time_standard&&p.jsx("span",{className:"error-message",children:c.setup_time_standard.message})]}),y===Ot.PRINTING&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"changeover_color",children:"Changeover Color (h)"}),p.jsx("input",{type:"number",id:"changeover_color",...l("changeover_color"),min:"0",step:"0.1",className:c.changeover_color?"error":""}),c.changeover_color&&p.jsx("span",{className:"error-message",children:c.changeover_color.message})]}),y===Ot.PACKAGING&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"changeover_material",children:"Material Changeover (h)"}),p.jsx("input",{type:"number",id:"changeover_material",...l("changeover_material"),min:"0",step:"0.1",className:c.changeover_material?"error":""}),c.changeover_material&&p.jsx("span",{className:"error-message",children:c.changeover_material.message})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"📅 Disponibilità"}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Active Shifts"}),p.jsxs("div",{className:"checkbox-group",children:[p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",value:lr.T1,checked:v("active_shifts")?.includes(lr.T1),onChange:w})," ",lr.T1]}),p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",value:lr.T2,checked:v("active_shifts")?.includes(lr.T2),onChange:w})," ",lr.T2]}),p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",value:lr.T3,checked:v("active_shifts")?.includes(lr.T3),onChange:w})," ",lr.T3]})]})]})]}),p.jsx("div",{className:"form-actions",style:{marginTop:"20px"},children:p.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Adding Machine...":"Add Machine"})})]})]})}function Ie({row:e,column:n,table:a,value:i,isEditing:l,onChange:u,type:c="auto",options:f=[],parseValue:h=null,min:m=null,max:v=null,step:y=null}){const w=l??a?.options?.meta?.editingRowId===e?.id,b=i??e?.original?.[n?.id],S=c==="auto"?R(n?.id):c,C=T=>{const M=T.target.value;let k=M;h?k=h(M):S==="number"?k=parseFloat(M)||0:S==="integer"&&(k=parseInt(M)||0),a?.options?.meta?.setEditedData?a.options.meta.setEditedData(V=>({...V,[n?.id]:k})):u&&u(T)};function R(T){if(!T)return"text";if(T==="status")return"select";if(["quantity","quantity_completed","quantity_per_box","numero_persone","bag_height","bag_width","bag_step","min_web_width","max_web_width","min_bag_height","max_bag_height"].includes(T))return"integer";const k=["setup_time_standard","changeover_color","changeover_material","t_setup_stampa","t_setup_conf"],V=["costo_h_stampa","costo_h_conf"],P=["standard_speed","v_stampa","v_conf"];return k.includes(T)||V.includes(T)||P.includes(T)?"number":"text"}function D(T){return T==="status"?[{value:Un.ACTIVE,label:Un.ACTIVE},{value:Un.INACTIVE,label:Un.INACTIVE},{value:Un.MAINTENANCE,label:Un.MAINTENANCE}]:T==="department"?[{value:Ot.PRINTING,label:Ot.PRINTING},{value:Ot.PACKAGING,label:Ot.PACKAGING}]:T==="work_center"?[{value:Le.ZANICA,label:Le.ZANICA},{value:Le.BUSTO_GAROLFO,label:Le.BUSTO_GAROLFO}]:T==="product_type"?[{value:Gi.CREMA,label:"Crema"},{value:Gi.LIQUIDO,label:"Liquido"},{value:Gi.POLVERI,label:"Polveri"}]:T==="seal_sides"?[{value:Sl.THREE,label:"3 sides"},{value:Sl.FOUR,label:"4 sides"}]:f}if(w)switch(S){case"select":{const T=D(n?.id);return p.jsx("select",{defaultValue:b,onChange:C,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"},children:T.map(M=>p.jsx("option",{value:M.value,children:M.label},M.value))})}case"number":{const T=nl.DECIMAL_PRECISION.TWO_DECIMAL.includes(n?.id)?nl.FIELD_STEPS.COST:(nl.DECIMAL_PRECISION.ONE_DECIMAL.includes(n?.id),nl.FIELD_STEPS.TIME);return p.jsx("input",{type:"number",defaultValue:b,onChange:C,min:m,max:v,step:y||T,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}})}case"integer":return p.jsx("input",{type:"number",defaultValue:b,onChange:C,min:m||0,max:v,step:1,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}});default:return p.jsx("input",{type:"text",defaultValue:b,onChange:C,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}})}const L=b??"";return S==="number"||S==="integer"?p.jsx("span",{children:L}):p.jsx("span",{children:L})}function FA(){const e=Se(S=>S.machines),n=Se(S=>S.selectedWorkCenter),a=Se(S=>S.isLoading),i=Se(S=>S.isInitialized),l=Se(S=>S.init),u=Se(S=>S.updateMachine),c=Se(S=>S.removeMachine),f=Se(S=>S.showAlert),h=Se(S=>S.showConfirmDialog),m=E.useMemo(()=>n?n===Le.BOTH?e:e.filter(S=>S.work_center===n):[],[e,n]),{validateMachine:v}=UA();E.useEffect(()=>{i||l()},[l,i]);const y=E.useMemo(()=>[{header:"Machine ID",accessorKey:"id"},{header:"Machine Type",accessorKey:"machine_type"},{header:"Machine Name",accessorKey:"machine_name",cell:Ie},{header:"Work Center",accessorKey:"work_center"},{header:"Department",accessorKey:"department"},{header:"Status",accessorKey:"status",cell:Ie},{header:"Min Web (mm)",accessorKey:"min_web_width",cell:Ie},{header:"Max Web (mm)",accessorKey:"max_web_width",cell:Ie},{header:"Min Bag (mm)",accessorKey:"min_bag_height",cell:Ie},{header:"Max Bag (mm)",accessorKey:"max_bag_height",cell:Ie},{header:"Std Speed",accessorKey:"standard_speed",cell:Ie},{header:"Setup (h)",accessorKey:"setup_time_standard",cell:Ie},{header:"Color Change (h)",accessorKey:"changeover_color",cell:Ie},{header:"Material Change (h)",accessorKey:"changeover_material",cell:Ie},{header:"Active Shifts",accessorKey:"active_shifts",cell:S=>Array.isArray(S.getValue())?S.getValue().join(", "):""},{header:"Created At",accessorKey:"created_at",cell:S=>new Date(S.getValue()).toLocaleDateString()},{header:"Updated At",accessorKey:"updated_at",cell:S=>new Date(S.getValue()).toLocaleDateString()},{header:"Calendar",accessorKey:"id",cell:S=>p.jsx(Pn,{to:`/machinery/${S.getValue()}/calendar`,className:"btn btn-primary btn-sm",children:"View Calendar"})}],[]),w=async S=>{const C=v(S);if(C.length>0){f(`Validation errors:
${C.join(`
`)}`,"error");return}try{await u(S.id,S)}catch(R){console.error("Failed to update machine:",R)}},b=async S=>{h("Delete Machine",`Are you sure you want to delete "${S.machine_name}"? This action cannot be undone.`,async()=>{try{await c(S.id)}catch(C){console.error("Failed to delete machine:",C)}},"danger")};return a?p.jsx("div",{children:"Loading machinery data..."}):n?p.jsxs(p.Fragment,{children:[p.jsx(zA,{}),p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Machinery Catalog"}),p.jsx(uh,{columns:y,data:m,onSaveRow:w,onDeleteRow:b})]})]}):p.jsx("div",{className:"error",children:"Please select a work center to view machinery data."})}function HA({currentDate:e,currentView:n,onDateChange:a,onViewChange:i}){const l=()=>{a(new Date)},u=()=>{let h;n==="Month"?(h=new Date(e),h.setMonth(h.getMonth()-1)):n==="Week"?h=El(e,-7):n==="Year"&&(h=new Date(e),h.setFullYear(h.getFullYear()-1)),a(h)},c=()=>{let h;n==="Month"?(h=new Date(e),h.setMonth(h.getMonth()+1)):n==="Week"?h=El(e,7):n==="Year"&&(h=new Date(e),h.setFullYear(h.getFullYear()+1)),a(h)},f=()=>{if(n==="Month")return e.toLocaleDateString("en-US",{month:"long",year:"numeric"});if(n==="Week"){const h=T_(e),m=R_(e);return`${h.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${m.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}else if(n==="Year")return e.getFullYear().toString();return""};return p.jsxs("div",{className:"calendar-controls-container",children:[p.jsxs("div",{className:"calendar-navigation",children:[p.jsx("button",{className:"btn btn-secondary",onClick:u,"aria-label":"Previous",children:"← Previous"}),p.jsx("button",{className:"btn btn-primary",onClick:l,children:"Today"}),p.jsx("button",{className:"btn btn-secondary",onClick:c,"aria-label":"Next",children:"Next →"})]}),p.jsxs("div",{className:"calendar-view-selector",children:[p.jsx("h3",{children:f()}),p.jsxs("select",{value:n,onChange:h=>i(h.target.value),className:"form-select",children:[p.jsx("option",{value:"Month",children:"Month"}),p.jsx("option",{value:"Week",children:"Week"}),p.jsx("option",{value:"Year",children:"Year"})]})]})]})}function VA({machineId:e,currentDate:n,onSuccess:a}){const[i,l]=E.useState({}),u=Se(P=>P.setMachineUnavailability),c=Se(P=>P.showAlert),f=P=>{const X={};if(P.startDate&&P.endDate){const ne=new Date(P.startDate);new Date(P.endDate)<ne&&(X.endDate=Xv.END_DATE_BEFORE_START),P.startDate===P.endDate&&P.startTime&&P.endTime&&P.startTime>=P.endTime&&(X.endTime=Xv.END_TIME_BEFORE_START)}return X},h=async P=>{l({}),D(["startDate","startTime","endDate","endTime"]);const X=f(P);if(Object.keys(X).length>0){l(X),Object.entries(X).forEach(([ne,ue])=>{R(ne,{type:"validation",message:ue})}),c("Please fix the validation errors before submitting.","warning");return}try{await u(e,P.startDate,P.endDate,P.startTime,P.endTime),c("Machine unavailability set successfully!","success"),a&&a(),C()}catch(ne){throw c(`Failed to set machine unavailability: ${ne.message}`,"error"),ne}},{register:m,handleSubmit:v,formState:{errors:y,isSubmitting:w},setValue:b,watch:S,reset:C,setError:R,clearErrors:D}=ju({defaultValues:{startDate:"",startTime:"",endDate:"",endTime:""}}),L=S("startDate"),T=S("endDate"),M=S("startTime"),k=S("endTime");E.useEffect(()=>{const P=new Date,X=El(P,1);b("startDate",Wt(P)),b("endDate",Wt(X)),b("startTime",ft.OFF_TIME.START_TIME),b("endTime",ft.OFF_TIME.END_TIME)},[n]),E.useEffect(()=>{L&&T&&M&&k&&(D(["startDate","startTime","endDate","endTime"]),l({}))},[L,T,M,k]);const V=P=>{const X=y[P]||i[P];return X?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:X.message||X}):null};return p.jsxs("div",{className:"off-time-section",children:[p.jsx("h3",{children:"Set Off-Time Period"}),p.jsxs("form",{onSubmit:v(h),className:"off-time-form",children:[p.jsxs("div",{className:"form-grid form-grid--4-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"startDate",children:"Start Date"}),p.jsx("input",{type:"date",id:"startDate",...m("startDate"),className:`date-input ${y.startDate||i.startDate?"error":""}`}),V("startDate")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"startTime",children:"Start Time"}),p.jsx("input",{type:"time",id:"startTime",...m("startTime"),className:`time-input ${y.startTime||i.startTime?"error":""}`}),V("startTime")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"endDate",children:"End Date"}),p.jsx("input",{type:"date",id:"endDate",...m("endDate"),className:`date-input ${y.endDate||i.endDate?"error":""}`}),V("endDate")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"endTime",children:"End Time"}),p.jsx("input",{type:"time",id:"endTime",...m("endTime"),className:`time-input ${y.endTime||i.endTime?"error":""}`}),V("endTime")]})]}),p.jsx("div",{className:"form-actions",children:p.jsx("button",{type:"submit",className:"set-off-time-btn",disabled:w,children:w?"Setting...":"Set Off-Time"})})]})]})}function BA({machineId:e,currentDate:n,currentView:a,refreshTrigger:i}){const[l,u]=E.useState({}),[c,f]=E.useState(!1),h=Se(M=>M.machines),m=Se(M=>M.odpOrders),v=Se(M=>M.getMachineAvailability),y=Se(M=>M.loadMachineAvailabilityForDateRange),w=Se(M=>M.toggleMachineHourAvailability),b=Se(M=>M.showAlert),S=h.find(M=>M.id===e);E.useEffect(()=>{(async()=>{if(e){console.log(`CalendarGrid: loadData called with currentView: ${a}, currentDate: ${n}`),f(!0);try{if(a==="Month"){const k=n.getFullYear(),V=n.getMonth(),P=new Date(k,V,1),X=new Date(k,V+1,0),ne=Wt(P),ue=Wt(X);console.log(`CalendarGrid: Loading month data for ${k}-${V+1}`,{firstDay:P,lastDay:X,firstDayStr:ne,lastDayStr:ue});const le=await y(e,ne,ue);if(console.log("CalendarGrid: Month data received:",le),le&&Array.isArray(le)){const ee={};le.forEach(de=>{if(de.date&&de.unavailable_hours){const xe=new Date(de.date),_e=Wt(xe);ee[_e]=de.unavailable_hours,console.log(`CalendarGrid: Organized data for ${_e}:`,de.unavailable_hours)}}),console.log("CalendarGrid: Final organized data:",ee),u(ee)}}else if(a==="Week"){const k=T_(n),V=R_(n),P=Wt(k),X=Wt(V);console.log(`CalendarGrid: Loading week data from ${P} to ${X}`);const ne=await y(e,P,X);if(console.log("CalendarGrid: Week data received:",ne),ne&&Array.isArray(ne)){const ue={};ne.forEach(le=>{if(le.date&&le.unavailable_hours){const ee=new Date(le.date),de=Wt(ee);ue[de]=le.unavailable_hours,console.log(`CalendarGrid: Organized week data for ${de}:`,le.unavailable_hours)}}),console.log("CalendarGrid: Final organized week data:",ue),u(ue)}}else{const k=Wt(n),V=await v(e,k);V&&Array.isArray(V)&&u(P=>({...P,[k]:V}))}}catch(k){console.error("Error loading availability data:",k)}finally{f(!1)}}})()},[e,n,a,i,v,y]);const C=(M,k)=>{if(!S)return!1;const V=m.filter(P=>P.status==="SCHEDULED"&&P.scheduled_machine_id===S.id);return k<3&&V.length>0&&(console.log(`CalendarGrid: Checking scheduled tasks for ${M} hour ${k}`),console.log(`CalendarGrid: Found ${V.length} scheduled tasks`),V.forEach(P=>{console.log(`CalendarGrid: Task ${P.odp_number}: ${P.scheduled_start_time} to ${P.scheduled_end_time}`)})),V.some(P=>XT(P,M,k))},R=async(M,k)=>{if(C(M,k)){b("Cannot mark time slot as unavailable - it has scheduled tasks","error");return}try{if(!S){console.error("Machine not found:",e);return}console.log(`Toggling hour ${k} for ${M} on machine ${S.id}`),await w(S.id,M,k),u(V=>{const P={...V};P[M]||(P[M]=[]);const X=[...P[M]],ne=k.toString();return X.includes(ne)?(P[M]=X.filter(ue=>ue!==ne),console.log(`Removed hour ${ne}, new array:`,P[M])):(P[M]=[...X,ne].sort((ue,le)=>parseInt(ue)-parseInt(le)),console.log(`Added hour ${ne}, new array:`,P[M])),P})}catch(V){console.error("Error toggling time slot:",V)}},D=()=>{const M=n.getFullYear(),k=n.getMonth(),V=new Date(M,k,1),P=new Date(M,k+1,0),X=new Date(V);X.setDate(X.getDate()-V.getDay());const ne=[],ue=new Date(X);for(;ue<=P||ne.length<42;)ne.push(new Date(ue)),ue.setDate(ue.getDate()+1);const le=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return p.jsxs("div",{className:"calendar-month-grid",children:[p.jsx("div",{className:"calendar-week-header",children:le.map(ee=>p.jsx("div",{className:"week-day-header",children:ee},ee))}),p.jsx("div",{className:"calendar-days-grid",children:ne.map((ee,de)=>{const xe=Wt(ee),_e=l[xe]||[],B=ee.getMonth()===k,J=ee.toDateString()===new Date().toDateString(),fe=Array.from({length:24},(N,Y)=>Y).some(N=>C(xe,N));let we="calendar-day";return B||(we+=" other-month"),J&&(we+=" today"),_e.length>0&&(we+=_e.length===24?" unavailable":" partially-unavailable"),fe&&(we+=" has-scheduled-tasks"),p.jsxs("div",{className:we,children:[p.jsx("span",{className:"day-number",children:ee.getDate()}),_e.length>0&&p.jsx("div",{className:"availability-indicator",children:_e.length===24?"All Day":`${_e.length}h`}),fe&&p.jsx("div",{className:"scheduled-tasks-indicator",children:"📋"})]},de)})})]})},L=()=>{const M=new Date(n);M.setDate(n.getDate()-n.getDay());const k=[];for(let P=0;P<7;P++){const X=new Date(M);X.setDate(M.getDate()+P),k.push(X)}const V=Array.from({length:24},(P,X)=>X);return p.jsxs("div",{className:"calendar-week-grid",children:[p.jsxs("div",{className:"time-column-header",children:[p.jsx("div",{className:"time-header-cell",children:"Time"}),k.map(P=>p.jsx("div",{className:"day-header-cell",children:P.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},P.toISOString()))]}),V.map(P=>p.jsxs("div",{className:"time-row",children:[p.jsxs("div",{className:"time-label",children:[P.toString().padStart(2,"0"),":00"]}),k.map(X=>{const ne=Wt(X),ue=l[ne]||[],le=P.toString(),ee=ue.includes(le),de=C(ne,P);P<3&&k.indexOf(X)<3&&console.log(`CalendarGrid: Day ${X.toDateString()} -> dateStr: ${ne}, hour: ${P}, hasScheduled: ${de}`);let xe="time-slot";return ee&&(xe+=" unavailable"),de&&(xe+=" has-scheduled-task"),p.jsx("div",{className:xe,onClick:()=>R(ne,P),children:p.jsx("div",{className:"time-slot-content",children:ee?"❌":de?"📋":"✓"})},`${ne}-${P}`)})]},P))]})},T=()=>{const M=n.getFullYear(),k=Array.from({length:12},(V,P)=>P);return p.jsx("div",{className:"calendar-year-grid",children:k.map(V=>{const X=new Date(M,V,1).toLocaleDateString("en-US",{month:"short"}),ne=new Date(M,V+1,0).getDate(),ue=new Date(M,V,1).getDay(),le=[];for(let ee=0;ee<ue;ee++)le.push(null);for(let ee=1;ee<=ne;ee++)le.push(ee);return p.jsxs("div",{className:"month-mini-calendar",children:[p.jsx("h4",{children:X}),p.jsxs("div",{className:"mini-month-grid",children:[["S","M","T","W","T","F","S"].map(ee=>p.jsx("div",{className:"mini-day-header",children:ee},ee)),le.map((ee,de)=>{if(ee===null)return p.jsx("div",{className:"mini-day empty"},de);const xe=Wt(new Date(M,V,ee)),_e=l[xe]||[],B=_e.length>0;return p.jsx("div",{className:`mini-day ${B?"unavailable":""}`,title:B?`${_e.length} unavailable hours`:"Available",children:ee},de)})]})]},V)})})};return c?p.jsx("div",{className:"loading",children:"Loading calendar data..."}):p.jsxs("div",{className:"calendar-grid-container",children:[a==="Month"&&D(),a==="Week"&&L(),a==="Year"&&T()]})}function IA(){const{machineId:e}=mS(),[n,a]=E.useState(new Date),[i,l]=E.useState("Month"),[u,c]=E.useState(0),f=Se(S=>S.machines.find(C=>C.id===e)),h=Se(S=>S.isLoading),m=Se(S=>S.isInitialized),v=Se(S=>S.init);if(E.useEffect(()=>{m||v()},[v,m]),h||!m)return p.jsx("div",{className:"loading",children:"Loading machine calendar..."});if(!f)return p.jsx("div",{className:"error",children:"Machine not found"});const y=S=>{a(S)},w=S=>{l(S)},b=()=>{c(S=>S+1)};return p.jsx("div",{className:"page-container",children:p.jsxs("div",{className:"content-section",children:[p.jsxs("div",{className:"calendar-header",children:[p.jsx("h1",{children:"Machine Availability Calendar"}),p.jsx("h2",{children:f.machine_name})]}),p.jsx(HA,{currentDate:n,currentView:i,onDateChange:y,onViewChange:w}),p.jsx(VA,{machineId:f.id,currentDate:n,onSuccess:b}),p.jsx(BA,{machineId:f.id,currentDate:n,currentView:i,refreshTrigger:u})]})})}function qA(){const e=Se(y=>y.selectedWorkCenter),n={name:"",department:ft.PHASE.DEPARTMENT,numero_persone:ft.PHASE.NUMERO_PERSONE,work_center:e===Le.BOTH?"":e||ft.PHASE.WORK_CENTER,v_stampa:ft.PHASE.V_STAMPA,t_setup_stampa:ft.PHASE.T_SETUP_STAMPA,costo_h_stampa:ft.PHASE.COSTO_H_STAMPA,v_conf:ft.PHASE.V_CONF,t_setup_conf:ft.PHASE.T_SETUP_CONF,costo_h_conf:ft.PHASE.COSTO_H_CONF,contenuto_fase:""},a=Se(y=>y.addPhase),{register:i,handleSubmit:l,formState:{errors:u,isSubmitting:c},watch:f,setValue:h}=ju({defaultValues:n}),m=f("department");E.useEffect(()=>{m===Ot.PRINTING&&(h("v_conf",0),h("t_setup_conf",0),h("costo_h_conf",0))},[m,h]);const v=y=>u[y]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:u[y].message}):null;return p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Production Phases"}),p.jsxs("form",{onSubmit:l(a),children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"➕ Add New Phase"}),p.jsxs("div",{className:"form-grid form-grid--4-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"name",children:"Phase Name *"}),p.jsx("input",{type:"text",id:"name",...i("name"),placeholder:"e.g., High-Speed Printing",className:u.name?"error":""}),v("name")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"department",children:"Phase Type *"}),p.jsxs("select",{id:"department",...i("department"),className:u.department?"error":"",children:[p.jsx("option",{value:Ot.PRINTING,children:Ot.PRINTING}),p.jsx("option",{value:Ot.PACKAGING,children:Ot.PACKAGING})]}),v("department")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"numero_persone",children:"Number of People Required *"}),p.jsx("input",{type:"number",id:"numero_persone",...i("numero_persone"),min:"1",step:"1",className:u.numero_persone?"error":""}),v("numero_persone")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"work_center",children:"Work Center *"}),e===Le.BOTH?p.jsxs("select",{...i("work_center",{required:"Work center is required"}),id:"work_center",className:u.work_center?"error":"",children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Le.ZANICA,children:Le.ZANICA}),p.jsx("option",{value:Le.BUSTO_GAROLFO,children:Le.BUSTO_GAROLFO})]}):p.jsx("input",{type:"text",id:"work_center",value:e||"No work center selected",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),e===Le.BOTH?u.work_center&&p.jsx("span",{className:"error-message",children:u.work_center.message}):p.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Work center is set based on your login selection"})]})]})]}),m===Ot.PRINTING&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"🖨️ Printing Parameters"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_stampa",children:"Printing Speed (mt/h) *"}),p.jsx("input",{type:"number",id:"v_stampa",...i("v_stampa"),min:"0",step:"1",className:u.v_stampa?"error":""}),v("v_stampa")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_stampa",children:"Setup Time (hours)"}),p.jsx("input",{type:"number",id:"t_setup_stampa",...i("t_setup_stampa"),min:"0",step:"0.1",className:u.t_setup_stampa?"error":""}),v("t_setup_stampa")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_stampa",children:"Hourly Cost (€/h)"}),p.jsx("input",{type:"number",id:"costo_h_stampa",...i("costo_h_stampa"),min:"0",step:"0.01",className:u.costo_h_stampa?"error":""}),v("costo_h_stampa")]})]})]}),m===Ot.PACKAGING&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"📦 Packaging Parameters"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_conf",children:"Packaging Speed (pz/h) *"}),p.jsx("input",{type:"number",id:"v_conf",...i("v_conf"),min:"0",step:"1",className:u.v_conf?"error":""}),v("v_conf")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_conf",children:"Setup Time (hours)"}),p.jsx("input",{type:"number",id:"t_setup_conf",...i("t_setup_conf"),min:"0",step:"0.1",className:u.t_setup_conf?"error":""}),v("t_setup_conf")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_conf",children:"Hourly Cost (€/h)"}),p.jsx("input",{type:"number",id:"costo_h_conf",...i("costo_h_conf"),min:"0",step:"0.01",className:u.costo_h_conf?"error":""}),v("costo_h_conf")]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"contenuto_fase",children:"Phase Content Description"}),p.jsx("textarea",{id:"contenuto_fase",...i("contenuto_fase"),rows:"3",placeholder:"Describe the phase content and requirements..."})]})]}),p.jsx("div",{className:"form-actions",style:{marginTop:"20px"},children:p.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?"Adding Phase...":"Add Phase"})})]})]})}function GA(){const[e,n]=E.useState(null),a=Se(R=>R.phases),i=Se(R=>R.selectedWorkCenter),l=Se(R=>R.isLoading),u=Se(R=>R.isInitialized),c=Se(R=>R.init),f=Se(R=>R.updatePhase),h=Se(R=>R.removePhase),m=Se(R=>R.showAlert),v=Se(R=>R.showConfirmDialog),y=E.useMemo(()=>i?i===Le.BOTH?a:a.filter(R=>R.work_center===i):[],[a,i]),{validatePhase:w}=$A();E.useEffect(()=>{u||c().catch(R=>{n("Failed to load phases data"),console.error("Error loading phases:",R)})},[c,u]);const b=E.useMemo(()=>[{header:"ID",accessorKey:"id"},{header:"Phase Name",accessorKey:"name",cell:Ie},{header:"Department",accessorKey:"department",cell:Ie},{header:"Work Center",accessorKey:"work_center",cell:Ie},{header:"Print Speed (mt/h)",accessorKey:"v_stampa",cell:Ie},{header:"Print Setup (h)",accessorKey:"t_setup_stampa",cell:Ie},{header:"Print Cost (€/h)",accessorKey:"costo_h_stampa",cell:Ie},{header:"Package Speed (pz/h)",accessorKey:"v_conf",cell:Ie},{header:"Package Setup (h)",accessorKey:"t_setup_conf",cell:Ie},{header:"Package Cost (€/h)",accessorKey:"costo_h_conf",cell:Ie},{header:"# People",accessorKey:"numero_persone",cell:Ie},{header:"Created At",accessorKey:"created_at",cell:R=>new Date(R.getValue()).toLocaleDateString()}],[]),S=async R=>{try{const D=w(R);if(D.length>0){m(`Validation errors:
${D.join(`
`)}`,"error");return}await f(R.id,R)}catch(D){console.error("Error updating phase:",D)}},C=async R=>{v("Delete Phase",`Are you sure you want to delete "${R.name}"? This action cannot be undone.`,async()=>{try{await h(R.id)}catch(D){console.error("Error deleting phase:",D)}},"danger")};return l?p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"loading",children:"Loading phases data..."})}):i?e?p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"error-message",style:{color:"red",textAlign:"center",padding:"20px"},children:e})}):p.jsxs(p.Fragment,{children:[p.jsx(qA,{}),p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Production Phases"}),p.jsx(uh,{columns:b,data:y,onSaveRow:S,onDeleteRow:C})]})]}):p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"error",children:"Please select a work center to view phases data."})})}function YA({onSuccess:e}){const n=Se(G=>G.selectedWorkCenter),a={odp_number:"",article_code:"",production_lot:"",work_center:n===Le.BOTH?"":n||"",nome_cliente:"",description:"",delivery_date:"",bag_height:"",bag_width:"",bag_step:"",seal_sides:ft.ORDER.SEAL_SIDES,product_type:"",quantity:"",quantity_per_box:"",quantity_completed:ft.ORDER.QUANTITY_COMPLETED,internal_customer_code:"",external_customer_code:"",customer_order_ref:"",department:"",fase:""},[i,l]=E.useState(null),[u,c]=E.useState({}),[f,h]=E.useState(null),[m,v]=E.useState([]),[y,w]=E.useState(""),[b,S]=E.useState(!1),{calculateProductionMetrics:C,autoDetermineWorkCenter:R,autoDetermineDepartment:D}=I_(),L=Se(G=>G.phases),T=Se(G=>G.addOdpOrder),M=Se(G=>G.showAlert),k=async G=>{if(console.log("Form submit triggered"),console.log("Checking calculation results..."),!f){console.log("No calculation results available"),M("Please calculate production metrics before adding to the backlog.","warning");return}console.log("Submitting form with data:",{data:G,calculationResults:f});try{const Q={...G,duration:f.totals.duration,cost:f.totals.cost,status:"NOT SCHEDULED"};console.log("Calling addOdpOrder with:",Q),await T(Q),console.log("Order added successfully"),e&&e(),Object.keys(a).forEach(ce=>le(ce,a[ce])),w(""),l(null),c({}),h(null)}catch(Q){throw console.error("Error adding order:",Q),Q}},{register:V,handleSubmit:P,formState:{errors:X,isSubmitting:ne},watch:ue,setValue:le,getValues:ee,reset:de,clearErrors:xe}=ju({defaultValues:a}),_e=ue("article_code"),B=ue("department"),J=ue("work_center");E.useEffect(()=>{if(_e){const G=D(_e),Q=R(_e);le("department",G),n===Le.BOTH&&le("work_center",Q),le("fase",""),w(""),l(null),c({}),h(null)}},[_e,D,R,le,n]),E.useEffect(()=>{if(B||J){const Q=L.filter(ce=>(!B||ce.department===B)&&(!J||ce.work_center===J)).filter(ce=>ce.name.toLowerCase().includes(y.toLowerCase()));v(Q)}else v([])},[y,B,J,L]);const fe=(G,Q)=>{c(ce=>({...ce,[G]:Q}))},we=G=>{le("fase",G.id),l(G),w(G.name),S(!1),h(null),xe("phase"),c({v_stampa:G.v_stampa||"",t_setup_stampa:G.t_setup_stampa||"",costo_h_stampa:G.costo_h_stampa||"",v_conf:G.v_conf||"",t_setup_conf:G.t_setup_conf||"",costo_h_conf:G.costo_h_conf||""})},N=()=>{if(console.log("Calculate button clicked"),console.log("Selected phase:",i),console.log("Form data:",ee()),!i||!ee("quantity")||!ee("bag_step")){console.log("Validation failed:",{hasPhase:!!i,quantity:!!ee("quantity"),bagStep:!!ee("bag_step")}),M("Please select a phase and enter Quantity and Bag Step to calculate.","warning");return}const G={...i,...u};console.log("Phase for calculation:",G);const Q=C(G,ee("quantity"),ee("bag_step"));console.log("Calculation results:",Q),h(Q)},Y=G=>X[G]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:X[G].message}):null;return p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Create ODP"}),p.jsxs("form",{onSubmit:P(k),children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"🏷️ Identificazione"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"odp_number",children:"ODP Number *"}),p.jsx("input",{type:"text",id:"odp_number",...V("odp_number"),placeholder:"ODP Number",className:X.odp_number?"error":""}),Y("odp_number")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"article_code",children:"Article Code *"}),p.jsx("input",{type:"text",id:"article_code",...V("article_code"),placeholder:"Article Code",className:X.article_code?"error":""}),Y("article_code")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"production_lot",children:"External Article Code *"}),p.jsx("input",{type:"text",id:"production_lot",...V("production_lot"),placeholder:"External Article Code",className:X.production_lot?"error":""}),Y("production_lot")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"work_center",children:"Work Center"}),n===Le.BOTH?p.jsxs("select",{...V("work_center",{required:"Work center is required"}),id:"work_center",className:X.work_center?"error":"",children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Le.ZANICA,children:Le.ZANICA}),p.jsx("option",{value:Le.BUSTO_GAROLFO,children:Le.BUSTO_GAROLFO})]}):p.jsx("input",{type:"text",id:"work_center",value:n||"No work center selected",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),n===Le.BOTH?X.work_center&&p.jsx("span",{className:"error-message",children:X.work_center.message}):p.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Work center is set based on your login selection"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"nome_cliente",children:"Customer Name"}),p.jsx("input",{type:"text",id:"nome_cliente",...V("nome_cliente"),placeholder:"Customer Name"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"description",children:"Description"}),p.jsx("textarea",{id:"description",...V("description"),placeholder:"Description",rows:"2"})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"🔧 Specifiche Tecniche"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"bag_height",children:"Bag Height (mm) *"}),p.jsx("input",{type:"number",id:"bag_height",...V("bag_height"),placeholder:"Bag Height",min:"0",step:"1",className:X.bag_height?"error":""}),Y("bag_height")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"bag_width",children:"Bag Width (mm) *"}),p.jsx("input",{type:"number",id:"bag_width",...V("bag_width"),placeholder:"Bag Width",min:"0",step:"1",className:X.bag_width?"error":""}),Y("bag_width")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"bag_step",children:"Bag Step (mm) *"}),p.jsx("input",{type:"number",id:"bag_step",...V("bag_step"),placeholder:"Bag Step",min:"0",step:"1",className:X.bag_step?"error":""}),Y("bag_step")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"seal_sides",children:"Seal Sides"}),p.jsxs("select",{id:"seal_sides",...V("seal_sides"),children:[p.jsx("option",{value:Sl.THREE,children:"3 sides"}),p.jsx("option",{value:Sl.FOUR,children:"4 sides"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"product_type",children:"Product Type *"}),p.jsxs("select",{id:"product_type",...V("product_type"),className:X.product_type?"error":"",children:[p.jsx("option",{value:"",children:"Select product type"}),p.jsx("option",{value:Gi.CREMA,children:"Crema"}),p.jsx("option",{value:Gi.LIQUIDO,children:"Liquido"}),p.jsx("option",{value:Gi.POLVERI,children:"Polveri"})]}),Y("product_type")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity",children:"Quantity *"}),p.jsx("input",{type:"number",id:"quantity",...V("quantity"),placeholder:"Quantity",min:"0",step:"1",className:X.quantity?"error":""}),Y("quantity")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity_per_box",children:"Qty per Box"}),p.jsx("input",{type:"number",id:"quantity_per_box",...V("quantity_per_box"),placeholder:"Qty per Box",min:"0",step:"1"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity_completed",children:"Qty Completed"}),p.jsx("input",{type:"number",id:"quantity_completed",...V("quantity_completed"),placeholder:"Qty Completed",min:"0",step:"1",className:X.quantity_completed?"error":""}),Y("quantity_completed")]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"💰 Dati Commerciali"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"internal_customer_code",children:"FLEXI Lot"}),p.jsx("input",{type:"text",id:"internal_customer_code",...V("internal_customer_code"),placeholder:"FLEXI Lot"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"external_customer_code",children:"Customer Lot"}),p.jsx("input",{type:"text",id:"external_customer_code",...V("external_customer_code"),placeholder:"Customer Lot"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"customer_order_ref",children:"Customer Ref"}),p.jsx("input",{type:"text",id:"customer_order_ref",...V("customer_order_ref"),placeholder:"Customer Reference"})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"⚙️ Dati Lavorazione & Pianificazione"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"department",children:"Department"}),p.jsx("input",{type:"text",id:"department",...V("department"),placeholder:"Department",readOnly:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"phase_search",children:"Search Production Phase *"}),p.jsxs("div",{className:"searchable-dropdown",children:[p.jsx("input",{type:"text",id:"phase_search",value:y,onChange:G=>w(G.target.value),onFocus:()=>S(!0),onBlur:()=>setTimeout(()=>S(!1),150),placeholder:"Search Production Phase",className:X.phase?"error":""}),Y("phase"),b&&m.length>0&&p.jsx("div",{className:"dropdown-options",children:m.map(G=>p.jsxs("div",{className:"dropdown-option",onMouseDown:()=>we(G),children:[p.jsx("span",{className:"phase-name",children:G.name}),p.jsx("span",{className:"phase-description",children:G.contenuto_fase||"No description"})]},G.id))})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"delivery_date",children:"Delivery Date *"}),p.jsx("input",{type:"datetime-local",id:"delivery_date",...V("delivery_date"),className:X.delivery_date?"error":""}),Y("delivery_date")]})]})]}),i&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"📊 Selected Phase Parameters"}),p.jsx("div",{className:"form-grid form-grid--3-cols",children:i.department===Ot.PRINTING?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_stampa",children:"Print Speed:"}),p.jsx("input",{type:"number",id:"v_stampa",value:u.v_stampa||i.v_stampa||"",onChange:G=>fe("v_stampa",G.target.value),placeholder:"Print Speed",min:"0"}),p.jsx("span",{className:"unit-label",children:"mt/h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_stampa",children:"Print Setup:"}),p.jsx("input",{type:"number",id:"t_setup_stampa",value:u.t_setup_stampa||i.t_setup_stampa||"",onChange:G=>fe("t_setup_stampa",G.target.value),placeholder:"Setup Time",min:"0",step:"0.1"}),p.jsx("span",{className:"unit-label",children:"h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_stampa",children:"Print Cost:"}),p.jsx("input",{type:"number",id:"costo_h_stampa",value:u.costo_h_stampa||i.costo_h_stampa||"",onChange:G=>fe("costo_h_stampa",G.target.value),placeholder:"Hourly Cost",min:"0",step:"0.01"}),p.jsx("span",{className:"unit-label",children:"€/h"})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_conf",children:"Package Speed:"}),p.jsx("input",{type:"number",id:"v_conf",value:u.v_conf||i.v_conf||"",onChange:G=>fe("v_conf",G.target.value),placeholder:"Package Speed",min:"0"}),p.jsx("span",{className:"unit-label",children:"pz/h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_conf",children:"Package Setup:"}),p.jsx("input",{type:"number",id:"t_setup_conf",value:u.t_setup_conf||i.t_setup_conf||"",onChange:G=>fe("t_setup_conf",G.target.value),placeholder:"Setup Time",min:"0",step:"0.1"}),p.jsx("span",{className:"unit-label",children:"h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_conf",children:"Package Cost:"}),p.jsx("input",{type:"number",id:"costo_h_conf",value:u.costo_h_conf||i.costo_h_conf||"",onChange:G=>fe("costo_h_conf",G.target.value),placeholder:"Hourly Cost",min:"0",step:"0.01"}),p.jsx("span",{className:"unit-label",children:"€/h"})]})]})})]}),f&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"🧮 Production Calculation Results"}),p.jsxs("div",{className:"form-grid form-grid--2-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Total Duration (hours):"}),p.jsx("div",{className:"result-value",children:f.totals.duration.toFixed(2)})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Total Cost (€):"}),p.jsx("div",{className:"result-value",children:f.totals.cost.toFixed(2)})]})]})]}),p.jsxs("div",{className:"form-actions",style:{marginTop:"20px"},children:[p.jsx("button",{type:"button",className:"btn btn-secondary",onClick:N,disabled:!i,children:"Calculate"}),p.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!f||ne,children:ne?"Adding to Backlog...":"Add to Backlog"})]})]})]})}function KA(){const e=Se(T=>T.odpOrders),n=Se(T=>T.machines),a=Se(T=>T.phases),i=Se(T=>T.selectedWorkCenter),l=Se(T=>T.isLoading),u=Se(T=>T.isInitialized),c=Se(T=>T.init),f=Se(T=>T.updateOdpOrder),h=Se(T=>T.removeOdpOrder),m=Se(T=>T.showAlert),v=Se(T=>T.showConfirmDialog),y=E.useMemo(()=>i?i===Le.BOTH?e:e.filter(T=>T.work_center===i):[],[e,i]),[w,b]=Me.useState(0),{validateOrder:S}=PA();E.useEffect(()=>{u||c()},[c,u]);const C=()=>{b(T=>T+1)},R=E.useMemo(()=>[{header:"ID",accessorKey:"id"},{header:"ODP Number",accessorKey:"odp_number",cell:Ie},{header:"Article Code",accessorKey:"article_code",cell:Ie},{header:"External Article Code",accessorKey:"production_lot"},{header:"Work Center",accessorKey:"work_center",cell:Ie},{header:"Customer",accessorKey:"nome_cliente"},{header:"Bag H (mm)",accessorKey:"bag_height",cell:Ie},{header:"Bag W (mm)",accessorKey:"bag_width",cell:Ie},{header:"Bag Step (mm)",accessorKey:"bag_step",cell:Ie},{header:"Seals",accessorKey:"seal_sides",cell:Ie},{header:"Product",accessorKey:"product_type",cell:Ie},{header:"Qty",accessorKey:"quantity",cell:Ie},{header:"Completed",accessorKey:"quantity_completed",cell:Ie},{header:"Qty/Box",accessorKey:"quantity_per_box",cell:Ie},{header:"N Boxes",accessorKey:"n_boxes"},{header:"Prod Start",accessorKey:"scheduled_start_time",cell:T=>T.getValue()?new Date(T.getValue()).toLocaleString():"-"},{header:"Prod End",accessorKey:"scheduled_start_time",cell:T=>{const M=T.getValue();if(!M)return"-";const k=T.row.original,V=k.time_remaining||k.duration||0;if(V<=0)return"-";const P=new Date(M),X=P.getTime()+V*60*60*1e3;return P.setTime(X),P.toLocaleString()}},{header:"Delivery",accessorKey:"delivery_date",cell:T=>T.getValue()?new Date(T.getValue()).toLocaleString():"-"},{header:"FLEXI Lot",accessorKey:"internal_customer_code"},{header:"Customer Lot",accessorKey:"external_customer_code"},{header:"Customer Ref",accessorKey:"customer_order_ref"},{header:"Department",accessorKey:"department",cell:Ie},{header:"Phase",accessorKey:"fase",cell:T=>{const M=T.getValue(),k=a.find(V=>V.id===M);return k?k.name:M||"-"}},{header:"Duration (h)",accessorKey:"duration"},{header:"Cost (€)",accessorKey:"cost"},{header:"Progress",accessorKey:"progress",cell:T=>`${T.getValue()||0}%`},{header:"Time Rem. (h)",accessorKey:"time_remaining"},{header:"Priority",accessorKey:"priority"},{header:"Status",accessorKey:"status"},{header:"Machine",accessorKey:"scheduled_machine_id",cell:T=>{const M=T.getValue(),k=n.find(V=>V.id===M);return k?k.machine_name:M||"-"}}],[n,a]),D=async T=>{try{const M=S(T);if(M.length>0){m(`Validation errors:
${M.join(`
`)}`,"error");return}T.scheduled_machine_id&&T.scheduled_machine_id!==T.original?.scheduled_machine_id&&console.log("Machine assignment updated:",T.scheduled_machine_id),await f(T.id,T)}catch(M){console.error("Error updating order:",M)}},L=async T=>{v("Delete Order",`Are you sure you want to delete ODP "${T.odp_number||T.id}"? This action cannot be undone.`,async()=>{try{await h(T.id)}catch(M){console.error("Error deleting order:",M)}},"danger")};return l?p.jsx("div",{children:"Loading backlog data..."}):i?p.jsxs(p.Fragment,{children:[p.jsx(YA,{onSuccess:C}),p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Production Backlog"}),p.jsx(uh,{columns:R,data:y,onSaveRow:D,onDeleteRow:L})]})]}):p.jsx("div",{className:"error",children:"Please select a work center to view backlog data."})}const Mu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ts(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function vh(e){return"nodeType"in e}function on(e){var n,a;return e?ts(e)?e:vh(e)&&(n=(a=e.ownerDocument)==null?void 0:a.defaultView)!=null?n:window:window}function yh(e){const{Document:n}=on(e);return e instanceof n}function jl(e){return ts(e)?!1:e instanceof on(e).HTMLElement}function J_(e){return e instanceof on(e).SVGElement}function ns(e){return e?ts(e)?e.document:vh(e)?yh(e)?e:jl(e)||J_(e)?e.ownerDocument:document:document:document}const Ur=Mu?E.useLayoutEffect:E.useEffect;function ku(e){const n=E.useRef(e);return Ur(()=>{n.current=e}),E.useCallback(function(){for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return n.current==null?void 0:n.current(...i)},[])}function XA(){const e=E.useRef(null),n=E.useCallback((i,l)=>{e.current=setInterval(i,l)},[]),a=E.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,a]}function Cl(e,n){n===void 0&&(n=[e]);const a=E.useRef(e);return Ur(()=>{a.current!==e&&(a.current=e)},n),a}function Ml(e,n){const a=E.useRef();return E.useMemo(()=>{const i=e(a.current);return a.current=i,i},[...n])}function yu(e){const n=ku(e),a=E.useRef(null),i=E.useCallback(l=>{l!==a.current&&n?.(l,a.current),a.current=l},[]);return[a,i]}function _u(e){const n=E.useRef();return E.useEffect(()=>{n.current=e},[e]),n.current}let _f={};function Lu(e,n){return E.useMemo(()=>{if(n)return n;const a=_f[e]==null?0:_f[e]+1;return _f[e]=a,e+"-"+a},[e,n])}function eb(e){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];return i.reduce((u,c)=>{const f=Object.entries(c);for(const[h,m]of f){const v=u[h];v!=null&&(u[h]=v+e*m)}return u},{...n})}}const Yi=eb(1),bu=eb(-1);function WA(e){return"clientX"in e&&"clientY"in e}function _h(e){if(!e)return!1;const{KeyboardEvent:n}=on(e.target);return n&&e instanceof n}function QA(e){if(!e)return!1;const{TouchEvent:n}=on(e.target);return n&&e instanceof n}function wu(e){if(QA(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:a}=e.touches[0];return{x:n,y:a}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:a}=e.changedTouches[0];return{x:n,y:a}}}return WA(e)?{x:e.clientX,y:e.clientY}:null}const Tl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:a}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(a?Math.round(a):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:a}=e;return"scaleX("+n+") scaleY("+a+")"}},Transform:{toString(e){if(e)return[Tl.Translate.toString(e),Tl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:a,easing:i}=e;return n+" "+a+"ms "+i}}}),Ey="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ZA(e){return e.matches(Ey)?e:e.querySelector(Ey)}const JA={display:"none"};function eO(e){let{id:n,value:a}=e;return Me.createElement("div",{id:n,style:JA},a)}function tO(e){let{id:n,announcement:a,ariaLiveType:i="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Me.createElement("div",{id:n,style:l,role:"status","aria-live":i,"aria-atomic":!0},a)}function nO(){const[e,n]=E.useState("");return{announce:E.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const tb=E.createContext(null);function rO(e){const n=E.useContext(tb);E.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function aO(){const[e]=E.useState(()=>new Set),n=E.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[E.useCallback(i=>{let{type:l,event:u}=i;e.forEach(c=>{var f;return(f=c[l])==null?void 0:f.call(c,u)})},[e]),n]}const iO={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},sO={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:a}=e;return a?"Draggable item "+n.id+" was moved over droppable area "+a.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:a}=e;return a?"Draggable item "+n.id+" was dropped over droppable area "+a.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function lO(e){let{announcements:n=sO,container:a,hiddenTextDescribedById:i,screenReaderInstructions:l=iO}=e;const{announce:u,announcement:c}=nO(),f=Lu("DndLiveRegion"),[h,m]=E.useState(!1);if(E.useEffect(()=>{m(!0)},[]),rO(E.useMemo(()=>({onDragStart(y){let{active:w}=y;u(n.onDragStart({active:w}))},onDragMove(y){let{active:w,over:b}=y;n.onDragMove&&u(n.onDragMove({active:w,over:b}))},onDragOver(y){let{active:w,over:b}=y;u(n.onDragOver({active:w,over:b}))},onDragEnd(y){let{active:w,over:b}=y;u(n.onDragEnd({active:w,over:b}))},onDragCancel(y){let{active:w,over:b}=y;u(n.onDragCancel({active:w,over:b}))}}),[u,n])),!h)return null;const v=Me.createElement(Me.Fragment,null,Me.createElement(eO,{id:i,value:l.draggable}),Me.createElement(tO,{id:f,announcement:c}));return a?ul.createPortal(v,a):v}var Lt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Lt||(Lt={}));function Su(){}const Wn=Object.freeze({x:0,y:0});function oO(e,n){const a=wu(e);if(!a)return"0 0";const i={x:(a.x-n.left)/n.width*100,y:(a.y-n.top)/n.height*100};return i.x+"% "+i.y+"%"}function uO(e,n){let{data:{value:a}}=e,{data:{value:i}}=n;return i-a}function cO(e,n){if(!e||e.length===0)return null;const[a]=e;return a[n]}function dO(e,n){const a=Math.max(n.top,e.top),i=Math.max(n.left,e.left),l=Math.min(n.left+n.width,e.left+e.width),u=Math.min(n.top+n.height,e.top+e.height),c=l-i,f=u-a;if(i<l&&a<u){const h=n.width*n.height,m=e.width*e.height,v=c*f,y=v/(h+m-v);return Number(y.toFixed(4))}return 0}const fO=e=>{let{collisionRect:n,droppableRects:a,droppableContainers:i}=e;const l=[];for(const u of i){const{id:c}=u,f=a.get(c);if(f){const h=dO(f,n);h>0&&l.push({id:c,data:{droppableContainer:u,value:h}})}}return l.sort(uO)};function hO(e,n,a){return{...e,scaleX:n&&a?n.width/a.width:1,scaleY:n&&a?n.height/a.height:1}}function nb(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:Wn}function gO(e){return function(a){for(var i=arguments.length,l=new Array(i>1?i-1:0),u=1;u<i;u++)l[u-1]=arguments[u];return l.reduce((c,f)=>({...c,top:c.top+e*f.y,bottom:c.bottom+e*f.y,left:c.left+e*f.x,right:c.right+e*f.x}),{...a})}}const mO=gO(1);function rb(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function pO(e,n,a){const i=rb(n);if(!i)return e;const{scaleX:l,scaleY:u,x:c,y:f}=i,h=e.left-c-(1-l)*parseFloat(a),m=e.top-f-(1-u)*parseFloat(a.slice(a.indexOf(" ")+1)),v=l?e.width/l:e.width,y=u?e.height/u:e.height;return{width:v,height:y,top:m,right:h+v,bottom:m+y,left:h}}const vO={ignoreTransform:!1};function kl(e,n){n===void 0&&(n=vO);let a=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:m,transformOrigin:v}=on(e).getComputedStyle(e);m&&(a=pO(a,m,v))}const{top:i,left:l,width:u,height:c,bottom:f,right:h}=a;return{top:i,left:l,width:u,height:c,bottom:f,right:h}}function Cy(e){return kl(e,{ignoreTransform:!0})}function yO(e){const n=e.innerWidth,a=e.innerHeight;return{top:0,left:0,right:n,bottom:a,width:n,height:a}}function _O(e,n){return n===void 0&&(n=on(e).getComputedStyle(e)),n.position==="fixed"}function bO(e,n){n===void 0&&(n=on(e).getComputedStyle(e));const a=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const u=n[l];return typeof u=="string"?a.test(u):!1})}function bh(e,n){const a=[];function i(l){if(n!=null&&a.length>=n||!l)return a;if(yh(l)&&l.scrollingElement!=null&&!a.includes(l.scrollingElement))return a.push(l.scrollingElement),a;if(!jl(l)||J_(l)||a.includes(l))return a;const u=on(e).getComputedStyle(l);return l!==e&&bO(l,u)&&a.push(l),_O(l,u)?a:i(l.parentNode)}return e?i(e):a}function ab(e){const[n]=bh(e,1);return n??null}function bf(e){return!Mu||!e?null:ts(e)?e:vh(e)?yh(e)||e===ns(e).scrollingElement?window:jl(e)?e:null:null}function ib(e){return ts(e)?e.scrollX:e.scrollLeft}function sb(e){return ts(e)?e.scrollY:e.scrollTop}function Vf(e){return{x:ib(e),y:sb(e)}}var It;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(It||(It={}));function lb(e){return!Mu||!e?!1:e===document.scrollingElement}function ob(e){const n={x:0,y:0},a=lb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-a.width,y:e.scrollHeight-a.height},l=e.scrollTop<=n.y,u=e.scrollLeft<=n.x,c=e.scrollTop>=i.y,f=e.scrollLeft>=i.x;return{isTop:l,isLeft:u,isBottom:c,isRight:f,maxScroll:i,minScroll:n}}const wO={x:.2,y:.2};function SO(e,n,a,i,l){let{top:u,left:c,right:f,bottom:h}=a;i===void 0&&(i=10),l===void 0&&(l=wO);const{isTop:m,isBottom:v,isLeft:y,isRight:w}=ob(e),b={x:0,y:0},S={x:0,y:0},C={height:n.height*l.y,width:n.width*l.x};return!m&&u<=n.top+C.height?(b.y=It.Backward,S.y=i*Math.abs((n.top+C.height-u)/C.height)):!v&&h>=n.bottom-C.height&&(b.y=It.Forward,S.y=i*Math.abs((n.bottom-C.height-h)/C.height)),!w&&f>=n.right-C.width?(b.x=It.Forward,S.x=i*Math.abs((n.right-C.width-f)/C.width)):!y&&c<=n.left+C.width&&(b.x=It.Backward,S.x=i*Math.abs((n.left+C.width-c)/C.width)),{direction:b,speed:S}}function xO(e){if(e===document.scrollingElement){const{innerWidth:u,innerHeight:c}=window;return{top:0,left:0,right:u,bottom:c,width:u,height:c}}const{top:n,left:a,right:i,bottom:l}=e.getBoundingClientRect();return{top:n,left:a,right:i,bottom:l,width:e.clientWidth,height:e.clientHeight}}function ub(e){return e.reduce((n,a)=>Yi(n,Vf(a)),Wn)}function EO(e){return e.reduce((n,a)=>n+ib(a),0)}function CO(e){return e.reduce((n,a)=>n+sb(a),0)}function cb(e,n){if(n===void 0&&(n=kl),!e)return;const{top:a,left:i,bottom:l,right:u}=n(e);ab(e)&&(l<=0||u<=0||a>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const TO=[["x",["left","right"],EO],["y",["top","bottom"],CO]];class wh{constructor(n,a){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=bh(a),l=ub(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[u,c,f]of TO)for(const h of c)Object.defineProperty(this,h,{get:()=>{const m=f(i),v=l[u]-m;return this.rect[h]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class vl{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...a)})},this.target=n}add(n,a,i){var l;(l=this.target)==null||l.addEventListener(n,a,i),this.listeners.push([n,a,i])}}function RO(e){const{EventTarget:n}=on(e);return e instanceof n?e:ns(e)}function wf(e,n){const a=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(a**2+i**2)>n:"x"in n&&"y"in n?a>n.x&&i>n.y:"x"in n?a>n.x:"y"in n?i>n.y:!1}var Ln;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ln||(Ln={}));function Ty(e){e.preventDefault()}function AO(e){e.stopPropagation()}var nt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(nt||(nt={}));const db={start:[nt.Space,nt.Enter],cancel:[nt.Esc],end:[nt.Space,nt.Enter,nt.Tab]},OO=(e,n)=>{let{currentCoordinates:a}=n;switch(e.code){case nt.Right:return{...a,x:a.x+25};case nt.Left:return{...a,x:a.x-25};case nt.Down:return{...a,y:a.y+25};case nt.Up:return{...a,y:a.y-25}}};class fb{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:a}}=n;this.props=n,this.listeners=new vl(ns(a)),this.windowListeners=new vl(on(a)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ln.Resize,this.handleCancel),this.windowListeners.add(Ln.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ln.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:a}=this.props,i=n.node.current;i&&cb(i),a(Wn)}handleKeyDown(n){if(_h(n)){const{active:a,context:i,options:l}=this.props,{keyboardCodes:u=db,coordinateGetter:c=OO,scrollBehavior:f="smooth"}=l,{code:h}=n;if(u.end.includes(h)){this.handleEnd(n);return}if(u.cancel.includes(h)){this.handleCancel(n);return}const{collisionRect:m}=i.current,v=m?{x:m.left,y:m.top}:Wn;this.referenceCoordinates||(this.referenceCoordinates=v);const y=c(n,{active:a,context:i.current,currentCoordinates:v});if(y){const w=bu(y,v),b={x:0,y:0},{scrollableAncestors:S}=i.current;for(const C of S){const R=n.code,{isTop:D,isRight:L,isLeft:T,isBottom:M,maxScroll:k,minScroll:V}=ob(C),P=xO(C),X={x:Math.min(R===nt.Right?P.right-P.width/2:P.right,Math.max(R===nt.Right?P.left:P.left+P.width/2,y.x)),y:Math.min(R===nt.Down?P.bottom-P.height/2:P.bottom,Math.max(R===nt.Down?P.top:P.top+P.height/2,y.y))},ne=R===nt.Right&&!L||R===nt.Left&&!T,ue=R===nt.Down&&!M||R===nt.Up&&!D;if(ne&&X.x!==y.x){const le=C.scrollLeft+w.x,ee=R===nt.Right&&le<=k.x||R===nt.Left&&le>=V.x;if(ee&&!w.y){C.scrollTo({left:le,behavior:f});return}ee?b.x=C.scrollLeft-le:b.x=R===nt.Right?C.scrollLeft-k.x:C.scrollLeft-V.x,b.x&&C.scrollBy({left:-b.x,behavior:f});break}else if(ue&&X.y!==y.y){const le=C.scrollTop+w.y,ee=R===nt.Down&&le<=k.y||R===nt.Up&&le>=V.y;if(ee&&!w.x){C.scrollTo({top:le,behavior:f});return}ee?b.y=C.scrollTop-le:b.y=R===nt.Down?C.scrollTop-k.y:C.scrollTop-V.y,b.y&&C.scrollBy({top:-b.y,behavior:f});break}}this.handleMove(n,Yi(bu(y,this.referenceCoordinates),b))}}}handleMove(n,a){const{onMove:i}=this.props;n.preventDefault(),i(a)}handleEnd(n){const{onEnd:a}=this.props;n.preventDefault(),this.detach(),a()}handleCancel(n){const{onCancel:a}=this.props;n.preventDefault(),this.detach(),a()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}fb.activators=[{eventName:"onKeyDown",handler:(e,n,a)=>{let{keyboardCodes:i=db,onActivation:l}=n,{active:u}=a;const{code:c}=e.nativeEvent;if(i.start.includes(c)){const f=u.activatorNode.current;return f&&e.target!==f?!1:(e.preventDefault(),l?.({event:e.nativeEvent}),!0)}return!1}}];function Ry(e){return!!(e&&"distance"in e)}function Ay(e){return!!(e&&"delay"in e)}class Sh{constructor(n,a,i){var l;i===void 0&&(i=RO(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=a;const{event:u}=n,{target:c}=u;this.props=n,this.events=a,this.document=ns(c),this.documentListeners=new vl(this.document),this.listeners=new vl(i),this.windowListeners=new vl(on(c)),this.initialCoordinates=(l=wu(u))!=null?l:Wn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:a,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(Ln.Resize,this.handleCancel),this.windowListeners.add(Ln.DragStart,Ty),this.windowListeners.add(Ln.VisibilityChange,this.handleCancel),this.windowListeners.add(Ln.ContextMenu,Ty),this.documentListeners.add(Ln.Keydown,this.handleKeydown),a){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ay(a)){this.timeoutId=setTimeout(this.handleStart,a.delay),this.handlePending(a);return}if(Ry(a)){this.handlePending(a);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,a){const{active:i,onPending:l}=this.props;l(i,n,this.initialCoordinates,a)}handleStart(){const{initialCoordinates:n}=this,{onStart:a}=this.props;n&&(this.activated=!0,this.documentListeners.add(Ln.Click,AO,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ln.SelectionChange,this.removeTextSelection),a(n))}handleMove(n){var a;const{activated:i,initialCoordinates:l,props:u}=this,{onMove:c,options:{activationConstraint:f}}=u;if(!l)return;const h=(a=wu(n))!=null?a:Wn,m=bu(l,h);if(!i&&f){if(Ry(f)){if(f.tolerance!=null&&wf(m,f.tolerance))return this.handleCancel();if(wf(m,f.distance))return this.handleStart()}if(Ay(f)&&wf(m,f.tolerance))return this.handleCancel();this.handlePending(f,m);return}n.cancelable&&n.preventDefault(),c(h)}handleEnd(){const{onAbort:n,onEnd:a}=this.props;this.detach(),this.activated||n(this.props.active),a()}handleCancel(){const{onAbort:n,onCancel:a}=this.props;this.detach(),this.activated||n(this.props.active),a()}handleKeydown(n){n.code===nt.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const DO={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class hb extends Sh{constructor(n){const{event:a}=n,i=ns(a.target);super(n,DO,i)}}hb.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;return!a.isPrimary||a.button!==0?!1:(i?.({event:a}),!0)}}];const NO={move:{name:"mousemove"},end:{name:"mouseup"}};var Bf;(function(e){e[e.RightClick=2]="RightClick"})(Bf||(Bf={}));class jO extends Sh{constructor(n){super(n,NO,ns(n.event.target))}}jO.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;return a.button===Bf.RightClick?!1:(i?.({event:a}),!0)}}];const Sf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class MO extends Sh{constructor(n){super(n,Sf)}static setup(){return window.addEventListener(Sf.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Sf.move.name,n)};function n(){}}}MO.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:a}=e,{onActivation:i}=n;const{touches:l}=a;return l.length>1?!1:(i?.({event:a}),!0)}}];var yl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(yl||(yl={}));var xu;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(xu||(xu={}));function kO(e){let{acceleration:n,activator:a=yl.Pointer,canScroll:i,draggingRect:l,enabled:u,interval:c=5,order:f=xu.TreeOrder,pointerCoordinates:h,scrollableAncestors:m,scrollableAncestorRects:v,delta:y,threshold:w}=e;const b=UO({delta:y,disabled:!u}),[S,C]=XA(),R=E.useRef({x:0,y:0}),D=E.useRef({x:0,y:0}),L=E.useMemo(()=>{switch(a){case yl.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case yl.DraggableRect:return l}},[a,l,h]),T=E.useRef(null),M=E.useCallback(()=>{const V=T.current;if(!V)return;const P=R.current.x*D.current.x,X=R.current.y*D.current.y;V.scrollBy(P,X)},[]),k=E.useMemo(()=>f===xu.TreeOrder?[...m].reverse():m,[f,m]);E.useEffect(()=>{if(!u||!m.length||!L){C();return}for(const V of k){if(i?.(V)===!1)continue;const P=m.indexOf(V),X=v[P];if(!X)continue;const{direction:ne,speed:ue}=SO(V,X,L,n,w);for(const le of["x","y"])b[le][ne[le]]||(ue[le]=0,ne[le]=0);if(ue.x>0||ue.y>0){C(),T.current=V,S(M,c),R.current=ue,D.current=ne;return}}R.current={x:0,y:0},D.current={x:0,y:0},C()},[n,M,i,C,u,c,JSON.stringify(L),JSON.stringify(b),S,m,k,v,JSON.stringify(w)])}const LO={x:{[It.Backward]:!1,[It.Forward]:!1},y:{[It.Backward]:!1,[It.Forward]:!1}};function UO(e){let{delta:n,disabled:a}=e;const i=_u(n);return Ml(l=>{if(a||!i||!l)return LO;const u={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[It.Backward]:l.x[It.Backward]||u.x===-1,[It.Forward]:l.x[It.Forward]||u.x===1},y:{[It.Backward]:l.y[It.Backward]||u.y===-1,[It.Forward]:l.y[It.Forward]||u.y===1}}},[a,n,i])}function PO(e,n){const a=n!=null?e.get(n):void 0,i=a?a.node.current:null;return Ml(l=>{var u;return n==null?null:(u=i??l)!=null?u:null},[i,n])}function $O(e,n){return E.useMemo(()=>e.reduce((a,i)=>{const{sensor:l}=i,u=l.activators.map(c=>({eventName:c.eventName,handler:n(c.handler,i)}));return[...a,...u]},[]),[e,n])}var Rl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Rl||(Rl={}));var If;(function(e){e.Optimized="optimized"})(If||(If={}));const Oy=new Map;function zO(e,n){let{dragging:a,dependencies:i,config:l}=n;const[u,c]=E.useState(null),{frequency:f,measure:h,strategy:m}=l,v=E.useRef(e),y=R(),w=Cl(y),b=E.useCallback(function(D){D===void 0&&(D=[]),!w.current&&c(L=>L===null?D:L.concat(D.filter(T=>!L.includes(T))))},[w]),S=E.useRef(null),C=Ml(D=>{if(y&&!a)return Oy;if(!D||D===Oy||v.current!==e||u!=null){const L=new Map;for(let T of e){if(!T)continue;if(u&&u.length>0&&!u.includes(T.id)&&T.rect.current){L.set(T.id,T.rect.current);continue}const M=T.node.current,k=M?new wh(h(M),M):null;T.rect.current=k,k&&L.set(T.id,k)}return L}return D},[e,u,a,y,h]);return E.useEffect(()=>{v.current=e},[e]),E.useEffect(()=>{y||b()},[a,y]),E.useEffect(()=>{u&&u.length>0&&c(null)},[JSON.stringify(u)]),E.useEffect(()=>{y||typeof f!="number"||S.current!==null||(S.current=setTimeout(()=>{b(),S.current=null},f))},[f,y,b,...i]),{droppableRects:C,measureDroppableContainers:b,measuringScheduled:u!=null};function R(){switch(m){case Rl.Always:return!1;case Rl.BeforeDragging:return a;default:return!a}}}function xh(e,n){return Ml(a=>e?a||(typeof n=="function"?n(e):e):null,[n,e])}function FO(e,n){return xh(e,n)}function HO(e){let{callback:n,disabled:a}=e;const i=ku(n),l=E.useMemo(()=>{if(a||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(i)},[i,a]);return E.useEffect(()=>()=>l?.disconnect(),[l]),l}function Uu(e){let{callback:n,disabled:a}=e;const i=ku(n),l=E.useMemo(()=>{if(a||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(i)},[a]);return E.useEffect(()=>()=>l?.disconnect(),[l]),l}function VO(e){return new wh(kl(e),e)}function Dy(e,n,a){n===void 0&&(n=VO);const[i,l]=E.useState(null);function u(){l(h=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=h??a)!=null?m:null}const v=n(e);return JSON.stringify(h)===JSON.stringify(v)?h:v})}const c=HO({callback(h){if(e)for(const m of h){const{type:v,target:y}=m;if(v==="childList"&&y instanceof HTMLElement&&y.contains(e)){u();break}}}}),f=Uu({callback:u});return Ur(()=>{u(),e?(f?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(f?.disconnect(),c?.disconnect())},[e]),i}function BO(e){const n=xh(e);return nb(e,n)}const Ny=[];function IO(e){const n=E.useRef(e),a=Ml(i=>e?i&&i!==Ny&&e&&n.current&&e.parentNode===n.current.parentNode?i:bh(e):Ny,[e]);return E.useEffect(()=>{n.current=e},[e]),a}function qO(e){const[n,a]=E.useState(null),i=E.useRef(e),l=E.useCallback(u=>{const c=bf(u.target);c&&a(f=>f?(f.set(c,Vf(c)),new Map(f)):null)},[]);return E.useEffect(()=>{const u=i.current;if(e!==u){c(u);const f=e.map(h=>{const m=bf(h);return m?(m.addEventListener("scroll",l,{passive:!0}),[m,Vf(m)]):null}).filter(h=>h!=null);a(f.length?new Map(f):null),i.current=e}return()=>{c(e),c(u)};function c(f){f.forEach(h=>{const m=bf(h);m?.removeEventListener("scroll",l)})}},[l,e]),E.useMemo(()=>e.length?n?Array.from(n.values()).reduce((u,c)=>Yi(u,c),Wn):ub(e):Wn,[e,n])}function jy(e,n){n===void 0&&(n=[]);const a=E.useRef(null);return E.useEffect(()=>{a.current=null},n),E.useEffect(()=>{const i=e!==Wn;i&&!a.current&&(a.current=e),!i&&a.current&&(a.current=null)},[e]),a.current?bu(e,a.current):Wn}function GO(e){E.useEffect(()=>{if(!Mu)return;const n=e.map(a=>{let{sensor:i}=a;return i.setup==null?void 0:i.setup()});return()=>{for(const a of n)a?.()}},e.map(n=>{let{sensor:a}=n;return a}))}function YO(e,n){return E.useMemo(()=>e.reduce((a,i)=>{let{eventName:l,handler:u}=i;return a[l]=c=>{u(c,n)},a},{}),[e,n])}function gb(e){return E.useMemo(()=>e?yO(e):null,[e])}const My=[];function KO(e,n){n===void 0&&(n=kl);const[a]=e,i=gb(a?on(a):null),[l,u]=E.useState(My);function c(){u(()=>e.length?e.map(h=>lb(h)?i:new wh(n(h),h)):My)}const f=Uu({callback:c});return Ur(()=>{f?.disconnect(),c(),e.forEach(h=>f?.observe(h))},[e]),l}function mb(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return jl(n)?n:e}function XO(e){let{measure:n}=e;const[a,i]=E.useState(null),l=E.useCallback(m=>{for(const{target:v}of m)if(jl(v)){i(y=>{const w=n(v);return y?{...y,width:w.width,height:w.height}:w});break}},[n]),u=Uu({callback:l}),c=E.useCallback(m=>{const v=mb(m);u?.disconnect(),v&&u?.observe(v),i(v?n(v):null)},[n,u]),[f,h]=yu(c);return E.useMemo(()=>({nodeRef:f,rect:a,setRef:h}),[a,f,h])}const WO=[{sensor:hb,options:{}},{sensor:fb,options:{}}],QO={current:{}},uu={draggable:{measure:Cy},droppable:{measure:Cy,strategy:Rl.WhileDragging,frequency:If.Optimized},dragOverlay:{measure:kl}};class _l extends Map{get(n){var a;return n!=null&&(a=super.get(n))!=null?a:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:a}=n;return!a})}getNodeFor(n){var a,i;return(a=(i=this.get(n))==null?void 0:i.node.current)!=null?a:void 0}}const ZO={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new _l,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Su},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:uu,measureDroppableContainers:Su,windowRect:null,measuringScheduled:!1},pb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Su,draggableNodes:new Map,over:null,measureDroppableContainers:Su},Ll=E.createContext(pb),vb=E.createContext(ZO);function JO(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new _l}}}function eD(e,n){switch(n.type){case Lt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case Lt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case Lt.DragEnd:case Lt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Lt.RegisterDroppable:{const{element:a}=n,{id:i}=a,l=new _l(e.droppable.containers);return l.set(i,a),{...e,droppable:{...e.droppable,containers:l}}}case Lt.SetDroppableDisabled:{const{id:a,key:i,disabled:l}=n,u=e.droppable.containers.get(a);if(!u||i!==u.key)return e;const c=new _l(e.droppable.containers);return c.set(a,{...u,disabled:l}),{...e,droppable:{...e.droppable,containers:c}}}case Lt.UnregisterDroppable:{const{id:a,key:i}=n,l=e.droppable.containers.get(a);if(!l||i!==l.key)return e;const u=new _l(e.droppable.containers);return u.delete(a),{...e,droppable:{...e.droppable,containers:u}}}default:return e}}function tD(e){let{disabled:n}=e;const{active:a,activatorEvent:i,draggableNodes:l}=E.useContext(Ll),u=_u(i),c=_u(a?.id);return E.useEffect(()=>{if(!n&&!i&&u&&c!=null){if(!_h(u)||document.activeElement===u.target)return;const f=l.get(c);if(!f)return;const{activatorNode:h,node:m}=f;if(!h.current&&!m.current)return;requestAnimationFrame(()=>{for(const v of[h.current,m.current]){if(!v)continue;const y=ZA(v);if(y){y.focus();break}}})}},[i,n,l,c,u]),null}function yb(e,n){let{transform:a,...i}=n;return e!=null&&e.length?e.reduce((l,u)=>u({transform:l,...i}),a):a}function nD(e){return E.useMemo(()=>({draggable:{...uu.draggable,...e?.draggable},droppable:{...uu.droppable,...e?.droppable},dragOverlay:{...uu.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function rD(e){let{activeNode:n,measure:a,initialRect:i,config:l=!0}=e;const u=E.useRef(!1),{x:c,y:f}=typeof l=="boolean"?{x:l,y:l}:l;Ur(()=>{if(!c&&!f||!n){u.current=!1;return}if(u.current||!i)return;const m=n?.node.current;if(!m||m.isConnected===!1)return;const v=a(m),y=nb(v,i);if(c||(y.x=0),f||(y.y=0),u.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const w=ab(m);w&&w.scrollBy({top:y.y,left:y.x})}},[n,c,f,i,a])}const Pu=E.createContext({...Wn,scaleX:1,scaleY:1});var ga;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ga||(ga={}));const aD=E.memo(function(n){var a,i,l,u;let{id:c,accessibility:f,autoScroll:h=!0,children:m,sensors:v=WO,collisionDetection:y=fO,measuring:w,modifiers:b,...S}=n;const C=E.useReducer(eD,void 0,JO),[R,D]=C,[L,T]=aO(),[M,k]=E.useState(ga.Uninitialized),V=M===ga.Initialized,{draggable:{active:P,nodes:X,translate:ne},droppable:{containers:ue}}=R,le=P!=null?X.get(P):null,ee=E.useRef({initial:null,translated:null}),de=E.useMemo(()=>{var vt;return P!=null?{id:P,data:(vt=le?.data)!=null?vt:QO,rect:ee}:null},[P,le]),xe=E.useRef(null),[_e,B]=E.useState(null),[J,fe]=E.useState(null),we=Cl(S,Object.values(S)),N=Lu("DndDescribedBy",c),Y=E.useMemo(()=>ue.getEnabled(),[ue]),G=nD(w),{droppableRects:Q,measureDroppableContainers:ce,measuringScheduled:De}=zO(Y,{dragging:V,dependencies:[ne.x,ne.y],config:G.droppable}),ve=PO(X,P),mt=E.useMemo(()=>J?wu(J):null,[J]),Ve=rs(),Dt=FO(ve,G.draggable.measure);rD({activeNode:P!=null?X.get(P):null,config:Ve.layoutShiftCompensation,initialRect:Dt,measure:G.draggable.measure});const bt=Dy(ve,G.draggable.measure,Dt),Cn=Dy(ve?ve.parentElement:null),re=E.useRef({activatorEvent:null,active:null,activeNode:ve,collisionRect:null,collisions:null,droppableRects:Q,draggableNodes:X,draggingNode:null,draggingNodeRect:null,droppableContainers:ue,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),se=ue.getNodeFor((a=re.current.over)==null?void 0:a.id),he=XO({measure:G.dragOverlay.measure}),ge=(i=he.nodeRef.current)!=null?i:ve,qe=V?(l=he.rect)!=null?l:bt:null,Je=!!(he.nodeRef.current&&he.rect),Ut=BO(Je?null:bt),pt=gb(ge?on(ge):null),A=IO(V?se??ve:null),$=KO(A),q=yb(b,{transform:{x:ne.x-Ut.x,y:ne.y-Ut.y,scaleX:1,scaleY:1},activatorEvent:J,active:de,activeNodeRect:bt,containerNodeRect:Cn,draggingNodeRect:qe,over:re.current.over,overlayNodeRect:he.rect,scrollableAncestors:A,scrollableAncestorRects:$,windowRect:pt}),ie=mt?Yi(mt,ne):null,te=qO(A),ae=jy(te),oe=jy(te,[bt]),ye=Yi(q,ae),Ee=qe?mO(qe,q):null,Ue=de&&Ee?y({active:de,collisionRect:Ee,droppableRects:Q,droppableContainers:Y,pointerCoordinates:ie}):null,qt=cO(Ue,"id"),[Et,ba]=E.useState(null),Zn=Je?q:Yi(q,oe),Jn=hO(Zn,(u=Et?.rect)!=null?u:null,bt),gn=E.useRef(null),er=E.useCallback((vt,rn)=>{let{sensor:Qt,options:zn}=rn;if(xe.current==null)return;const Zt=X.get(xe.current);if(!Zt)return;const Gt=vt.nativeEvent,mn=new Qt({active:xe.current,activeNode:Zt,event:Gt,options:zn,context:re,onAbort(rt){if(!X.get(rt))return;const{onDragAbort:lt}=we.current,Jt={id:rt};lt?.(Jt),L({type:"onDragAbort",event:Jt})},onPending(rt,st,lt,Jt){if(!X.get(rt))return;const{onDragPending:Sa}=we.current,tr={id:rt,constraint:st,initialCoordinates:lt,offset:Jt};Sa?.(tr),L({type:"onDragPending",event:tr})},onStart(rt){const st=xe.current;if(st==null)return;const lt=X.get(st);if(!lt)return;const{onDragStart:Jt}=we.current,fr={activatorEvent:Gt,active:{id:st,data:lt.data,rect:ee}};ul.unstable_batchedUpdates(()=>{Jt?.(fr),k(ga.Initializing),D({type:Lt.DragStart,initialCoordinates:rt,active:st}),L({type:"onDragStart",event:fr}),B(gn.current),fe(Gt)})},onMove(rt){D({type:Lt.DragMove,coordinates:rt})},onEnd:$r(Lt.DragEnd),onCancel:$r(Lt.DragCancel)});gn.current=mn;function $r(rt){return async function(){const{active:lt,collisions:Jt,over:fr,scrollAdjustedTranslate:Sa}=re.current;let tr=null;if(lt&&Sa){const{cancelDrop:zr}=we.current;tr={activatorEvent:Gt,active:lt,collisions:Jt,delta:Sa,over:fr},rt===Lt.DragEnd&&typeof zr=="function"&&await Promise.resolve(zr(tr))&&(rt=Lt.DragCancel)}xe.current=null,ul.unstable_batchedUpdates(()=>{D({type:rt}),k(ga.Uninitialized),ba(null),B(null),fe(null),gn.current=null;const zr=rt===Lt.DragEnd?"onDragEnd":"onDragCancel";if(tr){const hr=we.current[zr];hr?.(tr),L({type:zr,event:tr})}})}}},[X]),dr=E.useCallback((vt,rn)=>(Qt,zn)=>{const Zt=Qt.nativeEvent,Gt=X.get(zn);if(xe.current!==null||!Gt||Zt.dndKit||Zt.defaultPrevented)return;const mn={active:Gt};vt(Qt,rn.options,mn)===!0&&(Zt.dndKit={capturedBy:rn.sensor},xe.current=zn,er(Qt,rn))},[X,er]),wa=$O(v,dr);GO(v),Ur(()=>{bt&&M===ga.Initializing&&k(ga.Initialized)},[bt,M]),E.useEffect(()=>{const{onDragMove:vt}=we.current,{active:rn,activatorEvent:Qt,collisions:zn,over:Zt}=re.current;if(!rn||!Qt)return;const Gt={active:rn,activatorEvent:Qt,collisions:zn,delta:{x:ye.x,y:ye.y},over:Zt};ul.unstable_batchedUpdates(()=>{vt?.(Gt),L({type:"onDragMove",event:Gt})})},[ye.x,ye.y]),E.useEffect(()=>{const{active:vt,activatorEvent:rn,collisions:Qt,droppableContainers:zn,scrollAdjustedTranslate:Zt}=re.current;if(!vt||xe.current==null||!rn||!Zt)return;const{onDragOver:Gt}=we.current,mn=zn.get(qt),$r=mn&&mn.rect.current?{id:mn.id,rect:mn.rect.current,data:mn.data,disabled:mn.disabled}:null,rt={active:vt,activatorEvent:rn,collisions:Qt,delta:{x:Zt.x,y:Zt.y},over:$r};ul.unstable_batchedUpdates(()=>{ba($r),Gt?.(rt),L({type:"onDragOver",event:rt})})},[qt]),Ur(()=>{re.current={activatorEvent:J,active:de,activeNode:ve,collisionRect:Ee,collisions:Ue,droppableRects:Q,draggableNodes:X,draggingNode:ge,draggingNodeRect:qe,droppableContainers:ue,over:Et,scrollableAncestors:A,scrollAdjustedTranslate:ye},ee.current={initial:qe,translated:Ee}},[de,ve,Ue,Ee,X,ge,qe,Q,ue,Et,A,ye]),kO({...Ve,delta:ne,draggingRect:Ee,pointerCoordinates:ie,scrollableAncestors:A,scrollableAncestorRects:$});const Ul=E.useMemo(()=>({active:de,activeNode:ve,activeNodeRect:bt,activatorEvent:J,collisions:Ue,containerNodeRect:Cn,dragOverlay:he,draggableNodes:X,droppableContainers:ue,droppableRects:Q,over:Et,measureDroppableContainers:ce,scrollableAncestors:A,scrollableAncestorRects:$,measuringConfiguration:G,measuringScheduled:De,windowRect:pt}),[de,ve,bt,J,Ue,Cn,he,X,ue,Q,Et,ce,A,$,G,De,pt]),Pl=E.useMemo(()=>({activatorEvent:J,activators:wa,active:de,activeNodeRect:bt,ariaDescribedById:{draggable:N},dispatch:D,draggableNodes:X,over:Et,measureDroppableContainers:ce}),[J,wa,de,bt,D,N,X,Et,ce]);return Me.createElement(tb.Provider,{value:T},Me.createElement(Ll.Provider,{value:Pl},Me.createElement(vb.Provider,{value:Ul},Me.createElement(Pu.Provider,{value:Jn},m)),Me.createElement(tD,{disabled:f?.restoreFocus===!1})),Me.createElement(lO,{...f,hiddenTextDescribedById:N}));function rs(){const vt=_e?.autoScrollEnabled===!1,rn=typeof h=="object"?h.enabled===!1:h===!1,Qt=V&&!vt&&!rn;return typeof h=="object"?{...h,enabled:Qt}:{enabled:Qt}}}),iD=E.createContext(null),ky="button",sD="Draggable";function ID(e){let{id:n,data:a,disabled:i=!1,attributes:l}=e;const u=Lu(sD),{activators:c,activatorEvent:f,active:h,activeNodeRect:m,ariaDescribedById:v,draggableNodes:y,over:w}=E.useContext(Ll),{role:b=ky,roleDescription:S="draggable",tabIndex:C=0}=l??{},R=h?.id===n,D=E.useContext(R?Pu:iD),[L,T]=yu(),[M,k]=yu(),V=YO(c,n),P=Cl(a);Ur(()=>(y.set(n,{id:n,key:u,node:L,activatorNode:M,data:P}),()=>{const ne=y.get(n);ne&&ne.key===u&&y.delete(n)}),[y,n]);const X=E.useMemo(()=>({role:b,tabIndex:C,"aria-disabled":i,"aria-pressed":R&&b===ky?!0:void 0,"aria-roledescription":S,"aria-describedby":v.draggable}),[i,b,C,R,S,v.draggable]);return{active:h,activatorEvent:f,activeNodeRect:m,attributes:X,isDragging:R,listeners:i?void 0:V,node:L,over:w,setNodeRef:T,setActivatorNodeRef:k,transform:D}}function lD(){return E.useContext(vb)}const oD="Droppable",uD={timeout:25};function qD(e){let{data:n,disabled:a=!1,id:i,resizeObserverConfig:l}=e;const u=Lu(oD),{active:c,dispatch:f,over:h,measureDroppableContainers:m}=E.useContext(Ll),v=E.useRef({disabled:a}),y=E.useRef(!1),w=E.useRef(null),b=E.useRef(null),{disabled:S,updateMeasurementsFor:C,timeout:R}={...uD,...l},D=Cl(C??i),L=E.useCallback(()=>{if(!y.current){y.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{m(Array.isArray(D.current)?D.current:[D.current]),b.current=null},R)},[R]),T=Uu({callback:L,disabled:S||!c}),M=E.useCallback((X,ne)=>{T&&(ne&&(T.unobserve(ne),y.current=!1),X&&T.observe(X))},[T]),[k,V]=yu(M),P=Cl(n);return E.useEffect(()=>{!T||!k.current||(T.disconnect(),y.current=!1,T.observe(k.current))},[k,T]),E.useEffect(()=>(f({type:Lt.RegisterDroppable,element:{id:i,key:u,disabled:a,node:k,rect:w,data:P}}),()=>f({type:Lt.UnregisterDroppable,key:u,id:i})),[i]),E.useEffect(()=>{a!==v.current.disabled&&(f({type:Lt.SetDroppableDisabled,id:i,key:u,disabled:a}),v.current.disabled=a)},[i,u,a,f]),{active:c,rect:w,isOver:h?.id===i,node:k,over:h,setNodeRef:V}}function cD(e){let{animation:n,children:a}=e;const[i,l]=E.useState(null),[u,c]=E.useState(null),f=_u(a);return!a&&!i&&f&&l(f),Ur(()=>{if(!u)return;const h=i?.key,m=i?.props.id;if(h==null||m==null){l(null);return}Promise.resolve(n(m,u)).then(()=>{l(null)})},[n,i,u]),Me.createElement(Me.Fragment,null,a,i?E.cloneElement(i,{ref:c}):null)}const dD={x:0,y:0,scaleX:1,scaleY:1};function fD(e){let{children:n}=e;return Me.createElement(Ll.Provider,{value:pb},Me.createElement(Pu.Provider,{value:dD},n))}const hD={position:"fixed",touchAction:"none"},gD=e=>_h(e)?"transform 250ms ease":void 0,mD=E.forwardRef((e,n)=>{let{as:a,activatorEvent:i,adjustScale:l,children:u,className:c,rect:f,style:h,transform:m,transition:v=gD}=e;if(!f)return null;const y=l?m:{...m,scaleX:1,scaleY:1},w={...hD,width:f.width,height:f.height,top:f.top,left:f.left,transform:Tl.Transform.toString(y),transformOrigin:l&&i?oO(i,f):void 0,transition:typeof v=="function"?v(i):v,...h};return Me.createElement(a,{className:c,style:w,ref:n},u)}),pD=e=>n=>{let{active:a,dragOverlay:i}=n;const l={},{styles:u,className:c}=e;if(u!=null&&u.active)for(const[f,h]of Object.entries(u.active))h!==void 0&&(l[f]=a.node.style.getPropertyValue(f),a.node.style.setProperty(f,h));if(u!=null&&u.dragOverlay)for(const[f,h]of Object.entries(u.dragOverlay))h!==void 0&&i.node.style.setProperty(f,h);return c!=null&&c.active&&a.node.classList.add(c.active),c!=null&&c.dragOverlay&&i.node.classList.add(c.dragOverlay),function(){for(const[h,m]of Object.entries(l))a.node.style.setProperty(h,m);c!=null&&c.active&&a.node.classList.remove(c.active)}},vD=e=>{let{transform:{initial:n,final:a}}=e;return[{transform:Tl.Transform.toString(n)},{transform:Tl.Transform.toString(a)}]},yD={duration:250,easing:"ease",keyframes:vD,sideEffects:pD({styles:{active:{opacity:"0"}}})};function _D(e){let{config:n,draggableNodes:a,droppableContainers:i,measuringConfiguration:l}=e;return ku((u,c)=>{if(n===null)return;const f=a.get(u);if(!f)return;const h=f.node.current;if(!h)return;const m=mb(c);if(!m)return;const{transform:v}=on(c).getComputedStyle(c),y=rb(v);if(!y)return;const w=typeof n=="function"?n:bD(n);return cb(h,l.draggable.measure),w({active:{id:u,data:f.data,node:h,rect:l.draggable.measure(h)},draggableNodes:a,dragOverlay:{node:c,rect:l.dragOverlay.measure(m)},droppableContainers:i,measuringConfiguration:l,transform:y})})}function bD(e){const{duration:n,easing:a,sideEffects:i,keyframes:l}={...yD,...e};return u=>{let{active:c,dragOverlay:f,transform:h,...m}=u;if(!n)return;const v={x:f.rect.left-c.rect.left,y:f.rect.top-c.rect.top},y={scaleX:h.scaleX!==1?c.rect.width*h.scaleX/f.rect.width:1,scaleY:h.scaleY!==1?c.rect.height*h.scaleY/f.rect.height:1},w={x:h.x-v.x,y:h.y-v.y,...y},b=l({...m,active:c,dragOverlay:f,transform:{initial:h,final:w}}),[S]=b,C=b[b.length-1];if(JSON.stringify(S)===JSON.stringify(C))return;const R=i?.({active:c,dragOverlay:f,...m}),D=f.node.animate(b,{duration:n,easing:a,fill:"forwards"});return new Promise(L=>{D.onfinish=()=>{R?.(),L()}})}}let Ly=0;function wD(e){return E.useMemo(()=>{if(e!=null)return Ly++,Ly},[e])}const SD=Me.memo(e=>{let{adjustScale:n=!1,children:a,dropAnimation:i,style:l,transition:u,modifiers:c,wrapperElement:f="div",className:h,zIndex:m=999}=e;const{activatorEvent:v,active:y,activeNodeRect:w,containerNodeRect:b,draggableNodes:S,droppableContainers:C,dragOverlay:R,over:D,measuringConfiguration:L,scrollableAncestors:T,scrollableAncestorRects:M,windowRect:k}=lD(),V=E.useContext(Pu),P=wD(y?.id),X=yb(c,{activatorEvent:v,active:y,activeNodeRect:w,containerNodeRect:b,draggingNodeRect:R.rect,over:D,overlayNodeRect:R.rect,scrollableAncestors:T,scrollableAncestorRects:M,transform:V,windowRect:k}),ne=xh(w),ue=_D({config:i,draggableNodes:S,droppableContainers:C,measuringConfiguration:L}),le=ne?R.setRef:void 0;return Me.createElement(fD,null,Me.createElement(cD,{animation:ue},y&&P?Me.createElement(mD,{key:P,id:y.id,ref:le,as:f,activatorEvent:v,adjustScale:n,className:h,transition:u,rect:ne,style:{zIndex:m,...l},transform:X},a):null))}),xD=E.lazy(()=>Ga(()=>import("./TaskPool-_c0_jsFf.js"),[])),ED=E.lazy(()=>Ga(()=>import("./GanttChart-DQRw5z5u.js"),[])),Uy=()=>p.jsx("div",{className:"loading-fallback",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",fontSize:"16px",color:"#666"},children:"Loading scheduler components..."});function CD(){const{odpOrders:e,machines:n,selectedWorkCenter:a,isLoading:i,isInitialized:l,init:u,scheduleTask:c,unscheduleTask:f,showAlert:h}=Se(),[m,v]=E.useState(new Date),[y,w]=E.useState(null),[b,S]=E.useState([]),[C,R]=E.useState([]),[D,L]=E.useState([]),[T,M]=E.useState([]),[k,V]=E.useState(!1),[P,X]=E.useState(!1),[ne,ue]=E.useState(!1),[le,ee]=E.useState(!1),[de,xe]=E.useState(""),[_e,B]=E.useState(""),[J,fe]=E.useState(""),[we,N]=E.useState(""),[Y,G]=E.useState(!0);E.useEffect(()=>{if(l)G(!1);else{const re=performance.now();u().finally(()=>{const se=performance.now();console.log(`🚀 Store initialization took: ${(se-re).toFixed(2)}ms`),G(!1)})}},[u,l]),E.useEffect(()=>{const re=se=>{se.target.closest(".searchable-dropdown")||(V(!1),X(!1),ue(!1),ee(!1))};return document.addEventListener("mousedown",re),()=>document.removeEventListener("mousedown",re)},[]);const Q=E.useMemo(()=>{const re=performance.now();if(!n||n.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};let se=n;a&&a!==Le.BOTH&&(se=n.filter(te=>te.work_center===a));const he=se.filter(te=>te.status===Un.ACTIVE);if(he.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};const ge=new Set,qe=new Set,Je=new Set,Ut=new Set;for(const te of he)te.work_center&&ge.add(te.work_center),te.department&&qe.add(te.department),te.machine_type&&Je.add(te.machine_type),te.machine_name&&Ut.add(te.machine_name);const pt=Array.from(ge).sort(),A=Array.from(qe).sort(),$=Array.from(Je).sort(),q=Array.from(Ut).sort();console.log("📋 Available filter options:",{workCenters:pt,departments:A,machineTypes:$,machineNames:q});const ie=performance.now();return ie-re>5&&console.log(`⚡ Machine data computation took: ${(ie-re).toFixed(2)}ms`),{activeMachines:he,workCenters:pt,departments:A,machineTypes:$,machineNames:q}},[n,a]),ce=E.useMemo(()=>{const{activeMachines:re}=Q;let se=re;return b.length>0&&(se=se.filter(he=>b.includes(he.work_center))),C.length>0&&(se=se.filter(he=>C.includes(he.department))),D.length>0&&(se=se.filter(he=>D.includes(he.machine_type))),T.length>0&&(se=se.filter(he=>T.includes(he.machine_name))),se},[Q,b,C,D,T]),De=E.useCallback(re=>{v(se=>{const he=new Date(se);return re==="today"?new Date:re==="prev"?(he.setDate(he.getDate()-1),he):re==="next"?(he.setDate(he.getDate()+1),he):se})},[]),ve=E.useCallback(()=>{const re=new Date;return m.toDateString()===re.toDateString()?"Today":m.toLocaleDateString("en-US",{month:"long",day:"numeric"})},[m]),mt=E.useCallback(()=>{S([]),R([]),L([]),M([])},[]),Ve=E.useRef(null),Dt=E.useRef(!1),bt=E.useCallback(re=>{const se=performance.now(),he=re.active.data.current;he.type==="task"?w(he.task):he.type==="event"&&w(he.event),console.log(`🎯 Drag start took: ${(performance.now()-se).toFixed(2)}ms`)},[]),Cn=E.useCallback(async re=>{const se=performance.now();if(Ve.current&&clearTimeout(Ve.current),Dt.current){console.log("🚫 Drag operation already in progress, ignoring");return}w(null);const{over:he,active:ge}=re;if(!he){console.log(`✅ Drag cancelled - no drop zone (took ${(performance.now()-se).toFixed(2)}ms)`);return}const qe=ge.data.current,Je=he.data.current;if(!qe||!Je){console.log("❌ Invalid drag data");return}Dt.current=!0;try{await new Promise(Ut=>{requestAnimationFrame(async()=>{const pt=performance.now();if(qe.type==="task"&&Je.type==="slot"){const A=qe.task,{machine:$,hour:q,minute:ie,isUnavailable:te,hasScheduledTask:ae}=Je;if(te)return h("Cannot schedule task on unavailable time slot","error"),Ut();if(ae)return h("Cannot schedule task on occupied time slot","error"),Ut();const oe=new Date(m);oe.setHours(q,ie,0,0);const ye=A.time_remaining||A.duration||1,Ee=oy(oe,ye),Ue={machine:$.id,start_time:oe.toISOString(),end_time:Ee.toISOString()},qt=await c(A.id,Ue);qt?.error&&h(qt.error,"error"),console.log(`✅ Task scheduling took: ${(performance.now()-pt).toFixed(2)}ms`)}else if(qe.type==="event"&&Je.type==="slot"){const A=qe.event,{machine:$,hour:q,minute:ie,isUnavailable:te,hasScheduledTask:ae}=Je;if(te)return h("Cannot reschedule task to unavailable time slot","error"),Ut();if(ae)return h("Cannot reschedule task to occupied time slot","error"),Ut();const oe=new Date(m);oe.setHours(q,ie,0,0);const ye=A.time_remaining||A.duration||1,Ee=oy(oe,ye),Ue={machine:$.id,start_time:oe.toISOString(),end_time:Ee.toISOString()},qt=await c(A.id,Ue);qt?.error&&h(qt.error,"error"),console.log(`✅ Event rescheduling took: ${(performance.now()-pt).toFixed(2)}ms`)}else if(qe.type==="event"&&Je.type==="pool"){const A=qe.event;f(A.id),console.log(`✅ Task unscheduling took: ${(performance.now()-pt).toFixed(2)}ms`)}Ut()})})}catch(Ut){console.error("❌ Drag operation failed:",Ut),h("An error occurred during the drag operation","error")}finally{Dt.current=!1,console.log(`🎯 Total drag operation took: ${(performance.now()-se).toFixed(2)}ms`)}},[m,c,f,h]);return i||Y?p.jsx("div",{className:"scheduler-loading",children:p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("h3",{children:"Loading Production Scheduler..."}),p.jsx("p",{children:"Initializing components and data"})]})}):a?p.jsxs(aD,{onDragStart:bt,onDragEnd:Cn,children:[p.jsxs("div",{className:"scheduler-container",children:[p.jsx(E.Suspense,{fallback:p.jsx(Uy,{}),children:p.jsx(xD,{tasks:e,currentDate:m})}),p.jsxs("div",{className:"calendar-header",children:[p.jsx("h2",{className:"calendar-title",children:"Production Schedule"}),p.jsxs("div",{className:"calendar-controls",children:[p.jsxs("div",{className:"machine-filter",children:[p.jsxs("div",{className:"searchable-dropdown",style:{width:"200px"},children:[p.jsx("label",{htmlFor:"work_center_filter",children:"Work Center:"}),p.jsx("input",{type:"text",id:"work_center_filter",value:de,onChange:re=>xe(re.target.value),onFocus:()=>V(!0),placeholder:"Search Work Centers"}),k&&Q.workCenters.length>0&&p.jsxs("div",{className:"dropdown-options",children:[p.jsxs("div",{className:`dropdown-option ${Q.workCenters.filter(se=>se.toLowerCase().includes(de.toLowerCase())).every(se=>b.includes(se))&&b.length>0?"selected":""}`,onMouseDown:re=>{re.preventDefault(),re.stopPropagation();const se=Q.workCenters.filter(ge=>ge.toLowerCase().includes(de.toLowerCase())),he=se.every(ge=>b.includes(ge));S(he?ge=>ge.filter(qe=>!se.includes(qe)):ge=>[...new Set([...ge,...se])])},children:[p.jsx("span",{className:"phase-name",children:"All Work Centers"}),p.jsx("span",{className:"phase-description",children:"Show all work centers"})]}),Q.workCenters.filter(re=>re.toLowerCase().includes(de.toLowerCase())).map(re=>p.jsxs("div",{className:`dropdown-option ${b.includes(re)?"selected":""}`,onMouseDown:se=>{se.preventDefault(),se.stopPropagation(),b.includes(re)?S(he=>he.filter(ge=>ge!==re)):S(he=>[...he.filter(ge=>ge!==""),re])},children:[p.jsx("span",{className:"phase-name",children:re}),p.jsx("span",{className:"phase-description",children:"Work center"})]},re))]})]}),p.jsxs("div",{className:"searchable-dropdown",style:{width:"200px"},children:[p.jsx("label",{htmlFor:"department_filter",children:"Department:"}),p.jsx("input",{type:"text",id:"department_filter",value:_e,onChange:re=>B(re.target.value),onFocus:()=>X(!0),placeholder:"Search Departments"}),P&&Q.departments.length>0&&p.jsxs("div",{className:"dropdown-options",children:[p.jsxs("div",{className:`dropdown-option ${Q.departments.filter(se=>se.toLowerCase().includes(_e.toLowerCase())).every(se=>C.includes(se))&&C.length>0?"selected":""}`,onMouseDown:re=>{re.preventDefault(),re.stopPropagation();const se=Q.departments.filter(ge=>ge.toLowerCase().includes(_e.toLowerCase())),he=se.every(ge=>C.includes(ge));R(he?ge=>ge.filter(qe=>!se.includes(qe)):ge=>[...new Set([...ge,...se])])},children:[p.jsx("span",{className:"phase-name",children:"All Departments"}),p.jsx("span",{className:"phase-description",children:"Show all departments"})]}),Q.departments.filter(re=>re.toLowerCase().includes(_e.toLowerCase())).map(re=>p.jsxs("div",{className:`dropdown-option ${C.includes(re)?"selected":""}`,onMouseDown:se=>{se.preventDefault(),se.stopPropagation(),C.includes(re)?R(he=>he.filter(ge=>ge!==re)):R(he=>[...he.filter(ge=>ge!==""),re])},children:[p.jsx("span",{className:"phase-name",children:re}),p.jsx("span",{className:"phase-description",children:"Department"})]},re))]})]}),p.jsxs("div",{className:"searchable-dropdown",style:{width:"200px"},children:[p.jsx("label",{htmlFor:"machine_type_filter",children:"Machine Type:"}),p.jsx("input",{type:"text",id:"machine_type_filter",value:J,onChange:re=>fe(re.target.value),onFocus:()=>ue(!0),placeholder:"Search Machine Types"}),ne&&Q.machineTypes.length>0&&p.jsxs("div",{className:"dropdown-options",children:[p.jsxs("div",{className:`dropdown-option ${Q.machineTypes.filter(se=>se.toLowerCase().includes(J.toLowerCase())).every(se=>D.includes(se))&&D.length>0?"selected":""}`,onMouseDown:re=>{re.preventDefault(),re.stopPropagation();const se=Q.machineTypes.filter(ge=>ge.toLowerCase().includes(J.toLowerCase())),he=se.every(ge=>D.includes(ge));L(he?ge=>ge.filter(qe=>!se.includes(qe)):ge=>[...new Set([...ge,...se])])},children:[p.jsx("span",{className:"phase-name",children:"All Machine Types"}),p.jsx("span",{className:"phase-description",children:"Show all machine types"})]}),Q.machineTypes.filter(re=>re.toLowerCase().includes(J.toLowerCase())).map(re=>p.jsxs("div",{className:`dropdown-option ${D.includes(re)?"selected":""}`,onMouseDown:se=>{se.preventDefault(),se.stopPropagation(),D.includes(re)?L(he=>he.filter(ge=>ge!==re)):L(he=>[...he.filter(ge=>ge!==""),re])},children:[p.jsx("span",{className:"phase-name",children:re}),p.jsx("span",{className:"phase-description",children:"Machine type"})]},re))]})]}),p.jsxs("div",{className:"searchable-dropdown",style:{width:"200px"},children:[p.jsx("label",{htmlFor:"machine_name_filter",children:"Machine Name:"}),p.jsx("input",{type:"text",id:"machine_name_filter",value:we,onChange:re=>N(re.target.value),onFocus:()=>ee(!0),placeholder:"Search Machine Names"}),le&&Q.machineNames.length>0&&p.jsxs("div",{className:"dropdown-options",children:[p.jsxs("div",{className:`dropdown-option ${Q.machineNames.filter(se=>se.toLowerCase().includes(we.toLowerCase())).every(se=>T.includes(se))&&T.length>0?"selected":""}`,onMouseDown:re=>{re.preventDefault(),re.stopPropagation();const se=Q.machineNames.filter(ge=>ge.toLowerCase().includes(we.toLowerCase())),he=se.every(ge=>T.includes(ge));M(he?ge=>ge.filter(qe=>!se.includes(qe)):ge=>[...new Set([...ge,...se])])},children:[p.jsx("span",{className:"phase-name",children:"All Machine Names"}),p.jsx("span",{className:"phase-description",children:"Show all machine names"})]}),Q.machineNames.filter(re=>re.toLowerCase().includes(we.toLowerCase())).map(re=>p.jsxs("div",{className:`dropdown-option ${T.includes(re)?"selected":""}`,onMouseDown:se=>{se.preventDefault(),se.stopPropagation(),T.includes(re)?M(he=>he.filter(ge=>ge!==re)):M(he=>[...he.filter(ge=>ge!==""),re])},children:[p.jsx("span",{className:"phase-name",children:re}),p.jsx("span",{className:"phase-description",children:"Machine name"})]},re))]})]}),p.jsx("button",{className:"btn btn-secondary",onClick:mt,title:"Clear all filters",children:"Clear Filters"})]}),p.jsxs("div",{className:"calendar-navigation",children:[p.jsx("button",{className:"nav-btn today",onClick:()=>De("today"),children:"Today"}),p.jsx("button",{className:"nav-btn",onClick:()=>De("prev"),children:"<"}),p.jsx("span",{className:"current-date",children:ve()}),p.jsx("button",{className:"nav-btn",onClick:()=>De("next"),children:">"})]}),p.jsx("button",{className:"btn btn-primary",onClick:()=>{const{odpOrders:re}=Se.getState(),se=re.filter(pt=>pt.status==="SCHEDULED"),he=ce,ge=window.open("","_blank","width=1200,height=800");if(!ge)return;const qe=Array.from({length:24},(pt,A)=>`<div class="hour-header" style="grid-column: ${A*4+2} / span 4">${A.toString().padStart(2,"0")}</div>`).join(""),Je=he.map(pt=>{const A=se.filter(q=>q.machine===pt.id),$=Array.from({length:96},(q,ie)=>{const te=Math.floor(ie/4),ae=ie%4*15,oe=A.find(ye=>{const Ee=new Date(ye.scheduled_start_time),Ue=Ee.getHours(),qt=Ee.getMinutes();return Ue===te&&qt===ae});if(oe){const ye=oe.time_remaining||oe.duration||1,Ee=Math.min(ye*4,96-ie);return`<div class="time-slot scheduled" style="grid-column: ${ie+2}; grid-column-span: ${Ee}">
                        <div class="scheduled-event">${oe.odp_number}</div>
                      </div>`}return`<div class="time-slot" style="grid-column: ${ie+2}"></div>`}).join("");return`
                    <div class="machine-row">
                      <div class="machine-label">${pt.machine_name}</div>
                      ${$}
                    </div>
                  `}).join(""),Ut=`
                  <!DOCTYPE html>
                  <html>
                    <head>
                      <title>Gantt Chart - Print</title>
                      <style>
                        body { 
                          margin: 0; 
                          padding: 20px; 
                          font-family: Arial, sans-serif; 
                          font-size: 12px;
                        }
                        .gantt-container {
                          width: 100%;
                          overflow: visible;
                        }
                        .calendar-grid {
                          display: grid;
                          grid-template-columns: 150px repeat(96, 20px);
                          border: 1px solid #ccc;
                          width: fit-content;
                        }
                        .calendar-header-row {
                          display: contents;
                        }
                        .machine-label-header, .time-header {
                          background: #f5f5f5;
                          padding: 8px 4px;
                          text-align: center;
                          border-bottom: 1px solid #ccc;
                          font-weight: bold;
                        }
                        .time-header {
                          display: contents;
                        }
                        .hour-header {
                          grid-column: span 4;
                          text-align: center;
                          border-right: 1px solid #ccc;
                        }
                        .calendar-body {
                          display: contents;
                        }
                        .machine-row {
                          display: contents;
                          page-break-inside: avoid;
                        }
                        .machine-label {
                          padding: 8px 4px;
                          border-right: 1px solid #ccc;
                          border-bottom: 1px solid #ccc;
                          background: #f9f9f9;
                          min-height: 40px;
                          display: flex;
                          align-items: center;
                        }
                        .time-slot {
                          border-right: 1px solid #eee;
                          border-bottom: 1px solid #eee;
                          min-height: 40px;
                          position: relative;
                        }
                        .scheduled-event {
                          position: absolute;
                          background: #007bff;
                          color: white;
                          padding: 2px 4px;
                          border-radius: 2px;
                          font-size: 10px;
                          overflow: hidden;
                          white-space: nowrap;
                          z-index: 1;
                          width: 100%;
                          text-align: center;
                        }
                        @media print {
                          body { margin: 0; }
                          .gantt-container { width: 100%; }
                        }
                      </style>
                    </head>
                    <body>
                      <div class="gantt-container">
                        <div class="calendar-grid">
                          <div class="calendar-header-row">
                            <div class="machine-label-header">Machines</div>
                            <div class="time-header">
                              ${qe}
                            </div>
                          </div>
                          <div class="calendar-body">
                            ${Je}
                          </div>
                        </div>
                      </div>
                      <script>
                        // Force the chart to expand to full size
                        const container = document.querySelector('.gantt-container');
                        const grid = container.querySelector('.calendar-grid');
                        if (grid) {
                          grid.style.width = 'fit-content';
                          grid.style.overflow = 'visible';
                        }
                        
                        // Wait for content to render, then print
                        setTimeout(() => {
                          window.print();
                          window.close();
                        }, 500);
                      <\/script>
                    </body>
                  </html>
                `;ge.document.write(Ut),ge.document.close()},title:"Print current Gantt chart as PDF",children:"Print PDF"})]})]}),p.jsx(E.Suspense,{fallback:p.jsx(Uy,{}),children:p.jsx(ED,{machines:ce,tasks:e,currentDate:m})})]}),p.jsx(SD,{children:y?p.jsxs("div",{className:"task-item drag-overlay",style:{boxShadow:"0 8px 25px rgba(0,0,0,0.3)",transform:"rotate(3deg) scale(1.05)",opacity:.9,zIndex:1002,pointerEvents:"none"},children:[p.jsx("span",{children:y.odp_number}),p.jsxs("span",{className:"task-duration",children:[y.duration||1,"h"]})]}):null})]}):p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"error",children:"Please select a work center to view scheduler data."})})}function TD(){const{machines:e,odpOrders:n,isLoading:a,isInitialized:i,init:l}=Se();E.useEffect(()=>{i||l()},[l,i]);const u=E.useMemo(()=>{if(a)return{};const c=e.reduce((b,S)=>{const C=S.work_center||"Unknown";return b[C]||(b[C]={[Un.ACTIVE]:0,[Un.INACTIVE]:0,[Un.MAINTENANCE]:0}),b[C][S.status]=(b[C][S.status]||0)+1,b},{}),f=new Date,h=new Date(f);h.setDate(f.getDate()-f.getDay()),h.setHours(0,0,0,0);const m=n.filter(b=>b.completion_date?new Date(b.completion_date)>=h:!1).length,v=n.filter(b=>b.status==="IN PROGRESS"||b.status==="SCHEDULED").length,y=n.filter(b=>b.due_date?new Date(b.due_date)<f&&b.quantity_completed<b.quantity:!1).length,w=e.filter(b=>b.status===Un.ACTIVE).length;return{machinesByWorkCenter:c,completedThisWeek:m,tasksInWip:v,delayedTasks:y,activeMachines:w,totalMachines:e.length,totalOrders:n.length}},[e,n,a]);return a?p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"loading",children:"Loading dashboard..."})}):p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Production Dashboard"}),p.jsxs("div",{className:"metrics-grid",children:[p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Total Machines"}),p.jsx("div",{className:"metric-value",children:u.totalMachines}),p.jsxs("div",{className:"metric-subtitle",children:["Active: ",u.activeMachines]})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Total Orders"}),p.jsx("div",{className:"metric-value",children:u.totalOrders})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Completed This Week"}),p.jsx("div",{className:"metric-value",children:u.completedThisWeek})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Tasks in WIP"}),p.jsx("div",{className:"metric-value",children:u.tasksInWip})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Delayed Tasks"}),p.jsx("div",{className:"metric-value delayed",children:u.delayedTasks})]})]}),p.jsxs("div",{className:"charts-container",children:[p.jsxs("div",{className:"chart-section",children:[p.jsx("h3",{children:"Machines by Work Center"}),p.jsx("div",{className:"work-center-chart",children:Object.entries(u.machinesByWorkCenter||{}).map(([c,f])=>p.jsxs("div",{className:"work-center-group",children:[p.jsx("h4",{children:c}),p.jsx("div",{className:"status-bars",children:Object.entries(f).map(([h,m])=>p.jsxs("div",{className:"status-bar",children:[p.jsx("span",{className:"status-label",children:h}),p.jsx("div",{className:"status-bar-fill",style:{width:`${m/Math.max(...Object.values(f))*100}%`},children:m})]},h))})]},c))})]}),p.jsxs("div",{className:"chart-section",children:[p.jsx("h3",{children:"Weekly Task Completion"}),p.jsxs("div",{className:"simple-chart",children:[p.jsx("div",{className:"chart-bar",style:{height:`${u.completedThisWeek/Math.max(u.totalOrders,1)*200}px`},children:p.jsx("span",{className:"chart-label",children:u.completedThisWeek})}),p.jsx("div",{className:"chart-x-axis",children:"This Week"})]})]})]})]})}function RD(){const[e,n]=E.useState({email:"",password:"",workCenter:""}),[a,i]=E.useState(!1),[l,u]=E.useState({}),{signIn:c,error:f,setSelectedWorkCenter:h}=es(),m=Tu(),v=S=>{const{name:C,value:R}=S.target;n(D=>({...D,[C]:R})),l[C]&&u(D=>({...D,[C]:""}))},y=()=>{const S={};return e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(S.email="Please enter a valid email address"):S.email="Email is required",e.password?e.password.length<6&&(S.password="Password must be at least 6 characters"):S.password="Password is required",e.workCenter||(S.workCenter="Work center is required"),u(S),Object.keys(S).length===0},w=async S=>{if(S.preventDefault(),!!y()){i(!0);try{const C=await c(e.email,e.password);C.success?(h(e.workCenter),console.log("Login successful, work center set to:",e.workCenter),m("/",{replace:!0})):console.log("Login failed:",C.error)}catch(C){console.error("Login error:",C)}finally{i(!1)}}},b=S=>l[S]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:l[S]}):null;return p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Welcome Back"}),p.jsx("p",{children:"Sign in to your account to continue"})]}),p.jsxs("form",{onSubmit:w,className:"auth-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:v,placeholder:"Enter your email",className:l.email?"error":"",disabled:a,autoComplete:"email"}),b("email")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Password"}),p.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:v,placeholder:"Enter your password",className:l.password?"error":"",disabled:a,autoComplete:"current-password"}),b("password")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"workCenter",children:"Work Center *"}),p.jsxs("select",{id:"workCenter",name:"workCenter",value:e.workCenter,onChange:v,className:l.workCenter?"error":"",disabled:a,children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Le.ZANICA,children:Le.ZANICA}),p.jsx("option",{value:Le.BUSTO_GAROLFO,children:Le.BUSTO_GAROLFO}),p.jsx("option",{value:Le.BOTH,children:Le.BOTH})]}),b("workCenter")]}),f&&p.jsxs("div",{className:"auth-error",children:[p.jsx("span",{className:"error-icon",children:"⚠️"}),f]}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:a,children:a?"Signing In...":"Sign In"})]}),p.jsxs("div",{className:"auth-links",children:[p.jsx(Pn,{to:"/forgot-password",className:"auth-link",children:"Forgot your password?"}),p.jsx("div",{className:"auth-divider",children:p.jsx("span",{children:"Don't have an account?"})}),p.jsx(Pn,{to:"/signup",className:"btn btn-secondary",children:"Create Account"})]}),!1]})})}function AD(){const[e,n]=E.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[a,i]=E.useState(!1),[l,u]=E.useState({}),{signUp:c,error:f}=es(),h=Tu(),m=b=>{const{name:S,value:C}=b.target;n(R=>({...R,[S]:C})),l[S]&&u(R=>({...R,[S]:""}))},v=()=>{const b={};return e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(b.email="Please enter a valid email address"):b.email="Email is required",e.password?e.password.length<6&&(b.password="Password must be at least 6 characters"):b.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(b.confirmPassword="Passwords do not match"):b.confirmPassword="Please confirm your password",e.firstName.trim()||(b.firstName="First name is required"),e.lastName.trim()||(b.lastName="Last name is required"),u(b),Object.keys(b).length===0},y=async b=>{if(b.preventDefault(),!!v()){i(!0);try{const S={first_name:e.firstName,last_name:e.lastName,full_name:`${e.firstName} ${e.lastName}`},C=await c(e.email,e.password,S);C.success?(console.log("Signup successful, redirecting to home"),h("/",{replace:!0})):console.log("Signup failed:",C.error)}catch(S){console.error("Signup error:",S)}finally{i(!1)}}},w=b=>l[b]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:l[b]}):null;return p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Create Account"}),p.jsx("p",{children:"Sign up to get started with your account"})]}),p.jsxs("form",{onSubmit:y,className:"auth-form",children:[p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"firstName",children:"First Name"}),p.jsx("input",{type:"text",id:"firstName",name:"firstName",value:e.firstName,onChange:m,placeholder:"Enter your first name",className:l.firstName?"error":"",disabled:a,autoComplete:"given-name"}),w("firstName")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"lastName",children:"Last Name"}),p.jsx("input",{type:"text",id:"lastName",name:"lastName",value:e.lastName,onChange:m,placeholder:"Enter your last name",className:l.lastName?"error":"",disabled:a,autoComplete:"family-name"}),w("lastName")]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:m,placeholder:"Enter your email",className:l.email?"error":"",disabled:a,autoComplete:"email"}),w("email")]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Password"}),p.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:m,placeholder:"Create a password",className:l.password?"error":"",disabled:a,autoComplete:"new-password"}),w("password")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),p.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:m,placeholder:"Confirm your password",className:l.confirmPassword?"error":"",disabled:a,autoComplete:"new-password"}),w("confirmPassword")]})]}),f&&p.jsxs("div",{className:"auth-error",children:[p.jsx("span",{className:"error-icon",children:"⚠️"}),f]}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:a,children:a?"Creating Account...":"Create Account"})]}),p.jsxs("div",{className:"auth-links",children:[p.jsx("div",{className:"auth-divider",children:p.jsx("span",{children:"Already have an account?"})}),p.jsx(Pn,{to:"/login",className:"btn btn-secondary",children:"Sign In"})]})]})})}function OD(){const[e,n]=E.useState(""),[a,i]=E.useState(!1),[l,u]=E.useState(!1),[c,f]=E.useState(""),{resetPassword:h}=es(),m=async v=>{if(v.preventDefault(),!e.trim()){f("Please enter your email address");return}if(!/\S+@\S+\.\S+/.test(e)){f("Please enter a valid email address");return}i(!0),f("");try{const y=await h(e);y.success?u(!0):f(y.error||"Failed to send reset email")}catch(y){console.error("Password reset error:",y),f("An unexpected error occurred")}finally{i(!1)}};return l?p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Check Your Email"}),p.jsxs("p",{children:["We've sent a password reset link to ",e]})]}),p.jsxs("div",{className:"auth-success",children:[p.jsx("div",{className:"success-icon",children:"✅"}),p.jsx("p",{children:"If you don't see the email, check your spam folder."})]}),p.jsx("div",{className:"auth-links",children:p.jsx(Pn,{to:"/login",className:"btn btn-primary",children:"Back to Sign In"})})]})}):p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Reset Password"}),p.jsx("p",{children:"Enter your email to receive a password reset link"})]}),p.jsxs("form",{onSubmit:m,className:"auth-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:e,onChange:v=>n(v.target.value),placeholder:"Enter your email",disabled:a,autoComplete:"email"})]}),c&&p.jsxs("div",{className:"auth-error",children:[p.jsx("span",{className:"error-icon",children:"⚠️"}),c]}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:a,children:a?"Sending...":"Send Reset Link"})]}),p.jsx("div",{className:"auth-links",children:p.jsx(Pn,{to:"/login",className:"auth-link",children:"Back to Sign In"})})]})})}class Eu extends Me.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static generateErrorId(){return`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorId:Eu.generateErrorId()}}componentDidCatch(n,a){console.error("🚨 Error Boundary caught an error:",n,a),this.setState({errorInfo:a,errorId:this.state.errorId||Eu.generateErrorId()}),this.logErrorToService(n,a)}logErrorToService(n,a){console.group("🚨 Production Error Report"),console.log("Error ID:",this.state.errorId),console.log("Error:",n),console.log("Error Info:",a),console.log("User Agent:",navigator.userAgent),console.log("URL:",window.location.href),console.log("Timestamp:",new Date().toISOString()),console.groupEnd()}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null}),window.location.reload()};handleGoHome=()=>{window.location.href="/"};handleReportIssue=()=>{const n=encodeURIComponent(`App Error Report - ${this.state.errorId}`),a=encodeURIComponent(`
Error Report Details:
- Error ID: ${this.state.errorId}
- Error: ${this.state.error?.message||"Unknown error"}
- URL: ${window.location.href}
- User Agent: ${navigator.userAgent}
- Timestamp: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:
    `);window.open(`mailto:support@company.com?subject=${n}&body=${a}`)};render(){return this.state.hasError?p.jsx("div",{className:"error-boundary",children:p.jsxs("div",{className:"error-boundary__container",children:[p.jsx("div",{className:"error-boundary__icon",children:"🚨"}),p.jsx("h1",{className:"error-boundary__title",children:"Oops! Something went wrong"}),p.jsx("p",{className:"error-boundary__message",children:"We're sorry, but something unexpected happened. Our team has been notified and is working to fix this issue."}),!1,p.jsxs("div",{className:"error-boundary__actions",children:[p.jsx("button",{onClick:this.handleRetry,className:"error-boundary__button error-boundary__button--primary",children:"🔄 Try Again"}),p.jsx("button",{onClick:this.handleGoHome,className:"error-boundary__button error-boundary__button--secondary",children:"🏠 Go to Home"}),p.jsx("button",{onClick:this.handleReportIssue,className:"error-boundary__button error-boundary__button--secondary",children:"📧 Report Issue"})]}),p.jsxs("div",{className:"error-boundary__footer",children:[p.jsxs("p",{className:"error-boundary__error-id",children:["Error ID: ",p.jsx("code",{children:this.state.errorId})]}),p.jsx("p",{className:"error-boundary__help",children:"If this problem persists, please contact support with the Error ID above."})]})]})}):this.props.children}}const DD=()=>{const{user:e,loading:n}=es();return n?p.jsx("div",{className:"auth-loading",children:p.jsxs("div",{className:"auth-loading__container",children:[p.jsx("div",{className:"auth-loading__spinner"}),p.jsx("p",{children:"Checking authentication..."})]})}):e?p.jsx(Ky,{}):(console.log("User not authenticated, redirecting to login"),p.jsx(Yy,{to:"/login",replace:!0}))},ND=({message:e,type:n="info",isVisible:a,onClose:i,autoClose:l=!0,duration:u=5e3})=>{if(E.useEffect(()=>{if(l&&a){const h=setTimeout(()=>{i()},u);return()=>clearTimeout(h)}},[a,l,u,i]),!a)return null;const c="alert",f={success:"alert--success",error:"alert--error",warning:"alert--warning",info:"alert--info"};return p.jsx("div",{className:`${c} ${f[n]||f.info}`,children:p.jsxs("div",{className:"alert__content",children:[p.jsx("span",{className:"alert__message",children:e}),p.jsx("button",{onClick:i,className:"alert__close","aria-label":"Close",children:"×"})]})})},jD=({isOpen:e,title:n,message:a,onConfirm:i,onCancel:l,confirmText:u="Delete",cancelText:c="Cancel",type:f="danger"})=>{if(!e)return null;const h="confirm-dialog",m={danger:"confirm-dialog--danger",warning:"confirm-dialog--warning",info:"confirm-dialog--info"};return p.jsxs("div",{className:`${h} ${m[f]||m.danger}`,children:[p.jsx("div",{className:"confirm-dialog__overlay",onClick:l}),p.jsxs("div",{className:"confirm-dialog__content",children:[p.jsx("div",{className:"confirm-dialog__header",children:p.jsx("h3",{className:"confirm-dialog__title",children:n})}),p.jsx("div",{className:"confirm-dialog__body",children:p.jsx("p",{className:"confirm-dialog__message",children:a})}),p.jsxs("div",{className:"confirm-dialog__footer",children:[p.jsx("button",{onClick:l,className:"confirm-dialog__button confirm-dialog__button--secondary",children:c}),p.jsx("button",{onClick:i,className:"confirm-dialog__button confirm-dialog__button--primary",children:u})]})]})]})},MD=()=>{const{alert:e,hideAlert:n,confirmDialog:a,hideConfirmDialog:i}=Se(),{selectedWorkCenter:l,setSelectedWorkCenter:u}=es(),c=Se(f=>f.setSelectedWorkCenter);return E.useEffect(()=>{l&&c(l)},[l,c]),p.jsxs("div",{className:"main-content",children:[p.jsx(iR,{}),p.jsx("div",{className:"page-container",children:p.jsx("main",{children:p.jsx(Ky,{})})}),p.jsx(ND,{message:e.message,type:e.type,isVisible:e.isVisible,onClose:n}),p.jsx(jD,{isOpen:a.isOpen,title:a.title,message:a.message,onConfirm:()=>{a.onConfirm?.(),i()},onCancel:i,type:a.type})]})};function kD(){return p.jsx(Eu,{children:p.jsxs(DS,{children:[p.jsx(xn,{path:"/login",element:p.jsx(RD,{})}),p.jsx(xn,{path:"/signup",element:p.jsx(AD,{})}),p.jsx(xn,{path:"/forgot-password",element:p.jsx(OD,{})}),p.jsx(xn,{path:"/",element:p.jsx(DD,{}),children:p.jsxs(xn,{element:p.jsx(MD,{}),children:[p.jsx(xn,{index:!0,element:p.jsx(TD,{})}),p.jsx(xn,{path:"machinery",element:p.jsx(FA,{})}),p.jsx(xn,{path:"machinery/:machineId/calendar",element:p.jsx(IA,{})}),p.jsx(xn,{path:"phases",element:p.jsx(GA,{})}),p.jsx(xn,{path:"backlog",element:p.jsx(KA,{})}),p.jsx(xn,{path:"scheduler",element:p.jsx(CD,{})})]})}),p.jsx(xn,{path:"*",element:p.jsx(Yy,{to:"/",replace:!0})})]})})}const LD="/flexi/";Pw.createRoot(document.getElementById("root")).render(p.jsx(Me.StrictMode,{children:p.jsx(JS,{basename:LD,children:p.jsx(mC,{children:p.jsx(kD,{})})})}));export{Me as R,qD as a,ID as b,VD as c,HD as g,BD as i,p as j,E as r,Wt as t,Se as u};
