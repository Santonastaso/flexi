(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=r(l);fetch(l.href,o)}})();function nh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Hw(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var r=function i(){var l=!1;try{l=this instanceof i}catch{}return l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var l=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,l.get?l:{enumerable:!0,get:function(){return e[i]}})}),r}var nf={exports:{}},il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function Iw(){if(_v)return il;_v=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,l,o){var c=null;if(o!==void 0&&(c=""+o),l.key!==void 0&&(c=""+l.key),"key"in l){o={};for(var f in l)f!=="key"&&(o[f]=l[f])}else o=l;return l=o.ref,{$$typeof:e,type:i,key:c,ref:l!==void 0?l:null,props:o}}return il.Fragment=n,il.jsx=r,il.jsxs=r,il}var bv;function $w(){return bv||(bv=1,nf.exports=Iw()),nf.exports}var p=$w(),af={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function Bw(){if(wv)return Oe;wv=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function _(D){return D===null||typeof D!="object"?null:(D=y&&D[y]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,R={};function C(D,$,Y){this.props=D,this.context=$,this.refs=R,this.updater=Y||w}C.prototype.isReactComponent={},C.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},C.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function T(){}T.prototype=C.prototype;function O(D,$,Y){this.props=D,this.context=$,this.refs=R,this.updater=Y||w}var A=O.prototype=new T;A.constructor=O,S(A,C.prototype),A.isPureReactComponent=!0;var B=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function J(D,$,Y,q,ie,ye){return Y=ye.ref,{$$typeof:e,type:D,key:$,ref:Y!==void 0?Y:null,props:ye}}function ce(D,$){return J(D.type,$,void 0,void 0,void 0,D.props)}function de(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function ne(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Y){return $[Y]})}var ee=/\/+/g;function X(D,$){return typeof D=="object"&&D!==null&&D.key!=null?ne(""+D.key):$.toString(36)}function se(){}function le(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(se,se):(D.status="pending",D.then(function($){D.status==="pending"&&(D.status="fulfilled",D.value=$)},function($){D.status==="pending"&&(D.status="rejected",D.reason=$)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function pe(D,$,Y,q,ie){var ye=typeof D;(ye==="undefined"||ye==="boolean")&&(D=null);var ue=!1;if(D===null)ue=!0;else switch(ye){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(D.$$typeof){case e:case n:ue=!0;break;case v:return ue=D._init,pe(ue(D._payload),$,Y,q,ie)}}if(ue)return ie=ie(D),ue=q===""?"."+X(D,0):q,B(ie)?(Y="",ue!=null&&(Y=ue.replace(ee,"$&/")+"/"),pe(ie,$,Y,"",function(Ze){return Ze})):ie!=null&&(de(ie)&&(ie=ce(ie,Y+(ie.key==null||D&&D.key===ie.key?"":(""+ie.key).replace(ee,"$&/")+"/")+ue)),$.push(ie)),1;ue=0;var Be=q===""?".":q+":";if(B(D))for(var Ce=0;Ce<D.length;Ce++)q=D[Ce],ye=Be+X(q,Ce),ue+=pe(q,$,Y,ye,ie);else if(Ce=_(D),typeof Ce=="function")for(D=Ce.call(D),Ce=0;!(q=D.next()).done;)q=q.value,ye=Be+X(q,Ce++),ue+=pe(q,$,Y,ye,ie);else if(ye==="object"){if(typeof D.then=="function")return pe(le(D),$,Y,q,ie);throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ue}function L(D,$,Y){if(D==null)return D;var q=[],ie=0;return pe(D,q,"","",function(ye){return $.call(Y,ye,ie++)}),q}function Q(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(Y){(D._status===0||D._status===-1)&&(D._status=1,D._result=Y)},function(Y){(D._status===0||D._status===-1)&&(D._status=2,D._result=Y)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var ae=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function he(){}return Oe.Children={map:L,forEach:function(D,$,Y){L(D,function(){$.apply(this,arguments)},Y)},count:function(D){var $=0;return L(D,function(){$++}),$},toArray:function(D){return L(D,function($){return $})||[]},only:function(D){if(!de(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Oe.Component=C,Oe.Fragment=r,Oe.Profiler=l,Oe.PureComponent=O,Oe.StrictMode=i,Oe.Suspense=h,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return U.H.useMemoCache(D)}},Oe.cache=function(D){return function(){return D.apply(null,arguments)}},Oe.cloneElement=function(D,$,Y){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var q=S({},D.props),ie=D.key,ye=void 0;if($!=null)for(ue in $.ref!==void 0&&(ye=void 0),$.key!==void 0&&(ie=""+$.key),$)!Z.call($,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&$.ref===void 0||(q[ue]=$[ue]);var ue=arguments.length-2;if(ue===1)q.children=Y;else if(1<ue){for(var Be=Array(ue),Ce=0;Ce<ue;Ce++)Be[Ce]=arguments[Ce+2];q.children=Be}return J(D.type,ie,void 0,void 0,ye,q)},Oe.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},Oe.createElement=function(D,$,Y){var q,ie={},ye=null;if($!=null)for(q in $.key!==void 0&&(ye=""+$.key),$)Z.call($,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(ie[q]=$[q]);var ue=arguments.length-2;if(ue===1)ie.children=Y;else if(1<ue){for(var Be=Array(ue),Ce=0;Ce<ue;Ce++)Be[Ce]=arguments[Ce+2];ie.children=Be}if(D&&D.defaultProps)for(q in ue=D.defaultProps,ue)ie[q]===void 0&&(ie[q]=ue[q]);return J(D,ye,void 0,void 0,null,ie)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(D){return{$$typeof:f,render:D}},Oe.isValidElement=de,Oe.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:Q}},Oe.memo=function(D,$){return{$$typeof:m,type:D,compare:$===void 0?null:$}},Oe.startTransition=function(D){var $=U.T,Y={};U.T=Y;try{var q=D(),ie=U.S;ie!==null&&ie(Y,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(he,ae)}catch(ye){ae(ye)}finally{U.T=$}},Oe.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Oe.use=function(D){return U.H.use(D)},Oe.useActionState=function(D,$,Y){return U.H.useActionState(D,$,Y)},Oe.useCallback=function(D,$){return U.H.useCallback(D,$)},Oe.useContext=function(D){return U.H.useContext(D)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(D,$){return U.H.useDeferredValue(D,$)},Oe.useEffect=function(D,$,Y){var q=U.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(D,$)},Oe.useId=function(){return U.H.useId()},Oe.useImperativeHandle=function(D,$,Y){return U.H.useImperativeHandle(D,$,Y)},Oe.useInsertionEffect=function(D,$){return U.H.useInsertionEffect(D,$)},Oe.useLayoutEffect=function(D,$){return U.H.useLayoutEffect(D,$)},Oe.useMemo=function(D,$){return U.H.useMemo(D,$)},Oe.useOptimistic=function(D,$){return U.H.useOptimistic(D,$)},Oe.useReducer=function(D,$,Y){return U.H.useReducer(D,$,Y)},Oe.useRef=function(D){return U.H.useRef(D)},Oe.useState=function(D){return U.H.useState(D)},Oe.useSyncExternalStore=function(D,$,Y){return U.H.useSyncExternalStore(D,$,Y)},Oe.useTransition=function(){return U.H.useTransition()},Oe.version="19.1.1",Oe}var Sv;function ah(){return Sv||(Sv=1,af.exports=Bw()),af.exports}var E=ah();const De=nh(E);var rf={exports:{}},sl={},sf={exports:{}},lf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function Vw(){return Ev||(Ev=1,(function(e){function n(L,Q){var ae=L.length;L.push(Q);e:for(;0<ae;){var he=ae-1>>>1,D=L[he];if(0<l(D,Q))L[he]=Q,L[ae]=D,ae=he;else break e}}function r(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var Q=L[0],ae=L.pop();if(ae!==Q){L[0]=ae;e:for(var he=0,D=L.length,$=D>>>1;he<$;){var Y=2*(he+1)-1,q=L[Y],ie=Y+1,ye=L[ie];if(0>l(q,ae))ie<D&&0>l(ye,q)?(L[he]=ye,L[ie]=ae,he=ie):(L[he]=q,L[Y]=ae,he=Y);else if(ie<D&&0>l(ye,ae))L[he]=ye,L[ie]=ae,he=ie;else break e}}return Q}function l(L,Q){var ae=L.sortIndex-Q.sortIndex;return ae!==0?ae:L.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var h=[],m=[],v=1,y=null,_=3,w=!1,S=!1,R=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function B(L){for(var Q=r(m);Q!==null;){if(Q.callback===null)i(m);else if(Q.startTime<=L)i(m),Q.sortIndex=Q.expirationTime,n(h,Q);else break;Q=r(m)}}function U(L){if(R=!1,B(L),!S)if(r(h)!==null)S=!0,Z||(Z=!0,X());else{var Q=r(m);Q!==null&&pe(U,Q.startTime-L)}}var Z=!1,J=-1,ce=5,de=-1;function ne(){return C?!0:!(e.unstable_now()-de<ce)}function ee(){if(C=!1,Z){var L=e.unstable_now();de=L;var Q=!0;try{e:{S=!1,R&&(R=!1,O(J),J=-1),w=!0;var ae=_;try{t:{for(B(L),y=r(h);y!==null&&!(y.expirationTime>L&&ne());){var he=y.callback;if(typeof he=="function"){y.callback=null,_=y.priorityLevel;var D=he(y.expirationTime<=L);if(L=e.unstable_now(),typeof D=="function"){y.callback=D,B(L),Q=!0;break t}y===r(h)&&i(h),B(L)}else i(h);y=r(h)}if(y!==null)Q=!0;else{var $=r(m);$!==null&&pe(U,$.startTime-L),Q=!1}}break e}finally{y=null,_=ae,w=!1}Q=void 0}}finally{Q?X():Z=!1}}}var X;if(typeof A=="function")X=function(){A(ee)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,le=se.port2;se.port1.onmessage=ee,X=function(){le.postMessage(null)}}else X=function(){T(ee,0)};function pe(L,Q){J=T(function(){L(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(L){switch(_){case 1:case 2:case 3:var Q=3;break;default:Q=_}var ae=_;_=Q;try{return L()}finally{_=ae}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(L,Q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ae=_;_=L;try{return Q()}finally{_=ae}},e.unstable_scheduleCallback=function(L,Q,ae){var he=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?he+ae:he):ae=he,L){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ae+D,L={id:v++,callback:Q,priorityLevel:L,startTime:ae,expirationTime:D,sortIndex:-1},ae>he?(L.sortIndex=ae,n(m,L),r(h)===null&&L===r(m)&&(R?(O(J),J=-1):R=!0,pe(U,ae-he))):(L.sortIndex=D,n(h,L),S||w||(S=!0,Z||(Z=!0,X()))),L},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(L){var Q=_;return function(){var ae=_;_=Q;try{return L.apply(this,arguments)}finally{_=ae}}}})(lf)),lf}var xv;function qw(){return xv||(xv=1,sf.exports=Vw()),sf.exports}var of={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function Gw(){if(Rv)return Zt;Rv=1;var e=ah();function n(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(h,m,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:h,containerInfo:m,implementation:v}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Zt.createPortal=function(h,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return o(h,m,null,v)},Zt.flushSync=function(h){var m=c.T,v=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=m,i.p=v,i.d.f()}},Zt.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},Zt.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Zt.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var v=m.as,y=f(v,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:w}):v==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Zt.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=f(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},Zt.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,y=f(v,m.crossOrigin);i.d.L(h,v,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Zt.preloadModule=function(h,m){if(typeof h=="string")if(m){var v=f(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},Zt.requestFormReset=function(h){i.d.r(h)},Zt.unstable_batchedUpdates=function(h,m){return h(m)},Zt.useFormState=function(h,m,v){return c.H.useFormState(h,m,v)},Zt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Zt.version="19.1.1",Zt}var Cv;function Wy(){if(Cv)return of.exports;Cv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),of.exports=Gw(),of.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function Yw(){if(Tv)return sl;Tv=1;var e=qw(),n=ah(),r=Wy();function i(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function c(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function f(t){if(o(t)!==t)throw Error(i(188))}function h(t){var a=t.alternate;if(!a){if(a=o(t),a===null)throw Error(i(188));return a!==t?null:t}for(var s=t,u=a;;){var d=s.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){s=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===s)return f(d),t;if(g===u)return f(d),a;g=g.sibling}throw Error(i(188))}if(s.return!==u.return)s=d,u=g;else{for(var b=!1,x=d.child;x;){if(x===s){b=!0,s=d,u=g;break}if(x===u){b=!0,u=d,s=g;break}x=x.sibling}if(!b){for(x=g.child;x;){if(x===s){b=!0,s=g,u=d;break}if(x===u){b=!0,u=g,s=d;break}x=x.sibling}if(!b)throw Error(i(189))}}if(s.alternate!==u)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:a}function m(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=m(t),a!==null)return a;t=t.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function X(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var se=Symbol.for("react.client.reference");function le(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===se?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case C:return"Profiler";case R:return"StrictMode";case U:return"Suspense";case Z:return"SuspenseList";case de:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case A:return(t.displayName||"Context")+".Provider";case O:return(t._context.displayName||"Context")+".Consumer";case B:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return a=t.displayName||null,a!==null?a:le(t.type)||"Memo";case ce:a=t._payload,t=t._init;try{return le(t(a))}catch{}}return null}var pe=Array.isArray,L=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},he=[],D=-1;function $(t){return{current:t}}function Y(t){0>D||(t.current=he[D],he[D]=null,D--)}function q(t,a){D++,he[D]=t.current,t.current=a}var ie=$(null),ye=$(null),ue=$(null),Be=$(null);function Ce(t,a){switch(q(ue,a),q(ye,t),q(ie,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?Yp(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=Yp(a),t=Kp(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ie),q(ie,t)}function Ze(){Y(ie),Y(ye),Y(ue)}function je(t){t.memoizedState!==null&&q(Be,t);var a=ie.current,s=Kp(a,t.type);a!==s&&(q(ye,t),q(ie,s))}function Yt(t){ye.current===t&&(Y(ie),Y(ye)),Be.current===t&&(Y(Be),el._currentValue=ae)}var _t=Object.prototype.hasOwnProperty,xn=e.unstable_scheduleCallback,bt=e.unstable_cancelCallback,ma=e.unstable_shouldYield,ea=e.unstable_requestPaint,tn=e.unstable_now,cs=e.unstable_getCurrentPriorityLevel,pa=e.unstable_ImmediatePriority,j=e.unstable_UserBlockingPriority,z=e.unstable_NormalPriority,V=e.unstable_LowPriority,oe=e.unstable_IdlePriority,re=e.log,te=e.unstable_setDisableYieldValue,ge=null,be=null;function Te(t){if(typeof re=="function"&&te(t),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(ge,t)}catch{}}var He=Math.clz32?Math.clz32:Jr,va=Math.log,Ct=Math.LN2;function Jr(t){return t>>>=0,t===0?32:31-(va(t)/Ct|0)|0}var ta=256,na=4194304;function hn(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function aa(t,a,s){var u=t.pendingLanes;if(u===0)return 0;var d=0,g=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var x=u&134217727;return x!==0?(u=x&~g,u!==0?d=hn(u):(b&=x,b!==0?d=hn(b):s||(s=x&~t,s!==0&&(d=hn(s))))):(x=u&~g,x!==0?d=hn(x):b!==0?d=hn(b):s||(s=u&~t,s!==0&&(d=hn(s)))),d===0?0:a!==0&&a!==d&&(a&g)===0&&(g=d&-d,s=a&-a,g>=s||g===32&&(s&4194048)!==0)?a:d}function ya(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Rr(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gl(){var t=ta;return ta<<=1,(ta&4194048)===0&&(ta=256),t}function Yl(){var t=na;return na<<=1,(na&62914560)===0&&(na=4194304),t}function ds(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function ht(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nn(t,a,s,u,d,g){var b=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var x=t.entanglements,N=t.expirationTimes,F=t.hiddenUpdates;for(s=b&~s;0<s;){var G=31-He(s),W=1<<G;x[G]=0,N[G]=-1;var H=F[G];if(H!==null)for(F[G]=null,G=0;G<H.length;G++){var I=H[G];I!==null&&(I.lane&=-536870913)}s&=~W}u!==0&&Kt(t,u,0),g!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=g&~(b&~a))}function Kt(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var u=31-He(a);t.entangledLanes|=a,t.entanglements[u]=t.entanglements[u]|1073741824|s&4194090}function zn(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var u=31-He(s),d=1<<u;d&a|t[u]&a&&(t[u]|=a),s&=~d}}function Xt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function It(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gn(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:hv(t.type))}function qa(t,a){var s=Q.p;try{return Q.p=t,a()}finally{Q.p=s}}var nt=Math.random().toString(36).slice(2),it="__reactFiber$"+nt,st="__reactProps$"+nt,Wt="__reactContainer$"+nt,_a="__reactEvents$"+nt,Cr="__reactListeners$"+nt,ra="__reactHandles$"+nt,Ga="__reactResources$"+nt,ba="__reactMarker$"+nt;function Xu(t){delete t[it],delete t[st],delete t[_a],delete t[Cr],delete t[ra]}function ei(t){var a=t[it];if(a)return a;for(var s=t.parentNode;s;){if(a=s[Wt]||s[it]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=Zp(t);t!==null;){if(s=t[it])return s;t=Zp(t)}return a}t=s,s=t.parentNode}return null}function ti(t){if(t=t[it]||t[Wt]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function fs(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(i(33))}function ni(t){var a=t[Ga];return a||(a=t[Ga]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Mt(t){t[ba]=!0}var Lh=new Set,Ph={};function Tr(t,a){ai(t,a),ai(t+"Capture",a)}function ai(t,a){for(Ph[t]=a,t=0;t<a.length;t++)Lh.add(a[t])}var jb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zh={},Fh={};function Mb(t){return _t.call(Fh,t)?!0:_t.call(zh,t)?!1:jb.test(t)?Fh[t]=!0:(zh[t]=!0,!1)}function Kl(t,a,s){if(Mb(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function Xl(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function wa(t,a,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+u)}}var Wu,Hh;function ri(t){if(Wu===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Wu=a&&a[1]||"",Hh=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wu+t+Hh}var Qu=!1;function Zu(t,a){if(!t||Qu)return"";Qu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(I){var H=I}Reflect.construct(t,[],W)}else{try{W.call()}catch(I){H=I}t.call(W.prototype)}}else{try{throw Error()}catch(I){H=I}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(I){if(I&&H&&typeof I.stack=="string")return[I.stack,H.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],x=g[1];if(b&&x){var N=b.split(`
`),F=x.split(`
`);for(d=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(u===N.length||d===F.length)for(u=N.length-1,d=F.length-1;1<=u&&0<=d&&N[u]!==F[d];)d--;for(;1<=u&&0<=d;u--,d--)if(N[u]!==F[d]){if(u!==1||d!==1)do if(u--,d--,0>d||N[u]!==F[d]){var G=`
`+N[u].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=u&&0<=d);break}}}finally{Qu=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ri(s):""}function kb(t){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return Zu(t.type,!1);case 11:return Zu(t.type.render,!1);case 1:return Zu(t.type,!0);case 31:return ri("Activity");default:return""}}function Ih(t){try{var a="";do a+=kb(t),t=t.return;while(t);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $h(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ub(t){var a=$h(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),u=""+t[a];if(!t.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,g=s.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return d.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(t,a,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Wl(t){t._valueTracker||(t._valueTracker=Ub(t))}function Bh(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),u="";return t&&(u=$h(t)?t.checked?"true":"false":t.value),t=u,t!==s?(a.setValue(t),!0):!1}function Ql(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Lb=/[\n"\\]/g;function Cn(t){return t.replace(Lb,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ju(t,a,s,u,d,g,b,x){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),a!=null?b==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Rn(a)):t.value!==""+Rn(a)&&(t.value=""+Rn(a)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),a!=null?ec(t,b,Rn(a)):s!=null?ec(t,b,Rn(s)):u!=null&&t.removeAttribute("value"),d==null&&g!=null&&(t.defaultChecked=!!g),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Rn(x):t.removeAttribute("name")}function Vh(t,a,s,u,d,g,b,x){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),a!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;s=s!=null?""+Rn(s):"",a=a!=null?""+Rn(a):s,x||a===t.value||(t.value=a),t.defaultValue=a}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=x?t.checked:!!u,t.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function ec(t,a,s){a==="number"&&Ql(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ii(t,a,s,u){if(t=t.options,a){a={};for(var d=0;d<s.length;d++)a["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=a.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&u&&(t[s].defaultSelected=!0)}else{for(s=""+Rn(s),a=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}a!==null||t[d].disabled||(a=t[d])}a!==null&&(a.selected=!0)}}function qh(t,a,s){if(a!=null&&(a=""+Rn(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+Rn(s):""}function Gh(t,a,s,u){if(a==null){if(u!=null){if(s!=null)throw Error(i(92));if(pe(u)){if(1<u.length)throw Error(i(93));u=u[0]}s=u}s==null&&(s=""),a=s}s=Rn(a),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u)}function si(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var Pb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yh(t,a,s){var u=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":u?t.setProperty(a,s):typeof s!="number"||s===0||Pb.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function Kh(t,a,s){if(a!=null&&typeof a!="object")throw Error(i(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var d in a)u=a[d],a.hasOwnProperty(d)&&s[d]!==u&&Yh(t,d,u)}else for(var g in a)a.hasOwnProperty(g)&&Yh(t,g,a[g])}function tc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zl(t){return Fb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var nc=null;function ac(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var li=null,oi=null;function Xh(t){var a=ti(t);if(a&&(t=a.stateNode)){var s=t[st]||null;e:switch(t=a.stateNode,a.type){case"input":if(Ju(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Cn(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var u=s[a];if(u!==t&&u.form===t.form){var d=u[st]||null;if(!d)throw Error(i(90));Ju(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<s.length;a++)u=s[a],u.form===t.form&&Bh(u)}break e;case"textarea":qh(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&ii(t,!!s.multiple,a,!1)}}}var rc=!1;function Wh(t,a,s){if(rc)return t(a,s);rc=!0;try{var u=t(a);return u}finally{if(rc=!1,(li!==null||oi!==null)&&(zo(),li&&(a=li,t=oi,oi=li=null,Xh(a),t)))for(a=0;a<t.length;a++)Xh(t[a])}}function hs(t,a){var s=t.stateNode;if(s===null)return null;var u=s[st]||null;if(u===null)return null;s=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,a,typeof s));return s}var Sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ic=!1;if(Sa)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){ic=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{ic=!1}var Ya=null,sc=null,Jl=null;function Qh(){if(Jl)return Jl;var t,a=sc,s=a.length,u,d="value"in Ya?Ya.value:Ya.textContent,g=d.length;for(t=0;t<s&&a[t]===d[t];t++);var b=s-t;for(u=1;u<=b&&a[s-u]===d[g-u];u++);return Jl=d.slice(t,1<u?1-u:void 0)}function eo(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function to(){return!0}function Zh(){return!1}function on(t){function a(s,u,d,g,b){this._reactName=s,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(s=t[x],this[x]=s?s(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?to:Zh,this.isPropagationStopped=Zh,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=to)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=to)},persist:function(){},isPersistent:to}),a}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},no=on(Ar),ms=v({},Ar,{view:0,detail:0}),Hb=on(ms),lc,oc,ps,ao=v({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ps&&(ps&&t.type==="mousemove"?(lc=t.screenX-ps.screenX,oc=t.screenY-ps.screenY):oc=lc=0,ps=t),lc)},movementY:function(t){return"movementY"in t?t.movementY:oc}}),Jh=on(ao),Ib=v({},ao,{dataTransfer:0}),$b=on(Ib),Bb=v({},ms,{relatedTarget:0}),uc=on(Bb),Vb=v({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),qb=on(Vb),Gb=v({},Ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yb=on(Gb),Kb=v({},Ar,{data:0}),eg=on(Kb),Xb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zb(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Qb[t])?!!a[t]:!1}function cc(){return Zb}var Jb=v({},ms,{key:function(t){if(t.key){var a=Xb[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=eo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(t){return t.type==="keypress"?eo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?eo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),e0=on(Jb),t0=v({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tg=on(t0),n0=v({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),a0=on(n0),r0=v({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),i0=on(r0),s0=v({},ao,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),l0=on(s0),o0=v({},Ar,{newState:0,oldState:0}),u0=on(o0),c0=[9,13,27,32],dc=Sa&&"CompositionEvent"in window,vs=null;Sa&&"documentMode"in document&&(vs=document.documentMode);var d0=Sa&&"TextEvent"in window&&!vs,ng=Sa&&(!dc||vs&&8<vs&&11>=vs),ag=" ",rg=!1;function ig(t,a){switch(t){case"keyup":return c0.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ui=!1;function f0(t,a){switch(t){case"compositionend":return sg(a);case"keypress":return a.which!==32?null:(rg=!0,ag);case"textInput":return t=a.data,t===ag&&rg?null:t;default:return null}}function h0(t,a){if(ui)return t==="compositionend"||!dc&&ig(t,a)?(t=Qh(),Jl=sc=Ya=null,ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ng&&a.locale!=="ko"?null:a.data;default:return null}}var g0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!g0[t.type]:a==="textarea"}function og(t,a,s,u){li?oi?oi.push(u):oi=[u]:li=u,a=Vo(a,"onChange"),0<a.length&&(s=new no("onChange","change",null,s,u),t.push({event:s,listeners:a}))}var ys=null,_s=null;function m0(t){$p(t,0)}function ro(t){var a=fs(t);if(Bh(a))return t}function ug(t,a){if(t==="change")return a}var cg=!1;if(Sa){var fc;if(Sa){var hc="oninput"in document;if(!hc){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),hc=typeof dg.oninput=="function"}fc=hc}else fc=!1;cg=fc&&(!document.documentMode||9<document.documentMode)}function fg(){ys&&(ys.detachEvent("onpropertychange",hg),_s=ys=null)}function hg(t){if(t.propertyName==="value"&&ro(_s)){var a=[];og(a,_s,t,ac(t)),Wh(m0,a)}}function p0(t,a,s){t==="focusin"?(fg(),ys=a,_s=s,ys.attachEvent("onpropertychange",hg)):t==="focusout"&&fg()}function v0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ro(_s)}function y0(t,a){if(t==="click")return ro(a)}function _0(t,a){if(t==="input"||t==="change")return ro(a)}function b0(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var mn=typeof Object.is=="function"?Object.is:b0;function bs(t,a){if(mn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),u=Object.keys(a);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var d=s[u];if(!_t.call(a,d)||!mn(t[d],a[d]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,a){var s=gg(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=a&&u>=a)return{node:s,offset:a-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=gg(s)}}function pg(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?pg(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Ql(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=Ql(t.document)}return a}function gc(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var w0=Sa&&"documentMode"in document&&11>=document.documentMode,ci=null,mc=null,ws=null,pc=!1;function yg(t,a,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;pc||ci==null||ci!==Ql(u)||(u=ci,"selectionStart"in u&&gc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ws&&bs(ws,u)||(ws=u,u=Vo(mc,"onSelect"),0<u.length&&(a=new no("onSelect","select",null,a,s),t.push({event:a,listeners:u}),a.target=ci)))}function Or(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var di={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},vc={},_g={};Sa&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function Dr(t){if(vc[t])return vc[t];if(!di[t])return t;var a=di[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in _g)return vc[t]=a[s];return t}var bg=Dr("animationend"),wg=Dr("animationiteration"),Sg=Dr("animationstart"),S0=Dr("transitionrun"),E0=Dr("transitionstart"),x0=Dr("transitioncancel"),Eg=Dr("transitionend"),xg=new Map,yc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yc.push("scrollEnd");function Fn(t,a){xg.set(t,a),Tr(a,[t])}var Rg=new WeakMap;function Tn(t,a){if(typeof t=="object"&&t!==null){var s=Rg.get(t);return s!==void 0?s:(a={value:t,source:a,stack:Ih(a)},Rg.set(t,a),a)}return{value:t,source:a,stack:Ih(a)}}var An=[],fi=0,_c=0;function io(){for(var t=fi,a=_c=fi=0;a<t;){var s=An[a];An[a++]=null;var u=An[a];An[a++]=null;var d=An[a];An[a++]=null;var g=An[a];if(An[a++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}g!==0&&Cg(s,d,g)}}function so(t,a,s,u){An[fi++]=t,An[fi++]=a,An[fi++]=s,An[fi++]=u,_c|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function bc(t,a,s,u){return so(t,a,s,u),lo(t)}function hi(t,a){return so(t,null,null,a),lo(t)}function Cg(t,a,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var d=!1,g=t.return;g!==null;)g.childLanes|=s,u=g.alternate,u!==null&&(u.childLanes|=s),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(d=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,d&&a!==null&&(d=31-He(s),t=g.hiddenUpdates,u=t[d],u===null?t[d]=[a]:u.push(a),a.lane=s|536870912),g):null}function lo(t){if(50<Gs)throw Gs=0,Cd=null,Error(i(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var gi={};function R0(t,a,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,a,s,u){return new R0(t,a,s,u)}function wc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ea(t,a){var s=t.alternate;return s===null?(s=pn(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Tg(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function oo(t,a,s,u,d,g){var b=0;if(u=t,typeof t=="function")wc(t)&&(b=1);else if(typeof t=="string")b=Tw(t,s,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case de:return t=pn(31,s,a,d),t.elementType=de,t.lanes=g,t;case S:return Nr(s.children,d,g,a);case R:b=8,d|=24;break;case C:return t=pn(12,s,a,d|2),t.elementType=C,t.lanes=g,t;case U:return t=pn(13,s,a,d),t.elementType=U,t.lanes=g,t;case Z:return t=pn(19,s,a,d),t.elementType=Z,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T:case A:b=10;break e;case O:b=9;break e;case B:b=11;break e;case J:b=14;break e;case ce:b=16,u=null;break e}b=29,s=Error(i(130,t===null?"null":typeof t,"")),u=null}return a=pn(b,s,a,d),a.elementType=t,a.type=u,a.lanes=g,a}function Nr(t,a,s,u){return t=pn(7,t,u,a),t.lanes=s,t}function Sc(t,a,s){return t=pn(6,t,null,a),t.lanes=s,t}function Ec(t,a,s){return a=pn(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var mi=[],pi=0,uo=null,co=0,On=[],Dn=0,jr=null,xa=1,Ra="";function Mr(t,a){mi[pi++]=co,mi[pi++]=uo,uo=t,co=a}function Ag(t,a,s){On[Dn++]=xa,On[Dn++]=Ra,On[Dn++]=jr,jr=t;var u=xa;t=Ra;var d=32-He(u)-1;u&=~(1<<d),s+=1;var g=32-He(a)+d;if(30<g){var b=d-d%5;g=(u&(1<<b)-1).toString(32),u>>=b,d-=b,xa=1<<32-He(a)+d|s<<d|u,Ra=g+t}else xa=1<<g|s<<d|u,Ra=t}function xc(t){t.return!==null&&(Mr(t,1),Ag(t,1,0))}function Rc(t){for(;t===uo;)uo=mi[--pi],mi[pi]=null,co=mi[--pi],mi[pi]=null;for(;t===jr;)jr=On[--Dn],On[Dn]=null,Ra=On[--Dn],On[Dn]=null,xa=On[--Dn],On[Dn]=null}var an=null,gt=null,Ve=!1,kr=null,ia=!1,Cc=Error(i(519));function Ur(t){var a=Error(i(418,""));throw xs(Tn(a,t)),Cc}function Og(t){var a=t.stateNode,s=t.type,u=t.memoizedProps;switch(a[it]=t,a[st]=u,s){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(s=0;s<Ks.length;s++)Le(Ks[s],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Le("invalid",a),Vh(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Wl(a);break;case"select":Le("invalid",a);break;case"textarea":Le("invalid",a),Gh(a,u.value,u.defaultValue,u.children),Wl(a)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||u.suppressHydrationWarning===!0||Gp(a.textContent,s)?(u.popover!=null&&(Le("beforetoggle",a),Le("toggle",a)),u.onScroll!=null&&Le("scroll",a),u.onScrollEnd!=null&&Le("scrollend",a),u.onClick!=null&&(a.onclick=qo),a=!0):a=!1,a||Ur(t)}function Dg(t){for(an=t.return;an;)switch(an.tag){case 5:case 13:ia=!1;return;case 27:case 3:ia=!0;return;default:an=an.return}}function Ss(t){if(t!==an)return!1;if(!Ve)return Dg(t),Ve=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||$d(t.type,t.memoizedProps)),s=!s),s&&gt&&Ur(t),Dg(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(a===0){gt=In(t.nextSibling);break e}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;t=t.nextSibling}gt=null}}else a===27?(a=gt,ur(t.type)?(t=Gd,Gd=null,gt=t):gt=a):gt=an?In(t.stateNode.nextSibling):null;return!0}function Es(){gt=an=null,Ve=!1}function Ng(){var t=kr;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),kr=null),t}function xs(t){kr===null?kr=[t]:kr.push(t)}var Tc=$(null),Lr=null,Ca=null;function Ka(t,a,s){q(Tc,a._currentValue),a._currentValue=s}function Ta(t){t._currentValue=Tc.current,Y(Tc)}function Ac(t,a,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),t===s)break;t=t.return}}function Oc(t,a,s,u){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;e:for(;g!==null;){var x=g;g=d;for(var N=0;N<a.length;N++)if(x.context===a[N]){g.lanes|=s,x=g.alternate,x!==null&&(x.lanes|=s),Ac(g.return,s,t),u||(b=null);break e}g=x.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=s,g=b.alternate,g!==null&&(g.lanes|=s),Ac(b,s,t),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===t){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Rs(t,a,s,u){t=null;for(var d=a,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var x=d.type;mn(d.pendingProps.value,b.value)||(t!==null?t.push(x):t=[x])}}else if(d===Be.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(el):t=[el])}d=d.return}t!==null&&Oc(a,t,s,u),a.flags|=262144}function fo(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pr(t){Lr=t,Ca=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return jg(Lr,t)}function ho(t,a){return Lr===null&&Pr(t),jg(t,a)}function jg(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Ca===null){if(t===null)throw Error(i(308));Ca=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Ca=Ca.next=a;return s}var C0=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},T0=e.unstable_scheduleCallback,A0=e.unstable_NormalPriority,Tt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dc(){return{controller:new C0,data:new Map,refCount:0}}function Cs(t){t.refCount--,t.refCount===0&&T0(A0,function(){t.controller.abort()})}var Ts=null,Nc=0,vi=0,yi=null;function O0(t,a){if(Ts===null){var s=Ts=[];Nc=0,vi=Md(),yi={status:"pending",value:void 0,then:function(u){s.push(u)}}}return Nc++,a.then(Mg,Mg),a}function Mg(){if(--Nc===0&&Ts!==null){yi!==null&&(yi.status="fulfilled");var t=Ts;Ts=null,vi=0,yi=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function D0(t,a){var s=[],u={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){u.status="fulfilled",u.value=a;for(var d=0;d<s.length;d++)(0,s[d])(a)},function(d){for(u.status="rejected",u.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),u}var kg=L.S;L.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&O0(t,a),kg!==null&&kg(t,a)};var zr=$(null);function jc(){var t=zr.current;return t!==null?t:at.pooledCache}function go(t,a){a===null?q(zr,zr.current):q(zr,a.pool)}function Ug(){var t=jc();return t===null?null:{parent:Tt._currentValue,pool:t}}var As=Error(i(460)),Lg=Error(i(474)),mo=Error(i(542)),Mc={then:function(){}};function Pg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function po(){}function zg(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(po,po),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Hg(t),t;default:if(typeof a.status=="string")a.then(po,po);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=a,t.status="pending",t.then(function(u){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=u}},function(u){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Hg(t),t}throw Os=a,As}}var Os=null;function Fg(){if(Os===null)throw Error(i(459));var t=Os;return Os=null,t}function Hg(t){if(t===As||t===mo)throw Error(i(483))}var Xa=!1;function kc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uc(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qa(t,a,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(qe&2)!==0){var d=u.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a,a=lo(t),Cg(t,null,s),a}return so(t,u,a,s),lo(t)}function Ds(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var u=a.lanes;u&=t.pendingLanes,s|=u,a.lanes=s,zn(t,s)}}function Lc(t,a){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var d=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,s=s.next}while(s!==null);g===null?d=g=a:g=g.next=a}else d=g=a;s={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var Pc=!1;function Ns(){if(Pc){var t=yi;if(t!==null)throw t}}function js(t,a,s,u){Pc=!1;var d=t.updateQueue;Xa=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var N=x,F=N.next;N.next=null,b===null?g=F:b.next=F,b=N;var G=t.alternate;G!==null&&(G=G.updateQueue,x=G.lastBaseUpdate,x!==b&&(x===null?G.firstBaseUpdate=F:x.next=F,G.lastBaseUpdate=N))}if(g!==null){var W=d.baseState;b=0,G=F=N=null,x=g;do{var H=x.lane&-536870913,I=H!==x.lane;if(I?(Fe&H)===H:(u&H)===H){H!==0&&H===vi&&(Pc=!0),G!==null&&(G=G.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Se=t,_e=x;H=a;var We=s;switch(_e.tag){case 1:if(Se=_e.payload,typeof Se=="function"){W=Se.call(We,W,H);break e}W=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=_e.payload,H=typeof Se=="function"?Se.call(We,W,H):Se,H==null)break e;W=v({},W,H);break e;case 2:Xa=!0}}H=x.callback,H!==null&&(t.flags|=64,I&&(t.flags|=8192),I=d.callbacks,I===null?d.callbacks=[H]:I.push(H))}else I={lane:H,tag:x.tag,payload:x.payload,callback:x.callback,next:null},G===null?(F=G=I,N=W):G=G.next=I,b|=H;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;I=x,x=I.next,I.next=null,d.lastBaseUpdate=I,d.shared.pending=null}}while(!0);G===null&&(N=W),d.baseState=N,d.firstBaseUpdate=F,d.lastBaseUpdate=G,g===null&&(d.shared.lanes=0),ir|=b,t.lanes=b,t.memoizedState=W}}function Ig(t,a){if(typeof t!="function")throw Error(i(191,t));t.call(a)}function $g(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Ig(s[t],a)}var _i=$(null),vo=$(0);function Bg(t,a){t=ka,q(vo,t),q(_i,a),ka=t|a.baseLanes}function zc(){q(vo,ka),q(_i,_i.current)}function Fc(){ka=vo.current,Y(_i),Y(vo)}var Za=0,Me=null,Ke=null,wt=null,yo=!1,bi=!1,Fr=!1,_o=0,Ms=0,wi=null,N0=0;function pt(){throw Error(i(321))}function Hc(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!mn(t[s],a[s]))return!1;return!0}function Ic(t,a,s,u,d,g){return Za=g,Me=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,L.H=t===null||t.memoizedState===null?Cm:Tm,Fr=!1,g=s(u,d),Fr=!1,bi&&(g=qg(a,s,u,d)),Vg(t),g}function Vg(t){L.H=Ro;var a=Ke!==null&&Ke.next!==null;if(Za=0,wt=Ke=Me=null,yo=!1,Ms=0,wi=null,a)throw Error(i(300));t===null||kt||(t=t.dependencies,t!==null&&fo(t)&&(kt=!0))}function qg(t,a,s,u){Me=t;var d=0;do{if(bi&&(wi=null),Ms=0,bi=!1,25<=d)throw Error(i(301));if(d+=1,wt=Ke=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}L.H=z0,g=a(s,u)}while(bi);return g}function j0(){var t=L.H,a=t.useState()[0];return a=typeof a.then=="function"?ks(a):a,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Me.flags|=1024),a}function $c(){var t=_o!==0;return _o=0,t}function Bc(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function Vc(t){if(yo){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}yo=!1}Za=0,wt=Ke=Me=null,bi=!1,Ms=_o=0,wi=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Me.memoizedState=wt=t:wt=wt.next=t,wt}function St(){if(Ke===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var a=wt===null?Me.memoizedState:wt.next;if(a!==null)wt=a,Ke=t;else{if(t===null)throw Me.alternate===null?Error(i(467)):Error(i(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},wt===null?Me.memoizedState=wt=t:wt=wt.next=t}return wt}function qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ks(t){var a=Ms;return Ms+=1,wi===null&&(wi=[]),t=zg(wi,t,a),a=Me,(wt===null?a.memoizedState:wt.next)===null&&(a=a.alternate,L.H=a===null||a.memoizedState===null?Cm:Tm),t}function bo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ks(t);if(t.$$typeof===A)return Qt(t)}throw Error(i(438,String(t)))}function Gc(t){var a=null,s=Me.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var u=Me.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=qc(),Me.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),u=0;u<t;u++)s[u]=ne;return a.index++,s}function Aa(t,a){return typeof a=="function"?a(t):a}function wo(t){var a=St();return Yc(a,Ke,t)}function Yc(t,a,s){var u=t.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var d=t.baseQueue,g=u.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}a.baseQueue=d=g,u.pending=null}if(g=t.baseState,d===null)t.memoizedState=g;else{a=d.next;var x=b=null,N=null,F=a,G=!1;do{var W=F.lane&-536870913;if(W!==F.lane?(Fe&W)===W:(Za&W)===W){var H=F.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),W===vi&&(G=!0);else if((Za&H)===H){F=F.next,H===vi&&(G=!0);continue}else W={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(x=N=W,b=g):N=N.next=W,Me.lanes|=H,ir|=H;W=F.action,Fr&&s(g,W),g=F.hasEagerState?F.eagerState:s(g,W)}else H={lane:W,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(x=N=H,b=g):N=N.next=H,Me.lanes|=W,ir|=W;F=F.next}while(F!==null&&F!==a);if(N===null?b=g:N.next=x,!mn(g,t.memoizedState)&&(kt=!0,G&&(s=yi,s!==null)))throw s;t.memoizedState=g,t.baseState=b,t.baseQueue=N,u.lastRenderedState=g}return d===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Kc(t){var a=St(),s=a.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var u=s.dispatch,d=s.pending,g=a.memoizedState;if(d!==null){s.pending=null;var b=d=d.next;do g=t(g,b.action),b=b.next;while(b!==d);mn(g,a.memoizedState)||(kt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),s.lastRenderedState=g}return[g,u]}function Gg(t,a,s){var u=Me,d=St(),g=Ve;if(g){if(s===void 0)throw Error(i(407));s=s()}else s=a();var b=!mn((Ke||d).memoizedState,s);b&&(d.memoizedState=s,kt=!0),d=d.queue;var x=Xg.bind(null,u,d,t);if(Us(2048,8,x,[t]),d.getSnapshot!==a||b||wt!==null&&wt.memoizedState.tag&1){if(u.flags|=2048,Si(9,So(),Kg.bind(null,u,d,s,a),null),at===null)throw Error(i(349));g||(Za&124)!==0||Yg(u,a,s)}return s}function Yg(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=Me.updateQueue,a===null?(a=qc(),Me.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function Kg(t,a,s,u){a.value=s,a.getSnapshot=u,Wg(a)&&Qg(t)}function Xg(t,a,s){return s(function(){Wg(a)&&Qg(t)})}function Wg(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!mn(t,s)}catch{return!0}}function Qg(t){var a=hi(t,2);a!==null&&wn(a,t,2)}function Xc(t){var a=un();if(typeof t=="function"){var s=t;if(t=s(),Fr){Te(!0);try{s()}finally{Te(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:t},a}function Zg(t,a,s,u){return t.baseState=s,Yc(t,Ke,typeof u=="function"?u:Aa)}function M0(t,a,s,u,d){if(xo(t))throw Error(i(485));if(t=a.action,t!==null){var g={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};L.T!==null?s(!0):g.isTransition=!1,u(g),s=a.pending,s===null?(g.next=a.pending=g,Jg(a,g)):(g.next=s.next,a.pending=s.next=g)}}function Jg(t,a){var s=a.action,u=a.payload,d=t.state;if(a.isTransition){var g=L.T,b={};L.T=b;try{var x=s(d,u),N=L.S;N!==null&&N(b,x),em(t,a,x)}catch(F){Wc(t,a,F)}finally{L.T=g}}else try{g=s(d,u),em(t,a,g)}catch(F){Wc(t,a,F)}}function em(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){tm(t,a,u)},function(u){return Wc(t,a,u)}):tm(t,a,s)}function tm(t,a,s){a.status="fulfilled",a.value=s,nm(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,Jg(t,s)))}function Wc(t,a,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=s,nm(a),a=a.next;while(a!==u)}t.action=null}function nm(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function am(t,a){return a}function rm(t,a){if(Ve){var s=at.formState;if(s!==null){e:{var u=Me;if(Ve){if(gt){t:{for(var d=gt,g=ia;d.nodeType!==8;){if(!g){d=null;break t}if(d=In(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){gt=In(d.nextSibling),u=d.data==="F!";break e}}Ur(u)}u=!1}u&&(a=s[0])}}return s=un(),s.memoizedState=s.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:am,lastRenderedState:a},s.queue=u,s=Em.bind(null,Me,u),u.dispatch=s,u=Xc(!1),g=td.bind(null,Me,!1,u.queue),u=un(),d={state:a,dispatch:null,action:t,pending:null},u.queue=d,s=M0.bind(null,Me,d,g,s),d.dispatch=s,u.memoizedState=t,[a,s,!1]}function im(t){var a=St();return sm(a,Ke,t)}function sm(t,a,s){if(a=Yc(t,a,am)[0],t=wo(Aa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=ks(a)}catch(b){throw b===As?mo:b}else u=a;a=St();var d=a.queue,g=d.dispatch;return s!==a.memoizedState&&(Me.flags|=2048,Si(9,So(),k0.bind(null,d,s),null)),[u,g,t]}function k0(t,a){t.action=a}function lm(t){var a=St(),s=Ke;if(s!==null)return sm(a,s,t);St(),a=a.memoizedState,s=St();var u=s.queue.dispatch;return s.memoizedState=t,[a,u,!1]}function Si(t,a,s,u){return t={tag:t,create:s,deps:u,inst:a,next:null},a=Me.updateQueue,a===null&&(a=qc(),Me.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,a.lastEffect=t),t}function So(){return{destroy:void 0,resource:void 0}}function om(){return St().memoizedState}function Eo(t,a,s,u){var d=un();u=u===void 0?null:u,Me.flags|=t,d.memoizedState=Si(1|a,So(),s,u)}function Us(t,a,s,u){var d=St();u=u===void 0?null:u;var g=d.memoizedState.inst;Ke!==null&&u!==null&&Hc(u,Ke.memoizedState.deps)?d.memoizedState=Si(a,g,s,u):(Me.flags|=t,d.memoizedState=Si(1|a,g,s,u))}function um(t,a){Eo(8390656,8,t,a)}function cm(t,a){Us(2048,8,t,a)}function dm(t,a){return Us(4,2,t,a)}function fm(t,a){return Us(4,4,t,a)}function hm(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function gm(t,a,s){s=s!=null?s.concat([t]):null,Us(4,4,hm.bind(null,a,t),s)}function Qc(){}function mm(t,a){var s=St();a=a===void 0?null:a;var u=s.memoizedState;return a!==null&&Hc(a,u[1])?u[0]:(s.memoizedState=[t,a],t)}function pm(t,a){var s=St();a=a===void 0?null:a;var u=s.memoizedState;if(a!==null&&Hc(a,u[1]))return u[0];if(u=t(),Fr){Te(!0);try{t()}finally{Te(!1)}}return s.memoizedState=[u,a],u}function Zc(t,a,s){return s===void 0||(Za&1073741824)!==0?t.memoizedState=a:(t.memoizedState=s,t=_p(),Me.lanes|=t,ir|=t,s)}function vm(t,a,s,u){return mn(s,a)?s:_i.current!==null?(t=Zc(t,s,u),mn(t,a)||(kt=!0),t):(Za&42)===0?(kt=!0,t.memoizedState=s):(t=_p(),Me.lanes|=t,ir|=t,a)}function ym(t,a,s,u,d){var g=Q.p;Q.p=g!==0&&8>g?g:8;var b=L.T,x={};L.T=x,td(t,!1,a,s);try{var N=d(),F=L.S;if(F!==null&&F(x,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=D0(N,u);Ls(t,a,G,bn(t))}else Ls(t,a,u,bn(t))}catch(W){Ls(t,a,{then:function(){},status:"rejected",reason:W},bn())}finally{Q.p=g,L.T=b}}function U0(){}function Jc(t,a,s,u){if(t.tag!==5)throw Error(i(476));var d=_m(t).queue;ym(t,d,a,ae,s===null?U0:function(){return bm(t),s(u)})}function _m(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:ae},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function bm(t){var a=_m(t).next.queue;Ls(t,a,{},bn())}function ed(){return Qt(el)}function wm(){return St().memoizedState}function Sm(){return St().memoizedState}function L0(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=bn();t=Wa(s);var u=Qa(a,t,s);u!==null&&(wn(u,a,s),Ds(u,a,s)),a={cache:Dc()},t.payload=a;return}a=a.return}}function P0(t,a,s){var u=bn();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},xo(t)?xm(a,s):(s=bc(t,a,s,u),s!==null&&(wn(s,t,u),Rm(s,a,u)))}function Em(t,a,s){var u=bn();Ls(t,a,s,u)}function Ls(t,a,s,u){var d={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(xo(t))xm(a,d);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var b=a.lastRenderedState,x=g(b,s);if(d.hasEagerState=!0,d.eagerState=x,mn(x,b))return so(t,a,d,0),at===null&&io(),!1}catch{}finally{}if(s=bc(t,a,d,u),s!==null)return wn(s,t,u),Rm(s,a,u),!0}return!1}function td(t,a,s,u){if(u={lane:2,revertLane:Md(),action:u,hasEagerState:!1,eagerState:null,next:null},xo(t)){if(a)throw Error(i(479))}else a=bc(t,s,u,2),a!==null&&wn(a,t,2)}function xo(t){var a=t.alternate;return t===Me||a!==null&&a===Me}function xm(t,a){bi=yo=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function Rm(t,a,s){if((s&4194048)!==0){var u=a.lanes;u&=t.pendingLanes,s|=u,a.lanes=s,zn(t,s)}}var Ro={readContext:Qt,use:bo,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},Cm={readContext:Qt,use:bo,useCallback:function(t,a){return un().memoizedState=[t,a===void 0?null:a],t},useContext:Qt,useEffect:um,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,Eo(4194308,4,hm.bind(null,a,t),s)},useLayoutEffect:function(t,a){return Eo(4194308,4,t,a)},useInsertionEffect:function(t,a){Eo(4,2,t,a)},useMemo:function(t,a){var s=un();a=a===void 0?null:a;var u=t();if(Fr){Te(!0);try{t()}finally{Te(!1)}}return s.memoizedState=[u,a],u},useReducer:function(t,a,s){var u=un();if(s!==void 0){var d=s(a);if(Fr){Te(!0);try{s(a)}finally{Te(!1)}}}else d=a;return u.memoizedState=u.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},u.queue=t,t=t.dispatch=P0.bind(null,Me,t),[u.memoizedState,t]},useRef:function(t){var a=un();return t={current:t},a.memoizedState=t},useState:function(t){t=Xc(t);var a=t.queue,s=Em.bind(null,Me,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:Qc,useDeferredValue:function(t,a){var s=un();return Zc(s,t,a)},useTransition:function(){var t=Xc(!1);return t=ym.bind(null,Me,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var u=Me,d=un();if(Ve){if(s===void 0)throw Error(i(407));s=s()}else{if(s=a(),at===null)throw Error(i(349));(Fe&124)!==0||Yg(u,a,s)}d.memoizedState=s;var g={value:s,getSnapshot:a};return d.queue=g,um(Xg.bind(null,u,g,t),[t]),u.flags|=2048,Si(9,So(),Kg.bind(null,u,g,s,a),null),s},useId:function(){var t=un(),a=at.identifierPrefix;if(Ve){var s=Ra,u=xa;s=(u&~(1<<32-He(u)-1)).toString(32)+s,a="«"+a+"R"+s,s=_o++,0<s&&(a+="H"+s.toString(32)),a+="»"}else s=N0++,a="«"+a+"r"+s.toString(32)+"»";return t.memoizedState=a},useHostTransitionStatus:ed,useFormState:rm,useActionState:rm,useOptimistic:function(t){var a=un();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=td.bind(null,Me,!0,s),s.dispatch=a,[t,a]},useMemoCache:Gc,useCacheRefresh:function(){return un().memoizedState=L0.bind(null,Me)}},Tm={readContext:Qt,use:bo,useCallback:mm,useContext:Qt,useEffect:cm,useImperativeHandle:gm,useInsertionEffect:dm,useLayoutEffect:fm,useMemo:pm,useReducer:wo,useRef:om,useState:function(){return wo(Aa)},useDebugValue:Qc,useDeferredValue:function(t,a){var s=St();return vm(s,Ke.memoizedState,t,a)},useTransition:function(){var t=wo(Aa)[0],a=St().memoizedState;return[typeof t=="boolean"?t:ks(t),a]},useSyncExternalStore:Gg,useId:wm,useHostTransitionStatus:ed,useFormState:im,useActionState:im,useOptimistic:function(t,a){var s=St();return Zg(s,Ke,t,a)},useMemoCache:Gc,useCacheRefresh:Sm},z0={readContext:Qt,use:bo,useCallback:mm,useContext:Qt,useEffect:cm,useImperativeHandle:gm,useInsertionEffect:dm,useLayoutEffect:fm,useMemo:pm,useReducer:Kc,useRef:om,useState:function(){return Kc(Aa)},useDebugValue:Qc,useDeferredValue:function(t,a){var s=St();return Ke===null?Zc(s,t,a):vm(s,Ke.memoizedState,t,a)},useTransition:function(){var t=Kc(Aa)[0],a=St().memoizedState;return[typeof t=="boolean"?t:ks(t),a]},useSyncExternalStore:Gg,useId:wm,useHostTransitionStatus:ed,useFormState:lm,useActionState:lm,useOptimistic:function(t,a){var s=St();return Ke!==null?Zg(s,Ke,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Gc,useCacheRefresh:Sm},Ei=null,Ps=0;function Co(t){var a=Ps;return Ps+=1,Ei===null&&(Ei=[]),zg(Ei,t,a)}function zs(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function To(t,a){throw a.$$typeof===y?Error(i(525)):(t=Object.prototype.toString.call(a),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Am(t){var a=t._init;return a(t._payload)}function Om(t){function a(k,M){if(t){var P=k.deletions;P===null?(k.deletions=[M],k.flags|=16):P.push(M)}}function s(k,M){if(!t)return null;for(;M!==null;)a(k,M),M=M.sibling;return null}function u(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function d(k,M){return k=Ea(k,M),k.index=0,k.sibling=null,k}function g(k,M,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<M?(k.flags|=67108866,M):P):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function b(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function x(k,M,P,K){return M===null||M.tag!==6?(M=Sc(P,k.mode,K),M.return=k,M):(M=d(M,P),M.return=k,M)}function N(k,M,P,K){var fe=P.type;return fe===S?G(k,M,P.props.children,K,P.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ce&&Am(fe)===M.type)?(M=d(M,P.props),zs(M,P),M.return=k,M):(M=oo(P.type,P.key,P.props,null,k.mode,K),zs(M,P),M.return=k,M)}function F(k,M,P,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=Ec(P,k.mode,K),M.return=k,M):(M=d(M,P.children||[]),M.return=k,M)}function G(k,M,P,K,fe){return M===null||M.tag!==7?(M=Nr(P,k.mode,K,fe),M.return=k,M):(M=d(M,P),M.return=k,M)}function W(k,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Sc(""+M,k.mode,P),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case _:return P=oo(M.type,M.key,M.props,null,k.mode,P),zs(P,M),P.return=k,P;case w:return M=Ec(M,k.mode,P),M.return=k,M;case ce:var K=M._init;return M=K(M._payload),W(k,M,P)}if(pe(M)||X(M))return M=Nr(M,k.mode,P,null),M.return=k,M;if(typeof M.then=="function")return W(k,Co(M),P);if(M.$$typeof===A)return W(k,ho(k,M),P);To(k,M)}return null}function H(k,M,P,K){var fe=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return fe!==null?null:x(k,M,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case _:return P.key===fe?N(k,M,P,K):null;case w:return P.key===fe?F(k,M,P,K):null;case ce:return fe=P._init,P=fe(P._payload),H(k,M,P,K)}if(pe(P)||X(P))return fe!==null?null:G(k,M,P,K,null);if(typeof P.then=="function")return H(k,M,Co(P),K);if(P.$$typeof===A)return H(k,M,ho(k,P),K);To(k,P)}return null}function I(k,M,P,K,fe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,x(M,k,""+K,fe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return k=k.get(K.key===null?P:K.key)||null,N(M,k,K,fe);case w:return k=k.get(K.key===null?P:K.key)||null,F(M,k,K,fe);case ce:var ke=K._init;return K=ke(K._payload),I(k,M,P,K,fe)}if(pe(K)||X(K))return k=k.get(P)||null,G(M,k,K,fe,null);if(typeof K.then=="function")return I(k,M,P,Co(K),fe);if(K.$$typeof===A)return I(k,M,P,ho(M,K),fe);To(M,K)}return null}function Se(k,M,P,K){for(var fe=null,ke=null,ve=M,we=M=0,Lt=null;ve!==null&&we<P.length;we++){ve.index>we?(Lt=ve,ve=null):Lt=ve.sibling;var Ie=H(k,ve,P[we],K);if(Ie===null){ve===null&&(ve=Lt);break}t&&ve&&Ie.alternate===null&&a(k,ve),M=g(Ie,M,we),ke===null?fe=Ie:ke.sibling=Ie,ke=Ie,ve=Lt}if(we===P.length)return s(k,ve),Ve&&Mr(k,we),fe;if(ve===null){for(;we<P.length;we++)ve=W(k,P[we],K),ve!==null&&(M=g(ve,M,we),ke===null?fe=ve:ke.sibling=ve,ke=ve);return Ve&&Mr(k,we),fe}for(ve=u(ve);we<P.length;we++)Lt=I(ve,k,we,P[we],K),Lt!==null&&(t&&Lt.alternate!==null&&ve.delete(Lt.key===null?we:Lt.key),M=g(Lt,M,we),ke===null?fe=Lt:ke.sibling=Lt,ke=Lt);return t&&ve.forEach(function(gr){return a(k,gr)}),Ve&&Mr(k,we),fe}function _e(k,M,P,K){if(P==null)throw Error(i(151));for(var fe=null,ke=null,ve=M,we=M=0,Lt=null,Ie=P.next();ve!==null&&!Ie.done;we++,Ie=P.next()){ve.index>we?(Lt=ve,ve=null):Lt=ve.sibling;var gr=H(k,ve,Ie.value,K);if(gr===null){ve===null&&(ve=Lt);break}t&&ve&&gr.alternate===null&&a(k,ve),M=g(gr,M,we),ke===null?fe=gr:ke.sibling=gr,ke=gr,ve=Lt}if(Ie.done)return s(k,ve),Ve&&Mr(k,we),fe;if(ve===null){for(;!Ie.done;we++,Ie=P.next())Ie=W(k,Ie.value,K),Ie!==null&&(M=g(Ie,M,we),ke===null?fe=Ie:ke.sibling=Ie,ke=Ie);return Ve&&Mr(k,we),fe}for(ve=u(ve);!Ie.done;we++,Ie=P.next())Ie=I(ve,k,we,Ie.value,K),Ie!==null&&(t&&Ie.alternate!==null&&ve.delete(Ie.key===null?we:Ie.key),M=g(Ie,M,we),ke===null?fe=Ie:ke.sibling=Ie,ke=Ie);return t&&ve.forEach(function(Fw){return a(k,Fw)}),Ve&&Mr(k,we),fe}function We(k,M,P,K){if(typeof P=="object"&&P!==null&&P.type===S&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case _:e:{for(var fe=P.key;M!==null;){if(M.key===fe){if(fe=P.type,fe===S){if(M.tag===7){s(k,M.sibling),K=d(M,P.props.children),K.return=k,k=K;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ce&&Am(fe)===M.type){s(k,M.sibling),K=d(M,P.props),zs(K,P),K.return=k,k=K;break e}s(k,M);break}else a(k,M);M=M.sibling}P.type===S?(K=Nr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=oo(P.type,P.key,P.props,null,k.mode,K),zs(K,P),K.return=k,k=K)}return b(k);case w:e:{for(fe=P.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){s(k,M.sibling),K=d(M,P.children||[]),K.return=k,k=K;break e}else{s(k,M);break}else a(k,M);M=M.sibling}K=Ec(P,k.mode,K),K.return=k,k=K}return b(k);case ce:return fe=P._init,P=fe(P._payload),We(k,M,P,K)}if(pe(P))return Se(k,M,P,K);if(X(P)){if(fe=X(P),typeof fe!="function")throw Error(i(150));return P=fe.call(P),_e(k,M,P,K)}if(typeof P.then=="function")return We(k,M,Co(P),K);if(P.$$typeof===A)return We(k,M,ho(k,P),K);To(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(s(k,M.sibling),K=d(M,P),K.return=k,k=K):(s(k,M),K=Sc(P,k.mode,K),K.return=k,k=K),b(k)):s(k,M)}return function(k,M,P,K){try{Ps=0;var fe=We(k,M,P,K);return Ei=null,fe}catch(ve){if(ve===As||ve===mo)throw ve;var ke=pn(29,ve,null,k.mode);return ke.lanes=K,ke.return=k,ke}finally{}}}var xi=Om(!0),Dm=Om(!1),Nn=$(null),sa=null;function Ja(t){var a=t.alternate;q(At,At.current&1),q(Nn,t),sa===null&&(a===null||_i.current!==null||a.memoizedState!==null)&&(sa=t)}function Nm(t){if(t.tag===22){if(q(At,At.current),q(Nn,t),sa===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(sa=t)}}else er()}function er(){q(At,At.current),q(Nn,Nn.current)}function Oa(t){Y(Nn),sa===t&&(sa=null),Y(At)}var At=$(0);function Ao(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||qd(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function nd(t,a,s,u){a=t.memoizedState,s=s(u,a),s=s==null?a:v({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var ad={enqueueSetState:function(t,a,s){t=t._reactInternals;var u=bn(),d=Wa(u);d.payload=a,s!=null&&(d.callback=s),a=Qa(t,d,u),a!==null&&(wn(a,t,u),Ds(a,t,u))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var u=bn(),d=Wa(u);d.tag=1,d.payload=a,s!=null&&(d.callback=s),a=Qa(t,d,u),a!==null&&(wn(a,t,u),Ds(a,t,u))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=bn(),u=Wa(s);u.tag=2,a!=null&&(u.callback=a),a=Qa(t,u,s),a!==null&&(wn(a,t,s),Ds(a,t,s))}};function jm(t,a,s,u,d,g,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,g,b):a.prototype&&a.prototype.isPureReactComponent?!bs(s,u)||!bs(d,g):!0}function Mm(t,a,s,u){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,u),a.state!==t&&ad.enqueueReplaceState(a,a.state,null)}function Hr(t,a){var s=a;if("ref"in a){s={};for(var u in a)u!=="ref"&&(s[u]=a[u])}if(t=t.defaultProps){s===a&&(s=v({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}var Oo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function km(t){Oo(t)}function Um(t){console.error(t)}function Lm(t){Oo(t)}function Do(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Pm(t,a,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function rd(t,a,s){return s=Wa(s),s.tag=3,s.payload={element:null},s.callback=function(){Do(t,a)},s}function zm(t){return t=Wa(t),t.tag=3,t}function Fm(t,a,s,u){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;t.payload=function(){return d(g)},t.callback=function(){Pm(a,s,u)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Pm(a,s,u),typeof d!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function F0(t,a,s,u,d){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=s.alternate,a!==null&&Rs(a,s,d,!0),s=Nn.current,s!==null){switch(s.tag){case 13:return sa===null?Ad():s.alternate===null&&mt===0&&(mt=3),s.flags&=-257,s.flags|=65536,s.lanes=d,u===Mc?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([u]):a.add(u),Dd(t,u,d)),!1;case 22:return s.flags|=65536,u===Mc?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([u]):s.add(u)),Dd(t,u,d)),!1}throw Error(i(435,s.tag))}return Dd(t,u,d),Ad(),!1}if(Ve)return a=Nn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,u!==Cc&&(t=Error(i(422),{cause:u}),xs(Tn(t,s)))):(u!==Cc&&(a=Error(i(423),{cause:u}),xs(Tn(a,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,u=Tn(u,s),d=rd(t.stateNode,u,d),Lc(t,d),mt!==4&&(mt=2)),!1;var g=Error(i(520),{cause:u});if(g=Tn(g,s),qs===null?qs=[g]:qs.push(g),mt!==4&&(mt=2),a===null)return!0;u=Tn(u,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=rd(s.stateNode,u,t),Lc(s,t),!1;case 1:if(a=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(sr===null||!sr.has(g))))return s.flags|=65536,d&=-d,s.lanes|=d,d=zm(d),Fm(d,t,s,u),Lc(s,d),!1}s=s.return}while(s!==null);return!1}var Hm=Error(i(461)),kt=!1;function $t(t,a,s,u){a.child=t===null?Dm(a,null,s,u):xi(a,t.child,s,u)}function Im(t,a,s,u,d){s=s.render;var g=a.ref;if("ref"in u){var b={};for(var x in u)x!=="ref"&&(b[x]=u[x])}else b=u;return Pr(a),u=Ic(t,a,s,b,g,d),x=$c(),t!==null&&!kt?(Bc(t,a,d),Da(t,a,d)):(Ve&&x&&xc(a),a.flags|=1,$t(t,a,u,d),a.child)}function $m(t,a,s,u,d){if(t===null){var g=s.type;return typeof g=="function"&&!wc(g)&&g.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=g,Bm(t,a,g,u,d)):(t=oo(s.type,null,u,a,a.mode,d),t.ref=a.ref,t.return=a,a.child=t)}if(g=t.child,!fd(t,d)){var b=g.memoizedProps;if(s=s.compare,s=s!==null?s:bs,s(b,u)&&t.ref===a.ref)return Da(t,a,d)}return a.flags|=1,t=Ea(g,u),t.ref=a.ref,t.return=a,a.child=t}function Bm(t,a,s,u,d){if(t!==null){var g=t.memoizedProps;if(bs(g,u)&&t.ref===a.ref)if(kt=!1,a.pendingProps=u=g,fd(t,d))(t.flags&131072)!==0&&(kt=!0);else return a.lanes=t.lanes,Da(t,a,d)}return id(t,a,s,u,d)}function Vm(t,a,s){var u=a.pendingProps,d=u.children,g=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=g!==null?g.baseLanes|s:s,t!==null){for(d=a.child=t.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;a.childLanes=g&~u}else a.childLanes=0,a.child=null;return qm(t,a,u,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&go(a,g!==null?g.cachePool:null),g!==null?Bg(a,g):zc(),Nm(a);else return a.lanes=a.childLanes=536870912,qm(t,a,g!==null?g.baseLanes|s:s,s)}else g!==null?(go(a,g.cachePool),Bg(a,g),er(),a.memoizedState=null):(t!==null&&go(a,null),zc(),er());return $t(t,a,d,s),a.child}function qm(t,a,s,u){var d=jc();return d=d===null?null:{parent:Tt._currentValue,pool:d},a.memoizedState={baseLanes:s,cachePool:d},t!==null&&go(a,null),zc(),Nm(a),t!==null&&Rs(t,a,u,!0),null}function No(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function id(t,a,s,u,d){return Pr(a),s=Ic(t,a,s,u,void 0,d),u=$c(),t!==null&&!kt?(Bc(t,a,d),Da(t,a,d)):(Ve&&u&&xc(a),a.flags|=1,$t(t,a,s,d),a.child)}function Gm(t,a,s,u,d,g){return Pr(a),a.updateQueue=null,s=qg(a,u,s,d),Vg(t),u=$c(),t!==null&&!kt?(Bc(t,a,g),Da(t,a,g)):(Ve&&u&&xc(a),a.flags|=1,$t(t,a,s,g),a.child)}function Ym(t,a,s,u,d){if(Pr(a),a.stateNode===null){var g=gi,b=s.contextType;typeof b=="object"&&b!==null&&(g=Qt(b)),g=new s(u,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ad,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=u,g.state=a.memoizedState,g.refs={},kc(a),b=s.contextType,g.context=typeof b=="object"&&b!==null?Qt(b):gi,g.state=a.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(nd(a,s,b,u),g.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&ad.enqueueReplaceState(g,g.state,null),js(a,u,g,d),Ns(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(t===null){g=a.stateNode;var x=a.memoizedProps,N=Hr(s,x);g.props=N;var F=g.context,G=s.contextType;b=gi,typeof G=="object"&&G!==null&&(b=Qt(G));var W=s.getDerivedStateFromProps;G=typeof W=="function"||typeof g.getSnapshotBeforeUpdate=="function",x=a.pendingProps!==x,G||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x||F!==b)&&Mm(a,g,u,b),Xa=!1;var H=a.memoizedState;g.state=H,js(a,u,g,d),Ns(),F=a.memoizedState,x||H!==F||Xa?(typeof W=="function"&&(nd(a,s,W,u),F=a.memoizedState),(N=Xa||jm(a,s,N,u,H,F,b))?(G||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=F),g.props=u,g.state=F,g.context=b,u=N):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{g=a.stateNode,Uc(t,a),b=a.memoizedProps,G=Hr(s,b),g.props=G,W=a.pendingProps,H=g.context,F=s.contextType,N=gi,typeof F=="object"&&F!==null&&(N=Qt(F)),x=s.getDerivedStateFromProps,(F=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==W||H!==N)&&Mm(a,g,u,N),Xa=!1,H=a.memoizedState,g.state=H,js(a,u,g,d),Ns();var I=a.memoizedState;b!==W||H!==I||Xa||t!==null&&t.dependencies!==null&&fo(t.dependencies)?(typeof x=="function"&&(nd(a,s,x,u),I=a.memoizedState),(G=Xa||jm(a,s,G,u,H,I,N)||t!==null&&t.dependencies!==null&&fo(t.dependencies))?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,I,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,I,N)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=I),g.props=u,g.state=I,g.context=N,u=G):(typeof g.componentDidUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(a.flags|=1024),u=!1)}return g=u,No(t,a),u=(a.flags&128)!==0,g||u?(g=a.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,t!==null&&u?(a.child=xi(a,t.child,null,d),a.child=xi(a,null,s,d)):$t(t,a,s,d),a.memoizedState=g.state,t=a.child):t=Da(t,a,d),t}function Km(t,a,s,u){return Es(),a.flags|=256,$t(t,a,s,u),a.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(t){return{baseLanes:t,cachePool:Ug()}}function od(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=jn),t}function Xm(t,a,s){var u=a.pendingProps,d=!1,g=(a.flags&128)!==0,b;if((b=g)||(b=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),b&&(d=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,t===null){if(Ve){if(d?Ja(a):er(),Ve){var x=gt,N;if(N=x){e:{for(N=x,x=ia;N.nodeType!==8;){if(!x){x=null;break e}if(N=In(N.nextSibling),N===null){x=null;break e}}x=N}x!==null?(a.memoizedState={dehydrated:x,treeContext:jr!==null?{id:xa,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},N=pn(18,null,null,0),N.stateNode=x,N.return=a,a.child=N,an=a,gt=null,N=!0):N=!1}N||Ur(a)}if(x=a.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return qd(x)?a.lanes=32:a.lanes=536870912,null;Oa(a)}return x=u.children,u=u.fallback,d?(er(),d=a.mode,x=jo({mode:"hidden",children:x},d),u=Nr(u,d,s,null),x.return=a,u.return=a,x.sibling=u,a.child=x,d=a.child,d.memoizedState=ld(s),d.childLanes=od(t,b,s),a.memoizedState=sd,u):(Ja(a),ud(a,x))}if(N=t.memoizedState,N!==null&&(x=N.dehydrated,x!==null)){if(g)a.flags&256?(Ja(a),a.flags&=-257,a=cd(t,a,s)):a.memoizedState!==null?(er(),a.child=t.child,a.flags|=128,a=null):(er(),d=u.fallback,x=a.mode,u=jo({mode:"visible",children:u.children},x),d=Nr(d,x,s,null),d.flags|=2,u.return=a,d.return=a,u.sibling=d,a.child=u,xi(a,t.child,null,s),u=a.child,u.memoizedState=ld(s),u.childLanes=od(t,b,s),a.memoizedState=sd,a=d);else if(Ja(a),qd(x)){if(b=x.nextSibling&&x.nextSibling.dataset,b)var F=b.dgst;b=F,u=Error(i(419)),u.stack="",u.digest=b,xs({value:u,source:null,stack:null}),a=cd(t,a,s)}else if(kt||Rs(t,a,s,!1),b=(s&t.childLanes)!==0,kt||b){if(b=at,b!==null&&(u=s&-s,u=(u&42)!==0?1:Xt(u),u=(u&(b.suspendedLanes|s))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,hi(t,u),wn(b,t,u),Hm;x.data==="$?"||Ad(),a=cd(t,a,s)}else x.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=N.treeContext,gt=In(x.nextSibling),an=a,Ve=!0,kr=null,ia=!1,t!==null&&(On[Dn++]=xa,On[Dn++]=Ra,On[Dn++]=jr,xa=t.id,Ra=t.overflow,jr=a),a=ud(a,u.children),a.flags|=4096);return a}return d?(er(),d=u.fallback,x=a.mode,N=t.child,F=N.sibling,u=Ea(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,F!==null?d=Ea(F,d):(d=Nr(d,x,s,null),d.flags|=2),d.return=a,u.return=a,u.sibling=d,a.child=u,u=d,d=a.child,x=t.child.memoizedState,x===null?x=ld(s):(N=x.cachePool,N!==null?(F=Tt._currentValue,N=N.parent!==F?{parent:F,pool:F}:N):N=Ug(),x={baseLanes:x.baseLanes|s,cachePool:N}),d.memoizedState=x,d.childLanes=od(t,b,s),a.memoizedState=sd,u):(Ja(a),s=t.child,t=s.sibling,s=Ea(s,{mode:"visible",children:u.children}),s.return=a,s.sibling=null,t!==null&&(b=a.deletions,b===null?(a.deletions=[t],a.flags|=16):b.push(t)),a.child=s,a.memoizedState=null,s)}function ud(t,a){return a=jo({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function jo(t,a){return t=pn(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function cd(t,a,s){return xi(a,t.child,null,s),t=ud(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Wm(t,a,s){t.lanes|=a;var u=t.alternate;u!==null&&(u.lanes|=a),Ac(t.return,a,s)}function dd(t,a,s,u,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:d}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=s,g.tailMode=d)}function Qm(t,a,s){var u=a.pendingProps,d=u.revealOrder,g=u.tail;if($t(t,a,u.children,s),u=At.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wm(t,s,a);else if(t.tag===19)Wm(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(q(At,u),d){case"forwards":for(s=a.child,d=null;s!==null;)t=s.alternate,t!==null&&Ao(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=a.child,a.child=null):(d=s.sibling,s.sibling=null),dd(a,!1,d,s,g);break;case"backwards":for(s=null,d=a.child,a.child=null;d!==null;){if(t=d.alternate,t!==null&&Ao(t)===null){a.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}dd(a,!0,s,null,g);break;case"together":dd(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Da(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),ir|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(Rs(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(i(153));if(a.child!==null){for(t=a.child,s=Ea(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=Ea(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function fd(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&fo(t)))}function H0(t,a,s){switch(a.tag){case 3:Ce(a,a.stateNode.containerInfo),Ka(a,Tt,t.memoizedState.cache),Es();break;case 27:case 5:je(a);break;case 4:Ce(a,a.stateNode.containerInfo);break;case 10:Ka(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Ja(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Xm(t,a,s):(Ja(a),t=Da(t,a,s),t!==null?t.sibling:null);Ja(a);break;case 19:var d=(t.flags&128)!==0;if(u=(s&a.childLanes)!==0,u||(Rs(t,a,s,!1),u=(s&a.childLanes)!==0),d){if(u)return Qm(t,a,s);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),q(At,At.current),u)break;return null;case 22:case 23:return a.lanes=0,Vm(t,a,s);case 24:Ka(a,Tt,t.memoizedState.cache)}return Da(t,a,s)}function Zm(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)kt=!0;else{if(!fd(t,s)&&(a.flags&128)===0)return kt=!1,H0(t,a,s);kt=(t.flags&131072)!==0}else kt=!1,Ve&&(a.flags&1048576)!==0&&Ag(a,co,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var u=a.elementType,d=u._init;if(u=d(u._payload),a.type=u,typeof u=="function")wc(u)?(t=Hr(u,t),a.tag=1,a=Ym(null,a,u,t,s)):(a.tag=0,a=id(null,a,u,t,s));else{if(u!=null){if(d=u.$$typeof,d===B){a.tag=11,a=Im(null,a,u,t,s);break e}else if(d===J){a.tag=14,a=$m(null,a,u,t,s);break e}}throw a=le(u)||u,Error(i(306,a,""))}}return a;case 0:return id(t,a,a.type,a.pendingProps,s);case 1:return u=a.type,d=Hr(u,a.pendingProps),Ym(t,a,u,d,s);case 3:e:{if(Ce(a,a.stateNode.containerInfo),t===null)throw Error(i(387));u=a.pendingProps;var g=a.memoizedState;d=g.element,Uc(t,a),js(a,u,null,s);var b=a.memoizedState;if(u=b.cache,Ka(a,Tt,u),u!==g.cache&&Oc(a,[Tt],s,!0),Ns(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=Km(t,a,u,s);break e}else if(u!==d){d=Tn(Error(i(424)),a),xs(d),a=Km(t,a,u,s);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(gt=In(t.firstChild),an=a,Ve=!0,kr=null,ia=!0,s=Dm(a,null,u,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Es(),u===d){a=Da(t,a,s);break e}$t(t,a,u,s)}a=a.child}return a;case 26:return No(t,a),t===null?(s=nv(a.type,null,a.pendingProps,null))?a.memoizedState=s:Ve||(s=a.type,t=a.pendingProps,u=Go(ue.current).createElement(s),u[it]=a,u[st]=t,Vt(u,s,t),Mt(u),a.stateNode=u):a.memoizedState=nv(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return je(a),t===null&&Ve&&(u=a.stateNode=Jp(a.type,a.pendingProps,ue.current),an=a,ia=!0,d=gt,ur(a.type)?(Gd=d,gt=In(u.firstChild)):gt=d),$t(t,a,a.pendingProps.children,s),No(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Ve&&((d=u=gt)&&(u=gw(u,a.type,a.pendingProps,ia),u!==null?(a.stateNode=u,an=a,gt=In(u.firstChild),ia=!1,d=!0):d=!1),d||Ur(a)),je(a),d=a.type,g=a.pendingProps,b=t!==null?t.memoizedProps:null,u=g.children,$d(d,g)?u=null:b!==null&&$d(d,b)&&(a.flags|=32),a.memoizedState!==null&&(d=Ic(t,a,j0,null,null,s),el._currentValue=d),No(t,a),$t(t,a,u,s),a.child;case 6:return t===null&&Ve&&((t=s=gt)&&(s=mw(s,a.pendingProps,ia),s!==null?(a.stateNode=s,an=a,gt=null,t=!0):t=!1),t||Ur(a)),null;case 13:return Xm(t,a,s);case 4:return Ce(a,a.stateNode.containerInfo),u=a.pendingProps,t===null?a.child=xi(a,null,u,s):$t(t,a,u,s),a.child;case 11:return Im(t,a,a.type,a.pendingProps,s);case 7:return $t(t,a,a.pendingProps,s),a.child;case 8:return $t(t,a,a.pendingProps.children,s),a.child;case 12:return $t(t,a,a.pendingProps.children,s),a.child;case 10:return u=a.pendingProps,Ka(a,a.type,u.value),$t(t,a,u.children,s),a.child;case 9:return d=a.type._context,u=a.pendingProps.children,Pr(a),d=Qt(d),u=u(d),a.flags|=1,$t(t,a,u,s),a.child;case 14:return $m(t,a,a.type,a.pendingProps,s);case 15:return Bm(t,a,a.type,a.pendingProps,s);case 19:return Qm(t,a,s);case 31:return u=a.pendingProps,s=a.mode,u={mode:u.mode,children:u.children},t===null?(s=jo(u,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=Ea(t.child,u),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return Vm(t,a,s);case 24:return Pr(a),u=Qt(Tt),t===null?(d=jc(),d===null&&(d=at,g=Dc(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=s),d=g),a.memoizedState={parent:u,cache:d},kc(a),Ka(a,Tt,d)):((t.lanes&s)!==0&&(Uc(t,a),js(a,null,null,s),Ns()),d=t.memoizedState,g=a.memoizedState,d.parent!==u?(d={parent:u,cache:u},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),Ka(a,Tt,u)):(u=g.cache,Ka(a,Tt,u),u!==d.cache&&Oc(a,[Tt],s,!0))),$t(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Na(t){t.flags|=4}function Jm(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!lv(a)){if(a=Nn.current,a!==null&&((Fe&4194048)===Fe?sa!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||a!==sa))throw Os=Mc,Lg;t.flags|=8192}}function Mo(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Yl():536870912,t.lanes|=a,Ai|=a)}function Fs(t,a){if(!Ve)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function ft(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(a)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=s,a}function I0(t,a,s){var u=a.pendingProps;switch(Rc(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(a),null;case 1:return ft(a),null;case 3:return s=a.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ta(Tt),Ze(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ss(a)?Na(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ng())),ft(a),null;case 26:return s=a.memoizedState,t===null?(Na(a),s!==null?(ft(a),Jm(a,s)):(ft(a),a.flags&=-16777217)):s?s!==t.memoizedState?(Na(a),ft(a),Jm(a,s)):(ft(a),a.flags&=-16777217):(t.memoizedProps!==u&&Na(a),ft(a),a.flags&=-16777217),null;case 27:Yt(a),s=ue.current;var d=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==u&&Na(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ft(a),null}t=ie.current,Ss(a)?Og(a):(t=Jp(d,u,s),a.stateNode=t,Na(a))}return ft(a),null;case 5:if(Yt(a),s=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==u&&Na(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ft(a),null}if(t=ie.current,Ss(a))Og(a);else{switch(d=Go(ue.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?d.createElement(s,{is:u.is}):d.createElement(s)}}t[it]=a,t[st]=u;e:for(d=a.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a.stateNode=t;e:switch(Vt(t,s,u),s){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Na(a)}}return ft(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==u&&Na(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(t=ue.current,Ss(a)){if(t=a.stateNode,s=a.memoizedProps,u=null,d=an,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}t[it]=a,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||Gp(t.nodeValue,s)),t||Ur(a)}else t=Go(t).createTextNode(u),t[it]=a,a.stateNode=t}return ft(a),null;case 13:if(u=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ss(a),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[it]=a}else Es(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ft(a),d=!1}else d=Ng(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(Oa(a),a):(Oa(a),null)}if(Oa(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=u!==null,t=t!==null&&t.memoizedState!==null,s){u=a.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return s!==t&&s&&(a.child.flags|=8192),Mo(a,a.updateQueue),ft(a),null;case 4:return Ze(),t===null&&Pd(a.stateNode.containerInfo),ft(a),null;case 10:return Ta(a.type),ft(a),null;case 19:if(Y(At),d=a.memoizedState,d===null)return ft(a),null;if(u=(a.flags&128)!==0,g=d.rendering,g===null)if(u)Fs(d,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(g=Ao(t),g!==null){for(a.flags|=128,Fs(d,!1),t=g.updateQueue,a.updateQueue=t,Mo(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)Tg(s,t),s=s.sibling;return q(At,At.current&1|2),a.child}t=t.sibling}d.tail!==null&&tn()>Lo&&(a.flags|=128,u=!0,Fs(d,!1),a.lanes=4194304)}else{if(!u)if(t=Ao(g),t!==null){if(a.flags|=128,u=!0,t=t.updateQueue,a.updateQueue=t,Mo(a,t),Fs(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Ve)return ft(a),null}else 2*tn()-d.renderingStartTime>Lo&&s!==536870912&&(a.flags|=128,u=!0,Fs(d,!1),a.lanes=4194304);d.isBackwards?(g.sibling=a.child,a.child=g):(t=d.last,t!==null?t.sibling=g:a.child=g,d.last=g)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=tn(),a.sibling=null,t=At.current,q(At,u?t&1|2:t&1),a):(ft(a),null);case 22:case 23:return Oa(a),Fc(),u=a.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(s&536870912)!==0&&(a.flags&128)===0&&(ft(a),a.subtreeFlags&6&&(a.flags|=8192)):ft(a),s=a.updateQueue,s!==null&&Mo(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==s&&(a.flags|=2048),t!==null&&Y(zr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Ta(Tt),ft(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function $0(t,a){switch(Rc(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Ta(Tt),Ze(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return Yt(a),null;case 13:if(Oa(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Es()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return Y(At),null;case 4:return Ze(),null;case 10:return Ta(a.type),null;case 22:case 23:return Oa(a),Fc(),t!==null&&Y(zr),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Ta(Tt),null;case 25:return null;default:return null}}function ep(t,a){switch(Rc(a),a.tag){case 3:Ta(Tt),Ze();break;case 26:case 27:case 5:Yt(a);break;case 4:Ze();break;case 13:Oa(a);break;case 19:Y(At);break;case 10:Ta(a.type);break;case 22:case 23:Oa(a),Fc(),t!==null&&Y(zr);break;case 24:Ta(Tt)}}function Hs(t,a){try{var s=a.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var d=u.next;s=d;do{if((s.tag&t)===t){u=void 0;var g=s.create,b=s.inst;u=g(),b.destroy=u}s=s.next}while(s!==d)}}catch(x){Je(a,a.return,x)}}function tr(t,a,s){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&t)===t){var b=u.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,d=a;var N=s,F=x;try{F()}catch(G){Je(d,N,G)}}}u=u.next}while(u!==g)}}catch(G){Je(a,a.return,G)}}function tp(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{$g(a,s)}catch(u){Je(t,t.return,u)}}}function np(t,a,s){s.props=Hr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){Je(t,a,u)}}function Is(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(d){Je(t,a,d)}}function la(t,a){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(d){Je(t,a,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Je(t,a,d)}else s.current=null}function ap(t){var a=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(d){Je(t,t.return,d)}}function hd(t,a,s){try{var u=t.stateNode;uw(u,t.type,s,a),u[st]=a}catch(d){Je(t,t.return,d)}}function rp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ur(t.type)||t.tag===4}function gd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function md(t,a,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=qo));else if(u!==4&&(u===27&&ur(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(md(t,a,s),t=t.sibling;t!==null;)md(t,a,s),t=t.sibling}function ko(t,a,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(u!==4&&(u===27&&ur(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ko(t,a,s),t=t.sibling;t!==null;)ko(t,a,s),t=t.sibling}function ip(t){var a=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);Vt(a,u,s),a[it]=t,a[st]=s}catch(g){Je(t,t.return,g)}}var ja=!1,vt=!1,pd=!1,sp=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function B0(t,a){if(t=t.containerInfo,Hd=Zo,t=vg(t),gc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var b=0,x=-1,N=-1,F=0,G=0,W=t,H=null;t:for(;;){for(var I;W!==s||d!==0&&W.nodeType!==3||(x=b+d),W!==g||u!==0&&W.nodeType!==3||(N=b+u),W.nodeType===3&&(b+=W.nodeValue.length),(I=W.firstChild)!==null;)H=W,W=I;for(;;){if(W===t)break t;if(H===s&&++F===d&&(x=b),H===g&&++G===u&&(N=b),(I=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=I}s=x===-1||N===-1?null:{start:x,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(Id={focusedElem:t,selectionRange:s},Zo=!1,Ut=a;Ut!==null;)if(a=Ut,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,Ut=t;else for(;Ut!==null;){switch(a=Ut,g=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,s=a,d=g.memoizedProps,g=g.memoizedState,u=s.stateNode;try{var Se=Hr(s.type,d,s.elementType===s.type);t=u.getSnapshotBeforeUpdate(Se,g),u.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Je(s,s.return,_e)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)Vd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=a.sibling,t!==null){t.return=a.return,Ut=t;break}Ut=a.return}}function lp(t,a,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:nr(t,s),u&4&&Hs(5,s);break;case 1:if(nr(t,s),u&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(b){Je(s,s.return,b)}else{var d=Hr(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(d,a,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Je(s,s.return,b)}}u&64&&tp(s),u&512&&Is(s,s.return);break;case 3:if(nr(t,s),u&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{$g(t,a)}catch(b){Je(s,s.return,b)}}break;case 27:a===null&&u&4&&ip(s);case 26:case 5:nr(t,s),a===null&&u&4&&ap(s),u&512&&Is(s,s.return);break;case 12:nr(t,s);break;case 13:nr(t,s),u&4&&cp(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Z0.bind(null,s),pw(t,s))));break;case 22:if(u=s.memoizedState!==null||ja,!u){a=a!==null&&a.memoizedState!==null||vt,d=ja;var g=vt;ja=u,(vt=a)&&!g?ar(t,s,(s.subtreeFlags&8772)!==0):nr(t,s),ja=d,vt=g}break;case 30:break;default:nr(t,s)}}function op(t){var a=t.alternate;a!==null&&(t.alternate=null,op(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Xu(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,cn=!1;function Ma(t,a,s){for(s=s.child;s!==null;)up(t,a,s),s=s.sibling}function up(t,a,s){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(ge,s)}catch{}switch(s.tag){case 26:vt||la(s,a),Ma(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:vt||la(s,a);var u=ot,d=cn;ur(s.type)&&(ot=s.stateNode,cn=!1),Ma(t,a,s),Ws(s.stateNode),ot=u,cn=d;break;case 5:vt||la(s,a);case 6:if(u=ot,d=cn,ot=null,Ma(t,a,s),ot=u,cn=d,ot!==null)if(cn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(s.stateNode)}catch(g){Je(s,a,g)}else try{ot.removeChild(s.stateNode)}catch(g){Je(s,a,g)}break;case 18:ot!==null&&(cn?(t=ot,Qp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),rl(t)):Qp(ot,s.stateNode));break;case 4:u=ot,d=cn,ot=s.stateNode.containerInfo,cn=!0,Ma(t,a,s),ot=u,cn=d;break;case 0:case 11:case 14:case 15:vt||tr(2,s,a),vt||tr(4,s,a),Ma(t,a,s);break;case 1:vt||(la(s,a),u=s.stateNode,typeof u.componentWillUnmount=="function"&&np(s,a,u)),Ma(t,a,s);break;case 21:Ma(t,a,s);break;case 22:vt=(u=vt)||s.memoizedState!==null,Ma(t,a,s),vt=u;break;default:Ma(t,a,s)}}function cp(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{rl(t)}catch(s){Je(a,a.return,s)}}function V0(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new sp),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new sp),a;default:throw Error(i(435,t.tag))}}function vd(t,a){var s=V0(t);a.forEach(function(u){var d=J0.bind(null,t,u);s.has(u)||(s.add(u),u.then(d,d))})}function vn(t,a){var s=a.deletions;if(s!==null)for(var u=0;u<s.length;u++){var d=s[u],g=t,b=a,x=b;e:for(;x!==null;){switch(x.tag){case 27:if(ur(x.type)){ot=x.stateNode,cn=!1;break e}break;case 5:ot=x.stateNode,cn=!1;break e;case 3:case 4:ot=x.stateNode.containerInfo,cn=!0;break e}x=x.return}if(ot===null)throw Error(i(160));up(g,b,d),ot=null,cn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)dp(a,t),a=a.sibling}var Hn=null;function dp(t,a){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(a,t),yn(t),u&4&&(tr(3,t,t.return),Hs(3,t),tr(5,t,t.return));break;case 1:vn(a,t),yn(t),u&512&&(vt||s===null||la(s,s.return)),u&64&&ja&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var d=Hn;if(vn(a,t),yn(t),u&512&&(vt||s===null||la(s,s.return)),u&4){var g=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[ba]||g[it]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Vt(g,u,s),g[it]=t,Mt(g),u=g;break e;case"link":var b=iv("link","href",d).get(u+(s.href||""));if(b){for(var x=0;x<b.length;x++)if(g=b[x],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(x,1);break t}}g=d.createElement(u),Vt(g,u,s),d.head.appendChild(g);break;case"meta":if(b=iv("meta","content",d).get(u+(s.content||""))){for(x=0;x<b.length;x++)if(g=b[x],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(x,1);break t}}g=d.createElement(u),Vt(g,u,s),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[it]=t,Mt(g),u=g}t.stateNode=u}else sv(d,t.type,t.stateNode);else t.stateNode=rv(d,u,t.memoizedProps);else g!==u?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,u===null?sv(d,t.type,t.stateNode):rv(d,u,t.memoizedProps)):u===null&&t.stateNode!==null&&hd(t,t.memoizedProps,s.memoizedProps)}break;case 27:vn(a,t),yn(t),u&512&&(vt||s===null||la(s,s.return)),s!==null&&u&4&&hd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(vn(a,t),yn(t),u&512&&(vt||s===null||la(s,s.return)),t.flags&32){d=t.stateNode;try{si(d,"")}catch(I){Je(t,t.return,I)}}u&4&&t.stateNode!=null&&(d=t.memoizedProps,hd(t,d,s!==null?s.memoizedProps:d)),u&1024&&(pd=!0);break;case 6:if(vn(a,t),yn(t),u&4){if(t.stateNode===null)throw Error(i(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(I){Je(t,t.return,I)}}break;case 3:if(Xo=null,d=Hn,Hn=Yo(a.containerInfo),vn(a,t),Hn=d,yn(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{rl(a.containerInfo)}catch(I){Je(t,t.return,I)}pd&&(pd=!1,fp(t));break;case 4:u=Hn,Hn=Yo(t.stateNode.containerInfo),vn(a,t),yn(t),Hn=u;break;case 12:vn(a,t),yn(t);break;case 13:vn(a,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ed=tn()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,vd(t,u)));break;case 22:d=t.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,F=ja,G=vt;if(ja=F||d,vt=G||N,vn(a,t),vt=G,ja=F,yn(t),u&8192)e:for(a=t.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(s===null||N||ja||vt||Ir(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){N=s=a;try{if(g=N.stateNode,d)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{x=N.stateNode;var W=N.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;x.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(I){Je(N,N.return,I)}}}else if(a.tag===6){if(s===null){N=a;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(I){Je(N,N.return,I)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,vd(t,s))));break;case 19:vn(a,t),yn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,vd(t,u)));break;case 30:break;case 21:break;default:vn(a,t),yn(t)}}function yn(t){var a=t.flags;if(a&2){try{for(var s,u=t.return;u!==null;){if(rp(u)){s=u;break}u=u.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var d=s.stateNode,g=gd(t);ko(t,g,d);break;case 5:var b=s.stateNode;s.flags&32&&(si(b,""),s.flags&=-33);var x=gd(t);ko(t,x,b);break;case 3:case 4:var N=s.stateNode.containerInfo,F=gd(t);md(t,F,N);break;default:throw Error(i(161))}}catch(G){Je(t,t.return,G)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function fp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;fp(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function nr(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)lp(t,a.alternate,a),a=a.sibling}function Ir(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:tr(4,a,a.return),Ir(a);break;case 1:la(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&np(a,a.return,s),Ir(a);break;case 27:Ws(a.stateNode);case 26:case 5:la(a,a.return),Ir(a);break;case 22:a.memoizedState===null&&Ir(a);break;case 30:Ir(a);break;default:Ir(a)}t=t.sibling}}function ar(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,d=t,g=a,b=g.flags;switch(g.tag){case 0:case 11:case 15:ar(d,g,s),Hs(4,g);break;case 1:if(ar(d,g,s),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){Je(u,u.return,F)}if(u=g,d=u.updateQueue,d!==null){var x=u.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)Ig(N[d],x)}catch(F){Je(u,u.return,F)}}s&&b&64&&tp(g),Is(g,g.return);break;case 27:ip(g);case 26:case 5:ar(d,g,s),s&&u===null&&b&4&&ap(g),Is(g,g.return);break;case 12:ar(d,g,s);break;case 13:ar(d,g,s),s&&b&4&&cp(d,g);break;case 22:g.memoizedState===null&&ar(d,g,s),Is(g,g.return);break;case 30:break;default:ar(d,g,s)}a=a.sibling}}function yd(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Cs(s))}function _d(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Cs(t))}function oa(t,a,s,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)hp(t,a,s,u),a=a.sibling}function hp(t,a,s,u){var d=a.flags;switch(a.tag){case 0:case 11:case 15:oa(t,a,s,u),d&2048&&Hs(9,a);break;case 1:oa(t,a,s,u);break;case 3:oa(t,a,s,u),d&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Cs(t)));break;case 12:if(d&2048){oa(t,a,s,u),t=a.stateNode;try{var g=a.memoizedProps,b=g.id,x=g.onPostCommit;typeof x=="function"&&x(b,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Je(a,a.return,N)}}else oa(t,a,s,u);break;case 13:oa(t,a,s,u);break;case 23:break;case 22:g=a.stateNode,b=a.alternate,a.memoizedState!==null?g._visibility&2?oa(t,a,s,u):$s(t,a):g._visibility&2?oa(t,a,s,u):(g._visibility|=2,Ri(t,a,s,u,(a.subtreeFlags&10256)!==0)),d&2048&&yd(b,a);break;case 24:oa(t,a,s,u),d&2048&&_d(a.alternate,a);break;default:oa(t,a,s,u)}}function Ri(t,a,s,u,d){for(d=d&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=t,b=a,x=s,N=u,F=b.flags;switch(b.tag){case 0:case 11:case 15:Ri(g,b,x,N,d),Hs(8,b);break;case 23:break;case 22:var G=b.stateNode;b.memoizedState!==null?G._visibility&2?Ri(g,b,x,N,d):$s(g,b):(G._visibility|=2,Ri(g,b,x,N,d)),d&&F&2048&&yd(b.alternate,b);break;case 24:Ri(g,b,x,N,d),d&&F&2048&&_d(b.alternate,b);break;default:Ri(g,b,x,N,d)}a=a.sibling}}function $s(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,u=a,d=u.flags;switch(u.tag){case 22:$s(s,u),d&2048&&yd(u.alternate,u);break;case 24:$s(s,u),d&2048&&_d(u.alternate,u);break;default:$s(s,u)}a=a.sibling}}var Bs=8192;function Ci(t){if(t.subtreeFlags&Bs)for(t=t.child;t!==null;)gp(t),t=t.sibling}function gp(t){switch(t.tag){case 26:Ci(t),t.flags&Bs&&t.memoizedState!==null&&Ow(Hn,t.memoizedState,t.memoizedProps);break;case 5:Ci(t);break;case 3:case 4:var a=Hn;Hn=Yo(t.stateNode.containerInfo),Ci(t),Hn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Bs,Bs=16777216,Ci(t),Bs=a):Ci(t));break;default:Ci(t)}}function mp(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Vs(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var u=a[s];Ut=u,vp(u,t)}mp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pp(t),t=t.sibling}function pp(t){switch(t.tag){case 0:case 11:case 15:Vs(t),t.flags&2048&&tr(9,t,t.return);break;case 3:Vs(t);break;case 12:Vs(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Uo(t)):Vs(t);break;default:Vs(t)}}function Uo(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var u=a[s];Ut=u,vp(u,t)}mp(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:tr(8,a,a.return),Uo(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,Uo(a));break;default:Uo(a)}t=t.sibling}}function vp(t,a){for(;Ut!==null;){var s=Ut;switch(s.tag){case 0:case 11:case 15:tr(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Cs(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Ut=u;else e:for(s=t;Ut!==null;){u=Ut;var d=u.sibling,g=u.return;if(op(u),u===s){Ut=null;break e}if(d!==null){d.return=g,Ut=d;break e}Ut=g}}}var q0={getCacheForType:function(t){var a=Qt(Tt),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s}},G0=typeof WeakMap=="function"?WeakMap:Map,qe=0,at=null,Ue=null,Fe=0,Ge=0,_n=null,rr=!1,Ti=!1,bd=!1,ka=0,mt=0,ir=0,$r=0,wd=0,jn=0,Ai=0,qs=null,dn=null,Sd=!1,Ed=0,Lo=1/0,Po=null,sr=null,Bt=0,lr=null,Oi=null,Di=0,xd=0,Rd=null,yp=null,Gs=0,Cd=null;function bn(){if((qe&2)!==0&&Fe!==0)return Fe&-Fe;if(L.T!==null){var t=vi;return t!==0?t:Md()}return gn()}function _p(){jn===0&&(jn=(Fe&536870912)===0||Ve?Gl():536870912);var t=Nn.current;return t!==null&&(t.flags|=32),jn}function wn(t,a,s){(t===at&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)&&(Ni(t,0),or(t,Fe,jn,!1)),ht(t,s),((qe&2)===0||t!==at)&&(t===at&&((qe&2)===0&&($r|=s),mt===4&&or(t,Fe,jn,!1)),ua(t))}function bp(t,a,s){if((qe&6)!==0)throw Error(i(327));var u=!s&&(a&124)===0&&(a&t.expiredLanes)===0||ya(t,a),d=u?X0(t,a):Od(t,a,!0),g=u;do{if(d===0){Ti&&!u&&or(t,a,0,!1);break}else{if(s=t.current.alternate,g&&!Y0(s)){d=Od(t,a,!1),g=!1;continue}if(d===2){if(g=a,t.errorRecoveryDisabledLanes&g)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var x=t;d=qs;var N=x.current.memoizedState.isDehydrated;if(N&&(Ni(x,b).flags|=256),b=Od(x,b,!1),b!==2){if(bd&&!N){x.errorRecoveryDisabledLanes|=g,$r|=g,d=4;break e}g=dn,dn=d,g!==null&&(dn===null?dn=g:dn.push.apply(dn,g))}d=b}if(g=!1,d!==2)continue}}if(d===1){Ni(t,0),or(t,a,0,!0);break}e:{switch(u=t,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:or(u,a,jn,!rr);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(d=Ed+300-tn(),10<d)){if(or(u,a,jn,!rr),aa(u,0,!0)!==0)break e;u.timeoutHandle=Xp(wp.bind(null,u,s,dn,Po,Sd,a,jn,$r,Ai,rr,g,2,-0,0),d);break e}wp(u,s,dn,Po,Sd,a,jn,$r,Ai,rr,g,0,-0,0)}}break}while(!0);ua(t)}function wp(t,a,s,u,d,g,b,x,N,F,G,W,H,I){if(t.timeoutHandle=-1,W=a.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Js={stylesheets:null,count:0,unsuspend:Aw},gp(a),W=Dw(),W!==null)){t.cancelPendingCommit=W(Ap.bind(null,t,a,g,s,u,d,b,x,N,G,1,H,I)),or(t,g,b,!F);return}Ap(t,a,g,s,u,d,b,x,N)}function Y0(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var d=s[u],g=d.getSnapshot;d=d.value;try{if(!mn(g(),d))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function or(t,a,s,u){a&=~wd,a&=~$r,t.suspendedLanes|=a,t.pingedLanes&=~a,u&&(t.warmLanes|=a),u=t.expirationTimes;for(var d=a;0<d;){var g=31-He(d),b=1<<g;u[g]=-1,d&=~b}s!==0&&Kt(t,s,a)}function zo(){return(qe&6)===0?(Ys(0),!1):!0}function Td(){if(Ue!==null){if(Ge===0)var t=Ue.return;else t=Ue,Ca=Lr=null,Vc(t),Ei=null,Ps=0,t=Ue;for(;t!==null;)ep(t.alternate,t),t=t.return;Ue=null}}function Ni(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,dw(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Td(),at=t,Ue=s=Ea(t.current,null),Fe=a,Ge=0,_n=null,rr=!1,Ti=ya(t,a),bd=!1,Ai=jn=wd=$r=ir=mt=0,dn=qs=null,Sd=!1,(a&8)!==0&&(a|=a&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=a;0<u;){var d=31-He(u),g=1<<d;a|=t[d],u&=~g}return ka=a,io(),s}function Sp(t,a){Me=null,L.H=Ro,a===As||a===mo?(a=Fg(),Ge=3):a===Lg?(a=Fg(),Ge=4):Ge=a===Hm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,_n=a,Ue===null&&(mt=1,Do(t,Tn(a,t.current)))}function Ep(){var t=L.H;return L.H=Ro,t===null?Ro:t}function xp(){var t=L.A;return L.A=q0,t}function Ad(){mt=4,rr||(Fe&4194048)!==Fe&&Nn.current!==null||(Ti=!0),(ir&134217727)===0&&($r&134217727)===0||at===null||or(at,Fe,jn,!1)}function Od(t,a,s){var u=qe;qe|=2;var d=Ep(),g=xp();(at!==t||Fe!==a)&&(Po=null,Ni(t,a)),a=!1;var b=mt;e:do try{if(Ge!==0&&Ue!==null){var x=Ue,N=_n;switch(Ge){case 8:Td(),b=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(a=!0);var F=Ge;if(Ge=0,_n=null,ji(t,x,N,F),s&&Ti){b=0;break e}break;default:F=Ge,Ge=0,_n=null,ji(t,x,N,F)}}K0(),b=mt;break}catch(G){Sp(t,G)}while(!0);return a&&t.shellSuspendCounter++,Ca=Lr=null,qe=u,L.H=d,L.A=g,Ue===null&&(at=null,Fe=0,io()),b}function K0(){for(;Ue!==null;)Rp(Ue)}function X0(t,a){var s=qe;qe|=2;var u=Ep(),d=xp();at!==t||Fe!==a?(Po=null,Lo=tn()+500,Ni(t,a)):Ti=ya(t,a);e:do try{if(Ge!==0&&Ue!==null){a=Ue;var g=_n;t:switch(Ge){case 1:Ge=0,_n=null,ji(t,a,g,1);break;case 2:case 9:if(Pg(g)){Ge=0,_n=null,Cp(a);break}a=function(){Ge!==2&&Ge!==9||at!==t||(Ge=7),ua(t)},g.then(a,a);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Pg(g)?(Ge=0,_n=null,Cp(a)):(Ge=0,_n=null,ji(t,a,g,7));break;case 5:var b=null;switch(Ue.tag){case 26:b=Ue.memoizedState;case 5:case 27:var x=Ue;if(!b||lv(b)){Ge=0,_n=null;var N=x.sibling;if(N!==null)Ue=N;else{var F=x.return;F!==null?(Ue=F,Fo(F)):Ue=null}break t}}Ge=0,_n=null,ji(t,a,g,5);break;case 6:Ge=0,_n=null,ji(t,a,g,6);break;case 8:Td(),mt=6;break e;default:throw Error(i(462))}}W0();break}catch(G){Sp(t,G)}while(!0);return Ca=Lr=null,L.H=u,L.A=d,qe=s,Ue!==null?0:(at=null,Fe=0,io(),mt)}function W0(){for(;Ue!==null&&!ma();)Rp(Ue)}function Rp(t){var a=Zm(t.alternate,t,ka);t.memoizedProps=t.pendingProps,a===null?Fo(t):Ue=a}function Cp(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=Gm(s,a,a.pendingProps,a.type,void 0,Fe);break;case 11:a=Gm(s,a,a.pendingProps,a.type.render,a.ref,Fe);break;case 5:Vc(a);default:ep(s,a),a=Ue=Tg(a,ka),a=Zm(s,a,ka)}t.memoizedProps=t.pendingProps,a===null?Fo(t):Ue=a}function ji(t,a,s,u){Ca=Lr=null,Vc(a),Ei=null,Ps=0;var d=a.return;try{if(F0(t,d,a,s,Fe)){mt=1,Do(t,Tn(s,t.current)),Ue=null;return}}catch(g){if(d!==null)throw Ue=d,g;mt=1,Do(t,Tn(s,t.current)),Ue=null;return}a.flags&32768?(Ve||u===1?t=!0:Ti||(Fe&536870912)!==0?t=!1:(rr=t=!0,(u===2||u===9||u===3||u===6)&&(u=Nn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Tp(a,t)):Fo(a)}function Fo(t){var a=t;do{if((a.flags&32768)!==0){Tp(a,rr);return}t=a.return;var s=I0(a.alternate,a,ka);if(s!==null){Ue=s;return}if(a=a.sibling,a!==null){Ue=a;return}Ue=a=t}while(a!==null);mt===0&&(mt=5)}function Tp(t,a){do{var s=$0(t.alternate,t);if(s!==null){s.flags&=32767,Ue=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=s}while(t!==null);mt=6,Ue=null}function Ap(t,a,s,u,d,g,b,x,N){t.cancelPendingCommit=null;do Ho();while(Bt!==0);if((qe&6)!==0)throw Error(i(327));if(a!==null){if(a===t.current)throw Error(i(177));if(g=a.lanes|a.childLanes,g|=_c,nn(t,s,g,b,x,N),t===at&&(Ue=at=null,Fe=0),Oi=a,lr=t,Di=s,xd=g,Rd=d,yp=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ew(z,function(){return Mp(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,d=Q.p,Q.p=2,b=qe,qe|=4;try{B0(t,a,s)}finally{qe=b,Q.p=d,L.T=u}}Bt=1,Op(),Dp(),Np()}}function Op(){if(Bt===1){Bt=0;var t=lr,a=Oi,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=L.T,L.T=null;var u=Q.p;Q.p=2;var d=qe;qe|=4;try{dp(a,t);var g=Id,b=vg(t.containerInfo),x=g.focusedElem,N=g.selectionRange;if(b!==x&&x&&x.ownerDocument&&pg(x.ownerDocument.documentElement,x)){if(N!==null&&gc(x)){var F=N.start,G=N.end;if(G===void 0&&(G=F),"selectionStart"in x)x.selectionStart=F,x.selectionEnd=Math.min(G,x.value.length);else{var W=x.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var I=H.getSelection(),Se=x.textContent.length,_e=Math.min(N.start,Se),We=N.end===void 0?_e:Math.min(N.end,Se);!I.extend&&_e>We&&(b=We,We=_e,_e=b);var k=mg(x,_e),M=mg(x,We);if(k&&M&&(I.rangeCount!==1||I.anchorNode!==k.node||I.anchorOffset!==k.offset||I.focusNode!==M.node||I.focusOffset!==M.offset)){var P=W.createRange();P.setStart(k.node,k.offset),I.removeAllRanges(),_e>We?(I.addRange(P),I.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),I.addRange(P))}}}}for(W=[],I=x;I=I.parentNode;)I.nodeType===1&&W.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<W.length;x++){var K=W[x];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Zo=!!Hd,Id=Hd=null}finally{qe=d,Q.p=u,L.T=s}}t.current=a,Bt=2}}function Dp(){if(Bt===2){Bt=0;var t=lr,a=Oi,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=L.T,L.T=null;var u=Q.p;Q.p=2;var d=qe;qe|=4;try{lp(t,a.alternate,a)}finally{qe=d,Q.p=u,L.T=s}}Bt=3}}function Np(){if(Bt===4||Bt===3){Bt=0,ea();var t=lr,a=Oi,s=Di,u=yp;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Bt=5:(Bt=0,Oi=lr=null,jp(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(sr=null),It(s),a=a.stateNode,be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(ge,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=L.T,d=Q.p,Q.p=2,L.T=null;try{for(var g=t.onRecoverableError,b=0;b<u.length;b++){var x=u[b];g(x.value,{componentStack:x.stack})}}finally{L.T=a,Q.p=d}}(Di&3)!==0&&Ho(),ua(t),d=t.pendingLanes,(s&4194090)!==0&&(d&42)!==0?t===Cd?Gs++:(Gs=0,Cd=t):Gs=0,Ys(0)}}function jp(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,Cs(a)))}function Ho(t){return Op(),Dp(),Np(),Mp()}function Mp(){if(Bt!==5)return!1;var t=lr,a=xd;xd=0;var s=It(Di),u=L.T,d=Q.p;try{Q.p=32>s?32:s,L.T=null,s=Rd,Rd=null;var g=lr,b=Di;if(Bt=0,Oi=lr=null,Di=0,(qe&6)!==0)throw Error(i(331));var x=qe;if(qe|=4,pp(g.current),hp(g,g.current,b,s),qe=x,Ys(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(ge,g)}catch{}return!0}finally{Q.p=d,L.T=u,jp(t,a)}}function kp(t,a,s){a=Tn(s,a),a=rd(t.stateNode,a,2),t=Qa(t,a,2),t!==null&&(ht(t,2),ua(t))}function Je(t,a,s){if(t.tag===3)kp(t,t,s);else for(;a!==null;){if(a.tag===3){kp(a,t,s);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(sr===null||!sr.has(u))){t=Tn(s,t),s=zm(2),u=Qa(a,s,2),u!==null&&(Fm(s,u,a,t),ht(u,2),ua(u));break}}a=a.return}}function Dd(t,a,s){var u=t.pingCache;if(u===null){u=t.pingCache=new G0;var d=new Set;u.set(a,d)}else d=u.get(a),d===void 0&&(d=new Set,u.set(a,d));d.has(s)||(bd=!0,d.add(s),t=Q0.bind(null,t,a,s),a.then(t,t))}function Q0(t,a,s){var u=t.pingCache;u!==null&&u.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,at===t&&(Fe&s)===s&&(mt===4||mt===3&&(Fe&62914560)===Fe&&300>tn()-Ed?(qe&2)===0&&Ni(t,0):wd|=s,Ai===Fe&&(Ai=0)),ua(t)}function Up(t,a){a===0&&(a=Yl()),t=hi(t,a),t!==null&&(ht(t,a),ua(t))}function Z0(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),Up(t,s)}function J0(t,a){var s=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),Up(t,s)}function ew(t,a){return xn(t,a)}var Io=null,Mi=null,Nd=!1,$o=!1,jd=!1,Br=0;function ua(t){t!==Mi&&t.next===null&&(Mi===null?Io=Mi=t:Mi=Mi.next=t),$o=!0,Nd||(Nd=!0,nw())}function Ys(t,a){if(!jd&&$o){jd=!0;do for(var s=!1,u=Io;u!==null;){if(t!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var b=u.suspendedLanes,x=u.pingedLanes;g=(1<<31-He(42|t)+1)-1,g&=d&~(b&~x),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,Fp(u,g))}else g=Fe,g=aa(u,u===at?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ya(u,g)||(s=!0,Fp(u,g));u=u.next}while(s);jd=!1}}function tw(){Lp()}function Lp(){$o=Nd=!1;var t=0;Br!==0&&(cw()&&(t=Br),Br=0);for(var a=tn(),s=null,u=Io;u!==null;){var d=u.next,g=Pp(u,a);g===0?(u.next=null,s===null?Io=d:s.next=d,d===null&&(Mi=s)):(s=u,(t!==0||(g&3)!==0)&&($o=!0)),u=d}Ys(t)}function Pp(t,a){for(var s=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var b=31-He(g),x=1<<b,N=d[b];N===-1?((x&s)===0||(x&u)!==0)&&(d[b]=Rr(x,a)):N<=a&&(t.expiredLanes|=x),g&=~x}if(a=at,s=Fe,s=aa(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===a&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&bt(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ya(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(u!==null&&bt(u),It(s)){case 2:case 8:s=j;break;case 32:s=z;break;case 268435456:s=oe;break;default:s=z}return u=zp.bind(null,t),s=xn(s,u),t.callbackPriority=a,t.callbackNode=s,a}return u!==null&&u!==null&&bt(u),t.callbackPriority=2,t.callbackNode=null,2}function zp(t,a){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Ho()&&t.callbackNode!==s)return null;var u=Fe;return u=aa(t,t===at?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(bp(t,u,a),Pp(t,tn()),t.callbackNode!=null&&t.callbackNode===s?zp.bind(null,t):null)}function Fp(t,a){if(Ho())return null;bp(t,a,!0)}function nw(){fw(function(){(qe&6)!==0?xn(pa,tw):Lp()})}function Md(){return Br===0&&(Br=Gl()),Br}function Hp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zl(""+t)}function Ip(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function aw(t,a,s,u,d){if(a==="submit"&&s&&s.stateNode===d){var g=Hp((d[st]||null).action),b=u.submitter;b&&(a=(a=b[st]||null)?Hp(a.formAction):b.getAttribute("formAction"),a!==null&&(g=a,b=null));var x=new no("action","action",null,u,d);t.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Br!==0){var N=b?Ip(d,b):new FormData(d);Jc(s,{pending:!0,data:N,method:d.method,action:g},null,N)}}else typeof g=="function"&&(x.preventDefault(),N=b?Ip(d,b):new FormData(d),Jc(s,{pending:!0,data:N,method:d.method,action:g},g,N))},currentTarget:d}]})}}for(var kd=0;kd<yc.length;kd++){var Ud=yc[kd],rw=Ud.toLowerCase(),iw=Ud[0].toUpperCase()+Ud.slice(1);Fn(rw,"on"+iw)}Fn(bg,"onAnimationEnd"),Fn(wg,"onAnimationIteration"),Fn(Sg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(S0,"onTransitionRun"),Fn(E0,"onTransitionStart"),Fn(x0,"onTransitionCancel"),Fn(Eg,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ks));function $p(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],d=u.event;u=u.listeners;e:{var g=void 0;if(a)for(var b=u.length-1;0<=b;b--){var x=u[b],N=x.instance,F=x.currentTarget;if(x=x.listener,N!==g&&d.isPropagationStopped())break e;g=x,d.currentTarget=F;try{g(d)}catch(G){Oo(G)}d.currentTarget=null,g=N}else for(b=0;b<u.length;b++){if(x=u[b],N=x.instance,F=x.currentTarget,x=x.listener,N!==g&&d.isPropagationStopped())break e;g=x,d.currentTarget=F;try{g(d)}catch(G){Oo(G)}d.currentTarget=null,g=N}}}}function Le(t,a){var s=a[_a];s===void 0&&(s=a[_a]=new Set);var u=t+"__bubble";s.has(u)||(Bp(a,t,2,!1),s.add(u))}function Ld(t,a,s){var u=0;a&&(u|=4),Bp(s,t,u,a)}var Bo="_reactListening"+Math.random().toString(36).slice(2);function Pd(t){if(!t[Bo]){t[Bo]=!0,Lh.forEach(function(s){s!=="selectionchange"&&(sw.has(s)||Ld(s,!1,t),Ld(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Bo]||(a[Bo]=!0,Ld("selectionchange",!1,a))}}function Bp(t,a,s,u){switch(hv(a)){case 2:var d=Mw;break;case 8:d=kw;break;default:d=Qd}s=d.bind(null,a,s,t),d=void 0,!ic||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(a,s,{capture:!0,passive:d}):t.addEventListener(a,s,!0):d!==void 0?t.addEventListener(a,s,{passive:d}):t.addEventListener(a,s,!1)}function zd(t,a,s,u,d){var g=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var x=u.stateNode.containerInfo;if(x===d)break;if(b===4)for(b=u.return;b!==null;){var N=b.tag;if((N===3||N===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;x!==null;){if(b=ei(x),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){u=g=b;continue e}x=x.parentNode}}u=u.return}Wh(function(){var F=g,G=ac(s),W=[];e:{var H=xg.get(t);if(H!==void 0){var I=no,Se=t;switch(t){case"keypress":if(eo(s)===0)break e;case"keydown":case"keyup":I=e0;break;case"focusin":Se="focus",I=uc;break;case"focusout":Se="blur",I=uc;break;case"beforeblur":case"afterblur":I=uc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=$b;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=a0;break;case bg:case wg:case Sg:I=qb;break;case Eg:I=i0;break;case"scroll":case"scrollend":I=Hb;break;case"wheel":I=l0;break;case"copy":case"cut":case"paste":I=Yb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=tg;break;case"toggle":case"beforetoggle":I=u0}var _e=(a&4)!==0,We=!_e&&(t==="scroll"||t==="scrollend"),k=_e?H!==null?H+"Capture":null:H;_e=[];for(var M=F,P;M!==null;){var K=M;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=hs(M,k),K!=null&&_e.push(Xs(M,K,P))),We)break;M=M.return}0<_e.length&&(H=new I(H,Se,null,s,G),W.push({event:H,listeners:_e}))}}if((a&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",H&&s!==nc&&(Se=s.relatedTarget||s.fromElement)&&(ei(Se)||Se[Wt]))break e;if((I||H)&&(H=G.window===G?G:(H=G.ownerDocument)?H.defaultView||H.parentWindow:window,I?(Se=s.relatedTarget||s.toElement,I=F,Se=Se?ei(Se):null,Se!==null&&(We=o(Se),_e=Se.tag,Se!==We||_e!==5&&_e!==27&&_e!==6)&&(Se=null)):(I=null,Se=F),I!==Se)){if(_e=Jh,K="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=tg,K="onPointerLeave",k="onPointerEnter",M="pointer"),We=I==null?H:fs(I),P=Se==null?H:fs(Se),H=new _e(K,M+"leave",I,s,G),H.target=We,H.relatedTarget=P,K=null,ei(G)===F&&(_e=new _e(k,M+"enter",Se,s,G),_e.target=P,_e.relatedTarget=We,K=_e),We=K,I&&Se)t:{for(_e=I,k=Se,M=0,P=_e;P;P=ki(P))M++;for(P=0,K=k;K;K=ki(K))P++;for(;0<M-P;)_e=ki(_e),M--;for(;0<P-M;)k=ki(k),P--;for(;M--;){if(_e===k||k!==null&&_e===k.alternate)break t;_e=ki(_e),k=ki(k)}_e=null}else _e=null;I!==null&&Vp(W,H,I,_e,!1),Se!==null&&We!==null&&Vp(W,We,Se,_e,!0)}}e:{if(H=F?fs(F):window,I=H.nodeName&&H.nodeName.toLowerCase(),I==="select"||I==="input"&&H.type==="file")var fe=ug;else if(lg(H))if(cg)fe=_0;else{fe=v0;var ke=p0}else I=H.nodeName,!I||I.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&tc(F.elementType)&&(fe=ug):fe=y0;if(fe&&(fe=fe(t,F))){og(W,fe,s,G);break e}ke&&ke(t,H,F),t==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&ec(H,"number",H.value)}switch(ke=F?fs(F):window,t){case"focusin":(lg(ke)||ke.contentEditable==="true")&&(ci=ke,mc=F,ws=null);break;case"focusout":ws=mc=ci=null;break;case"mousedown":pc=!0;break;case"contextmenu":case"mouseup":case"dragend":pc=!1,yg(W,s,G);break;case"selectionchange":if(w0)break;case"keydown":case"keyup":yg(W,s,G)}var ve;if(dc)e:{switch(t){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ui?ig(t,s)&&(we="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(we="onCompositionStart");we&&(ng&&s.locale!=="ko"&&(ui||we!=="onCompositionStart"?we==="onCompositionEnd"&&ui&&(ve=Qh()):(Ya=G,sc="value"in Ya?Ya.value:Ya.textContent,ui=!0)),ke=Vo(F,we),0<ke.length&&(we=new eg(we,t,null,s,G),W.push({event:we,listeners:ke}),ve?we.data=ve:(ve=sg(s),ve!==null&&(we.data=ve)))),(ve=d0?f0(t,s):h0(t,s))&&(we=Vo(F,"onBeforeInput"),0<we.length&&(ke=new eg("onBeforeInput","beforeinput",null,s,G),W.push({event:ke,listeners:we}),ke.data=ve)),aw(W,t,F,s,G)}$p(W,a)})}function Xs(t,a,s){return{instance:t,listener:a,currentTarget:s}}function Vo(t,a){for(var s=a+"Capture",u=[];t!==null;){var d=t,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=hs(t,s),d!=null&&u.unshift(Xs(t,d,g)),d=hs(t,a),d!=null&&u.push(Xs(t,d,g))),t.tag===3)return u;t=t.return}return[]}function ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vp(t,a,s,u,d){for(var g=a._reactName,b=[];s!==null&&s!==u;){var x=s,N=x.alternate,F=x.stateNode;if(x=x.tag,N!==null&&N===u)break;x!==5&&x!==26&&x!==27||F===null||(N=F,d?(F=hs(s,g),F!=null&&b.unshift(Xs(s,F,N))):d||(F=hs(s,g),F!=null&&b.push(Xs(s,F,N)))),s=s.return}b.length!==0&&t.push({event:a,listeners:b})}var lw=/\r\n?/g,ow=/\u0000|\uFFFD/g;function qp(t){return(typeof t=="string"?t:""+t).replace(lw,`
`).replace(ow,"")}function Gp(t,a){return a=qp(a),qp(t)===a}function qo(){}function Xe(t,a,s,u,d,g){switch(s){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||si(t,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&si(t,""+u);break;case"className":Xl(t,"class",u);break;case"tabIndex":Xl(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Xl(t,s,u);break;case"style":Kh(t,u,g);break;case"data":if(a!=="object"){Xl(t,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=Zl(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(a!=="input"&&Xe(t,a,"name",d.name,d,null),Xe(t,a,"formEncType",d.formEncType,d,null),Xe(t,a,"formMethod",d.formMethod,d,null),Xe(t,a,"formTarget",d.formTarget,d,null)):(Xe(t,a,"encType",d.encType,d,null),Xe(t,a,"method",d.method,d,null),Xe(t,a,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=Zl(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=qo);break;case"onScroll":u!=null&&Le("scroll",t);break;case"onScrollEnd":u!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(s=u.__html,s!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=Zl(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Kl(t,"popover",u);break;case"xlinkActuate":wa(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":wa(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":wa(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":wa(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":wa(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":wa(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":wa(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":wa(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":wa(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Kl(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=zb.get(s)||s,Kl(t,s,u))}}function Fd(t,a,s,u,d,g){switch(s){case"style":Kh(t,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(s=u.__html,s!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=s}}break;case"children":typeof u=="string"?si(t,u):(typeof u=="number"||typeof u=="bigint")&&si(t,""+u);break;case"onScroll":u!=null&&Le("scroll",t);break;case"onScrollEnd":u!=null&&Le("scrollend",t);break;case"onClick":u!=null&&(t.onclick=qo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ph.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),a=s.slice(2,d?s.length-7:void 0),g=t[st]||null,g=g!=null?g[s]:null,typeof g=="function"&&t.removeEventListener(a,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,u,d);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):Kl(t,s,u)}}}function Vt(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var u=!1,d=!1,g;for(g in s)if(s.hasOwnProperty(g)){var b=s[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Xe(t,a,g,b,s,null)}}d&&Xe(t,a,"srcSet",s.srcSet,s,null),u&&Xe(t,a,"src",s.src,s,null);return;case"input":Le("invalid",t);var x=g=b=d=null,N=null,F=null;for(u in s)if(s.hasOwnProperty(u)){var G=s[u];if(G!=null)switch(u){case"name":d=G;break;case"type":b=G;break;case"checked":N=G;break;case"defaultChecked":F=G;break;case"value":g=G;break;case"defaultValue":x=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,a));break;default:Xe(t,a,u,G,s,null)}}Vh(t,g,x,N,F,b,d,!1),Wl(t);return;case"select":Le("invalid",t),u=b=g=null;for(d in s)if(s.hasOwnProperty(d)&&(x=s[d],x!=null))switch(d){case"value":g=x;break;case"defaultValue":b=x;break;case"multiple":u=x;default:Xe(t,a,d,x,s,null)}a=g,s=b,t.multiple=!!u,a!=null?ii(t,!!u,a,!1):s!=null&&ii(t,!!u,s,!0);return;case"textarea":Le("invalid",t),g=d=u=null;for(b in s)if(s.hasOwnProperty(b)&&(x=s[b],x!=null))switch(b){case"value":u=x;break;case"defaultValue":d=x;break;case"children":g=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:Xe(t,a,b,x,s,null)}Gh(t,u,d,g),Wl(t);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(u=s[N],u!=null))switch(N){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Xe(t,a,N,u,s,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(u=0;u<Ks.length;u++)Le(Ks[u],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(u=s[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Xe(t,a,F,u,s,null)}return;default:if(tc(a)){for(G in s)s.hasOwnProperty(G)&&(u=s[G],u!==void 0&&Fd(t,a,G,u,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(u=s[x],u!=null&&Xe(t,a,x,u,s,null))}function uw(t,a,s,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,x=null,N=null,F=null,G=null;for(I in s){var W=s[I];if(s.hasOwnProperty(I)&&W!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":N=W;default:u.hasOwnProperty(I)||Xe(t,a,I,null,u,W)}}for(var H in u){var I=u[H];if(W=s[H],u.hasOwnProperty(H)&&(I!=null||W!=null))switch(H){case"type":g=I;break;case"name":d=I;break;case"checked":F=I;break;case"defaultChecked":G=I;break;case"value":b=I;break;case"defaultValue":x=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,a));break;default:I!==W&&Xe(t,a,H,I,u,W)}}Ju(t,b,x,N,F,G,g,d);return;case"select":I=b=x=H=null;for(g in s)if(N=s[g],s.hasOwnProperty(g)&&N!=null)switch(g){case"value":break;case"multiple":I=N;default:u.hasOwnProperty(g)||Xe(t,a,g,null,u,N)}for(d in u)if(g=u[d],N=s[d],u.hasOwnProperty(d)&&(g!=null||N!=null))switch(d){case"value":H=g;break;case"defaultValue":x=g;break;case"multiple":b=g;default:g!==N&&Xe(t,a,d,g,u,N)}a=x,s=b,u=I,H!=null?ii(t,!!s,H,!1):!!u!=!!s&&(a!=null?ii(t,!!s,a,!0):ii(t,!!s,s?[]:"",!1));return;case"textarea":I=H=null;for(x in s)if(d=s[x],s.hasOwnProperty(x)&&d!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Xe(t,a,x,null,u,d)}for(b in u)if(d=u[b],g=s[b],u.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":H=d;break;case"defaultValue":I=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&Xe(t,a,b,d,u,g)}qh(t,H,I);return;case"option":for(var Se in s)if(H=s[Se],s.hasOwnProperty(Se)&&H!=null&&!u.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:Xe(t,a,Se,null,u,H)}for(N in u)if(H=u[N],I=s[N],u.hasOwnProperty(N)&&H!==I&&(H!=null||I!=null))switch(N){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xe(t,a,N,H,u,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)H=s[_e],s.hasOwnProperty(_e)&&H!=null&&!u.hasOwnProperty(_e)&&Xe(t,a,_e,null,u,H);for(F in u)if(H=u[F],I=s[F],u.hasOwnProperty(F)&&H!==I&&(H!=null||I!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,a));break;default:Xe(t,a,F,H,u,I)}return;default:if(tc(a)){for(var We in s)H=s[We],s.hasOwnProperty(We)&&H!==void 0&&!u.hasOwnProperty(We)&&Fd(t,a,We,void 0,u,H);for(G in u)H=u[G],I=s[G],!u.hasOwnProperty(G)||H===I||H===void 0&&I===void 0||Fd(t,a,G,H,u,I);return}}for(var k in s)H=s[k],s.hasOwnProperty(k)&&H!=null&&!u.hasOwnProperty(k)&&Xe(t,a,k,null,u,H);for(W in u)H=u[W],I=s[W],!u.hasOwnProperty(W)||H===I||H==null&&I==null||Xe(t,a,W,H,u,I)}var Hd=null,Id=null;function Go(t){return t.nodeType===9?t:t.ownerDocument}function Yp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kp(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function $d(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Bd=null;function cw(){var t=window.event;return t&&t.type==="popstate"?t===Bd?!1:(Bd=t,!0):(Bd=null,!1)}var Xp=typeof setTimeout=="function"?setTimeout:void 0,dw=typeof clearTimeout=="function"?clearTimeout:void 0,Wp=typeof Promise=="function"?Promise:void 0,fw=typeof queueMicrotask=="function"?queueMicrotask:typeof Wp<"u"?function(t){return Wp.resolve(null).then(t).catch(hw)}:Xp;function hw(t){setTimeout(function(){throw t})}function ur(t){return t==="head"}function Qp(t,a){var s=a,u=0,d=0;do{var g=s.nextSibling;if(t.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"){if(0<u&&8>u){s=u;var b=t.ownerDocument;if(s&1&&Ws(b.documentElement),s&2&&Ws(b.body),s&4)for(s=b.head,Ws(s),b=s.firstChild;b;){var x=b.nextSibling,N=b.nodeName;b[ba]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&b.rel.toLowerCase()==="stylesheet"||s.removeChild(b),b=x}}if(d===0){t.removeChild(g),rl(a);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:u=s.charCodeAt(0)-48;else u=0;s=g}while(s);rl(a)}function Vd(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Vd(s),Xu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function gw(t,a,s,u){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[ba])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function mw(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=In(t.nextSibling),t===null))return null;return t}function qd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function pw(t,a){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")a();else{var u=function(){a(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function In(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var Gd=null;function Zp(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return t;a--}else s==="/$"&&a++}t=t.previousSibling}return null}function Jp(t,a,s){switch(a=Go(s),t){case"html":if(t=a.documentElement,!t)throw Error(i(452));return t;case"head":if(t=a.head,!t)throw Error(i(453));return t;case"body":if(t=a.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Ws(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Xu(t)}var Mn=new Map,ev=new Set;function Yo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ua=Q.d;Q.d={f:vw,r:yw,D:_w,C:bw,L:ww,m:Sw,X:xw,S:Ew,M:Rw};function vw(){var t=Ua.f(),a=zo();return t||a}function yw(t){var a=ti(t);a!==null&&a.tag===5&&a.type==="form"?bm(a):Ua.r(t)}var Ui=typeof document>"u"?null:document;function tv(t,a,s){var u=Ui;if(u&&typeof a=="string"&&a){var d=Cn(a);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),ev.has(d)||(ev.add(d),t={rel:t,crossOrigin:s,href:a},u.querySelector(d)===null&&(a=u.createElement("link"),Vt(a,"link",t),Mt(a),u.head.appendChild(a)))}}function _w(t){Ua.D(t),tv("dns-prefetch",t,null)}function bw(t,a){Ua.C(t,a),tv("preconnect",t,a)}function ww(t,a,s){Ua.L(t,a,s);var u=Ui;if(u&&t&&a){var d='link[rel="preload"][as="'+Cn(a)+'"]';a==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Cn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Cn(s.imageSizes)+'"]')):d+='[href="'+Cn(t)+'"]';var g=d;switch(a){case"style":g=Li(t);break;case"script":g=Pi(t)}Mn.has(g)||(t=v({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),Mn.set(g,t),u.querySelector(d)!==null||a==="style"&&u.querySelector(Qs(g))||a==="script"&&u.querySelector(Zs(g))||(a=u.createElement("link"),Vt(a,"link",t),Mt(a),u.head.appendChild(a)))}}function Sw(t,a){Ua.m(t,a);var s=Ui;if(s&&t){var u=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+Cn(u)+'"][href="'+Cn(t)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Pi(t)}if(!Mn.has(g)&&(t=v({rel:"modulepreload",href:t},a),Mn.set(g,t),s.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Zs(g)))return}u=s.createElement("link"),Vt(u,"link",t),Mt(u),s.head.appendChild(u)}}}function Ew(t,a,s){Ua.S(t,a,s);var u=Ui;if(u&&t){var d=ni(u).hoistableStyles,g=Li(t);a=a||"default";var b=d.get(g);if(!b){var x={loading:0,preload:null};if(b=u.querySelector(Qs(g)))x.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":a},s),(s=Mn.get(g))&&Yd(t,s);var N=b=u.createElement("link");Mt(N),Vt(N,"link",t),N._p=new Promise(function(F,G){N.onload=F,N.onerror=G}),N.addEventListener("load",function(){x.loading|=1}),N.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Ko(b,a,u)}b={type:"stylesheet",instance:b,count:1,state:x},d.set(g,b)}}}function xw(t,a){Ua.X(t,a);var s=Ui;if(s&&t){var u=ni(s).hoistableScripts,d=Pi(t),g=u.get(d);g||(g=s.querySelector(Zs(d)),g||(t=v({src:t,async:!0},a),(a=Mn.get(d))&&Kd(t,a),g=s.createElement("script"),Mt(g),Vt(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function Rw(t,a){Ua.M(t,a);var s=Ui;if(s&&t){var u=ni(s).hoistableScripts,d=Pi(t),g=u.get(d);g||(g=s.querySelector(Zs(d)),g||(t=v({src:t,async:!0,type:"module"},a),(a=Mn.get(d))&&Kd(t,a),g=s.createElement("script"),Mt(g),Vt(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function nv(t,a,s,u){var d=(d=ue.current)?Yo(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=Li(s.href),s=ni(d).hoistableStyles,u=s.get(a),u||(u={type:"style",instance:null,count:0,state:null},s.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Li(s.href);var g=ni(d).hoistableStyles,b=g.get(t);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,b),(g=d.querySelector(Qs(t)))&&!g._p&&(b.instance=g,b.state.loading=5),Mn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(t,s),g||Cw(d,t,s,b.state))),a&&u===null)throw Error(i(528,""));return b}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Pi(s),s=ni(d).hoistableScripts,u=s.get(a),u||(u={type:"script",instance:null,count:0,state:null},s.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Li(t){return'href="'+Cn(t)+'"'}function Qs(t){return'link[rel="stylesheet"]['+t+"]"}function av(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Cw(t,a,s,u){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=t.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Vt(a,"link",s),Mt(a),t.head.appendChild(a))}function Pi(t){return'[src="'+Cn(t)+'"]'}function Zs(t){return"script[async]"+t}function rv(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var u=t.querySelector('style[data-href~="'+Cn(s.href)+'"]');if(u)return a.instance=u,Mt(u),u;var d=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Mt(u),Vt(u,"style",d),Ko(u,s.precedence,t),a.instance=u;case"stylesheet":d=Li(s.href);var g=t.querySelector(Qs(d));if(g)return a.state.loading|=4,a.instance=g,Mt(g),g;u=av(s),(d=Mn.get(d))&&Yd(u,d),g=(t.ownerDocument||t).createElement("link"),Mt(g);var b=g;return b._p=new Promise(function(x,N){b.onload=x,b.onerror=N}),Vt(g,"link",u),a.state.loading|=4,Ko(g,s.precedence,t),a.instance=g;case"script":return g=Pi(s.src),(d=t.querySelector(Zs(g)))?(a.instance=d,Mt(d),d):(u=s,(d=Mn.get(g))&&(u=v({},s),Kd(u,d)),t=t.ownerDocument||t,d=t.createElement("script"),Mt(d),Vt(d,"link",u),t.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Ko(u,s.precedence,t));return a.instance}function Ko(t,a,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,b=0;b<u.length;b++){var x=u[b];if(x.dataset.precedence===a)g=x;else if(g!==d)break}g?g.parentNode.insertBefore(t,g.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function Yd(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Kd(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Xo=null;function iv(t,a,s){if(Xo===null){var u=new Map,d=Xo=new Map;d.set(s,u)}else d=Xo,u=d.get(s),u||(u=new Map,d.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var g=s[d];if(!(g[ba]||g[it]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(a)||"";b=t+b;var x=u.get(b);x?x.push(g):u.set(b,[g])}}return u}function sv(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function Tw(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function lv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Js=null;function Aw(){}function Ow(t,a,s){if(Js===null)throw Error(i(475));var u=Js;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Li(s.href),g=t.querySelector(Qs(d));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=Wo.bind(u),t.then(u,u)),a.state.loading|=4,a.instance=g,Mt(g);return}g=t.ownerDocument||t,s=av(s),(d=Mn.get(d))&&Yd(s,d),g=g.createElement("link"),Mt(g);var b=g;b._p=new Promise(function(x,N){b.onload=x,b.onerror=N}),Vt(g,"link",s),a.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Wo.bind(u),t.addEventListener("load",a),t.addEventListener("error",a))}}function Dw(){if(Js===null)throw Error(i(475));var t=Js;return t.stylesheets&&t.count===0&&Xd(t,t.stylesheets),0<t.count?function(a){var s=setTimeout(function(){if(t.stylesheets&&Xd(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Wo(){if(this.count--,this.count===0){if(this.stylesheets)Xd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qo=null;function Xd(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qo=new Map,a.forEach(Nw,t),Qo=null,Wo.call(t))}function Nw(t,a){if(!(a.state.loading&4)){var s=Qo.get(t);if(s)var u=s.get(null);else{s=new Map,Qo.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),u=b)}u&&s.set(null,u)}d=a.instance,b=d.getAttribute("data-precedence"),g=s.get(b)||u,g===u&&s.set(null,d),s.set(b,d),this.count++,u=Wo.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),a.state.loading|=4}}var el={$$typeof:A,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function jw(t,a,s,u,d,g,b,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ds(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ds(0),this.hiddenUpdates=ds(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function ov(t,a,s,u,d,g,b,x,N,F,G,W){return t=new jw(t,a,s,b,x,N,F,W),a=1,g===!0&&(a|=24),g=pn(3,null,null,a),t.current=g,g.stateNode=t,a=Dc(),a.refCount++,t.pooledCache=a,a.refCount++,g.memoizedState={element:u,isDehydrated:s,cache:a},kc(g),t}function uv(t){return t?(t=gi,t):gi}function cv(t,a,s,u,d,g){d=uv(d),u.context===null?u.context=d:u.pendingContext=d,u=Wa(a),u.payload={element:s},g=g===void 0?null:g,g!==null&&(u.callback=g),s=Qa(t,u,a),s!==null&&(wn(s,t,a),Ds(s,t,a))}function dv(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function Wd(t,a){dv(t,a),(t=t.alternate)&&dv(t,a)}function fv(t){if(t.tag===13){var a=hi(t,67108864);a!==null&&wn(a,t,67108864),Wd(t,67108864)}}var Zo=!0;function Mw(t,a,s,u){var d=L.T;L.T=null;var g=Q.p;try{Q.p=2,Qd(t,a,s,u)}finally{Q.p=g,L.T=d}}function kw(t,a,s,u){var d=L.T;L.T=null;var g=Q.p;try{Q.p=8,Qd(t,a,s,u)}finally{Q.p=g,L.T=d}}function Qd(t,a,s,u){if(Zo){var d=Zd(u);if(d===null)zd(t,a,u,Jo,s),gv(t,u);else if(Lw(d,t,a,s,u))u.stopPropagation();else if(gv(t,u),a&4&&-1<Uw.indexOf(t)){for(;d!==null;){var g=ti(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=hn(g.pendingLanes);if(b!==0){var x=g;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var N=1<<31-He(b);x.entanglements[1]|=N,b&=~N}ua(g),(qe&6)===0&&(Lo=tn()+500,Ys(0))}}break;case 13:x=hi(g,2),x!==null&&wn(x,g,2),zo(),Wd(g,2)}if(g=Zd(u),g===null&&zd(t,a,u,Jo,s),g===d)break;d=g}d!==null&&u.stopPropagation()}else zd(t,a,u,null,s)}}function Zd(t){return t=ac(t),Jd(t)}var Jo=null;function Jd(t){if(Jo=null,t=ei(t),t!==null){var a=o(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=c(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Jo=t,null}function hv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case pa:return 2;case j:return 8;case z:case V:return 32;case oe:return 268435456;default:return 32}default:return 32}}var ef=!1,cr=null,dr=null,fr=null,tl=new Map,nl=new Map,hr=[],Uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gv(t,a){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":tl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(a.pointerId)}}function al(t,a,s,u,d,g){return t===null||t.nativeEvent!==g?(t={blockedOn:a,domEventName:s,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},a!==null&&(a=ti(a),a!==null&&fv(a)),t):(t.eventSystemFlags|=u,a=t.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),t)}function Lw(t,a,s,u,d){switch(a){case"focusin":return cr=al(cr,t,a,s,u,d),!0;case"dragenter":return dr=al(dr,t,a,s,u,d),!0;case"mouseover":return fr=al(fr,t,a,s,u,d),!0;case"pointerover":var g=d.pointerId;return tl.set(g,al(tl.get(g)||null,t,a,s,u,d)),!0;case"gotpointercapture":return g=d.pointerId,nl.set(g,al(nl.get(g)||null,t,a,s,u,d)),!0}return!1}function mv(t){var a=ei(t.target);if(a!==null){var s=o(a);if(s!==null){if(a=s.tag,a===13){if(a=c(s),a!==null){t.blockedOn=a,qa(t.priority,function(){if(s.tag===13){var u=bn();u=Xt(u);var d=hi(s,u);d!==null&&wn(d,s,u),Wd(s,u)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eu(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=Zd(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);nc=u,s.target.dispatchEvent(u),nc=null}else return a=ti(s),a!==null&&fv(a),t.blockedOn=s,!1;a.shift()}return!0}function pv(t,a,s){eu(t)&&s.delete(a)}function Pw(){ef=!1,cr!==null&&eu(cr)&&(cr=null),dr!==null&&eu(dr)&&(dr=null),fr!==null&&eu(fr)&&(fr=null),tl.forEach(pv),nl.forEach(pv)}function tu(t,a){t.blockedOn===a&&(t.blockedOn=null,ef||(ef=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pw)))}var nu=null;function vv(t){nu!==t&&(nu=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){nu===t&&(nu=null);for(var a=0;a<t.length;a+=3){var s=t[a],u=t[a+1],d=t[a+2];if(typeof u!="function"){if(Jd(u||s)===null)continue;break}var g=ti(s);g!==null&&(t.splice(a,3),a-=3,Jc(g,{pending:!0,data:d,method:s.method,action:u},u,d))}}))}function rl(t){function a(N){return tu(N,t)}cr!==null&&tu(cr,t),dr!==null&&tu(dr,t),fr!==null&&tu(fr,t),tl.forEach(a),nl.forEach(a);for(var s=0;s<hr.length;s++){var u=hr[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<hr.length&&(s=hr[0],s.blockedOn===null);)mv(s),s.blockedOn===null&&hr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var d=s[u],g=s[u+1],b=d[st]||null;if(typeof g=="function")b||vv(s);else if(b){var x=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[st]||null)x=b.formAction;else if(Jd(d)!==null)continue}else x=b.action;typeof x=="function"?s[u+1]=x:(s.splice(u,3),u-=3),vv(s)}}}function tf(t){this._internalRoot=t}au.prototype.render=tf.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(i(409));var s=a.current,u=bn();cv(s,u,t,a,null,null)},au.prototype.unmount=tf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;cv(t.current,2,null,t,null,null),zo(),a[Wt]=null}};function au(t){this._internalRoot=t}au.prototype.unstable_scheduleHydration=function(t){if(t){var a=gn();t={blockedOn:null,target:t,priority:a};for(var s=0;s<hr.length&&a!==0&&a<hr[s].priority;s++);hr.splice(s,0,t),s===0&&mv(t)}};var yv=n.version;if(yv!=="19.1.1")throw Error(i(527,yv,"19.1.1"));Q.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=h(a),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var zw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ge=ru.inject(zw),be=ru}catch{}}return sl.createRoot=function(t,a){if(!l(t))throw Error(i(299));var s=!1,u="",d=km,g=Um,b=Lm,x=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks)),a=ov(t,1,!1,null,null,s,u,d,g,b,x,null),t[Wt]=a.current,Pd(t),new tf(a)},sl.hydrateRoot=function(t,a,s){if(!l(t))throw Error(i(299));var u=!1,d="",g=km,b=Um,x=Lm,N=null,F=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks),s.formState!==void 0&&(F=s.formState)),a=ov(t,1,!0,a,s??null,u,d,g,b,x,N,F),a.context=uv(null),s=a.current,u=bn(),u=Xt(u),d=Wa(u),d.callback=null,Qa(s,d,u),s=u,a.current.lanes=s,ht(a,s),ua(a),t[Wt]=a.current,Pd(t),new au(a)},sl.version="19.1.1",sl}var Av;function Kw(){if(Av)return rf.exports;Av=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),rf.exports=Yw(),rf.exports}var Xw=Kw();const Ww=nh(Xw);/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ov="popstate";function Qw(e={}){function n(i,l){let{pathname:o,search:c,hash:f}=i.location;return jf("",{pathname:o,search:c,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(i,l){return typeof l=="string"?l:Ol(l)}return Jw(n,r,null,e)}function dt(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Wn(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Zw(){return Math.random().toString(36).substring(2,10)}function Dv(e,n){return{usr:e.state,key:e.key,idx:n}}function jf(e,n,r=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?as(n):n,state:r,key:n&&n.key||i||Zw()}}function Ol({pathname:e="/",search:n="",hash:r=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function as(e){let n={};if(e){let r=e.indexOf("#");r>=0&&(n.hash=e.substring(r),e=e.substring(0,r));let i=e.indexOf("?");i>=0&&(n.search=e.substring(i),e=e.substring(0,i)),e&&(n.pathname=e)}return n}function Jw(e,n,r,i={}){let{window:l=document.defaultView,v5Compat:o=!1}=i,c=l.history,f="POP",h=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function y(){f="POP";let C=v(),T=C==null?null:C-m;m=C,h&&h({action:f,location:R.location,delta:T})}function _(C,T){f="PUSH";let O=jf(R.location,C,T);m=v()+1;let A=Dv(O,m),B=R.createHref(O);try{c.pushState(A,"",B)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;l.location.assign(B)}o&&h&&h({action:f,location:R.location,delta:1})}function w(C,T){f="REPLACE";let O=jf(R.location,C,T);m=v();let A=Dv(O,m),B=R.createHref(O);c.replaceState(A,"",B),o&&h&&h({action:f,location:R.location,delta:0})}function S(C){return eS(C)}let R={get action(){return f},get location(){return e(l,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(Ov,y),h=C,()=>{l.removeEventListener(Ov,y),h=null}},createHref(C){return n(l,C)},createURL:S,encodeLocation(C){let T=S(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:_,replace:w,go(C){return c.go(C)}};return R}function eS(e,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),dt(r,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Ol(e);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function Qy(e,n,r="/"){return tS(e,n,r,!1)}function tS(e,n,r,i){let l=typeof n=="string"?as(n):n,o=$a(l.pathname||"/",r);if(o==null)return null;let c=Zy(e);nS(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=hS(o);f=dS(c[h],m,i)}return f}function Zy(e,n=[],r=[],i="",l=!1){let o=(c,f,h=l,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&h)return;dt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let y=Ia([i,v.relativePath]),_=r.concat(v);c.children&&c.children.length>0&&(dt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Zy(c.children,n,_,y,h)),!(c.path==null&&!c.index)&&n.push({path:y,score:uS(y,c.index),routesMeta:_})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))o(c,f);else for(let h of Jy(c.path))o(c,f,!0,h)}),n}function Jy(e){let n=e.split("/");if(n.length===0)return[];let[r,...i]=n,l=r.endsWith("?"),o=r.replace(/\?$/,"");if(i.length===0)return l?[o,""]:[o];let c=Jy(i.join("/")),f=[];return f.push(...c.map(h=>h===""?o:[o,h].join("/"))),l&&f.push(...c),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function nS(e){e.sort((n,r)=>n.score!==r.score?r.score-n.score:cS(n.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var aS=/^:[\w-]+$/,rS=3,iS=2,sS=1,lS=10,oS=-2,Nv=e=>e==="*";function uS(e,n){let r=e.split("/"),i=r.length;return r.some(Nv)&&(i+=oS),n&&(i+=iS),r.filter(l=>!Nv(l)).reduce((l,o)=>l+(aS.test(o)?rS:o===""?sS:lS),i)}function cS(e,n){return e.length===n.length&&e.slice(0,-1).every((i,l)=>i===n[l])?e[e.length-1]-n[n.length-1]:0}function dS(e,n,r=!1){let{routesMeta:i}=e,l={},o="/",c=[];for(let f=0;f<i.length;++f){let h=i[f],m=f===i.length-1,v=o==="/"?n:n.slice(o.length)||"/",y=wu({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),_=h.route;if(!y&&m&&r&&!i[i.length-1].route.index&&(y=wu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!y)return null;Object.assign(l,y.params),c.push({params:l,pathname:Ia([o,y.pathname]),pathnameBase:vS(Ia([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=Ia([o,y.pathnameBase]))}return c}function wu(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=fS(e.path,e.caseSensitive,e.end),l=n.match(r);if(!l)return null;let o=l[0],c=o.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:y},_)=>{if(v==="*"){let S=f[_]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=f[_];return y&&!w?m[v]=void 0:m[v]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:e}}function fS(e,n=!1,r=!0){Wn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),i]}function hS(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Wn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function $a(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function gS(e,n="/"){let{pathname:r,search:i="",hash:l=""}=typeof e=="string"?as(e):e;return{pathname:r?r.startsWith("/")?r:mS(r,n):n,search:yS(i),hash:_S(l)}}function mS(e,n){let r=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function uf(e,n,r,i){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pS(e){return e.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function rh(e){let n=pS(e);return n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase)}function ih(e,n,r,i=!1){let l;typeof e=="string"?l=as(e):(l={...e},dt(!l.pathname||!l.pathname.includes("?"),uf("?","pathname","search",l)),dt(!l.pathname||!l.pathname.includes("#"),uf("#","pathname","hash",l)),dt(!l.search||!l.search.includes("#"),uf("#","search","hash",l)));let o=e===""||l.pathname==="",c=o?"/":l.pathname,f;if(c==null)f=r;else{let y=n.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;l.pathname=_.join("/")}f=y>=0?n[y]:"/"}let h=gS(l,f),m=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}var Ia=e=>e.join("/").replace(/\/\/+/g,"/"),vS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_S=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var e_=["POST","PUT","PATCH","DELETE"];new Set(e_);var wS=["GET",...e_];new Set(wS);var rs=E.createContext(null);rs.displayName="DataRouter";var Lu=E.createContext(null);Lu.displayName="DataRouterState";E.createContext(!1);var t_=E.createContext({isTransitioning:!1});t_.displayName="ViewTransition";var SS=E.createContext(new Map);SS.displayName="Fetchers";var ES=E.createContext(null);ES.displayName="Await";var Jn=E.createContext(null);Jn.displayName="Navigation";var Pl=E.createContext(null);Pl.displayName="Location";var Pn=E.createContext({outlet:null,matches:[],isDataRoute:!1});Pn.displayName="Route";var sh=E.createContext(null);sh.displayName="RouteError";function xS(e,{relative:n}={}){dt(is(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=E.useContext(Jn),{hash:l,pathname:o,search:c}=zl(e,{relative:n}),f=o;return r!=="/"&&(f=o==="/"?r:Ia([r,o])),i.createHref({pathname:f,search:c,hash:l})}function is(){return E.useContext(Pl)!=null}function Va(){return dt(is(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Pl).location}var n_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a_(e){E.useContext(Jn).static||E.useLayoutEffect(e)}function Pu(){let{isDataRoute:e}=E.useContext(Pn);return e?HS():RS()}function RS(){dt(is(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(rs),{basename:n,navigator:r}=E.useContext(Jn),{matches:i}=E.useContext(Pn),{pathname:l}=Va(),o=JSON.stringify(rh(i)),c=E.useRef(!1);return a_(()=>{c.current=!0}),E.useCallback((h,m={})=>{if(Wn(c.current,n_),!c.current)return;if(typeof h=="number"){r.go(h);return}let v=ih(h,JSON.parse(o),l,m.relative==="path");e==null&&n!=="/"&&(v.pathname=v.pathname==="/"?n:Ia([n,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[n,r,o,l,e])}var CS=E.createContext(null);function TS(e){let n=E.useContext(Pn).outlet;return n&&E.createElement(CS.Provider,{value:e},n)}function AS(){let{matches:e}=E.useContext(Pn),n=e[e.length-1];return n?n.params:{}}function zl(e,{relative:n}={}){let{matches:r}=E.useContext(Pn),{pathname:i}=Va(),l=JSON.stringify(rh(r));return E.useMemo(()=>ih(e,JSON.parse(l),i,n==="path"),[e,l,i,n])}function OS(e,n){return r_(e,n)}function r_(e,n,r,i){dt(is(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=E.useContext(Jn),{matches:o}=E.useContext(Pn),c=o[o.length-1],f=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",v=c&&c.route;{let T=v&&v.path||"";i_(h,!v||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let y=Va(),_;if(n){let T=typeof n=="string"?as(n):n;dt(m==="/"||T.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${T.pathname}" was given in the \`location\` prop.`),_=T}else _=y;let w=_.pathname||"/",S=w;if(m!=="/"){let T=m.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(T.length).join("/")}let R=Qy(e,{pathname:S});Wn(v||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Wn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=kS(R&&R.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:Ia([m,l.encodeLocation?l.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:Ia([m,l.encodeLocation?l.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,r,i);return n&&C?E.createElement(Pl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},C):C}function DS(){let e=FS(),n=bS(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:o},"ErrorBoundary")," or"," ",E.createElement("code",{style:o},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},n),r?E.createElement("pre",{style:l},r):null,c)}var NS=E.createElement(DS,null),jS=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(Pn.Provider,{value:this.props.routeContext},E.createElement(sh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MS({routeContext:e,match:n,children:r}){let i=E.useContext(rs);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Pn.Provider,{value:e},r)}function kS(e,n=[],r=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=r?.errors;if(o!=null){let h=l.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);dt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,f=-1;if(r)for(let h=0;h<l.length;h++){let m=l[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:v,errors:y}=r,_=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||_){c=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((h,m,v)=>{let y,_=!1,w=null,S=null;r&&(y=o&&m.route.id?o[m.route.id]:void 0,w=m.route.errorElement||NS,c&&(f<0&&v===0?(i_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):f===v&&(_=!0,S=m.route.hydrateFallbackElement||null)));let R=n.concat(l.slice(0,v+1)),C=()=>{let T;return y?T=w:_?T=S:m.route.Component?T=E.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=h,E.createElement(MS,{match:m,routeContext:{outlet:h,matches:R,isDataRoute:r!=null},children:T})};return r&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?E.createElement(jS,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:C(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):C()},null)}function lh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function US(e){let n=E.useContext(rs);return dt(n,lh(e)),n}function LS(e){let n=E.useContext(Lu);return dt(n,lh(e)),n}function PS(e){let n=E.useContext(Pn);return dt(n,lh(e)),n}function oh(e){let n=PS(e),r=n.matches[n.matches.length-1];return dt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function zS(){return oh("useRouteId")}function FS(){let e=E.useContext(sh),n=LS("useRouteError"),r=oh("useRouteError");return e!==void 0?e:n.errors?.[r]}function HS(){let{router:e}=US("useNavigate"),n=oh("useNavigate"),r=E.useRef(!1);return a_(()=>{r.current=!0}),E.useCallback(async(l,o={})=>{Wn(r.current,n_),r.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:n,...o}))},[e,n])}var jv={};function i_(e,n,r){!n&&!jv[e]&&(jv[e]=!0,Wn(!1,r))}E.memo(IS);function IS({routes:e,future:n,state:r}){return r_(e,void 0,r,n)}function s_({to:e,replace:n,state:r,relative:i}){dt(is(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=E.useContext(Jn);Wn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=E.useContext(Pn),{pathname:c}=Va(),f=Pu(),h=ih(e,rh(o),c,i==="path"),m=JSON.stringify(h);return E.useEffect(()=>{f(JSON.parse(m),{replace:n,state:r,relative:i})},[f,m,i,n,r]),null}function l_(e){return TS(e.context)}function Sn(e){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $S({basename:e="/",children:n=null,location:r,navigationType:i="POP",navigator:l,static:o=!1}){dt(!is(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),f=E.useMemo(()=>({basename:c,navigator:l,static:o,future:{}}),[c,l,o]);typeof r=="string"&&(r=as(r));let{pathname:h="/",search:m="",hash:v="",state:y=null,key:_="default"}=r,w=E.useMemo(()=>{let S=$a(h,c);return S==null?null:{location:{pathname:S,search:m,hash:v,state:y,key:_},navigationType:i}},[c,h,m,v,y,_,i]);return Wn(w!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:E.createElement(Jn.Provider,{value:f},E.createElement(Pl.Provider,{children:n,value:w}))}function BS({children:e,location:n}){return OS(Mf(e),n)}function Mf(e,n=[]){let r=[];return E.Children.forEach(e,(i,l)=>{if(!E.isValidElement(i))return;let o=[...n,l];if(i.type===E.Fragment){r.push.apply(r,Mf(i.props.children,o));return}dt(i.type===Sn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Mf(i.props.children,o)),r.push(c)}),r}var vu="get",yu="application/x-www-form-urlencoded";function zu(e){return e!=null&&typeof e.tagName=="string"}function VS(e){return zu(e)&&e.tagName.toLowerCase()==="button"}function qS(e){return zu(e)&&e.tagName.toLowerCase()==="form"}function GS(e){return zu(e)&&e.tagName.toLowerCase()==="input"}function YS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KS(e,n){return e.button===0&&(!n||n==="_self")&&!YS(e)}var iu=null;function XS(){if(iu===null)try{new FormData(document.createElement("form"),0),iu=!1}catch{iu=!0}return iu}var WS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cf(e){return e!=null&&!WS.has(e)?(Wn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yu}"`),null):e}function QS(e,n){let r,i,l,o,c;if(qS(e)){let f=e.getAttribute("action");i=f?$a(f,n):null,r=e.getAttribute("method")||vu,l=cf(e.getAttribute("enctype"))||yu,o=new FormData(e)}else if(VS(e)||GS(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(i=h?$a(h,n):null,r=e.getAttribute("formmethod")||f.getAttribute("method")||vu,l=cf(e.getAttribute("formenctype"))||cf(f.getAttribute("enctype"))||yu,o=new FormData(f,e),!XS()){let{name:m,type:v,value:y}=e;if(v==="image"){let _=m?`${m}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else m&&o.append(m,y)}}else{if(zu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=vu,i=null,l=yu,c=e}return o&&l==="text/plain"&&(c=o,o=void 0),{action:i,method:r.toLowerCase(),encType:l,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uh(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function ZS(e,n,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${r}`:n&&$a(i.pathname,n)==="/"?i.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function JS(e,n){if(e.id in n)return n[e.id];try{let r=await import(e.module);return n[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eE(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function tE(e,n,r){let i=await Promise.all(e.map(async l=>{let o=n.routes[l.route.id];if(o){let c=await JS(o,r);return c.links?c.links():[]}return[]}));return iE(i.flat(1).filter(eE).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Mv(e,n,r,i,l,o){let c=(h,m)=>r[m]?h.route.id!==r[m].route.id:!0,f=(h,m)=>r[m].pathname!==h.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==h.params["*"];return o==="assets"?n.filter((h,m)=>c(h,m)||f(h,m)):o==="data"?n.filter((h,m)=>{let v=i.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function nE(e,n,{includeHydrateFallback:r}={}){return aE(e.map(i=>{let l=n.routes[i.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function aE(e){return[...new Set(e)]}function rE(e){let n={},r=Object.keys(e).sort();for(let i of r)n[i]=e[i];return n}function iE(e,n){let r=new Set;return new Set(n),e.reduce((i,l)=>{let o=JSON.stringify(rE(l));return r.has(o)||(r.add(o),i.push({key:o,link:l})),i},[])}function o_(){let e=E.useContext(rs);return uh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function sE(){let e=E.useContext(Lu);return uh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ch=E.createContext(void 0);ch.displayName="FrameworkContext";function u_(){let e=E.useContext(ch);return uh(e,"You must render this element inside a <HydratedRouter> element"),e}function lE(e,n){let r=E.useContext(ch),[i,l]=E.useState(!1),[o,c]=E.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=n,_=E.useRef(null);E.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let R=T=>{T.forEach(O=>{c(O.isIntersecting)})},C=new IntersectionObserver(R,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[e]),E.useEffect(()=>{if(i){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[i]);let w=()=>{l(!0)},S=()=>{l(!1),c(!1)};return r?e!=="intent"?[o,_,{}]:[o,_,{onFocus:ll(f,w),onBlur:ll(h,S),onMouseEnter:ll(m,w),onMouseLeave:ll(v,S),onTouchStart:ll(y,w)}]:[!1,_,{}]}function ll(e,n){return r=>{e&&e(r),r.defaultPrevented||n(r)}}function oE({page:e,...n}){let{router:r}=o_(),i=E.useMemo(()=>Qy(r.routes,e,r.basename),[r.routes,e,r.basename]);return i?E.createElement(cE,{page:e,matches:i,...n}):null}function uE(e){let{manifest:n,routeModules:r}=u_(),[i,l]=E.useState([]);return E.useEffect(()=>{let o=!1;return tE(e,n,r).then(c=>{o||l(c)}),()=>{o=!0}},[e,n,r]),i}function cE({page:e,matches:n,...r}){let i=Va(),{manifest:l,routeModules:o}=u_(),{basename:c}=o_(),{loaderData:f,matches:h}=sE(),m=E.useMemo(()=>Mv(e,n,h,l,i,"data"),[e,n,h,l,i]),v=E.useMemo(()=>Mv(e,n,h,l,i,"assets"),[e,n,h,l,i]),y=E.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let S=new Set,R=!1;if(n.forEach(T=>{let O=l.routes[T.route.id];!O||!O.hasLoader||(!m.some(A=>A.route.id===T.route.id)&&T.route.id in f&&o[T.route.id]?.shouldRevalidate||O.hasClientLoader?R=!0:S.add(T.route.id))}),S.size===0)return[];let C=ZS(e,c,"data");return R&&S.size>0&&C.searchParams.set("_routes",n.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[C.pathname+C.search]},[c,f,i,l,m,n,e,o]),_=E.useMemo(()=>nE(v,l),[v,l]),w=uE(v);return E.createElement(E.Fragment,null,y.map(S=>E.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),_.map(S=>E.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),w.map(({key:S,link:R})=>E.createElement("link",{key:S,nonce:r.nonce,...R})))}function dE(...e){return n=>{e.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var c_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{c_&&(window.__reactRouterVersion="7.8.1")}catch{}function fE({basename:e,children:n,window:r}){let i=E.useRef();i.current==null&&(i.current=Qw({window:r,v5Compat:!0}));let l=i.current,[o,c]=E.useState({action:l.action,location:l.location}),f=E.useCallback(h=>{E.startTransition(()=>c(h))},[c]);return E.useLayoutEffect(()=>l.listen(f),[l,f]),E.createElement($S,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:l})}var d_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ln=E.forwardRef(function({onClick:n,discover:r="render",prefetch:i="none",relative:l,reloadDocument:o,replace:c,state:f,target:h,to:m,preventScrollReset:v,viewTransition:y,..._},w){let{basename:S}=E.useContext(Jn),R=typeof m=="string"&&d_.test(m),C,T=!1;if(typeof m=="string"&&R&&(C=m,c_))try{let de=new URL(window.location.href),ne=m.startsWith("//")?new URL(de.protocol+m):new URL(m),ee=$a(ne.pathname,S);ne.origin===de.origin&&ee!=null?m=ee+ne.search+ne.hash:T=!0}catch{Wn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=xS(m,{relative:l}),[A,B,U]=lE(i,_),Z=pE(m,{replace:c,state:f,target:h,preventScrollReset:v,relative:l,viewTransition:y});function J(de){n&&n(de),de.defaultPrevented||Z(de)}let ce=E.createElement("a",{..._,...U,href:C||O,onClick:T||o?n:J,ref:dE(w,B),target:h,"data-discover":!R&&r==="render"?"true":void 0});return A&&!R?E.createElement(E.Fragment,null,ce,E.createElement(oE,{page:O})):ce});Ln.displayName="Link";var hE=E.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:i="",end:l=!1,style:o,to:c,viewTransition:f,children:h,...m},v){let y=zl(c,{relative:m.relative}),_=Va(),w=E.useContext(Lu),{navigator:S,basename:R}=E.useContext(Jn),C=w!=null&&wE(y)&&f===!0,T=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,O=_.pathname,A=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(O=O.toLowerCase(),A=A?A.toLowerCase():null,T=T.toLowerCase()),A&&R&&(A=$a(A,R)||A);const B=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let U=O===T||!l&&O.startsWith(T)&&O.charAt(B)==="/",Z=A!=null&&(A===T||!l&&A.startsWith(T)&&A.charAt(T.length)==="/"),J={isActive:U,isPending:Z,isTransitioning:C},ce=U?n:void 0,de;typeof i=="function"?de=i(J):de=[i,U?"active":null,Z?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ne=typeof o=="function"?o(J):o;return E.createElement(Ln,{...m,"aria-current":ce,className:de,ref:v,style:ne,to:c,viewTransition:f},typeof h=="function"?h(J):h)});hE.displayName="NavLink";var gE=E.forwardRef(({discover:e="render",fetcherKey:n,navigate:r,reloadDocument:i,replace:l,state:o,method:c=vu,action:f,onSubmit:h,relative:m,preventScrollReset:v,viewTransition:y,..._},w)=>{let S=_E(),R=bE(f,{relative:m}),C=c.toLowerCase()==="get"?"get":"post",T=typeof f=="string"&&d_.test(f),O=A=>{if(h&&h(A),A.defaultPrevented)return;A.preventDefault();let B=A.nativeEvent.submitter,U=B?.getAttribute("formmethod")||c;S(B||A.currentTarget,{fetcherKey:n,method:U,navigate:r,replace:l,state:o,relative:m,preventScrollReset:v,viewTransition:y})};return E.createElement("form",{ref:w,method:C,action:R,onSubmit:i?h:O,..._,"data-discover":!T&&e==="render"?"true":void 0})});gE.displayName="Form";function mE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f_(e){let n=E.useContext(rs);return dt(n,mE(e)),n}function pE(e,{target:n,replace:r,state:i,preventScrollReset:l,relative:o,viewTransition:c}={}){let f=Pu(),h=Va(),m=zl(e,{relative:o});return E.useCallback(v=>{if(KS(v,n)){v.preventDefault();let y=r!==void 0?r:Ol(h)===Ol(m);f(e,{replace:y,state:i,preventScrollReset:l,relative:o,viewTransition:c})}},[h,f,m,r,i,n,e,l,o,c])}var vE=0,yE=()=>`__${String(++vE)}__`;function _E(){let{router:e}=f_("useSubmit"),{basename:n}=E.useContext(Jn),r=zS();return E.useCallback(async(i,l={})=>{let{action:o,method:c,encType:f,formData:h,body:m}=QS(i,n);if(l.navigate===!1){let v=l.fetcherKey||yE();await e.fetch(v,r,l.action||o,{preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||c,formEncType:l.encType||f,flushSync:l.flushSync})}else await e.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||c,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,n,r])}function bE(e,{relative:n}={}){let{basename:r}=E.useContext(Jn),i=E.useContext(Pn);dt(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),o={...zl(e||".",{relative:n})},c=Va();if(e==null){o.search=c.search;let f=new URLSearchParams(o.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let v=f.toString();o.search=v?`?${v}`:""}}return(!e||e===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Ia([r,o.pathname])),Ol(o)}function wE(e,{relative:n}={}){let r=E.useContext(t_);dt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=f_("useViewTransitionState"),l=zl(e,{relative:n});if(!r.isTransitioning)return!1;let o=$a(r.currentLocation.pathname,i)||r.currentLocation.pathname,c=$a(r.nextLocation.pathname,i)||r.nextLocation.pathname;return wu(l.pathname,c)!=null||wu(l.pathname,o)!=null}var vl=Wy();const SE="modulepreload",EE=function(e){return"/flexi/"+e},kv={},Wr=function(n,r,i){let l=Promise.resolve();if(r&&r.length>0){let h=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");l=h(r.map(m=>{if(m=EE(m),m in kv)return;kv[m]=!0;const v=m.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":SE,v||(_.as="script"),_.crossOrigin="",_.href=m,f&&_.setAttribute("nonce",f),document.head.appendChild(_),v)return new Promise((w,S)=>{_.addEventListener("load",w),_.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return l.then(c=>{for(const f of c||[])f.status==="rejected"&&o(f.reason);return n().catch(o)})},xE=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...r)=>Wr(async()=>{const{default:i}=await Promise.resolve().then(()=>ss);return{default:i}},[]).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)};class dh extends Error{constructor(n,r="FunctionsError",i){super(n),this.name=r,this.context=i}}class RE extends dh{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Uv extends dh{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Lv extends dh{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var kf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(kf||(kf={}));var CE=function(e,n,r,i){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};class TE{constructor(n,{headers:r={},customFetch:i,region:l=kf.Any}={}){this.url=n,this.headers=r,this.region=l,this.fetch=xE(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,r={}){var i;return CE(this,void 0,void 0,function*(){try{const{headers:l,method:o,body:c}=r;let f={},{region:h}=r;h||(h=this.region);const m=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let v;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(f["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(f["Content-Type"]="application/json",v=JSON.stringify(c)));const y=yield this.fetch(m.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:v}).catch(R=>{throw new RE(R)}),_=y.headers.get("x-relay-error");if(_&&_==="true")throw new Uv(y);if(!y.ok)throw new Lv(y);let w=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield y.json():w==="application/octet-stream"?S=yield y.blob():w==="text/event-stream"?S=y:w==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof Lv||l instanceof Uv?l.context:void 0}}})}}var Pt={},zi={},Fi={},Hi={},Ii={},$i={},AE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ts=AE();const OE=ts.fetch,h_=ts.fetch.bind(ts),g_=ts.Headers,DE=ts.Request,NE=ts.Response,ss=Object.freeze(Object.defineProperty({__proto__:null,Headers:g_,Request:DE,Response:NE,default:h_,fetch:OE},Symbol.toStringTag,{value:"Module"})),jE=Hw(ss);var su={},Pv;function m_(){if(Pv)return su;Pv=1,Object.defineProperty(su,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return su.default=e,su}var zv;function p_(){if(zv)return $i;zv=1;var e=$i&&$i.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty($i,"__esModule",{value:!0});const n=e(jE),r=e(m_());class i{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,c){return this.headers=Object.assign({},this.headers),this.headers[o]=c,this}then(o,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,y,_;let w=null,S=null,R=null,C=m.status,T=m.statusText;if(m.ok){if(this.method!=="HEAD"){const U=await m.text();U===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=U:S=JSON.parse(U))}const A=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),B=(y=m.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");A&&B&&B.length>1&&(R=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,R=null,C=406,T="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const A=await m.text();try{w=JSON.parse(A),Array.isArray(w)&&m.status===404&&(S=[],w=null,C=200,T="OK")}catch{m.status===404&&A===""?(C=204,T="No Content"):w={message:A}}if(w&&this.isMaybeSingle&&(!((_=w?.details)===null||_===void 0)&&_.includes("0 rows"))&&(w=null,C=200,T="OK"),w&&this.shouldThrowOnError)throw new r.default(w)}return{error:w,data:S,count:R,status:C,statusText:T}});return this.shouldThrowOnError||(h=h.catch(m=>{var v,y,_;return{error:{message:`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,details:`${(y=m?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(_=m?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,c)}returns(){return this}overrideTypes(){return this}}return $i.default=i,$i}var Fv;function v_(){if(Fv)return Ii;Fv=1;var e=Ii&&Ii.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ii,"__esModule",{value:!0});const n=e(p_());class r extends n.default{select(l){let o=!1;const c=(l??"*").split("").map(f=>/\s/.test(f)&&!o?"":(f==='"'&&(o=!o),f)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:o=!0,nullsFirst:c,foreignTable:f,referencedTable:h=f}={}){const m=h?`${h}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${l}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:o,referencedTable:c=o}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,o,{foreignTable:c,referencedTable:f=c}={}){const h=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${l}`),this.url.searchParams.set(m,`${o-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:o=!1,settings:c=!1,buffers:f=!1,wal:h=!1,format:m="text"}={}){var v;const y=[l?"analyze":null,o?"verbose":null,c?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),_=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${_}"; options=${y};`,m==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Ii.default=r,Ii}var Hv;function fh(){if(Hv)return Hi;Hv=1;var e=Hi&&Hi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Hi,"__esModule",{value:!0});const n=e(v_());class r extends n.default{eq(l,o){return this.url.searchParams.append(l,`eq.${o}`),this}neq(l,o){return this.url.searchParams.append(l,`neq.${o}`),this}gt(l,o){return this.url.searchParams.append(l,`gt.${o}`),this}gte(l,o){return this.url.searchParams.append(l,`gte.${o}`),this}lt(l,o){return this.url.searchParams.append(l,`lt.${o}`),this}lte(l,o){return this.url.searchParams.append(l,`lte.${o}`),this}like(l,o){return this.url.searchParams.append(l,`like.${o}`),this}likeAllOf(l,o){return this.url.searchParams.append(l,`like(all).{${o.join(",")}}`),this}likeAnyOf(l,o){return this.url.searchParams.append(l,`like(any).{${o.join(",")}}`),this}ilike(l,o){return this.url.searchParams.append(l,`ilike.${o}`),this}ilikeAllOf(l,o){return this.url.searchParams.append(l,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(l,o){return this.url.searchParams.append(l,`ilike(any).{${o.join(",")}}`),this}is(l,o){return this.url.searchParams.append(l,`is.${o}`),this}in(l,o){const c=Array.from(new Set(o)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${c})`),this}contains(l,o){return typeof o=="string"?this.url.searchParams.append(l,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(l,`cs.{${o.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(o)}`),this}containedBy(l,o){return typeof o=="string"?this.url.searchParams.append(l,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(l,`cd.{${o.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(o)}`),this}rangeGt(l,o){return this.url.searchParams.append(l,`sr.${o}`),this}rangeGte(l,o){return this.url.searchParams.append(l,`nxl.${o}`),this}rangeLt(l,o){return this.url.searchParams.append(l,`sl.${o}`),this}rangeLte(l,o){return this.url.searchParams.append(l,`nxr.${o}`),this}rangeAdjacent(l,o){return this.url.searchParams.append(l,`adj.${o}`),this}overlaps(l,o){return typeof o=="string"?this.url.searchParams.append(l,`ov.${o}`):this.url.searchParams.append(l,`ov.{${o.join(",")}}`),this}textSearch(l,o,{config:c,type:f}={}){let h="";f==="plain"?h="pl":f==="phrase"?h="ph":f==="websearch"&&(h="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(l,`${h}fts${m}.${o}`),this}match(l){return Object.entries(l).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(l,o,c){return this.url.searchParams.append(l,`not.${o}.${c}`),this}or(l,{foreignTable:o,referencedTable:c=o}={}){const f=c?`${c}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,o,c){return this.url.searchParams.append(l,`${o}.${c}`),this}}return Hi.default=r,Hi}var Iv;function y_(){if(Iv)return Fi;Iv=1;var e=Fi&&Fi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Fi,"__esModule",{value:!0});const n=e(fh());class r{constructor(l,{headers:o={},schema:c,fetch:f}){this.url=l,this.headers=o,this.schema=c,this.fetch=f}select(l,{head:o=!1,count:c}={}){const f=o?"HEAD":"GET";let h=!1;const m=(l??"*").split("").map(v=>/\s/.test(v)&&!h?"":(v==='"'&&(h=!h),v)).join("");return this.url.searchParams.set("select",m),c&&(this.headers.Prefer=`count=${c}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:o,defaultToNull:c=!0}={}){const f="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),o&&h.push(`count=${o}`),c||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(l)){const m=l.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(m.length>0){const v=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:o,ignoreDuplicates:c=!1,count:f,defaultToNull:h=!0}={}){const m="POST",v=[`resolution=${c?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&v.push(this.headers.Prefer),f&&v.push(`count=${f}`),h||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(l)){const y=l.reduce((_,w)=>_.concat(Object.keys(w)),[]);if(y.length>0){const _=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",_.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:o}={}){const c="PATCH",f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),o&&f.push(`count=${o}`),this.headers.Prefer=f.join(","),new n.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const o="DELETE",c=[];return l&&c.push(`count=${l}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new n.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Fi.default=r,Fi}var ol={},ul={},$v;function ME(){return $v||($v=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.version=void 0,ul.version="0.0.0-automated"),ul}var Bv;function kE(){if(Bv)return ol;Bv=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.DEFAULT_HEADERS=void 0;const e=ME();return ol.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},ol}var Vv;function UE(){if(Vv)return zi;Vv=1;var e=zi&&zi.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(zi,"__esModule",{value:!0});const n=e(y_()),r=e(fh()),i=kE();class l{constructor(c,{headers:f={},schema:h,fetch:m}={}){this.url=c,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),f),this.schemaName=h,this.fetch=m}from(c){const f=new URL(`${this.url}/${c}`);return new n.default(f,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new l(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,f={},{head:h=!1,get:m=!1,count:v}={}){let y;const _=new URL(`${this.url}/rpc/${c}`);let w;h||m?(y=h?"HEAD":"GET",Object.entries(f).filter(([R,C])=>C!==void 0).map(([R,C])=>[R,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([R,C])=>{_.searchParams.append(R,C)})):(y="POST",w=f);const S=Object.assign({},this.headers);return v&&(S.Prefer=`count=${v}`),new r.default({method:y,url:_,headers:S,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return zi.default=l,zi}var qv;function LE(){if(qv)return Pt;qv=1;var e=Pt&&Pt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.PostgrestError=Pt.PostgrestBuilder=Pt.PostgrestTransformBuilder=Pt.PostgrestFilterBuilder=Pt.PostgrestQueryBuilder=Pt.PostgrestClient=void 0;const n=e(UE());Pt.PostgrestClient=n.default;const r=e(y_());Pt.PostgrestQueryBuilder=r.default;const i=e(fh());Pt.PostgrestFilterBuilder=i.default;const l=e(v_());Pt.PostgrestTransformBuilder=l.default;const o=e(p_());Pt.PostgrestBuilder=o.default;const c=e(m_());return Pt.PostgrestError=c.default,Pt.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:o.default,PostgrestError:c.default},Pt}var PE=LE();const zE=nh(PE),{PostgrestClient:FE,PostgrestQueryBuilder:ZD,PostgrestFilterBuilder:JD,PostgrestTransformBuilder:e1,PostgrestBuilder:t1,PostgrestError:n1}=zE;class HE{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const i=this.getWebSocketConstructor();return new i(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const IE="2.15.1",$E=`realtime-js/${IE}`,BE="1.0.0",Uf=1e4,VE=1e3,qE=100;var _l;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_l||(_l={}));var Ot;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ot||(Ot={}));var Bn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Bn||(Bn={}));var Lf;(function(e){e.websocket="websocket"})(Lf||(Lf={}));var Kr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Kr||(Kr={}));class GE{constructor(){this.HEADER_LENGTH=1}decode(n,r){return n.constructor===ArrayBuffer?r(this._binaryDecode(n)):r(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const r=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,r,i)}_decodeBroadcast(n,r,i){const l=r.getUint8(1),o=r.getUint8(2);let c=this.HEADER_LENGTH+2;const f=i.decode(n.slice(c,c+l));c=c+l;const h=i.decode(n.slice(c,c+o));c=c+o;const m=JSON.parse(i.decode(n.slice(c,n.byteLength)));return{ref:null,topic:f,event:h,payload:m}}}class __{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(rt||(rt={}));const Gv=(e,n,r={})=>{var i;const l=(i=r.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(n).reduce((o,c)=>(o[c]=YE(c,e,n,l),o),{})},YE=(e,n,r,i)=>{const l=n.find(f=>f.name===e),o=l?.type,c=r[e];return o&&!i.includes(o)?b_(o,c):Pf(c)},b_=(e,n)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return QE(n,r)}switch(e){case rt.bool:return KE(n);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return XE(n);case rt.json:case rt.jsonb:return WE(n);case rt.timestamp:return ZE(n);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return Pf(n);default:return Pf(n)}},Pf=e=>e,KE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},XE=e=>{if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},WE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},QE=(e,n)=>{if(typeof e!="string")return e;const r=e.length-1,i=e[r];if(e[0]==="{"&&i==="}"){let o;const c=e.slice(1,r);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(f=>b_(n,f))}return e},ZE=e=>typeof e=="string"?e.replace(" ","T"):e,w_=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class df{constructor(n,r,i={},l=Uf){this.channel=n,this.event=r,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var i;return this._hasReceived(n)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Yv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Yv||(Yv={}));class bl{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:o,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bl.syncState(this.state,l,o,c),this.pendingDiffs.forEach(h=>{this.state=bl.syncDiff(this.state,h,o,c)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},l=>{const{onJoin:o,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=bl.syncDiff(this.state,l,o,c),f())}),this.onJoin((l,o,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:o,newPresences:c})}),this.onLeave((l,o,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,i,l){const o=this.cloneDeep(n),c=this.transformState(r),f={},h={};return this.map(o,(m,v)=>{c[m]||(h[m]=v)}),this.map(c,(m,v)=>{const y=o[m];if(y){const _=v.map(C=>C.presence_ref),w=y.map(C=>C.presence_ref),S=v.filter(C=>w.indexOf(C.presence_ref)<0),R=y.filter(C=>_.indexOf(C.presence_ref)<0);S.length>0&&(f[m]=S),R.length>0&&(h[m]=R)}else f[m]=v}),this.syncDiff(o,{joins:f,leaves:h},i,l)}static syncDiff(n,r,i,l){const{joins:o,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(o,(f,h)=>{var m;const v=(m=n[f])!==null&&m!==void 0?m:[];if(n[f]=this.cloneDeep(h),v.length>0){const y=n[f].map(w=>w.presence_ref),_=v.filter(w=>y.indexOf(w.presence_ref)<0);n[f].unshift(..._)}i(f,v,h)}),this.map(c,(f,h)=>{let m=n[f];if(!m)return;const v=h.map(y=>y.presence_ref);m=m.filter(y=>v.indexOf(y.presence_ref)<0),n[f]=m,l(f,m,h),m.length===0&&delete n[f]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(i=>r(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,i)=>{const l=n[i];return"metas"in l?r[i]=l.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[i]=l,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Kv||(Kv={}));var wl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(wl||(wl={}));var za;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(za||(za={}));class hh{constructor(n,r={config:{}},i){this.topic=n,this.params=r,this.socket=i,this.bindings={},this.state=Ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new df(this,Bn.join,this.params,this.timeout),this.rejoinTimer=new __(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ot.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bn.reply,{},(l,o)=>{this._trigger(this._replyEventName(o),l)}),this.presence=new bl(this),this.broadcastEndpointURL=w_(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,r=this.timeout){var i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Ot.closed){const{config:{broadcast:o,presence:c,private:f}}=this.params,h=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&l!==void 0?l:[],m=!!this.bindings[wl.PRESENCE]&&this.bindings[wl.PRESENCE].length>0,v={},y={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>n?.(za.CHANNEL_ERROR,_)),this._onClose(()=>n?.(za.CLOSED)),this.updateJoinPayload(Object.assign({config:y},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:_})=>{var w;if(this.socket.setAuth(),_===void 0){n?.(za.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,R=(w=S?.length)!==null&&w!==void 0?w:0,C=[];for(let T=0;T<R;T++){const O=S[T],{filter:{event:A,schema:B,table:U,filter:Z}}=O,J=_&&_[T];if(J&&J.event===A&&J.schema===B&&J.table===U&&J.filter===Z)C.push(Object.assign(Object.assign({},O),{id:J.id}));else{this.unsubscribe(),this.state=Ot.errored,n?.(za.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,n&&n(za.SUBSCRIBED);return}}).receive("error",_=>{this.state=Ot.errored,n?.(za.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{n?.(za.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,i){return this.state===Ot.joined&&n===wl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,r,i)}async send(n,r={}){var i,l;if(!this._canPush()&&n.type==="broadcast"){const{event:o,payload:c}=n,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,f,h;const m=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((h=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Ot.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new df(this,Bn.leave,{},n),i.receive("ok",()=>{r(),l("ok")}).receive("timeout",()=>{r(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ot.closed,this.bindings={}}async _fetchWithTimeout(n,r,i){const l=new AbortController,o=setTimeout(()=>l.abort(),i),c=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:l.signal}));return clearTimeout(o),c}_push(n,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new df(this,n,r,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>qE){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,i){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,i){var l,o;const c=n.toLocaleLowerCase(),{close:f,error:h,leave:m,join:v}=Bn;if(i&&[f,h,m,v].indexOf(c)>=0&&i!==this._joinRef())return;let _=this._onMessage(c,r,i);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(w=>{var S,R,C;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((C=(R=w.filter)===null||R===void 0?void 0:R.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(w=>w.callback(_,i)):(o=this.bindings[c])===null||o===void 0||o.filter(w=>{var S,R,C,T,O,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const B=w.id,U=(S=w.filter)===null||S===void 0?void 0:S.event;return B&&((R=r.ids)===null||R===void 0?void 0:R.includes(B))&&(U==="*"||U?.toLocaleLowerCase()===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const B=(O=(T=w?.filter)===null||T===void 0?void 0:T.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return B==="*"||B===((A=r?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof _=="object"&&"ids"in _){const S=_.data,{schema:R,table:C,commit_timestamp:T,type:O,errors:A}=S;_=Object.assign(Object.assign({},{schema:R,table:C,commit_timestamp:T,eventType:O,new:{},old:{},errors:A}),this._getPayloadRecords(S))}w.callback(_,i)})}_isClosed(){return this.state===Ot.closed}_isJoined(){return this.state===Ot.joined}_isJoining(){return this.state===Ot.joining}_isLeaving(){return this.state===Ot.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,i){const l=n.toLocaleLowerCase(),o={type:l,filter:r,callback:i};return this.bindings[l]?this.bindings[l].push(o):this.bindings[l]=[o],this}_off(n,r){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var o;return!(((o=l.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&hh.isEqual(l.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const i in n)if(n[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Bn.close,{},n)}_onError(n){this._on(Bn.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ot.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=Gv(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=Gv(n.columns,n.old_record)),r}}const Xv=()=>{},lu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},JE=[1e3,2e3,5e3,1e4],ex=1e4,tx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nx{constructor(n,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uf,this.transport=null,this.heartbeatIntervalMs=lu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xv,this.ref=0,this.reconnectTimer=null,this.logger=Xv,this.conn=null,this.sendBuffer=[],this.serializer=new GE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let o;return l?o=l:typeof fetch>"u"?o=(...c)=>Wr(async()=>{const{default:f}=await Promise.resolve().then(()=>ss);return{default:f}},void 0).then(({default:f})=>f(...c)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...c)=>o(...c)},!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Lf.websocket}`,this.httpEndpoint=w_(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=HE.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:BE}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},n?this.conn.close(n,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,i){this.logger(n,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case _l.connecting:return Kr.Connecting;case _l.open:return Kr.Open;case _l.closing:return Kr.Closing;default:return Kr.Closed}}isConnected(){return this.connectionState()===Kr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const i=`realtime:${n}`,l=this.getChannels().find(o=>o.topic===i);if(l)return l;{const o=new hh(`realtime:${n}`,r,this);return this.channels.push(o),o}}push(n){const{topic:r,event:i,payload:l,ref:o}=n,c=()=>{this.encode(n,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${r} ${i} (${o})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(VE,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},lu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:l,payload:o,ref:c}=r,f=c?`(${c})`:"",h=o.status||"";this.log("receive",`${h} ${i} ${l} ${f}`.trim(),o),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(l,o,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Bn.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const i=n.match(/\?/)?"&":"?",l=new URLSearchParams(r);return`${n}${i}${l}`}_workerObjectUrl(n){let r;if(n)r=n;else{const i=new Blob([tx],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r;n?r=n:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const l={access_token:r,version:$E};r&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(Bn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(r)}catch(l){this.log("error",`error in ${n} callback`,l)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new __(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,i,l,o,c,f,h,m;if(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=n?.timeout)!==null&&i!==void 0?i:Uf,this.heartbeatIntervalMs=(l=n?.heartbeatIntervalMs)!==null&&l!==void 0?l:lu.HEARTBEAT_INTERVAL,this.worker=(o=n?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=n?.accessToken)!==null&&c!==void 0?c:null,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=n?.reconnectAfterMs)!==null&&f!==void 0?f:(v=>JE[v-1]||ex),this.encode=(h=n?.encode)!==null&&h!==void 0?h:((v,y)=>y(JSON.stringify(v))),this.decode=(m=n?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class gh extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Dt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ax extends gh{constructor(n,r,i){super(n),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zf extends gh{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}}var rx=function(e,n,r,i){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const S_=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...r)=>Wr(async()=>{const{default:i}=await Promise.resolve().then(()=>ss);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)},ix=()=>rx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wr(()=>Promise.resolve().then(()=>ss),void 0)).Response:Response}),Ff=e=>{if(Array.isArray(e))return e.map(r=>Ff(r));if(typeof e=="function"||e!==Object(e))return e;const n={};return Object.entries(e).forEach(([r,i])=>{const l=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[l]=Ff(i)}),n},sx=e=>{if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Qr=function(e,n,r,i){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const ff=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lx=(e,n,r)=>Qr(void 0,void 0,void 0,function*(){const i=yield ix();e instanceof i&&!r?.noResolveJson?e.json().then(l=>{const o=e.status||500,c=l?.statusCode||o+"";n(new ax(ff(l),o,c))}).catch(l=>{n(new zf(ff(l),l))}):n(new zf(ff(e),e))}),ox=(e,n,r,i)=>{const l={method:e,headers:n?.headers||{}};return e==="GET"||!i?l:(sx(i)?(l.headers=Object.assign({"Content-Type":"application/json"},n?.headers),l.body=JSON.stringify(i)):l.body=i,n?.duplex&&(l.duplex=n.duplex),Object.assign(Object.assign({},l),r))};function Fl(e,n,r,i,l,o){return Qr(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(r,ox(n,i,l,o)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>lx(h,f,i))})})}function Su(e,n,r,i){return Qr(this,void 0,void 0,function*(){return Fl(e,"GET",n,r,i)})}function da(e,n,r,i,l){return Qr(this,void 0,void 0,function*(){return Fl(e,"POST",n,i,l,r)})}function Hf(e,n,r,i,l){return Qr(this,void 0,void 0,function*(){return Fl(e,"PUT",n,i,l,r)})}function ux(e,n,r,i){return Qr(this,void 0,void 0,function*(){return Fl(e,"HEAD",n,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function E_(e,n,r,i,l){return Qr(this,void 0,void 0,function*(){return Fl(e,"DELETE",n,i,l,r)})}var rn=function(e,n,r,i){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const cx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dx{constructor(n,r={},i,l){this.url=n,this.headers=r,this.bucketId=i,this.fetch=S_(l)}uploadOrUpdate(n,r,i,l){return rn(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},Wv),l);let f=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",this.encodeMetadata(h))):(o=i,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),l?.headers&&(f=Object.assign(Object.assign({},f),l.headers));const m=this._removeEmptyFolders(r),v=this._getFinalPath(m),y=yield(n=="PUT"?Hf:da)(this.fetch,`${this.url}/object/${v}`,o,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(o){if(Dt(o))return{data:null,error:o};throw o}})}upload(n,r,i){return rn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,r,i)})}uploadToSignedUrl(n,r,i,l){return rn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(n),c=this._getFinalPath(o),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:Wv.upsert},l),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",m.cacheControl)):(h=i,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const y=yield Hf(this.fetch,f.toString(),h,{headers:v});return{data:{path:o,fullPath:y.Key},error:null}}catch(h){if(Dt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(n,r){return rn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const l=Object.assign({},this.headers);r?.upsert&&(l["x-upsert"]="true");const o=yield da(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),c=new URL(this.url+o.url),f=c.searchParams.get("token");if(!f)throw new gh("No token returned by API");return{data:{signedUrl:c.toString(),path:n,token:f},error:null}}catch(i){if(Dt(i))return{data:null,error:i};throw i}})}update(n,r,i){return rn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,r,i)})}move(n,r,i){return rn(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(Dt(l))return{data:null,error:l};throw l}})}copy(n,r,i){return rn(this,void 0,void 0,function*(){try{return{data:{path:(yield da(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(Dt(l))return{data:null,error:l};throw l}})}createSignedUrl(n,r,i){return rn(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n),o=yield da(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:r},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(l){if(Dt(l))return{data:null,error:l};throw l}})}createSignedUrls(n,r,i){return rn(this,void 0,void 0,function*(){try{const l=yield da(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:n},{headers:this.headers}),o=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(l){if(Dt(l))return{data:null,error:l};throw l}})}download(n,r){return rn(this,void 0,void 0,function*(){const l=typeof r?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(r?.transform||{}),c=o?`?${o}`:"";try{const f=this._getFinalPath(n);return{data:yield(yield Su(this.fetch,`${this.url}/${l}/${f}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(Dt(f))return{data:null,error:f};throw f}})}info(n){return rn(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{const i=yield Su(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ff(i),error:null}}catch(i){if(Dt(i))return{data:null,error:i};throw i}})}exists(n){return rn(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{return yield ux(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Dt(i)&&i instanceof zf){const l=i.originalError;if([400,404].includes(l?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,r){const i=this._getFinalPath(n),l=[],o=r?.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&l.push(o);const f=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&l.push(h);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${m}`)}}}remove(n){return rn(this,void 0,void 0,function*(){try{return{data:yield E_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}list(n,r,i){return rn(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},cx),r),{prefix:n||""});return{data:yield da(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(Dt(l))return{data:null,error:l};throw l}})}listV2(n,r){return rn(this,void 0,void 0,function*(){try{const i=Object.assign({},n);return{data:yield da(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Dt(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}}const fx="2.11.0",hx={"X-Client-Info":`storage-js/${fx}`};var Bi=function(e,n,r,i){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};class gx{constructor(n,r={},i,l){const o=new URL(n);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},hx),r),this.fetch=S_(i)}listBuckets(){return Bi(this,void 0,void 0,function*(){try{return{data:yield Su(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}})}getBucket(n){return Bi(this,void 0,void 0,function*(){try{return{data:yield Su(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}createBucket(n,r={public:!1}){return Bi(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Dt(i))return{data:null,error:i};throw i}})}updateBucket(n,r){return Bi(this,void 0,void 0,function*(){try{return{data:yield Hf(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Dt(i))return{data:null,error:i};throw i}})}emptyBucket(n){return Bi(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}deleteBucket(n){return Bi(this,void 0,void 0,function*(){try{return{data:yield E_(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}}class mx extends gx{constructor(n,r={},i,l){super(n,r,i,l)}from(n){return new dx(this.url,this.headers,n,this.fetch)}}const px="2.55.0";let yl="";typeof Deno<"u"?yl="deno":typeof document<"u"?yl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yl="react-native":yl="node";const vx={"X-Client-Info":`supabase-js-${yl}/${px}`},yx={headers:vx},_x={schema:"public"},bx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wx={};var Sx=function(e,n,r,i){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};const Ex=e=>{let n;return e?n=e:typeof fetch>"u"?n=h_:n=fetch,(...r)=>n(...r)},xx=()=>typeof Headers>"u"?g_:Headers,Rx=(e,n,r)=>{const i=Ex(r),l=xx();return(o,c)=>Sx(void 0,void 0,void 0,function*(){var f;const h=(f=yield n())!==null&&f!==void 0?f:e;let m=new l(c?.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),i(o,Object.assign(Object.assign({},c),{headers:m}))})};var Cx=function(e,n,r,i){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};function Tx(e){return e.endsWith("/")?e:e+"/"}function Ax(e,n){var r,i;const{db:l,auth:o,realtime:c,global:f}=e,{db:h,auth:m,realtime:v,global:y}=n,_={db:Object.assign(Object.assign({},h),l),auth:Object.assign(Object.assign({},m),o),realtime:Object.assign(Object.assign({},v),c),storage:{},global:Object.assign(Object.assign(Object.assign({},y),f),{headers:Object.assign(Object.assign({},(r=y?.headers)!==null&&r!==void 0?r:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>Cx(this,void 0,void 0,function*(){return""})};return e.accessToken?_.accessToken=e.accessToken:delete _.accessToken,_}const x_="2.71.1",Wi=30*1e3,If=3,hf=If*Wi,Ox="http://localhost:9999",Dx="supabase.auth.token",Nx={"X-Client-Info":`gotrue-js/${x_}`},$f="X-Supabase-Api-Version",R_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mx=600*1e3;class mh extends Error{constructor(n,r,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function Ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class kx extends mh{constructor(n,r,i){super(n,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function Ux(e){return Ae(e)&&e.name==="AuthApiError"}class C_ extends mh{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class xr extends mh{constructor(n,r,i,l){super(n,i,l),this.name=r,this.status=i}}class vr extends xr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Lx(e){return Ae(e)&&e.name==="AuthSessionMissingError"}class ou extends xr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class uu extends xr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class cu extends xr{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Px(e){return Ae(e)&&e.name==="AuthImplicitGrantRedirectError"}class Qv extends xr{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bf extends xr{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function gf(e){return Ae(e)&&e.name==="AuthRetryableFetchError"}class Zv extends xr{constructor(n,r,i){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Vf extends xr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Eu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jv=` 	
\r=`.split(""),zx=(()=>{const e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<Jv.length;n+=1)e[Jv[n].charCodeAt(0)]=-2;for(let n=0;n<Eu.length;n+=1)e[Eu[n].charCodeAt(0)]=n;return e})();function ey(e,n,r){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(Eu[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(Eu[i]),n.queuedBits-=6}}function T_(e,n,r){const i=zx[e];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ty(e){const n=[],r=c=>{n.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},o=c=>{Ix(c,i,r)};for(let c=0;c<e.length;c+=1)T_(e.charCodeAt(c),l,o);return n.join("")}function Fx(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Hx(e,n){for(let r=0;r<e.length;r+=1){let i=e.charCodeAt(r);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(e.charCodeAt(r+1)-56320&65535|l)+65536,r+=1}Fx(i,n)}}function Ix(e,n,r){if(n.utf8seq===0){if(e<=127){r(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function $x(e){const n=[],r={queue:0,queuedBits:0},i=l=>{n.push(l)};for(let l=0;l<e.length;l+=1)T_(e.charCodeAt(l),r,i);return new Uint8Array(n)}function Bx(e){const n=[];return Hx(e,r=>n.push(r)),new Uint8Array(n)}function Vx(e){const n=[],r={queue:0,queuedBits:0},i=l=>{n.push(l)};return e.forEach(l=>ey(l,r,i)),ey(null,r,i),n.join("")}function qx(e){return Math.round(Date.now()/1e3)+e}function Gx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}const $n=()=>typeof window<"u"&&typeof document<"u",Vr={tested:!1,writable:!1},A_=()=>{if(!$n())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vr.tested)return Vr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Vr.tested=!0,Vr.writable=!0}catch{Vr.tested=!0,Vr.writable=!1}return Vr.writable};function Yx(e){const n={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((l,o)=>{n[o]=l})}catch{}return r.searchParams.forEach((i,l)=>{n[l]=i}),n}const O_=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...r)=>Wr(async()=>{const{default:i}=await Promise.resolve().then(()=>ss);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)},Kx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qi=async(e,n,r)=>{await e.setItem(n,JSON.stringify(r))},qr=async(e,n)=>{const r=await e.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},mr=async(e,n)=>{await e.removeItem(n)};class Fu{constructor(){this.promise=new Fu.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}Fu.promiseConstructor=Promise;function mf(e){const n=e.split(".");if(n.length!==3)throw new Vf("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!jx.test(n[i]))throw new Vf("JWT not in base64url format");return{header:JSON.parse(ty(n[0])),payload:JSON.parse(ty(n[1])),signature:$x(n[2]),raw:{header:n[0],payload:n[1]}}}async function Xx(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}function Wx(e,n){return new Promise((i,l)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await e(o);if(!n(o,null,c)){i(c);return}}catch(c){if(!n(o,c)){l(c);return}}})()})}function Qx(e){return("0"+e.toString(16)).substr(-2)}function Zx(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let l="";for(let o=0;o<56;o++)l+=r.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(n),Array.from(n,Qx).join("")}async function Jx(e){const r=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",r),l=new Uint8Array(i);return Array.from(l).map(o=>String.fromCharCode(o)).join("")}async function eR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Jx(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vi(e,n,r=!1){const i=Zx();let l=i;r&&(l+="/PASSWORD_RECOVERY"),await Qi(e,`${n}-code-verifier`,l);const o=await eR(i);return[o,i===o?"plain":"s256"]}const tR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nR(e){const n=e.headers.get($f);if(!n||!n.match(tR))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function aR(e){if(!e)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function rR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qi(e){if(!iR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pf(){const e={};return new Proxy(e,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ny(e){return JSON.parse(JSON.stringify(e))}var sR=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(r[i[l]]=e[i[l]]);return r};const Gr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lR=[502,503,504];async function ay(e){var n;if(!Kx(e))throw new Bf(Gr(e),0);if(lR.includes(e.status))throw new Bf(Gr(e),e.status);let r;try{r=await e.json()}catch(o){throw new C_(Gr(o),o)}let i;const l=nR(e);if(l&&l.getTime()>=R_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Zv(Gr(r),e.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new vr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new Zv(Gr(r),e.status,r.weak_password.reasons);throw new kx(Gr(r),e.status||500,i)}const oR=(e,n,r,i)=>{const l={method:e,headers:n?.headers||{}};return e==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),r))};async function Pe(e,n,r,i){var l;const o=Object.assign({},i?.headers);o[$f]||(o[$f]=R_["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const c=(l=i?.query)!==null&&l!==void 0?l:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await uR(e,n,r+f,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function uR(e,n,r,i,l,o){const c=oR(n,i,l,o);let f;try{f=await e(r,Object.assign({},c))}catch(h){throw console.error(h),new Bf(Gr(h),0)}if(f.ok||await ay(f),i?.noResolveJson)return f;try{return await f.json()}catch(h){await ay(h)}}function Pa(e){var n;let r=null;hR(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=qx(e.expires_in)));const i=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:r,user:i},error:null}}function ry(e){const n=Pa(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(n.data.weak_password=e.weak_password),n}function _r(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function cR(e){return{data:e,error:null}}function dR(e){const{action_link:n,email_otp:r,hashed_token:i,redirect_to:l,verification_type:o}=e,c=sR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:n,email_otp:r,hashed_token:i,redirect_to:l,verification_type:o},h=Object.assign({},c);return{data:{properties:f,user:h},error:null}}function fR(e){return e}function hR(e){return e.access_token&&e.refresh_token&&e.expires_in}const vf=["global","local","others"];var gR=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(r[i[l]]=e[i[l]]);return r};class mR{constructor({url:n="",headers:r={},fetch:i}){this.url=n,this.headers=r,this.fetch=O_(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,r=vf[0]){if(vf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vf.join(", ")}`);try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,r={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_r})}catch(i){if(Ae(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:r}=n,i=gR(n,["options"]),l=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(l.new_email=i?.newEmail,delete l.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:dR,redirectTo:r?.redirectTo})}catch(r){if(Ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:_r})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,i,l,o,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},v=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(o=(l=n?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:fR});if(v.error)throw v.error;const y=await v.json(),_=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(S=>{const R=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(S.split(";")[1].split("=")[1]);m[`${C}Page`]=R}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Ae(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){qi(n);try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:_r})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){qi(n);try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:_r})}catch(i){if(Ae(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,r=!1){qi(n);try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:_r})}catch(i){if(Ae(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){qi(n.userId);try{const{data:r,error:i}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:r,error:i}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteFactor(n){qi(n.userId),qi(n.id);try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}}function iy(e={}){return{getItem:n=>e[n]||null,setItem:(n,r)=>{e[n]=r},removeItem:n=>{delete e[n]}}}function pR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gi={debug:!!(globalThis&&A_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class D_ extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class vR extends D_{}async function yR(e,n,r){Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,l.name);try{return await r()}finally{Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,l.name)}}else{if(n===0)throw Gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}pR();const _R={url:Ox,storageKey:Dx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Nx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sy(e,n,r){return await r()}const Yi={};class Dl{constructor(n){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Dl.nextInstanceID,Dl.nextInstanceID+=1,this.instanceID>0&&$n()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},_R),n);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new mR({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=O_(l.fetch),this.lock=l.lock||sy,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:$n()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=yR:this.lock=sy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:A_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=iy(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=iy(this.memoryStorage)),$n()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var n,r;return(r=(n=Yi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Yi[this.storageKey]=Object.assign(Object.assign({},Yi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Yi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Yi[this.storageKey]=Object.assign(Object.assign({},Yi[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${x_}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const r=Yx(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),$n()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:o}=await this._getSessionFromURL(r,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Px(o)){const h=(n=o.details)===null||n===void 0?void 0:n.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ae(r)?{error:r}:{error:new C_("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,l;try{const o=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=n?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Pa}),{data:c,error:f}=o;if(f||!c)return{data:{user:null,session:null},error:f};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(Ae(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(n){var r,i,l;try{let o;if("email"in n){const{email:v,password:y,options:_}=n;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await Vi(this.storage,this.storageKey)),o=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:v,password:y,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:w,code_challenge_method:S},xform:Pa})}else if("phone"in n){const{phone:v,password:y,options:_}=n;o=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(i=_?.data)!==null&&i!==void 0?i:{},channel:(l=_?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Pa})}else throw new uu("You must provide either an email or phone number and a password");const{data:c,error:f}=o;if(f||!c)return{data:{user:null,session:null},error:f};const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(Ae(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(n){try{let r;if("email"in n){const{email:o,password:c,options:f}=n;r=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ry})}else if("phone"in n){const{phone:o,password:c,options:f}=n;r=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ry})}else throw new uu("You must provide either an email or phone number and a password");const{data:i,error:l}=r;return l?{data:{user:null,session:null},error:l}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ou}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,i,l,o;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(o=n.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;if(r==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(n){var r,i,l,o,c,f,h,m,v,y,_,w;let S,R;if("message"in n)S=n.message,R=n.signature;else{const{chain:C,wallet:T,statement:O,options:A}=n;let B;if($n())if(typeof T=="object")B=T;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))B=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=T}const U=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in B&&B.signIn){const Z=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),O?{statement:O}:null));let J;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")J=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)J=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)S=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),R=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${U.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(l=(i=A?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((o=A?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((h=A?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((m=A?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((y=(v=A?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...A.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const Z=await B.signMessage(new TextEncoder().encode(S),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=Z}}try{const{data:C,error:T}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Vx(R)},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Pa});if(T)throw T;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new ou}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:T})}catch(C){if(Ae(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(n){const r=await qr(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(r??"").split("/");try{const{data:o,error:c}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Pa});if(await mr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ou}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:l??null}),error:c})}catch(o){if(Ae(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(n){try{const{options:r,provider:i,token:l,access_token:o,nonce:c}=n,f=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Pa}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new ou}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,i,l,o,c;try{if("email"in n){const{email:f,options:h}=n;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Vi(this.storage,this.storageKey));const{error:y}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in n){const{phone:f,options:h}=n,{data:m,error:v}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=h?.data)!==null&&l!==void 0?l:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new uu("You must provide either an email or phone number.")}catch(f){if(Ae(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(n){var r,i;try{let l,o;"options"in n&&(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo,o=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:f}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:o}}),redirectTo:l,xform:Pa});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(l){if(Ae(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(n){var r,i,l;try{let o=null,c=null;return this.flowType==="pkce"&&([o,c]=await Vi(this.storage,this.storageKey)),await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=n?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:cR})}catch(o){if(Ae(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new vr;const{error:l}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:l}})}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:i,type:l,options:o}=n,{error:c}=await Pe(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in n){const{phone:i,type:l,options:o}=n,{data:c,error:f}=await Pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:f}}throw new uu("You must provide either an email or phone number and a type")}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await qr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<hf:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const c=await qr(this.userStorage,this.storageKey+"-user");c?.user?n.user=c.user:n.user=pf()}if(this.storage.isServer&&n.user){let c=this.suppressGetSessionWarning;n=new Proxy(n,{get:(h,m,v)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,v))})}return{data:{session:n},error:null}}const{session:l,error:o}=await this._callRefreshToken(n.refresh_token);return o?{data:{session:null},error:o}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:_r}):await this._useSession(async r=>{var i,l,o;const{data:c,error:f}=r;if(f)throw f;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vr}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0,xform:_r})})}catch(r){if(Ae(r))return Lx(r)&&(await this._removeSession(),await mr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{const{data:l,error:o}=i;if(o)throw o;if(!l.session)throw new vr;const c=l.session;let f=null,h=null;this.flowType==="pkce"&&n.email!=null&&([f,h]=await Vi(this.storage,this.storageKey));const{data:m,error:v}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:f,code_challenge_method:h}),jwt:c.access_token,xform:_r});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(Ae(i))return{data:{user:null},error:i};throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new vr;const r=Date.now()/1e3;let i=r,l=!0,o=null;const{payload:c}=mf(n.access_token);if(c.exp&&(i=c.exp,l=i<=r),l){const{session:f,error:h}=await this._callRefreshToken(n.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!f)return{data:{user:null,session:null},error:null};o=f}else{const{data:f,error:h}=await this._getUser(n.access_token);if(h)throw h;o={access_token:n.access_token,refresh_token:n.refresh_token,user:f.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){const{data:c,error:f}=r;if(f)throw f;n=(i=c.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new vr;const{session:l,error:o}=await this._callRefreshToken(n.refresh_token);return o?{data:{user:null,session:null},error:o}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n,r){try{if(!$n())throw new cu("No browser detected.");if(n.error||n.error_description||n.error_code)throw new cu(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Qv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Qv("No code detected.");const{data:O,error:A}=await this._exchangeCodeForSession(n.code);if(A)throw A;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:o,refresh_token:c,expires_in:f,expires_at:h,token_type:m}=n;if(!o||!f||!c||!m)throw new cu("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(f);let _=v+y;h&&(_=parseInt(h));const w=_-v;w*1e3<=Wi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const S=_-y;v-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,_,v):v-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,_,v);const{data:R,error:C}=await this._getUser(o);if(C)throw C;const T={provider_token:i,provider_refresh_token:l,access_token:o,expires_in:y,expires_at:_,refresh_token:c,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:n.type},error:null}}catch(i){if(Ae(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await qr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:l,error:o}=r;if(o)return{error:o};const c=(i=l.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:f}=await this.admin.signOut(c,n);if(f&&!(Ux(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return n!=="others"&&(await this._removeSession(),await mr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const r=Gx(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,l;try{const{data:{session:o},error:c}=r;if(c)throw c;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",n,"session",o)}catch(o){await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",o),console.error(o)}})}async resetPasswordForEmail(n,r={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await Vi(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Ae(o))return{data:null,error:o};throw o}}async getUserIdentities(){var n;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async linkIdentity(n){var r;try{const{data:i,error:l}=await this._useSession(async o=>{var c,f,h,m,v;const{data:y,error:_}=o;if(_)throw _;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(c=n.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=n.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=n.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",w,{headers:this.headers,jwt:(v=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return $n()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:n.provider,url:i?.url},error:null}}catch(i){if(Ae(i))return{data:{provider:n.provider,url:null},error:i};throw i}}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,l;const{data:o,error:c}=r;if(c)throw c;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(l=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await Wx(async l=>(l>0&&await Xx(200*Math.pow(2,l-1)),this._debug(r,"refreshing attempt",l),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Pa})),(l,o)=>{const c=200*Math.pow(2,l);return o&&gf(o)&&Date.now()+c-i<Wi})}catch(i){if(this._debug(r,"error",i),Ae(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),$n()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await qr(this.storage,this.storageKey);if(l&&this.userStorage){let c=await qr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await Qi(this.userStorage,this.storageKey+"-user",c)),l.user=(n=c?.user)!==null&&n!==void 0?n:pf()}else if(l&&!l.user&&!l.user){const c=await qr(this.storage,this.storageKey+"-user");c&&c?.user?(l.user=c.user,await mr(this.storage,this.storageKey+"-user"),await Qi(this.storage,this.storageKey,l)):l.user=pf()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const o=((r=l.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<hf;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${hf}s`),o){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),gf(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(l.access_token);!f&&c?.user?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new vr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Fu;const{data:o,error:c}=await this._refreshAccessToken(n);if(c)throw c;if(!o.session)throw new vr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const f={session:o.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(o){if(this._debug(l,"error",o),Ae(o)){const c={session:null,error:o};return gf(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(n,r,i=!0){const l=`#_notifyAllSubscribers(${n})`;this._debug(l,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(n,r)}catch(h){o.push(h)}});if(await Promise.all(c),o.length>0){for(let f=0;f<o.length;f+=1)console.error(o[f]);throw o[0]}}finally{this._debug(l,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Qi(this.userStorage,this.storageKey+"-user",{user:r.user});const l=Object.assign({},r);delete l.user;const o=ny(l);await Qi(this.storage,this.storageKey,o)}else{const l=ny(r);await Qi(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await mr(this.storage,this.storageKey),await mr(this.storage,this.storageKey+"-code-verifier"),await mr(this.storage,this.storageKey+"-user"),this.userStorage&&await mr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&$n()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Wi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-n)/Wi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Wi}ms, refresh threshold is ${If} ticks`),l<=If&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof D_)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$n()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){const l=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,c]=await Vi(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(f.toString())}if(i?.queryParams){const o=new URLSearchParams(i.queryParams);l.push(o.toString())}return i?.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${l.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;const{data:l,error:o}=r;return o?{data:null,error:o}:await Pe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,l;const{data:o,error:c}=r;if(c)return{data:null,error:c};const f=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:h,error:m}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(n.factorType==="totp"&&(!((l=h?.totp)===null||l===void 0)&&l.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:l,error:o}=r;if(o)return{data:null,error:o};const{data:c,error:f}=await Pe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:f})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:l,error:o}=r;return o?{data:null,error:o}:await Pe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){const{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?{data:null,error:i}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i=n?.factors||[],l=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),o=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:l,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var r,i;const{data:{session:l},error:o}=n;if(o)return{data:null,error:o};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=mf(l.access_token);let f=null;c.aal&&(f=c.aal);let h=f;((i=(r=l.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const v=c.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(f=>f.kid===n);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(f=>f.kid===n),i&&this.jwks_cached_at+Mx>l)return i;const{data:o,error:c}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=l,i=o.keys.find(f=>f.kid===n),!i)?null:i}async getClaims(n,r={}){try{let i=n;if(!i){const{data:w,error:S}=await this.getSession();if(S||!w.session)return{data:null,error:S};i=w.session.access_token}const{header:l,payload:o,signature:c,raw:{header:f,payload:h}}=mf(i);r?.allowExpired||aR(o.exp);const m=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:o,header:l,signature:c},error:null}}const v=rR(l.alg),y=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,c,Bx(`${f}.${h}`)))throw new Vf("Invalid JWT signature");return{data:{claims:o,header:l,signature:c},error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}}}Dl.nextInstanceID=0;const bR=Dl;class wR extends bR{constructor(n){super(n)}}var SR=function(e,n,r,i){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function f(v){try{m(i.next(v))}catch(y){c(y)}}function h(v){try{m(i.throw(v))}catch(y){c(y)}}function m(v){v.done?o(v.value):l(v.value).then(f,h)}m((i=i.apply(e,n||[])).next())})};class ER{constructor(n,r,i){var l,o,c;if(this.supabaseUrl=n,this.supabaseKey=r,!n)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const f=Tx(n),h=new URL(f);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,v={db:_x,realtime:wx,auth:Object.assign(Object.assign({},bx),{storageKey:m}),global:yx},y=Ax(i??{},v);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=y.global.headers)!==null&&o!==void 0?o:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=Rx(r,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new FE(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new mx(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new TE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},i={}){return this.rest.rpc(n,r,i)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,r;return SR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:l,storageKey:o,flowType:c,lock:f,debug:h},m,v){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wR({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:o,autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:l,flowType:c,lock:f,debug:h,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new nx(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i?.access_token)})}_handleTokenChanged(n,r,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xR=(e,n,r)=>new ER(e,n,r);function RR(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}RR()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const CR="https://jyrfznujcyqskpfthrsf.supabase.co",TR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp5cmZ6bnVqY3lxc2twZnRocnNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwODM1OTMsImV4cCI6MjA3MDY1OTU5M30.JOZLGHslSQO7wDeFSq7FHAV6_VNtD9DS-gMNUu4rEnM",et=xR(CR,TR,{auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}}),qt=(e,n="")=>e.code==="23505"?"This record already exists":e.code==="23503"?"Cannot perform this operation due to related records":e.code==="PGRST116"?"No records found":e.message?.includes("JWT")?"Authentication error. Please refresh the page":e.message||"An unexpected error occurred",Rt={PRINTING:"STAMPA",PACKAGING:"CONFEZIONAMENTO"},Re={ZANICA:"ZANICA",BUSTO_GAROLFO:"BUSTO_GAROLFO",BOTH:"BOTH"},Un={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",MAINTENANCE:"MAINTENANCE"},Zi={CREMA:"crema",LIQUIDO:"liquido",POLVERI:"polveri"},ca={T1:"T1",T2:"T2",T3:"T3"},Nl={THREE:"3",FOUR:"4"},ly={END_DATE_BEFORE_START:"End date cannot be before start date",END_TIME_BEFORE_START:"End time must be after start time when dates are the same"},ct={MACHINE:{DEPARTMENT:Rt.PRINTING,WORK_CENTER:Re.ZANICA,MIN_WEB_WIDTH:"100",MAX_WEB_WIDTH:"1000",MIN_BAG_HEIGHT:"50",MAX_BAG_HEIGHT:"500",SETUP_TIME_STANDARD:"0.5",CHANGEOVER_COLOR:"0.25",CHANGEOVER_MATERIAL:"0.75",ACTIVE_SHIFTS:[ca.T1],STATUS:Un.ACTIVE},PHASE:{DEPARTMENT:Rt.PRINTING,NUMERO_PERSONE:1,WORK_CENTER:Re.ZANICA,V_STAMPA:6e3,T_SETUP_STAMPA:.5,COSTO_H_STAMPA:50,V_CONF:1e3,T_SETUP_CONF:.25,COSTO_H_CONF:40},ORDER:{SEAL_SIDES:Nl.THREE,QUANTITY_COMPLETED:0},OFF_TIME:{START_TIME:"09:00",END_TIME:"17:00"}},cl={DECIMAL_PRECISION:{ONE_DECIMAL:["setup_time_standard","changeover_color","changeover_material","t_setup_stampa","t_setup_conf"],TWO_DECIMAL:["costo_h_stampa","costo_h_conf"]},FIELD_STEPS:{TIME:.1,COST:.01}},N_=E.createContext(),AR=({children:e})=>{const[n,r]=E.useState(null),[i,l]=E.useState(null),[o,c]=E.useState(!0),[f,h]=E.useState(null);E.useEffect(()=>{(async()=>{try{const{data:{session:O},error:A}=await et.auth.getSession();A?h("Failed to initialize authentication"):(l(O),r(O?.user??null))}catch{h("Failed to initialize authentication")}finally{c(!1)}})();const{data:{subscription:T}}=et.auth.onAuthStateChange(async(O,A)=>{l(A),r(A?.user??null),c(!1),h(null)});return()=>T.unsubscribe()},[]);const R={user:n,session:i,loading:o,error:f,signIn:async(C,T)=>{try{h(null),c(!0);const{data:O,error:A}=await et.auth.signInWithPassword({email:C,password:T});if(A)throw A;return{success:!0,user:O.user}}catch(O){return h(O.message),{success:!1,error:O.message}}finally{c(!1)}},signUp:async(C,T,O={})=>{try{h(null),c(!0);const{data:A,error:B}=await et.auth.signUp({email:C,password:T,options:{data:O}});if(B)throw B;return{success:!0,user:A.user}}catch(A){return h(A.message),{success:!1,error:A.message}}finally{c(!1)}},signOut:async()=>{try{h(null),c(!0);const{error:C}=await et.auth.signOut();if(C)throw C;return{success:!0}}catch(C){return h(C.message),{success:!1,error:C.message}}finally{c(!1)}},resetPassword:async C=>{try{h(null),c(!0);const{error:T}=await et.auth.resetPasswordForEmail(C,{redirectTo:`${window.location.origin}/reset-password`});if(T)throw T;return{success:!0}}catch(T){return h(T.message),{success:!1,error:T.message}}finally{c(!1)}},updateProfile:async C=>{try{h(null),c(!0);const{data:T,error:O}=await et.auth.updateUser({data:C});if(O)throw O;return{success:!0,user:T.user}}catch(T){return h(T.message),{success:!1,error:T.message}}finally{c(!1)}},getUserProfile:async()=>{if(!n)return null;try{const{data:C,error:T}=await et.from("profiles").select("*").eq("id",n.id).single();return T?null:C}catch{return null}},isAuthenticated:!!n};return p.jsx(N_.Provider,{value:R,children:e})},Hl=()=>{const e=E.useContext(N_);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},oy=e=>{let n;const r=new Set,i=(m,v)=>{const y=typeof m=="function"?m(n):m;if(!Object.is(y,n)){const _=n;n=v??(typeof y!="object"||y===null)?y:Object.assign({},n,y),r.forEach(w=>w(n,_))}},l=()=>n,f={setState:i,getState:l,getInitialState:()=>h,subscribe:m=>(r.add(m),()=>r.delete(m))},h=n=e(i,l,f);return f},OR=(e=>e?oy(e):oy),DR=e=>e;function NR(e,n=DR){const r=De.useSyncExternalStore(e.subscribe,De.useCallback(()=>n(e.getState()),[e,n]),De.useCallback(()=>n(e.getInitialState()),[e,n]));return De.useDebugValue(r),r}const uy=e=>{const n=OR(e),r=i=>NR(n,i);return Object.assign(r,n),r},ls=(e=>e?uy(e):uy);class en extends Error{constructor(n,r="GENERIC_ERROR",i=500,l=null,o=""){super(n),this.name="AppError",this.code=r,this.statusCode=i,this.originalError=l,this.context=o,this.timestamp=new Date().toISOString(),this.id=this.generateErrorId(),this.userMessage=this.getUserFriendlyMessage()}generateErrorId(){return`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getUserFriendlyMessage(){return jR(this)}toJSON(){return{id:this.id,message:this.message,code:this.code,statusCode:this.statusCode,context:this.context,timestamp:this.timestamp,userMessage:this.userMessage,stack:this.stack}}}const ze={VALIDATION_ERROR:"VALIDATION_ERROR",NETWORK_ERROR:"NETWORK_ERROR",AUTHENTICATION_ERROR:"AUTHENTICATION_ERROR",AUTHORIZATION_ERROR:"AUTHORIZATION_ERROR",NOT_FOUND_ERROR:"NOT_FOUND_ERROR",SERVER_ERROR:"SERVER_ERROR",CLIENT_ERROR:"CLIENT_ERROR",BUSINESS_LOGIC_ERROR:"BUSINESS_LOGIC_ERROR",TIMEOUT_ERROR:"TIMEOUT_ERROR",RATE_LIMIT_ERROR:"RATE_LIMIT_ERROR"},wr={LOW:"low",MEDIUM:"medium",HIGH:"high",CRITICAL:"critical"},Vn=(e,n="")=>{if(e instanceof en)return e;if(e?.code)switch(e.code){case"23505":return new en("This record already exists",ze.VALIDATION_ERROR,409,e,n);case"23503":return new en("Cannot delete this record as it is referenced by other data",ze.VALIDATION_ERROR,400,e,n);case"PGRST116":return new en("Record not found",ze.NOT_FOUND_ERROR,404,e,n);case"PGRST301":return new en("Session expired. Please log in again.",ze.AUTHENTICATION_ERROR,401,e,n);case"PGRST302":return new en("Invalid session. Please log in again.",ze.AUTHENTICATION_ERROR,401,e,n);case"PGRST303":return new en("Authentication required. Please log in.",ze.AUTHENTICATION_ERROR,401,e,n);default:return new en(e.message||"An unexpected error occurred",ze.SERVER_ERROR,500,e,n)}return e.name==="NetworkError"||e.message?.includes("fetch")||e.message?.includes("network")?new en("Network error. Please check your connection and try again.",ze.NETWORK_ERROR,0,e,n):e.name==="TimeoutError"||e.message?.includes("timeout")?new en("Request timed out. Please try again.",ze.TIMEOUT_ERROR,408,e,n):e.status===429||e.message?.includes("rate limit")?new en("Too many requests. Please wait a moment and try again.",ze.RATE_LIMIT_ERROR,429,e,n):e.name==="ValidationError"||e.message?.includes("validation")?new en(e.message,ze.VALIDATION_ERROR,400,e,n):e.message?.includes("Cannot add")||e.message?.includes("work center")?new en(e.message,ze.BUSINESS_LOGIC_ERROR,400,e,n):new en(e.message||"An unexpected error occurred",ze.CLIENT_ERROR,e.status||500,e,n)},qn=(e,n="")=>({id:e.id||`ERR_${Date.now()}`,message:e.message,code:e.code||"UNKNOWN_ERROR",context:n,timestamp:new Date().toISOString(),url:typeof window<"u"?window.location.href:"server",userAgent:typeof navigator<"u"?navigator.userAgent:"server",stack:e.stack,severity:j_(e)}),j_=e=>e.code===ze.AUTHENTICATION_ERROR||e.code===ze.AUTHORIZATION_ERROR?wr.HIGH:e.code===ze.NETWORK_ERROR||e.code===ze.SERVER_ERROR?wr.MEDIUM:e.code===ze.VALIDATION_ERROR||e.code===ze.BUSINESS_LOGIC_ERROR?wr.LOW:wr.MEDIUM,ph=e=>n=>{const r=Vn(n,e);return qn(r,e),r},jR=e=>{switch(e.code){case ze.NETWORK_ERROR:return"Please check your internet connection and try again.";case ze.AUTHENTICATION_ERROR:return"Please log in to continue.";case ze.AUTHORIZATION_ERROR:return"You don't have permission to perform this action.";case ze.NOT_FOUND_ERROR:return"The requested item was not found.";case ze.VALIDATION_ERROR:return"Please check your input and try again.";case ze.BUSINESS_LOGIC_ERROR:return e.message||"This operation cannot be completed.";case ze.TIMEOUT_ERROR:return"The request took too long. Please try again.";case ze.RATE_LIMIT_ERROR:return"Too many requests. Please wait a moment and try again.";default:return"Something went wrong. Please try again or contact support if the problem persists."}},cy=async(e,n=3,r=1e3)=>{let i;for(let l=1;l<=n;l++)try{return await e()}catch(o){if(i=o,o.code===ze.VALIDATION_ERROR||o.code===ze.AUTHORIZATION_ERROR||o.code===ze.BUSINESS_LOGIC_ERROR)throw o;l<n&&(await new Promise(c=>setTimeout(c,r)),r*=2)}throw i},qf=(e,n="")=>async(...r)=>{try{return await e(...r)}catch(i){const l=Vn(i,n);throw qn(l,n),l}},M_=6048e5,MR=864e5,k_=6e4,vh=36e5,dy=Symbol.for("constructDateFrom");function Qn(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&dy in e?e[dy](n):e instanceof Date?new e.constructor(n):new Date(n)}function lt(e,n){return Qn(n||e,e)}function kR(e,n,r){const i=lt(e,r?.in);return isNaN(n)?Qn(e,NaN):(n&&i.setDate(i.getDate()+n),i)}function UR(e,n,r){return Qn(e,+lt(e)+n)}function LR(e,n,r){return UR(e,n*vh)}let PR={};function Hu(){return PR}function ns(e,n){const r=Hu(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=lt(e,n?.in),o=l.getDay(),c=(o<i?7:0)+o-i;return l.setDate(l.getDate()-c),l.setHours(0,0,0,0),l}function xu(e,n){return ns(e,{...n,weekStartsOn:1})}function U_(e,n){const r=lt(e,n?.in),i=r.getFullYear(),l=Qn(r,0);l.setFullYear(i+1,0,4),l.setHours(0,0,0,0);const o=xu(l),c=Qn(r,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const f=xu(c);return r.getTime()>=o.getTime()?i+1:r.getTime()>=f.getTime()?i:i-1}function fy(e){const n=lt(e),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+e-+r}function L_(e,...n){const r=Qn.bind(null,n.find(i=>typeof i=="object"));return n.map(r)}function jl(e,n){const r=lt(e,n?.in);return r.setHours(0,0,0,0),r}function zR(e,n,r){const[i,l]=L_(r?.in,e,n),o=jl(i),c=jl(l),f=+o-fy(o),h=+c-fy(c);return Math.round((f-h)/MR)}function FR(e,n){const r=U_(e,n),i=Qn(e,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),xu(i)}function HR(e,n,r){const[i,l]=L_(r?.in,e,n);return+jl(i)==+jl(l)}function IR(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $R(e){return!(!IR(e)&&typeof e!="number"||isNaN(+lt(e)))}function BR(e,n){const r=lt(e,n?.in);return r.setHours(23,59,59,999),r}function VR(e,n){const r=lt(e,n?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function qR(e,n){const r=n?.weekStartsOn,i=lt(e,n?.in),l=i.getDay(),o=(l<r?-7:0)+6-(l-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const GR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},YR=(e,n,r)=>{let i;const l=GR[e];return typeof l=="string"?i=l:n===1?i=l.one:i=l.other.replace("{{count}}",n.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function yf(e){return(n={})=>{const r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const KR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},WR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QR={date:yf({formats:KR,defaultWidth:"full"}),time:yf({formats:XR,defaultWidth:"full"}),dateTime:yf({formats:WR,defaultWidth:"full"})},ZR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JR=(e,n,r,i)=>ZR[e];function dl(e){return(n,r)=>{const i=r?.context?String(r.context):"standalone";let l;if(i==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,f=r?.width?String(r.width):c;l=e.formattingValues[f]||e.formattingValues[c]}else{const c=e.defaultWidth,f=r?.width?String(r.width):e.defaultWidth;l=e.values[f]||e.values[c]}const o=e.argumentCallback?e.argumentCallback(n):n;return l[o]}}const eC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sC=(e,n)=>{const r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},lC={ordinalNumber:sC,era:dl({values:eC,defaultWidth:"wide"}),quarter:dl({values:tC,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dl({values:nC,defaultWidth:"wide"}),day:dl({values:aC,defaultWidth:"wide"}),dayPeriod:dl({values:rC,defaultWidth:"wide",formattingValues:iC,defaultFormattingWidth:"wide"})};function fl(e){return(n,r={})=>{const i=r.width,l=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],o=n.match(l);if(!o)return null;const c=o[0],f=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(f)?uC(f,y=>y.test(c)):oC(f,y=>y.test(c));let m;m=e.valueCallback?e.valueCallback(h):h,m=r.valueCallback?r.valueCallback(m):m;const v=n.slice(c.length);return{value:m,rest:v}}}function oC(e,n){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n(e[r]))return r}function uC(e,n){for(let r=0;r<e.length;r++)if(n(e[r]))return r}function cC(e){return(n,r={})=>{const i=n.match(e.matchPattern);if(!i)return null;const l=i[0],o=n.match(e.parsePattern);if(!o)return null;let c=e.valueCallback?e.valueCallback(o[0]):o[0];c=r.valueCallback?r.valueCallback(c):c;const f=n.slice(l.length);return{value:c,rest:f}}}const dC=/^(\d+)(th|st|nd|rd)?/i,fC=/\d+/i,hC={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gC={any:[/^b/i,/^(a|c)/i]},mC={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pC={any:[/1/i,/2/i,/3/i,/4/i]},vC={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yC={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_C={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SC={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},EC={ordinalNumber:cC({matchPattern:dC,parsePattern:fC,valueCallback:e=>parseInt(e,10)}),era:fl({matchPatterns:hC,defaultMatchWidth:"wide",parsePatterns:gC,defaultParseWidth:"any"}),quarter:fl({matchPatterns:mC,defaultMatchWidth:"wide",parsePatterns:pC,defaultParseWidth:"any",valueCallback:e=>e+1}),month:fl({matchPatterns:vC,defaultMatchWidth:"wide",parsePatterns:yC,defaultParseWidth:"any"}),day:fl({matchPatterns:_C,defaultMatchWidth:"wide",parsePatterns:bC,defaultParseWidth:"any"}),dayPeriod:fl({matchPatterns:wC,defaultMatchWidth:"any",parsePatterns:SC,defaultParseWidth:"any"})},xC={code:"en-US",formatDistance:YR,formatLong:QR,formatRelative:JR,localize:lC,match:EC,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RC(e,n){const r=lt(e,n?.in);return zR(r,VR(r))+1}function CC(e,n){const r=lt(e,n?.in),i=+xu(r)-+FR(r);return Math.round(i/M_)+1}function P_(e,n){const r=lt(e,n?.in),i=r.getFullYear(),l=Hu(),o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,c=Qn(n?.in||e,0);c.setFullYear(i+1,0,o),c.setHours(0,0,0,0);const f=ns(c,n),h=Qn(n?.in||e,0);h.setFullYear(i,0,o),h.setHours(0,0,0,0);const m=ns(h,n);return+r>=+f?i+1:+r>=+m?i:i-1}function TC(e,n){const r=Hu(),i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=P_(e,n),o=Qn(n?.in||e,0);return o.setFullYear(l,0,i),o.setHours(0,0,0,0),ns(o,n)}function AC(e,n){const r=lt(e,n?.in),i=+ns(r,n)-+TC(r,n);return Math.round(i/M_)+1}function Ye(e,n){const r=e<0?"-":"",i=Math.abs(e).toString().padStart(n,"0");return r+i}const pr={y(e,n){const r=e.getFullYear(),i=r>0?r:1-r;return Ye(n==="yy"?i%100:i,n.length)},M(e,n){const r=e.getMonth();return n==="M"?String(r+1):Ye(r+1,2)},d(e,n){return Ye(e.getDate(),n.length)},a(e,n){const r=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,n){return Ye(e.getHours()%12||12,n.length)},H(e,n){return Ye(e.getHours(),n.length)},m(e,n){return Ye(e.getMinutes(),n.length)},s(e,n){return Ye(e.getSeconds(),n.length)},S(e,n){const r=n.length,i=e.getMilliseconds(),l=Math.trunc(i*Math.pow(10,r-3));return Ye(l,n.length)}},Ki={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hy={G:function(e,n,r){const i=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){const i=e.getFullYear(),l=i>0?i:1-i;return r.ordinalNumber(l,{unit:"year"})}return pr.y(e,n)},Y:function(e,n,r,i){const l=P_(e,i),o=l>0?l:1-l;if(n==="YY"){const c=o%100;return Ye(c,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ye(o,n.length)},R:function(e,n){const r=U_(e);return Ye(r,n.length)},u:function(e,n){const r=e.getFullYear();return Ye(r,n.length)},Q:function(e,n,r){const i=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Ye(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){const i=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Ye(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){const i=e.getMonth();switch(n){case"M":case"MM":return pr.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){const i=e.getMonth();switch(n){case"L":return String(i+1);case"LL":return Ye(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){const l=AC(e,i);return n==="wo"?r.ordinalNumber(l,{unit:"week"}):Ye(l,n.length)},I:function(e,n,r){const i=CC(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Ye(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):pr.d(e,n)},D:function(e,n,r){const i=RC(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Ye(i,n.length)},E:function(e,n,r){const i=e.getDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){const l=e.getDay(),o=(l-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Ye(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(l,{width:"short",context:"formatting"});case"eeee":default:return r.day(l,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){const l=e.getDay(),o=(l-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Ye(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(l,{width:"narrow",context:"standalone"});case"cccccc":return r.day(l,{width:"short",context:"standalone"});case"cccc":default:return r.day(l,{width:"wide",context:"standalone"})}},i:function(e,n,r){const i=e.getDay(),l=i===0?7:i;switch(n){case"i":return String(l);case"ii":return Ye(l,n.length);case"io":return r.ordinalNumber(l,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){const l=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,n,r){const i=e.getHours();let l;switch(i===12?l=Ki.noon:i===0?l=Ki.midnight:l=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,n,r){const i=e.getHours();let l;switch(i>=17?l=Ki.evening:i>=12?l=Ki.afternoon:i>=4?l=Ki.morning:l=Ki.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){let i=e.getHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return pr.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):pr.H(e,n)},K:function(e,n,r){const i=e.getHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Ye(i,n.length)},k:function(e,n,r){let i=e.getHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Ye(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):pr.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):pr.s(e,n)},S:function(e,n){return pr.S(e,n)},X:function(e,n,r){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return my(i);case"XXXX":case"XX":return Yr(i);case"XXXXX":case"XXX":default:return Yr(i,":")}},x:function(e,n,r){const i=e.getTimezoneOffset();switch(n){case"x":return my(i);case"xxxx":case"xx":return Yr(i);case"xxxxx":case"xxx":default:return Yr(i,":")}},O:function(e,n,r){const i=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+gy(i,":");case"OOOO":default:return"GMT"+Yr(i,":")}},z:function(e,n,r){const i=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+gy(i,":");case"zzzz":default:return"GMT"+Yr(i,":")}},t:function(e,n,r){const i=Math.trunc(+e/1e3);return Ye(i,n.length)},T:function(e,n,r){return Ye(+e,n.length)}};function gy(e,n=""){const r=e>0?"-":"+",i=Math.abs(e),l=Math.trunc(i/60),o=i%60;return o===0?r+String(l):r+String(l)+n+Ye(o,2)}function my(e,n){return e%60===0?(e>0?"-":"+")+Ye(Math.abs(e)/60,2):Yr(e,n)}function Yr(e,n=""){const r=e>0?"-":"+",i=Math.abs(e),l=Ye(Math.trunc(i/60),2),o=Ye(i%60,2);return r+l+n+o}const py=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},z_=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},OC=(e,n)=>{const r=e.match(/(P+)(p+)?/)||[],i=r[1],l=r[2];if(!l)return py(e,n);let o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",py(i,n)).replace("{{time}}",z_(l,n))},DC={p:z_,P:OC},NC=/^D+$/,jC=/^Y+$/,MC=["D","DD","YY","YYYY"];function kC(e){return NC.test(e)}function UC(e){return jC.test(e)}function LC(e,n,r){const i=PC(e,n,r);if(console.warn(i),MC.includes(e))throw new RangeError(i)}function PC(e,n,r){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${i} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HC=/^'([^]*?)'?$/,IC=/''/g,$C=/[a-zA-Z]/;function BC(e,n,r){const i=Hu(),l=i.locale??xC,o=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f=lt(e,r?.in);if(!$R(f))throw new RangeError("Invalid time value");let h=n.match(FC).map(v=>{const y=v[0];if(y==="p"||y==="P"){const _=DC[y];return _(v,l.formatLong)}return v}).join("").match(zC).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:VC(v)};if(hy[y])return{isToken:!0,value:v};if(y.match($C))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});l.localize.preprocessor&&(h=l.localize.preprocessor(f,h));const m={firstWeekContainsDate:o,weekStartsOn:c,locale:l};return h.map(v=>{if(!v.isToken)return v.value;const y=v.value;(UC(y)||kC(y))&&LC(y,n,String(e));const _=hy[y[0]];return _(f,y,l.localize,m)}).join("")}function VC(e){const n=e.match(HC);return n?n[1].replace(IC,"'"):e}function qC(e,n){return+lt(e)>+lt(n)}function GC(e,n){return+lt(e)<+lt(n)}function du(e,n){const r=()=>Qn(n?.in,NaN),l=WC(e);let o;if(l.date){const m=QC(l.date,2);o=ZC(m.restDateString,m.year)}if(!o||isNaN(+o))return r();const c=+o;let f=0,h;if(l.time&&(f=JC(l.time),isNaN(f)))return r();if(l.timezone){if(h=eT(l.timezone),isNaN(h))return r()}else{const m=new Date(c+f),v=lt(0,n?.in);return v.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),v.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),v}return lt(c+f+h,n?.in)}const fu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},YC=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,KC=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,XC=/^([+-])(\d{2})(?::?(\d{2}))?$/;function WC(e){const n={},r=e.split(fu.dateTimeDelimiter);let i;if(r.length>2)return n;if(/:/.test(r[0])?i=r[0]:(n.date=r[0],i=r[1],fu.timeZoneDelimiter.test(n.date)&&(n.date=e.split(fu.timeZoneDelimiter)[0],i=e.substr(n.date.length,e.length))),i){const l=fu.timezone.exec(i);l?(n.time=i.replace(l[1],""),n.timezone=l[1]):n.time=i}return n}function QC(e,n){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),i=e.match(r);if(!i)return{year:NaN,restDateString:""};const l=i[1]?parseInt(i[1]):null,o=i[2]?parseInt(i[2]):null;return{year:o===null?l:o*100,restDateString:e.slice((i[1]||i[2]).length)}}function ZC(e,n){if(n===null)return new Date(NaN);const r=e.match(YC);if(!r)return new Date(NaN);const i=!!r[4],l=hl(r[1]),o=hl(r[2])-1,c=hl(r[3]),f=hl(r[4]),h=hl(r[5])-1;if(i)return iT(n,f,h)?tT(n,f,h):new Date(NaN);{const m=new Date(0);return!aT(n,o,c)||!rT(n,l)?new Date(NaN):(m.setUTCFullYear(n,o,Math.max(l,c)),m)}}function hl(e){return e?parseInt(e):1}function JC(e){const n=e.match(KC);if(!n)return NaN;const r=_f(n[1]),i=_f(n[2]),l=_f(n[3]);return sT(r,i,l)?r*vh+i*k_+l*1e3:NaN}function _f(e){return e&&parseFloat(e.replace(",","."))||0}function eT(e){if(e==="Z")return 0;const n=e.match(XC);if(!n)return 0;const r=n[1]==="+"?-1:1,i=parseInt(n[2]),l=n[3]&&parseInt(n[3])||0;return lT(i,l)?r*(i*vh+l*k_):NaN}function tT(e,n,r){const i=new Date(0);i.setUTCFullYear(e,0,4);const l=i.getUTCDay()||7,o=(n-1)*7+r+1-l;return i.setUTCDate(i.getUTCDate()+o),i}const nT=[31,null,31,30,31,30,31,31,30,31,30,31];function F_(e){return e%400===0||e%4===0&&e%100!==0}function aT(e,n,r){return n>=0&&n<=11&&r>=1&&r<=(nT[n]||(F_(e)?29:28))}function rT(e,n){return n>=1&&n<=(F_(e)?366:365)}function iT(e,n,r){return n>=1&&n<=53&&r>=0&&r<=6}function sT(e,n,r){return e===24?n===0&&r===0:r>=0&&r<60&&n>=0&&n<60&&e>=0&&e<25}function lT(e,n){return n>=0&&n<=59}function vy(e,n,r){const i=lt(e,r?.in);return i.setHours(n),i}function yy(e,n,r){const i=lt(e,r?.in);return i.setMilliseconds(n),i}function _y(e,n,r){const i=lt(e,r?.in);return i.setMinutes(n),i}function by(e,n,r){const i=lt(e,r?.in);return i.setSeconds(n),i}function Gt(e){return BC(e,"yyyy-MM-dd")}function oT(e,n,r){if(!e.scheduled_start_time||!e.scheduled_end_time)return!1;const i=du(e.scheduled_start_time),l=du(e.scheduled_end_time),o=yy(by(_y(vy(du(n),r),0),0),0),c=yy(by(_y(vy(du(n),r+1),0),0),0);return GC(i,c)&&qC(l,o)}function H_(e){return ns(e,{weekStartsOn:0})}function uT(e){return qR(e,{weekStartsOn:0})}function a1(e){return jl(e)}function r1(e){return BR(e)}function i1(e,n){return HR(e,n)}function wy(e,n){return LR(e,n)}function Ml(e,n){return kR(e,n)}class cT{async init(){try{const{error:n}=await et.from("machines").select("count").limit(1);if(n)throw new Error(`API initialization failed: ${n.message}`);return!0}catch(n){throw n}}async getMachines(){return qf(async()=>{const{data:n,error:r}=await et.from("machines").select("*").order("machine_name");if(r)throw r;return n||[]},"getMachines")()}async addMachine(n){try{const{data:r,error:i}=await et.from("machines").insert([n]).select().single();if(i)throw i;return r}catch(r){throw new Error(`Failed to add machine: ${qt(r)}`)}}async updateMachine(n,r){try{const{data:i,error:l}=await et.from("machines").update(r).eq("id",n).select().single();if(l)throw l;return i}catch(i){throw new Error(`Failed to update machine: ${qt(i)}`)}}async removeMachine(n){try{const{error:r}=await et.from("machines").delete().eq("id",n);if(r)throw r;return!0}catch(r){throw new Error(`Failed to remove machine: ${qt(r)}`)}}async getOdpOrders(){try{const{data:n,error:r}=await et.from("odp_orders").select("*").order("created_at",{ascending:!1});if(r)throw r;return n||[]}catch(n){throw new Error(`Failed to fetch ODP orders: ${qt(n)}`)}}async addOdpOrder(n){try{const{data:r,error:i}=await et.from("odp_orders").insert([n]).select().single();if(i)throw i;return r}catch(r){throw new Error(`Failed to add ODP order: ${qt(r)}`)}}async updateOdpOrder(n,r){try{const{data:i,error:l}=await et.from("odp_orders").update(r).eq("id",n).select().single();if(l)throw l;return i}catch(i){throw new Error(`Failed to update ODP order: ${qt(i)}`)}}async removeOdpOrder(n){try{const{error:r}=await et.from("odp_orders").delete().eq("id",n);if(r)throw r;return!0}catch(r){throw new Error(`Failed to remove ODP order: ${qt(r)}`)}}async getPhases(){try{const{data:n,error:r}=await et.from("phases").select("*").order("name");if(r)throw r;return n||[]}catch(n){throw new Error(`Failed to fetch phases: ${qt(n)}`)}}async addPhase(n){try{const{data:r,error:i}=await et.from("phases").insert([n]).select().single();if(i)throw i;return r}catch(r){throw new Error(`Failed to add phase: ${qt(r)}`)}}async updatePhase(n,r){try{const{data:i,error:l}=await et.from("phases").update(r).eq("id",n).select().single();if(l)throw l;return i}catch(i){throw new Error(`Failed to update phase: ${qt(i)}`)}}async removePhase(n){try{const{error:r}=await et.from("phases").delete().eq("id",n);if(r)throw r;return!0}catch(r){throw new Error(`Failed to remove phase: ${qt(r)}`)}}async getMachineAvailabilityForDateRange(n,r,i){try{const{data:l,error:o}=await et.from("machine_availability").select("*").eq("machine_id",n).gte("date",r).lte("date",i).order("date");if(o)throw o;return l||[]}catch(l){throw new Error(`Failed to fetch machine availability for date range: ${qt(l)}`)}}async getMachineAvailabilityForDate(n,r){try{const{data:i,error:l}=await et.from("machine_availability").select("*").eq("machine_id",n).eq("date",r).maybeSingle();if(l)throw l;return i||null}catch(i){throw new Error(`Failed to fetch machine availability: ${qt(i)}`)}}async getMachineAvailability(n,r){try{return(await this.getMachineAvailabilityForDate(n,r))?.unavailable_hours||[]}catch{return[]}}async setMachineAvailability(n,r,i){try{const{data:l,error:o}=await et.from("machine_availability").upsert([{machine_id:n,date:r,unavailable_hours:i}],{onConflict:"machine_id,date"}).select().single();if(o)throw o;return l}catch(l){throw new Error(`Failed to set machine availability: ${qt(l)}`)}}async getMachineAvailabilityForDateAllMachines(n){try{const{data:r,error:i}=await et.from("machine_availability").select("*").eq("date",n);if(i)throw i;return r||[]}catch(r){throw new Error(`Failed to fetch machine availability for all machines: ${qt(r)}`)}}async getEventsByDate(n){try{const{data:r,error:i}=await et.from("machine_availability").select("*").eq("date",n);if(i)throw i;return r||[]}catch(r){throw new Error(`Failed to fetch events by date: ${qt(r)}`)}}async setUnavailableHoursForRange(n,r,i,l,o){try{const c=parseInt(l.split(":")[0]),f=parseInt(o.split(":")[0]),h=[];for(let w=c;w<f;w++)h.push(w.toString());const m=new Date(r),v=new Date(i);let y=new Date(m);const _=[];for(;y<=v;){const w=Gt(y),R=(await this.getMachineAvailabilityForDate(n,w))?.unavailable_hours||[],C=[...new Set([...R,...h])].sort((O,A)=>parseInt(O)-parseInt(A)),T=await this.setMachineAvailability(n,w,C);_.push(T),y=Ml(y,1)}return _}catch(c){throw new Error(`Failed to set unavailable hours for range: ${qt(c)}`)}}setupRealtimeSubscriptions(n,r,i){return et.channel("table-db-changes").on("postgres_changes",{event:"*",schema:"public",table:"odp_orders"},n).on("postgres_changes",{event:"*",schema:"public",table:"machines"},r).on("postgres_changes",{event:"*",schema:"public",table:"phases"},i).subscribe(o=>{})}cleanupRealtimeSubscriptions(n){if(n)try{n.unsubscribe()}catch{}}}const Qe=new cT,Ne=ls((e,n)=>({isLoading:!1,isInitialized:!1,selectedWorkCenter:Re.BOTH,alert:{message:"",type:"info",isVisible:!1},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"},getLoadingState:()=>n().isLoading,getInitializationState:()=>n().isInitialized,getSelectedWorkCenter:()=>n().selectedWorkCenter,getAlert:()=>n().alert,getConfirmDialog:()=>n().confirmDialog,setLoading:r=>e({isLoading:r}),setInitialized:r=>e({isInitialized:r}),setSelectedWorkCenter:r=>e({selectedWorkCenter:r}),showAlert:(r,i="info")=>e({alert:{message:r,type:i,isVisible:!0}}),hideAlert:()=>e({alert:{message:"",type:"info",isVisible:!1}}),showConfirmDialog:(r,i,l,o="danger")=>e({confirmDialog:{isOpen:!0,title:r,message:i,onConfirm:l,type:o}}),hideConfirmDialog:()=>e({confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}}),reset:()=>e({isLoading:!1,isInitialized:!1,selectedWorkCenter:Re.BOTH,alert:{message:"",type:"info",isVisible:!1},confirmDialog:{isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}})})),dT=(e,n)=>{const r=ph("Machine");return{addMachine:async i=>{try{const{selectedWorkCenter:l}=Ne.getState();if(l&&l!==Re.BOTH&&i.work_center&&i.work_center!==l)throw new Error(`Cannot add Machine with different work center. Selected: ${l}, Item: ${i.work_center}`);const o=await Qe.addMachine(i);return e(c=>({machines:[...c.machines,o]})),Ne.getState().showAlert(`Machine "${i?.machine_name||"Unknown"}" added successfully`,"success"),o}catch(l){const o=r(l);throw Ne.getState().showAlert(o.message,"error"),o}},updateMachine:async(i,l)=>{try{const o=n().machines.find(f=>f.id===i),c=await Qe.updateMachine(i,l);return e(f=>({machines:f.machines.map(h=>h.id===i?{...h,...c}:h)})),Ne.getState().showAlert(`Machine "${o?.machine_name||"Unknown"}" updated successfully`,"success"),c}catch(o){const c=r(o);throw Ne.getState().showAlert(c.message,"error"),c}},removeMachine:async i=>{try{const l=n().machines.find(o=>o.id===i);return await Qe.removeMachine(i),e(o=>({machines:o.machines.filter(c=>c.id!==i)})),Ne.getState().showAlert(`Machine "${l?.machine_name||"Unknown"}" deleted successfully`,"success"),!0}catch(l){const o=r(l);throw Ne.getState().showAlert(o.message,"error"),o}}}},Ht=ls((e,n)=>({machines:[],getMachines:()=>n().machines,getMachineById:r=>n().machines.find(i=>i.id===r),getMachinesByWorkCenter:r=>r===Re.BOTH?n().machines:n().machines.filter(i=>i.work_center===r),setMachines:r=>e({machines:r||[]}),...dT(e,n),cleanupDuplicateMachines:()=>{const r=n(),i=[],l=new Set;r.machines.forEach(o=>{l.has(o.id)||(l.add(o.id),i.push(o))}),e({machines:i})},reset:()=>e({machines:[]})})),fT=(e,n)=>{const r=ph("OdpOrder");return{addOdpOrder:async i=>{try{const{selectedWorkCenter:l}=Ne.getState();if(l&&l!==Re.BOTH&&i.work_center&&i.work_center!==l)throw new Error(`Cannot add ODP Order with different work center. Selected: ${l}, Item: ${i.work_center}`);const o=await Qe.addOdpOrder(i);return e(c=>({odpOrders:[...c.odpOrders,o]})),Ne.getState().showAlert(`ODP Order "${i?.odp_number||"Unknown"}" added successfully`,"success"),o}catch(l){const o=r(l);throw Ne.getState().showAlert(o.message,"error"),o}},updateOdpOrder:async(i,l)=>{try{const o=n().odpOrders.find(f=>f.id===i),c=await Qe.updateOdpOrder(i,l);return e(f=>({odpOrders:f.odpOrders.map(h=>h.id===i?{...h,...c}:h)})),Ne.getState().showAlert(`ODP Order "${o?.odp_number||"Unknown"}" updated successfully`,"success"),c}catch(o){const c=r(o);throw Ne.getState().showAlert(c.message,"error"),c}},removeOdpOrder:async i=>{try{const l=n().odpOrders.find(o=>o.id===i);return await Qe.removeOdpOrder(i),e(o=>({odpOrders:o.odpOrders.filter(c=>c.id!==i)})),Ne.getState().showAlert(`ODP Order "${l?.odp_number||"Unknown"}" deleted successfully`,"success"),!0}catch(l){const o=r(l);throw Ne.getState().showAlert(o.message,"error"),o}}}},Nt=ls((e,n)=>({odpOrders:[],getOdpOrders:()=>n().odpOrders,getOdpOrderById:r=>n().odpOrders.find(i=>i.id===r),getOdpOrdersByWorkCenter:r=>r===Re.BOTH?n().odpOrders:n().odpOrders.filter(i=>i.work_center===r),getScheduledOrders:()=>n().odpOrders.filter(r=>r.status==="SCHEDULED"),getUnscheduledOrders:()=>n().odpOrders.filter(r=>r.status==="NOT SCHEDULED"),setOdpOrders:r=>e({odpOrders:r||[]}),...fT(e,n),cleanupDuplicateOrders:()=>{const r=n(),i=[],l=new Set;r.odpOrders.forEach(o=>{l.has(o.id)||(l.add(o.id),i.push(o))}),e({odpOrders:i})},reset:()=>e({odpOrders:[]})})),hT=(e,n)=>{const r=ph("Phase");return{addPhase:async i=>{try{const{selectedWorkCenter:l}=Ne.getState();if(l&&l!==Re.BOTH&&i.work_center&&i.work_center!==l)throw new Error(`Cannot add Phase with different work center. Selected: ${l}, Item: ${i.work_center}`);const o=await Qe.addPhase(i);return e(c=>({phases:[...c.phases,o]})),Ne.getState().showAlert(`Phase "${i?.name||"Unknown"}" added successfully`,"success"),o}catch(l){const o=r(l);throw Ne.getState().showAlert(o.message,"error"),o}},updatePhase:async(i,l)=>{try{const o=n().phases.find(f=>f.id===i),c=await Qe.updatePhase(i,l);return e(f=>({phases:f.phases.map(h=>h.id===i?{...h,...c}:h)})),Ne.getState().showAlert(`Phase "${o?.name||"Unknown"}" updated successfully`,"success"),c}catch(o){const c=r(o);throw Ne.getState().showAlert(c.message,"error"),c}},removePhase:async i=>{try{const l=n().phases.find(o=>o.id===i);return await Qe.removePhase(i),e(o=>({phases:o.phases.filter(c=>c.id!==i)})),Ne.getState().showAlert(`Phase "${l?.name||"Unknown"}" deleted successfully`,"success"),!0}catch(l){const o=r(l);throw Ne.getState().showAlert(o.message,"error"),o}}}},Gn=ls((e,n)=>({phases:[],getPhases:()=>n().phases,getPhaseById:r=>n().phases.find(i=>i.id===r),getPhasesByWorkCenter:r=>r===Re.BOTH?n().phases:n().phases.filter(i=>i.work_center===r),setPhases:r=>e({phases:r||[]}),...hT(e,n),cleanupDuplicatePhases:()=>{const r=n(),i=[],l=new Set;r.phases.forEach(o=>{l.has(o.id)||(l.add(o.id),i.push(o))}),e({phases:i})},reset:()=>e({phases:[]})})),Ji=ls((e,n)=>({machineAvailability:{},getMachineAvailability:()=>n().machineAvailability,setMachineAvailability:r=>e({machineAvailability:r}),scheduleTaskFromSlot:async(r,i,l,o,c)=>{try{const{getOdpOrderById:f}=Nt.getState(),{getMachineById:h}=Ht.getState(),m=f(r),v=h(i.id);if(!m||!v)return{error:"Task or machine not found"};const y=new Date(l);y.setHours(o,c,0,0);const _=m.time_remaining||m.duration||1,w=wy(y,_),S={machine:i.id,start_time:y.toISOString(),end_time:w.toISOString()};return await n().scheduleTask(r,S)}catch{return{error:"An error occurred during scheduling"}}},rescheduleTaskToSlot:async(r,i,l,o,c)=>{try{const{getOdpOrderById:f}=Nt.getState(),{getMachineById:h}=Ht.getState(),m=f(r),v=h(i.id);if(!m||!v)return{error:"Event or machine not found"};const y=new Date(l);y.setHours(o,c,0,0);const _=m.time_remaining||m.duration||1,w=wy(y,_),S={machine:i.id,start_time:y.toISOString(),end_time:w.toISOString()};return await n().scheduleTask(r,S)}catch{return{error:"An error occurred during rescheduling"}}},validateSlotAvailability:async(r,i,l,o)=>{try{const c=Gt(i);if(await n().isTimeSlotUnavailable(r.id,c,l))return{error:"Cannot schedule task on unavailable time slot"};const{getOdpOrders:h}=Nt.getState(),m=new Date(i);m.setHours(l,o,0,0);const v=new Date(m.getTime()+3600*1e3),y=h().filter(_=>_.scheduled_machine_id===r.id&&_.status==="SCHEDULED"&&_.scheduled_start_time);for(const _ of y){const w=new Date(_.scheduled_start_time),S=_.time_remaining||_.duration||1,R=new Date(w.getTime()+S*60*60*1e3);if(m<R&&v>w)return{error:"Cannot schedule task on occupied time slot"}}return{success:!0}}catch{return{error:"Error validating slot availability"}}},scheduleTask:async(r,i)=>{const{getOdpOrderById:l}=Nt.getState(),{getMachineById:o}=Ht.getState(),c=l(r),f=o(i.machine);if(c&&f&&c.work_center&&f.work_center&&c.work_center!==f.work_center)return{error:`Work center mismatch: task requires '${c.work_center}' but machine is '${f.work_center}'`};const{getOdpOrders:h}=Nt.getState(),m=h().filter(C=>C.scheduled_machine_id===i.machine&&C.status==="SCHEDULED"&&C.id!==r),v=new Date(i.start_time),y=new Date(i.end_time);for(const C of m){const T=new Date(C.scheduled_start_time),O=C.time_remaining||C.duration||1,A=new Date(T.getTime()+O*60*60*1e3);if(v<A&&y>T)return{error:`Task overlaps with existing scheduled task: ${C.odp_number}`}}const _=Gt(v),w=n().machineAvailability[_];if(w&&Array.isArray(w)){const C=w.find(T=>T.machine_id===i.machine);if(C&&C.unavailable_hours&&Array.isArray(C.unavailable_hours)){const T=new Date(v.getFullYear(),v.getMonth(),v.getDate());for(const O of C.unavailable_hours){const A=new Date(T.getTime()+parseInt(O)*60*60*1e3),B=new Date(A.getTime()+3600*1e3);if(v<B&&y>A)return{error:`Task overlaps with unavailable slot at hour ${O}:00`}}}}const S={scheduled_machine_id:i.machine,scheduled_start_time:i.start_time,scheduled_end_time:i.end_time,production_start:i.start_time,production_end:i.end_time,color:i.color,status:"SCHEDULED"},{updateOdpOrder:R}=Nt.getState();return await R(r,S),{success:!0}},unscheduleTask:async r=>{const i={scheduled_machine_id:null,scheduled_start_time:null,scheduled_end_time:null,production_start:null,production_end:null,color:null,status:"NOT SCHEDULED"},{updateOdpOrder:l}=Nt.getState();await l(r,i)},loadMachineAvailabilityForDateRange:async(r,i,l)=>{const o=i instanceof Date?Gt(i):i,c=l instanceof Date?Gt(l):l,f=`${r}_${o}_${c}`,{machineAvailability:h}=n();if(h[f])return h[f];e(m=>({machineAvailability:{...m.machineAvailability,[f]:{_loading:!0}}}));try{const m=await Qe.getMachineAvailabilityForDateRange(r,o,c);return e(v=>({machineAvailability:{...v.machineAvailability,[f]:m||[]}})),m}catch(m){throw m}},getMachineAvailabilityForDate:async(r,i)=>{try{return await Qe.getMachineAvailabilityForDate(r,i)}catch{return[]}},setMachineAvailability:async(r,i,l)=>{try{const{getOdpOrders:o}=Nt.getState(),c=o().filter(v=>v.scheduled_machine_id===r&&v.status==="SCHEDULED"&&v.scheduled_start_time&&v.scheduled_end_time),f=new Date(i),h=new Date(f.getFullYear(),f.getMonth(),f.getDate()),m=new Date(h.getTime()+1440*60*1e3);for(const v of c){const y=new Date(v.scheduled_start_time),_=new Date(v.scheduled_end_time);if(y<m&&_>h)for(const w of l){const S=new Date(h.getTime()+parseInt(w)*60*60*1e3),R=new Date(S.getTime()+3600*1e3);if(S<_&&R>y)throw new Error(`Cannot set machine unavailable during scheduled task: ${v.odp_number}`)}}return await Qe.setMachineAvailability(r,i,l),e(v=>{const y={...v.machineAvailability};y[i]||(y[i]=[]);const _=y[i].find(w=>w.machine_id===r);return _?_.unavailable_hours=l:y[i].push({machine_id:r,date:i,unavailable_hours:l}),{machineAvailability:y}}),!0}catch(o){throw o}},toggleMachineHourAvailability:async(r,i,l)=>{try{const o=await n().getMachineAvailability(r,i),c=l.toString();let f;return o.includes(c)?f=o.filter(h=>h!==c):f=[...o,c].sort((h,m)=>parseInt(h)-parseInt(m)),await Qe.setMachineAvailability(r,i,f),e(h=>{const m={...h.machineAvailability};m[i]||(m[i]=[]);const v=m[i].find(y=>y.machine_id===r);return v?v.unavailable_hours=f:m[i].push({machine_id:r,date:i,unavailable_hours:f}),{machineAvailability:m}}),!0}catch(o){throw o}},loadMachineAvailabilityForDate:async r=>{const{machineAvailability:i}=n();if(!i[r]?._loading&&!(i[r]&&i[r].length>=0)){e(l=>({machineAvailability:{...l.machineAvailability,[r]:{_loading:!0}}}));try{const l=await Qe.getMachineAvailabilityForDateAllMachines(r);e(o=>({machineAvailability:{...o.machineAvailability,[r]:l||[]}}))}catch(l){throw e(o=>{const c={...o.machineAvailability};return c[r]&&delete c[r]._loading,{machineAvailability:c}}),l}}},loadMachineAvailabilityForMachine:async(r,i,l)=>{const o={};try{try{await Qe.getMachineAvailabilityForDate("test","2025-01-01")}catch{return{}}let c=new Date(i);for(;c<=l;){const f=Gt(c);n().machineAvailability[f]||await n().loadMachineAvailabilityForDate(f);const m=n().machineAvailability[f];if(Array.isArray(m)){const v=m.find(y=>y.machine_id===r);v&&(o[f]=v.unavailable_hours||[])}c=Ml(c,1)}return o}catch{return{}}},getMachineAvailability:async(r,i)=>{try{const l=n().machineAvailability[i];if(l&&Array.isArray(l)){const c=l.find(f=>f.machine_id===r);if(c)return c.unavailable_hours||[]}const o=await Qe.getMachineAvailabilityForDate(r,i);if(o){const c=(o.unavailable_hours||[]).map(f=>f.toString());return e(f=>{const h={...f.machineAvailability};h[i]||(h[i]=[]);const m=h[i].find(v=>v.machine_id===r);return m?m.unavailable_hours=c:h[i].push({machine_id:r,date:i,unavailable_hours:c}),{machineAvailability:h}}),c}return[]}catch{return[]}},isTimeSlotUnavailable:async(r,i,l)=>(await n().getMachineAvailability(r,i)).includes(l.toString()),initializeEmptyMachineAvailability:()=>{const{machines:r}=Ht.getState(),{machineAvailability:i}=n(),l={...i};r.forEach(o=>{l[o.id]||(l[o.id]={})}),e({machineAvailability:l})},getEventsByDate:async r=>{try{return await Qe.getEventsByDate(r)}catch{return[]}},setMachineUnavailability:async(r,i,l,o,c)=>{try{const f=await Qe.setUnavailableHoursForRange(r,i,l,o,c),h=new Date(i),m=new Date(l),v=await n().loadMachineAvailabilityForDateRange(r,h,m);return v&&Array.isArray(v)&&e(y=>{const _={...y.machineAvailability};return v.forEach(w=>{if(w.date&&w.unavailable_hours){const S=Gt(new Date(w.date));_[S]||(_[S]=[]);const R=_[S].find(C=>C.machine_id===r);R?R.unavailable_hours=w.unavailable_hours:_[S].push({machine_id:r,date:S,unavailable_hours:w.unavailable_hours})}}),{machineAvailability:_}}),f}catch(f){throw f}},isMachineAvailabilityAccessible:async()=>{try{return await Qe.getMachineAvailabilityForDateAllMachines("2025-01-01"),!0}catch{return!1}},getMachineAvailabilityStatus:async()=>{try{const r=await n().isMachineAvailabilityAccessible();return{accessible:r,message:r?"Table is accessible":"Table is not accessible - check permissions or table existence"}}catch(r){return{accessible:!1,message:`Error checking table: ${r.message}`}}},reset:()=>e({machineAvailability:{}})})),gT=(e,n)=>{const r=o=>{pT(o)},i=o=>{vT(o)},l=o=>{yT(o)};return Qe.setupRealtimeSubscriptions(r,i,l)},Gf=()=>{window.realtimeChannel&&(Qe.cleanupRealtimeSubscriptions(window.realtimeChannel),window.realtimeChannel=null)};let Sl=null;typeof window<"u"&&(Sl=()=>{Gf()},window.addEventListener("beforeunload",Sl));const mT=()=>{typeof window<"u"&&Sl&&(window.removeEventListener("beforeunload",Sl),Sl=null)},pT=(e,n,r)=>{const{eventType:i,newRecord:l,oldRecord:o}=e,{setOdpOrders:c,getOdpOrders:f}=Nt.getState();switch(i){case"INSERT":c([...f(),l]);break;case"UPDATE":c(f().map(h=>h.id===l.id?l:h));break;case"DELETE":c(f().filter(h=>h.id!==o.id));break}},vT=(e,n,r)=>{const{eventType:i,newRecord:l,oldRecord:o}=e,{setMachines:c,getMachines:f}=Ht.getState();switch(i){case"INSERT":c([...f(),l]);break;case"UPDATE":c(f().map(h=>h.id===l.id?l:h));break;case"DELETE":c(f().filter(h=>h.id!==o.id));break}},yT=(e,n,r)=>{const{eventType:i,newRecord:l,oldRecord:o}=e,{setPhases:c,getPhases:f}=Gn.getState();switch(i){case"INSERT":c([...f(),l]);break;case"UPDATE":c(f().map(h=>h.id===l.id?l:h));break;case"DELETE":c(f().filter(h=>h.id!==o.id));break}},Zr=ls((e,n)=>({init:async()=>{const{getInitializationState:r,setLoading:i,setInitialized:l,showAlert:o}=Ne.getState(),{setMachines:c}=Ht.getState(),{setOdpOrders:f}=Nt.getState(),{setPhases:h}=Gn.getState(),{initializeEmptyMachineAvailability:m}=Ji.getState();if(!r()){i(!0);try{let v=!1,y=0;const _=3;for(;!v&&y<_;)try{await Qe.init(),v=!0}catch(C){y++;const T=Vn(C,"API Service Initialization");if(y>=_)throw qn(T,"API Service Initialization - Final Attempt Failed"),i(!1),l(!1),o("Unable to connect to the server. Please check your internet connection and refresh the page.","error"),new en("API service initialization failed after multiple attempts","CRITICAL_INIT_ERROR",503,T,"Store Initialization");const O=Math.min(1e3*Math.pow(2,y-1),1e4);await new Promise(A=>setTimeout(A,O)),o(`Connection attempt ${y} failed. Retrying...`,"warning")}let w=[],S=[],R=[];try{w=await Qe.getMachines()}catch(C){const T=Vn(C,"Machines Data Fetch");qn(T,"Machines Data Fetch Failed"),o("Warning: Unable to load machine data. Some features may be limited.","warning")}try{S=await Qe.getOdpOrders()}catch(C){const T=Vn(C,"Orders Data Fetch");qn(T,"Orders Data Fetch Failed"),o("Warning: Unable to load order data. Some features may be limited.","warning")}try{R=await Qe.getPhases()}catch(C){const T=Vn(C,"Phases Data Fetch");qn(T,"Phases Data Fetch Failed"),o("Warning: Unable to load phase data. Some features may be limited.","warning")}try{const C=[],T=new Set;if(w&&w.length>0&&w.forEach(A=>{T.has(A.id)||(T.add(A.id),C.push(A))}),c(C),f(S||[]),h(R||[]),m(),!window.realtimeChannel)try{const A=gT(e,n);A&&(window.realtimeChannel=A)}catch(A){const B=Vn(A,"Real-time Subscriptions Setup");qn(B,"Real-time Subscriptions Setup Failed"),o("Warning: Real-time updates are not available. Data may not update automatically.","warning")}i(!1),l(!0);const O=C.length+(S?.length||0)+(R?.length||0);O>0?o(`Application initialized successfully. Loaded ${O} data items.`,"success"):o("Application initialized with limited functionality due to data loading issues.","warning")}catch(C){const T=Vn(C,"Data Processing");throw qn(T,"Data Processing Failed"),i(!1),l(!1),o("Failed to process application data. Please refresh the page.","error"),T}}catch(v){const y=v instanceof en?v:Vn(v,"Store Initialization");throw qn(y,"Store Initialization - Unexpected Error"),i(!1),l(!1),y.code==="CRITICAL_INIT_ERROR"?o("Critical initialization error. Please contact support if the problem persists.","error"):o("Application initialization failed. Please refresh the page or contact support.","error"),y}}},refreshData:async()=>{const{setLoading:r}=Ne.getState(),{setMachines:i}=Ht.getState(),{setOdpOrders:l}=Nt.getState(),{setPhases:o}=Gn.getState();r(!0);try{const[c,f,h]=await Promise.all([Qe.getMachines(),Qe.getOdpOrders(),Qe.getPhases()]);i(c||[]),l(f||[]),o(h||[]),r(!1)}catch{r(!1)}},debugData:()=>{const{getMachines:r}=Ht.getState(),{getOdpOrders:i}=Nt.getState(),{getPhases:l}=Gn.getState(),o=r().map(h=>h.id);o.filter((h,m)=>o.indexOf(h)!==m);const c=i().map(h=>h.id);c.filter((h,m)=>c.indexOf(h)!==m);const f=l().map(h=>h.id);f.filter((h,m)=>f.indexOf(h)!==m)},cleanupDuplicates:()=>{const{cleanupDuplicateMachines:r}=Ht.getState(),{cleanupDuplicateOrders:i}=Nt.getState(),{cleanupDuplicatePhases:l}=Gn.getState();r(),i(),l()},reset:()=>{Gf();const{reset:r}=Ht.getState(),{reset:i}=Nt.getState(),{reset:l}=Gn.getState(),{reset:o}=Ji.getState(),{reset:c}=Ne.getState();r(),i(),l(),o(),c()},cleanup:()=>{Gf(),mT()},getState:()=>{const{getMachines:r}=Ht.getState(),{getOdpOrders:i}=Nt.getState(),{getPhases:l}=Gn.getState(),{getMachineAvailability:o}=Ji.getState(),{getLoadingState:c,getInitializationState:f}=Ne.getState();return{machines:r(),odpOrders:i(),phases:l(),machineAvailability:o(),isLoading:c(),isInitialized:f()}}})),I_=()=>{const e=E.useCallback((h,m,v)=>{if(!h||!m||!v)return null;try{const{department:y}=h;if(y==="STAMPA"){const _=m/(h.v_stampa||1),w=h.t_setup_stampa||0,S=_+w,R=S*(h.costo_h_stampa||0);return{totals:{duration:S,cost:R},breakdown:{print:{time:_,cost:_*(h.costo_h_stampa||0)},setup:{time:w,cost:w*(h.costo_h_stampa||0)}}}}else if(y==="CONFEZIONAMENTO"){const _=m/(h.v_conf||1),w=h.t_setup_conf||0,S=_+w,R=S*(h.costo_h_conf||0);return{totals:{duration:S,cost:R},breakdown:{package:{time:_,cost:_*(h.costo_h_conf||0)},setup:{time:w,cost:w*(h.costo_h_conf||0)}}}}return null}catch{return null}},[]),n=E.useCallback(h=>h&&(h.startsWith("P05")||h.startsWith("ISP05"))?"BUSTO_GAROLFO":"ZANICA",[]),r=E.useCallback(h=>h&&h.startsWith("P0")?"CONFEZIONAMENTO":"STAMPA",[]),i=E.useCallback(h=>({STAMPA:["DIGITAL_PRINT","FLEXO_PRINT","ROTOGRAVURE"],CONFEZIONAMENTO:["DOYPACK","PLURI_PIU","MONO_PIU","CONFEZIONAMENTO_TRADIZIONALE","CONFEZIONAMENTO_POLVERI"]})[h]||[],[]),l=E.useCallback((h,m)=>{const y={DIGITAL_PRINT:"DIGI",FLEXO_PRINT:"FLEX",ROTOGRAVURE:"ROTO",DOYPACK:"DOYP",PLURI_PIU:"PLUR",MONO_PIU:"MONO",CONFEZIONAMENTO_TRADIZIONALE:"CONFTRAD",CONFEZIONAMENTO_POLVERI:"CONFPOL"}[h]||"MACH",_=m==="BUSTO_GAROLFO"?"BGF":"ZAN",w=Date.now().toString(36);return`${y}_${_}_${w}`},[]),o=E.useCallback((h,m)=>!(m<0||m>h),[]),c=E.useCallback((h,m)=>!h||h===0?0:Math.round(m*100/h),[]),f=E.useCallback((h,m)=>!h||h===0?0:!m||m===0?h:Math.round(h*(1-m/100)*100)/100,[]);return{calculateProductionMetrics:e,autoDetermineWorkCenter:n,autoDetermineDepartment:r,getValidMachineTypes:i,generateMachineId:l,validateQuantityCompleted:o,calculateCompletionRate:c,calculateTimeRemaining:f}},Ru={PHASE:{STAMPA:{v_stampa:{min:0,message:"Printing speed must be greater than 0"},t_setup_stampa:{min:0,message:"Setup time cannot be negative"},costo_h_stampa:{min:0,message:"Hourly cost cannot be negative"}},CONFEZIONAMENTO:{v_conf:{min:0,message:"Packaging speed must be greater than 0"},t_setup_conf:{min:0,message:"Setup time cannot be negative"},costo_h_conf:{min:0,message:"Hourly cost cannot be negative"}}},MACHINE:{min_web_width:{min:0,message:"Minimum web width cannot be negative"},max_web_width:{min:0,message:"Maximum web width cannot be negative"},min_bag_height:{min:0,message:"Minimum bag height cannot be negative"},max_bag_height:{min:0,message:"Maximum bag height cannot be negative"},standard_speed:{min:0,message:"Standard speed cannot be negative"},setup_time_standard:{min:0,message:"Setup time cannot be negative"},changeover_color:{min:0,message:"Color changeover time cannot be negative"},changeover_material:{min:0,message:"Material changeover time cannot be negative"}},ORDER:{bag_height:{min:0,message:"Bag height must be greater than 0"},bag_width:{min:0,message:"Bag width must be greater than 0"},bag_step:{min:0,message:"Bag step must be greater than 0"},quantity:{min:0,message:"Quantity must be greater than 0"},quantity_per_box:{min:0,message:"Quantity per box cannot be negative"},quantity_completed:{min:0,message:"Quantity completed cannot be negative"}}},$_=(e,n)=>{const r={};return n.forEach(i=>{if(!_h(e[i])){const l=i.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase());r[i]=`${l} is required`}}),r},yh=(e,n)=>{const r={};return Object.entries(n).forEach(([i,l])=>{e[i]!==void 0&&e[i]!==null&&e[i]!==""&&(q_(e[i],l.min,l.max)||(r[i]=l.message))}),r},B_=(e,n,r="PHASE")=>{const i=Ru[r]?.[n];return i?yh(e,i):{}},V_=(e,n)=>{const r={};return n.forEach(i=>{const{condition:l,errorField:o,message:c}=i;l(e)&&(r[o]=c)}),r},_T=(e,n)=>{const r={};return n.required&&Object.assign(r,$_(e,n.required)),n.numeric&&Object.assign(r,yh(e,n.numeric)),n.department&&e.department&&Object.assign(r,B_(e,e.department,n.departmentSchema)),n.logical&&Object.assign(r,V_(e,n.logical)),r},bT={PHASE:{required:["name","department","work_center"],numeric:{numero_persone:{min:1,message:"Number of people must be at least 1"}},departmentSchema:"PHASE",logical:[{condition:e=>e.bag_width&&e.bag_step&&parseFloat(e.bag_width)<parseFloat(e.bag_step),errorField:"bag_width",message:"Bag width cannot be less than bag step"}]},MACHINE:{required:["machine_name","machine_type","department","work_center"],numeric:Ru.MACHINE,logical:[{condition:e=>e.min_web_width&&e.max_web_width&&parseFloat(e.min_web_width)>parseFloat(e.max_web_width),errorField:"min_web_width",message:"Minimum web width cannot exceed maximum web width"},{condition:e=>e.min_bag_height&&e.max_bag_height&&parseFloat(e.min_bag_height)>parseFloat(e.max_bag_height),errorField:"min_bag_height",message:"Minimum bag height cannot exceed maximum bag height"}]},ORDER:{required:["odp_number","article_code","production_lot","bag_height","bag_width","bag_step","product_type","quantity","delivery_date"],numeric:Ru.ORDER,logical:[{condition:e=>e.bag_width&&e.bag_step&&parseFloat(e.bag_width)<parseFloat(e.bag_step),errorField:"bag_width",message:"Bag width cannot be less than bag step"},{condition:e=>e.quantity&&e.quantity_completed&&parseFloat(e.quantity_completed)>parseFloat(e.quantity),errorField:"quantity_completed",message:"Quantity completed cannot exceed total quantity"},{condition:e=>e.delivery_date&&e.scheduled_start_time&&new Date(e.scheduled_start_time)>new Date(e.delivery_date),errorField:"scheduled_start_time",message:"Production start cannot be after delivery date"}]},OFF_TIME:{required:["startDate","startTime","endDate","endTime"],logical:[{condition:e=>e.startDate&&e.endDate&&new Date(e.startDate)>new Date(e.endDate),errorField:"endDate",message:"End date cannot be before start date"},{condition:e=>e.startDate&&e.endDate&&e.startDate===e.endDate&&e.startTime&&e.endTime&&e.startTime>=e.endTime,errorField:"endTime",message:"End time must be after start time when dates are the same"}]}},_h=e=>typeof e=="string"?e.trim().length>0:Array.isArray(e)?e.length>0:typeof e=="object"&&e!==null?Object.keys(e).length>0:!!e,wT=e=>!e||typeof e!="string"?!1:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),ST=e=>!e||typeof e!="string"?!1:/^[+]?[1-9][\d]{0,15}$/.test(e.replace(/\s/g,"")),ET=e=>{if(!e)return!1;const n=new Date(e);return n instanceof Date&&!isNaN(n)},q_=(e,n=null,r=null)=>{const i=typeof e=="string"?parseFloat(e):e;return!(typeof i!="number"||isNaN(i)||n!==null&&i<n||r!==null&&i>r)},xT=(e,n=null,r=null)=>{const i=typeof e=="string"?parseInt(e,10):e;return!(!Number.isInteger(i)||n!==null&&i<n||r!==null&&i>r)},RT=e=>{if(!e||typeof e!="string")return!1;try{return new URL(e),!0}catch{return!1}},G_=(e,n)=>!e||!n?!1:typeof n=="string"?new RegExp(n).test(e):n instanceof RegExp?n.test(e):!1,Y_=(e,n)=>!e||typeof e!="string"?!1:e.length>=n,K_=(e,n)=>!e||typeof e!="string"?!1:e.length<=n,X_=(e,n,r)=>typeof e!="number"||isNaN(e)?!1:e>=n&&e<=r,CT=e=>!e||typeof e!="string"?!1:/^[a-zA-Z0-9\s\-_]{2,100}$/.test(e.trim()),TT=e=>!e||typeof e!="string"?!1:/^[a-zA-Z0-9]{3,20}$/.test(e.trim()),AT=e=>!e||typeof e!="string"?!1:/^[a-zA-Z0-9-]{3,50}$/.test(e.trim()),OT=e=>["ZANICA","BUSTO_GAROLFO"].includes(e),DT=e=>["STAMPA","CONFEZIONAMENTO"].includes(e),NT=e=>["ACTIVE","INACTIVE","MAINTENANCE"].includes(e),jT=e=>["crema","liquido","polveri"].includes(e),MT=e=>["3","4"].includes(e),kT=(e,n)=>{const r={};return Object.keys(n).forEach(i=>{const l=e[i],o=n[i];if(o.required&&!_h(l))r[i]=o.required;else if(l&&o.pattern&&!G_(l,o.pattern))r[i]=o.pattern;else if(l&&o.minLength&&!Y_(l,o.minLength))r[i]=o.minLength;else if(l&&o.maxLength&&!K_(l,o.maxLength))r[i]=o.maxLength;else if(l&&o.min!==void 0&&!X_(l,o.min,o.max||1/0))r[i]=o.min;else if(l&&o.custom){const c=o.custom(l,e);c&&(r[i]=c)}}),r},Ha={validateRequiredFields:$_,validateNumericFields:yh,validateDepartmentFields:B_,validateLogicalRelations:V_,validateAll:_T,VALIDATION_CONFIGS:bT,VALIDATION_SCHEMAS:Ru,isNotEmpty:_h,isValidEmail:wT,isValidPhone:ST,isValidDate:ET,isValidNumber:q_,isValidInteger:xT,isValidUrl:RT,matchesPattern:G_,hasMinLength:Y_,hasMaxLength:K_,isInRange:X_,isValidMachineName:CT,isValidOdpNumber:TT,isValidArticleCode:AT,isValidWorkCenter:OT,isValidDepartment:DT,isValidMachineStatus:NT,isValidProductType:jT,isValidSealSides:MT,validateFormData:kT},UT=()=>{const e=E.useCallback(l=>{const o=Ha.validateAll(l,Ha.VALIDATION_CONFIGS.MACHINE);return Object.values(o)},[]),n=E.useCallback((l,o)=>{const c=[];return o.some(h=>h.scheduled_machine_id===l)&&c.push("Cannot delete machine with scheduled tasks. Please unschedule all tasks first."),c},[]),r=E.useCallback(l=>({name:l?.machine_name||"Unknown Machine",type:l?.machine_type||"Unknown Type",department:l?.department||"Unknown Department",workCenter:l?.work_center||"Unknown Work Center",status:l?.status||"UNKNOWN",isActive:l?.status==="ACTIVE"}),[]),i=E.useCallback((l,o)=>{if(l.status!=="ACTIVE")return!1;const c=l.active_shifts||[];if(c.length===0)return!1;const f=o.getHours();return c.some(m=>{switch(m){case"T1":return f>=6&&f<14;case"T2":return f>=14&&f<22;case"T3":return f>=22||f<6;default:return!1}})},[]);return{validateMachine:e,validateMachineDeletion:n,getMachineDisplayInfo:r,isMachineAvailable:i}},LT=()=>{const e=E.useCallback(l=>{const o=Ha.validateAll(l,Ha.VALIDATION_CONFIGS.ORDER);return Object.values(o)},[]),n=E.useCallback((l,o)=>{const c=[];if(!l)return c.push("Please select a production phase"),c;o.department&&l.department!==o.department&&c.push(`Selected phase is for ${l.department} department, but order is for ${o.department}`),o.work_center&&l.work_center!==o.work_center&&c.push(`Selected phase is for ${l.work_center} work center, but order is for ${o.work_center}`);const f=Ha.validateDepartmentFields(l,l.department,"PHASE");return Object.values(f).forEach(h=>c.push(h)),c},[]),r=E.useCallback((l,o,c,f)=>{const h=[];return l?o?!c||!f?(h.push("Start and end times are required"),h):(o.status!=="ACTIVE"&&h.push(`Machine ${o.machine_name} is not active`),l.scheduled_machine_id&&l.scheduled_machine_id!==o.id&&h.push("Order is already scheduled on a different machine"),l.fase||h.push("Order must have a production phase selected"),(!l.quantity||l.quantity<=0)&&h.push("Order must have a valid quantity"),(!l.duration||l.duration<=0)&&h.push("Order must have calculated duration"),h):(h.push("Machine is required"),h):(h.push("Order is required"),h)},[]),i=E.useCallback(l=>{const o=[];return l?(l.quantity_completed>0&&o.push("Cannot delete order that has started production"),l.scheduled_machine_id&&o.push("Cannot delete scheduled order. Please unschedule first."),o):(o.push("Order is required"),o)},[]);return{validateOrder:e,validatePhaseSelection:n,validateOrderScheduling:r,validateOrderDeletion:i}},PT=()=>({validatePhase:r=>{const i=Ha.validateAll(r,Ha.VALIDATION_CONFIGS.PHASE);return Object.values(i)},validateForm:r=>Ha.validateAll(r,Ha.VALIDATION_CONFIGS.PHASE)}),ga=(e="")=>{const{showAlert:n,showConfirmDialog:r}=Ne(),i=E.useCallback((_,w={})=>{const{showUserAlert:S=!0,alertType:R="error",logError:C=!0,context:T=e,fallbackMessage:O="An unexpected error occurred"}=w,A=Vn(_,T);if(C&&qn(A,T),S){const B=A.userMessage||O;n(B,R)}return A},[e,n]),l=E.useCallback(async(_,w={})=>{const{showUserAlert:S=!0,alertType:R="error",context:C=e,fallbackMessage:T="Operation failed",retry:O=!1,maxRetries:A=3}=w;try{return O?await cy(_,A):await _()}catch(B){throw i(B,{showUserAlert:S,alertType:R,context:C,fallbackMessage:T})}},[e,i]),o=E.useCallback((_,w)=>{const S=i(_,{showUserAlert:!1});S.code===ze.VALIDATION_ERROR?S.fieldErrors?Object.entries(S.fieldErrors).forEach(([R,C])=>{w(R,{type:"server",message:C})}):w("root",{type:"server",message:S.userMessage}):w("root",{type:"server",message:S.userMessage})},[i]),c=E.useCallback((_,w,S)=>{const R=i(_,{context:`${w} ${S}`,fallbackMessage:`Failed to ${w} ${S}`});return R.code===ze.VALIDATION_ERROR?n(`Please check the ${S} information and try again.`,"error"):R.code===ze.NOT_FOUND_ERROR?n(`${S} not found. It may have been deleted.`,"error"):R.code===ze.AUTHORIZATION_ERROR&&n(`You don't have permission to ${w} ${S}.`,"error"),R},[i,n]),f=E.useCallback((_,w)=>{const S=i(_,{context:"Network Operation",fallbackMessage:"Network error occurred"});return S.code===ze.NETWORK_ERROR&&w&&r("Network Error","Your connection seems to be unstable. Would you like to retry?",w,"warning"),S},[i,r]),h=E.useCallback(_=>{const w=i(_,{context:"Authentication",fallbackMessage:"Authentication error occurred"});return w.code===ze.AUTHENTICATION_ERROR&&n("Please log in again to continue.","warning"),w},[i,n]),m=E.useCallback((_,w="")=>qf(_,w||e),[e]),v=E.useCallback(_=>Vn(_,e).severity||"medium",[e]),y=E.useMemo(()=>ze,[]);return{handleError:i,handleAsync:l,handleFormError:o,handleCrudError:c,handleNetworkError:f,handleAuthError:h,createSafeAsync:m,getErrorSeverity:v,errorTypes:y,withRetry:cy,safeAsync:qf}},zT=(e,n)=>{const{phases:r}=Gn(),[i,l]=E.useState(""),[o,c]=E.useState(!1),[f,h]=E.useState(null),[m,v]=E.useState({}),y=E.useRef(null),_=E.useMemo(()=>!r||r.length===0?[]:e||n?r.filter(A=>(!e||A.department===e)&&(!n||A.work_center===n)).filter(A=>A.name.toLowerCase().includes(i.toLowerCase())):[],[i,e,n,r]);E.useEffect(()=>()=>{y.current&&clearTimeout(y.current)},[]);const w=E.useCallback((O,A)=>{v(B=>({...B,[O]:A}))},[]),S=E.useCallback((O,A,B)=>{A("fase",O.id),h(O),l(O.name),c(!1),B("fase"),v({v_stampa:O.v_stampa||"",t_setup_stampa:O.t_setup_stampa||"",costo_h_stampa:O.costo_h_stampa||"",v_conf:O.v_conf||"",t_setup_conf:O.t_setup_conf||"",costo_h_conf:O.costo_h_conf||""})},[]),R=E.useCallback(()=>{l(""),h(null),v({})},[]),C=E.useCallback(()=>{y.current&&clearTimeout(y.current),y.current=setTimeout(()=>c(!1),150)},[]);return E.useMemo(()=>({phaseSearch:i,setPhaseSearch:l,isDropdownVisible:o,setIsDropdownVisible:c,selectedPhase:f,setSelectedPhase:h,filteredPhases:_,editablePhaseParams:m,setEditablePhaseParams:v,handlePhaseParamChange:w,handlePhaseSelect:S,resetPhaseData:R,handleBlur:C,blurTimeoutRef:y}),[i,o,f,_,m,v,w,S,R,C])},FT="/flexi/assets/logo.svg";function HT(){const n=Va().pathname,{user:r,signOut:i,isAuthenticated:l}=Hl(),{selectedWorkCenter:o}=Ne(),[c,f]=E.useState("disconnected"),{handleAsync:h}=ga("SideNav");E.useEffect(()=>{const y=()=>{window.realtimeChannel?f("connected"):f("disconnected")};y();const _=setInterval(y,5e3);return()=>clearInterval(_)},[]);const m=[{href:"/",label:"Home",icon:"🏠"},{href:"/machinery",label:"Machinery",icon:"⚙️"},{href:"/phases",label:"Phases",icon:"🔄"},{href:"/backlog",label:"Backlog",icon:"📝"},{href:"/scheduler",label:"Scheduler",icon:"📅"}],v=async()=>{await h(()=>i(),{context:"Sign Out",fallbackMessage:"Failed to sign out"})};return p.jsxs("div",{className:"sidebar",children:[p.jsx("div",{className:"sidebar-logo",children:p.jsx(Ln,{to:"/",children:p.jsx("img",{src:FT,alt:"Flexi"})})}),l&&r&&p.jsxs("div",{className:"sidebar-user",children:[p.jsx("div",{className:"user-avatar",children:r.user_metadata?.full_name?r.user_metadata.full_name.charAt(0).toUpperCase():r.email?.charAt(0).toUpperCase()}),p.jsxs("div",{className:"user-info",children:[p.jsx("div",{className:"user-name",children:r.user_metadata?.full_name||"User"}),p.jsx("div",{className:"user-email",children:r.email}),o&&p.jsx("div",{className:"user-work-center",children:p.jsxs("span",{className:"work-center-badge",children:["🏭 ",o]})}),p.jsx("div",{className:"realtime-status",children:p.jsxs("span",{className:`status-indicator ${c}`,children:[c==="connected"?"🟢":"🔴",c==="connected"?"Live":"Offline"]})})]})]}),p.jsxs("div",{className:"sidebar-section",children:[p.jsx("div",{className:"sidebar-section-title",children:"Navigation"}),p.jsx("nav",{className:"sidebar-nav",children:p.jsx("ul",{children:m.map(y=>p.jsx("li",{children:p.jsxs(Ln,{to:y.href,className:n===y.href?"active":"",children:[p.jsx("span",{className:"nav-icon",children:y.icon}),p.jsx("span",{children:y.label})]})},y.href))})})]}),l?p.jsxs("div",{className:"sidebar-section",children:[p.jsx("div",{className:"sidebar-section-title",children:"Account"}),p.jsx("div",{className:"sidebar-actions",children:p.jsxs("button",{onClick:v,className:"sidebar-action-btn signout-btn",title:"Sign Out",children:[p.jsx("span",{className:"nav-icon",children:"🚪"}),p.jsx("span",{children:"Sign Out"})]})})]}):p.jsxs("div",{className:"sidebar-section",children:[p.jsx("div",{className:"sidebar-section-title",children:"Account"}),p.jsxs("div",{className:"sidebar-actions",children:[p.jsxs(Ln,{to:"/login",className:"sidebar-action-btn login-btn",children:[p.jsx("span",{className:"nav-icon",children:"🔑"}),p.jsx("span",{children:"Sign In"})]}),p.jsxs(Ln,{to:"/signup",className:"sidebar-action-btn signup-btn",children:[p.jsx("span",{className:"nav-icon",children:"➕"}),p.jsx("span",{children:"Sign Up"})]})]})]})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Sr(e,n){return typeof e=="function"?e(n):e}function En(e,n){return r=>{n.setState(i=>({...i,[e]:Sr(r,i[e])}))}}function Iu(e){return e instanceof Function}function IT(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function $T(e,n){const r=[],i=l=>{l.forEach(o=>{r.push(o);const c=n(o);c!=null&&c.length&&i(c)})};return i(e),r}function Ee(e,n,r){let i=[],l;return o=>{let c;r.key&&r.debug&&(c=Date.now());const f=e(o);if(!(f.length!==i.length||f.some((v,y)=>i[y]!==v)))return l;i=f;let m;if(r.key&&r.debug&&(m=Date.now()),l=n(...f),r==null||r.onChange==null||r.onChange(l),r.key&&r.debug&&r!=null&&r.debug()){const v=Math.round((Date.now()-c)*100)/100,y=Math.round((Date.now()-m)*100)/100,_=y/16,w=(S,R)=>{for(S=String(S);S.length<R;)S=" "+S;return S};console.info(`%c⏱ ${w(y,5)} /${w(v,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*_,120))}deg 100% 31%);`,r?.key)}return l}}function xe(e,n,r,i){return{debug:()=>{var l;return(l=e?.debugAll)!=null?l:e[n]},key:!1,onChange:i}}function BT(e,n,r,i){const l=()=>{var c;return(c=o.getValue())!=null?c:e.options.renderFallbackValue},o={id:`${n.id}_${r.id}`,row:n,column:r,getValue:()=>n.getValue(i),renderValue:l,getContext:Ee(()=>[e,r,n,o],(c,f,h,m)=>({table:c,column:f,row:h,cell:m,getValue:m.getValue,renderValue:m.renderValue}),xe(e.options,"debugCells"))};return e._features.forEach(c=>{c.createCell==null||c.createCell(o,r,n,e)},{}),o}function VT(e,n,r,i){var l,o;const f={...e._getDefaultColumnDef(),...n},h=f.accessorKey;let m=(l=(o=f.id)!=null?o:h?typeof String.prototype.replaceAll=="function"?h.replaceAll(".","_"):h.replace(/\./g,"_"):void 0)!=null?l:typeof f.header=="string"?f.header:void 0,v;if(f.accessorFn?v=f.accessorFn:h&&(h.includes(".")?v=_=>{let w=_;for(const R of h.split(".")){var S;w=(S=w)==null?void 0:S[R]}return w}:v=_=>_[f.accessorKey]),!m)throw new Error;let y={id:`${String(m)}`,accessorFn:v,parent:i,depth:r,columnDef:f,columns:[],getFlatColumns:Ee(()=>[!0],()=>{var _;return[y,...(_=y.columns)==null?void 0:_.flatMap(w=>w.getFlatColumns())]},xe(e.options,"debugColumns")),getLeafColumns:Ee(()=>[e._getOrderColumnsFn()],_=>{var w;if((w=y.columns)!=null&&w.length){let S=y.columns.flatMap(R=>R.getLeafColumns());return _(S)}return[y]},xe(e.options,"debugColumns"))};for(const _ of e._features)_.createColumn==null||_.createColumn(y,e);return y}const Jt="debugHeaders";function Sy(e,n,r){var i;let o={id:(i=r.id)!=null?i:n.id,column:n,index:r.index,isPlaceholder:!!r.isPlaceholder,placeholderId:r.placeholderId,depth:r.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const c=[],f=h=>{h.subHeaders&&h.subHeaders.length&&h.subHeaders.map(f),c.push(h)};return f(o),c},getContext:()=>({table:e,header:o,column:n})};return e._features.forEach(c=>{c.createHeader==null||c.createHeader(o,e)}),o}const qT={createTable:e=>{e.getHeaderGroups=Ee(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i,l)=>{var o,c;const f=(o=i?.map(y=>r.find(_=>_.id===y)).filter(Boolean))!=null?o:[],h=(c=l?.map(y=>r.find(_=>_.id===y)).filter(Boolean))!=null?c:[],m=r.filter(y=>!(i!=null&&i.includes(y.id))&&!(l!=null&&l.includes(y.id)));return hu(n,[...f,...m,...h],e)},xe(e.options,Jt)),e.getCenterHeaderGroups=Ee(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i,l)=>(r=r.filter(o=>!(i!=null&&i.includes(o.id))&&!(l!=null&&l.includes(o.id))),hu(n,r,e,"center")),xe(e.options,Jt)),e.getLeftHeaderGroups=Ee(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,r,i)=>{var l;const o=(l=i?.map(c=>r.find(f=>f.id===c)).filter(Boolean))!=null?l:[];return hu(n,o,e,"left")},xe(e.options,Jt)),e.getRightHeaderGroups=Ee(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,r,i)=>{var l;const o=(l=i?.map(c=>r.find(f=>f.id===c)).filter(Boolean))!=null?l:[];return hu(n,o,e,"right")},xe(e.options,Jt)),e.getFooterGroups=Ee(()=>[e.getHeaderGroups()],n=>[...n].reverse(),xe(e.options,Jt)),e.getLeftFooterGroups=Ee(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),xe(e.options,Jt)),e.getCenterFooterGroups=Ee(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),xe(e.options,Jt)),e.getRightFooterGroups=Ee(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),xe(e.options,Jt)),e.getFlatHeaders=Ee(()=>[e.getHeaderGroups()],n=>n.map(r=>r.headers).flat(),xe(e.options,Jt)),e.getLeftFlatHeaders=Ee(()=>[e.getLeftHeaderGroups()],n=>n.map(r=>r.headers).flat(),xe(e.options,Jt)),e.getCenterFlatHeaders=Ee(()=>[e.getCenterHeaderGroups()],n=>n.map(r=>r.headers).flat(),xe(e.options,Jt)),e.getRightFlatHeaders=Ee(()=>[e.getRightHeaderGroups()],n=>n.map(r=>r.headers).flat(),xe(e.options,Jt)),e.getCenterLeafHeaders=Ee(()=>[e.getCenterFlatHeaders()],n=>n.filter(r=>{var i;return!((i=r.subHeaders)!=null&&i.length)}),xe(e.options,Jt)),e.getLeftLeafHeaders=Ee(()=>[e.getLeftFlatHeaders()],n=>n.filter(r=>{var i;return!((i=r.subHeaders)!=null&&i.length)}),xe(e.options,Jt)),e.getRightLeafHeaders=Ee(()=>[e.getRightFlatHeaders()],n=>n.filter(r=>{var i;return!((i=r.subHeaders)!=null&&i.length)}),xe(e.options,Jt)),e.getLeafHeaders=Ee(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,r,i)=>{var l,o,c,f,h,m;return[...(l=(o=n[0])==null?void 0:o.headers)!=null?l:[],...(c=(f=r[0])==null?void 0:f.headers)!=null?c:[],...(h=(m=i[0])==null?void 0:m.headers)!=null?h:[]].map(v=>v.getLeafHeaders()).flat()},xe(e.options,Jt))}};function hu(e,n,r,i){var l,o;let c=0;const f=function(_,w){w===void 0&&(w=1),c=Math.max(c,w),_.filter(S=>S.getIsVisible()).forEach(S=>{var R;(R=S.columns)!=null&&R.length&&f(S.columns,w+1)},0)};f(e);let h=[];const m=(_,w)=>{const S={depth:w,id:[i,`${w}`].filter(Boolean).join("_"),headers:[]},R=[];_.forEach(C=>{const T=[...R].reverse()[0],O=C.column.depth===S.depth;let A,B=!1;if(O&&C.column.parent?A=C.column.parent:(A=C.column,B=!0),T&&T?.column===A)T.subHeaders.push(C);else{const U=Sy(r,A,{id:[i,w,A.id,C?.id].filter(Boolean).join("_"),isPlaceholder:B,placeholderId:B?`${R.filter(Z=>Z.column===A).length}`:void 0,depth:w,index:R.length});U.subHeaders.push(C),R.push(U)}S.headers.push(C),C.headerGroup=S}),h.push(S),w>0&&m(R,w-1)},v=n.map((_,w)=>Sy(r,_,{depth:c,index:w}));m(v,c-1),h.reverse();const y=_=>_.filter(S=>S.column.getIsVisible()).map(S=>{let R=0,C=0,T=[0];S.subHeaders&&S.subHeaders.length?(T=[],y(S.subHeaders).forEach(A=>{let{colSpan:B,rowSpan:U}=A;R+=B,T.push(U)})):R=1;const O=Math.min(...T);return C=C+O,S.colSpan=R,S.rowSpan=C,{colSpan:R,rowSpan:C}});return y((l=(o=h[0])==null?void 0:o.headers)!=null?l:[]),h}const GT=(e,n,r,i,l,o,c)=>{let f={id:n,index:i,original:r,depth:l,parentId:c,_valuesCache:{},_uniqueValuesCache:{},getValue:h=>{if(f._valuesCache.hasOwnProperty(h))return f._valuesCache[h];const m=e.getColumn(h);if(m!=null&&m.accessorFn)return f._valuesCache[h]=m.accessorFn(f.original,i),f._valuesCache[h]},getUniqueValues:h=>{if(f._uniqueValuesCache.hasOwnProperty(h))return f._uniqueValuesCache[h];const m=e.getColumn(h);if(m!=null&&m.accessorFn)return m.columnDef.getUniqueValues?(f._uniqueValuesCache[h]=m.columnDef.getUniqueValues(f.original,i),f._uniqueValuesCache[h]):(f._uniqueValuesCache[h]=[f.getValue(h)],f._uniqueValuesCache[h])},renderValue:h=>{var m;return(m=f.getValue(h))!=null?m:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>$T(f.subRows,h=>h.subRows),getParentRow:()=>f.parentId?e.getRow(f.parentId,!0):void 0,getParentRows:()=>{let h=[],m=f;for(;;){const v=m.getParentRow();if(!v)break;h.push(v),m=v}return h.reverse()},getAllCells:Ee(()=>[e.getAllLeafColumns()],h=>h.map(m=>BT(e,f,m,m.id)),xe(e.options,"debugRows")),_getAllCellsByColumnId:Ee(()=>[f.getAllCells()],h=>h.reduce((m,v)=>(m[v.column.id]=v,m),{}),xe(e.options,"debugRows"))};for(let h=0;h<e._features.length;h++){const m=e._features[h];m==null||m.createRow==null||m.createRow(f,e)}return f},YT={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},W_=(e,n,r)=>{var i,l;const o=r==null||(i=r.toString())==null?void 0:i.toLowerCase();return!!(!((l=e.getValue(n))==null||(l=l.toString())==null||(l=l.toLowerCase())==null)&&l.includes(o))};W_.autoRemove=e=>Xn(e);const Q_=(e,n,r)=>{var i;return!!(!((i=e.getValue(n))==null||(i=i.toString())==null)&&i.includes(r))};Q_.autoRemove=e=>Xn(e);const Z_=(e,n,r)=>{var i;return((i=e.getValue(n))==null||(i=i.toString())==null?void 0:i.toLowerCase())===r?.toLowerCase()};Z_.autoRemove=e=>Xn(e);const J_=(e,n,r)=>{var i;return(i=e.getValue(n))==null?void 0:i.includes(r)};J_.autoRemove=e=>Xn(e);const eb=(e,n,r)=>!r.some(i=>{var l;return!((l=e.getValue(n))!=null&&l.includes(i))});eb.autoRemove=e=>Xn(e)||!(e!=null&&e.length);const tb=(e,n,r)=>r.some(i=>{var l;return(l=e.getValue(n))==null?void 0:l.includes(i)});tb.autoRemove=e=>Xn(e)||!(e!=null&&e.length);const nb=(e,n,r)=>e.getValue(n)===r;nb.autoRemove=e=>Xn(e);const ab=(e,n,r)=>e.getValue(n)==r;ab.autoRemove=e=>Xn(e);const bh=(e,n,r)=>{let[i,l]=r;const o=e.getValue(n);return o>=i&&o<=l};bh.resolveFilterValue=e=>{let[n,r]=e,i=typeof n!="number"?parseFloat(n):n,l=typeof r!="number"?parseFloat(r):r,o=n===null||Number.isNaN(i)?-1/0:i,c=r===null||Number.isNaN(l)?1/0:l;if(o>c){const f=o;o=c,c=f}return[o,c]};bh.autoRemove=e=>Xn(e)||Xn(e[0])&&Xn(e[1]);const Fa={includesString:W_,includesStringSensitive:Q_,equalsString:Z_,arrIncludes:J_,arrIncludesAll:eb,arrIncludesSome:tb,equals:nb,weakEquals:ab,inNumberRange:bh};function Xn(e){return e==null||e===""}const KT={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:En("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const r=n.getCoreRowModel().flatRows[0],i=r?.getValue(e.id);return typeof i=="string"?Fa.includesString:typeof i=="number"?Fa.inNumberRange:typeof i=="boolean"||i!==null&&typeof i=="object"?Fa.equals:Array.isArray(i)?Fa.arrIncludes:Fa.weakEquals},e.getFilterFn=()=>{var r,i;return Iu(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(r=(i=n.options.filterFns)==null?void 0:i[e.columnDef.filterFn])!=null?r:Fa[e.columnDef.filterFn]},e.getCanFilter=()=>{var r,i,l;return((r=e.columnDef.enableColumnFilter)!=null?r:!0)&&((i=n.options.enableColumnFilters)!=null?i:!0)&&((l=n.options.enableFilters)!=null?l:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var r;return(r=n.getState().columnFilters)==null||(r=r.find(i=>i.id===e.id))==null?void 0:r.value},e.getFilterIndex=()=>{var r,i;return(r=(i=n.getState().columnFilters)==null?void 0:i.findIndex(l=>l.id===e.id))!=null?r:-1},e.setFilterValue=r=>{n.setColumnFilters(i=>{const l=e.getFilterFn(),o=i?.find(v=>v.id===e.id),c=Sr(r,o?o.value:void 0);if(Ey(l,c,e)){var f;return(f=i?.filter(v=>v.id!==e.id))!=null?f:[]}const h={id:e.id,value:c};if(o){var m;return(m=i?.map(v=>v.id===e.id?h:v))!=null?m:[]}return i!=null&&i.length?[...i,h]:[h]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const r=e.getAllLeafColumns(),i=l=>{var o;return(o=Sr(n,l))==null?void 0:o.filter(c=>{const f=r.find(h=>h.id===c.id);if(f){const h=f.getFilterFn();if(Ey(h,c.value,f))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(i)},e.resetColumnFilters=n=>{var r,i;e.setColumnFilters(n?[]:(r=(i=e.initialState)==null?void 0:i.columnFilters)!=null?r:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Ey(e,n,r){return(e&&e.autoRemove?e.autoRemove(n,r):!1)||typeof n>"u"||typeof n=="string"&&!n}const XT=(e,n,r)=>r.reduce((i,l)=>{const o=l.getValue(e);return i+(typeof o=="number"?o:0)},0),WT=(e,n,r)=>{let i;return r.forEach(l=>{const o=l.getValue(e);o!=null&&(i>o||i===void 0&&o>=o)&&(i=o)}),i},QT=(e,n,r)=>{let i;return r.forEach(l=>{const o=l.getValue(e);o!=null&&(i<o||i===void 0&&o>=o)&&(i=o)}),i},ZT=(e,n,r)=>{let i,l;return r.forEach(o=>{const c=o.getValue(e);c!=null&&(i===void 0?c>=c&&(i=l=c):(i>c&&(i=c),l<c&&(l=c)))}),[i,l]},JT=(e,n)=>{let r=0,i=0;if(n.forEach(l=>{let o=l.getValue(e);o!=null&&(o=+o)>=o&&(++r,i+=o)}),r)return i/r},eA=(e,n)=>{if(!n.length)return;const r=n.map(o=>o.getValue(e));if(!IT(r))return;if(r.length===1)return r[0];const i=Math.floor(r.length/2),l=r.sort((o,c)=>o-c);return r.length%2!==0?l[i]:(l[i-1]+l[i])/2},tA=(e,n)=>Array.from(new Set(n.map(r=>r.getValue(e))).values()),nA=(e,n)=>new Set(n.map(r=>r.getValue(e))).size,aA=(e,n)=>n.length,bf={sum:XT,min:WT,max:QT,extent:ZT,mean:JT,median:eA,unique:tA,uniqueCount:nA,count:aA},rA={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,r;return(n=(r=e.getValue())==null||r.toString==null?void 0:r.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:En("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(r=>r!=null&&r.includes(e.id)?r.filter(i=>i!==e.id):[...r??[],e.id])},e.getCanGroup=()=>{var r,i;return((r=e.columnDef.enableGrouping)!=null?r:!0)&&((i=n.options.enableGrouping)!=null?i:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var r;return(r=n.getState().grouping)==null?void 0:r.includes(e.id)},e.getGroupedIndex=()=>{var r;return(r=n.getState().grouping)==null?void 0:r.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const r=e.getCanGroup();return()=>{r&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const r=n.getCoreRowModel().flatRows[0],i=r?.getValue(e.id);if(typeof i=="number")return bf.sum;if(Object.prototype.toString.call(i)==="[object Date]")return bf.extent},e.getAggregationFn=()=>{var r,i;if(!e)throw new Error;return Iu(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(r=(i=n.options.aggregationFns)==null?void 0:i[e.columnDef.aggregationFn])!=null?r:bf[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var r,i;e.setGrouping(n?[]:(r=(i=e.initialState)==null?void 0:i.grouping)!=null?r:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=r=>{if(e._groupingValuesCache.hasOwnProperty(r))return e._groupingValuesCache[r];const i=n.getColumn(r);return i!=null&&i.columnDef.getGroupingValue?(e._groupingValuesCache[r]=i.columnDef.getGroupingValue(e.original),e._groupingValuesCache[r]):e.getValue(r)},e._groupingValuesCache={}},createCell:(e,n,r,i)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===r.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var l;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((l=r.subRows)!=null&&l.length)}}};function iA(e,n,r){if(!(n!=null&&n.length)||!r)return e;const i=e.filter(o=>!n.includes(o.id));return r==="remove"?i:[...n.map(o=>e.find(c=>c.id===o)).filter(Boolean),...i]}const sA={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:En("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=Ee(r=>[El(n,r)],r=>r.findIndex(i=>i.id===e.id),xe(n.options,"debugColumns")),e.getIsFirstColumn=r=>{var i;return((i=El(n,r)[0])==null?void 0:i.id)===e.id},e.getIsLastColumn=r=>{var i;const l=El(n,r);return((i=l[l.length-1])==null?void 0:i.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var r;e.setColumnOrder(n?[]:(r=e.initialState.columnOrder)!=null?r:[])},e._getOrderColumnsFn=Ee(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,r,i)=>l=>{let o=[];if(!(n!=null&&n.length))o=l;else{const c=[...n],f=[...l];for(;f.length&&c.length;){const h=c.shift(),m=f.findIndex(v=>v.id===h);m>-1&&o.push(f.splice(m,1)[0])}o=[...o,...f]}return iA(o,r,i)},xe(e.options,"debugTable"))}},wf=()=>({left:[],right:[]}),lA={getInitialState:e=>({columnPinning:wf(),...e}),getDefaultOptions:e=>({onColumnPinningChange:En("columnPinning",e)}),createColumn:(e,n)=>{e.pin=r=>{const i=e.getLeafColumns().map(l=>l.id).filter(Boolean);n.setColumnPinning(l=>{var o,c;if(r==="right"){var f,h;return{left:((f=l?.left)!=null?f:[]).filter(y=>!(i!=null&&i.includes(y))),right:[...((h=l?.right)!=null?h:[]).filter(y=>!(i!=null&&i.includes(y))),...i]}}if(r==="left"){var m,v;return{left:[...((m=l?.left)!=null?m:[]).filter(y=>!(i!=null&&i.includes(y))),...i],right:((v=l?.right)!=null?v:[]).filter(y=>!(i!=null&&i.includes(y)))}}return{left:((o=l?.left)!=null?o:[]).filter(y=>!(i!=null&&i.includes(y))),right:((c=l?.right)!=null?c:[]).filter(y=>!(i!=null&&i.includes(y)))}})},e.getCanPin=()=>e.getLeafColumns().some(i=>{var l,o,c;return((l=i.columnDef.enablePinning)!=null?l:!0)&&((o=(c=n.options.enableColumnPinning)!=null?c:n.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const r=e.getLeafColumns().map(f=>f.id),{left:i,right:l}=n.getState().columnPinning,o=r.some(f=>i?.includes(f)),c=r.some(f=>l?.includes(f));return o?"left":c?"right":!1},e.getPinnedIndex=()=>{var r,i;const l=e.getIsPinned();return l?(r=(i=n.getState().columnPinning)==null||(i=i[l])==null?void 0:i.indexOf(e.id))!=null?r:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=Ee(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(r,i,l)=>{const o=[...i??[],...l??[]];return r.filter(c=>!o.includes(c.column.id))},xe(n.options,"debugRows")),e.getLeftVisibleCells=Ee(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(r,i)=>(i??[]).map(o=>r.find(c=>c.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),xe(n.options,"debugRows")),e.getRightVisibleCells=Ee(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(r,i)=>(i??[]).map(o=>r.find(c=>c.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),xe(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var r,i;return e.setColumnPinning(n?wf():(r=(i=e.initialState)==null?void 0:i.columnPinning)!=null?r:wf())},e.getIsSomeColumnsPinned=n=>{var r;const i=e.getState().columnPinning;if(!n){var l,o;return!!((l=i.left)!=null&&l.length||(o=i.right)!=null&&o.length)}return!!((r=i[n])!=null&&r.length)},e.getLeftLeafColumns=Ee(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(l=>l.id===i)).filter(Boolean),xe(e.options,"debugColumns")),e.getRightLeafColumns=Ee(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(l=>l.id===i)).filter(Boolean),xe(e.options,"debugColumns")),e.getCenterLeafColumns=Ee(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i)=>{const l=[...r??[],...i??[]];return n.filter(o=>!l.includes(o.id))},xe(e.options,"debugColumns"))}};function oA(e){return e||(typeof document<"u"?document:null)}const gu={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Sf=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),uA={getDefaultColumnDef:()=>gu,getInitialState:e=>({columnSizing:{},columnSizingInfo:Sf(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:En("columnSizing",e),onColumnSizingInfoChange:En("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var r,i,l;const o=n.getState().columnSizing[e.id];return Math.min(Math.max((r=e.columnDef.minSize)!=null?r:gu.minSize,(i=o??e.columnDef.size)!=null?i:gu.size),(l=e.columnDef.maxSize)!=null?l:gu.maxSize)},e.getStart=Ee(r=>[r,El(n,r),n.getState().columnSizing],(r,i)=>i.slice(0,e.getIndex(r)).reduce((l,o)=>l+o.getSize(),0),xe(n.options,"debugColumns")),e.getAfter=Ee(r=>[r,El(n,r),n.getState().columnSizing],(r,i)=>i.slice(e.getIndex(r)+1).reduce((l,o)=>l+o.getSize(),0),xe(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(r=>{let{[e.id]:i,...l}=r;return l})},e.getCanResize=()=>{var r,i;return((r=e.columnDef.enableResizing)!=null?r:!0)&&((i=n.options.enableColumnResizing)!=null?i:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let r=0;const i=l=>{if(l.subHeaders.length)l.subHeaders.forEach(i);else{var o;r+=(o=l.column.getSize())!=null?o:0}};return i(e),r},e.getStart=()=>{if(e.index>0){const r=e.headerGroup.headers[e.index-1];return r.getStart()+r.getSize()}return 0},e.getResizeHandler=r=>{const i=n.getColumn(e.column.id),l=i?.getCanResize();return o=>{if(!i||!l||(o.persist==null||o.persist(),Ef(o)&&o.touches&&o.touches.length>1))return;const c=e.getSize(),f=e?e.getLeafHeaders().map(T=>[T.column.id,T.column.getSize()]):[[i.id,i.getSize()]],h=Ef(o)?Math.round(o.touches[0].clientX):o.clientX,m={},v=(T,O)=>{typeof O=="number"&&(n.setColumnSizingInfo(A=>{var B,U;const Z=n.options.columnResizeDirection==="rtl"?-1:1,J=(O-((B=A?.startOffset)!=null?B:0))*Z,ce=Math.max(J/((U=A?.startSize)!=null?U:0),-.999999);return A.columnSizingStart.forEach(de=>{let[ne,ee]=de;m[ne]=Math.round(Math.max(ee+ee*ce,0)*100)/100}),{...A,deltaOffset:J,deltaPercentage:ce}}),(n.options.columnResizeMode==="onChange"||T==="end")&&n.setColumnSizing(A=>({...A,...m})))},y=T=>v("move",T),_=T=>{v("end",T),n.setColumnSizingInfo(O=>({...O,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},w=oA(r),S={moveHandler:T=>y(T.clientX),upHandler:T=>{w?.removeEventListener("mousemove",S.moveHandler),w?.removeEventListener("mouseup",S.upHandler),_(T.clientX)}},R={moveHandler:T=>(T.cancelable&&(T.preventDefault(),T.stopPropagation()),y(T.touches[0].clientX),!1),upHandler:T=>{var O;w?.removeEventListener("touchmove",R.moveHandler),w?.removeEventListener("touchend",R.upHandler),T.cancelable&&(T.preventDefault(),T.stopPropagation()),_((O=T.touches[0])==null?void 0:O.clientX)}},C=cA()?{passive:!1}:!1;Ef(o)?(w?.addEventListener("touchmove",R.moveHandler,C),w?.addEventListener("touchend",R.upHandler,C)):(w?.addEventListener("mousemove",S.moveHandler,C),w?.addEventListener("mouseup",S.upHandler,C)),n.setColumnSizingInfo(T=>({...T,startOffset:h,startSize:c,deltaOffset:0,deltaPercentage:0,columnSizingStart:f,isResizingColumn:i.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var r;e.setColumnSizing(n?{}:(r=e.initialState.columnSizing)!=null?r:{})},e.resetHeaderSizeInfo=n=>{var r;e.setColumnSizingInfo(n?Sf():(r=e.initialState.columnSizingInfo)!=null?r:Sf())},e.getTotalSize=()=>{var n,r;return(n=(r=e.getHeaderGroups()[0])==null?void 0:r.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,r;return(n=(r=e.getLeftHeaderGroups()[0])==null?void 0:r.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,r;return(n=(r=e.getCenterHeaderGroups()[0])==null?void 0:r.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,r;return(n=(r=e.getRightHeaderGroups()[0])==null?void 0:r.headers.reduce((i,l)=>i+l.getSize(),0))!=null?n:0}}};let mu=null;function cA(){if(typeof mu=="boolean")return mu;let e=!1;try{const n={get passive(){return e=!0,!1}},r=()=>{};window.addEventListener("test",r,n),window.removeEventListener("test",r)}catch{e=!1}return mu=e,mu}function Ef(e){return e.type==="touchstart"}const dA={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:En("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=r=>{e.getCanHide()&&n.setColumnVisibility(i=>({...i,[e.id]:r??!e.getIsVisible()}))},e.getIsVisible=()=>{var r,i;const l=e.columns;return(r=l.length?l.some(o=>o.getIsVisible()):(i=n.getState().columnVisibility)==null?void 0:i[e.id])!=null?r:!0},e.getCanHide=()=>{var r,i;return((r=e.columnDef.enableHiding)!=null?r:!0)&&((i=n.options.enableHiding)!=null?i:!0)},e.getToggleVisibilityHandler=()=>r=>{e.toggleVisibility==null||e.toggleVisibility(r.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=Ee(()=>[e.getAllCells(),n.getState().columnVisibility],r=>r.filter(i=>i.column.getIsVisible()),xe(n.options,"debugRows")),e.getVisibleCells=Ee(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(r,i,l)=>[...r,...i,...l],xe(n.options,"debugRows"))},createTable:e=>{const n=(r,i)=>Ee(()=>[i(),i().filter(l=>l.getIsVisible()).map(l=>l.id).join("_")],l=>l.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),xe(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=r=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(r),e.resetColumnVisibility=r=>{var i;e.setColumnVisibility(r?{}:(i=e.initialState.columnVisibility)!=null?i:{})},e.toggleAllColumnsVisible=r=>{var i;r=(i=r)!=null?i:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((l,o)=>({...l,[o.id]:r||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(r=>!(r.getIsVisible!=null&&r.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(r=>r.getIsVisible==null?void 0:r.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>r=>{var i;e.toggleAllColumnsVisible((i=r.target)==null?void 0:i.checked)}}};function El(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const fA={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},hA={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:En("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var r;const i=(r=e.getCoreRowModel().flatRows[0])==null||(r=r._getAllCellsByColumnId()[n.id])==null?void 0:r.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var r,i,l,o;return((r=e.columnDef.enableGlobalFilter)!=null?r:!0)&&((i=n.options.enableGlobalFilter)!=null?i:!0)&&((l=n.options.enableFilters)!=null?l:!0)&&((o=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Fa.includesString,e.getGlobalFilterFn=()=>{var n,r;const{globalFilterFn:i}=e.options;return Iu(i)?i:i==="auto"?e.getGlobalAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[i])!=null?n:Fa[i]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},gA={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:En("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,r=!1;e._autoResetExpanded=()=>{var i,l;if(!n){e._queue(()=>{n=!0});return}if((i=(l=e.options.autoResetAll)!=null?l:e.options.autoResetExpanded)!=null?i:!e.options.manualExpanding){if(r)return;r=!0,e._queue(()=>{e.resetExpanded(),r=!1})}},e.setExpanded=i=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(i),e.toggleAllRowsExpanded=i=>{i??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=i=>{var l,o;e.setExpanded(i?{}:(l=(o=e.initialState)==null?void 0:o.expanded)!=null?l:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(i=>i.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>i=>{i.persist==null||i.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const i=e.getState().expanded;return i===!0||Object.values(i).some(Boolean)},e.getIsAllRowsExpanded=()=>{const i=e.getState().expanded;return typeof i=="boolean"?i===!0:!(!Object.keys(i).length||e.getRowModel().flatRows.some(l=>!l.getIsExpanded()))},e.getExpandedDepth=()=>{let i=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const c=o.split(".");i=Math.max(i,c.length)}),i},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=r=>{n.setExpanded(i=>{var l;const o=i===!0?!0:!!(i!=null&&i[e.id]);let c={};if(i===!0?Object.keys(n.getRowModel().rowsById).forEach(f=>{c[f]=!0}):c=i,r=(l=r)!=null?l:!o,!o&&r)return{...c,[e.id]:!0};if(o&&!r){const{[e.id]:f,...h}=c;return h}return i})},e.getIsExpanded=()=>{var r;const i=n.getState().expanded;return!!((r=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?r:i===!0||i?.[e.id])},e.getCanExpand=()=>{var r,i,l;return(r=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?r:((i=n.options.enableExpanding)!=null?i:!0)&&!!((l=e.subRows)!=null&&l.length)},e.getIsAllParentsExpanded=()=>{let r=!0,i=e;for(;r&&i.parentId;)i=n.getRow(i.parentId,!0),r=i.getIsExpanded();return r},e.getToggleExpandedHandler=()=>{const r=e.getCanExpand();return()=>{r&&e.toggleExpanded()}}}},Yf=0,Kf=10,xf=()=>({pageIndex:Yf,pageSize:Kf}),mA={getInitialState:e=>({...e,pagination:{...xf(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:En("pagination",e)}),createTable:e=>{let n=!1,r=!1;e._autoResetPageIndex=()=>{var i,l;if(!n){e._queue(()=>{n=!0});return}if((i=(l=e.options.autoResetAll)!=null?l:e.options.autoResetPageIndex)!=null?i:!e.options.manualPagination){if(r)return;r=!0,e._queue(()=>{e.resetPageIndex(),r=!1})}},e.setPagination=i=>{const l=o=>Sr(i,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(l)},e.resetPagination=i=>{var l;e.setPagination(i?xf():(l=e.initialState.pagination)!=null?l:xf())},e.setPageIndex=i=>{e.setPagination(l=>{let o=Sr(i,l.pageIndex);const c=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,c)),{...l,pageIndex:o}})},e.resetPageIndex=i=>{var l,o;e.setPageIndex(i?Yf:(l=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?l:Yf)},e.resetPageSize=i=>{var l,o;e.setPageSize(i?Kf:(l=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?l:Kf)},e.setPageSize=i=>{e.setPagination(l=>{const o=Math.max(1,Sr(i,l.pageSize)),c=l.pageSize*l.pageIndex,f=Math.floor(c/o);return{...l,pageIndex:f,pageSize:o}})},e.setPageCount=i=>e.setPagination(l=>{var o;let c=Sr(i,(o=e.options.pageCount)!=null?o:-1);return typeof c=="number"&&(c=Math.max(-1,c)),{...l,pageCount:c}}),e.getPageOptions=Ee(()=>[e.getPageCount()],i=>{let l=[];return i&&i>0&&(l=[...new Array(i)].fill(null).map((o,c)=>c)),l},xe(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:i}=e.getState().pagination,l=e.getPageCount();return l===-1?!0:l===0?!1:i<l-1},e.previousPage=()=>e.setPageIndex(i=>i-1),e.nextPage=()=>e.setPageIndex(i=>i+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var i;return(i=e.options.pageCount)!=null?i:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var i;return(i=e.options.rowCount)!=null?i:e.getPrePaginationRowModel().rows.length}}},Rf=()=>({top:[],bottom:[]}),pA={getInitialState:e=>({rowPinning:Rf(),...e}),getDefaultOptions:e=>({onRowPinningChange:En("rowPinning",e)}),createRow:(e,n)=>{e.pin=(r,i,l)=>{const o=i?e.getLeafRows().map(h=>{let{id:m}=h;return m}):[],c=l?e.getParentRows().map(h=>{let{id:m}=h;return m}):[],f=new Set([...c,e.id,...o]);n.setRowPinning(h=>{var m,v;if(r==="bottom"){var y,_;return{top:((y=h?.top)!=null?y:[]).filter(R=>!(f!=null&&f.has(R))),bottom:[...((_=h?.bottom)!=null?_:[]).filter(R=>!(f!=null&&f.has(R))),...Array.from(f)]}}if(r==="top"){var w,S;return{top:[...((w=h?.top)!=null?w:[]).filter(R=>!(f!=null&&f.has(R))),...Array.from(f)],bottom:((S=h?.bottom)!=null?S:[]).filter(R=>!(f!=null&&f.has(R)))}}return{top:((m=h?.top)!=null?m:[]).filter(R=>!(f!=null&&f.has(R))),bottom:((v=h?.bottom)!=null?v:[]).filter(R=>!(f!=null&&f.has(R)))}})},e.getCanPin=()=>{var r;const{enableRowPinning:i,enablePinning:l}=n.options;return typeof i=="function"?i(e):(r=i??l)!=null?r:!0},e.getIsPinned=()=>{const r=[e.id],{top:i,bottom:l}=n.getState().rowPinning,o=r.some(f=>i?.includes(f)),c=r.some(f=>l?.includes(f));return o?"top":c?"bottom":!1},e.getPinnedIndex=()=>{var r,i;const l=e.getIsPinned();if(!l)return-1;const o=(r=l==="top"?n.getTopRows():n.getBottomRows())==null?void 0:r.map(c=>{let{id:f}=c;return f});return(i=o?.indexOf(e.id))!=null?i:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var r,i;return e.setRowPinning(n?Rf():(r=(i=e.initialState)==null?void 0:i.rowPinning)!=null?r:Rf())},e.getIsSomeRowsPinned=n=>{var r;const i=e.getState().rowPinning;if(!n){var l,o;return!!((l=i.top)!=null&&l.length||(o=i.bottom)!=null&&o.length)}return!!((r=i[n])!=null&&r.length)},e._getPinnedRows=(n,r,i)=>{var l;return((l=e.options.keepPinnedRows)==null||l?(r??[]).map(c=>{const f=e.getRow(c,!0);return f.getIsAllParentsExpanded()?f:null}):(r??[]).map(c=>n.find(f=>f.id===c))).filter(Boolean).map(c=>({...c,position:i}))},e.getTopRows=Ee(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,r)=>e._getPinnedRows(n,r,"top"),xe(e.options,"debugRows")),e.getBottomRows=Ee(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,r)=>e._getPinnedRows(n,r,"bottom"),xe(e.options,"debugRows")),e.getCenterRows=Ee(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,r,i)=>{const l=new Set([...r??[],...i??[]]);return n.filter(o=>!l.has(o.id))},xe(e.options,"debugRows"))}},vA={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:En("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var r;return e.setRowSelection(n?{}:(r=e.initialState.rowSelection)!=null?r:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(r=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const i={...r},l=e.getPreGroupedRowModel().flatRows;return n?l.forEach(o=>{o.getCanSelect()&&(i[o.id]=!0)}):l.forEach(o=>{delete i[o.id]}),i})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(r=>{const i=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),l={...r};return e.getRowModel().rows.forEach(o=>{Xf(l,o.id,i,!0,e)}),l}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Ee(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,r)=>Object.keys(n).length?Cf(e,r):{rows:[],flatRows:[],rowsById:{}},xe(e.options,"debugTable")),e.getFilteredSelectedRowModel=Ee(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,r)=>Object.keys(n).length?Cf(e,r):{rows:[],flatRows:[],rowsById:{}},xe(e.options,"debugTable")),e.getGroupedSelectedRowModel=Ee(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,r)=>Object.keys(n).length?Cf(e,r):{rows:[],flatRows:[],rowsById:{}},xe(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:r}=e.getState();let i=!!(n.length&&Object.keys(r).length);return i&&n.some(l=>l.getCanSelect()&&!r[l.id])&&(i=!1),i},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(l=>l.getCanSelect()),{rowSelection:r}=e.getState();let i=!!n.length;return i&&n.some(l=>!r[l.id])&&(i=!1),i},e.getIsSomeRowsSelected=()=>{var n;const r=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return r>0&&r<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(r=>r.getCanSelect()).some(r=>r.getIsSelected()||r.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(r,i)=>{const l=e.getIsSelected();n.setRowSelection(o=>{var c;if(r=typeof r<"u"?r:!l,e.getCanSelect()&&l===r)return o;const f={...o};return Xf(f,e.id,r,(c=i?.selectChildren)!=null?c:!0,n),f})},e.getIsSelected=()=>{const{rowSelection:r}=n.getState();return wh(e,r)},e.getIsSomeSelected=()=>{const{rowSelection:r}=n.getState();return Wf(e,r)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:r}=n.getState();return Wf(e,r)==="all"},e.getCanSelect=()=>{var r;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(r=n.options.enableRowSelection)!=null?r:!0},e.getCanSelectSubRows=()=>{var r;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(r=n.options.enableSubRowSelection)!=null?r:!0},e.getCanMultiSelect=()=>{var r;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(r=n.options.enableMultiRowSelection)!=null?r:!0},e.getToggleSelectedHandler=()=>{const r=e.getCanSelect();return i=>{var l;r&&e.toggleSelected((l=i.target)==null?void 0:l.checked)}}}},Xf=(e,n,r,i,l)=>{var o;const c=l.getRow(n,!0);r?(c.getCanMultiSelect()||Object.keys(e).forEach(f=>delete e[f]),c.getCanSelect()&&(e[n]=!0)):delete e[n],i&&(o=c.subRows)!=null&&o.length&&c.getCanSelectSubRows()&&c.subRows.forEach(f=>Xf(e,f.id,r,i,l))};function Cf(e,n){const r=e.getState().rowSelection,i=[],l={},o=function(c,f){return c.map(h=>{var m;const v=wh(h,r);if(v&&(i.push(h),l[h.id]=h),(m=h.subRows)!=null&&m.length&&(h={...h,subRows:o(h.subRows)}),v)return h}).filter(Boolean)};return{rows:o(n.rows),flatRows:i,rowsById:l}}function wh(e,n){var r;return(r=n[e.id])!=null?r:!1}function Wf(e,n,r){var i;if(!((i=e.subRows)!=null&&i.length))return!1;let l=!0,o=!1;return e.subRows.forEach(c=>{if(!(o&&!l)&&(c.getCanSelect()&&(wh(c,n)?o=!0:l=!1),c.subRows&&c.subRows.length)){const f=Wf(c,n);f==="all"?o=!0:(f==="some"&&(o=!0),l=!1)}}),l?"all":o?"some":!1}const Qf=/([0-9]+)/gm,yA=(e,n,r)=>rb(Er(e.getValue(r)).toLowerCase(),Er(n.getValue(r)).toLowerCase()),_A=(e,n,r)=>rb(Er(e.getValue(r)),Er(n.getValue(r))),bA=(e,n,r)=>Sh(Er(e.getValue(r)).toLowerCase(),Er(n.getValue(r)).toLowerCase()),wA=(e,n,r)=>Sh(Er(e.getValue(r)),Er(n.getValue(r))),SA=(e,n,r)=>{const i=e.getValue(r),l=n.getValue(r);return i>l?1:i<l?-1:0},EA=(e,n,r)=>Sh(e.getValue(r),n.getValue(r));function Sh(e,n){return e===n?0:e>n?1:-1}function Er(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function rb(e,n){const r=e.split(Qf).filter(Boolean),i=n.split(Qf).filter(Boolean);for(;r.length&&i.length;){const l=r.shift(),o=i.shift(),c=parseInt(l,10),f=parseInt(o,10),h=[c,f].sort();if(isNaN(h[0])){if(l>o)return 1;if(o>l)return-1;continue}if(isNaN(h[1]))return isNaN(c)?-1:1;if(c>f)return 1;if(f>c)return-1}return r.length-i.length}const gl={alphanumeric:yA,alphanumericCaseSensitive:_A,text:bA,textCaseSensitive:wA,datetime:SA,basic:EA},xA={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:En("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const r=n.getFilteredRowModel().flatRows.slice(10);let i=!1;for(const l of r){const o=l?.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return gl.datetime;if(typeof o=="string"&&(i=!0,o.split(Qf).length>1))return gl.alphanumeric}return i?gl.text:gl.basic},e.getAutoSortDir=()=>{const r=n.getFilteredRowModel().flatRows[0];return typeof r?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var r,i;if(!e)throw new Error;return Iu(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(r=(i=n.options.sortingFns)==null?void 0:i[e.columnDef.sortingFn])!=null?r:gl[e.columnDef.sortingFn]},e.toggleSorting=(r,i)=>{const l=e.getNextSortingOrder(),o=typeof r<"u"&&r!==null;n.setSorting(c=>{const f=c?.find(w=>w.id===e.id),h=c?.findIndex(w=>w.id===e.id);let m=[],v,y=o?r:l==="desc";if(c!=null&&c.length&&e.getCanMultiSort()&&i?f?v="toggle":v="add":c!=null&&c.length&&h!==c.length-1?v="replace":f?v="toggle":v="replace",v==="toggle"&&(o||l||(v="remove")),v==="add"){var _;m=[...c,{id:e.id,desc:y}],m.splice(0,m.length-((_=n.options.maxMultiSortColCount)!=null?_:Number.MAX_SAFE_INTEGER))}else v==="toggle"?m=c.map(w=>w.id===e.id?{...w,desc:y}:w):v==="remove"?m=c.filter(w=>w.id!==e.id):m=[{id:e.id,desc:y}];return m})},e.getFirstSortDir=()=>{var r,i;return((r=(i=e.columnDef.sortDescFirst)!=null?i:n.options.sortDescFirst)!=null?r:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=r=>{var i,l;const o=e.getFirstSortDir(),c=e.getIsSorted();return c?c!==o&&((i=n.options.enableSortingRemoval)==null||i)&&(!(r&&(l=n.options.enableMultiRemove)!=null)||l)?!1:c==="desc"?"asc":"desc":o},e.getCanSort=()=>{var r,i;return((r=e.columnDef.enableSorting)!=null?r:!0)&&((i=n.options.enableSorting)!=null?i:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var r,i;return(r=(i=e.columnDef.enableMultiSort)!=null?i:n.options.enableMultiSort)!=null?r:!!e.accessorFn},e.getIsSorted=()=>{var r;const i=(r=n.getState().sorting)==null?void 0:r.find(l=>l.id===e.id);return i?i.desc?"desc":"asc":!1},e.getSortIndex=()=>{var r,i;return(r=(i=n.getState().sorting)==null?void 0:i.findIndex(l=>l.id===e.id))!=null?r:-1},e.clearSorting=()=>{n.setSorting(r=>r!=null&&r.length?r.filter(i=>i.id!==e.id):[])},e.getToggleSortingHandler=()=>{const r=e.getCanSort();return i=>{r&&(i.persist==null||i.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(i):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var r,i;e.setSorting(n?[]:(r=(i=e.initialState)==null?void 0:i.sorting)!=null?r:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},RA=[qT,dA,sA,lA,YT,KT,fA,hA,xA,rA,gA,mA,pA,vA,uA];function CA(e){var n,r;const i=[...RA,...(n=e._features)!=null?n:[]];let l={_features:i};const o=l._features.reduce((_,w)=>Object.assign(_,w.getDefaultOptions==null?void 0:w.getDefaultOptions(l)),{}),c=_=>l.options.mergeOptions?l.options.mergeOptions(o,_):{...o,..._};let h={...{},...(r=e.initialState)!=null?r:{}};l._features.forEach(_=>{var w;h=(w=_.getInitialState==null?void 0:_.getInitialState(h))!=null?w:h});const m=[];let v=!1;const y={_features:i,options:{...o,...e},initialState:h,_queue:_=>{m.push(_),v||(v=!0,Promise.resolve().then(()=>{for(;m.length;)m.shift()();v=!1}).catch(w=>setTimeout(()=>{throw w})))},reset:()=>{l.setState(l.initialState)},setOptions:_=>{const w=Sr(_,l.options);l.options=c(w)},getState:()=>l.options.state,setState:_=>{l.options.onStateChange==null||l.options.onStateChange(_)},_getRowId:(_,w,S)=>{var R;return(R=l.options.getRowId==null?void 0:l.options.getRowId(_,w,S))!=null?R:`${S?[S.id,w].join("."):w}`},getCoreRowModel:()=>(l._getCoreRowModel||(l._getCoreRowModel=l.options.getCoreRowModel(l)),l._getCoreRowModel()),getRowModel:()=>l.getPaginationRowModel(),getRow:(_,w)=>{let S=(w?l.getPrePaginationRowModel():l.getRowModel()).rowsById[_];if(!S&&(S=l.getCoreRowModel().rowsById[_],!S))throw new Error;return S},_getDefaultColumnDef:Ee(()=>[l.options.defaultColumn],_=>{var w;return _=(w=_)!=null?w:{},{header:S=>{const R=S.header.column.columnDef;return R.accessorKey?R.accessorKey:R.accessorFn?R.id:null},cell:S=>{var R,C;return(R=(C=S.renderValue())==null||C.toString==null?void 0:C.toString())!=null?R:null},...l._features.reduce((S,R)=>Object.assign(S,R.getDefaultColumnDef==null?void 0:R.getDefaultColumnDef()),{}),..._}},xe(e,"debugColumns")),_getColumnDefs:()=>l.options.columns,getAllColumns:Ee(()=>[l._getColumnDefs()],_=>{const w=function(S,R,C){return C===void 0&&(C=0),S.map(T=>{const O=VT(l,T,C,R),A=T;return O.columns=A.columns?w(A.columns,O,C+1):[],O})};return w(_)},xe(e,"debugColumns")),getAllFlatColumns:Ee(()=>[l.getAllColumns()],_=>_.flatMap(w=>w.getFlatColumns()),xe(e,"debugColumns")),_getAllFlatColumnsById:Ee(()=>[l.getAllFlatColumns()],_=>_.reduce((w,S)=>(w[S.id]=S,w),{}),xe(e,"debugColumns")),getAllLeafColumns:Ee(()=>[l.getAllColumns(),l._getOrderColumnsFn()],(_,w)=>{let S=_.flatMap(R=>R.getLeafColumns());return w(S)},xe(e,"debugColumns")),getColumn:_=>l._getAllFlatColumnsById()[_]};Object.assign(l,y);for(let _=0;_<l._features.length;_++){const w=l._features[_];w==null||w.createTable==null||w.createTable(l)}return l}function TA(){return e=>Ee(()=>[e.options.data],n=>{const r={rows:[],flatRows:[],rowsById:{}},i=function(l,o,c){o===void 0&&(o=0);const f=[];for(let m=0;m<l.length;m++){const v=GT(e,e._getRowId(l[m],m,c),l[m],m,o,void 0,c?.id);if(r.flatRows.push(v),r.rowsById[v.id]=v,f.push(v),e.options.getSubRows){var h;v.originalSubRows=e.options.getSubRows(l[m],m),(h=v.originalSubRows)!=null&&h.length&&(v.subRows=i(v.originalSubRows,o+1,v))}}return f};return r.rows=i(n),r},xe(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function AA(){return e=>Ee(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,r)=>{if(!r.rows.length||!(n!=null&&n.length))return r;const i=e.getState().sorting,l=[],o=i.filter(h=>{var m;return(m=e.getColumn(h.id))==null?void 0:m.getCanSort()}),c={};o.forEach(h=>{const m=e.getColumn(h.id);m&&(c[h.id]={sortUndefined:m.columnDef.sortUndefined,invertSorting:m.columnDef.invertSorting,sortingFn:m.getSortingFn()})});const f=h=>{const m=h.map(v=>({...v}));return m.sort((v,y)=>{for(let w=0;w<o.length;w+=1){var _;const S=o[w],R=c[S.id],C=R.sortUndefined,T=(_=S?.desc)!=null?_:!1;let O=0;if(C){const A=v.getValue(S.id),B=y.getValue(S.id),U=A===void 0,Z=B===void 0;if(U||Z){if(C==="first")return U?-1:1;if(C==="last")return U?1:-1;O=U&&Z?0:U?C:-C}}if(O===0&&(O=R.sortingFn(v,y,S.id)),O!==0)return T&&(O*=-1),R.invertSorting&&(O*=-1),O}return v.index-y.index}),m.forEach(v=>{var y;l.push(v),(y=v.subRows)!=null&&y.length&&(v.subRows=f(v.subRows))}),m};return{rows:f(r.rows),flatRows:l,rowsById:r.rowsById}},xe(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function xy(e,n){return e?OA(e)?E.createElement(e,n):e:null}function OA(e){return DA(e)||typeof e=="function"||NA(e)}function DA(e){return typeof e=="function"&&(()=>{const n=Object.getPrototypeOf(e);return n.prototype&&n.prototype.isReactComponent})()}function NA(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function jA(e){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[r]=E.useState(()=>({current:CA(n)})),[i,l]=E.useState(()=>r.current.initialState);return r.current.setOptions(o=>({...o,...e,state:{...i,...e.state},onStateChange:c=>{l(c),e.onStateChange==null||e.onStateChange(c)}})),r.current}function Eh({data:e,columns:n,onSaveRow:r,onDeleteRow:i}){const[l,o]=E.useState(null),[c,f]=E.useState({}),h=E.useMemo(()=>{const y=w=>{const S={};Object.keys(c).forEach(O=>{c[O]!==void 0&&c[O]!==""&&(S[O]=c[O])});const R={...w.original};["machines","progress","n_boxes","time_remaining"].forEach(O=>{delete R[O]});const T={...R,...S};r(T),o(null),f({})},_={id:"actions",header:"Actions",cell:({row:w})=>{const S=w.id===l;return p.jsx("div",{className:"action-buttons",children:S?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>y(w),className:"nav-btn today",children:"Save"}),p.jsx("button",{onClick:()=>o(null),className:"nav-btn today",children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>o(w.id),className:"nav-btn today",children:"Edit"}),p.jsx("button",{onClick:()=>i(w.original),className:"nav-btn today",children:"Delete"})]})})}};return[...n,_]},[n,l,c,r,i]),m=E.useMemo(()=>{if(e&&e.length>0){const y=e.map(R=>R.id);y.filter((R,C)=>y.indexOf(R)!==C).length>0;const w=new Set,S=[];e.forEach((R,C)=>{w.has(R.id)?S.push({id:R.id,index:C,item:R}):w.add(R.id)})}return e},[e]),v=jA({data:m,columns:h,getCoreRowModel:TA(),getSortedRowModel:AA(),meta:{editingRowId:l,setEditedData:f}});return p.jsx("div",{className:"table-container",children:p.jsxs("table",{className:"modern-table",children:[p.jsx("thead",{children:v.getHeaderGroups().map(y=>p.jsx("tr",{children:y.headers.map((_,w)=>{const S=`${y.id}_${_.id}_${w}`;return p.jsxs("th",{onClick:_.column.getToggleSortingHandler(),children:[xy(_.column.columnDef.header,_.getContext()),{asc:" 🔼",desc:" 🔽"}[_.column.getIsSorted()]??null]},S)})},y.id))}),p.jsx("tbody",{children:v.getRowModel().rows.map(y=>{const _=y.original.id||y.id;return p.jsx("tr",{children:y.getVisibleCells().map((w,S)=>{const R=`${_}_${w.column.id}_${S}`;return p.jsx("td",{children:xy(w.column.columnDef.cell,w.getContext())},R)})},_)})})]})})}var Il=e=>e.type==="checkbox",Xr=e=>e instanceof Date,sn=e=>e==null;const ib=e=>typeof e=="object";var yt=e=>!sn(e)&&!Array.isArray(e)&&ib(e)&&!Xr(e),MA=e=>yt(e)&&e.target?Il(e.target)?e.target.checked:e.target.value:e,kA=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,UA=(e,n)=>e.has(kA(n)),LA=e=>{const n=e.constructor&&e.constructor.prototype;return yt(n)&&n.hasOwnProperty("isPrototypeOf")},xh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zt(e){let n;const r=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(xh&&(e instanceof Blob||i))&&(r||yt(e)))if(n=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!LA(e))n=e;else for(const l in e)e.hasOwnProperty(l)&&(n[l]=zt(e[l]));else return e;return n}var $u=e=>/^\w*$/.test(e),xt=e=>e===void 0,Rh=e=>Array.isArray(e)?e.filter(Boolean):[],Ch=e=>Rh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),me=(e,n,r)=>{if(!n||!yt(e))return r;const i=($u(n)?[n]:Ch(n)).reduce((l,o)=>sn(l)?l:l[o],e);return xt(i)||i===e?xt(e[n])?r:e[n]:i},fa=e=>typeof e=="boolean",ut=(e,n,r)=>{let i=-1;const l=$u(n)?[n]:Ch(n),o=l.length,c=o-1;for(;++i<o;){const f=l[i];let h=r;if(i!==c){const m=e[f];h=yt(m)||Array.isArray(m)?m:isNaN(+l[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=h,e=e[f]}};const Ry={BLUR:"blur",FOCUS_OUT:"focusout"},Yn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},La={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},PA=De.createContext(null);PA.displayName="HookFormContext";var zA=(e,n,r,i=!0)=>{const l={defaultValues:n._defaultValues};for(const o in e)Object.defineProperty(l,o,{get:()=>{const c=o;return n._proxyFormState[c]!==Yn.all&&(n._proxyFormState[c]=!i||Yn.all),e[c]}});return l};const FA=typeof window<"u"?De.useLayoutEffect:De.useEffect;var ha=e=>typeof e=="string",HA=(e,n,r,i,l)=>ha(e)?(i&&n.watch.add(e),me(r,e,l)):Array.isArray(e)?e.map(o=>(i&&n.watch.add(o),me(r,o))):(i&&(n.watchAll=!0),r),Zf=e=>sn(e)||!ib(e);function br(e,n,r=new WeakSet){if(Zf(e)||Zf(n))return e===n;if(Xr(e)&&Xr(n))return e.getTime()===n.getTime();const i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;if(r.has(e)||r.has(n))return!0;r.add(e),r.add(n);for(const o of i){const c=e[o];if(!l.includes(o))return!1;if(o!=="ref"){const f=n[o];if(Xr(c)&&Xr(f)||yt(c)&&yt(f)||Array.isArray(c)&&Array.isArray(f)?!br(c,f,r):c!==f)return!1}}return!0}var IA=(e,n,r,i,l)=>n?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:l||!0}}:{},xl=e=>Array.isArray(e)?e:[e],Cy=()=>{let e=[];return{get observers(){return e},next:l=>{for(const o of e)o.next&&o.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(o=>o!==l)}}),unsubscribe:()=>{e=[]}}},fn=e=>yt(e)&&!Object.keys(e).length,Th=e=>e.type==="file",Kn=e=>typeof e=="function",Cu=e=>{if(!xh)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},sb=e=>e.type==="select-multiple",Ah=e=>e.type==="radio",$A=e=>Ah(e)||Il(e),Tf=e=>Cu(e)&&e.isConnected;function BA(e,n){const r=n.slice(0,-1).length;let i=0;for(;i<r;)e=xt(e)?i++:e[n[i++]];return e}function VA(e){for(const n in e)if(e.hasOwnProperty(n)&&!xt(e[n]))return!1;return!0}function Et(e,n){const r=Array.isArray(n)?n:$u(n)?[n]:Ch(n),i=r.length===1?e:BA(e,r),l=r.length-1,o=r[l];return i&&delete i[o],l!==0&&(yt(i)&&fn(i)||Array.isArray(i)&&VA(i))&&Et(e,r.slice(0,-1)),e}var lb=e=>{for(const n in e)if(Kn(e[n]))return!0;return!1};function Tu(e,n={}){const r=Array.isArray(e);if(yt(e)||r)for(const i in e)Array.isArray(e[i])||yt(e[i])&&!lb(e[i])?(n[i]=Array.isArray(e[i])?[]:{},Tu(e[i],n[i])):sn(e[i])||(n[i]=!0);return n}function ob(e,n,r){const i=Array.isArray(e);if(yt(e)||i)for(const l in e)Array.isArray(e[l])||yt(e[l])&&!lb(e[l])?xt(n)||Zf(r[l])?r[l]=Array.isArray(e[l])?Tu(e[l],[]):{...Tu(e[l])}:ob(e[l],sn(n)?{}:n[l],r[l]):r[l]=!br(e[l],n[l]);return r}var ml=(e,n)=>ob(e,n,Tu(n));const Ty={value:!1,isValid:!1},Ay={value:!0,isValid:!0};var ub=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!xt(e[0].attributes.value)?xt(e[0].value)||e[0].value===""?Ay:{value:e[0].value,isValid:!0}:Ay:Ty}return Ty},cb=(e,{valueAsNumber:n,valueAsDate:r,setValueAs:i})=>xt(e)?e:n?e===""?NaN:e&&+e:r&&ha(e)?new Date(e):i?i(e):e;const Oy={isValid:!1,value:null};var db=e=>Array.isArray(e)?e.reduce((n,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:n,Oy):Oy;function Dy(e){const n=e.ref;return Th(n)?n.files:Ah(n)?db(e.refs).value:sb(n)?[...n.selectedOptions].map(({value:r})=>r):Il(n)?ub(e.refs).value:cb(xt(n.value)?e.ref.value:n.value,e)}var qA=(e,n,r,i)=>{const l={};for(const o of e){const c=me(n,o);c&&ut(l,o,c._f)}return{criteriaMode:r,names:[...e],fields:l,shouldUseNativeValidation:i}},Au=e=>e instanceof RegExp,pl=e=>xt(e)?e:Au(e)?e.source:yt(e)?Au(e.value)?e.value.source:e.value:e,Ny=e=>({isOnSubmit:!e||e===Yn.onSubmit,isOnBlur:e===Yn.onBlur,isOnChange:e===Yn.onChange,isOnAll:e===Yn.all,isOnTouch:e===Yn.onTouched});const jy="AsyncFunction";var GA=e=>!!e&&!!e.validate&&!!(Kn(e.validate)&&e.validate.constructor.name===jy||yt(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===jy)),YA=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),My=(e,n,r)=>!r&&(n.watchAll||n.watch.has(e)||[...n.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Rl=(e,n,r,i)=>{for(const l of r||Object.keys(e)){const o=me(e,l);if(o){const{_f:c,...f}=o;if(c){if(c.refs&&c.refs[0]&&n(c.refs[0],l)&&!i)return!0;if(c.ref&&n(c.ref,c.name)&&!i)return!0;if(Rl(f,n))break}else if(yt(f)&&Rl(f,n))break}}};function ky(e,n,r){const i=me(e,r);if(i||$u(r))return{error:i,name:r};const l=r.split(".");for(;l.length;){const o=l.join("."),c=me(n,o),f=me(e,o);if(c&&!Array.isArray(c)&&r!==o)return{name:r};if(f&&f.type)return{name:o,error:f};if(f&&f.root&&f.root.type)return{name:`${o}.root`,error:f.root};l.pop()}return{name:r}}var KA=(e,n,r,i)=>{r(e);const{name:l,...o}=e;return fn(o)||Object.keys(o).length>=Object.keys(n).length||Object.keys(o).find(c=>n[c]===(!i||Yn.all))},XA=(e,n,r)=>!e||!n||e===n||xl(e).some(i=>i&&(r?i===n:i.startsWith(n)||n.startsWith(i))),WA=(e,n,r,i,l)=>l.isOnAll?!1:!r&&l.isOnTouch?!(n||e):(r?i.isOnBlur:l.isOnBlur)?!e:(r?i.isOnChange:l.isOnChange)?e:!0,QA=(e,n)=>!Rh(me(e,n)).length&&Et(e,n),ZA=(e,n,r)=>{const i=xl(me(e,r));return ut(i,"root",n[r]),ut(e,r,i),e},_u=e=>ha(e);function Uy(e,n,r="validate"){if(_u(e)||Array.isArray(e)&&e.every(_u)||fa(e)&&!e)return{type:r,message:_u(e)?e:"",ref:n}}var Xi=e=>yt(e)&&!Au(e)?e:{value:e,message:""},Ly=async(e,n,r,i,l,o)=>{const{ref:c,refs:f,required:h,maxLength:m,minLength:v,min:y,max:_,pattern:w,validate:S,name:R,valueAsNumber:C,mount:T}=e._f,O=me(r,R);if(!T||n.has(R))return{};const A=f?f[0]:c,B=X=>{l&&A.reportValidity&&(A.setCustomValidity(fa(X)?"":X||""),A.reportValidity())},U={},Z=Ah(c),J=Il(c),ce=Z||J,de=(C||Th(c))&&xt(c.value)&&xt(O)||Cu(c)&&c.value===""||O===""||Array.isArray(O)&&!O.length,ne=IA.bind(null,R,i,U),ee=(X,se,le,pe=La.maxLength,L=La.minLength)=>{const Q=X?se:le;U[R]={type:X?pe:L,message:Q,ref:c,...ne(X?pe:L,Q)}};if(o?!Array.isArray(O)||!O.length:h&&(!ce&&(de||sn(O))||fa(O)&&!O||J&&!ub(f).isValid||Z&&!db(f).isValid)){const{value:X,message:se}=_u(h)?{value:!!h,message:h}:Xi(h);if(X&&(U[R]={type:La.required,message:se,ref:A,...ne(La.required,se)},!i))return B(se),U}if(!de&&(!sn(y)||!sn(_))){let X,se;const le=Xi(_),pe=Xi(y);if(!sn(O)&&!isNaN(O)){const L=c.valueAsNumber||O&&+O;sn(le.value)||(X=L>le.value),sn(pe.value)||(se=L<pe.value)}else{const L=c.valueAsDate||new Date(O),Q=D=>new Date(new Date().toDateString()+" "+D),ae=c.type=="time",he=c.type=="week";ha(le.value)&&O&&(X=ae?Q(O)>Q(le.value):he?O>le.value:L>new Date(le.value)),ha(pe.value)&&O&&(se=ae?Q(O)<Q(pe.value):he?O<pe.value:L<new Date(pe.value))}if((X||se)&&(ee(!!X,le.message,pe.message,La.max,La.min),!i))return B(U[R].message),U}if((m||v)&&!de&&(ha(O)||o&&Array.isArray(O))){const X=Xi(m),se=Xi(v),le=!sn(X.value)&&O.length>+X.value,pe=!sn(se.value)&&O.length<+se.value;if((le||pe)&&(ee(le,X.message,se.message),!i))return B(U[R].message),U}if(w&&!de&&ha(O)){const{value:X,message:se}=Xi(w);if(Au(X)&&!O.match(X)&&(U[R]={type:La.pattern,message:se,ref:c,...ne(La.pattern,se)},!i))return B(se),U}if(S){if(Kn(S)){const X=await S(O,r),se=Uy(X,A);if(se&&(U[R]={...se,...ne(La.validate,se.message)},!i))return B(se.message),U}else if(yt(S)){let X={};for(const se in S){if(!fn(X)&&!i)break;const le=Uy(await S[se](O,r),A,se);le&&(X={...le,...ne(se,le.message)},B(le.message),i&&(U[R]=X))}if(!fn(X)&&(U[R]={ref:A,...X},!i))return U}}return B(!0),U};const JA={mode:Yn.onSubmit,reValidateMode:Yn.onChange,shouldFocusError:!0};function eO(e={}){let n={...JA,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Kn(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},l=yt(n.defaultValues)||yt(n.values)?zt(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:zt(l),c={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,m=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...v};const _={array:Cy(),state:Cy()},w=n.criteriaMode===Yn.all,S=j=>z=>{clearTimeout(m),m=setTimeout(j,z)},R=async j=>{if(!n.disabled&&(v.isValid||y.isValid||j)){const z=n.resolver?fn((await J()).errors):await de(i,!0);z!==r.isValid&&_.state.next({isValid:z})}},C=(j,z)=>{!n.disabled&&(v.isValidating||v.validatingFields||y.isValidating||y.validatingFields)&&((j||Array.from(f.mount)).forEach(V=>{V&&(z?ut(r.validatingFields,V,z):Et(r.validatingFields,V))}),_.state.next({validatingFields:r.validatingFields,isValidating:!fn(r.validatingFields)}))},T=(j,z=[],V,oe,re=!0,te=!0)=>{if(oe&&V&&!n.disabled){if(c.action=!0,te&&Array.isArray(me(i,j))){const ge=V(me(i,j),oe.argA,oe.argB);re&&ut(i,j,ge)}if(te&&Array.isArray(me(r.errors,j))){const ge=V(me(r.errors,j),oe.argA,oe.argB);re&&ut(r.errors,j,ge),QA(r.errors,j)}if((v.touchedFields||y.touchedFields)&&te&&Array.isArray(me(r.touchedFields,j))){const ge=V(me(r.touchedFields,j),oe.argA,oe.argB);re&&ut(r.touchedFields,j,ge)}(v.dirtyFields||y.dirtyFields)&&(r.dirtyFields=ml(l,o)),_.state.next({name:j,isDirty:ee(j,z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ut(o,j,z)},O=(j,z)=>{ut(r.errors,j,z),_.state.next({errors:r.errors})},A=j=>{r.errors=j,_.state.next({errors:r.errors,isValid:!1})},B=(j,z,V,oe)=>{const re=me(i,j);if(re){const te=me(o,j,xt(V)?me(l,j):V);xt(te)||oe&&oe.defaultChecked||z?ut(o,j,z?te:Dy(re._f)):le(j,te),c.mount&&R()}},U=(j,z,V,oe,re)=>{let te=!1,ge=!1;const be={name:j};if(!n.disabled){if(!V||oe){(v.isDirty||y.isDirty)&&(ge=r.isDirty,r.isDirty=be.isDirty=ee(),te=ge!==be.isDirty);const Te=br(me(l,j),z);ge=!!me(r.dirtyFields,j),Te?Et(r.dirtyFields,j):ut(r.dirtyFields,j,!0),be.dirtyFields=r.dirtyFields,te=te||(v.dirtyFields||y.dirtyFields)&&ge!==!Te}if(V){const Te=me(r.touchedFields,j);Te||(ut(r.touchedFields,j,V),be.touchedFields=r.touchedFields,te=te||(v.touchedFields||y.touchedFields)&&Te!==V)}te&&re&&_.state.next(be)}return te?be:{}},Z=(j,z,V,oe)=>{const re=me(r.errors,j),te=(v.isValid||y.isValid)&&fa(z)&&r.isValid!==z;if(n.delayError&&V?(h=S(()=>O(j,V)),h(n.delayError)):(clearTimeout(m),h=null,V?ut(r.errors,j,V):Et(r.errors,j)),(V?!br(re,V):re)||!fn(oe)||te){const ge={...oe,...te&&fa(z)?{isValid:z}:{},errors:r.errors,name:j};r={...r,...ge},_.state.next(ge)}},J=async j=>{C(j,!0);const z=await n.resolver(o,n.context,qA(j||f.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return C(j),z},ce=async j=>{const{errors:z}=await J(j);if(j)for(const V of j){const oe=me(z,V);oe?ut(r.errors,V,oe):Et(r.errors,V)}else r.errors=z;return z},de=async(j,z,V={valid:!0})=>{for(const oe in j){const re=j[oe];if(re){const{_f:te,...ge}=re;if(te){const be=f.array.has(te.name),Te=re._f&&GA(re._f);Te&&v.validatingFields&&C([oe],!0);const He=await Ly(re,f.disabled,o,w,n.shouldUseNativeValidation&&!z,be);if(Te&&v.validatingFields&&C([oe]),He[te.name]&&(V.valid=!1,z))break;!z&&(me(He,te.name)?be?ZA(r.errors,He,te.name):ut(r.errors,te.name,He[te.name]):Et(r.errors,te.name))}!fn(ge)&&await de(ge,z,V)}}return V.valid},ne=()=>{for(const j of f.unMount){const z=me(i,j);z&&(z._f.refs?z._f.refs.every(V=>!Tf(V)):!Tf(z._f.ref))&&Be(j)}f.unMount=new Set},ee=(j,z)=>!n.disabled&&(j&&z&&ut(o,j,z),!br(D(),l)),X=(j,z,V)=>HA(j,f,{...c.mount?o:xt(z)?l:ha(j)?{[j]:z}:z},V,z),se=j=>Rh(me(c.mount?o:l,j,n.shouldUnregister?me(l,j,[]):[])),le=(j,z,V={})=>{const oe=me(i,j);let re=z;if(oe){const te=oe._f;te&&(!te.disabled&&ut(o,j,cb(z,te)),re=Cu(te.ref)&&sn(z)?"":z,sb(te.ref)?[...te.ref.options].forEach(ge=>ge.selected=re.includes(ge.value)):te.refs?Il(te.ref)?te.refs.forEach(ge=>{(!ge.defaultChecked||!ge.disabled)&&(Array.isArray(re)?ge.checked=!!re.find(be=>be===ge.value):ge.checked=re===ge.value||!!re)}):te.refs.forEach(ge=>ge.checked=ge.value===re):Th(te.ref)?te.ref.value="":(te.ref.value=re,te.ref.type||_.state.next({name:j,values:zt(o)})))}(V.shouldDirty||V.shouldTouch)&&U(j,re,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&he(j)},pe=(j,z,V)=>{for(const oe in z){if(!z.hasOwnProperty(oe))return;const re=z[oe],te=j+"."+oe,ge=me(i,te);(f.array.has(j)||yt(re)||ge&&!ge._f)&&!Xr(re)?pe(te,re,V):le(te,re,V)}},L=(j,z,V={})=>{const oe=me(i,j),re=f.array.has(j),te=zt(z);ut(o,j,te),re?(_.array.next({name:j,values:zt(o)}),(v.isDirty||v.dirtyFields||y.isDirty||y.dirtyFields)&&V.shouldDirty&&_.state.next({name:j,dirtyFields:ml(l,o),isDirty:ee(j,te)})):oe&&!oe._f&&!sn(te)?pe(j,te,V):le(j,te,V),My(j,f)&&_.state.next({...r,name:j}),_.state.next({name:c.mount?j:void 0,values:zt(o)})},Q=async j=>{c.mount=!0;const z=j.target;let V=z.name,oe=!0;const re=me(i,V),te=Te=>{oe=Number.isNaN(Te)||Xr(Te)&&isNaN(Te.getTime())||br(Te,me(o,V,Te))},ge=Ny(n.mode),be=Ny(n.reValidateMode);if(re){let Te,He;const va=z.type?Dy(re._f):MA(j),Ct=j.type===Ry.BLUR||j.type===Ry.FOCUS_OUT,Jr=!YA(re._f)&&!n.resolver&&!me(r.errors,V)&&!re._f.deps||WA(Ct,me(r.touchedFields,V),r.isSubmitted,be,ge),ta=My(V,f,Ct);ut(o,V,va),Ct?(!z||!z.readOnly)&&(re._f.onBlur&&re._f.onBlur(j),h&&h(0)):re._f.onChange&&re._f.onChange(j);const na=U(V,va,Ct),hn=!fn(na)||ta;if(!Ct&&_.state.next({name:V,type:j.type,values:zt(o)}),Jr)return(v.isValid||y.isValid)&&(n.mode==="onBlur"?Ct&&R():Ct||R()),hn&&_.state.next({name:V,...ta?{}:na});if(!Ct&&ta&&_.state.next({...r}),n.resolver){const{errors:aa}=await J([V]);if(te(va),oe){const ya=ky(r.errors,i,V),Rr=ky(aa,i,ya.name||V);Te=Rr.error,V=Rr.name,He=fn(aa)}}else C([V],!0),Te=(await Ly(re,f.disabled,o,w,n.shouldUseNativeValidation))[V],C([V]),te(va),oe&&(Te?He=!1:(v.isValid||y.isValid)&&(He=await de(i,!0)));oe&&(re._f.deps&&he(re._f.deps),Z(V,He,Te,na))}},ae=(j,z)=>{if(me(r.errors,z)&&j.focus)return j.focus(),1},he=async(j,z={})=>{let V,oe;const re=xl(j);if(n.resolver){const te=await ce(xt(j)?j:re);V=fn(te),oe=j?!re.some(ge=>me(te,ge)):V}else j?(oe=(await Promise.all(re.map(async te=>{const ge=me(i,te);return await de(ge&&ge._f?{[te]:ge}:ge)}))).every(Boolean),!(!oe&&!r.isValid)&&R()):oe=V=await de(i);return _.state.next({...!ha(j)||(v.isValid||y.isValid)&&V!==r.isValid?{}:{name:j},...n.resolver||!j?{isValid:V}:{},errors:r.errors}),z.shouldFocus&&!oe&&Rl(i,ae,j?re:f.mount),oe},D=j=>{const z={...c.mount?o:l};return xt(j)?z:ha(j)?me(z,j):j.map(V=>me(z,V))},$=(j,z)=>({invalid:!!me((z||r).errors,j),isDirty:!!me((z||r).dirtyFields,j),error:me((z||r).errors,j),isValidating:!!me(r.validatingFields,j),isTouched:!!me((z||r).touchedFields,j)}),Y=j=>{j&&xl(j).forEach(z=>Et(r.errors,z)),_.state.next({errors:j?r.errors:{}})},q=(j,z,V)=>{const oe=(me(i,j,{_f:{}})._f||{}).ref,re=me(r.errors,j)||{},{ref:te,message:ge,type:be,...Te}=re;ut(r.errors,j,{...Te,...z,ref:oe}),_.state.next({name:j,errors:r.errors,isValid:!1}),V&&V.shouldFocus&&oe&&oe.focus&&oe.focus()},ie=(j,z)=>Kn(j)?_.state.subscribe({next:V=>"values"in V&&j(X(void 0,z),V)}):X(j,z,!0),ye=j=>_.state.subscribe({next:z=>{XA(j.name,z.name,j.exact)&&KA(z,j.formState||v,tn,j.reRenderRoot)&&j.callback({values:{...o},...r,...z,defaultValues:l})}}).unsubscribe,ue=j=>(c.mount=!0,y={...y,...j.formState},ye({...j,formState:y})),Be=(j,z={})=>{for(const V of j?xl(j):f.mount)f.mount.delete(V),f.array.delete(V),z.keepValue||(Et(i,V),Et(o,V)),!z.keepError&&Et(r.errors,V),!z.keepDirty&&Et(r.dirtyFields,V),!z.keepTouched&&Et(r.touchedFields,V),!z.keepIsValidating&&Et(r.validatingFields,V),!n.shouldUnregister&&!z.keepDefaultValue&&Et(l,V);_.state.next({values:zt(o)}),_.state.next({...r,...z.keepDirty?{isDirty:ee()}:{}}),!z.keepIsValid&&R()},Ce=({disabled:j,name:z})=>{(fa(j)&&c.mount||j||f.disabled.has(z))&&(j?f.disabled.add(z):f.disabled.delete(z))},Ze=(j,z={})=>{let V=me(i,j);const oe=fa(z.disabled)||fa(n.disabled);return ut(i,j,{...V||{},_f:{...V&&V._f?V._f:{ref:{name:j}},name:j,mount:!0,...z}}),f.mount.add(j),V?Ce({disabled:fa(z.disabled)?z.disabled:n.disabled,name:j}):B(j,!0,z.value),{...oe?{disabled:z.disabled||n.disabled}:{},...n.progressive?{required:!!z.required,min:pl(z.min),max:pl(z.max),minLength:pl(z.minLength),maxLength:pl(z.maxLength),pattern:pl(z.pattern)}:{},name:j,onChange:Q,onBlur:Q,ref:re=>{if(re){Ze(j,z),V=me(i,j);const te=xt(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,ge=$A(te),be=V._f.refs||[];if(ge?be.find(Te=>Te===te):te===V._f.ref)return;ut(i,j,{_f:{...V._f,...ge?{refs:[...be.filter(Tf),te,...Array.isArray(me(l,j))?[{}]:[]],ref:{type:te.type,name:j}}:{ref:te}}}),B(j,!1,void 0,te)}else V=me(i,j,{}),V._f&&(V._f.mount=!1),(n.shouldUnregister||z.shouldUnregister)&&!(UA(f.array,j)&&c.action)&&f.unMount.add(j)}}},je=()=>n.shouldFocusError&&Rl(i,ae,f.mount),Yt=j=>{fa(j)&&(_.state.next({disabled:j}),Rl(i,(z,V)=>{const oe=me(i,V);oe&&(z.disabled=oe._f.disabled||j,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(re=>{re.disabled=oe._f.disabled||j}))},0,!1))},_t=(j,z)=>async V=>{let oe;V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let re=zt(o);if(_.state.next({isSubmitting:!0}),n.resolver){const{errors:te,values:ge}=await J();r.errors=te,re=zt(ge)}else await de(i);if(f.disabled.size)for(const te of f.disabled)Et(re,te);if(Et(r.errors,"root"),fn(r.errors)){_.state.next({errors:{}});try{await j(re,V)}catch(te){oe=te}}else z&&await z({...r.errors},V),je(),setTimeout(je);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:fn(r.errors)&&!oe,submitCount:r.submitCount+1,errors:r.errors}),oe)throw oe},xn=(j,z={})=>{me(i,j)&&(xt(z.defaultValue)?L(j,zt(me(l,j))):(L(j,z.defaultValue),ut(l,j,zt(z.defaultValue))),z.keepTouched||Et(r.touchedFields,j),z.keepDirty||(Et(r.dirtyFields,j),r.isDirty=z.defaultValue?ee(j,zt(me(l,j))):ee()),z.keepError||(Et(r.errors,j),v.isValid&&R()),_.state.next({...r}))},bt=(j,z={})=>{const V=j?zt(j):l,oe=zt(V),re=fn(j),te=re?l:oe;if(z.keepDefaultValues||(l=V),!z.keepValues){if(z.keepDirtyValues){const ge=new Set([...f.mount,...Object.keys(ml(l,o))]);for(const be of Array.from(ge))me(r.dirtyFields,be)?ut(te,be,me(o,be)):L(be,me(te,be))}else{if(xh&&xt(j))for(const ge of f.mount){const be=me(i,ge);if(be&&be._f){const Te=Array.isArray(be._f.refs)?be._f.refs[0]:be._f.ref;if(Cu(Te)){const He=Te.closest("form");if(He){He.reset();break}}}}if(z.keepFieldsRef)for(const ge of f.mount)L(ge,me(te,ge));else i={}}o=n.shouldUnregister?z.keepDefaultValues?zt(l):{}:zt(te),_.array.next({values:{...te}}),_.state.next({values:{...te}})}f={mount:z.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!v.isValid||!!z.keepIsValid||!!z.keepDirtyValues,c.watch=!!n.shouldUnregister,_.state.next({submitCount:z.keepSubmitCount?r.submitCount:0,isDirty:re?!1:z.keepDirty?r.isDirty:!!(z.keepDefaultValues&&!br(j,l)),isSubmitted:z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:re?{}:z.keepDirtyValues?z.keepDefaultValues&&o?ml(l,o):r.dirtyFields:z.keepDefaultValues&&j?ml(l,j):z.keepDirty?r.dirtyFields:{},touchedFields:z.keepTouched?r.touchedFields:{},errors:z.keepErrors?r.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},ma=(j,z)=>bt(Kn(j)?j(o):j,z),ea=(j,z={})=>{const V=me(i,j),oe=V&&V._f;if(oe){const re=oe.refs?oe.refs[0]:oe.ref;re.focus&&(re.focus(),z.shouldSelect&&Kn(re.select)&&re.select())}},tn=j=>{r={...r,...j}},pa={control:{register:Ze,unregister:Be,getFieldState:$,handleSubmit:_t,setError:q,_subscribe:ye,_runSchema:J,_focusError:je,_getWatch:X,_getDirty:ee,_setValid:R,_setFieldArray:T,_setDisabledField:Ce,_setErrors:A,_getFieldArray:se,_reset:bt,_resetDefaultValues:()=>Kn(n.defaultValues)&&n.defaultValues().then(j=>{ma(j,n.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:ne,_disableForm:Yt,_subjects:_,_proxyFormState:v,get _fields(){return i},get _formValues(){return o},get _state(){return c},set _state(j){c=j},get _defaultValues(){return l},get _names(){return f},set _names(j){f=j},get _formState(){return r},get _options(){return n},set _options(j){n={...n,...j}}},subscribe:ue,trigger:he,register:Ze,handleSubmit:_t,watch:ie,setValue:L,getValues:D,reset:ma,resetField:xn,clearErrors:Y,unregister:Be,setError:q,setFocus:ea,getFieldState:$};return{...pa,formControl:pa}}function Bu(e={}){const n=De.useRef(void 0),r=De.useRef(void 0),[i,l]=De.useState({isDirty:!1,isValidating:!1,isLoading:Kn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Kn(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:i},e.defaultValues&&!Kn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...f}=eO(e);n.current={...f,formState:i}}const o=n.current.control;return o._options=e,FA(()=>{const c=o._subscribe({formState:o._proxyFormState,callback:()=>l({...o._formState}),reRenderRoot:!0});return l(f=>({...f,isReady:!0})),o._formState.isReady=!0,c},[o]),De.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),De.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),De.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),De.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),De.useEffect(()=>{if(o._proxyFormState.isDirty){const c=o._getDirty();c!==i.isDirty&&o._subjects.state.next({isDirty:c})}},[o,i.isDirty]),De.useEffect(()=>{e.values&&!br(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),r.current=e.values,l(c=>({...c}))):o._resetDefaultValues()},[o,e.values]),De.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),n.current.formState=zA(i,o),n.current}function tO(){const{selectedWorkCenter:e}=Ne(),{addMachine:n}=Ht(),r={department:ct.MACHINE.DEPARTMENT,machine_type:"",machine_name:"",work_center:e===Re.BOTH?"":e||ct.MACHINE.WORK_CENTER,min_web_width:ct.MACHINE.MIN_WEB_WIDTH,max_web_width:ct.MACHINE.MAX_WEB_WIDTH,min_bag_height:ct.MACHINE.MIN_BAG_HEIGHT,max_bag_height:ct.MACHINE.MAX_BAG_HEIGHT,standard_speed:"",setup_time_standard:ct.MACHINE.SETUP_TIME_STANDARD,changeover_color:ct.MACHINE.CHANGEOVER_COLOR,changeover_material:ct.MACHINE.CHANGEOVER_MATERIAL,active_shifts:ct.MACHINE.ACTIVE_SHIFTS,status:ct.MACHINE.STATUS},{getValidMachineTypes:i}=I_(),{register:l,handleSubmit:o,formState:{errors:c,isSubmitting:f},watch:h,setValue:m,getValues:v}=Bu({defaultValues:r}),y=h("department");E.useEffect(()=>{i(y).includes(v("machine_type"))||m("machine_type","")},[y,i,v,m]);const _=w=>{const{value:S,checked:R}=w.target,C=v("active_shifts")||[];R?m("active_shifts",[...C,S]):m("active_shifts",C.filter(T=>T!==S))};return p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Create Machine"}),p.jsxs("form",{onSubmit:o(n),children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"🏷️ Identificazione"}),p.jsxs("div",{className:"form-grid form-grid--4-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"department",children:"Department *"}),p.jsxs("select",{id:"department",...l("department"),className:c.department?"error":"",children:[p.jsx("option",{value:Rt.PRINTING,children:Rt.PRINTING}),p.jsx("option",{value:Rt.PACKAGING,children:Rt.PACKAGING})]}),c.department&&p.jsx("span",{className:"error-message",children:c.department.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"machine_type",children:"Machine Type *"}),p.jsxs("select",{id:"machine_type",...l("machine_type"),className:c.machine_type?"error":"",children:[p.jsx("option",{value:"",children:"Select machine type"}),i(y).map(w=>p.jsx("option",{value:w,children:w},w))]}),c.machine_type&&p.jsx("span",{className:"error-message",children:c.machine_type.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"machine_name",children:"Machine Name *"}),p.jsx("input",{type:"text",id:"machine_name",...l("machine_name"),placeholder:"Descriptive name",className:c.machine_name?"error":""}),c.machine_name&&p.jsx("span",{className:"error-message",children:c.machine_name.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"work_center",children:"Work Center *"}),e===Re.BOTH?p.jsxs("select",{...l("work_center",{required:"Work center is required"}),id:"work_center",className:c.work_center?"error":"",children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Re.ZANICA,children:Re.ZANICA}),p.jsx("option",{value:Re.BUSTO_GAROLFO,children:Re.BUSTO_GAROLFO})]}):p.jsx("input",{type:"text",id:"work_center",value:e||"No work center selected",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),e===Re.BOTH?c.work_center&&p.jsx("span",{className:"error-message",children:c.work_center.message}):p.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Work center is set based on your login selection"})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"🔧 Capacità Tecniche"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"min_web_width",children:"Min Web Width (mm)"}),p.jsx("input",{type:"number",id:"min_web_width",...l("min_web_width"),min:"0",step:"1",className:c.min_web_width?"error":""}),c.min_web_width&&p.jsx("span",{className:"error-message",children:c.min_web_width.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"max_web_width",children:"Max Web Width (mm) *"}),p.jsx("input",{type:"number",id:"max_web_width",...l("max_web_width"),min:"0",step:"1",className:c.max_web_width?"error":""}),c.max_web_width&&p.jsx("span",{className:"error-message",children:c.max_web_width.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"min_bag_height",children:"Min Bag Height (mm)"}),p.jsx("input",{type:"number",id:"min_bag_height",...l("min_bag_height"),min:"0",step:"1",className:c.min_bag_height?"error":""}),c.min_bag_height&&p.jsx("span",{className:"error-message",children:c.min_bag_height.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"max_bag_height",children:"Max Bag Height (mm) *"}),p.jsx("input",{type:"number",id:"max_bag_height",...l("max_bag_height"),min:"0",step:"1",className:c.max_bag_height?"error":""}),c.max_bag_height&&p.jsx("span",{className:"error-message",children:c.max_bag_height.message})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"⚡ Performance"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"standard_speed",children:"Standard Speed"}),p.jsx("input",{type:"number",id:"standard_speed",...l("standard_speed"),placeholder:"pz/h or mt/h",min:"0",step:"1",className:c.standard_speed?"error":""}),c.standard_speed&&p.jsx("span",{className:"error-message",children:c.standard_speed.message})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"setup_time_standard",children:"Setup Time Standard (h)"}),p.jsx("input",{type:"number",id:"setup_time_standard",...l("setup_time_standard"),min:"0",step:"0.1",className:c.setup_time_standard?"error":""}),c.setup_time_standard&&p.jsx("span",{className:"error-message",children:c.setup_time_standard.message})]}),y===Rt.PRINTING&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"changeover_color",children:"Changeover Color (h)"}),p.jsx("input",{type:"number",id:"changeover_color",...l("changeover_color"),min:"0",step:"0.1",className:c.changeover_color?"error":""}),c.changeover_color&&p.jsx("span",{className:"error-message",children:c.changeover_color.message})]}),y===Rt.PACKAGING&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"changeover_material",children:"Material Changeover (h)"}),p.jsx("input",{type:"number",id:"changeover_material",...l("changeover_material"),min:"0",step:"0.1",className:c.changeover_material?"error":""}),c.changeover_material&&p.jsx("span",{className:"error-message",children:c.changeover_material.message})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"📅 Disponibilità"}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Active Shifts"}),p.jsxs("div",{className:"checkbox-group",children:[p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",value:ca.T1,checked:v("active_shifts")?.includes(ca.T1),onChange:_})," ",ca.T1]}),p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",value:ca.T2,checked:v("active_shifts")?.includes(ca.T2),onChange:_})," ",ca.T2]}),p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",value:ca.T3,checked:v("active_shifts")?.includes(ca.T3),onChange:_})," ",ca.T3]})]})]})]}),p.jsx("div",{className:"form-actions",style:{marginTop:"20px"},children:p.jsx("button",{type:"submit",className:"nav-btn today",disabled:f,children:f?"Adding Machine...":"Add Machine"})})]})]})}function $e({row:e,column:n,table:r,value:i,isEditing:l,onChange:o,type:c="auto",options:f=[],parseValue:h=null,min:m=null,max:v=null,step:y=null}){const _=l??r?.options?.meta?.editingRowId===e?.id,w=i??e?.original?.[n?.id],S=c==="auto"?C(n?.id):c,R=A=>{const B=A.target.value;let U=B;h?U=h(B):S==="number"?U=parseFloat(B)||0:S==="integer"&&(U=parseInt(B)||0),r?.options?.meta?.setEditedData?r.options.meta.setEditedData(Z=>({...Z,[n?.id]:U})):o&&o(A)};function C(A){if(!A)return"text";if(A==="status")return"select";if(["quantity","quantity_completed","quantity_per_box","numero_persone","bag_height","bag_width","bag_step","min_web_width","max_web_width","min_bag_height","max_bag_height"].includes(A))return"integer";const U=["setup_time_standard","changeover_color","changeover_material","t_setup_stampa","t_setup_conf"],Z=["costo_h_stampa","costo_h_conf"],J=["standard_speed","v_stampa","v_conf"];return U.includes(A)||Z.includes(A)||J.includes(A)?"number":"text"}function T(A){return A==="status"?[{value:Un.ACTIVE,label:Un.ACTIVE},{value:Un.INACTIVE,label:Un.INACTIVE},{value:Un.MAINTENANCE,label:Un.MAINTENANCE}]:A==="department"?[{value:Rt.PRINTING,label:Rt.PRINTING},{value:Rt.PACKAGING,label:Rt.PACKAGING}]:A==="work_center"?[{value:Re.ZANICA,label:Re.ZANICA},{value:Re.BUSTO_GAROLFO,label:Re.BUSTO_GAROLFO}]:A==="product_type"?[{value:Zi.CREMA,label:"Crema"},{value:Zi.LIQUIDO,label:"Liquido"},{value:Zi.POLVERI,label:"Polveri"}]:A==="seal_sides"?[{value:Nl.THREE,label:"3 sides"},{value:Nl.FOUR,label:"4 sides"}]:f}if(_)switch(S){case"select":{const A=T(n?.id);return p.jsx("select",{defaultValue:w,onChange:R,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"},children:A.map(B=>p.jsx("option",{value:B.value,children:B.label},B.value))})}case"number":{const A=cl.DECIMAL_PRECISION.TWO_DECIMAL.includes(n?.id)?cl.FIELD_STEPS.COST:(cl.DECIMAL_PRECISION.ONE_DECIMAL.includes(n?.id),cl.FIELD_STEPS.TIME);return p.jsx("input",{type:"number",defaultValue:w,onChange:R,min:m,max:v,step:y||A,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}})}case"integer":return p.jsx("input",{type:"number",defaultValue:w,onChange:R,min:m||0,max:v,step:1,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}});default:return p.jsx("input",{type:"text",defaultValue:w,onChange:R,style:{width:"100%",padding:"4px",border:"1px solid #ccc",borderRadius:"4px"}})}const O=w??"";return S==="number"||S==="integer"?p.jsx("span",{children:O}):p.jsx("span",{children:O})}function nO(){const{machines:e,updateMachine:n,removeMachine:r}=Ht(),{selectedWorkCenter:i,isLoading:l,isInitialized:o,showAlert:c,showConfirmDialog:f}=Ne(),{init:h,cleanup:m}=Zr(),v=E.useMemo(()=>i?i===Re.BOTH?e:e.filter(C=>C.work_center===i):[],[e,i]),{validateMachine:y}=UT(),{handleAsync:_}=ga("MachineryPage");E.useEffect(()=>(o||h(),()=>{m()}),[h,o,m]);const w=E.useMemo(()=>[{header:"Machine ID",accessorKey:"id"},{header:"Machine Type",accessorKey:"machine_type"},{header:"Machine Name",accessorKey:"machine_name",cell:$e},{header:"Work Center",accessorKey:"work_center"},{header:"Department",accessorKey:"department"},{header:"Status",accessorKey:"status",cell:$e},{header:"Min Web (mm)",accessorKey:"min_web_width",cell:$e},{header:"Max Web (mm)",accessorKey:"max_web_width",cell:$e},{header:"Min Bag (mm)",accessorKey:"min_bag_height",cell:$e},{header:"Max Bag (mm)",accessorKey:"max_bag_height",cell:$e},{header:"Std Speed",accessorKey:"standard_speed",cell:$e},{header:"Setup (h)",accessorKey:"setup_time_standard",cell:$e},{header:"Color Change (h)",accessorKey:"changeover_color",cell:$e},{header:"Material Change (h)",accessorKey:"changeover_material",cell:$e},{header:"Active Shifts",accessorKey:"active_shifts",cell:C=>Array.isArray(C.getValue())?C.getValue().join(", "):""},{header:"Created At",accessorKey:"created_at",cell:C=>new Date(C.getValue()).toLocaleDateString()},{header:"Updated At",accessorKey:"updated_at",cell:C=>new Date(C.getValue()).toLocaleDateString()},{header:"Calendar",accessorKey:"id",cell:C=>p.jsx(Ln,{to:`/machinery/${C.getValue()}/calendar`,className:"nav-btn today",style:{textDecoration:"none"},children:"View Calendar"})}],[]),S=async C=>{const T=y(C);if(T.length>0){c(`Validation errors:
${T.join(`
`)}`,"error");return}await _(()=>n(C.id,C),{context:"Update Machine",fallbackMessage:"Failed to update machine"})},R=async C=>{f("Delete Machine",`Are you sure you want to delete "${C.machine_name}"? This action cannot be undone.`,async()=>{await _(()=>r(C.id),{context:"Delete Machine",fallbackMessage:"Failed to delete machine"})},"danger")};return l?p.jsx("div",{children:"Loading machinery data..."}):i?p.jsxs(p.Fragment,{children:[p.jsx(tO,{}),p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Machinery Catalog"}),p.jsx(Eh,{columns:w,data:v,onSaveRow:S,onDeleteRow:R})]})]}):p.jsx("div",{className:"error",children:"Please select a work center to view machinery data."})}function aO({currentDate:e,currentView:n,onDateChange:r,onViewChange:i}){const l=()=>{r(new Date)},o=()=>{let h;n==="Month"?(h=new Date(e),h.setMonth(h.getMonth()-1)):n==="Week"?h=Ml(e,-7):n==="Year"&&(h=new Date(e),h.setFullYear(h.getFullYear()-1)),r(h)},c=()=>{let h;n==="Month"?(h=new Date(e),h.setMonth(h.getMonth()+1)):n==="Week"?h=Ml(e,7):n==="Year"&&(h=new Date(e),h.setFullYear(h.getFullYear()+1)),r(h)},f=()=>{if(n==="Month")return e.toLocaleDateString("en-US",{month:"long",year:"numeric"});if(n==="Week"){const h=H_(e),m=uT(e);return`${h.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${m.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}else if(n==="Year")return e.getFullYear().toString();return""};return p.jsxs("div",{className:"calendar-controls-container",children:[p.jsxs("div",{className:"calendar-navigation",children:[p.jsx("button",{className:"nav-btn today",onClick:o,"aria-label":"Previous",children:"← Previous"}),p.jsx("button",{className:"nav-btn today",onClick:l,children:"Today"}),p.jsx("button",{className:"nav-btn today",onClick:c,"aria-label":"Next",children:"Next →"})]}),p.jsxs("div",{className:"calendar-view-selector",children:[p.jsx("h3",{children:f()}),p.jsxs("select",{value:n,onChange:h=>i(h.target.value),children:[p.jsx("option",{value:"Month",children:"Month"}),p.jsx("option",{value:"Week",children:"Week"}),p.jsx("option",{value:"Year",children:"Year"})]})]})]})}function rO({machineId:e,currentDate:n,onSuccess:r}){const{setMachineUnavailability:i}=Ji(),{showAlert:l}=Ne(),{handleAsync:o}=ga("OffTimeForm"),c=R=>{const C={};if(R.startDate&&R.endDate){const T=new Date(R.startDate);new Date(R.endDate)<T&&(C.endDate={type:"validation",message:ly.END_DATE_BEFORE_START}),R.startDate===R.endDate&&R.startTime&&R.endTime&&R.startTime>=R.endTime&&(C.endTime={type:"validation",message:ly.END_TIME_BEFORE_START})}return{values:R,errors:Object.keys(C).length>0?C:{}}},f=async R=>{await o(async()=>{await i(e,R.startDate,R.endDate,R.startTime,R.endTime),l("Machine unavailability set successfully!","success"),r&&r(),w()},{context:"Set Machine Unavailability",fallbackMessage:"Failed to set machine unavailability"})},{register:h,handleSubmit:m,formState:{errors:v,isSubmitting:y},setValue:_,reset:w}=Bu({defaultValues:{startDate:"",startTime:"",endDate:"",endTime:""},resolver:c});E.useEffect(()=>{const R=new Date,C=Ml(R,1);_("startDate",Gt(R)),_("endDate",Gt(C)),_("startTime",ct.OFF_TIME.START_TIME),_("endTime",ct.OFF_TIME.END_TIME)},[n,_]);const S=R=>{const C=v[R];return C?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:C.message}):null};return p.jsxs("div",{className:"off-time-section",children:[p.jsx("h3",{children:"Set Off-Time Period"}),p.jsxs("form",{onSubmit:m(f),className:"off-time-form",children:[p.jsxs("div",{className:"form-grid form-grid--4-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"startDate",children:"Start Date"}),p.jsx("input",{type:"date",id:"startDate",...h("startDate"),className:`date-input ${v.startDate?"error":""}`}),S("startDate")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"startTime",children:"Start Time"}),p.jsx("input",{type:"time",id:"startTime",...h("startTime"),className:`time-input ${v.startTime?"error":""}`}),S("startTime")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"endDate",children:"End Date"}),p.jsx("input",{type:"date",id:"endDate",...h("endDate"),className:`date-input ${v.endDate?"error":""}`}),S("endDate")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"endTime",children:"End Time"}),p.jsx("input",{type:"time",id:"endTime",...h("endTime"),className:`time-input ${v.endTime?"error":""}`}),S("endTime")]})]}),p.jsx("div",{className:"form-actions",children:p.jsx("button",{type:"submit",className:"nav-btn today",disabled:y,children:y?"Setting...":"Set Off-Time"})})]})]})}function iO({machineId:e,currentDate:n,currentView:r,refreshTrigger:i}){const[l,o]=E.useState({}),[c,f]=E.useState(!1),{machines:h}=Ht(),{odpOrders:m}=Nt(),{machineAvailability:v,getMachineAvailability:y,loadMachineAvailabilityForDateRange:_,toggleMachineHourAvailability:w}=Ji(),{showAlert:S}=Ne();ga("CalendarGrid");const R=h.find(ne=>ne.id===e);if(!R)return p.jsx("div",{className:"loading",children:"Loading machine data..."});const C=E.useMemo(()=>{if(!e||!v)return{};const ne={},ee=new Map;return Object.entries(v).forEach(([X,se])=>{if(Array.isArray(se)){const le=se.find(pe=>pe.machine_id===e);le&&le.unavailable_hours&&(ne[X]=le.unavailable_hours,ee.set(X,le))}}),{organizedData:ne,machineDataMap:ee}},[e,v]),T=E.useMemo(()=>{if(!n)return{dates:[],dateStrings:[]};let ne=[],ee=[];if(r==="Month"){const X=n.getFullYear(),se=n.getMonth(),le=new Date(X,se,1),pe=new Date(X,se+1,0),L=new Date(le);for(;L<=pe;)ne.push(new Date(L)),ee.push(Gt(L)),L.setDate(L.getDate()+1)}else if(r==="Week"){const X=H_(n);for(let se=0;se<7;se++){const le=new Date(X);le.setDate(X.getDate()+se),ne.push(le),ee.push(Gt(le))}}else if(r==="Year"){const X=n.getFullYear();for(let se=0;se<12;se++){const le=new Date(X,se+1,0).getDate();for(let pe=1;pe<=le;pe++){const L=new Date(X,se,pe);ne.push(L),ee.push(Gt(L))}}}else ne.push(n),ee.push(Gt(n));return{dates:ne,dateStrings:ee}},[n,r]);E.useEffect(()=>{(async()=>{if(e){f(!0);try{const{dateStrings:ee}=T;if(ee.length===0){f(!1);return}const{organizedData:X,machineDataMap:se}=C;let le={...X};if(ee.some(L=>{const Q=se.get(L);return!Q||!Q.unavailable_hours})){const L=ee[0],Q=ee[ee.length-1],ae=await _(e,L,Q);if(ae&&Array.isArray(ae)){const he={};ae.forEach(D=>{if(D.date&&D.unavailable_hours){const $=new Date(D.date),Y=Gt($);he[Y]=D.unavailable_hours}}),le={...le,...he}}}o(le)}catch(ee){console.error("Failed to load machine availability data:",ee);const{organizedData:X}=C;o(X)}finally{f(!1)}}})()},[e,T,C,_,i]);const O=E.useMemo(()=>R?m.filter(ne=>ne.status==="SCHEDULED"&&ne.scheduled_machine_id===R.id):[],[R,m]),A=E.useCallback((ne,ee)=>!R||O.length===0?!1:O.some(X=>oT(X,ne,ee)),[R,O]),B=E.useMemo(()=>new Map(Object.entries(l)),[l]),U=E.useCallback(ne=>B.get(ne)||[],[B]),Z=E.useCallback(async(ne,ee)=>{if(A(ne,ee)){S("Cannot mark time slot as unavailable - it has scheduled tasks","error");return}if(R)try{await w(R.id,ne,ee)}catch(X){console.error("Failed to toggle machine hour availability:",X),S("Failed to toggle machine hour availability","error")}},[A,S,R,w]),J=E.useCallback(()=>{const{dates:ne}=T;if(ne.length===0)return null;const ee=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return p.jsxs("div",{className:"calendar-month-grid",children:[p.jsx("div",{className:"calendar-week-header",children:ee.map(X=>p.jsx("div",{className:"week-day-header",children:X},X))}),p.jsx("div",{className:"calendar-days-grid",children:ne.map((X,se)=>{const le=Gt(X),pe=U(le),L=X.getMonth()===n.getMonth(),Q=X.toDateString()===new Date().toDateString(),ae=Array.from({length:24},(D,$)=>$).some(D=>A(le,D));let he="calendar-day";return L||(he+=" other-month"),Q&&(he+=" today"),pe.length>0&&(he+=pe.length===24?" unavailable":" partially-unavailable"),ae&&(he+=" has-scheduled-tasks"),p.jsxs("div",{className:he,children:[p.jsx("span",{className:"day-number",children:X.getDate()}),pe.length>0&&p.jsx("div",{className:"availability-indicator",children:pe.length===24?"All Day":`${pe.length}h`}),ae&&p.jsx("div",{className:"scheduled-tasks-indicator",children:"📋"})]},le)})})]})},[T,U,n,A]),ce=E.useCallback(()=>{const{dates:ne}=T;if(ne.length===0)return null;const ee=Array.from({length:24},(X,se)=>se);return p.jsxs("div",{className:"calendar-week-grid",children:[p.jsxs("div",{className:"time-column-header",children:[p.jsx("div",{className:"time-header-cell",children:"Time"}),ne.map(X=>p.jsx("div",{className:"day-header-cell",children:X.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},X.toISOString()))]}),ee.map(X=>p.jsxs("div",{className:"time-row",children:[p.jsxs("div",{className:"time-label",children:[X.toString().padStart(2,"0"),":00"]}),ne.map(se=>{const le=Gt(se),pe=U(le),L=X.toString(),Q=pe.includes(L),ae=A(le,X);let he="time-slot";return Q&&(he+=" unavailable"),ae&&(he+=" has-scheduled-task"),p.jsx("div",{className:he,onClick:()=>Z(le,X),children:p.jsx("div",{className:"time-slot-content",children:Q?"❌":ae?"📋":"✓"})},`${le}-${X}`)})]},X))]})},[T,U,A,Z,l]),de=E.useCallback(()=>{const ne=n.getFullYear(),ee=Array.from({length:12},(X,se)=>se);return p.jsx("div",{className:"calendar-year-grid",children:ee.map(X=>{const le=new Date(ne,X,1).toLocaleDateString("en-US",{month:"short"}),pe=new Date(ne,X+1,0).getDate(),L=new Date(ne,X,1).getDay(),Q=[];for(let ae=0;ae<L;ae++)Q.push(null);for(let ae=1;ae<=pe;ae++)Q.push(ae);return p.jsxs("div",{className:"month-mini-calendar",children:[p.jsx("h4",{children:le}),p.jsxs("div",{className:"mini-month-grid",children:[["S","M","T","W","T","F","S"].map((ae,he)=>p.jsx("div",{className:"mini-day-header",children:ae},`${X}-${he}-${ae}`)),Q.map((ae,he)=>{if(ae===null)return p.jsx("div",{className:"mini-day empty"},`empty-${X}-${he}`);const D=Gt(new Date(ne,X,ae)),$=U(D),Y=$.length>0;return p.jsx("div",{className:`mini-day ${Y?"unavailable":""}`,title:Y?`${$.length} unavailable hours`:"Available",children:ae},D)})]})]},X)})})},[n,U,l]);return c?p.jsx("div",{className:"loading",children:"Loading calendar data..."}):p.jsxs("div",{className:"calendar-grid-container",children:[r==="Month"&&J(),r==="Week"&&ce(),r==="Year"&&de()]})}function sO(){const{machineId:e}=AS(),[n,r]=E.useState(new Date),[i,l]=E.useState("Month"),[o,c]=E.useState(0),{getMachineById:f}=Ht(),{getLoadingState:h,getInitializationState:m}=Ne(),{init:v,cleanup:y}=Zr(),_=f(e),w=h(),S=m();if(E.useEffect(()=>(S||v(),()=>{y()}),[v,S,y]),w||!S)return p.jsx("div",{className:"loading",children:"Loading machine calendar..."});if(!_)return p.jsx("div",{className:"error",children:"Machine not found"});const R=O=>{r(O)},C=O=>{l(O)},T=()=>{c(O=>O+1)};return p.jsx("div",{className:"page-container",children:p.jsxs("div",{className:"content-section",children:[p.jsxs("div",{className:"calendar-header",children:[p.jsx("h1",{children:"Machine Availability Calendar"}),p.jsx("h2",{children:_.machine_name})]}),p.jsx(aO,{currentDate:n,currentView:i,onDateChange:R,onViewChange:C}),p.jsx(rO,{machineId:_.id,currentDate:n,onSuccess:T}),p.jsx(iO,{machineId:_.id,currentDate:n,currentView:i,refreshTrigger:o})]})})}function lO(){const{selectedWorkCenter:e}=Ne(),{addPhase:n}=Gn(),r={name:"",department:ct.PHASE.DEPARTMENT,numero_persone:ct.PHASE.NUMERO_PERSONE,work_center:e===Re.BOTH?"":e||ct.PHASE.WORK_CENTER,v_stampa:ct.PHASE.V_STAMPA,t_setup_stampa:ct.PHASE.T_SETUP_STAMPA,costo_h_stampa:ct.PHASE.COSTO_H_STAMPA,v_conf:ct.PHASE.V_CONF,t_setup_conf:ct.PHASE.T_SETUP_CONF,costo_h_conf:ct.PHASE.COSTO_H_CONF,contenuto_fase:""},{register:i,handleSubmit:l,formState:{errors:o,isSubmitting:c},watch:f,setValue:h}=Bu({defaultValues:r}),m=f("department");E.useEffect(()=>{m===Rt.PRINTING&&(h("v_conf",0),h("t_setup_conf",0),h("costo_h_conf",0))},[m,h]);const v=y=>o[y]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:o[y].message}):null;return p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Create Phases"}),p.jsxs("form",{onSubmit:l(n),children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"➕ Add New Phase"}),p.jsxs("div",{className:"form-grid form-grid--4-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"name",children:"Phase Name *"}),p.jsx("input",{type:"text",id:"name",...i("name"),placeholder:"e.g., High-Speed Printing",className:o.name?"error":""}),v("name")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"department",children:"Phase Type *"}),p.jsxs("select",{id:"department",...i("department"),className:o.department?"error":"",children:[p.jsx("option",{value:Rt.PRINTING,children:Rt.PRINTING}),p.jsx("option",{value:Rt.PACKAGING,children:Rt.PACKAGING})]}),v("department")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"numero_persone",children:"Number of People Required *"}),p.jsx("input",{type:"number",id:"numero_persone",...i("numero_persone"),min:"1",step:"1",className:o.numero_persone?"error":""}),v("numero_persone")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"work_center",children:"Work Center *"}),e===Re.BOTH?p.jsxs("select",{...i("work_center",{required:"Work center is required"}),id:"work_center",className:o.work_center?"error":"",children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Re.ZANICA,children:Re.ZANICA}),p.jsx("option",{value:Re.BUSTO_GAROLFO,children:Re.BUSTO_GAROLFO})]}):p.jsx("input",{type:"text",id:"work_center",value:e||"No work center selected",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),e===Re.BOTH?o.work_center&&p.jsx("span",{className:"error-message",children:o.work_center.message}):p.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Work center is set based on your login selection"})]})]})]}),m===Rt.PRINTING&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"🖨️ Printing Parameters"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_stampa",children:"Printing Speed (mt/h) *"}),p.jsx("input",{type:"number",id:"v_stampa",...i("v_stampa"),min:"0",step:"1",className:o.v_stampa?"error":""}),v("v_stampa")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_stampa",children:"Setup Time (hours)"}),p.jsx("input",{type:"number",id:"t_setup_stampa",...i("t_setup_stampa"),min:"0",step:"0.1",className:o.t_setup_stampa?"error":""}),v("t_setup_stampa")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_stampa",children:"Hourly Cost (€/h)"}),p.jsx("input",{type:"number",id:"costo_h_stampa",...i("costo_h_stampa"),min:"0",step:"0.01",className:o.costo_h_stampa?"error":""}),v("costo_h_stampa")]})]})]}),m===Rt.PACKAGING&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"📦 Packaging Parameters"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_conf",children:"Packaging Speed (pz/h) *"}),p.jsx("input",{type:"number",id:"v_conf",...i("v_conf"),min:"0",step:"1",className:o.v_conf?"error":""}),v("v_conf")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_conf",children:"Setup Time (hours)"}),p.jsx("input",{type:"number",id:"t_setup_conf",...i("t_setup_conf"),min:"0",step:"0.1",className:o.t_setup_conf?"error":""}),v("t_setup_conf")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_conf",children:"Hourly Cost (€/h)"}),p.jsx("input",{type:"number",id:"costo_h_conf",...i("costo_h_conf"),min:"0",step:"0.01",className:o.costo_h_conf?"error":""}),v("costo_h_conf")]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"contenuto_fase",children:"Phase Content Description"}),p.jsx("textarea",{id:"contenuto_fase",...i("contenuto_fase"),rows:"3",placeholder:"Describe the phase content and requirements..."})]})]}),p.jsx("div",{className:"form-actions",style:{marginTop:"20px"},children:p.jsx("button",{type:"submit",className:"nav-btn today",disabled:c,children:c?"Adding Phase...":"Add Phase"})})]})]})}function oO(){const[e,n]=E.useState(null),{phases:r,updatePhase:i,removePhase:l}=Gn(),{selectedWorkCenter:o,isLoading:c,isInitialized:f,showAlert:h,showConfirmDialog:m}=Ne(),{init:v,cleanup:y}=Zr(),_=E.useMemo(()=>o?o===Re.BOTH?r:r.filter(O=>O.work_center===o):[],[r,o]),{validatePhase:w}=PT(),{handleAsync:S}=ga("PhasesPage");E.useEffect(()=>(f||v().catch(O=>{n("Failed to load phases data")}),()=>{y()}),[v,f,y]);const R=E.useMemo(()=>[{header:"ID",accessorKey:"id"},{header:"Phase Name",accessorKey:"name",cell:$e},{header:"Department",accessorKey:"department",cell:$e},{header:"Work Center",accessorKey:"work_center",cell:$e},{header:"Print Speed (mt/h)",accessorKey:"v_stampa",cell:$e},{header:"Print Setup (h)",accessorKey:"t_setup_stampa",cell:$e},{header:"Print Cost (€/h)",accessorKey:"costo_h_stampa",cell:$e},{header:"Package Speed (pz/h)",accessorKey:"v_conf",cell:$e},{header:"Package Setup (h)",accessorKey:"t_setup_conf",cell:$e},{header:"Package Cost (€/h)",accessorKey:"costo_h_conf",cell:$e},{header:"# People",accessorKey:"numero_persone",cell:$e},{header:"Created At",accessorKey:"created_at",cell:O=>new Date(O.getValue()).toLocaleDateString()}],[]),C=async O=>{const A=w(O);if(A.length>0){h(`Validation errors:
${A.join(`
`)}`,"error");return}await S(()=>i(O.id,O),{context:"Update Phase",fallbackMessage:"Failed to update phase"})},T=async O=>{m("Delete Phase",`Are you sure you want to delete "${O.name}"? This action cannot be undone.`,async()=>{await S(()=>l(O.id),{context:"Delete Phase",fallbackMessage:"Failed to delete phase"})},"danger")};return c?p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"loading",children:"Loading phases data..."})}):o?e?p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"error-message",style:{color:"red",textAlign:"center",padding:"20px"},children:e})}):p.jsxs(p.Fragment,{children:[p.jsx(lO,{}),p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Production Phases"}),p.jsx(Eh,{columns:R,data:_,onSaveRow:C,onDeleteRow:T})]})]}):p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"error",children:"Please select a work center to view phases data."})})}const uO=({onSuccess:e})=>{const{addOdpOrder:n}=Nt(),{showAlert:r,selectedWorkCenter:i}=Ne(),{calculateProductionMetrics:l,autoDetermineWorkCenter:o,autoDetermineDepartment:c}=I_(),{handleAsync:f}=ga("BacklogForm"),[h,m]=E.useState(null),v=E.useMemo(()=>({odp_number:"",article_code:"",production_lot:"",work_center:i===Re.BOTH?"":i||"",nome_cliente:"",description:"",delivery_date:"",bag_height:"",bag_width:"",bag_step:"",seal_sides:ct.ORDER.SEAL_SIDES,product_type:"",quantity:"",quantity_per_box:"",quantity_completed:ct.ORDER.QUANTITY_COMPLETED,internal_customer_code:"",external_customer_code:"",customer_order_ref:"",department:"",fase:""}),[i]),{register:y,handleSubmit:_,formState:{errors:w,isSubmitting:S},watch:R,setValue:C,getValues:T,reset:O,clearErrors:A}=Bu({defaultValues:v}),B=R("article_code"),U=R("department"),Z=R("work_center"),{phaseSearch:J,setPhaseSearch:ce,isDropdownVisible:de,setIsDropdownVisible:ne,selectedPhase:ee,setSelectedPhase:X,filteredPhases:se,editablePhaseParams:le,setEditablePhaseParams:pe,handlePhaseParamChange:L,handlePhaseSelect:Q,handleBlur:ae}=zT(U,Z);E.useEffect(()=>{if(B){const q=c(B),ie=o(B);C("department",q),i===Re.BOTH&&C("work_center",ie),C("fase",""),ce(""),X(null),pe({}),m(null)}},[B,c,o,C,i]);const he=async q=>{if(!h){r("Please calculate production metrics before adding to the backlog.","warning");return}await f(async()=>{const ie={...q,duration:h.totals.duration,cost:h.totals.cost,status:"NOT SCHEDULED"};await n(ie),e&&e(),O(v),ce(""),X(null),pe({}),m(null)},{context:"Add Order",fallbackMessage:"Failed to add order to backlog"})},D=q=>{Q(q,C,A),m(null)},$=()=>{if(!ee||!T("quantity")||!T("bag_step")){r("Please select a phase and enter Quantity and Bag Step to calculate.","warning");return}const q={...ee,...le},ie=l(q,T("quantity"),T("bag_step"));m(ie)},Y=q=>w[q]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:w[q].message}):null;return p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Create ODP"}),p.jsxs("form",{onSubmit:_(he),children:[p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"🏷️ Identificazione"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"odp_number",children:"ODP Number *"}),p.jsx("input",{type:"text",id:"odp_number",...y("odp_number",{required:"ODP Number is required"}),placeholder:"ODP Number",className:w.odp_number?"error":""}),Y("odp_number")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"article_code",children:"Article Code *"}),p.jsx("input",{type:"text",id:"article_code",...y("article_code",{required:"Article Code is required"}),placeholder:"Article Code",className:w.article_code?"error":""}),Y("article_code")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"production_lot",children:"External Article Code *"}),p.jsx("input",{type:"text",id:"production_lot",...y("production_lot",{required:"External Article Code is required"}),placeholder:"External Article Code",className:w.production_lot?"error":""}),Y("production_lot")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"work_center",children:"Work Center"}),i===Re.BOTH?p.jsxs("select",{...y("work_center",{required:"Work center is required"}),id:"work_center",className:w.work_center?"error":"",children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Re.ZANICA,children:Re.ZANICA}),p.jsx("option",{value:Re.BUSTO_GAROLFO,children:Re.BUSTO_GAROLFO})]}):p.jsx("input",{type:"text",id:"work_center",value:i||"No work center selected",disabled:!0,className:"disabled-input",style:{backgroundColor:"#f5f5f5",color:"#666"}}),i===Re.BOTH?w.work_center&&p.jsx("span",{className:"error-message",children:w.work_center.message}):p.jsx("small",{style:{color:"#666",fontSize:"12px"},children:"Work center is set based on your login selection"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"nome_cliente",children:"Customer Name"}),p.jsx("input",{type:"text",id:"nome_cliente",...y("nome_cliente"),placeholder:"Customer Name"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"description",children:"Description"}),p.jsx("textarea",{id:"description",...y("description"),placeholder:"Description",rows:"2"})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"🔧 Specifiche Tecniche"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"bag_height",children:"Bag Height (mm) *"}),p.jsx("input",{type:"number",id:"bag_height",...y("bag_height",{required:"Bag Height is required",min:{value:0,message:"Bag Height must be at least 0"}}),placeholder:"Bag Height",min:"0",step:"1",className:w.bag_height?"error":""}),Y("bag_height")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"bag_width",children:"Bag Width (mm) *"}),p.jsx("input",{type:"number",id:"bag_width",...y("bag_width",{required:"Bag Width is required",min:{value:0,message:"Bag Width must be at least 0"}}),placeholder:"Bag Width",min:"0",step:"1",className:w.bag_width?"error":""}),Y("bag_width")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"bag_step",children:"Bag Step (mm) *"}),p.jsx("input",{type:"number",id:"bag_step",...y("bag_step",{required:"Bag Step is required",min:{value:0,message:"Bag Step must be at least 0"}}),placeholder:"Bag Step",min:"0",step:"1",className:w.bag_step?"error":""}),Y("bag_step")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"seal_sides",children:"Seal Sides"}),p.jsxs("select",{id:"seal_sides",...y("seal_sides"),children:[p.jsx("option",{value:Nl.THREE,children:"3 sides"}),p.jsx("option",{value:Nl.FOUR,children:"4 sides"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"product_type",children:"Product Type *"}),p.jsxs("select",{id:"product_type",...y("product_type",{required:"Product Type is required"}),className:w.product_type?"error":"",children:[p.jsx("option",{value:"",children:"Select product type"}),p.jsx("option",{value:Zi.CREMA,children:"Crema"}),p.jsx("option",{value:Zi.LIQUIDO,children:"Liquido"}),p.jsx("option",{value:Zi.POLVERI,children:"Polveri"})]}),Y("product_type")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity",children:"Quantity *"}),p.jsx("input",{type:"number",id:"quantity",...y("quantity",{required:"Quantity is required",min:{value:0,message:"Quantity must be at least 0"}}),placeholder:"Quantity",min:"0",step:"1",className:w.quantity?"error":""}),Y("quantity")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity_per_box",children:"Qty per Box"}),p.jsx("input",{type:"number",id:"quantity_per_box",...y("quantity_per_box",{min:{value:0,message:"Quantity per Box must be at least 0"}}),placeholder:"Qty per Box",min:"0",step:"1"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity_completed",children:"Qty Completed"}),p.jsx("input",{type:"number",id:"quantity_completed",...y("quantity_completed",{min:{value:0,message:"Quantity Completed must be at least 0"}}),placeholder:"Qty Completed",min:"0",step:"1",className:w.quantity_completed?"error":""}),Y("quantity_completed")]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"💰 Dati Commerciali"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"internal_customer_code",children:"FLEXI Lot"}),p.jsx("input",{type:"text",id:"internal_customer_code",...y("internal_customer_code"),placeholder:"FLEXI Lot"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"external_customer_code",children:"Customer Lot"}),p.jsx("input",{type:"text",id:"external_customer_code",...y("external_customer_code"),placeholder:"Customer Lot"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"customer_order_ref",children:"Customer Ref"}),p.jsx("input",{type:"text",id:"customer_order_ref",...y("customer_order_ref"),placeholder:"Customer Reference"})]})]})]}),p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"⚙️ Dati Lavorazione & Pianificazione"}),p.jsxs("div",{className:"form-grid form-grid--3-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"department",children:"Department"}),p.jsx("input",{type:"text",id:"department",...y("department"),placeholder:"Department",readOnly:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"phase_search",children:"Search Production Phase *"}),p.jsxs("div",{className:"searchable-dropdown",children:[p.jsx("input",{type:"text",id:"phase_search",value:J,onChange:q=>ce(q.target.value),onFocus:()=>ne(!0),onBlur:ae,placeholder:"Search Production Phase",className:w.fase?"error":""}),p.jsx("input",{type:"hidden",...y("fase",{required:"Production Phase is required"})}),Y("fase"),de&&se.length>0&&p.jsx("div",{className:"dropdown-options",children:se.map(q=>p.jsxs("div",{className:"dropdown-option",onMouseDown:()=>D(q),children:[p.jsx("span",{className:"phase-name",children:q.name}),p.jsx("span",{className:"phase-description",children:q.contenuto_fase||"No description"})]},q.id))})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"delivery_date",children:"Delivery Date *"}),p.jsx("input",{type:"datetime-local",id:"delivery_date",...y("delivery_date",{required:"Delivery Date is required"}),className:w.delivery_date?"error":""}),Y("delivery_date")]})]})]}),ee&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"📊 Selected Phase Parameters"}),p.jsx("div",{className:"form-grid form-grid--3-cols",children:ee.department===Rt.PRINTING?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_stampa",children:"Print Speed:"}),p.jsx("input",{type:"number",id:"v_stampa",value:le.v_stampa||ee.v_stampa||"",onChange:q=>L("v_stampa",q.target.value),placeholder:"Print Speed",min:"0"}),p.jsx("span",{className:"unit-label",children:"mt/h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_stampa",children:"Print Setup:"}),p.jsx("input",{type:"number",id:"t_setup_stampa",value:le.t_setup_stampa||ee.t_setup_stampa||"",onChange:q=>L("t_setup_stampa",q.target.value),placeholder:"Setup Time",min:"0",step:"0.1"}),p.jsx("span",{className:"unit-label",children:"h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_stampa",children:"Print Cost:"}),p.jsx("input",{type:"number",id:"costo_h_stampa",value:le.costo_h_stampa||ee.costo_h_stampa||"",onChange:q=>L("costo_h_stampa",q.target.value),placeholder:"Hourly Cost",min:"0",step:"0.01"}),p.jsx("span",{className:"unit-label",children:"€/h"})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"v_conf",children:"Package Speed:"}),p.jsx("input",{type:"number",id:"v_conf",value:le.v_conf||ee.v_conf||"",onChange:q=>L("v_conf",q.target.value),placeholder:"Package Speed",min:"0"}),p.jsx("span",{className:"unit-label",children:"pz/h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"t_setup_conf",children:"Package Setup:"}),p.jsx("input",{type:"number",id:"t_setup_conf",value:le.t_setup_conf||ee.t_setup_conf||"",onChange:q=>L("t_setup_conf",q.target.value),placeholder:"Setup Time",min:"0",step:"0.1"}),p.jsx("span",{className:"unit-label",children:"h"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"costo_h_conf",children:"Package Cost:"}),p.jsx("input",{type:"number",id:"costo_h_conf",value:le.costo_h_conf||ee.costo_h_conf||"",onChange:q=>L("costo_h_conf",q.target.value),placeholder:"Hourly Cost",min:"0",step:"0.01"}),p.jsx("span",{className:"unit-label",children:"€/h"})]})]})})]}),h&&p.jsxs("div",{className:"form-section",children:[p.jsx("h3",{className:"section-title",children:"🧮 Production Calculation Results"}),p.jsxs("div",{className:"form-grid form-grid--2-cols",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Total Duration (hours):"}),p.jsx("div",{className:"result-value",children:h.totals.duration.toFixed(2)})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Total Cost (€):"}),p.jsx("div",{className:"result-value",children:h.totals.cost.toFixed(2)})]})]})]}),p.jsxs("div",{className:"form-actions",style:{marginTop:"20px"},children:[p.jsx("button",{type:"button",className:"nav-btn today",onClick:$,disabled:!ee,children:"Calculate"}),p.jsx("button",{type:"submit",className:"nav-btn today",disabled:!h||S,children:S?"Adding to Backlog...":"Add to Backlog"})]})]})]})};function cO(){const{odpOrders:e,updateOdpOrder:n,removeOdpOrder:r}=Nt(),{machines:i}=Ht(),{phases:l}=Gn(),{selectedWorkCenter:o,isLoading:c,isInitialized:f,showAlert:h,showConfirmDialog:m}=Ne(),{init:v,cleanup:y}=Zr(),_=E.useMemo(()=>o?o===Re.BOTH?e:e.filter(U=>U.work_center===o):[],[e,o]),[w,S]=De.useState(0),{validateOrder:R}=LT(),{handleAsync:C}=ga("BacklogPage");E.useEffect(()=>(f||v(),()=>{y()}),[v,f,y]);const T=()=>{S(U=>U+1)},O=E.useMemo(()=>[{header:"ID",accessorKey:"id"},{header:"ODP Number",accessorKey:"odp_number",cell:$e},{header:"Article Code",accessorKey:"article_code",cell:$e},{header:"External Article Code",accessorKey:"production_lot"},{header:"Work Center",accessorKey:"work_center",cell:$e},{header:"Customer",accessorKey:"nome_cliente"},{header:"Bag H (mm)",accessorKey:"bag_height",cell:$e},{header:"Bag W (mm)",accessorKey:"bag_width",cell:$e},{header:"Bag Step (mm)",accessorKey:"bag_step",cell:$e},{header:"Seals",accessorKey:"seal_sides",cell:$e},{header:"Product",accessorKey:"product_type",cell:$e},{header:"Qty",accessorKey:"quantity",cell:$e},{header:"Completed",accessorKey:"quantity_completed",cell:$e},{header:"Qty/Box",accessorKey:"quantity_per_box",cell:$e},{header:"N Boxes",accessorKey:"n_boxes"},{header:"Prod Start",accessorKey:"scheduled_start_time",cell:U=>U.getValue()?new Date(U.getValue()).toLocaleString():"-"},{header:"Prod End",accessorKey:"scheduled_start_time",cell:U=>{const Z=U.getValue();if(!Z)return"-";const J=U.row.original,ce=J.time_remaining||J.duration||0;if(ce<=0)return"-";const de=new Date(Z),ne=de.getTime()+ce*60*60*1e3;return de.setTime(ne),de.toLocaleString()}},{header:"Delivery",accessorKey:"delivery_date",cell:U=>U.getValue()?new Date(U.getValue()).toLocaleString():"-"},{header:"FLEXI Lot",accessorKey:"internal_customer_code"},{header:"Customer Lot",accessorKey:"external_customer_code"},{header:"Customer Ref",accessorKey:"customer_order_ref"},{header:"Department",accessorKey:"department",cell:$e},{header:"Phase",accessorKey:"fase",cell:U=>{const Z=U.getValue(),J=l.find(ce=>ce.id===Z);return J?J.name:Z||"-"}},{header:"Duration (h)",accessorKey:"duration"},{header:"Cost (€)",accessorKey:"cost"},{header:"Progress",accessorKey:"progress",cell:U=>`${U.getValue()||0}%`},{header:"Time Rem. (h)",accessorKey:"time_remaining"},{header:"Priority",accessorKey:"priority"},{header:"Status",accessorKey:"status"},{header:"Machine",accessorKey:"scheduled_machine_id",cell:U=>{const Z=U.getValue(),J=i.find(ce=>ce.id===Z);return J?J.machine_name:Z||"-"}}],[i,l]),A=async U=>{const Z=R(U);if(Z.length>0){h(`Validation errors:
${Z.join(`
`)}`,"error");return}U.scheduled_machine_id&&(U.scheduled_machine_id,U.original?.scheduled_machine_id),await C(()=>n(U.id,U),{context:"Update Order",fallbackMessage:"Failed to update order"})},B=async U=>{m("Delete Order",`Are you sure you want to delete ODP "${U.odp_number||U.id}"? This action cannot be undone.`,async()=>{await C(()=>r(U.id),{context:"Delete Order",fallbackMessage:"Failed to delete order"})},"danger")};return c?p.jsx("div",{children:"Loading backlog data..."}):o?p.jsxs(p.Fragment,{children:[p.jsx(uO,{onSuccess:T}),p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Production Backlog"}),p.jsx(Eh,{columns:O,data:_,onSaveRow:A,onDeleteRow:B})]})]}):p.jsx("div",{className:"error",children:"Please select a work center to view backlog data."})}const Vu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function os(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function Oh(e){return"nodeType"in e}function ln(e){var n,r;return e?os(e)?e:Oh(e)&&(n=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?n:window:window}function Dh(e){const{Document:n}=ln(e);return e instanceof n}function $l(e){return os(e)?!1:e instanceof ln(e).HTMLElement}function fb(e){return e instanceof ln(e).SVGElement}function us(e){return e?os(e)?e.document:Oh(e)?Dh(e)?e:$l(e)||fb(e)?e.ownerDocument:document:document:document}const Ba=Vu?E.useLayoutEffect:E.useEffect;function qu(e){const n=E.useRef(e);return Ba(()=>{n.current=e}),E.useCallback(function(){for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return n.current==null?void 0:n.current(...i)},[])}function dO(){const e=E.useRef(null),n=E.useCallback((i,l)=>{e.current=setInterval(i,l)},[]),r=E.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,r]}function kl(e,n){n===void 0&&(n=[e]);const r=E.useRef(e);return Ba(()=>{r.current!==e&&(r.current=e)},n),r}function Bl(e,n){const r=E.useRef();return E.useMemo(()=>{const i=e(r.current);return r.current=i,i},[...n])}function Ou(e){const n=qu(e),r=E.useRef(null),i=E.useCallback(l=>{l!==r.current&&n?.(l,r.current),r.current=l},[]);return[r,i]}function Du(e){const n=E.useRef();return E.useEffect(()=>{n.current=e},[e]),n.current}let Af={};function Gu(e,n){return E.useMemo(()=>{if(n)return n;const r=Af[e]==null?0:Af[e]+1;return Af[e]=r,e+"-"+r},[e,n])}function hb(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),l=1;l<r;l++)i[l-1]=arguments[l];return i.reduce((o,c)=>{const f=Object.entries(c);for(const[h,m]of f){const v=o[h];v!=null&&(o[h]=v+e*m)}return o},{...n})}}const es=hb(1),Nu=hb(-1);function fO(e){return"clientX"in e&&"clientY"in e}function Nh(e){if(!e)return!1;const{KeyboardEvent:n}=ln(e.target);return n&&e instanceof n}function hO(e){if(!e)return!1;const{TouchEvent:n}=ln(e.target);return n&&e instanceof n}function ju(e){if(hO(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:r}=e.touches[0];return{x:n,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:r}=e.changedTouches[0];return{x:n,y:r}}}return fO(e)?{x:e.clientX,y:e.clientY}:null}const Ul=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:r}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:r}=e;return"scaleX("+n+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Ul.Translate.toString(e),Ul.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:r,easing:i}=e;return n+" "+r+"ms "+i}}}),Py="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function gO(e){return e.matches(Py)?e:e.querySelector(Py)}const mO={display:"none"};function pO(e){let{id:n,value:r}=e;return De.createElement("div",{id:n,style:mO},r)}function vO(e){let{id:n,announcement:r,ariaLiveType:i="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return De.createElement("div",{id:n,style:l,role:"status","aria-live":i,"aria-atomic":!0},r)}function yO(){const[e,n]=E.useState("");return{announce:E.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const gb=E.createContext(null);function _O(e){const n=E.useContext(gb);E.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function bO(){const[e]=E.useState(()=>new Set),n=E.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[E.useCallback(i=>{let{type:l,event:o}=i;e.forEach(c=>{var f;return(f=c[l])==null?void 0:f.call(c,o)})},[e]),n]}const wO={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},SO={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was moved over droppable area "+r.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was dropped over droppable area "+r.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function EO(e){let{announcements:n=SO,container:r,hiddenTextDescribedById:i,screenReaderInstructions:l=wO}=e;const{announce:o,announcement:c}=yO(),f=Gu("DndLiveRegion"),[h,m]=E.useState(!1);if(E.useEffect(()=>{m(!0)},[]),_O(E.useMemo(()=>({onDragStart(y){let{active:_}=y;o(n.onDragStart({active:_}))},onDragMove(y){let{active:_,over:w}=y;n.onDragMove&&o(n.onDragMove({active:_,over:w}))},onDragOver(y){let{active:_,over:w}=y;o(n.onDragOver({active:_,over:w}))},onDragEnd(y){let{active:_,over:w}=y;o(n.onDragEnd({active:_,over:w}))},onDragCancel(y){let{active:_,over:w}=y;o(n.onDragCancel({active:_,over:w}))}}),[o,n])),!h)return null;const v=De.createElement(De.Fragment,null,De.createElement(pO,{id:i,value:l.draggable}),De.createElement(vO,{id:f,announcement:c}));return r?vl.createPortal(v,r):v}var jt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(jt||(jt={}));function Mu(){}const Zn=Object.freeze({x:0,y:0});function xO(e,n){const r=ju(e);if(!r)return"0 0";const i={x:(r.x-n.left)/n.width*100,y:(r.y-n.top)/n.height*100};return i.x+"% "+i.y+"%"}function RO(e,n){let{data:{value:r}}=e,{data:{value:i}}=n;return i-r}function CO(e,n){if(!e||e.length===0)return null;const[r]=e;return r[n]}function TO(e,n){const r=Math.max(n.top,e.top),i=Math.max(n.left,e.left),l=Math.min(n.left+n.width,e.left+e.width),o=Math.min(n.top+n.height,e.top+e.height),c=l-i,f=o-r;if(i<l&&r<o){const h=n.width*n.height,m=e.width*e.height,v=c*f,y=v/(h+m-v);return Number(y.toFixed(4))}return 0}const AO=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e;const l=[];for(const o of i){const{id:c}=o,f=r.get(c);if(f){const h=TO(f,n);h>0&&l.push({id:c,data:{droppableContainer:o,value:h}})}}return l.sort(RO)};function OO(e,n,r){return{...e,scaleX:n&&r?n.width/r.width:1,scaleY:n&&r?n.height/r.height:1}}function mb(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:Zn}function DO(e){return function(r){for(var i=arguments.length,l=new Array(i>1?i-1:0),o=1;o<i;o++)l[o-1]=arguments[o];return l.reduce((c,f)=>({...c,top:c.top+e*f.y,bottom:c.bottom+e*f.y,left:c.left+e*f.x,right:c.right+e*f.x}),{...r})}}const NO=DO(1);function pb(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function jO(e,n,r){const i=pb(n);if(!i)return e;const{scaleX:l,scaleY:o,x:c,y:f}=i,h=e.left-c-(1-l)*parseFloat(r),m=e.top-f-(1-o)*parseFloat(r.slice(r.indexOf(" ")+1)),v=l?e.width/l:e.width,y=o?e.height/o:e.height;return{width:v,height:y,top:m,right:h+v,bottom:m+y,left:h}}const MO={ignoreTransform:!1};function Vl(e,n){n===void 0&&(n=MO);let r=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:m,transformOrigin:v}=ln(e).getComputedStyle(e);m&&(r=jO(r,m,v))}const{top:i,left:l,width:o,height:c,bottom:f,right:h}=r;return{top:i,left:l,width:o,height:c,bottom:f,right:h}}function zy(e){return Vl(e,{ignoreTransform:!0})}function kO(e){const n=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}function UO(e,n){return n===void 0&&(n=ln(e).getComputedStyle(e)),n.position==="fixed"}function LO(e,n){n===void 0&&(n=ln(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const o=n[l];return typeof o=="string"?r.test(o):!1})}function jh(e,n){const r=[];function i(l){if(n!=null&&r.length>=n||!l)return r;if(Dh(l)&&l.scrollingElement!=null&&!r.includes(l.scrollingElement))return r.push(l.scrollingElement),r;if(!$l(l)||fb(l)||r.includes(l))return r;const o=ln(e).getComputedStyle(l);return l!==e&&LO(l,o)&&r.push(l),UO(l,o)?r:i(l.parentNode)}return e?i(e):r}function vb(e){const[n]=jh(e,1);return n??null}function Of(e){return!Vu||!e?null:os(e)?e:Oh(e)?Dh(e)||e===us(e).scrollingElement?window:$l(e)?e:null:null}function yb(e){return os(e)?e.scrollX:e.scrollLeft}function _b(e){return os(e)?e.scrollY:e.scrollTop}function Jf(e){return{x:yb(e),y:_b(e)}}var Ft;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ft||(Ft={}));function bb(e){return!Vu||!e?!1:e===document.scrollingElement}function wb(e){const n={x:0,y:0},r=bb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},l=e.scrollTop<=n.y,o=e.scrollLeft<=n.x,c=e.scrollTop>=i.y,f=e.scrollLeft>=i.x;return{isTop:l,isLeft:o,isBottom:c,isRight:f,maxScroll:i,minScroll:n}}const PO={x:.2,y:.2};function zO(e,n,r,i,l){let{top:o,left:c,right:f,bottom:h}=r;i===void 0&&(i=10),l===void 0&&(l=PO);const{isTop:m,isBottom:v,isLeft:y,isRight:_}=wb(e),w={x:0,y:0},S={x:0,y:0},R={height:n.height*l.y,width:n.width*l.x};return!m&&o<=n.top+R.height?(w.y=Ft.Backward,S.y=i*Math.abs((n.top+R.height-o)/R.height)):!v&&h>=n.bottom-R.height&&(w.y=Ft.Forward,S.y=i*Math.abs((n.bottom-R.height-h)/R.height)),!_&&f>=n.right-R.width?(w.x=Ft.Forward,S.x=i*Math.abs((n.right-R.width-f)/R.width)):!y&&c<=n.left+R.width&&(w.x=Ft.Backward,S.x=i*Math.abs((n.left+R.width-c)/R.width)),{direction:w,speed:S}}function FO(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:c}=window;return{top:0,left:0,right:o,bottom:c,width:o,height:c}}const{top:n,left:r,right:i,bottom:l}=e.getBoundingClientRect();return{top:n,left:r,right:i,bottom:l,width:e.clientWidth,height:e.clientHeight}}function Sb(e){return e.reduce((n,r)=>es(n,Jf(r)),Zn)}function HO(e){return e.reduce((n,r)=>n+yb(r),0)}function IO(e){return e.reduce((n,r)=>n+_b(r),0)}function Eb(e,n){if(n===void 0&&(n=Vl),!e)return;const{top:r,left:i,bottom:l,right:o}=n(e);vb(e)&&(l<=0||o<=0||r>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const $O=[["x",["left","right"],HO],["y",["top","bottom"],IO]];class Mh{constructor(n,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=jh(r),l=Sb(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[o,c,f]of $O)for(const h of c)Object.defineProperty(this,h,{get:()=>{const m=f(i),v=l[o]-m;return this.rect[h]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Cl{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...r)})},this.target=n}add(n,r,i){var l;(l=this.target)==null||l.addEventListener(n,r,i),this.listeners.push([n,r,i])}}function BO(e){const{EventTarget:n}=ln(e);return e instanceof n?e:us(e)}function Df(e,n){const r=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(r**2+i**2)>n:"x"in n&&"y"in n?r>n.x&&i>n.y:"x"in n?r>n.x:"y"in n?i>n.y:!1}var kn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(kn||(kn={}));function Fy(e){e.preventDefault()}function VO(e){e.stopPropagation()}var tt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(tt||(tt={}));const xb={start:[tt.Space,tt.Enter],cancel:[tt.Esc],end:[tt.Space,tt.Enter,tt.Tab]},qO=(e,n)=>{let{currentCoordinates:r}=n;switch(e.code){case tt.Right:return{...r,x:r.x+25};case tt.Left:return{...r,x:r.x-25};case tt.Down:return{...r,y:r.y+25};case tt.Up:return{...r,y:r.y-25}}};class Rb{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:r}}=n;this.props=n,this.listeners=new Cl(us(r)),this.windowListeners=new Cl(ln(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(kn.Resize,this.handleCancel),this.windowListeners.add(kn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(kn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:r}=this.props,i=n.node.current;i&&Eb(i),r(Zn)}handleKeyDown(n){if(Nh(n)){const{active:r,context:i,options:l}=this.props,{keyboardCodes:o=xb,coordinateGetter:c=qO,scrollBehavior:f="smooth"}=l,{code:h}=n;if(o.end.includes(h)){this.handleEnd(n);return}if(o.cancel.includes(h)){this.handleCancel(n);return}const{collisionRect:m}=i.current,v=m?{x:m.left,y:m.top}:Zn;this.referenceCoordinates||(this.referenceCoordinates=v);const y=c(n,{active:r,context:i.current,currentCoordinates:v});if(y){const _=Nu(y,v),w={x:0,y:0},{scrollableAncestors:S}=i.current;for(const R of S){const C=n.code,{isTop:T,isRight:O,isLeft:A,isBottom:B,maxScroll:U,minScroll:Z}=wb(R),J=FO(R),ce={x:Math.min(C===tt.Right?J.right-J.width/2:J.right,Math.max(C===tt.Right?J.left:J.left+J.width/2,y.x)),y:Math.min(C===tt.Down?J.bottom-J.height/2:J.bottom,Math.max(C===tt.Down?J.top:J.top+J.height/2,y.y))},de=C===tt.Right&&!O||C===tt.Left&&!A,ne=C===tt.Down&&!B||C===tt.Up&&!T;if(de&&ce.x!==y.x){const ee=R.scrollLeft+_.x,X=C===tt.Right&&ee<=U.x||C===tt.Left&&ee>=Z.x;if(X&&!_.y){R.scrollTo({left:ee,behavior:f});return}X?w.x=R.scrollLeft-ee:w.x=C===tt.Right?R.scrollLeft-U.x:R.scrollLeft-Z.x,w.x&&R.scrollBy({left:-w.x,behavior:f});break}else if(ne&&ce.y!==y.y){const ee=R.scrollTop+_.y,X=C===tt.Down&&ee<=U.y||C===tt.Up&&ee>=Z.y;if(X&&!_.x){R.scrollTo({top:ee,behavior:f});return}X?w.y=R.scrollTop-ee:w.y=C===tt.Down?R.scrollTop-U.y:R.scrollTop-Z.y,w.y&&R.scrollBy({top:-w.y,behavior:f});break}}this.handleMove(n,es(Nu(y,this.referenceCoordinates),w))}}}handleMove(n,r){const{onMove:i}=this.props;n.preventDefault(),i(r)}handleEnd(n){const{onEnd:r}=this.props;n.preventDefault(),this.detach(),r()}handleCancel(n){const{onCancel:r}=this.props;n.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Rb.activators=[{eventName:"onKeyDown",handler:(e,n,r)=>{let{keyboardCodes:i=xb,onActivation:l}=n,{active:o}=r;const{code:c}=e.nativeEvent;if(i.start.includes(c)){const f=o.activatorNode.current;return f&&e.target!==f?!1:(e.preventDefault(),l?.({event:e.nativeEvent}),!0)}return!1}}];function Hy(e){return!!(e&&"distance"in e)}function Iy(e){return!!(e&&"delay"in e)}class kh{constructor(n,r,i){var l;i===void 0&&(i=BO(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=r;const{event:o}=n,{target:c}=o;this.props=n,this.events=r,this.document=us(c),this.documentListeners=new Cl(this.document),this.listeners=new Cl(i),this.windowListeners=new Cl(ln(c)),this.initialCoordinates=(l=ju(o))!=null?l:Zn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:r,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(kn.Resize,this.handleCancel),this.windowListeners.add(kn.DragStart,Fy),this.windowListeners.add(kn.VisibilityChange,this.handleCancel),this.windowListeners.add(kn.ContextMenu,Fy),this.documentListeners.add(kn.Keydown,this.handleKeydown),r){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Iy(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Hy(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,r){const{active:i,onPending:l}=this.props;l(i,n,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:n}=this,{onStart:r}=this.props;n&&(this.activated=!0,this.documentListeners.add(kn.Click,VO,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(kn.SelectionChange,this.removeTextSelection),r(n))}handleMove(n){var r;const{activated:i,initialCoordinates:l,props:o}=this,{onMove:c,options:{activationConstraint:f}}=o;if(!l)return;const h=(r=ju(n))!=null?r:Zn,m=Nu(l,h);if(!i&&f){if(Hy(f)){if(f.tolerance!=null&&Df(m,f.tolerance))return this.handleCancel();if(Df(m,f.distance))return this.handleStart()}if(Iy(f)&&Df(m,f.tolerance))return this.handleCancel();this.handlePending(f,m);return}n.cancelable&&n.preventDefault(),c(h)}handleEnd(){const{onAbort:n,onEnd:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleCancel(){const{onAbort:n,onCancel:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleKeydown(n){n.code===tt.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const GO={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Cb extends kh{constructor(n){const{event:r}=n,i=us(r.target);super(n,GO,i)}}Cb.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return!r.isPrimary||r.button!==0?!1:(i?.({event:r}),!0)}}];const YO={move:{name:"mousemove"},end:{name:"mouseup"}};var eh;(function(e){e[e.RightClick=2]="RightClick"})(eh||(eh={}));class KO extends kh{constructor(n){super(n,YO,us(n.event.target))}}KO.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return r.button===eh.RightClick?!1:(i?.({event:r}),!0)}}];const Nf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class XO extends kh{constructor(n){super(n,Nf)}static setup(){return window.addEventListener(Nf.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Nf.move.name,n)};function n(){}}}XO.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;const{touches:l}=r;return l.length>1?!1:(i?.({event:r}),!0)}}];var Tl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Tl||(Tl={}));var ku;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ku||(ku={}));function WO(e){let{acceleration:n,activator:r=Tl.Pointer,canScroll:i,draggingRect:l,enabled:o,interval:c=5,order:f=ku.TreeOrder,pointerCoordinates:h,scrollableAncestors:m,scrollableAncestorRects:v,delta:y,threshold:_}=e;const w=ZO({delta:y,disabled:!o}),[S,R]=dO(),C=E.useRef({x:0,y:0}),T=E.useRef({x:0,y:0}),O=E.useMemo(()=>{switch(r){case Tl.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case Tl.DraggableRect:return l}},[r,l,h]),A=E.useRef(null),B=E.useCallback(()=>{const Z=A.current;if(!Z)return;const J=C.current.x*T.current.x,ce=C.current.y*T.current.y;Z.scrollBy(J,ce)},[]),U=E.useMemo(()=>f===ku.TreeOrder?[...m].reverse():m,[f,m]);E.useEffect(()=>{if(!o||!m.length||!O){R();return}for(const Z of U){if(i?.(Z)===!1)continue;const J=m.indexOf(Z),ce=v[J];if(!ce)continue;const{direction:de,speed:ne}=zO(Z,ce,O,n,_);for(const ee of["x","y"])w[ee][de[ee]]||(ne[ee]=0,de[ee]=0);if(ne.x>0||ne.y>0){R(),A.current=Z,S(B,c),C.current=ne,T.current=de;return}}C.current={x:0,y:0},T.current={x:0,y:0},R()},[n,B,i,R,o,c,JSON.stringify(O),JSON.stringify(w),S,m,U,v,JSON.stringify(_)])}const QO={x:{[Ft.Backward]:!1,[Ft.Forward]:!1},y:{[Ft.Backward]:!1,[Ft.Forward]:!1}};function ZO(e){let{delta:n,disabled:r}=e;const i=Du(n);return Bl(l=>{if(r||!i||!l)return QO;const o={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[Ft.Backward]:l.x[Ft.Backward]||o.x===-1,[Ft.Forward]:l.x[Ft.Forward]||o.x===1},y:{[Ft.Backward]:l.y[Ft.Backward]||o.y===-1,[Ft.Forward]:l.y[Ft.Forward]||o.y===1}}},[r,n,i])}function JO(e,n){const r=n!=null?e.get(n):void 0,i=r?r.node.current:null;return Bl(l=>{var o;return n==null?null:(o=i??l)!=null?o:null},[i,n])}function eD(e,n){return E.useMemo(()=>e.reduce((r,i)=>{const{sensor:l}=i,o=l.activators.map(c=>({eventName:c.eventName,handler:n(c.handler,i)}));return[...r,...o]},[]),[e,n])}var Ll;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ll||(Ll={}));var th;(function(e){e.Optimized="optimized"})(th||(th={}));const $y=new Map;function tD(e,n){let{dragging:r,dependencies:i,config:l}=n;const[o,c]=E.useState(null),{frequency:f,measure:h,strategy:m}=l,v=E.useRef(e),y=C(),_=kl(y),w=E.useCallback(function(T){T===void 0&&(T=[]),!_.current&&c(O=>O===null?T:O.concat(T.filter(A=>!O.includes(A))))},[_]),S=E.useRef(null),R=Bl(T=>{if(y&&!r)return $y;if(!T||T===$y||v.current!==e||o!=null){const O=new Map;for(let A of e){if(!A)continue;if(o&&o.length>0&&!o.includes(A.id)&&A.rect.current){O.set(A.id,A.rect.current);continue}const B=A.node.current,U=B?new Mh(h(B),B):null;A.rect.current=U,U&&O.set(A.id,U)}return O}return T},[e,o,r,y,h]);return E.useEffect(()=>{v.current=e},[e]),E.useEffect(()=>{y||w()},[r,y]),E.useEffect(()=>{o&&o.length>0&&c(null)},[JSON.stringify(o)]),E.useEffect(()=>{y||typeof f!="number"||S.current!==null||(S.current=setTimeout(()=>{w(),S.current=null},f))},[f,y,w,...i]),{droppableRects:R,measureDroppableContainers:w,measuringScheduled:o!=null};function C(){switch(m){case Ll.Always:return!1;case Ll.BeforeDragging:return r;default:return!r}}}function Uh(e,n){return Bl(r=>e?r||(typeof n=="function"?n(e):e):null,[n,e])}function nD(e,n){return Uh(e,n)}function aD(e){let{callback:n,disabled:r}=e;const i=qu(n),l=E.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(i)},[i,r]);return E.useEffect(()=>()=>l?.disconnect(),[l]),l}function Yu(e){let{callback:n,disabled:r}=e;const i=qu(n),l=E.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(i)},[r]);return E.useEffect(()=>()=>l?.disconnect(),[l]),l}function rD(e){return new Mh(Vl(e),e)}function By(e,n,r){n===void 0&&(n=rD);const[i,l]=E.useState(null);function o(){l(h=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=h??r)!=null?m:null}const v=n(e);return JSON.stringify(h)===JSON.stringify(v)?h:v})}const c=aD({callback(h){if(e)for(const m of h){const{type:v,target:y}=m;if(v==="childList"&&y instanceof HTMLElement&&y.contains(e)){o();break}}}}),f=Yu({callback:o});return Ba(()=>{o(),e?(f?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(f?.disconnect(),c?.disconnect())},[e]),i}function iD(e){const n=Uh(e);return mb(e,n)}const Vy=[];function sD(e){const n=E.useRef(e),r=Bl(i=>e?i&&i!==Vy&&e&&n.current&&e.parentNode===n.current.parentNode?i:jh(e):Vy,[e]);return E.useEffect(()=>{n.current=e},[e]),r}function lD(e){const[n,r]=E.useState(null),i=E.useRef(e),l=E.useCallback(o=>{const c=Of(o.target);c&&r(f=>f?(f.set(c,Jf(c)),new Map(f)):null)},[]);return E.useEffect(()=>{const o=i.current;if(e!==o){c(o);const f=e.map(h=>{const m=Of(h);return m?(m.addEventListener("scroll",l,{passive:!0}),[m,Jf(m)]):null}).filter(h=>h!=null);r(f.length?new Map(f):null),i.current=e}return()=>{c(e),c(o)};function c(f){f.forEach(h=>{const m=Of(h);m?.removeEventListener("scroll",l)})}},[l,e]),E.useMemo(()=>e.length?n?Array.from(n.values()).reduce((o,c)=>es(o,c),Zn):Sb(e):Zn,[e,n])}function qy(e,n){n===void 0&&(n=[]);const r=E.useRef(null);return E.useEffect(()=>{r.current=null},n),E.useEffect(()=>{const i=e!==Zn;i&&!r.current&&(r.current=e),!i&&r.current&&(r.current=null)},[e]),r.current?Nu(e,r.current):Zn}function oD(e){E.useEffect(()=>{if(!Vu)return;const n=e.map(r=>{let{sensor:i}=r;return i.setup==null?void 0:i.setup()});return()=>{for(const r of n)r?.()}},e.map(n=>{let{sensor:r}=n;return r}))}function uD(e,n){return E.useMemo(()=>e.reduce((r,i)=>{let{eventName:l,handler:o}=i;return r[l]=c=>{o(c,n)},r},{}),[e,n])}function Tb(e){return E.useMemo(()=>e?kO(e):null,[e])}const Gy=[];function cD(e,n){n===void 0&&(n=Vl);const[r]=e,i=Tb(r?ln(r):null),[l,o]=E.useState(Gy);function c(){o(()=>e.length?e.map(h=>bb(h)?i:new Mh(n(h),h)):Gy)}const f=Yu({callback:c});return Ba(()=>{f?.disconnect(),c(),e.forEach(h=>f?.observe(h))},[e]),l}function Ab(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return $l(n)?n:e}function dD(e){let{measure:n}=e;const[r,i]=E.useState(null),l=E.useCallback(m=>{for(const{target:v}of m)if($l(v)){i(y=>{const _=n(v);return y?{...y,width:_.width,height:_.height}:_});break}},[n]),o=Yu({callback:l}),c=E.useCallback(m=>{const v=Ab(m);o?.disconnect(),v&&o?.observe(v),i(v?n(v):null)},[n,o]),[f,h]=Ou(c);return E.useMemo(()=>({nodeRef:f,rect:r,setRef:h}),[r,f,h])}const fD=[{sensor:Cb,options:{}},{sensor:Rb,options:{}}],hD={current:{}},bu={draggable:{measure:zy},droppable:{measure:zy,strategy:Ll.WhileDragging,frequency:th.Optimized},dragOverlay:{measure:Vl}};class Al extends Map{get(n){var r;return n!=null&&(r=super.get(n))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:r}=n;return!r})}getNodeFor(n){var r,i;return(r=(i=this.get(n))==null?void 0:i.node.current)!=null?r:void 0}}const gD={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Al,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Mu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:bu,measureDroppableContainers:Mu,windowRect:null,measuringScheduled:!1},Ob={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Mu,draggableNodes:new Map,over:null,measureDroppableContainers:Mu},ql=E.createContext(Ob),Db=E.createContext(gD);function mD(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Al}}}function pD(e,n){switch(n.type){case jt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case jt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case jt.DragEnd:case jt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case jt.RegisterDroppable:{const{element:r}=n,{id:i}=r,l=new Al(e.droppable.containers);return l.set(i,r),{...e,droppable:{...e.droppable,containers:l}}}case jt.SetDroppableDisabled:{const{id:r,key:i,disabled:l}=n,o=e.droppable.containers.get(r);if(!o||i!==o.key)return e;const c=new Al(e.droppable.containers);return c.set(r,{...o,disabled:l}),{...e,droppable:{...e.droppable,containers:c}}}case jt.UnregisterDroppable:{const{id:r,key:i}=n,l=e.droppable.containers.get(r);if(!l||i!==l.key)return e;const o=new Al(e.droppable.containers);return o.delete(r),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function vD(e){let{disabled:n}=e;const{active:r,activatorEvent:i,draggableNodes:l}=E.useContext(ql),o=Du(i),c=Du(r?.id);return E.useEffect(()=>{if(!n&&!i&&o&&c!=null){if(!Nh(o)||document.activeElement===o.target)return;const f=l.get(c);if(!f)return;const{activatorNode:h,node:m}=f;if(!h.current&&!m.current)return;requestAnimationFrame(()=>{for(const v of[h.current,m.current]){if(!v)continue;const y=gO(v);if(y){y.focus();break}}})}},[i,n,l,c,o]),null}function Nb(e,n){let{transform:r,...i}=n;return e!=null&&e.length?e.reduce((l,o)=>o({transform:l,...i}),r):r}function yD(e){return E.useMemo(()=>({draggable:{...bu.draggable,...e?.draggable},droppable:{...bu.droppable,...e?.droppable},dragOverlay:{...bu.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function _D(e){let{activeNode:n,measure:r,initialRect:i,config:l=!0}=e;const o=E.useRef(!1),{x:c,y:f}=typeof l=="boolean"?{x:l,y:l}:l;Ba(()=>{if(!c&&!f||!n){o.current=!1;return}if(o.current||!i)return;const m=n?.node.current;if(!m||m.isConnected===!1)return;const v=r(m),y=mb(v,i);if(c||(y.x=0),f||(y.y=0),o.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const _=vb(m);_&&_.scrollBy({top:y.y,left:y.x})}},[n,c,f,i,r])}const Ku=E.createContext({...Zn,scaleX:1,scaleY:1});var yr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(yr||(yr={}));const bD=E.memo(function(n){var r,i,l,o;let{id:c,accessibility:f,autoScroll:h=!0,children:m,sensors:v=fD,collisionDetection:y=AO,measuring:_,modifiers:w,...S}=n;const R=E.useReducer(pD,void 0,mD),[C,T]=R,[O,A]=bO(),[B,U]=E.useState(yr.Uninitialized),Z=B===yr.Initialized,{draggable:{active:J,nodes:ce,translate:de},droppable:{containers:ne}}=C,ee=J!=null?ce.get(J):null,X=E.useRef({initial:null,translated:null}),se=E.useMemo(()=>{var ht;return J!=null?{id:J,data:(ht=ee?.data)!=null?ht:hD,rect:X}:null},[J,ee]),le=E.useRef(null),[pe,L]=E.useState(null),[Q,ae]=E.useState(null),he=kl(S,Object.values(S)),D=Gu("DndDescribedBy",c),$=E.useMemo(()=>ne.getEnabled(),[ne]),Y=yD(_),{droppableRects:q,measureDroppableContainers:ie,measuringScheduled:ye}=tD($,{dragging:Z,dependencies:[de.x,de.y],config:Y.droppable}),ue=JO(ce,J),Be=E.useMemo(()=>Q?ju(Q):null,[Q]),Ce=ds(),Ze=nD(ue,Y.draggable.measure);_D({activeNode:J!=null?ce.get(J):null,config:Ce.layoutShiftCompensation,initialRect:Ze,measure:Y.draggable.measure});const je=By(ue,Y.draggable.measure,Ze),Yt=By(ue?ue.parentElement:null),_t=E.useRef({activatorEvent:null,active:null,activeNode:ue,collisionRect:null,collisions:null,droppableRects:q,draggableNodes:ce,draggingNode:null,draggingNodeRect:null,droppableContainers:ne,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),xn=ne.getNodeFor((r=_t.current.over)==null?void 0:r.id),bt=dD({measure:Y.dragOverlay.measure}),ma=(i=bt.nodeRef.current)!=null?i:ue,ea=Z?(l=bt.rect)!=null?l:je:null,tn=!!(bt.nodeRef.current&&bt.rect),cs=iD(tn?null:je),pa=Tb(ma?ln(ma):null),j=sD(Z?xn??ue:null),z=cD(j),V=Nb(w,{transform:{x:de.x-cs.x,y:de.y-cs.y,scaleX:1,scaleY:1},activatorEvent:Q,active:se,activeNodeRect:je,containerNodeRect:Yt,draggingNodeRect:ea,over:_t.current.over,overlayNodeRect:bt.rect,scrollableAncestors:j,scrollableAncestorRects:z,windowRect:pa}),oe=Be?es(Be,de):null,re=lD(j),te=qy(re),ge=qy(re,[je]),be=es(V,te),Te=ea?NO(ea,V):null,He=se&&Te?y({active:se,collisionRect:Te,droppableRects:q,droppableContainers:$,pointerCoordinates:oe}):null,va=CO(He,"id"),[Ct,Jr]=E.useState(null),ta=tn?V:es(V,ge),na=OO(ta,(o=Ct?.rect)!=null?o:null,je),hn=E.useRef(null),aa=E.useCallback((ht,nn)=>{let{sensor:Kt,options:zn}=nn;if(le.current==null)return;const Xt=ce.get(le.current);if(!Xt)return;const It=ht.nativeEvent,gn=new Kt({active:le.current,activeNode:Xt,event:It,options:zn,context:_t,onAbort(nt){if(!ce.get(nt))return;const{onDragAbort:st}=he.current,Wt={id:nt};st?.(Wt),O({type:"onDragAbort",event:Wt})},onPending(nt,it,st,Wt){if(!ce.get(nt))return;const{onDragPending:Cr}=he.current,ra={id:nt,constraint:it,initialCoordinates:st,offset:Wt};Cr?.(ra),O({type:"onDragPending",event:ra})},onStart(nt){const it=le.current;if(it==null)return;const st=ce.get(it);if(!st)return;const{onDragStart:Wt}=he.current,_a={activatorEvent:It,active:{id:it,data:st.data,rect:X}};vl.unstable_batchedUpdates(()=>{Wt?.(_a),U(yr.Initializing),T({type:jt.DragStart,initialCoordinates:nt,active:it}),O({type:"onDragStart",event:_a}),L(hn.current),ae(It)})},onMove(nt){T({type:jt.DragMove,coordinates:nt})},onEnd:qa(jt.DragEnd),onCancel:qa(jt.DragCancel)});hn.current=gn;function qa(nt){return async function(){const{active:st,collisions:Wt,over:_a,scrollAdjustedTranslate:Cr}=_t.current;let ra=null;if(st&&Cr){const{cancelDrop:Ga}=he.current;ra={activatorEvent:It,active:st,collisions:Wt,delta:Cr,over:_a},nt===jt.DragEnd&&typeof Ga=="function"&&await Promise.resolve(Ga(ra))&&(nt=jt.DragCancel)}le.current=null,vl.unstable_batchedUpdates(()=>{T({type:nt}),U(yr.Uninitialized),Jr(null),L(null),ae(null),hn.current=null;const Ga=nt===jt.DragEnd?"onDragEnd":"onDragCancel";if(ra){const ba=he.current[Ga];ba?.(ra),O({type:Ga,event:ra})}})}}},[ce]),ya=E.useCallback((ht,nn)=>(Kt,zn)=>{const Xt=Kt.nativeEvent,It=ce.get(zn);if(le.current!==null||!It||Xt.dndKit||Xt.defaultPrevented)return;const gn={active:It};ht(Kt,nn.options,gn)===!0&&(Xt.dndKit={capturedBy:nn.sensor},le.current=zn,aa(Kt,nn))},[ce,aa]),Rr=eD(v,ya);oD(v),Ba(()=>{je&&B===yr.Initializing&&U(yr.Initialized)},[je,B]),E.useEffect(()=>{const{onDragMove:ht}=he.current,{active:nn,activatorEvent:Kt,collisions:zn,over:Xt}=_t.current;if(!nn||!Kt)return;const It={active:nn,activatorEvent:Kt,collisions:zn,delta:{x:be.x,y:be.y},over:Xt};vl.unstable_batchedUpdates(()=>{ht?.(It),O({type:"onDragMove",event:It})})},[be.x,be.y]),E.useEffect(()=>{const{active:ht,activatorEvent:nn,collisions:Kt,droppableContainers:zn,scrollAdjustedTranslate:Xt}=_t.current;if(!ht||le.current==null||!nn||!Xt)return;const{onDragOver:It}=he.current,gn=zn.get(va),qa=gn&&gn.rect.current?{id:gn.id,rect:gn.rect.current,data:gn.data,disabled:gn.disabled}:null,nt={active:ht,activatorEvent:nn,collisions:Kt,delta:{x:Xt.x,y:Xt.y},over:qa};vl.unstable_batchedUpdates(()=>{Jr(qa),It?.(nt),O({type:"onDragOver",event:nt})})},[va]),Ba(()=>{_t.current={activatorEvent:Q,active:se,activeNode:ue,collisionRect:Te,collisions:He,droppableRects:q,draggableNodes:ce,draggingNode:ma,draggingNodeRect:ea,droppableContainers:ne,over:Ct,scrollableAncestors:j,scrollAdjustedTranslate:be},X.current={initial:ea,translated:Te}},[se,ue,He,Te,ce,ma,ea,q,ne,Ct,j,be]),WO({...Ce,delta:de,draggingRect:Te,pointerCoordinates:oe,scrollableAncestors:j,scrollableAncestorRects:z});const Gl=E.useMemo(()=>({active:se,activeNode:ue,activeNodeRect:je,activatorEvent:Q,collisions:He,containerNodeRect:Yt,dragOverlay:bt,draggableNodes:ce,droppableContainers:ne,droppableRects:q,over:Ct,measureDroppableContainers:ie,scrollableAncestors:j,scrollableAncestorRects:z,measuringConfiguration:Y,measuringScheduled:ye,windowRect:pa}),[se,ue,je,Q,He,Yt,bt,ce,ne,q,Ct,ie,j,z,Y,ye,pa]),Yl=E.useMemo(()=>({activatorEvent:Q,activators:Rr,active:se,activeNodeRect:je,ariaDescribedById:{draggable:D},dispatch:T,draggableNodes:ce,over:Ct,measureDroppableContainers:ie}),[Q,Rr,se,je,T,D,ce,Ct,ie]);return De.createElement(gb.Provider,{value:A},De.createElement(ql.Provider,{value:Yl},De.createElement(Db.Provider,{value:Gl},De.createElement(Ku.Provider,{value:na},m)),De.createElement(vD,{disabled:f?.restoreFocus===!1})),De.createElement(EO,{...f,hiddenTextDescribedById:D}));function ds(){const ht=pe?.autoScrollEnabled===!1,nn=typeof h=="object"?h.enabled===!1:h===!1,Kt=Z&&!ht&&!nn;return typeof h=="object"?{...h,enabled:Kt}:{enabled:Kt}}}),wD=E.createContext(null),Yy="button",SD="Draggable";function s1(e){let{id:n,data:r,disabled:i=!1,attributes:l}=e;const o=Gu(SD),{activators:c,activatorEvent:f,active:h,activeNodeRect:m,ariaDescribedById:v,draggableNodes:y,over:_}=E.useContext(ql),{role:w=Yy,roleDescription:S="draggable",tabIndex:R=0}=l??{},C=h?.id===n,T=E.useContext(C?Ku:wD),[O,A]=Ou(),[B,U]=Ou(),Z=uD(c,n),J=kl(r);Ba(()=>(y.set(n,{id:n,key:o,node:O,activatorNode:B,data:J}),()=>{const de=y.get(n);de&&de.key===o&&y.delete(n)}),[y,n]);const ce=E.useMemo(()=>({role:w,tabIndex:R,"aria-disabled":i,"aria-pressed":C&&w===Yy?!0:void 0,"aria-roledescription":S,"aria-describedby":v.draggable}),[i,w,R,C,S,v.draggable]);return{active:h,activatorEvent:f,activeNodeRect:m,attributes:ce,isDragging:C,listeners:i?void 0:Z,node:O,over:_,setNodeRef:A,setActivatorNodeRef:U,transform:T}}function ED(){return E.useContext(Db)}const xD="Droppable",RD={timeout:25};function l1(e){let{data:n,disabled:r=!1,id:i,resizeObserverConfig:l}=e;const o=Gu(xD),{active:c,dispatch:f,over:h,measureDroppableContainers:m}=E.useContext(ql),v=E.useRef({disabled:r}),y=E.useRef(!1),_=E.useRef(null),w=E.useRef(null),{disabled:S,updateMeasurementsFor:R,timeout:C}={...RD,...l},T=kl(R??i),O=E.useCallback(()=>{if(!y.current){y.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{m(Array.isArray(T.current)?T.current:[T.current]),w.current=null},C)},[C]),A=Yu({callback:O,disabled:S||!c}),B=E.useCallback((ce,de)=>{A&&(de&&(A.unobserve(de),y.current=!1),ce&&A.observe(ce))},[A]),[U,Z]=Ou(B),J=kl(n);return E.useEffect(()=>{!A||!U.current||(A.disconnect(),y.current=!1,A.observe(U.current))},[U,A]),E.useEffect(()=>(f({type:jt.RegisterDroppable,element:{id:i,key:o,disabled:r,node:U,rect:_,data:J}}),()=>f({type:jt.UnregisterDroppable,key:o,id:i})),[i]),E.useEffect(()=>{r!==v.current.disabled&&(f({type:jt.SetDroppableDisabled,id:i,key:o,disabled:r}),v.current.disabled=r)},[i,o,r,f]),{active:c,rect:_,isOver:h?.id===i,node:U,over:h,setNodeRef:Z}}function CD(e){let{animation:n,children:r}=e;const[i,l]=E.useState(null),[o,c]=E.useState(null),f=Du(r);return!r&&!i&&f&&l(f),Ba(()=>{if(!o)return;const h=i?.key,m=i?.props.id;if(h==null||m==null){l(null);return}Promise.resolve(n(m,o)).then(()=>{l(null)})},[n,i,o]),De.createElement(De.Fragment,null,r,i?E.cloneElement(i,{ref:c}):null)}const TD={x:0,y:0,scaleX:1,scaleY:1};function AD(e){let{children:n}=e;return De.createElement(ql.Provider,{value:Ob},De.createElement(Ku.Provider,{value:TD},n))}const OD={position:"fixed",touchAction:"none"},DD=e=>Nh(e)?"transform 250ms ease":void 0,ND=E.forwardRef((e,n)=>{let{as:r,activatorEvent:i,adjustScale:l,children:o,className:c,rect:f,style:h,transform:m,transition:v=DD}=e;if(!f)return null;const y=l?m:{...m,scaleX:1,scaleY:1},_={...OD,width:f.width,height:f.height,top:f.top,left:f.left,transform:Ul.Transform.toString(y),transformOrigin:l&&i?xO(i,f):void 0,transition:typeof v=="function"?v(i):v,...h};return De.createElement(r,{className:c,style:_,ref:n},o)}),jD=e=>n=>{let{active:r,dragOverlay:i}=n;const l={},{styles:o,className:c}=e;if(o!=null&&o.active)for(const[f,h]of Object.entries(o.active))h!==void 0&&(l[f]=r.node.style.getPropertyValue(f),r.node.style.setProperty(f,h));if(o!=null&&o.dragOverlay)for(const[f,h]of Object.entries(o.dragOverlay))h!==void 0&&i.node.style.setProperty(f,h);return c!=null&&c.active&&r.node.classList.add(c.active),c!=null&&c.dragOverlay&&i.node.classList.add(c.dragOverlay),function(){for(const[h,m]of Object.entries(l))r.node.style.setProperty(h,m);c!=null&&c.active&&r.node.classList.remove(c.active)}},MD=e=>{let{transform:{initial:n,final:r}}=e;return[{transform:Ul.Transform.toString(n)},{transform:Ul.Transform.toString(r)}]},kD={duration:250,easing:"ease",keyframes:MD,sideEffects:jD({styles:{active:{opacity:"0"}}})};function UD(e){let{config:n,draggableNodes:r,droppableContainers:i,measuringConfiguration:l}=e;return qu((o,c)=>{if(n===null)return;const f=r.get(o);if(!f)return;const h=f.node.current;if(!h)return;const m=Ab(c);if(!m)return;const{transform:v}=ln(c).getComputedStyle(c),y=pb(v);if(!y)return;const _=typeof n=="function"?n:LD(n);return Eb(h,l.draggable.measure),_({active:{id:o,data:f.data,node:h,rect:l.draggable.measure(h)},draggableNodes:r,dragOverlay:{node:c,rect:l.dragOverlay.measure(m)},droppableContainers:i,measuringConfiguration:l,transform:y})})}function LD(e){const{duration:n,easing:r,sideEffects:i,keyframes:l}={...kD,...e};return o=>{let{active:c,dragOverlay:f,transform:h,...m}=o;if(!n)return;const v={x:f.rect.left-c.rect.left,y:f.rect.top-c.rect.top},y={scaleX:h.scaleX!==1?c.rect.width*h.scaleX/f.rect.width:1,scaleY:h.scaleY!==1?c.rect.height*h.scaleY/f.rect.height:1},_={x:h.x-v.x,y:h.y-v.y,...y},w=l({...m,active:c,dragOverlay:f,transform:{initial:h,final:_}}),[S]=w,R=w[w.length-1];if(JSON.stringify(S)===JSON.stringify(R))return;const C=i?.({active:c,dragOverlay:f,...m}),T=f.node.animate(w,{duration:n,easing:r,fill:"forwards"});return new Promise(O=>{T.onfinish=()=>{C?.(),O()}})}}let Ky=0;function PD(e){return E.useMemo(()=>{if(e!=null)return Ky++,Ky},[e])}const zD=De.memo(e=>{let{adjustScale:n=!1,children:r,dropAnimation:i,style:l,transition:o,modifiers:c,wrapperElement:f="div",className:h,zIndex:m=999}=e;const{activatorEvent:v,active:y,activeNodeRect:_,containerNodeRect:w,draggableNodes:S,droppableContainers:R,dragOverlay:C,over:T,measuringConfiguration:O,scrollableAncestors:A,scrollableAncestorRects:B,windowRect:U}=ED(),Z=E.useContext(Ku),J=PD(y?.id),ce=Nb(c,{activatorEvent:v,active:y,activeNodeRect:_,containerNodeRect:w,draggingNodeRect:C.rect,over:T,overlayNodeRect:C.rect,scrollableAncestors:A,scrollableAncestorRects:B,transform:Z,windowRect:U}),de=Uh(_),ne=UD({config:i,draggableNodes:S,droppableContainers:R,measuringConfiguration:O}),ee=de?C.setRef:void 0;return De.createElement(AD,null,De.createElement(CD,{animation:ne},y&&J?De.createElement(ND,{key:J,id:y.id,ref:ee,as:f,activatorEvent:v,adjustScale:n,className:h,transition:o,rect:de,style:{zIndex:m,...l},transform:ce},r):null))});function pu({label:e,options:n,selectedOptions:r,onSelectionChange:i,searchPlaceholder:l,id:o,width:c="200px"}){const[f,h]=E.useState(!1),[m,v]=E.useState(""),y=E.useRef(null);E.useEffect(()=>{const O=A=>{y.current&&!y.current.contains(A.target)&&h(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]);const _=n.filter(O=>O.toLowerCase().includes(m.toLowerCase())),w=_.length>0&&_.every(O=>r.includes(O)),S=O=>{if(O.preventDefault(),O.stopPropagation(),w){const A=r.filter(B=>!_.includes(B));i(A)}else{const A=[...new Set([...r,..._])];i(A)}},R=(O,A)=>{if(O.preventDefault(),O.stopPropagation(),r.includes(A)){const B=r.filter(U=>U!==A);i(B)}else{const B=[...r.filter(U=>U!==""),A];i(B)}},C=()=>{h(!0)},T=O=>{v(O.target.value)};return p.jsxs("div",{className:"searchable-dropdown",ref:y,style:{width:c},children:[p.jsxs("label",{htmlFor:o,children:[e,":"]}),p.jsx("input",{type:"text",id:o,value:m,onChange:T,onFocus:C,placeholder:l}),f&&n.length>0&&p.jsxs("div",{className:"dropdown-options",children:[p.jsxs("div",{className:`dropdown-option ${w?"selected":""}`,onMouseDown:S,children:[p.jsxs("span",{className:"phase-name",children:["All ",e,"s"]}),p.jsxs("span",{className:"phase-description",children:["Show all ",e.toLowerCase(),"s"]})]}),_.map(O=>p.jsxs("div",{className:`dropdown-option ${r.includes(O)?"selected":""}`,onMouseDown:A=>R(A,O),children:[p.jsx("span",{className:"phase-name",children:O}),p.jsx("span",{className:"phase-description",children:e})]},O))]})]})}const FD=E.lazy(()=>Wr(()=>import("./TaskPool-BzuRnayr.js"),[])),HD=E.lazy(()=>Wr(()=>import("./GanttChart-BwnGmy-k.js"),[])),Xy=()=>p.jsx("div",{className:"loading-fallback",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",fontSize:"16px",color:"#666"},children:"Loading scheduler components..."});function ID(){const{machines:e}=Ht(),{selectedWorkCenter:n,isLoading:r,isInitialized:i,showAlert:l}=Ne(),{scheduleTask:o,unscheduleTask:c,scheduleTaskFromSlot:f,rescheduleTaskToSlot:h,validateSlotAvailability:m}=Ji(),{init:v,cleanup:y}=Zr(),[_,w]=E.useState(new Date),[S,R]=E.useState(null),[C,T]=E.useState([]),[O,A]=E.useState([]),[B,U]=E.useState([]),[Z,J]=E.useState([]),[ce,de]=E.useState(!0);E.useEffect(()=>(i?de(!1):v().finally(()=>{de(!1)}),()=>{y()}),[v,i,y]);const ne=E.useMemo(()=>{if(performance.now(),!e||e.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};let D=e;n&&n!==Re.BOTH&&(D=e.filter(je=>je.work_center===n));const $=D.filter(je=>je.status===Un.ACTIVE);if($.length===0)return{activeMachines:[],workCenters:[],departments:[],machineTypes:[],machineNames:[]};const Y=new Set,q=new Set,ie=new Set,ye=new Set;for(const je of $)je.work_center&&Y.add(je.work_center),je.department&&q.add(je.department),je.machine_type&&ie.add(je.machine_type),je.machine_name&&ye.add(je.machine_name);const ue=Array.from(Y).sort(),Be=Array.from(q).sort(),Ce=Array.from(ie).sort(),Ze=Array.from(ye).sort();return performance.now(),{activeMachines:$,workCenters:ue,departments:Be,machineTypes:Ce,machineNames:Ze}},[e,n]),ee=E.useMemo(()=>{const{activeMachines:D}=ne;let $=D;return C.length>0&&($=$.filter(Y=>C.includes(Y.work_center))),O.length>0&&($=$.filter(Y=>O.includes(Y.department))),B.length>0&&($=$.filter(Y=>B.includes(Y.machine_type))),Z.length>0&&($=$.filter(Y=>Z.includes(Y.machine_name))),$},[ne,C,O,B,Z]),X=E.useCallback(D=>{w($=>{const Y=new Date($);return D==="today"?new Date:D==="prev"?(Y.setDate(Y.getDate()-1),Y):D==="next"?(Y.setDate(Y.getDate()+1),Y):$})},[]),se=E.useCallback(()=>{const D=new Date;return _.toDateString()===D.toDateString()?"Today":_.toLocaleDateString("en-US",{month:"long",day:"numeric"})},[_]),le=E.useCallback(()=>{T([]),A([]),U([]),J([])},[]),pe=E.useRef(null),L=E.useRef(!1),Q=E.useCallback(D=>{performance.now();const $=D.active.data.current;$.type==="task"?R($.task):$.type==="event"&&R($.event)},[]),ae=E.useCallback(D=>{const{over:$}=D;if(document.querySelectorAll(".drop-indicator").forEach(q=>q.remove()),$&&$.data.current?.type==="slot"){const{machine:q,hour:ie,minute:ye,isUnavailable:ue,hasScheduledTask:Be}=$.data.current;if(ue||Be)return;const Ce=document.querySelector(`[data-hour="${ie}"][data-minute="${ye}"][data-machine-id="${q.id}"]`);if(Ce){const Ze=document.createElement("div");Ze.className="drop-indicator",Ze.style.cssText=`
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          border: 3px dashed #007bff;
          background: rgba(0, 123, 255, 0.1);
          pointer-events: none;
          z-index: 1000;
          border-radius: 4px;
        `,Ce.style.position="relative",Ce.appendChild(Ze)}}},[]),he=E.useCallback(async D=>{if(performance.now(),pe.current&&clearTimeout(pe.current),L.current)return;R(null),document.querySelectorAll(".drop-indicator").forEach(ue=>ue.remove());const{over:Y,active:q}=D;if(!Y)return;const ie=q.data.current,ye=Y.data.current;if(!(!ie||!ye)){L.current=!0;try{await new Promise(ue=>{requestAnimationFrame(async()=>{const Be=performance.now();if(ie.type==="task"&&ye.type==="slot"){const Ce=ie.task,{machine:Ze,hour:je,minute:Yt,isUnavailable:_t,hasScheduledTask:xn}=ye;if(_t)return l("Cannot schedule task on unavailable time slot","error"),ue();if(xn)return l("Cannot schedule task on occupied time slot","error"),ue();const bt=await f(Ce.id,Ze,_,je,Yt);bt?.error&&l(bt.error,"error")}else if(ie.type==="event"&&ye.type==="slot"){const Ce=ie.event,{machine:Ze,hour:je,minute:Yt,isUnavailable:_t,hasScheduledTask:xn}=ye;if(_t)return l("Cannot reschedule task to unavailable time slot","error"),ue();if(xn)return l("Cannot reschedule task to occupied time slot","error"),ue();const bt=await h(Ce.id,Ze,_,je,Yt);bt?.error&&l(bt.error,"error")}else if(ie.type==="event"&&ye.type==="pool"){const Ce=ie.event;c(Ce.id)}ue()})})}catch{l("An error occurred during the drag operation","error")}finally{L.current=!1}}},[_,f,h,c,l]);return r||ce?p.jsx("div",{className:"scheduler-loading",children:p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("h3",{children:"Loading Production Scheduler..."}),p.jsx("p",{children:"Initializing components and data"})]})}):n?p.jsxs(bD,{onDragStart:Q,onDragOver:ae,onDragEnd:he,children:[p.jsxs("div",{className:"scheduler-container",children:[p.jsx(E.Suspense,{fallback:p.jsx(Xy,{}),children:p.jsx(FD,{})}),p.jsxs("div",{className:"scheduler-controls-section",children:[p.jsx("h2",{className:"scheduler-title",children:"Production Schedule"}),p.jsxs("div",{className:"scheduler-controls",children:[p.jsxs("div",{className:"machine-filters",children:[p.jsx(pu,{label:"Work Center",options:ne.workCenters,selectedOptions:C,onSelectionChange:T,searchPlaceholder:"Search Work Centers",id:"work_center_filter"}),p.jsx(pu,{label:"Department",options:ne.departments,selectedOptions:O,onSelectionChange:A,searchPlaceholder:"Search Departments",id:"department_filter"}),p.jsx(pu,{label:"Machine Type",options:ne.machineTypes,selectedOptions:B,onSelectionChange:U,searchPlaceholder:"Search Machine Types",id:"machine_type_filter"}),p.jsx(pu,{label:"Machine Name",options:ne.machineNames,selectedOptions:Z,onSelectionChange:J,searchPlaceholder:"Search Machine Names",id:"machine_name_filter"})]}),p.jsxs("div",{className:"scheduler-actions",children:[p.jsx("button",{className:"nav-btn today",onClick:le,title:"Clear all filters",children:"Clear Filters"}),p.jsxs("div",{className:"calendar-navigation",children:[p.jsx("button",{className:"nav-btn today",onClick:()=>X("today"),children:"Today"}),p.jsx("button",{className:"nav-btn",onClick:()=>X("prev"),children:"<"}),p.jsx("span",{className:"current-date",children:se()}),p.jsx("button",{className:"nav-btn",onClick:()=>X("next"),children:">"})]}),p.jsx("button",{className:"nav-btn today",onClick:()=>{const D=document.querySelector(".calendar-section .calendar-grid");if(!D){alert("Gantt chart not found. Make sure the chart is visible on screen.");return}const $=Array.from(document.styleSheets);let Y="";$.forEach(je=>{try{Array.from(je.cssRules||je.rules||[]).forEach(_t=>{Y+=_t.cssText+`
`})}catch{}});const q=D.cloneNode(!0),ie=`
                  <!DOCTYPE html>
                  <html>
                    <head>
                      <title>Gantt Chart - ${se()}</title>
                      <style>
                        ${Y}
                        body { 
                          margin: 0; 
                          padding: 20px; 
                          font-family: Arial, sans-serif;
                        }
                        .calendar-section {
                          width: 100%;
                          overflow-x: auto;
                        }
                      </style>
                    </head>
                    <body>
                      <div style="text-align: center; margin-bottom: 20px; font-size: 16px; font-weight: bold;">
                        Gantt Chart - ${se()}
                      </div>
                      <div class="calendar-section">
                        ${q.outerHTML}
                      </div>
                    </body>
                  </html>
                `,ye=new Blob([ie],{type:"text/html"}),ue=window.URL.createObjectURL(ye),Be=document.createElement("a");Be.href=ue;const Ce=_.toISOString().split("T")[0],Ze=new Date().toTimeString().split(" ")[0].replace(/:/g,"-");Be.download=`gantt-chart-${Ce}-${Ze}.html`,document.body.appendChild(Be),Be.click(),document.body.removeChild(Be),window.URL.revokeObjectURL(ue)},title:"Download exact Gantt chart as HTML file",children:"Download HTML"})]})]})]}),p.jsx(E.Suspense,{fallback:p.jsx(Xy,{}),children:p.jsx(HD,{machines:ee,currentDate:_})})]}),p.jsx(zD,{children:S?p.jsxs("div",{className:"task-item drag-overlay",style:{boxShadow:"0 8px 25px rgba(0,0,0,0.3)",transform:"rotate(3deg) scale(1.05)",opacity:.9,zIndex:1002,pointerEvents:"none"},children:[p.jsx("span",{children:S.odp_number}),p.jsxs("span",{className:"task-duration",children:[S.duration||1,"h"]})]}):null})]}):p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"error",children:"Please select a work center to view scheduler data."})})}function $D(){const{machines:e}=Ht(),{odpOrders:n}=Nt(),{isLoading:r,isInitialized:i}=Ne(),{init:l,cleanup:o}=Zr();E.useEffect(()=>(i||l(),()=>{o()}),[l,i,o]);const c=E.useMemo(()=>{if(r)return{};const f=e.reduce((S,R)=>{const C=R.work_center||"Unknown";return S[C]||(S[C]={[Un.ACTIVE]:0,[Un.INACTIVE]:0,[Un.MAINTENANCE]:0}),S[C][R.status]=(S[C][R.status]||0)+1,S},{}),h=new Date,m=new Date(h);m.setDate(h.getDate()-h.getDay()),m.setHours(0,0,0,0);const v=n.filter(S=>S.completion_date?new Date(S.completion_date)>=m:!1).length,y=n.filter(S=>S.status==="IN PROGRESS"||S.status==="SCHEDULED").length,_=n.filter(S=>S.due_date?new Date(S.due_date)<h&&S.quantity_completed<S.quantity:!1).length,w=e.filter(S=>S.status===Un.ACTIVE).length;return{machinesByWorkCenter:f,completedThisWeek:v,tasksInWip:y,delayedTasks:_,activeMachines:w,totalMachines:e.length,totalOrders:n.length}},[e,n,r]);return r?p.jsx("div",{className:"content-section",children:p.jsx("div",{className:"loading",children:"Loading dashboard..."})}):p.jsxs("div",{className:"content-section",children:[p.jsx("h2",{children:"Production Dashboard"}),p.jsxs("div",{className:"metrics-grid",children:[p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Total Machines"}),p.jsx("div",{className:"metric-value",children:c.totalMachines}),p.jsxs("div",{className:"metric-subtitle",children:["Active: ",c.activeMachines]})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Total Orders"}),p.jsx("div",{className:"metric-value",children:c.totalOrders})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Completed This Week"}),p.jsx("div",{className:"metric-value",children:c.completedThisWeek})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Tasks in WIP"}),p.jsx("div",{className:"metric-value",children:c.tasksInWip})]}),p.jsxs("div",{className:"metric-card",children:[p.jsx("h3",{children:"Delayed Tasks"}),p.jsx("div",{className:"metric-value delayed",children:c.delayedTasks})]})]}),p.jsxs("div",{className:"charts-container",children:[p.jsxs("div",{className:"chart-section",children:[p.jsx("h3",{children:"Machines by Work Center"}),p.jsx("div",{className:"work-center-chart",children:Object.entries(c.machinesByWorkCenter||{}).map(([f,h])=>p.jsxs("div",{className:"work-center-group",children:[p.jsx("h4",{children:f}),p.jsx("div",{className:"status-bars",children:Object.entries(h).map(([m,v])=>p.jsxs("div",{className:"status-bar",children:[p.jsx("span",{className:"status-label",children:m}),p.jsx("div",{className:"status-bar-fill",style:{width:`${v/Math.max(...Object.values(h))*100}%`},children:v})]},m))})]},f))})]}),p.jsxs("div",{className:"chart-section",children:[p.jsx("h3",{children:"Weekly Task Completion"}),p.jsxs("div",{className:"simple-chart",children:[p.jsx("div",{className:"chart-bar",style:{height:`${c.completedThisWeek/Math.max(c.totalOrders,1)*200}px`},children:p.jsx("span",{className:"chart-label",children:c.completedThisWeek})}),p.jsx("div",{className:"chart-x-axis",children:"This Week"})]})]})]})]})}function BD(){const[e,n]=E.useState({email:"",password:"",workCenter:""}),[r,i]=E.useState(!1),[l,o]=E.useState({}),{signIn:c,error:f}=Hl(),{setSelectedWorkCenter:h}=Ne(),m=Pu(),{handleAsync:v}=ga("LoginPage"),y=R=>{const{name:C,value:T}=R.target;n(O=>({...O,[C]:T})),l[C]&&o(O=>({...O,[C]:""}))},_=()=>{const R={};return e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(R.email="Please enter a valid email address"):R.email="Email is required",e.password?e.password.length<6&&(R.password="Password must be at least 6 characters"):R.password="Password is required",e.workCenter||(R.workCenter="Work center is required"),o(R),Object.keys(R).length===0},w=async R=>{R.preventDefault(),_()&&(i(!0),await v(async()=>{(await c(e.email,e.password)).success&&(h(e.workCenter),m("/",{replace:!0}))},{context:"Login",fallbackMessage:"Failed to sign in. Please try again.",onFinally:()=>i(!1)}))},S=R=>l[R]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:l[R]}):null;return p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Welcome Back"}),p.jsx("p",{children:"Sign in to your account to continue"})]}),p.jsxs("form",{onSubmit:w,className:"auth-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:y,placeholder:"Enter your email",className:l.email?"error":"",disabled:r,autoComplete:"email"}),S("email")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Password"}),p.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:y,placeholder:"Enter your password",className:l.password?"error":"",disabled:r,autoComplete:"current-password"}),S("password")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"workCenter",children:"Work Center *"}),p.jsxs("select",{id:"workCenter",name:"workCenter",value:e.workCenter,onChange:y,className:l.workCenter?"error":"",disabled:r,children:[p.jsx("option",{value:"",children:"Select a work center"}),p.jsx("option",{value:Re.ZANICA,children:Re.ZANICA}),p.jsx("option",{value:Re.BUSTO_GAROLFO,children:Re.BUSTO_GAROLFO}),p.jsx("option",{value:Re.BOTH,children:Re.BOTH})]}),S("workCenter")]}),f&&p.jsxs("div",{className:"auth-error",children:[p.jsx("span",{className:"error-icon",children:"⚠️"}),f]}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:r,children:r?"Signing In...":"Sign In"})]}),p.jsxs("div",{className:"auth-links",children:[p.jsx(Ln,{to:"/forgot-password",className:"auth-link",children:"Forgot your password?"}),p.jsx("div",{className:"auth-divider",children:p.jsx("span",{children:"Don't have an account?"})}),p.jsx(Ln,{to:"/signup",className:"btn btn-secondary",children:"Create Account"})]}),!1]})})}function VD(){const[e,n]=E.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[r,i]=E.useState(!1),[l,o]=E.useState({}),{signUp:c,error:f}=Hl(),h=Pu(),{handleAsync:m}=ga("SignupPage"),v=S=>{const{name:R,value:C}=S.target;n(T=>({...T,[R]:C})),l[R]&&o(T=>({...T,[R]:""}))},y=()=>{const S={};return e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(S.email="Please enter a valid email address"):S.email="Email is required",e.password?e.password.length<6&&(S.password="Password must be at least 6 characters"):S.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(S.confirmPassword="Passwords do not match"):S.confirmPassword="Please confirm your password",e.firstName.trim()||(S.firstName="First name is required"),e.lastName.trim()||(S.lastName="Last name is required"),o(S),Object.keys(S).length===0},_=async S=>{S.preventDefault(),y()&&(i(!0),await m(async()=>{const R={first_name:e.firstName,last_name:e.lastName,full_name:`${e.firstName} ${e.lastName}`};(await c(e.email,e.password,R)).success&&h("/",{replace:!0})},{context:"Signup",fallbackMessage:"Failed to create account. Please try again.",onFinally:()=>i(!1)}))},w=S=>l[S]?p.jsx("span",{className:"error-message",style:{color:"red",fontSize:"12px",marginTop:"4px"},children:l[S]}):null;return p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Create Account"}),p.jsx("p",{children:"Sign up to get started with your account"})]}),p.jsxs("form",{onSubmit:_,className:"auth-form",children:[p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"firstName",children:"First Name"}),p.jsx("input",{type:"text",id:"firstName",name:"firstName",value:e.firstName,onChange:v,placeholder:"Enter your first name",className:l.firstName?"error":"",disabled:r,autoComplete:"given-name"}),w("firstName")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"lastName",children:"Last Name"}),p.jsx("input",{type:"text",id:"lastName",name:"lastName",value:e.lastName,onChange:v,placeholder:"Enter your last name",className:l.lastName?"error":"",disabled:r,autoComplete:"family-name"}),w("lastName")]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:v,placeholder:"Enter your email",className:l.email?"error":"",disabled:r,autoComplete:"email"}),w("email")]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Password"}),p.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:v,placeholder:"Create a password",className:l.password?"error":"",disabled:r,autoComplete:"new-password"}),w("password")]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),p.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:v,placeholder:"Confirm your password",className:l.confirmPassword?"error":"",disabled:r,autoComplete:"new-password"}),w("confirmPassword")]})]}),f&&p.jsxs("div",{className:"auth-error",children:[p.jsx("span",{className:"error-icon",children:"⚠️"}),f]}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:r,children:r?"Creating Account...":"Create Account"})]}),p.jsxs("div",{className:"auth-links",children:[p.jsx("div",{className:"auth-divider",children:p.jsx("span",{children:"Already have an account?"})}),p.jsx(Ln,{to:"/login",className:"btn btn-secondary",children:"Sign In"})]})]})})}function qD(){const[e,n]=E.useState(""),[r,i]=E.useState(!1),[l,o]=E.useState(!1),[c,f]=E.useState(""),{resetPassword:h}=Hl(),{handleAsync:m}=ga("ForgotPasswordPage"),v=async y=>{if(y.preventDefault(),!e.trim()){f("Please enter your email address");return}if(!/\S+@\S+\.\S+/.test(e)){f("Please enter a valid email address");return}i(!0),f(""),await m(async()=>{const _=await h(e);_.success?o(!0):f(_.error||"Failed to send reset email")},{context:"Password Reset",fallbackMessage:"Failed to send reset email. Please try again.",onFinally:()=>i(!1)})};return l?p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Check Your Email"}),p.jsxs("p",{children:["We've sent a password reset link to ",e]})]}),p.jsxs("div",{className:"auth-success",children:[p.jsx("div",{className:"success-icon",children:"✅"}),p.jsx("p",{children:"If you don't see the email, check your spam folder."})]}),p.jsx("div",{className:"auth-links",children:p.jsx(Ln,{to:"/login",className:"btn btn-primary",children:"Back to Sign In"})})]})}):p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Reset Password"}),p.jsx("p",{children:"Enter your email to receive a password reset link"})]}),p.jsxs("form",{onSubmit:v,className:"auth-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:e,onChange:y=>n(y.target.value),placeholder:"Enter your email",disabled:r,autoComplete:"email"})]}),c&&p.jsxs("div",{className:"auth-error",children:[p.jsx("span",{className:"error-icon",children:"⚠️"}),c]}),p.jsx("button",{type:"submit",className:"btn btn-primary auth-submit",disabled:r,children:r?"Sending...":"Send Reset Link"})]}),p.jsx("div",{className:"auth-links",children:p.jsx(Ln,{to:"/login",className:"auth-link",children:"Back to Sign In"})})]})})}class Uu extends De.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null,errorId:null}}static generateErrorId(){return`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorId:Uu.generateErrorId()}}componentDidCatch(n,r){this.setState({errorInfo:r,errorId:this.state.errorId||Uu.generateErrorId()}),qn(n,"ErrorBoundary"),this.logErrorToService(n,r)}logErrorToService(n,r){}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:null}),window.location.reload()};handleGoHome=()=>{window.location.href="/"};handleReportIssue=()=>{const n=encodeURIComponent(`App Error Report - ${this.state.errorId}`),r=encodeURIComponent(`
Error Report Details:
- Error ID: ${this.state.errorId}
- Error: ${this.state.error?.message||"Unknown error"}
- URL: ${window.location.href}
- User Agent: ${navigator.userAgent}
- Timestamp: ${new Date().toISOString()}

Please describe what you were doing when this error occurred:
    `);window.open(`mailto:support@company.com?subject=${n}&body=${r}`)};getErrorRecommendations=n=>{switch(j_(n)){case wr.CRITICAL:return p.jsxs("div",{className:"error-boundary__recommendation critical",children:[p.jsx("strong",{children:"Critical Error:"})," This is a serious issue. Please contact support immediately."]});case wr.HIGH:return p.jsxs("div",{className:"error-boundary__recommendation high",children:[p.jsx("strong",{children:"High Priority:"})," Please try refreshing the page or contact support if the problem persists."]});case wr.MEDIUM:return p.jsxs("div",{className:"error-boundary__recommendation medium",children:[p.jsx("strong",{children:"Medium Priority:"})," Try refreshing the page or navigating to a different section."]});case wr.LOW:return p.jsxs("div",{className:"error-boundary__recommendation low",children:[p.jsx("strong",{children:"Low Priority:"})," This error should resolve itself. Try continuing with your task."]});default:return null}};render(){return this.state.hasError?p.jsx("div",{className:"error-boundary",children:p.jsxs("div",{className:"error-boundary__container",children:[p.jsx("div",{className:"error-boundary__icon",children:"🚨"}),p.jsx("h1",{className:"error-boundary__title",children:"Oops! Something went wrong"}),p.jsx("p",{className:"error-boundary__message",children:"We're sorry, but something unexpected happened. Our team has been notified and is working to fix this issue."}),!1,p.jsxs("div",{className:"error-boundary__actions",children:[p.jsx("button",{onClick:this.handleRetry,className:"error-boundary__button error-boundary__button--primary",children:"🔄 Try Again"}),p.jsx("button",{onClick:this.handleGoHome,className:"error-boundary__button error-boundary__button--secondary",children:"🏠 Go to Home"}),p.jsx("button",{onClick:this.handleReportIssue,className:"error-boundary__button error-boundary__button--secondary",children:"📧 Report Issue"})]}),this.state.error&&p.jsx("div",{className:"error-boundary__recommendations",children:this.getErrorRecommendations(this.state.error)}),p.jsxs("div",{className:"error-boundary__footer",children:[p.jsxs("p",{className:"error-boundary__error-id",children:["Error ID: ",p.jsx("code",{children:this.state.errorId})]}),p.jsx("p",{className:"error-boundary__help",children:"If this problem persists, please contact support with the Error ID above."})]})]})}):this.props.children}}const GD=()=>{const{user:e,loading:n}=Hl();return n?p.jsx("div",{className:"auth-loading",children:p.jsxs("div",{className:"auth-loading__container",children:[p.jsx("div",{className:"auth-loading__spinner"}),p.jsx("p",{children:"Checking authentication..."})]})}):e?p.jsx(l_,{}):p.jsx(s_,{to:"/login",replace:!0})},YD=({message:e,type:n="info",isVisible:r,onClose:i,autoClose:l=!0,duration:o=5e3})=>{if(E.useEffect(()=>{if(l&&r){const h=setTimeout(()=>{i()},o);return()=>clearTimeout(h)}},[r,l,o,i]),!r)return null;const c="alert",f={success:"alert--success",error:"alert--error",warning:"alert--warning",info:"alert--info"};return p.jsx("div",{className:`${c} ${f[n]||f.info}`,children:p.jsxs("div",{className:"alert__content",children:[p.jsx("span",{className:"alert__message",children:e}),p.jsx("button",{onClick:i,className:"alert__close","aria-label":"Close",children:"×"})]})})},KD=({isOpen:e,title:n,message:r,onConfirm:i,onCancel:l,confirmText:o="Delete",cancelText:c="Cancel",type:f="danger"})=>{if(!e)return null;const h="confirm-dialog",m={danger:"confirm-dialog--danger",warning:"confirm-dialog--warning",info:"confirm-dialog--info"};return p.jsxs("div",{className:`${h} ${m[f]||m.danger}`,children:[p.jsx("div",{className:"confirm-dialog__overlay",onClick:l}),p.jsxs("div",{className:"confirm-dialog__content",children:[p.jsx("div",{className:"confirm-dialog__header",children:p.jsx("h3",{className:"confirm-dialog__title",children:n})}),p.jsx("div",{className:"confirm-dialog__body",children:p.jsx("p",{className:"confirm-dialog__message",children:r})}),p.jsxs("div",{className:"confirm-dialog__footer",children:[p.jsx("button",{onClick:l,className:"confirm-dialog__button confirm-dialog__button--secondary",children:c}),p.jsx("button",{onClick:i,className:"confirm-dialog__button confirm-dialog__button--primary",children:o})]})]})]})},XD=()=>{const{alert:e,hideAlert:n,confirmDialog:r,hideConfirmDialog:i}=Ne(),{cleanup:l}=Zr();return E.useEffect(()=>()=>{l()},[l]),p.jsxs("div",{className:"main-content",children:[p.jsx(HT,{}),p.jsx("div",{className:"page-container",children:p.jsx("main",{children:p.jsx(l_,{})})}),p.jsx(YD,{message:e.message,type:e.type,isVisible:e.isVisible,onClose:n}),p.jsx(KD,{isOpen:r.isOpen,title:r.title,message:r.message,onConfirm:()=>{r.onConfirm?.(),i()},onCancel:i,type:r.type})]})};function WD(){return p.jsx(Uu,{children:p.jsxs(BS,{children:[p.jsx(Sn,{path:"/login",element:p.jsx(BD,{})}),p.jsx(Sn,{path:"/signup",element:p.jsx(VD,{})}),p.jsx(Sn,{path:"/forgot-password",element:p.jsx(qD,{})}),p.jsx(Sn,{path:"/",element:p.jsx(GD,{}),children:p.jsxs(Sn,{element:p.jsx(XD,{}),children:[p.jsx(Sn,{index:!0,element:p.jsx($D,{})}),p.jsx(Sn,{path:"machinery",element:p.jsx(nO,{})}),p.jsx(Sn,{path:"machinery/:machineId/calendar",element:p.jsx(sO,{})}),p.jsx(Sn,{path:"phases",element:p.jsx(oO,{})}),p.jsx(Sn,{path:"backlog",element:p.jsx(cO,{})}),p.jsx(Sn,{path:"scheduler",element:p.jsx(ID,{})})]})}),p.jsx(Sn,{path:"*",element:p.jsx(s_,{to:"/",replace:!0})})]})})}const QD="/flexi/";Ww.createRoot(document.getElementById("root")).render(p.jsx(De.StrictMode,{children:p.jsx(fE,{basename:QD,children:p.jsx(AR,{children:p.jsx(WD,{})})})}));export{De as R,Nt as a,l1 as b,ga as c,s1 as d,Ji as e,r1 as f,a1 as g,i1 as i,p as j,E as r,Gt as t,Ne as u};
